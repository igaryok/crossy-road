!function(t){var e={};function r(i){if(e[i])return e[i].exports;var n=e[i]={i:i,l:!1,exports:{}};return t[i].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=e,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(i,n,function(e){return t[e]}.bind(null,n));return i},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=7)}([function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}();function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=function(){function t(e,r,i){void 0===r&&(r=!1),n(this,t),this._fn=e,this._once=r,this._thisArg=i,this._next=this._prev=this._owner=null}return i(t,[{key:"detach",value:function(){return null!==this._owner&&(this._owner.detach(this),!0)}}]),t}();function s(t,e){return t._head?(t._tail._next=e,e._prev=t._tail,t._tail=e):(t._head=e,t._tail=e),e._owner=t,e}var a=function(){function t(){n(this,t),this._head=this._tail=void 0}return i(t,[{key:"handlers",value:function(){var t=!(arguments.length<=0||void 0===arguments[0])&&arguments[0],e=this._head;if(t)return!!e;for(var r=[];e;)r.push(e),e=e._next;return r}},{key:"has",value:function(t){if(!(t instanceof o))throw new Error("MiniSignal#has(): First arg must be a MiniSignalBinding object.");return t._owner===this}},{key:"dispatch",value:function(){var t=this._head;if(!t)return!1;for(;t;)t._once&&this.detach(t),t._fn.apply(t._thisArg,arguments),t=t._next;return!0}},{key:"add",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof t)throw new Error("MiniSignal#add(): First arg must be a Function.");return s(this,new o(t,!1,e))}},{key:"once",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof t)throw new Error("MiniSignal#once(): First arg must be a Function.");return s(this,new o(t,!0,e))}},{key:"detach",value:function(t){if(!(t instanceof o))throw new Error("MiniSignal#detach(): First arg must be a MiniSignalBinding object.");return t._owner!==this?this:(t._prev&&(t._prev._next=t._next),t._next&&(t._next._prev=t._prev),t===this._head?(this._head=t._next,null===t._next&&(this._tail=null)):t===this._tail&&(this._tail=t._prev,this._tail._next=null),t._owner=null,this)}},{key:"detachAll",value:function(){var t=this._head;if(!t)return this;for(this._head=this._tail=null;t;)t._owner=null,t=t._next;return this}}]),t}();a.MiniSignalBinding=o,e.default=a,t.exports=e.default},function(t,e,r){var i,n,o;!function(r){var s=/iPhone/i,a=/iPod/i,h=/iPad/i,u=/\bAndroid(?:.+)Mobile\b/i,l=/Android/i,c=/\bAndroid(?:.+)SD4930UR\b/i,d=/\bAndroid(?:.+)(?:KF[A-Z]{2,4})\b/i,p=/Windows Phone/i,f=/\bWindows(?:.+)ARM\b/i,m=/BlackBerry/i,v=/BB10/i,g=/Opera Mini/i,y=/\b(CriOS|Chrome)(?:.+)Mobile/i,_=/Mobile(?:.+)Firefox\b/i;function x(t,e){return t.test(e)}function b(t){var e=t||("undefined"!=typeof navigator?navigator.userAgent:""),r=e.split("[FBAN");void 0!==r[1]&&(e=r[0]),void 0!==(r=e.split("Twitter"))[1]&&(e=r[0]);var i={apple:{phone:x(s,e)&&!x(p,e),ipod:x(a,e),tablet:!x(s,e)&&x(h,e)&&!x(p,e),device:(x(s,e)||x(a,e)||x(h,e))&&!x(p,e)},amazon:{phone:x(c,e),tablet:!x(c,e)&&x(d,e),device:x(c,e)||x(d,e)},android:{phone:!x(p,e)&&x(c,e)||!x(p,e)&&x(u,e),tablet:!x(p,e)&&!x(c,e)&&!x(u,e)&&(x(d,e)||x(l,e)),device:!x(p,e)&&(x(c,e)||x(d,e)||x(u,e)||x(l,e))||x(/\bokhttp\b/i,e)},windows:{phone:x(p,e),tablet:x(f,e),device:x(p,e)||x(f,e)},other:{blackberry:x(m,e),blackberry10:x(v,e),opera:x(g,e),firefox:x(_,e),chrome:x(y,e),device:x(m,e)||x(v,e)||x(g,e)||x(_,e)||x(y,e)}};return i.any=i.apple.device||i.android.device||i.windows.device||i.other.device,i.phone=i.apple.phone||i.android.phone||i.windows.phone,i.tablet=i.apple.tablet||i.android.tablet||i.windows.tablet,i}t.exports&&"undefined"==typeof window?t.exports=b:t.exports&&"undefined"!=typeof window?(t.exports=b(),t.exports.isMobile=b):(n=[],i=r.isMobile=b(),void 0===(o="function"==typeof i?i.apply(e,n):i)||(t.exports=o))}(this)},function(t,e,r){"use strict";r.r(e);var i={};r.r(i),r.d(i,"isMobile",(function(){return u.a})),r.d(i,"EventEmitter",(function(){return S.a})),r.d(i,"earcut",(function(){return A.a})),r.d(i,"url",(function(){return C.a})),r.d(i,"BaseTextureCache",(function(){return et})),r.d(i,"CanvasRenderTarget",(function(){return ot})),r.d(i,"DATA_URI",(function(){return ht})),r.d(i,"ProgramCache",(function(){return $})),r.d(i,"TextureCache",(function(){return tt})),r.d(i,"clearTextureCache",(function(){return it})),r.d(i,"correctBlendMode",(function(){return j})),r.d(i,"createIndicesForQuads",(function(){return V})),r.d(i,"decomposeDataUri",(function(){return ut})),r.d(i,"deprecation",(function(){return pt})),r.d(i,"destroyTextureCache",(function(){return rt})),r.d(i,"determineCrossOrigin",(function(){return lt})),r.d(i,"getResolutionOfUrl",(function(){return ct})),r.d(i,"hex2rgb",(function(){return N})),r.d(i,"hex2string",(function(){return B})),r.d(i,"isPow2",(function(){return J})),r.d(i,"isWebGLSupported",(function(){return F})),r.d(i,"log2",(function(){return Q})),r.d(i,"nextPow2",(function(){return K})),r.d(i,"premultiplyBlendMode",(function(){return X})),r.d(i,"premultiplyRgba",(function(){return G})),r.d(i,"premultiplyTint",(function(){return H})),r.d(i,"premultiplyTintToRgba",(function(){return z})),r.d(i,"removeItems",(function(){return Y})),r.d(i,"rgb2hex",(function(){return k})),r.d(i,"sayHello",(function(){return L})),r.d(i,"sign",(function(){return Z})),r.d(i,"skipHello",(function(){return R})),r.d(i,"string2hex",(function(){return U})),r.d(i,"trimCanvas",(function(){return nt})),r.d(i,"uid",(function(){return q}));var n={};r.r(n),r.d(n,"AccessibilityManager",(function(){return Xt})),r.d(n,"accessibleTarget",(function(){return kt}));var o={};r.r(o),r.d(o,"Extract",(function(){return ii}));var s={};r.r(s),r.d(s,"InteractionData",(function(){return ni})),r.d(s,"InteractionEvent",(function(){return si})),r.d(s,"InteractionManager",(function(){return di})),r.d(s,"InteractionTrackingData",(function(){return ai})),r.d(s,"interactiveTarget",(function(){return li}));var a={};r.r(a),r.d(a,"BasePrepare",(function(){return en})),r.d(a,"CountLimiter",(function(){return tn})),r.d(a,"Prepare",(function(){return ln})),r.d(a,"TimeLimiter",(function(){return fn}));r(12);var h=r(1),u=r.n(h);var l,c,d,p,f,m,v,g,y,_,x,b,T,w,E={MIPMAP_TEXTURES:1,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,SPRITE_MAX_TEXTURES:
/*!
 * @pixi/settings - v5.2.0
 * Compiled Wed, 06 Nov 2019 02:32:43 UTC
 *
 * @pixi/settings is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
function(t){var e=!0;if(u.a.tablet||u.a.phone){if(e=!1,u.a.apple.device){var r=navigator.userAgent.match(/OS (\d+)_(\d+)?/);if(r)parseInt(r[1],10)>=11&&(e=!0)}if(u.a.android.device){var i=navigator.userAgent.match(/Android\s([0-9.]*)/);if(i)parseInt(i[1],10)>=7&&(e=!0)}}return e?t:4}(32),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,antialias:!1,forceFXAA:!1,autoDensity:!1,transparent:!1,backgroundColor:0,clearBeforeRender:!0,preserveDrawingBuffer:!1,width:800,height:600,legacy:!1},GC_MODE:0,GC_MAX_IDLE:3600,GC_MAX_CHECK_COUNT:600,WRAP_MODE:33071,SCALE_MODE:1,PRECISION_VERTEX:"highp",PRECISION_FRAGMENT:u.a.apple.device?"highp":"mediump",CAN_UPLOAD_SAME_BUFFER:!u.a.apple.device,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1},I=r(8),S=r.n(I),P=r(9),A=r.n(P),O=r(5),C=r.n(O);!function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"}(l||(l={})),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"}(c||(c={})),function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"}(d||(d={})),function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"}(p||(p={})),function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"}(f||(f={})),function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"}(m||(m={})),function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.FLOAT=5126]="FLOAT",t[t.HALF_FLOAT=36193]="HALF_FLOAT"}(v||(v={})),function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"}(g||(g={})),function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"}(y||(y={})),function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON"}(_||(_={})),function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA"}(x||(x={})),function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"}(b||(b={})),function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"}(T||(T={})),function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE"}(w||(w={})),
/*!
 * @pixi/utils - v5.2.0
 * Compiled Wed, 06 Nov 2019 02:32:43 UTC
 *
 * @pixi/utils is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
E.RETINA_PREFIX=/@([0-9\.]+)x/,E.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!0;var M,D=!1;function R(){D=!0}function L(t){if(!D){if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var e=["\n %c %c %c PixiJS 5.2.0 - ✰ "+t+" ✰  %c  %c  http://www.pixijs.com/  %c %c ♥%c♥%c♥ \n\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];window.console.log.apply(console,e)}else window.console&&window.console.log("PixiJS 5.2.0 - "+t+" - http://www.pixijs.com/");D=!0}}function F(){return void 0===M&&(M=function(){var t={stencil:!0,failIfMajorPerformanceCaveat:E.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!window.WebGLRenderingContext)return!1;var e=document.createElement("canvas"),r=e.getContext("webgl",t)||e.getContext("experimental-webgl",t),i=!(!r||!r.getContextAttributes().stencil);if(r){var n=r.getExtension("WEBGL_lose_context");n&&n.loseContext()}return r=null,i}catch(t){return!1}}()),M}function N(t,e){return(e=e||[])[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(255&t)/255,e}function B(t){return t=t.toString(16),"#"+(t="000000".substr(0,6-t.length)+t)}function U(t){return"string"==typeof t&&"#"===t[0]&&(t=t.substr(1)),parseInt(t,16)}function k(t){return(255*t[0]<<16)+(255*t[1]<<8)+(255*t[2]|0)}var X=function(){for(var t=[],e=[],r=0;r<32;r++)t[r]=r,e[r]=r;t[d.NORMAL_NPM]=d.NORMAL,t[d.ADD_NPM]=d.ADD,t[d.SCREEN_NPM]=d.SCREEN,e[d.NORMAL]=d.NORMAL_NPM,e[d.ADD]=d.ADD_NPM,e[d.SCREEN]=d.SCREEN_NPM;var i=[];return i.push(e),i.push(t),i}();function j(t,e){return X[e?1:0][t]}function G(t,e,r,i){return r=r||new Float32Array(4),i||void 0===i?(r[0]=t[0]*e,r[1]=t[1]*e,r[2]=t[2]*e):(r[0]=t[0],r[1]=t[1],r[2]=t[2]),r[3]=e,r}function H(t,e){if(1===e)return(255*e<<24)+t;if(0===e)return 0;var r=t>>16&255,i=t>>8&255,n=255&t;return(255*e<<24)+((r=r*e+.5|0)<<16)+((i=i*e+.5|0)<<8)+(n=n*e+.5|0)}function z(t,e,r,i){return(r=r||new Float32Array(4))[0]=(t>>16&255)/255,r[1]=(t>>8&255)/255,r[2]=(255&t)/255,(i||void 0===i)&&(r[0]*=e,r[1]*=e,r[2]*=e),r[3]=e,r}function V(t,e){void 0===e&&(e=null);var r=6*t;if((e=e||new Uint16Array(r)).length!==r)throw new Error("Out buffer length is incorrect, got "+e.length+" and expected "+r);for(var i=0,n=0;i<r;i+=6,n+=4)e[i+0]=n+0,e[i+1]=n+1,e[i+2]=n+2,e[i+3]=n+0,e[i+4]=n+2,e[i+5]=n+3;return e}function Y(t,e,r){var i,n=t.length;if(!(e>=n||0===r)){var o=n-(r=e+r>n?n-e:r);for(i=e;i<o;++i)t[i]=t[i+r];t.length=o}}var W=0;function q(){return++W}function Z(t){return 0===t?0:t<0?-1:1}function K(t){return t+=0===t,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,(t|=t>>>16)+1}function J(t){return!(t&t-1||!t)}function Q(t){var e=(t>65535)<<4,r=((t>>>=e)>255)<<3;return e|=r,e|=r=((t>>>=r)>15)<<2,(e|=r=((t>>>=r)>3)<<1)|(t>>>=r)>>1}var $={},tt=Object.create(null),et=Object.create(null);function rt(){var t;for(t in tt)tt[t].destroy();for(t in et)et[t].destroy()}function it(){var t;for(t in tt)delete tt[t];for(t in et)delete et[t]}function nt(t){var e,r,i,n=t.width,o=t.height,s=t.getContext("2d"),a=s.getImageData(0,0,n,o).data,h=a.length,u={top:null,left:null,right:null,bottom:null},l=null;for(e=0;e<h;e+=4)0!==a[e+3]&&(r=e/4%n,i=~~(e/4/n),null===u.top&&(u.top=i),null===u.left?u.left=r:r<u.left&&(u.left=r),null===u.right?u.right=r+1:u.right<r&&(u.right=r+1),null===u.bottom?u.bottom=i:u.bottom<i&&(u.bottom=i));return null!==u.top&&(n=u.right-u.left,o=u.bottom-u.top+1,l=s.getImageData(u.left,u.top,n,o)),{height:o,width:n,data:l}}var ot=function(t,e,r){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=r||E.RESOLUTION,this.resize(t,e)},st={width:{configurable:!0},height:{configurable:!0}};ot.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},ot.prototype.resize=function(t,e){this.canvas.width=t*this.resolution,this.canvas.height=e*this.resolution},ot.prototype.destroy=function(){this.context=null,this.canvas=null},st.width.get=function(){return this.canvas.width},st.width.set=function(t){this.canvas.width=t},st.height.get=function(){return this.canvas.height},st.height.set=function(t){this.canvas.height=t},Object.defineProperties(ot.prototype,st);var at,ht=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i;function ut(t){var e=ht.exec(t);if(e)return{mediaType:e[1]?e[1].toLowerCase():void 0,subType:e[2]?e[2].toLowerCase():void 0,charset:e[3]?e[3].toLowerCase():void 0,encoding:e[4]?e[4].toLowerCase():void 0,data:e[5]}}function lt(t,e){if(void 0===e&&(e=window.location),0===t.indexOf("data:"))return"";e=e||window.location,at||(at=document.createElement("a")),at.href=t;var r=!(t=C.a.parse(at.href)).port&&""===e.port||t.port===e.port;return t.hostname===e.hostname&&r&&t.protocol===e.protocol?"":"anonymous"}function ct(t,e){var r=E.RETINA_PREFIX.exec(t);return r?parseFloat(r[1]):void 0!==e?e:1}var dt={};function pt(t,e,r){if(void 0===r&&(r=3),!dt[e]){var i=(new Error).stack;void 0===i?console.warn("PixiJS Deprecation Warning: ",e+"\nDeprecated since v"+t):(i=i.split("\n").splice(r).join("\n"),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",e+"\nDeprecated since v"+t),console.warn(i),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",e+"\nDeprecated since v"+t),console.warn(i))),dt[e]=!0}}
/*!
 * @pixi/math - v5.2.0
 * Compiled Wed, 06 Nov 2019 02:32:43 UTC
 *
 * @pixi/math is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var ft,mt=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=t,this.y=e}return t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.copyFrom=function(t){return this.set(t.x,t.y),this},t.prototype.copyTo=function(t){return t.set(this.x,this.y),t},t.prototype.equals=function(t){return t.x===this.x&&t.y===this.y},t.prototype.set=function(t,e){void 0===t&&(t=0),void 0===e&&(e=t),this.x=t,this.y=e},t}(),vt=function(){function t(t,e,r,i){void 0===r&&(r=0),void 0===i&&(i=0),this._x=r,this._y=i,this.cb=t,this.scope=e}return t.prototype.clone=function(e,r){return void 0===e&&(e=this.cb),void 0===r&&(r=this.scope),new t(e,r,this._x,this._y)},t.prototype.set=function(t,e){void 0===t&&(t=0),void 0===e&&(e=t),this._x===t&&this._y===e||(this._x=t,this._y=e,this.cb.call(this.scope))},t.prototype.copyFrom=function(t){return this._x===t.x&&this._y===t.y||(this._x=t.x,this._y=t.y,this.cb.call(this.scope)),this},t.prototype.copyTo=function(t){return t.set(this._x,this._y),t},t.prototype.equals=function(t){return t.x===this._x&&t.y===this._y},Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(t){this._x!==t&&(this._x=t,this.cb.call(this.scope))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(t){this._y!==t&&(this._y=t,this.cb.call(this.scope))},enumerable:!0,configurable:!0}),t}(),gt=2*Math.PI,yt=180/Math.PI,_t=Math.PI/180;!function(t){t[t.POLY=0]="POLY",t[t.RECT=1]="RECT",t[t.CIRC=2]="CIRC",t[t.ELIP=3]="ELIP",t[t.RREC=4]="RREC"}(ft||(ft={}));var xt=function(){function t(t,e,r,i,n,o){void 0===t&&(t=1),void 0===e&&(e=0),void 0===r&&(r=0),void 0===i&&(i=1),void 0===n&&(n=0),void 0===o&&(o=0),this.array=null,this.a=t,this.b=e,this.c=r,this.d=i,this.tx=n,this.ty=o}return t.prototype.fromArray=function(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]},t.prototype.set=function(t,e,r,i,n,o){return this.a=t,this.b=e,this.c=r,this.d=i,this.tx=n,this.ty=o,this},t.prototype.toArray=function(t,e){this.array||(this.array=new Float32Array(9));var r=e||this.array;return t?(r[0]=this.a,r[1]=this.b,r[2]=0,r[3]=this.c,r[4]=this.d,r[5]=0,r[6]=this.tx,r[7]=this.ty,r[8]=1):(r[0]=this.a,r[1]=this.c,r[2]=this.tx,r[3]=this.b,r[4]=this.d,r[5]=this.ty,r[6]=0,r[7]=0,r[8]=1),r},t.prototype.apply=function(t,e){e=e||new mt;var r=t.x,i=t.y;return e.x=this.a*r+this.c*i+this.tx,e.y=this.b*r+this.d*i+this.ty,e},t.prototype.applyInverse=function(t,e){e=e||new mt;var r=1/(this.a*this.d+this.c*-this.b),i=t.x,n=t.y;return e.x=this.d*r*i+-this.c*r*n+(this.ty*this.c-this.tx*this.d)*r,e.y=this.a*r*n+-this.b*r*i+(-this.ty*this.a+this.tx*this.b)*r,e},t.prototype.translate=function(t,e){return this.tx+=t,this.ty+=e,this},t.prototype.scale=function(t,e){return this.a*=t,this.d*=e,this.c*=t,this.b*=e,this.tx*=t,this.ty*=e,this},t.prototype.rotate=function(t){var e=Math.cos(t),r=Math.sin(t),i=this.a,n=this.c,o=this.tx;return this.a=i*e-this.b*r,this.b=i*r+this.b*e,this.c=n*e-this.d*r,this.d=n*r+this.d*e,this.tx=o*e-this.ty*r,this.ty=o*r+this.ty*e,this},t.prototype.append=function(t){var e=this.a,r=this.b,i=this.c,n=this.d;return this.a=t.a*e+t.b*i,this.b=t.a*r+t.b*n,this.c=t.c*e+t.d*i,this.d=t.c*r+t.d*n,this.tx=t.tx*e+t.ty*i+this.tx,this.ty=t.tx*r+t.ty*n+this.ty,this},t.prototype.setTransform=function(t,e,r,i,n,o,s,a,h){return this.a=Math.cos(s+h)*n,this.b=Math.sin(s+h)*n,this.c=-Math.sin(s-a)*o,this.d=Math.cos(s-a)*o,this.tx=t-(r*this.a+i*this.c),this.ty=e-(r*this.b+i*this.d),this},t.prototype.prepend=function(t){var e=this.tx;if(1!==t.a||0!==t.b||0!==t.c||1!==t.d){var r=this.a,i=this.c;this.a=r*t.a+this.b*t.c,this.b=r*t.b+this.b*t.d,this.c=i*t.a+this.d*t.c,this.d=i*t.b+this.d*t.d}return this.tx=e*t.a+this.ty*t.c+t.tx,this.ty=e*t.b+this.ty*t.d+t.ty,this},t.prototype.decompose=function(t){var e=this.a,r=this.b,i=this.c,n=this.d,o=-Math.atan2(-i,n),s=Math.atan2(r,e),a=Math.abs(o+s);return a<1e-5||Math.abs(gt-a)<1e-5?(t.rotation=s,t.skew.x=t.skew.y=0):(t.rotation=0,t.skew.x=o,t.skew.y=s),t.scale.x=Math.sqrt(e*e+r*r),t.scale.y=Math.sqrt(i*i+n*n),t.position.x=this.tx,t.position.y=this.ty,t},t.prototype.invert=function(){var t=this.a,e=this.b,r=this.c,i=this.d,n=this.tx,o=t*i-e*r;return this.a=i/o,this.b=-e/o,this.c=-r/o,this.d=t/o,this.tx=(r*this.ty-i*n)/o,this.ty=-(t*this.ty-e*n)/o,this},t.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},t.prototype.clone=function(){var e=new t;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e},t.prototype.copyTo=function(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},t.prototype.copyFrom=function(t){return this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty,this},Object.defineProperty(t,"IDENTITY",{get:function(){return new t},enumerable:!0,configurable:!0}),Object.defineProperty(t,"TEMP_MATRIX",{get:function(){return new t},enumerable:!0,configurable:!0}),t}(),bt=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],Tt=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],wt=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],Et=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],It=[],St=[],Pt=Math.sign;!function(){for(var t=0;t<16;t++){var e=[];It.push(e);for(var r=0;r<16;r++)for(var i=Pt(bt[t]*bt[r]+wt[t]*Tt[r]),n=Pt(Tt[t]*bt[r]+Et[t]*Tt[r]),o=Pt(bt[t]*wt[r]+wt[t]*Et[r]),s=Pt(Tt[t]*wt[r]+Et[t]*Et[r]),a=0;a<16;a++)if(bt[a]===i&&Tt[a]===n&&wt[a]===o&&Et[a]===s){e.push(a);break}}for(t=0;t<16;t++){var h=new xt;h.set(bt[t],Tt[t],wt[t],Et[t],0,0),St.push(h)}}();var At={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:function(t){return bt[t]},uY:function(t){return Tt[t]},vX:function(t){return wt[t]},vY:function(t){return Et[t]},inv:function(t){return 8&t?15&t:7&-t},add:function(t,e){return It[t][e]},sub:function(t,e){return It[t][At.inv(e)]},rotate180:function(t){return 4^t},isVertical:function(t){return 2==(3&t)},byDirection:function(t,e){return 2*Math.abs(t)<=Math.abs(e)?e>=0?At.S:At.N:2*Math.abs(e)<=Math.abs(t)?t>0?At.E:At.W:e>0?t>0?At.SE:At.SW:t>0?At.NE:At.NW},matrixAppendRotationInv:function(t,e,r,i){void 0===r&&(r=0),void 0===i&&(i=0);var n=St[At.inv(e)];n.tx=r,n.ty=i,t.append(n)}},Ot=function(){function t(){this.worldTransform=new xt,this.localTransform=new xt,this.position=new vt(this.onChange,this,0,0),this.scale=new vt(this.onChange,this,1,1),this.pivot=new vt(this.onChange,this,0,0),this.skew=new vt(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}return t.prototype.onChange=function(){this._localID++},t.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++},t.prototype.updateLocalTransform=function(){var t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1)},t.prototype.updateTransform=function(t){var e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){var r=t.worldTransform,i=this.worldTransform;i.a=e.a*r.a+e.b*r.c,i.b=e.a*r.b+e.b*r.d,i.c=e.c*r.a+e.d*r.c,i.d=e.c*r.b+e.d*r.d,i.tx=e.tx*r.a+e.ty*r.c+r.tx,i.ty=e.tx*r.b+e.ty*r.d+r.ty,this._parentID=t._worldID,this._worldID++}},t.prototype.setFromMatrix=function(t){t.decompose(this),this._localID++},Object.defineProperty(t.prototype,"rotation",{get:function(){return this._rotation},set:function(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())},enumerable:!0,configurable:!0}),t.IDENTITY=new t,t}(),Ct=function(){function t(t,e,r,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=0),void 0===i&&(i=0),this.x=Number(t),this.y=Number(e),this.width=Number(r),this.height=Number(i),this.type=ft.RECT}return Object.defineProperty(t.prototype,"left",{get:function(){return this.x},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){return this.x+this.width},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"top",{get:function(){return this.y},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!0,configurable:!0}),Object.defineProperty(t,"EMPTY",{get:function(){return new t(0,0,0,0)},enumerable:!0,configurable:!0}),t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.copyFrom=function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this},t.prototype.copyTo=function(t){return t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t},t.prototype.contains=function(t,e){return!(this.width<=0||this.height<=0)&&(t>=this.x&&t<this.x+this.width&&e>=this.y&&e<this.y+this.height)},t.prototype.pad=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.x-=t,this.y-=e,this.width+=2*t,this.height+=2*e,this},t.prototype.fit=function(t){var e=Math.max(this.x,t.x),r=Math.min(this.x+this.width,t.x+t.width),i=Math.max(this.y,t.y),n=Math.min(this.y+this.height,t.y+t.height);return this.x=e,this.width=Math.max(r-e,0),this.y=i,this.height=Math.max(n-i,0),this},t.prototype.ceil=function(t,e){void 0===t&&(t=1),void 0===e&&(e=.001);var r=Math.ceil((this.x+this.width-e)*t)/t,i=Math.ceil((this.y+this.height-e)*t)/t;return this.x=Math.floor((this.x+e)*t)/t,this.y=Math.floor((this.y+e)*t)/t,this.width=r-this.x,this.height=i-this.y,this},t.prototype.enlarge=function(t){var e=Math.min(this.x,t.x),r=Math.max(this.x+this.width,t.x+t.width),i=Math.min(this.y,t.y),n=Math.max(this.y+this.height,t.y+t.height);return this.x=e,this.width=r-e,this.y=i,this.height=n-i,this},t}(),Mt=function(){function t(t,e,r){void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=0),this.x=t,this.y=e,this.radius=r,this.type=ft.CIRC}return t.prototype.clone=function(){return new t(this.x,this.y,this.radius)},t.prototype.contains=function(t,e){if(this.radius<=0)return!1;var r=this.radius*this.radius,i=this.x-t,n=this.y-e;return(i*=i)+(n*=n)<=r},t.prototype.getBounds=function(){return new Ct(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)},t}(),Dt=function(){function t(t,e,r,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=0),void 0===i&&(i=0),this.x=t,this.y=e,this.width=r,this.height=i,this.type=ft.ELIP}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;var r=(t-this.x)/this.width,i=(e-this.y)/this.height;return(r*=r)+(i*=i)<=1},t.prototype.getBounds=function(){return new Ct(this.x-this.width,this.y-this.height,this.width,this.height)},t}(),Rt=function(){function t(){for(var t=arguments,e=[],r=0;r<arguments.length;r++)e[r]=t[r];if(Array.isArray(e[0])&&(e=e[0]),e[0]instanceof mt){for(var i=[],n=0,o=(e=e).length;n<o;n++)i.push(e[n].x,e[n].y);e=i}this.points=e,this.type=ft.POLY,this.closeStroke=!0}return t.prototype.clone=function(){var e=new t(this.points.slice());return e.closeStroke=this.closeStroke,e},t.prototype.contains=function(t,e){for(var r=!1,i=this.points.length/2,n=0,o=i-1;n<i;o=n++){var s=this.points[2*n],a=this.points[2*n+1],h=this.points[2*o],u=this.points[2*o+1];a>e!=u>e&&t<(e-a)/(u-a)*(h-s)+s&&(r=!r)}return r},t}(),Lt=function(){function t(t,e,r,i,n){void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=0),void 0===i&&(i=0),void 0===n&&(n=20),this.x=t,this.y=e,this.width=r,this.height=i,this.radius=n,this.type=ft.RREC}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height,this.radius)},t.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;if(t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height){if(e>=this.y+this.radius&&e<=this.y+this.height-this.radius||t>=this.x+this.radius&&t<=this.x+this.width-this.radius)return!0;var r=t-(this.x+this.radius),i=e-(this.y+this.radius),n=this.radius*this.radius;if(r*r+i*i<=n)return!0;if((r=t-(this.x+this.width-this.radius))*r+i*i<=n)return!0;if(r*r+(i=e-(this.y+this.height-this.radius))*i<=n)return!0;if((r=t-(this.x+this.radius))*r+i*i<=n)return!0}return!1},t}();
/*!
 * @pixi/display - v5.2.0
 * Compiled Wed, 06 Nov 2019 02:32:43 UTC
 *
 * @pixi/display is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
E.SORTABLE_CHILDREN=!1;var Ft=function(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null};Ft.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},Ft.prototype.clear=function(){this.updateID++,this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},Ft.prototype.getRectangle=function(t){return this.minX>this.maxX||this.minY>this.maxY?Ct.EMPTY:((t=t||new Ct(0,0,1,1)).x=this.minX,t.y=this.minY,t.width=this.maxX-this.minX,t.height=this.maxY-this.minY,t)},Ft.prototype.addPoint=function(t){this.minX=Math.min(this.minX,t.x),this.maxX=Math.max(this.maxX,t.x),this.minY=Math.min(this.minY,t.y),this.maxY=Math.max(this.maxY,t.y)},Ft.prototype.addQuad=function(t){var e=this.minX,r=this.minY,i=this.maxX,n=this.maxY,o=t[0],s=t[1];e=o<e?o:e,r=s<r?s:r,i=o>i?o:i,n=s>n?s:n,e=(o=t[2])<e?o:e,r=(s=t[3])<r?s:r,i=o>i?o:i,n=s>n?s:n,e=(o=t[4])<e?o:e,r=(s=t[5])<r?s:r,i=o>i?o:i,n=s>n?s:n,e=(o=t[6])<e?o:e,r=(s=t[7])<r?s:r,i=o>i?o:i,n=s>n?s:n,this.minX=e,this.minY=r,this.maxX=i,this.maxY=n},Ft.prototype.addFrame=function(t,e,r,i,n){this.addFrameMatrix(t.worldTransform,e,r,i,n)},Ft.prototype.addFrameMatrix=function(t,e,r,i,n){var o=t.a,s=t.b,a=t.c,h=t.d,u=t.tx,l=t.ty,c=this.minX,d=this.minY,p=this.maxX,f=this.maxY,m=o*e+a*r+u,v=s*e+h*r+l;c=m<c?m:c,d=v<d?v:d,p=m>p?m:p,f=v>f?v:f,c=(m=o*i+a*r+u)<c?m:c,d=(v=s*i+h*r+l)<d?v:d,p=m>p?m:p,f=v>f?v:f,c=(m=o*e+a*n+u)<c?m:c,d=(v=s*e+h*n+l)<d?v:d,p=m>p?m:p,f=v>f?v:f,c=(m=o*i+a*n+u)<c?m:c,d=(v=s*i+h*n+l)<d?v:d,p=m>p?m:p,f=v>f?v:f,this.minX=c,this.minY=d,this.maxX=p,this.maxY=f},Ft.prototype.addVertexData=function(t,e,r){for(var i=this.minX,n=this.minY,o=this.maxX,s=this.maxY,a=e;a<r;a+=2){var h=t[a],u=t[a+1];i=h<i?h:i,n=u<n?u:n,o=h>o?h:o,s=u>s?u:s}this.minX=i,this.minY=n,this.maxX=o,this.maxY=s},Ft.prototype.addVertices=function(t,e,r,i){this.addVerticesMatrix(t.worldTransform,e,r,i)},Ft.prototype.addVerticesMatrix=function(t,e,r,i,n,o){var s=t.a,a=t.b,h=t.c,u=t.d,l=t.tx,c=t.ty;n=n||0,o=o||0;for(var d=this.minX,p=this.minY,f=this.maxX,m=this.maxY,v=r;v<i;v+=2){var g=e[v],y=e[v+1],_=s*g+h*y+l,x=u*y+a*g+c;d=Math.min(d,_-n),f=Math.max(f,_+n),p=Math.min(p,x-o),m=Math.max(m,x+o)}this.minX=d,this.minY=p,this.maxX=f,this.maxY=m},Ft.prototype.addBounds=function(t){var e=this.minX,r=this.minY,i=this.maxX,n=this.maxY;this.minX=t.minX<e?t.minX:e,this.minY=t.minY<r?t.minY:r,this.maxX=t.maxX>i?t.maxX:i,this.maxY=t.maxY>n?t.maxY:n},Ft.prototype.addBoundsMask=function(t,e){var r=t.minX>e.minX?t.minX:e.minX,i=t.minY>e.minY?t.minY:e.minY,n=t.maxX<e.maxX?t.maxX:e.maxX,o=t.maxY<e.maxY?t.maxY:e.maxY;if(r<=n&&i<=o){var s=this.minX,a=this.minY,h=this.maxX,u=this.maxY;this.minX=r<s?r:s,this.minY=i<a?i:a,this.maxX=n>h?n:h,this.maxY=o>u?o:u}},Ft.prototype.addBoundsMatrix=function(t,e){this.addFrameMatrix(e,t.minX,t.minY,t.maxX,t.maxY)},Ft.prototype.addBoundsArea=function(t,e){var r=t.minX>e.x?t.minX:e.x,i=t.minY>e.y?t.minY:e.y,n=t.maxX<e.x+e.width?t.maxX:e.x+e.width,o=t.maxY<e.y+e.height?t.maxY:e.y+e.height;if(r<=n&&i<=o){var s=this.minX,a=this.minY,h=this.maxX,u=this.maxY;this.minX=r<s?r:s,this.minY=i<a?i:a,this.maxX=n>h?n:h,this.maxY=o>u?o:u}},Ft.prototype.pad=function(t,e){t=t||0,e=e||(0!==e?t:0),this.isEmpty()||(this.minX-=t,this.maxX+=t,this.minY-=e,this.maxY+=e)},Ft.prototype.addFramePad=function(t,e,r,i,n,o){t-=n,e-=o,r+=n,i+=o,this.minX=this.minX<t?this.minX:t,this.maxX=this.maxX>r?this.maxX:r,this.minY=this.minY<e?this.minY:e,this.maxY=this.maxY>i?this.maxY:i};var Nt=function(t){function e(){t.call(this),this.tempDisplayObjectParent=null,this.transform=new Ot,this.alpha=1,this.visible=!0,this.renderable=!0,this.parent=null,this.worldAlpha=1,this._lastSortedIndex=0,this._zIndex=0,this.filterArea=null,this.filters=null,this._enabledFilters=null,this._bounds=new Ft,this._boundsID=0,this._lastBoundsID=-1,this._boundsRect=null,this._localBoundsRect=null,this._mask=null,this._destroyed=!1,this.isSprite=!1,this.isMask=!1}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={_tempDisplayObjectParent:{configurable:!0},x:{configurable:!0},y:{configurable:!0},worldTransform:{configurable:!0},localTransform:{configurable:!0},position:{configurable:!0},scale:{configurable:!0},pivot:{configurable:!0},skew:{configurable:!0},rotation:{configurable:!0},angle:{configurable:!0},zIndex:{configurable:!0},worldVisible:{configurable:!0},mask:{configurable:!0}};return e.mixin=function(t){for(var r=Object.keys(t),i=0;i<r.length;++i){var n=r[i];Object.defineProperty(e.prototype,n,Object.getOwnPropertyDescriptor(t,n))}},r._tempDisplayObjectParent.get=function(){return null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new e),this.tempDisplayObjectParent},e.prototype.updateTransform=function(){this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha,this._bounds.updateID++},e.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},e.prototype.getBounds=function(t,e){return t||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._boundsID!==this._lastBoundsID&&(this.calculateBounds(),this._lastBoundsID=this._boundsID),e||(this._boundsRect||(this._boundsRect=new Ct),e=this._boundsRect),this._bounds.getRectangle(e)},e.prototype.getLocalBounds=function(t){var e=this.transform,r=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform,t||(this._localBoundsRect||(this._localBoundsRect=new Ct),t=this._localBoundsRect);var i=this.getBounds(!1,t);return this.parent=r,this.transform=e,i},e.prototype.toGlobal=function(t,e,r){return void 0===r&&(r=!1),r||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(t,e)},e.prototype.toLocal=function(t,e,r,i){return e&&(t=e.toGlobal(t,r,i)),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(t,r)},e.prototype.render=function(t){},e.prototype.setParent=function(t){if(!t||!t.addChild)throw new Error("setParent: Argument must be a Container");return t.addChild(this),t},e.prototype.setTransform=function(t,e,r,i,n,o,s,a,h){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=1),void 0===i&&(i=1),void 0===n&&(n=0),void 0===o&&(o=0),void 0===s&&(s=0),void 0===a&&(a=0),void 0===h&&(h=0),this.position.x=t,this.position.y=e,this.scale.x=r||1,this.scale.y=i||1,this.rotation=n,this.skew.x=o,this.skew.y=s,this.pivot.x=a,this.pivot.y=h,this},e.prototype.destroy=function(){this.removeAllListeners(),this.parent&&this.parent.removeChild(this),this.transform=null,this.parent=null,this._bounds=null,this._currentBounds=null,this._mask=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.interactive=!1,this.interactiveChildren=!1,this._destroyed=!0},r.x.get=function(){return this.position.x},r.x.set=function(t){this.transform.position.x=t},r.y.get=function(){return this.position.y},r.y.set=function(t){this.transform.position.y=t},r.worldTransform.get=function(){return this.transform.worldTransform},r.localTransform.get=function(){return this.transform.localTransform},r.position.get=function(){return this.transform.position},r.position.set=function(t){this.transform.position.copyFrom(t)},r.scale.get=function(){return this.transform.scale},r.scale.set=function(t){this.transform.scale.copyFrom(t)},r.pivot.get=function(){return this.transform.pivot},r.pivot.set=function(t){this.transform.pivot.copyFrom(t)},r.skew.get=function(){return this.transform.skew},r.skew.set=function(t){this.transform.skew.copyFrom(t)},r.rotation.get=function(){return this.transform.rotation},r.rotation.set=function(t){this.transform.rotation=t},r.angle.get=function(){return this.transform.rotation*yt},r.angle.set=function(t){this.transform.rotation=t*_t},r.zIndex.get=function(){return this._zIndex},r.zIndex.set=function(t){this._zIndex=t,this.parent&&(this.parent.sortDirty=!0)},r.worldVisible.get=function(){var t=this;do{if(!t.visible)return!1;t=t.parent}while(t);return!0},r.mask.get=function(){return this._mask},r.mask.set=function(t){if(this._mask){var e=this._mask.maskObject||this._mask;e.renderable=!0,e.isMask=!1}if(this._mask=t,this._mask){var r=this._mask.maskObject||this._mask;r.renderable=!1,r.isMask=!0}},Object.defineProperties(e.prototype,r),e}(S.a);function Bt(t,e){return t.zIndex===e.zIndex?t._lastSortedIndex-e._lastSortedIndex:t.zIndex-e.zIndex}Nt.prototype.displayObjectUpdateTransform=Nt.prototype.updateTransform;var Ut=function(t){function e(){t.call(this),this.children=[],this.sortableChildren=E.SORTABLE_CHILDREN,this.sortDirty=!1}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={width:{configurable:!0},height:{configurable:!0}};return e.prototype.onChildrenChange=function(){},e.prototype.addChild=function(t){var e=arguments,r=arguments.length;if(r>1)for(var i=0;i<r;i++)this.addChild(e[i]);else t.parent&&t.parent.removeChild(t),t.parent=this,this.sortDirty=!0,t.transform._parentID=-1,this.children.push(t),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",t,this,this.children.length-1),t.emit("added",this);return t},e.prototype.addChildAt=function(t,e){if(e<0||e>this.children.length)throw new Error(t+"addChildAt: The index "+e+" supplied is out of bounds "+this.children.length);return t.parent&&t.parent.removeChild(t),t.parent=this,this.sortDirty=!0,t.transform._parentID=-1,this.children.splice(e,0,t),this._boundsID++,this.onChildrenChange(e),t.emit("added",this),this.emit("childAdded",t,this,e),t},e.prototype.swapChildren=function(t,e){if(t!==e){var r=this.getChildIndex(t),i=this.getChildIndex(e);this.children[r]=e,this.children[i]=t,this.onChildrenChange(r<i?r:i)}},e.prototype.getChildIndex=function(t){var e=this.children.indexOf(t);if(-1===e)throw new Error("The supplied DisplayObject must be a child of the caller");return e},e.prototype.setChildIndex=function(t,e){if(e<0||e>=this.children.length)throw new Error("The index "+e+" supplied is out of bounds "+this.children.length);var r=this.getChildIndex(t);Y(this.children,r,1),this.children.splice(e,0,t),this.onChildrenChange(e)},e.prototype.getChildAt=function(t){if(t<0||t>=this.children.length)throw new Error("getChildAt: Index ("+t+") does not exist.");return this.children[t]},e.prototype.removeChild=function(t){var e=arguments,r=arguments.length;if(r>1)for(var i=0;i<r;i++)this.removeChild(e[i]);else{var n=this.children.indexOf(t);if(-1===n)return null;t.parent=null,t.transform._parentID=-1,Y(this.children,n,1),this._boundsID++,this.onChildrenChange(n),t.emit("removed",this),this.emit("childRemoved",t,this,n)}return t},e.prototype.removeChildAt=function(t){var e=this.getChildAt(t);return e.parent=null,e.transform._parentID=-1,Y(this.children,t,1),this._boundsID++,this.onChildrenChange(t),e.emit("removed",this),this.emit("childRemoved",e,this,t),e},e.prototype.removeChildren=function(t,e){void 0===t&&(t=0);var r,i=t,n="number"==typeof e?e:this.children.length,o=n-i;if(o>0&&o<=n){r=this.children.splice(i,o);for(var s=0;s<r.length;++s)r[s].parent=null,r[s].transform&&(r[s].transform._parentID=-1);this._boundsID++,this.onChildrenChange(t);for(var a=0;a<r.length;++a)r[a].emit("removed",this),this.emit("childRemoved",r[a],this,a);return r}if(0===o&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},e.prototype.sortChildren=function(){for(var t=!1,e=0,r=this.children.length;e<r;++e){var i=this.children[e];i._lastSortedIndex=e,t||0===i.zIndex||(t=!0)}t&&this.children.length>1&&this.children.sort(Bt),this.sortDirty=!1},e.prototype.updateTransform=function(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var t=0,e=this.children.length;t<e;++t){var r=this.children[t];r.visible&&r.updateTransform()}},e.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var t=0;t<this.children.length;t++){var e=this.children[t];if(e.visible&&e.renderable)if(e.calculateBounds(),e._mask){var r=e._mask.maskObject||e._mask;r.calculateBounds(),this._bounds.addBoundsMask(e._bounds,r._bounds)}else e.filterArea?this._bounds.addBoundsArea(e._bounds,e.filterArea):this._bounds.addBounds(e._bounds)}this._lastBoundsID=this._boundsID},e.prototype._calculateBounds=function(){},e.prototype.render=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable)if(this._mask||this.filters&&this.filters.length)this.renderAdvanced(t);else{this._render(t);for(var e=0,r=this.children.length;e<r;++e)this.children[e].render(t)}},e.prototype.renderAdvanced=function(t){t.batch.flush();var e=this.filters,r=this._mask;if(e){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var i=0;i<e.length;i++)e[i].enabled&&this._enabledFilters.push(e[i]);this._enabledFilters.length&&t.filter.push(this,this._enabledFilters)}r&&t.mask.push(this,this._mask),this._render(t);for(var n=0,o=this.children.length;n<o;n++)this.children[n].render(t);t.batch.flush(),r&&t.mask.pop(this,this._mask),e&&this._enabledFilters&&this._enabledFilters.length&&t.filter.pop()},e.prototype._render=function(t){},e.prototype.destroy=function(e){t.prototype.destroy.call(this),this.sortDirty=!1;var r="boolean"==typeof e?e:e&&e.children,i=this.removeChildren(0,this.children.length);if(r)for(var n=0;n<i.length;++n)i[n].destroy(e)},r.width.get=function(){return this.scale.x*this.getLocalBounds().width},r.width.set=function(t){var e=this.getLocalBounds().width;this.scale.x=0!==e?t/e:1,this._width=t},r.height.get=function(){return this.scale.y*this.getLocalBounds().height},r.height.set=function(t){var e=this.getLocalBounds().height;this.scale.y=0!==e?t/e:1,this._height=t},Object.defineProperties(e.prototype,r),e}(Nt);Ut.prototype.containerUpdateTransform=Ut.prototype.updateTransform;
/*!
 * @pixi/accessibility - v5.2.0
 * Compiled Wed, 06 Nov 2019 02:32:43 UTC
 *
 * @pixi/accessibility is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
var kt={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:!1,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0};Nt.mixin(kt);var Xt=function(t){this._hookDiv=null,(u.a.tablet||u.a.phone)&&this.createTouchHook();var e=document.createElement("div");e.style.width="100px",e.style.height="100px",e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.style.zIndex=2,this.div=e,this.pool=[],this.renderId=0,this.debug=!1,this.renderer=t,this.children=[],this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this.isActive=!1,this.isMobileAccessibility=!1,window.addEventListener("keydown",this._onKeyDown,!1)};Xt.prototype.createTouchHook=function(){var t=this,e=document.createElement("button");e.style.width="1px",e.style.height="1px",e.style.position="absolute",e.style.top="-1000px",e.style.left="-1000px",e.style.zIndex=2,e.style.backgroundColor="#FF0000",e.title="HOOK DIV",e.addEventListener("focus",(function(){t.isMobileAccessibility=!0,t.activate(),t.destroyTouchHook()})),document.body.appendChild(e),this._hookDiv=e},Xt.prototype.destroyTouchHook=function(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)},Xt.prototype.activate=function(){this.isActive||(this.isActive=!0,window.document.addEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),this.renderer.view.parentNode&&this.renderer.view.parentNode.appendChild(this.div))},Xt.prototype.deactivate=function(){this.isActive&&!this.isMobileAccessibility&&(this.isActive=!1,window.document.removeEventListener("mousemove",this._onMouseMove,!0),window.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),this.div.parentNode&&this.div.parentNode.removeChild(this.div))},Xt.prototype.updateAccessibleObjects=function(t){if(t.visible&&t.accessibleChildren){t.accessible&&t.interactive&&(t._accessibleActive||this.addChild(t),t.renderId=this.renderId);for(var e=t.children,r=0;r<e.length;r++)this.updateAccessibleObjects(e[r])}},Xt.prototype.update=function(){if(this.renderer.renderingToScreen){this.updateAccessibleObjects(this.renderer._lastObjectRendered);var t=this.renderer.view.getBoundingClientRect(),e=t.width/this.renderer.width,r=t.height/this.renderer.height,i=this.div;i.style.left=t.left+"px",i.style.top=t.top+"px",i.style.width=this.renderer.width+"px",i.style.height=this.renderer.height+"px";for(var n=0;n<this.children.length;n++){var o=this.children[n];if(o.renderId!==this.renderId)o._accessibleActive=!1,Y(this.children,n,1),this.div.removeChild(o._accessibleDiv),this.pool.push(o._accessibleDiv),o._accessibleDiv=null,n--,0===this.children.length&&this.deactivate();else{i=o._accessibleDiv;var s=o.hitArea,a=o.worldTransform;o.hitArea?(i.style.left=(a.tx+s.x*a.a)*e+"px",i.style.top=(a.ty+s.y*a.d)*r+"px",i.style.width=s.width*a.a*e+"px",i.style.height=s.height*a.d*r+"px"):(s=o.getBounds(),this.capHitArea(s),i.style.left=s.x*e+"px",i.style.top=s.y*r+"px",i.style.width=s.width*e+"px",i.style.height=s.height*r+"px",i.title!==o.accessibleTitle&&null!==o.accessibleTitle&&(i.title=o.accessibleTitle),i.getAttribute("aria-label")!==o.accessibleHint&&null!==o.accessibleHint&&i.setAttribute("aria-label",o.accessibleHint)),o.accessibleTitle===i.title&&o.tabIndex===i.tabIndex||(i.title=o.accessibleTitle,i.tabIndex=o.tabIndex,this.debug&&this.updateDebugHTML(i))}}this.renderId++}},Xt.prototype.updateDebugHTML=function(t){t.innerHTML="type: "+t.type+"</br> title : "+t.title+"</br> tabIndex: "+t.tabIndex},Xt.prototype.capHitArea=function(t){t.x<0&&(t.width+=t.x,t.x=0),t.y<0&&(t.height+=t.y,t.y=0),t.x+t.width>this.renderer.width&&(t.width=this.renderer.width-t.x),t.y+t.height>this.renderer.height&&(t.height=this.renderer.height-t.y)},Xt.prototype.addChild=function(t){var e=this.pool.pop();e||((e=document.createElement("button")).style.width="100px",e.style.height="100px",e.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",e.style.position="absolute",e.style.zIndex=2,e.style.borderStyle="none",navigator.userAgent.toLowerCase().indexOf("chrome")>-1?e.setAttribute("aria-live","off"):e.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?e.setAttribute("aria-relevant","additions"):e.setAttribute("aria-relevant","text"),e.addEventListener("click",this._onClick.bind(this)),e.addEventListener("focus",this._onFocus.bind(this)),e.addEventListener("focusout",this._onFocusOut.bind(this))),e.style.pointerEvents=t.accessiblePointerEvents,e.type=t.accessibleType,t.accessibleTitle&&null!==t.accessibleTitle?e.title=t.accessibleTitle:t.accessibleHint&&null!==t.accessibleHint||(e.title="displayObject "+t.tabIndex),t.accessibleHint&&null!==t.accessibleHint&&e.setAttribute("aria-label",t.accessibleHint),this.debug&&this.updateDebugHTML(e),t._accessibleActive=!0,t._accessibleDiv=e,e.displayObject=t,this.children.push(t),this.div.appendChild(t._accessibleDiv),t._accessibleDiv.tabIndex=t.tabIndex},Xt.prototype._onClick=function(t){var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"click",e.eventData),e.dispatchEvent(t.target.displayObject,"pointertap",e.eventData),e.dispatchEvent(t.target.displayObject,"tap",e.eventData)},Xt.prototype._onFocus=function(t){t.target.getAttribute("aria-live","off")||t.target.setAttribute("aria-live","assertive");var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"mouseover",e.eventData)},Xt.prototype._onFocusOut=function(t){t.target.getAttribute("aria-live","off")||t.target.setAttribute("aria-live","polite");var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"mouseout",e.eventData)},Xt.prototype._onKeyDown=function(t){9===t.keyCode&&this.activate()},Xt.prototype._onMouseMove=function(t){0===t.movementX&&0===t.movementY||this.deactivate()},Xt.prototype.destroy=function(){this.destroyTouchHook(),this.div=null;for(var t=0;t<this.children.length;t++)this.children[t].div=null;window.document.removeEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null};
/*!
 * @pixi/runner - v5.2.0
 * Compiled Wed, 06 Nov 2019 02:32:43 UTC
 *
 * @pixi/runner is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
var jt,Gt=function(){function t(t){this.items=[],this._name=t,this._aliasCount=0}return t.prototype.emit=function(t,e,r,i,n,o,s,a){if(arguments.length>8)throw new Error("max arguments reached");var h=this,u=h.name,l=h.items;this._aliasCount++;for(var c=0,d=l.length;c<d;c++)l[c][u](t,e,r,i,n,o,s,a);return l===this.items&&this._aliasCount--,this},t.prototype.ensureNonAliasedItems=function(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))},t.prototype.add=function(t){return t[this._name]&&(this.ensureNonAliasedItems(),this.remove(t),this.items.push(t)),this},t.prototype.remove=function(t){var e=this.items.indexOf(t);return-1!==e&&(this.ensureNonAliasedItems(),this.items.splice(e,1)),this},t.prototype.contains=function(t){return-1!==this.items.indexOf(t)},t.prototype.removeAll=function(){return this.ensureNonAliasedItems(),this.items.length=0,this},t.prototype.destroy=function(){this.removeAll(),this.items=null,this._name=null},Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.items.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),t}();Object.defineProperties(Gt.prototype,{dispatch:{value:Gt.prototype.emit},run:{value:Gt.prototype.emit}}),
/*!
 * @pixi/ticker - v5.2.0
 * Compiled Wed, 06 Nov 2019 02:32:43 UTC
 *
 * @pixi/ticker is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
E.TARGET_FPMS=.06,function(t){t[t.INTERACTION=50]="INTERACTION",t[t.HIGH=25]="HIGH",t[t.NORMAL=0]="NORMAL",t[t.LOW=-25]="LOW",t[t.UTILITY=-50]="UTILITY"}(jt||(jt={}));var Ht=function(){function t(t,e,r,i){void 0===e&&(e=null),void 0===r&&(r=0),void 0===i&&(i=!1),this.fn=t,this.context=e,this.priority=r,this.once=i,this.next=null,this.previous=null,this._destroyed=!1}return t.prototype.match=function(t,e){return void 0===e&&(e=null),this.fn===t&&this.context===e},t.prototype.emit=function(t){this.fn&&(this.context?this.fn.call(this.context,t):this.fn(t));var e=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),e},t.prototype.connect=function(t){this.previous=t,t.next&&(t.next.previous=this),this.next=t.next,t.next=this},t.prototype.destroy=function(t){void 0===t&&(t=!1),this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var e=this.next;return this.next=t?null:e,this.previous=null,e},t}(),zt=function(){function t(){var t=this;this._head=new Ht(null,null,1/0),this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this.autoStart=!1,this.deltaTime=1,this.deltaMS=1/E.TARGET_FPMS,this.elapsedMS=1/E.TARGET_FPMS,this.lastTime=-1,this.speed=1,this.started=!1,this._protected=!1,this._lastFrame=-1,this._tick=function(e){t._requestId=null,t.started&&(t.update(e),t.started&&null===t._requestId&&t._head.next&&(t._requestId=requestAnimationFrame(t._tick)))}}return t.prototype._requestIfNeeded=function(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))},t.prototype._cancelIfNeeded=function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)},t.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},t.prototype.add=function(t,e,r){return void 0===r&&(r=jt.NORMAL),this._addListener(new Ht(t,e,r))},t.prototype.addOnce=function(t,e,r){return void 0===r&&(r=jt.NORMAL),this._addListener(new Ht(t,e,r,!0))},t.prototype._addListener=function(t){var e=this._head.next,r=this._head;if(e){for(;e;){if(t.priority>e.priority){t.connect(r);break}r=e,e=e.next}t.previous||t.connect(r)}else t.connect(r);return this._startIfPossible(),this},t.prototype.remove=function(t,e){for(var r=this._head.next;r;)r=r.match(t,e)?r.destroy():r.next;return this._head.next||this._cancelIfNeeded(),this},t.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},t.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},t.prototype.destroy=function(){if(!this._protected){this.stop();for(var t=this._head.next;t;)t=t.destroy(!0);this._head.destroy(),this._head=null}},t.prototype.update=function(t){var e;if(void 0===t&&(t=performance.now()),t>this.lastTime){if((e=this.elapsedMS=t-this.lastTime)>this._maxElapsedMS&&(e=this._maxElapsedMS),e*=this.speed,this._minElapsedMS){var r=t-this._lastFrame|0;if(r<this._minElapsedMS)return;this._lastFrame=t-r%this._minElapsedMS}this.deltaMS=e,this.deltaTime=this.deltaMS*E.TARGET_FPMS;for(var i=this._head,n=i.next;n;)n=n.emit(this.deltaTime);i.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=t},Object.defineProperty(t.prototype,"FPS",{get:function(){return 1e3/this.elapsedMS},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minFPS",{get:function(){return 1e3/this._maxElapsedMS},set:function(t){var e=Math.min(this.maxFPS,t),r=Math.min(Math.max(0,e)/1e3,E.TARGET_FPMS);this._maxElapsedMS=1/r},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxFPS",{get:function(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0},set:function(t){if(0===t)this._minElapsedMS=0;else{var e=Math.max(this.minFPS,t);this._minElapsedMS=1/(e/1e3)}},enumerable:!0,configurable:!0}),Object.defineProperty(t,"shared",{get:function(){if(!t._shared){var e=t._shared=new t;e.autoStart=!0,e._protected=!0}return t._shared},enumerable:!0,configurable:!0}),Object.defineProperty(t,"system",{get:function(){if(!t._system){var e=t._system=new t;e.autoStart=!0,e._protected=!0}return t._system},enumerable:!0,configurable:!0}),t}(),Vt=function(){function t(){}return t.init=function(t){var e=this;t=Object.assign({autoStart:!0,sharedTicker:!1},t),Object.defineProperty(this,"ticker",{set:function(t){this._ticker&&this._ticker.remove(this.render,this),this._ticker=t,t&&t.add(this.render,this,jt.LOW)},get:function(){return this._ticker}}),this.stop=function(){e._ticker.stop()},this.start=function(){e._ticker.start()},this._ticker=null,this.ticker=t.sharedTicker?zt.shared:new zt,t.autoStart&&this.start()},t.destroy=function(){if(this._ticker){var t=this._ticker;this.ticker=null,t.destroy()}},t}(),Yt=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this._width=t,this._height=e,this.destroyed=!1,this.internal=!1,this.onResize=new Gt("setRealSize",2),this.onUpdate=new Gt("update"),this.onError=new Gt("onError",1)},Wt={valid:{configurable:!0},width:{configurable:!0},height:{configurable:!0}};Yt.prototype.bind=function(t){this.onResize.add(t),this.onUpdate.add(t),this.onError.add(t),(this._width||this._height)&&this.onResize.run(this._width,this._height)},Yt.prototype.unbind=function(t){this.onResize.remove(t),this.onUpdate.remove(t),this.onError.remove(t)},Yt.prototype.resize=function(t,e){t===this._width&&e===this._height||(this._width=t,this._height=e,this.onResize.run(t,e))},Wt.valid.get=function(){return!!this._width&&!!this._height},Yt.prototype.update=function(){this.destroyed||this.onUpdate.run()},Yt.prototype.load=function(){return Promise.resolve()},Wt.width.get=function(){return this._width},Wt.height.get=function(){return this._height},Yt.prototype.upload=function(t,e,r){return!1},Yt.prototype.style=function(t,e,r){return!1},Yt.prototype.dispose=function(){},Yt.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)},Object.defineProperties(Yt.prototype,Wt);var qt=function(t){function e(e){var r=e.naturalWidth||e.videoWidth||e.width,i=e.naturalHeight||e.videoHeight||e.height;t.call(this,r,i),this.source=e,this.noSubImage=!1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.crossOrigin=function(t,e,r){void 0===r&&0!==e.indexOf("data:")?t.crossOrigin=lt(e):!1!==r&&(t.crossOrigin="string"==typeof r?r:"anonymous")},e.prototype.upload=function(t,e,r,i){var n=t.gl,o=e.realWidth,s=e.realHeight;return i=i||this.source,n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.alphaMode===x.UNPACK),this.noSubImage||e.target!==n.TEXTURE_2D||r.width!==o||r.height!==s?(r.width=o,r.height=s,n.texImage2D(e.target,0,e.format,e.format,e.type,i)):n.texSubImage2D(n.TEXTURE_2D,0,0,0,e.format,e.type,i),!0},e.prototype.update=function(){if(!this.destroyed){var e=this.source.naturalWidth||this.source.videoWidth||this.source.width,r=this.source.naturalHeight||this.source.videoHeight||this.source.height;this.resize(e,r),t.prototype.update.call(this)}},e.prototype.dispose=function(){this.source=null},e}(Yt),Zt=function(t){function e(e,r){if(r=r||{},!(e instanceof HTMLImageElement)){var i=new Image;t.crossOrigin(i,e,r.crossorigin),i.src=e,e=i}t.call(this,e),!e.complete&&this._width&&this._height&&(this._width=0,this._height=0),this.url=e.src,this._process=null,this.preserveBitmap=!1,this.createBitmap=(void 0!==r.createBitmap?r.createBitmap:E.CREATE_IMAGE_BITMAP)&&!!window.createImageBitmap,this.alphaMode="number"==typeof r.alphaMode?r.alphaMode:null,void 0!==r.premultiplyAlpha&&(this.premultiplyAlpha=r.premultiplyAlpha),this.bitmap=null,this._load=null,!1!==r.autoLoad&&this.load()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.load=function(t){var e=this;return void 0!==t&&(this.createBitmap=t),this._load?this._load:(this._load=new Promise((function(t){e.url=e.source.src;var r=e.source,i=function(){e.destroyed||(r.onload=null,r.onerror=null,e.resize(r.width,r.height),e._load=null,e.createBitmap?t(e.process()):t(e))};r.complete&&r.src?i():(r.onload=i,r.onerror=function(t){return e.onError.run(t)})})),this._load)},e.prototype.process=function(){var t=this;return null!==this._process?this._process:null===this.bitmap&&window.createImageBitmap?(this._process=window.createImageBitmap(this.source,0,0,this.source.width,this.source.height,{premultiplyAlpha:this.premultiplyAlpha===x.UNPACK?"premultiply":"none"}).then((function(e){return t.destroyed?Promise.reject():(t.bitmap=e,t.update(),t._process=null,Promise.resolve(t))})),this._process):Promise.resolve(this)},e.prototype.upload=function(e,r,i){if("number"==typeof this.alphaMode&&(r.alphaMode=this.alphaMode),!this.createBitmap)return t.prototype.upload.call(this,e,r,i);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(t.prototype.upload.call(this,e,r,i,this.bitmap),!this.preserveBitmap){var n=!0;for(var o in r._glTextures){var s=r._glTextures[o];if(s!==i&&s.dirtyId!==r.dirtyId){n=!1;break}}n&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0},e.prototype.dispose=function(){this.source.onload=null,this.source.onerror=null,t.prototype.dispose.call(this),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null},e}(qt),Kt=[];function Jt(t,e){if(!t)return null;var r="";if("string"==typeof t){var i=/\.(\w{3,4})(?:$|\?|#)/i.exec(t);i&&(r=i[1].toLowerCase())}for(var n=Kt.length-1;n>=0;--n){var o=Kt[n];if(o.test&&o.test(t,r))return new o(t,e)}return new Zt(t,e)}var Qt=function(t){function e(e,r){var i=r||{},n=i.width,o=i.height;if(!n||!o)throw new Error("BufferResource width or height invalid");t.call(this,n,o),this.data=e}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.upload=function(t,e,r){var i=t.gl;return i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.alphaMode===x.UNPACK),r.width===e.width&&r.height===e.height?i.texSubImage2D(e.target,0,0,0,e.width,e.height,e.format,e.type,this.data):(r.width=e.width,r.height=e.height,i.texImage2D(e.target,0,r.internalFormat,e.width,e.height,0,e.format,r.type,this.data)),!0},e.prototype.dispose=function(){this.data=null},e.test=function(t){return t instanceof Float32Array||t instanceof Uint8Array||t instanceof Uint32Array},e}(Yt),$t={scaleMode:g.NEAREST,format:f.RGBA,alphaMode:x.NPM},te=function(t){function e(e,r){void 0===e&&(e=null),void 0===r&&(r=null),t.call(this);var i=(r=r||{}).alphaMode,n=r.mipmap,o=r.anisotropicLevel,s=r.scaleMode,a=r.width,h=r.height,u=r.wrapMode,l=r.format,c=r.type,d=r.target,p=r.resolution,g=r.resourceOptions;!e||e instanceof Yt||((e=Jt(e,g)).internal=!0),this.width=a||0,this.height=h||0,this.resolution=p||E.RESOLUTION,this.mipmap=void 0!==n?n:E.MIPMAP_TEXTURES,this.anisotropicLevel=void 0!==o?o:E.ANISOTROPIC_LEVEL,this.wrapMode=u||E.WRAP_MODE,this.scaleMode=void 0!==s?s:E.SCALE_MODE,this.format=l||f.RGBA,this.type=c||v.UNSIGNED_BYTE,this.target=d||m.TEXTURE_2D,this.alphaMode=void 0!==i?i:x.UNPACK,void 0!==r.premultiplyAlpha&&(this.premultiplyAlpha=r.premultiplyAlpha),this.uid=q(),this.touched=0,this.isPowerOfTwo=!1,this._refreshPOT(),this._glTextures={},this.dirtyId=0,this.dirtyStyleId=0,this.cacheId=null,this.valid=a>0&&h>0,this.textureCacheIds=[],this.destroyed=!1,this.resource=null,this._batchEnabled=0,this._batchLocation=0,this.setResource(e)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={realWidth:{configurable:!0},realHeight:{configurable:!0}};return r.realWidth.get=function(){return Math.ceil(this.width*this.resolution-1e-4)},r.realHeight.get=function(){return Math.ceil(this.height*this.resolution-1e-4)},e.prototype.setStyle=function(t,e){var r;return void 0!==t&&t!==this.scaleMode&&(this.scaleMode=t,r=!0),void 0!==e&&e!==this.mipmap&&(this.mipmap=e,r=!0),r&&this.dirtyStyleId++,this},e.prototype.setSize=function(t,e,r){return this.resolution=r||this.resolution,this.width=t,this.height=e,this._refreshPOT(),this.update(),this},e.prototype.setRealSize=function(t,e,r){return this.resolution=r||this.resolution,this.width=t/this.resolution,this.height=e/this.resolution,this._refreshPOT(),this.update(),this},e.prototype._refreshPOT=function(){this.isPowerOfTwo=J(this.realWidth)&&J(this.realHeight)},e.prototype.setResolution=function(t){var e=this.resolution;return e===t?this:(this.resolution=t,this.valid&&(this.width=this.width*e/t,this.height=this.height*e/t,this.emit("update",this)),this._refreshPOT(),this)},e.prototype.setResource=function(t){if(this.resource===t)return this;if(this.resource)throw new Error("Resource can be set only once");return t.bind(this),this.resource=t,this},e.prototype.update=function(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))},e.prototype.onError=function(t){this.emit("error",this,t)},e.prototype.destroy=function(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete et[this.cacheId],delete tt[this.cacheId],this.cacheId=null),this.dispose(),e.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0},e.prototype.dispose=function(){this.emit("dispose",this)},e.from=function(t,r,i){void 0===i&&(i=E.STRICT_TEXTURE_CACHE);var n="string"==typeof t,o=null;n?o=t:(t._pixiId||(t._pixiId="pixiid_"+q()),o=t._pixiId);var s=et[o];if(n&&i&&!s)throw new Error('The cacheId "'+o+'" does not exist in BaseTextureCache.');return s||((s=new e(t,r)).cacheId=o,e.addToCache(s,o)),s},e.fromBuffer=function(t,r,i,n){t=t||new Float32Array(r*i*4);var o=new Qt(t,{width:r,height:i}),s=t instanceof Float32Array?v.FLOAT:v.UNSIGNED_BYTE;return new e(o,Object.assign($t,n||{width:r,height:i,type:s}))},e.addToCache=function(t,e){e&&(-1===t.textureCacheIds.indexOf(e)&&t.textureCacheIds.push(e),et[e]&&console.warn("BaseTexture added to the cache with an id ["+e+"] that already had an entry"),et[e]=t)},e.removeFromCache=function(t){if("string"==typeof t){var e=et[t];if(e){var r=e.textureCacheIds.indexOf(t);return r>-1&&e.textureCacheIds.splice(r,1),delete et[t],e}}else if(t&&t.textureCacheIds){for(var i=0;i<t.textureCacheIds.length;++i)delete et[t.textureCacheIds[i]];return t.textureCacheIds.length=0,t}return null},Object.defineProperties(e.prototype,r),e}(S.a);te._globalBatch=0;var ee=function(t){function e(e,r){var i;r=r||{};var n=e;Array.isArray(e)&&(i=e,n=e.length),t.call(this,r.width,r.height),this.items=[],this.itemDirtyIds=[];for(var o=0;o<n;o++){var s=new te;this.items.push(s),this.itemDirtyIds.push(-1)}if(this.length=n,this._load=null,i)for(var a=0;a<n;a++)this.addResourceAt(Jt(i[a],r),a)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.dispose=function(){for(var t=0,e=this.length;t<e;t++)this.items[t].destroy();this.items=null,this.itemDirtyIds=null,this._load=null},e.prototype.addResourceAt=function(t,e){if(!this.items[e])throw new Error("Index "+e+" is out of bounds");return t.valid&&!this.valid&&this.resize(t.width,t.height),this.items[e].setResource(t),this},e.prototype.bind=function(e){t.prototype.bind.call(this,e),e.target=m.TEXTURE_2D_ARRAY;for(var r=0;r<this.length;r++)this.items[r].on("update",e.update,e)},e.prototype.unbind=function(e){t.prototype.unbind.call(this,e);for(var r=0;r<this.length;r++)this.items[r].off("update",e.update,e)},e.prototype.load=function(){var t=this;if(this._load)return this._load;var e=this.items.map((function(t){return t.resource})),r=e.map((function(t){return t.load()}));return this._load=Promise.all(r).then((function(){var r=e[0],i=r.width,n=r.height;return t.resize(i,n),Promise.resolve(t)})),this._load},e.prototype.upload=function(t,e,r){var i=this.length,n=this.itemDirtyIds,o=this.items,s=t.gl;r.dirtyId<0&&s.texImage3D(s.TEXTURE_2D_ARRAY,0,e.format,this._width,this._height,i,0,e.format,e.type,null);for(var a=0;a<i;a++){var h=o[a];n[a]<h.dirtyId&&(n[a]=h.dirtyId,h.valid&&s.texSubImage3D(s.TEXTURE_2D_ARRAY,0,0,0,a,h.resource.width,h.resource.height,1,e.format,e.type,h.resource.source))}return!0},e}(Yt),re=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.test=function(t){var e=window.OffscreenCanvas;return!!(e&&t instanceof e)||t instanceof HTMLCanvasElement},e}(qt),ie=function(t){function e(r,i){if(i=i||{},t.call(this,r,i),this.length!==e.SIDES)throw new Error("Invalid length. Got "+this.length+", expected 6");for(var n=0;n<e.SIDES;n++)this.items[n].target=m.TEXTURE_CUBE_MAP_POSITIVE_X+n;!1!==i.autoLoad&&this.load()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.bind=function(e){t.prototype.bind.call(this,e),e.target=m.TEXTURE_CUBE_MAP},e.prototype.upload=function(t,r,i){for(var n=this.itemDirtyIds,o=0;o<e.SIDES;o++){var s=this.items[o];n[o]<s.dirtyId&&(n[o]=s.dirtyId,s.valid&&s.resource.upload(t,s,i))}return!0},e}(ee);ie.SIDES=6;var ne=function(t){function e(e,r){r=r||{},t.call(this,document.createElement("canvas")),this._width=0,this._height=0,this.svg=e,this.scale=r.scale||1,this._overrideWidth=r.width,this._overrideHeight=r.height,this._resolve=null,this._crossorigin=r.crossorigin,this._load=null,!1!==r.autoLoad&&this.load()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.load=function(){var t=this;return this._load?this._load:(this._load=new Promise((function(e){if(t._resolve=function(){t.resize(t.source.width,t.source.height),e(t)},/^\<svg/.test(t.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");t.svg="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(t.svg)))}t._loadSvg()})),this._load)},e.prototype._loadSvg=function(){var e=this,r=new Image;t.crossOrigin(r,this.svg,this._crossorigin),r.src=this.svg,r.onerror=function(t){r.onerror=null,e.onError.run(t)},r.onload=function(){var t=r.width,i=r.height;if(!t||!i)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");var n=t*e.scale,o=i*e.scale;(e._overrideWidth||e._overrideHeight)&&(n=e._overrideWidth||e._overrideHeight/i*t,o=e._overrideHeight||e._overrideWidth/t*i),n=Math.round(n),o=Math.round(o);var s=e.source;s.width=n,s.height=o,s._pixiId="canvas_"+q(),s.getContext("2d").drawImage(r,0,0,t,i,0,0,n,o),e._resolve(),e._resolve=null}},e.getSize=function(t){var r=e.SVG_SIZE.exec(t),i={};return r&&(i[r[1]]=Math.round(parseFloat(r[3])),i[r[5]]=Math.round(parseFloat(r[7]))),i},e.prototype.dispose=function(){t.prototype.dispose.call(this),this._resolve=null,this._crossorigin=null},e.test=function(t,e){return"svg"===e||"string"==typeof t&&0===t.indexOf("data:image/svg+xml;base64")||"string"==typeof t&&0===t.indexOf("<svg")},e}(qt);ne.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;var oe=function(t){function e(e,r){if(r=r||{},!(e instanceof HTMLVideoElement)){var i=document.createElement("video");i.setAttribute("preload","auto"),i.setAttribute("webkit-playsinline",""),i.setAttribute("playsinline",""),"string"==typeof e&&(e=[e]),t.crossOrigin(i,e[0].src||e[0],r.crossorigin);for(var n=0;n<e.length;++n){var o=document.createElement("source"),s=e[n],a=s.src,h=s.mime,u=(a=a||e[n]).split("?").shift().toLowerCase(),l=u.substr(u.lastIndexOf(".")+1);h=h||"video/"+l,o.src=a,o.type=h,i.appendChild(o)}e=i}t.call(this,e),this.noSubImage=!0,this._autoUpdate=!0,this._isAutoUpdating=!1,this._updateFPS=r.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=!1!==r.autoPlay,this._load=null,this._resolve=null,this._onCanPlay=this._onCanPlay.bind(this),this._onError=this._onError.bind(this),!1!==r.autoLoad&&this.load()}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={autoUpdate:{configurable:!0},updateFPS:{configurable:!0}};return e.prototype.update=function(e){if(void 0===e&&(e=0),!this.destroyed){var r=zt.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-r),(!this._updateFPS||this._msToNextUpdate<=0)&&(t.prototype.update.call(this,e),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}},e.prototype.load=function(){var t=this;if(this._load)return this._load;var e=this.source;return(e.readyState===e.HAVE_ENOUGH_DATA||e.readyState===e.HAVE_FUTURE_DATA)&&e.width&&e.height&&(e.complete=!0),e.addEventListener("play",this._onPlayStart.bind(this)),e.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(e.addEventListener("canplay",this._onCanPlay),e.addEventListener("canplaythrough",this._onCanPlay),e.addEventListener("error",this._onError,!0)),this._load=new Promise((function(r){t.valid?r(t):(t._resolve=r,e.load())})),this._load},e.prototype._onError=function(){this.source.removeEventListener("error",this._onError,!0),this.onError.run(event)},e.prototype._isSourcePlaying=function(){var t=this.source;return t.currentTime>0&&!1===t.paused&&!1===t.ended&&t.readyState>2},e.prototype._isSourceReady=function(){return 3===this.source.readyState||4===this.source.readyState},e.prototype._onPlayStart=function(){this.valid||this._onCanPlay(),!this._isAutoUpdating&&this.autoUpdate&&(zt.shared.add(this.update,this),this._isAutoUpdating=!0)},e.prototype._onPlayStop=function(){this._isAutoUpdating&&(zt.shared.remove(this.update,this),this._isAutoUpdating=!1)},e.prototype._onCanPlay=function(){var t=this.source;t.removeEventListener("canplay",this._onCanPlay),t.removeEventListener("canplaythrough",this._onCanPlay);var e=this.valid;this.resize(t.videoWidth,t.videoHeight),!e&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&t.play()},e.prototype.dispose=function(){this._isAutoUpdating&&zt.shared.remove(this.update,this),this.source&&(this.source.removeEventListener("error",this._onError,!0),this.source.pause(),this.source.src="",this.source.load()),t.prototype.dispose.call(this)},r.autoUpdate.get=function(){return this._autoUpdate},r.autoUpdate.set=function(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isAutoUpdating?(zt.shared.remove(this.update,this),this._isAutoUpdating=!1):this._autoUpdate&&!this._isAutoUpdating&&(zt.shared.add(this.update,this),this._isAutoUpdating=!0))},r.updateFPS.get=function(){return this._updateFPS},r.updateFPS.set=function(t){t!==this._updateFPS&&(this._updateFPS=t)},e.test=function(t,r){return t instanceof HTMLVideoElement||e.TYPES.indexOf(r)>-1},Object.defineProperties(e.prototype,r),e}(qt);oe.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"];var se=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.test=function(t){return!!window.createImageBitmap&&t instanceof ImageBitmap},e}(qt);Kt.push(Zt,se,re,oe,ne,Qt,ie,ee);var ae={INSTALLED:Kt,autoDetectResource:Jt,ArrayResource:ee,BufferResource:Qt,CanvasResource:re,CubeResource:ie,ImageResource:Zt,ImageBitmapResource:se,SVGResource:ne,VideoResource:oe,Resource:Yt,BaseImageResource:qt},he=function(t){this.renderer=t};he.prototype.destroy=function(){this.renderer=null};var ue=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.upload=function(t,e,r){var i=t.gl;return i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.alphaMode===x.UNPACK),r.width===e.width&&r.height===e.height?i.texSubImage2D(e.target,0,0,0,e.width,e.height,e.format,e.type,this.data):(r.width=e.width,r.height=e.height,i.texImage2D(e.target,0,i.DEPTH_COMPONENT16,e.width,e.height,0,e.format,e.type,this.data)),!0},e}(Qt),le=function(t,e){this.width=Math.ceil(t||100),this.height=Math.ceil(e||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new Gt("disposeFramebuffer",2)},ce={colorTexture:{configurable:!0}};ce.colorTexture.get=function(){return this.colorTextures[0]},le.prototype.addColorTexture=function(t,e){return void 0===t&&(t=0),this.colorTextures[t]=e||new te(null,{scaleMode:0,resolution:1,mipmap:!1,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this},le.prototype.addDepthTexture=function(t){return this.depthTexture=t||new te(new ue(null,{width:this.width,height:this.height}),{scaleMode:0,resolution:1,width:this.width,height:this.height,mipmap:!1,format:f.DEPTH_COMPONENT,type:v.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this},le.prototype.enableDepth=function(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this},le.prototype.enableStencil=function(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this},le.prototype.resize=function(t,e){if(t=Math.ceil(t),e=Math.ceil(e),t!==this.width||e!==this.height){this.width=t,this.height=e,this.dirtyId++,this.dirtySize++;for(var r=0;r<this.colorTextures.length;r++){var i=this.colorTextures[r],n=i.resolution;i.setSize(t/n,e/n)}if(this.depthTexture){var o=this.depthTexture.resolution;this.depthTexture.setSize(t/o,e/o)}}},le.prototype.dispose=function(){this.disposeRunner.run(this,!1)},Object.defineProperties(le.prototype,ce);var de=function(t){function e(e){if("number"==typeof e){var r=arguments[0],i=arguments[1],n=arguments[2],o=arguments[3];e={width:r,height:i,scaleMode:n,resolution:o}}t.call(this,null,e);var s=e||{},a=s.width,h=s.height;this.mipmap=!1,this.width=Math.ceil(a)||100,this.height=Math.ceil(h)||100,this.valid=!0,this._canvasRenderTarget=null,this.clearColor=[0,0,0,0],this.framebuffer=new le(this.width*this.resolution,this.height*this.resolution).addColorTexture(0,this),this.maskStack=[],this.filterStack=[{}]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.resize=function(t,e){t=Math.ceil(t),e=Math.ceil(e),this.framebuffer.resize(t*this.resolution,e*this.resolution)},e.prototype.dispose=function(){this.framebuffer.dispose(),t.prototype.dispose.call(this)},e.prototype.destroy=function(){t.prototype.destroy.call(this,!0),this.framebuffer=null},e}(te),pe=function(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)};pe.prototype.set=function(t,e,r){var i=e.width,n=e.height;if(r){var o=t.width/2/i,s=t.height/2/n,a=t.x/i+o,h=t.y/n+s;r=At.add(r,At.NW),this.x0=a+o*At.uX(r),this.y0=h+s*At.uY(r),r=At.add(r,2),this.x1=a+o*At.uX(r),this.y1=h+s*At.uY(r),r=At.add(r,2),this.x2=a+o*At.uX(r),this.y2=h+s*At.uY(r),r=At.add(r,2),this.x3=a+o*At.uX(r),this.y3=h+s*At.uY(r)}else this.x0=t.x/i,this.y0=t.y/n,this.x1=(t.x+t.width)/i,this.y1=t.y/n,this.x2=(t.x+t.width)/i,this.y2=(t.y+t.height)/n,this.x3=t.x/i,this.y3=(t.y+t.height)/n;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3};var fe=new pe,me=function(t){function e(r,i,n,o,s,a){if(t.call(this),this.noFrame=!1,i||(this.noFrame=!0,i=new Ct(0,0,1,1)),r instanceof e&&(r=r.baseTexture),this.baseTexture=r,this._frame=i,this.trim=o,this.valid=!1,this.requiresUpdate=!1,this._uvs=fe,this.uvMatrix=null,this.orig=n||i,this._rotate=Number(s||0),!0===s)this._rotate=2;else if(this._rotate%2!=0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");this.defaultAnchor=a?new mt(a.x,a.y):new mt(0,0),this._updateID=0,this.textureCacheIds=[],r.valid?this.noFrame?r.valid&&this.onBaseTextureUpdated(r):this.frame=i:r.once("loaded",this.onBaseTextureUpdated,this),this.noFrame&&r.on("update",this.onBaseTextureUpdated,this)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={resolution:{configurable:!0},frame:{configurable:!0},rotate:{configurable:!0},width:{configurable:!0},height:{configurable:!0}};return e.prototype.update=function(){this.baseTexture.resource&&this.baseTexture.resource.update()},e.prototype.onBaseTextureUpdated=function(t){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=t.width,this._frame.height=t.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)},e.prototype.destroy=function(t){if(this.baseTexture){if(t){var r=this.baseTexture.resource;r&&tt[r.url]&&e.removeFromCache(r.url),this.baseTexture.destroy()}this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,e.removeFromCache(this),this.textureCacheIds=null},e.prototype.clone=function(){return new e(this.baseTexture,this.frame,this.orig,this.trim,this.rotate,this.defaultAnchor)},e.prototype.updateUvs=function(){this._uvs===fe&&(this._uvs=new pe),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},e.from=function(t,r,i){void 0===r&&(r={}),void 0===i&&(i=E.STRICT_TEXTURE_CACHE);var n="string"==typeof t,o=null;n?o=t:(t._pixiId||(t._pixiId="pixiid_"+q()),o=t._pixiId);var s=tt[o];if(n&&i&&!s)throw new Error('The cacheId "'+o+'" does not exist in TextureCache.');return s||(r.resolution||(r.resolution=ct(t)),(s=new e(new te(t,r))).baseTexture.cacheId=o,te.addToCache(s.baseTexture,o),e.addToCache(s,o)),s},e.fromBuffer=function(t,r,i,n){return new e(te.fromBuffer(t,r,i,n))},e.fromLoader=function(t,r,i){var n=new Zt(t);n.url=r;var o=new e(new te(n,{scaleMode:E.SCALE_MODE,resolution:ct(r)}));return i||(i=r),te.addToCache(o.baseTexture,i),e.addToCache(o,i),i!==r&&(te.addToCache(o.baseTexture,r),e.addToCache(o,r)),o},e.addToCache=function(t,e){e&&(-1===t.textureCacheIds.indexOf(e)&&t.textureCacheIds.push(e),tt[e]&&console.warn("Texture added to the cache with an id ["+e+"] that already had an entry"),tt[e]=t)},e.removeFromCache=function(t){if("string"==typeof t){var e=tt[t];if(e){var r=e.textureCacheIds.indexOf(t);return r>-1&&e.textureCacheIds.splice(r,1),delete tt[t],e}}else if(t&&t.textureCacheIds){for(var i=0;i<t.textureCacheIds.length;++i)tt[t.textureCacheIds[i]]===t&&delete tt[t.textureCacheIds[i]];return t.textureCacheIds.length=0,t}return null},r.resolution.get=function(){return this.baseTexture.resolution},r.frame.get=function(){return this._frame},r.frame.set=function(t){this._frame=t,this.noFrame=!1;var e=t.x,r=t.y,i=t.width,n=t.height,o=e+i>this.baseTexture.width,s=r+n>this.baseTexture.height;if(o||s){var a=o&&s?"and":"or",h="X: "+e+" + "+i+" = "+(e+i)+" > "+this.baseTexture.width,u="Y: "+r+" + "+n+" = "+(r+n)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+h+" "+a+" "+u)}this.valid=i&&n&&this.baseTexture.valid,this.trim||this.rotate||(this.orig=t),this.valid&&this.updateUvs()},r.rotate.get=function(){return this._rotate},r.rotate.set=function(t){this._rotate=t,this.valid&&this.updateUvs()},r.width.get=function(){return this.orig.width},r.height.get=function(){return this.orig.height},Object.defineProperties(e.prototype,r),e}(S.a);function ve(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}me.EMPTY=new me(new te),ve(me.EMPTY),ve(me.EMPTY.baseTexture),me.WHITE=function(){var t=document.createElement("canvas");t.width=16,t.height=16;var e=t.getContext("2d");return e.fillStyle="white",e.fillRect(0,0,16,16),new me(new te(new re(t)))}(),ve(me.WHITE),ve(me.WHITE.baseTexture);var ge=function(t){function e(e,r){var i=null;if(!(e instanceof de)){var n=arguments[1],o=arguments[2],s=arguments[3],a=arguments[4];console.warn("Please use RenderTexture.create("+n+", "+o+") instead of the ctor directly."),i=arguments[0],r=null,e=new de({width:n,height:o,scaleMode:s,resolution:a})}t.call(this,e,r),this.legacyRenderer=i,this.valid=!0,this.filterFrame=null,this.filterPoolKey=null,this.updateUvs()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.resize=function(t,e,r){void 0===r&&(r=!0),t=Math.ceil(t),e=Math.ceil(e),this.valid=t>0&&e>0,this._frame.width=this.orig.width=t,this._frame.height=this.orig.height=e,r&&this.baseTexture.resize(t,e),this.updateUvs()},e.prototype.setResolution=function(t){var e=this.baseTexture;e.resolution!==t&&(e.setResolution(t),this.resize(e.width,e.height,!1))},e.create=function(t){return"number"==typeof t&&(t={width:t,height:arguments[1],scaleMode:arguments[2],resolution:arguments[3]}),new e(new de(t))},e}(me),ye=function(t){this.texturePool={},this.textureOptions=t||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0};ye.prototype.createTexture=function(t,e){var r=new de(Object.assign({width:t,height:e,resolution:1},this.textureOptions));return new ge(r)},ye.prototype.getOptimalTexture=function(t,e,r){void 0===r&&(r=1);var i=ye.SCREEN_KEY;t*=r,e*=r,this.enableFullScreen&&t===this._pixelsWidth&&e===this._pixelsHeight||(i=(65535&(t=K(t)))<<16|65535&(e=K(e))),this.texturePool[i]||(this.texturePool[i]=[]);var n=this.texturePool[i].pop();return n||(n=this.createTexture(t,e)),n.filterPoolKey=i,n.setResolution(r),n},ye.prototype.getFilterTexture=function(t,e){var r=this.getOptimalTexture(t.width,t.height,e||t.resolution);return r.filterFrame=t.filterFrame,r},ye.prototype.returnTexture=function(t){var e=t.filterPoolKey;t.filterFrame=null,this.texturePool[e].push(t)},ye.prototype.returnFilterTexture=function(t){this.returnTexture(t)},ye.prototype.clear=function(t){if(t=!1!==t)for(var e in this.texturePool){var r=this.texturePool[e];if(r)for(var i=0;i<r.length;i++)r[i].destroy(!0)}this.texturePool={}},ye.prototype.setScreenSize=function(t){if(t.width!==this._pixelsWidth||t.height!==this._pixelsHeight){var e=ye.SCREEN_KEY,r=this.texturePool[e];if(this.enableFullScreen=t.width>0&&t.height>0,r)for(var i=0;i<r.length;i++)r[i].destroy(!0);this.texturePool[e]=[],this._pixelsWidth=t.width,this._pixelsHeight=t.height}},ye.SCREEN_KEY="screen";var _e=function(t,e,r,i,n,o,s){void 0===r&&(r=!1),void 0===i&&(i=5126),this.buffer=t,this.size=e,this.normalized=r,this.type=i,this.stride=n,this.start=o,this.instance=s};_e.prototype.destroy=function(){this.buffer=null},_e.from=function(t,e,r,i,n){return new _e(t,e,r,i,n)};var xe=0,be=function(t,e,r){void 0===e&&(e=!0),void 0===r&&(r=!1),this.data=t||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=r,this.static=e,this.id=xe++,this.disposeRunner=new Gt("disposeBuffer",2)};function Te(t){if(4===t.BYTES_PER_ELEMENT)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(2===t.BYTES_PER_ELEMENT){if(t instanceof Uint16Array)return"Uint16Array"}else if(1===t.BYTES_PER_ELEMENT&&t instanceof Uint8Array)return"Uint8Array";return null}be.prototype.update=function(t){this.data=t||this.data,this._updateID++},be.prototype.dispose=function(){this.disposeRunner.run(this,!1)},be.prototype.destroy=function(){this.dispose(),this.data=null},be.from=function(t){return t instanceof Array&&(t=new Float32Array(t)),new be(t)};var we={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array};var Ee={5126:4,5123:2,5121:1},Ie=0,Se={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array,Uint16Array:Uint16Array},Pe=function(t,e){void 0===t&&(t=[]),void 0===e&&(e={}),this.buffers=t,this.indexBuffer=null,this.attributes=e,this.glVertexArrayObjects={},this.id=Ie++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new Gt("disposeGeometry",2),this.refCount=0};Pe.prototype.addAttribute=function(t,e,r,i,n,o,s,a){if(void 0===i&&(i=!1),void 0===a&&(a=!1),!e)throw new Error("You must pass a buffer when creating an attribute");e.data||(e instanceof Array&&(e=new Float32Array(e)),e=new be(e));var h=t.split("|");if(h.length>1){for(var u=0;u<h.length;u++)this.addAttribute(h[u],e,r,i,n);return this}var l=this.buffers.indexOf(e);return-1===l&&(this.buffers.push(e),l=this.buffers.length-1),this.attributes[t]=new _e(l,r,i,n,o,s,a),this.instanced=this.instanced||a,this},Pe.prototype.getAttribute=function(t){return this.attributes[t]},Pe.prototype.getBuffer=function(t){return this.buffers[this.getAttribute(t).buffer]},Pe.prototype.addIndex=function(t){return t.data||(t instanceof Array&&(t=new Uint16Array(t)),t=new be(t)),t.index=!0,this.indexBuffer=t,-1===this.buffers.indexOf(t)&&this.buffers.push(t),this},Pe.prototype.getIndex=function(){return this.indexBuffer},Pe.prototype.interleave=function(){if(1===this.buffers.length||2===this.buffers.length&&this.indexBuffer)return this;var t,e=[],r=[],i=new be;for(t in this.attributes){var n=this.attributes[t],o=this.buffers[n.buffer];e.push(o.data),r.push(n.size*Ee[n.type]/4),n.buffer=0}for(i.data=function(t,e){for(var r=0,i=0,n={},o=0;o<t.length;o++)i+=e[o],r+=t[o].length;for(var s=new ArrayBuffer(4*r),a=null,h=0,u=0;u<t.length;u++){var l=e[u],c=t[u],d=Te(c);n[d]||(n[d]=new we[d](s)),a=n[d];for(var p=0;p<c.length;p++){a[(p/l|0)*i+h+p%l]=c[p]}h+=l}return new Float32Array(s)}(e,r),t=0;t<this.buffers.length;t++)this.buffers[t]!==this.indexBuffer&&this.buffers[t].destroy();return this.buffers=[i],this.indexBuffer&&this.buffers.push(this.indexBuffer),this},Pe.prototype.getSize=function(){for(var t in this.attributes){var e=this.attributes[t];return this.buffers[e.buffer].data.length/(e.stride/4||e.size)}return 0},Pe.prototype.dispose=function(){this.disposeRunner.run(this,!1)},Pe.prototype.destroy=function(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null},Pe.prototype.clone=function(){for(var t=new Pe,e=0;e<this.buffers.length;e++)t.buffers[e]=new be(this.buffers[e].data.slice());for(var r in this.attributes){var i=this.attributes[r];t.attributes[r]=new _e(i.buffer,i.size,i.normalized,i.type,i.stride,i.start,i.instance)}return this.indexBuffer&&(t.indexBuffer=t.buffers[this.buffers.indexOf(this.indexBuffer)],t.indexBuffer.index=!0),t},Pe.merge=function(t){for(var e,r=new Pe,i=[],n=[],o=[],s=0;s<t.length;s++){e=t[s];for(var a=0;a<e.buffers.length;a++)n[a]=n[a]||0,n[a]+=e.buffers[a].data.length,o[a]=0}for(var h=0;h<e.buffers.length;h++)i[h]=new(Se[Te(e.buffers[h].data)])(n[h]),r.buffers[h]=new be(i[h]);for(var u=0;u<t.length;u++){e=t[u];for(var l=0;l<e.buffers.length;l++)i[l].set(e.buffers[l].data,o[l]),o[l]+=e.buffers[l].data.length}if(r.attributes=e.attributes,e.indexBuffer){r.indexBuffer=r.buffers[e.buffers.indexOf(e.indexBuffer)],r.indexBuffer.index=!0;for(var c=0,d=0,p=0,f=0,m=0;m<e.buffers.length;m++)if(e.buffers[m]!==e.indexBuffer){f=m;break}for(var v in e.attributes){var g=e.attributes[v];(0|g.buffer)===f&&(d+=g.size*Ee[g.type]/4)}for(var y=0;y<t.length;y++){for(var _=t[y].indexBuffer.data,x=0;x<_.length;x++)r.indexBuffer.data[x+p]+=c;c+=e.buffers[f].data.length/d,p+=_.length}}return r};var Ae=function(t){function e(){t.call(this),this.addAttribute("aVertexPosition",[0,0,1,0,1,1,0,1]).addIndex([0,1,3,2])}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Pe),Oe=function(t){function e(){t.call(this),this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.vertexBuffer=new be(this.vertices),this.uvBuffer=new be(this.uvs),this.addAttribute("aVertexPosition",this.vertexBuffer).addAttribute("aTextureCoord",this.uvBuffer).addIndex([0,1,2,0,2,3])}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.map=function(t,e){var r=0,i=0;return this.uvs[0]=r,this.uvs[1]=i,this.uvs[2]=r+e.width/t.width,this.uvs[3]=i,this.uvs[4]=r+e.width/t.width,this.uvs[5]=i+e.height/t.height,this.uvs[6]=r,this.uvs[7]=i+e.height/t.height,r=e.x,i=e.y,this.vertices[0]=r,this.vertices[1]=i,this.vertices[2]=r+e.width,this.vertices[3]=i,this.vertices[4]=r+e.width,this.vertices[5]=i+e.height,this.vertices[6]=r,this.vertices[7]=i+e.height,this.invalidate(),this},e.prototype.invalidate=function(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this},e}(Pe),Ce=0,Me=function(t,e){this.uniforms=t,this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=Ce++,this.static=!!e};Me.prototype.update=function(){this.dirtyId++},Me.prototype.add=function(t,e,r){this.uniforms[t]=new Me(e,r)},Me.from=function(t,e){return new Me(t,e)};var De=function(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.sourceFrame=new Ct,this.destinationFrame=new Ct,this.filters=[]};De.prototype.clear=function(){this.target=null,this.filters=null,this.renderTexture=null};var Re=function(t){function e(e){t.call(this,e),this.defaultFilterStack=[{}],this.texturePool=new ye,this.texturePool.setScreenSize(e.view),this.statePool=[],this.quad=new Ae,this.quadUv=new Oe,this.tempRect=new Ct,this.activeState={},this.globalUniforms=new Me({outputFrame:this.tempRect,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this._pixelsWidth=e.view.width,this._pixelsHeight=e.view.height}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.push=function(t,e){for(var r=this.renderer,i=this.defaultFilterStack,n=this.statePool.pop()||new De,o=e[0].resolution,s=e[0].padding,a=e[0].autoFit,h=e[0].legacy,u=1;u<e.length;u++){var l=e[u];o=Math.min(o,l.resolution),s=Math.max(s,l.padding),a=a||l.autoFit,h=h||l.legacy}1===i.length&&(this.defaultFilterStack[0].renderTexture=r.renderTexture.current),i.push(n),n.resolution=o,n.legacy=h,n.target=t,n.sourceFrame.copyFrom(t.filterArea||t.getBounds(!0)),n.sourceFrame.pad(s),a&&n.sourceFrame.fit(this.renderer.renderTexture.sourceFrame),n.sourceFrame.ceil(o),n.renderTexture=this.getOptimalFilterTexture(n.sourceFrame.width,n.sourceFrame.height,o),n.filters=e,n.destinationFrame.width=n.renderTexture.width,n.destinationFrame.height=n.renderTexture.height,n.renderTexture.filterFrame=n.sourceFrame,r.renderTexture.bind(n.renderTexture,n.sourceFrame),r.renderTexture.clear()},e.prototype.pop=function(){var t=this.defaultFilterStack,e=t.pop(),r=e.filters;this.activeState=e;var i=this.globalUniforms.uniforms;i.outputFrame=e.sourceFrame,i.resolution=e.resolution;var n=i.inputSize,o=i.inputPixel,s=i.inputClamp;if(n[0]=e.destinationFrame.width,n[1]=e.destinationFrame.height,n[2]=1/n[0],n[3]=1/n[1],o[0]=n[0]*e.resolution,o[1]=n[1]*e.resolution,o[2]=1/o[0],o[3]=1/o[1],s[0]=.5*o[2],s[1]=.5*o[3],s[2]=e.sourceFrame.width*n[2]-.5*o[2],s[3]=e.sourceFrame.height*n[3]-.5*o[3],e.legacy){var a=i.filterArea;a[0]=e.destinationFrame.width,a[1]=e.destinationFrame.height,a[2]=e.sourceFrame.x,a[3]=e.sourceFrame.y,i.filterClamp=i.inputClamp}this.globalUniforms.update();var h=t[t.length-1];if(1===r.length)r[0].apply(this,e.renderTexture,h.renderTexture,!1,e),this.returnFilterTexture(e.renderTexture);else{var u=e.renderTexture,l=this.getOptimalFilterTexture(u.width,u.height,e.resolution);l.filterFrame=u.filterFrame;var c=0;for(c=0;c<r.length-1;++c){r[c].apply(this,u,l,!0,e);var d=u;u=l,l=d}r[c].apply(this,u,h.renderTexture,!1,e),this.returnFilterTexture(u),this.returnFilterTexture(l)}e.clear(),this.statePool.push(e)},e.prototype.applyFilter=function(t,e,r,i){var n=this.renderer;n.renderTexture.bind(r,r?r.filterFrame:null),i&&n.renderTexture.clear(),t.uniforms.uSampler=e,t.uniforms.filterGlobals=this.globalUniforms,n.state.set(t.state),n.shader.bind(t),t.legacy?(this.quadUv.map(e._frame,e.filterFrame),n.geometry.bind(this.quadUv),n.geometry.draw(p.TRIANGLES)):(n.geometry.bind(this.quad),n.geometry.draw(p.TRIANGLE_STRIP))},e.prototype.calculateSpriteMatrix=function(t,e){var r=this.activeState,i=r.sourceFrame,n=r.destinationFrame,o=e._texture.orig,s=t.set(n.width,0,0,n.height,i.x,i.y),a=e.worldTransform.copyTo(xt.TEMP_MATRIX);return a.invert(),s.prepend(a),s.scale(1/o.width,1/o.height),s.translate(e.anchor.x,e.anchor.y),s},e.prototype.destroy=function(){this.texturePool.clear(!1)},e.prototype.getOptimalFilterTexture=function(t,e,r){return void 0===r&&(r=1),this.texturePool.getOptimalTexture(t,e,r)},e.prototype.getFilterTexture=function(t,e){if("number"==typeof t){var r=t;t=e,e=r}t=t||this.activeState.renderTexture;var i=this.texturePool.getOptimalTexture(t.width,t.height,e||t.resolution);return i.filterFrame=t.filterFrame,i},e.prototype.returnFilterTexture=function(t){this.texturePool.returnTexture(t)},e.prototype.emptyPool=function(){this.texturePool.clear(!0)},e.prototype.resize=function(){this.texturePool.setScreenSize(this.renderer.view)},e}(he),Le=function(t){this.renderer=t};Le.prototype.flush=function(){},Le.prototype.destroy=function(){this.renderer=null},Le.prototype.start=function(){},Le.prototype.stop=function(){this.flush()},Le.prototype.render=function(t){};var Fe=function(t){function e(e){t.call(this,e),this.emptyRenderer=new Le(e),this.currentRenderer=this.emptyRenderer}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setObjectRenderer=function(t){this.currentRenderer!==t&&(this.currentRenderer.stop(),this.currentRenderer=t,this.currentRenderer.start())},e.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},e.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer)},e.prototype.copyBoundTextures=function(t,e){for(var r=this.renderer.texture.boundTextures,i=e-1;i>=0;--i)t[i]=r[i]||null,t[i]&&(t[i]._batchLocation=i)},e.prototype.boundArray=function(t,e,r,i){for(var n=t.elements,o=t.ids,s=t.count,a=0,h=0;h<s;h++){var u=n[h],l=u._batchLocation;if(l>=0&&l<i&&e[l]===u)o[h]=l;else for(;a<i;){var c=e[a];if(!c||c._batchEnabled!==r||c._batchLocation!==a){o[h]=a,u._batchLocation=a,e[a]=u;break}a++}}},e}(he);E.PREFER_ENV=u.a.any?l.WEBGL:l.WEBGL2,E.STRICT_TEXTURE_CACHE=!1;var Ne=0,Be=function(t){function e(e){t.call(this,e),this.webGLVersion=1,this.extensions={},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this),e.view.addEventListener("webglcontextlost",this.handleContextLost,!1),e.view.addEventListener("webglcontextrestored",this.handleContextRestored,!1)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={isLost:{configurable:!0}};return r.isLost.get=function(){return!this.gl||this.gl.isContextLost()},e.prototype.contextChange=function(t){this.gl=t,this.renderer.gl=t,this.renderer.CONTEXT_UID=Ne++,t.isContextLost()&&t.getExtension("WEBGL_lose_context")&&t.getExtension("WEBGL_lose_context").restoreContext()},e.prototype.initFromContext=function(t){this.gl=t,this.validateContext(t),this.renderer.gl=t,this.renderer.CONTEXT_UID=Ne++,this.renderer.runners.contextChange.run(t)},e.prototype.initFromOptions=function(t){var e=this.createContext(this.renderer.view,t);this.initFromContext(e)},e.prototype.createContext=function(t,e){var r;if(E.PREFER_ENV>=l.WEBGL2&&(r=t.getContext("webgl2",e)),r)this.webGLVersion=2;else if(this.webGLVersion=1,!(r=t.getContext("webgl",e)||t.getContext("experimental-webgl",e)))throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=r,this.getExtensions(),r},e.prototype.getExtensions=function(){var t=this.gl;1===this.webGLVersion?Object.assign(this.extensions,{drawBuffers:t.getExtension("WEBGL_draw_buffers"),depthTexture:t.getExtension("WEBKIT_WEBGL_depth_texture"),loseContext:t.getExtension("WEBGL_lose_context"),vertexArrayObject:t.getExtension("OES_vertex_array_object")||t.getExtension("MOZ_OES_vertex_array_object")||t.getExtension("WEBKIT_OES_vertex_array_object"),anisotropicFiltering:t.getExtension("EXT_texture_filter_anisotropic"),uint32ElementIndex:t.getExtension("OES_element_index_uint"),floatTexture:t.getExtension("OES_texture_float"),floatTextureLinear:t.getExtension("OES_texture_float_linear"),textureHalfFloat:t.getExtension("OES_texture_half_float"),textureHalfFloatLinear:t.getExtension("OES_texture_half_float_linear")}):2===this.webGLVersion&&Object.assign(this.extensions,{anisotropicFiltering:t.getExtension("EXT_texture_filter_anisotropic"),colorBufferFloat:t.getExtension("EXT_color_buffer_float"),floatTextureLinear:t.getExtension("OES_texture_float_linear")})},e.prototype.handleContextLost=function(t){t.preventDefault()},e.prototype.handleContextRestored=function(){this.renderer.runners.contextChange.run(this.gl)},e.prototype.destroy=function(){var t=this.renderer.view;t.removeEventListener("webglcontextlost",this.handleContextLost),t.removeEventListener("webglcontextrestored",this.handleContextRestored),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()},e.prototype.postrender=function(){this.renderer.renderingToScreen&&this.gl.flush()},e.prototype.validateContext=function(t){t.getContextAttributes().stencil||console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly")},Object.defineProperties(e.prototype,r),e}(he),Ue=function(t){function e(e){t.call(this,e),this.managedFramebuffers=[],this.unknownFramebuffer=new le(10,10)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={size:{configurable:!0}};return e.prototype.contextChange=function(){var t=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new Ct,this.hasMRT=!0,this.writeDepthTexture=!0,this.disposeAll(!0),1===this.renderer.context.webGLVersion){var e=this.renderer.context.extensions.drawBuffers,r=this.renderer.context.extensions.depthTexture;E.PREFER_ENV===l.WEBGL_LEGACY&&(e=null,r=null),e?t.drawBuffers=function(t){return e.drawBuffersWEBGL(t)}:(this.hasMRT=!1,t.drawBuffers=function(){}),r||(this.writeDepthTexture=!1)}},e.prototype.bind=function(t,e){var r=this.gl;if(t){var i=t.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(t);this.current!==t&&(this.current=t,r.bindFramebuffer(r.FRAMEBUFFER,i.framebuffer)),i.dirtyId!==t.dirtyId&&(i.dirtyId=t.dirtyId,i.dirtyFormat!==t.dirtyFormat?(i.dirtyFormat=t.dirtyFormat,this.updateFramebuffer(t)):i.dirtySize!==t.dirtySize&&(i.dirtySize=t.dirtySize,this.resizeFramebuffer(t)));for(var n=0;n<t.colorTextures.length;n++)t.colorTextures[n].texturePart?this.renderer.texture.unbind(t.colorTextures[n].texture):this.renderer.texture.unbind(t.colorTextures[n]);t.depthTexture&&this.renderer.texture.unbind(t.depthTexture),e?this.setViewport(e.x,e.y,e.width,e.height):this.setViewport(0,0,t.width,t.height)}else this.current&&(this.current=null,r.bindFramebuffer(r.FRAMEBUFFER,null)),e?this.setViewport(e.x,e.y,e.width,e.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)},e.prototype.setViewport=function(t,e,r,i){var n=this.viewport;n.width===r&&n.height===i&&n.x===t&&n.y===e||(n.x=t,n.y=e,n.width=r,n.height=i,this.gl.viewport(t,e,r,i))},r.size.get=function(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}},e.prototype.clear=function(t,e,r,i){var n=this.gl;n.clearColor(t,e,r,i),n.clear(n.COLOR_BUFFER_BIT|n.DEPTH_BUFFER_BIT)},e.prototype.initFramebuffer=function(t){var e={framebuffer:this.gl.createFramebuffer(),stencil:null,dirtyId:0,dirtyFormat:0,dirtySize:0};return t.glFramebuffers[this.CONTEXT_UID]=e,this.managedFramebuffers.push(t),t.disposeRunner.add(this),e},e.prototype.resizeFramebuffer=function(t){var e=this.gl,r=t.glFramebuffers[this.CONTEXT_UID];r.stencil&&(e.bindRenderbuffer(e.RENDERBUFFER,r.stencil),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,t.width,t.height));for(var i=t.colorTextures,n=0;n<i.length;n++)this.renderer.texture.bind(i[n],0);t.depthTexture&&this.renderer.texture.bind(t.depthTexture,0)},e.prototype.updateFramebuffer=function(t){var e=this.gl,r=t.glFramebuffers[this.CONTEXT_UID],i=t.colorTextures.length;e.drawBuffers||(i=Math.min(i,1));for(var n=[],o=0;o<i;o++){var s=t.colorTextures[o];s.texturePart?(this.renderer.texture.bind(s.texture,0),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+o,e.TEXTURE_CUBE_MAP_NEGATIVE_X+s.side,s.texture._glTextures[this.CONTEXT_UID].texture,0)):(this.renderer.texture.bind(s,0),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+o,e.TEXTURE_2D,s._glTextures[this.CONTEXT_UID].texture,0)),n.push(e.COLOR_ATTACHMENT0+o)}if((n.length>1&&e.drawBuffers(n),t.depthTexture)&&this.writeDepthTexture){var a=t.depthTexture;this.renderer.texture.bind(a,0),e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,a._glTextures[this.CONTEXT_UID].texture,0)}r.stencil||!t.stencil&&!t.depth||(r.stencil=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,r.stencil),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,t.width,t.height),t.depthTexture||e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.RENDERBUFFER,r.stencil))},e.prototype.disposeFramebuffer=function(t,e){var r=t.glFramebuffers[this.CONTEXT_UID],i=this.gl;if(r){delete t.glFramebuffers[this.CONTEXT_UID];var n=this.managedFramebuffers.indexOf(t);n>=0&&this.managedFramebuffers.splice(n,1),t.disposeRunner.remove(this),e||(i.deleteFramebuffer(r.framebuffer),r.stencil&&i.deleteRenderbuffer(r.stencil))}},e.prototype.disposeAll=function(t){var e=this.managedFramebuffers;this.managedFramebuffers=[];for(var r=0;r<e.length;r++)this.disposeFramebuffer(e[r],t)},e.prototype.forceStencil=function(){var t=this.current;if(t){var e=t.glFramebuffers[this.CONTEXT_UID];if(e&&!e.stencil){t.enableStencil();var r=t.width,i=t.height,n=this.gl,o=n.createRenderbuffer();n.bindRenderbuffer(n.RENDERBUFFER,o),n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,r,i),e.stencil=o,n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,o)}}},e.prototype.reset=function(){this.current=this.unknownFramebuffer,this.viewport=new Ct},Object.defineProperties(e.prototype,r),e}(he),ke=function(t){this.buffer=t,this.updateID=-1,this.byteLength=-1,this.refCount=0},Xe={5126:4,5123:2,5121:1},je=function(t){function e(e){t.call(this,e),this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.boundBuffers={},this.managedGeometries={},this.managedBuffers={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.contextChange=function(){this.disposeAll(!0);var t=this.gl=this.renderer.gl,e=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,!t.createVertexArray){var r=this.renderer.context.extensions.vertexArrayObject;E.PREFER_ENV===l.WEBGL_LEGACY&&(r=null),r?(t.createVertexArray=function(){return r.createVertexArrayOES()},t.bindVertexArray=function(t){return r.bindVertexArrayOES(t)},t.deleteVertexArray=function(t){return r.deleteVertexArrayOES(t)}):(this.hasVao=!1,t.createVertexArray=function(){},t.bindVertexArray=function(){},t.deleteVertexArray=function(){})}if(!t.vertexAttribDivisor){var i=t.getExtension("ANGLE_instanced_arrays");i?(t.vertexAttribDivisor=function(t,e){return i.vertexAttribDivisorANGLE(t,e)},t.drawElementsInstanced=function(t,e,r,n,o){return i.drawElementsInstancedANGLE(t,e,r,n,o)},t.drawArraysInstanced=function(t,e,r,n){return i.drawArraysInstancedANGLE(t,e,r,n)}):this.hasInstance=!1}this.canUseUInt32ElementIndex=2===e.webGLVersion||!!e.extensions.uint32ElementIndex},e.prototype.bind=function(t,e){e=e||this.renderer.shader.shader;var r=this.gl,i=t.glVertexArrayObjects[this.CONTEXT_UID];i||(this.managedGeometries[t.id]=t,t.disposeRunner.add(this),t.glVertexArrayObjects[this.CONTEXT_UID]=i={});var n=i[e.program.id]||this.initGeometryVao(t,e.program);this._activeGeometry=t,this._activeVao!==n&&(this._activeVao=n,this.hasVao?r.bindVertexArray(n):this.activateVao(t,e.program)),this.updateBuffers()},e.prototype.reset=function(){this.unbind()},e.prototype.updateBuffers=function(){for(var t=this._activeGeometry,e=this.gl,r=0;r<t.buffers.length;r++){var i=t.buffers[r],n=i._glBuffers[this.CONTEXT_UID];if(i._updateID!==n.updateID){n.updateID=i._updateID;var o=i.index?e.ELEMENT_ARRAY_BUFFER:e.ARRAY_BUFFER;if(e.bindBuffer(o,n.buffer),this._boundBuffer=n,n.byteLength>=i.data.byteLength)e.bufferSubData(o,0,i.data);else{var s=i.static?e.STATIC_DRAW:e.DYNAMIC_DRAW;n.byteLength=i.data.byteLength,e.bufferData(o,i.data,s)}}}},e.prototype.checkCompatibility=function(t,e){var r=t.attributes,i=e.attributeData;for(var n in i)if(!r[n])throw new Error('shader and geometry incompatible, geometry missing the "'+n+'" attribute')},e.prototype.getSignature=function(t,e){var r=t.attributes,i=e.attributeData,n=["g",t.id];for(var o in r)i[o]&&n.push(o);return n.join("-")},e.prototype.initGeometryVao=function(t,e){this.checkCompatibility(t,e);var r=this.gl,i=this.CONTEXT_UID,n=this.getSignature(t,e),o=t.glVertexArrayObjects[this.CONTEXT_UID],s=o[n];if(s)return o[e.id]=s,s;var a=t.buffers,h=t.attributes,u={},l={};for(var c in a)u[c]=0,l[c]=0;for(var d in h)!h[d].size&&e.attributeData[d]?h[d].size=e.attributeData[d].size:h[d].size||console.warn("PIXI Geometry attribute '"+d+"' size cannot be determined (likely the bound shader does not have the attribute)"),u[h[d].buffer]+=h[d].size*Xe[h[d].type];for(var p in h){var f=h[p],m=f.size;void 0===f.stride&&(u[f.buffer]===m*Xe[f.type]?f.stride=0:f.stride=u[f.buffer]),void 0===f.start&&(f.start=l[f.buffer],l[f.buffer]+=m*Xe[f.type])}s=r.createVertexArray(),r.bindVertexArray(s);for(var v=0;v<a.length;v++){var g=a[v];g._glBuffers[i]||(g._glBuffers[i]=new ke(r.createBuffer()),this.managedBuffers[g.id]=g,g.disposeRunner.add(this)),g._glBuffers[i].refCount++}return this.activateVao(t,e),this._activeVao=s,o[e.id]=s,o[n]=s,s},e.prototype.disposeBuffer=function(t,e){if(this.managedBuffers[t.id]){delete this.managedBuffers[t.id];var r=t._glBuffers[this.CONTEXT_UID],i=this.gl;t.disposeRunner.remove(this),r&&(e||i.deleteBuffer(r.buffer),delete t._glBuffers[this.CONTEXT_UID])}},e.prototype.disposeGeometry=function(t,e){if(this.managedGeometries[t.id]){delete this.managedGeometries[t.id];var r=t.glVertexArrayObjects[this.CONTEXT_UID],i=this.gl,n=t.buffers;if(t.disposeRunner.remove(this),r){for(var o=0;o<n.length;o++){var s=n[o]._glBuffers[this.CONTEXT_UID];s.refCount--,0!==s.refCount||e||this.disposeBuffer(n[o],e)}if(!e)for(var a in r)if("g"===a[0]){var h=r[a];this._activeVao===h&&this.unbind(),i.deleteVertexArray(h)}delete t.glVertexArrayObjects[this.CONTEXT_UID]}}},e.prototype.disposeAll=function(t){for(var e=Object.keys(this.managedGeometries),r=0;r<e.length;r++)this.disposeGeometry(this.managedGeometries[e[r]],t);e=Object.keys(this.managedBuffers);for(var i=0;i<e.length;i++)this.disposeBuffer(this.managedBuffers[e[i]],t)},e.prototype.activateVao=function(t,e){var r=this.gl,i=this.CONTEXT_UID,n=t.buffers,o=t.attributes;t.indexBuffer&&r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,t.indexBuffer._glBuffers[i].buffer);var s=null;for(var a in o){var h=o[a],u=n[h.buffer]._glBuffers[i];if(e.attributeData[a]){s!==u&&(r.bindBuffer(r.ARRAY_BUFFER,u.buffer),s=u);var l=e.attributeData[a].location;if(r.enableVertexAttribArray(l),r.vertexAttribPointer(l,h.size,h.type||r.FLOAT,h.normalized,h.stride,h.start),h.instance){if(!this.hasInstance)throw new Error("geometry error, GPU Instancing is not supported on this device");r.vertexAttribDivisor(l,1)}}}},e.prototype.draw=function(t,e,r,i){var n=this.gl,o=this._activeGeometry;if(o.indexBuffer){var s=o.indexBuffer.data.BYTES_PER_ELEMENT,a=2===s?n.UNSIGNED_SHORT:n.UNSIGNED_INT;2===s||4===s&&this.canUseUInt32ElementIndex?o.instanced?n.drawElementsInstanced(t,e||o.indexBuffer.data.length,a,(r||0)*s,i||1):n.drawElements(t,e||o.indexBuffer.data.length,a,(r||0)*s):console.warn("unsupported index buffer type: uint32")}else o.instanced?n.drawArraysInstanced(t,r,e||o.getSize(),i||1):n.drawArrays(t,r,e||o.getSize());return this},e.prototype.unbind=function(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null},e}(he),Ge=function(t){this.type=w.NONE,this.autoDetect=!0,this.maskObject=t||null,this.pooled=!1,this.isMaskData=!0,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._target=null};function He(t,e,r,i){var n=ze(t,t.VERTEX_SHADER,e),o=ze(t,t.FRAGMENT_SHADER,r),s=t.createProgram();if(t.attachShader(s,n),t.attachShader(s,o),i)for(var a in i)t.bindAttribLocation(s,i[a],a);return t.linkProgram(s),t.getProgramParameter(s,t.LINK_STATUS)||(console.error("Pixi.js Error: Could not initialize shader."),console.error("gl.VALIDATE_STATUS",t.getProgramParameter(s,t.VALIDATE_STATUS)),console.error("gl.getError()",t.getError()),""!==t.getProgramInfoLog(s)&&console.warn("Pixi.js Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(s)),t.deleteProgram(s),s=null),t.deleteShader(n),t.deleteShader(o),s}function ze(t,e,r){var i=t.createShader(e);return t.shaderSource(i,r),t.compileShader(i),t.getShaderParameter(i,t.COMPILE_STATUS)?i:(console.warn(r),console.error(t.getShaderInfoLog(i)),null)}function Ve(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"bool":return!1;case"bvec2":return Ye(2*e);case"bvec3":return Ye(3*e);case"bvec4":return Ye(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}function Ye(t){for(var e=new Array(t),r=0;r<e.length;r++)e[r]=!1;return e}Ge.prototype.reset=function(){this.pooled&&(this.maskObject=null,this.type=w.NONE,this.autoDetect=!0),this._target=null},Ge.prototype.copyCountersOrReset=function(t){t?(this._stencilCounter=t._stencilCounter,this._scissorCounter=t._scissorCounter,this._scissorRect=t._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)};var We,qe={},Ze=qe;function Ke(){if(Ze===qe||Ze&&Ze.isContextLost()){var t,e=document.createElement("canvas");E.PREFER_ENV>=l.WEBGL2&&(t=e.getContext("webgl2",{})),t||((t=e.getContext("webgl",{})||e.getContext("experimental-webgl",{}))?t.getExtension("WEBGL_draw_buffers"):t=null),Ze=t}return Ze}function Je(t,e,r){if("precision"!==t.substring(0,9)){var i=e;return e===T.HIGH&&r!==T.HIGH&&(i=T.MEDIUM),"precision "+i+" float;\n"+t}return r!==T.HIGH&&"precision highp"===t.substring(0,15)?t.replace("precision highp","precision mediump"):t}var Qe={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function $e(t){return Qe[t]}var tr=null,er={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray"};function rr(t,e){if(!tr){var r=Object.keys(er);tr={};for(var i=0;i<r.length;++i){var n=r[i];tr[t[n]]=er[n]}}return tr[e]}var ir={float:"\n    if(cv !== v)\n    {\n        cv.v = v;\n        gl.uniform1f(location, v)\n    }",vec2:"\n    if(cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        gl.uniform2f(location, v[0], v[1])\n    }",vec3:"\n    if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3f(location, v[0], v[1], v[2])\n    }",vec4:"gl.uniform4f(location, v[0], v[1], v[2], v[3])",int:"gl.uniform1i(location, v)",ivec2:"gl.uniform2i(location, v[0], v[1])",ivec3:"gl.uniform3i(location, v[0], v[1], v[2])",ivec4:"gl.uniform4i(location, v[0], v[1], v[2], v[3])",bool:"gl.uniform1i(location, v)",bvec2:"gl.uniform2i(location, v[0], v[1])",bvec3:"gl.uniform3i(location, v[0], v[1], v[2])",bvec4:"gl.uniform4i(location, v[0], v[1], v[2], v[3])",mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:"gl.uniform1i(location, v)",samplerCube:"gl.uniform1i(location, v)",sampler2DArray:"gl.uniform1i(location, v)"},nr={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};var or,sr=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n");function ar(t,e){if(0===t)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");for(var r=e.createShader(e.FRAGMENT_SHADER);;){var i=sr.replace(/%forloop%/gi,hr(t));if(e.shaderSource(r,i),e.compileShader(r),e.getShaderParameter(r,e.COMPILE_STATUS))break;t=t/2|0}return t}function hr(t){for(var e="",r=0;r<t;++r)r>0&&(e+="\nelse "),r<t-1&&(e+="if(test == "+r+".0){}");return e}var ur=0,lr={},cr=function t(e,r,i){void 0===i&&(i="pixi-shader"),this.id=ur++,this.vertexSrc=e||t.defaultVertexSrc,this.fragmentSrc=r||t.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),"#version"!==this.vertexSrc.substring(0,8)&&(i=i.replace(/\s+/g,"-"),lr[i]?(lr[i]++,i+="-"+lr[i]):lr[i]=1,this.vertexSrc="#define SHADER_NAME "+i+"\n"+this.vertexSrc,this.fragmentSrc="#define SHADER_NAME "+i+"\n"+this.fragmentSrc,this.vertexSrc=Je(this.vertexSrc,E.PRECISION_VERTEX,T.HIGH),this.fragmentSrc=Je(this.fragmentSrc,E.PRECISION_FRAGMENT,function(){if(!We){We=T.MEDIUM;var t=Ke();if(t&&t.getShaderPrecisionFormat){var e=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT);We=e.precision?T.HIGH:T.MEDIUM}}return We}())),this.extractData(this.vertexSrc,this.fragmentSrc),this.glPrograms={},this.syncUniforms=null},dr={defaultVertexSrc:{configurable:!0},defaultFragmentSrc:{configurable:!0}};cr.prototype.extractData=function(t,e){var r=Ke();if(r){var i=He(r,t,e);this.attributeData=this.getAttributeData(i,r),this.uniformData=this.getUniformData(i,r),r.deleteProgram(i)}else this.uniformData={},this.attributeData={}},cr.prototype.getAttributeData=function(t,e){for(var r={},i=[],n=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),o=0;o<n;o++){var s=e.getActiveAttrib(t,o),a=rr(e,s.type),h={type:a,name:s.name,size:$e(a),location:0};r[s.name]=h,i.push(h)}i.sort((function(t,e){return t.name>e.name?1:-1}));for(var u=0;u<i.length;u++)i[u].location=u;return r},cr.prototype.getUniformData=function(t,e){for(var r={},i=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),n=0;n<i;n++){var o=e.getActiveUniform(t,n),s=o.name.replace(/\[.*?\]/,""),a=o.name.match(/\[.*?\]/,""),h=rr(e,o.type);r[s]={type:h,size:o.size,isArray:a,value:Ve(h,o.size)}}return r},dr.defaultVertexSrc.get=function(){return"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n}\n"},dr.defaultFragmentSrc.get=function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor *= texture2D(uSampler, vTextureCoord);\n}"},cr.from=function(t,e,r){var i=t+e,n=$[i];return n||($[i]=n=new cr(t,e,r)),n},Object.defineProperties(cr,dr);var pr=function(t,e){for(var r in this.program=t,this.uniformGroup=e?e instanceof Me?e:new Me(e):new Me({}),t.uniformData)this.uniformGroup.uniforms[r]instanceof Array&&(this.uniformGroup.uniforms[r]=new Float32Array(this.uniformGroup.uniforms[r]))},fr={uniforms:{configurable:!0}};pr.prototype.checkUniformExists=function(t,e){if(e.uniforms[t])return!0;for(var r in e.uniforms){var i=e.uniforms[r];if(i.group&&this.checkUniformExists(t,i))return!0}return!1},pr.prototype.destroy=function(){this.uniformGroup=null},fr.uniforms.get=function(){return this.uniformGroup.uniforms},pr.from=function(t,e,r){var i=cr.from(t,e);return new pr(i,r)},Object.defineProperties(pr.prototype,fr);var mr=function(){this.data=0,this.blendMode=d.NORMAL,this.polygonOffset=0,this.blend=!0},vr={blend:{configurable:!0},offsets:{configurable:!0},culling:{configurable:!0},depthTest:{configurable:!0},clockwiseFrontFace:{configurable:!0},blendMode:{configurable:!0},polygonOffset:{configurable:!0}};vr.blend.get=function(){return!!(1&this.data)},vr.blend.set=function(t){!!(1&this.data)!==t&&(this.data^=1)},vr.offsets.get=function(){return!!(2&this.data)},vr.offsets.set=function(t){!!(2&this.data)!==t&&(this.data^=2)},vr.culling.get=function(){return!!(4&this.data)},vr.culling.set=function(t){!!(4&this.data)!==t&&(this.data^=4)},vr.depthTest.get=function(){return!!(8&this.data)},vr.depthTest.set=function(t){!!(8&this.data)!==t&&(this.data^=8)},vr.clockwiseFrontFace.get=function(){return!!(16&this.data)},vr.clockwiseFrontFace.set=function(t){!!(16&this.data)!==t&&(this.data^=16)},vr.blendMode.get=function(){return this._blendMode},vr.blendMode.set=function(t){this.blend=t!==d.NONE,this._blendMode=t},vr.polygonOffset.get=function(){return this._polygonOffset},vr.polygonOffset.set=function(t){this.offsets=!!t,this._polygonOffset=t},mr.for2d=function(){var t=new mr;return t.depthTest=!1,t.blend=!0,t},Object.defineProperties(mr.prototype,vr);var gr=function(t){function e(r,i,n){var o=cr.from(r||e.defaultVertexSrc,i||e.defaultFragmentSrc);t.call(this,o,n),this.padding=0,this.resolution=E.FILTER_RESOLUTION,this.enabled=!0,this.autoFit=!0,this.legacy=!!this.program.attributeData.aTextureCoord,this.state=new mr}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={blendMode:{configurable:!0}},i={defaultVertexSrc:{configurable:!0},defaultFragmentSrc:{configurable:!0}};return e.prototype.apply=function(t,e,r,i,n){t.applyFilter(this,e,r,i,n)},r.blendMode.get=function(){return this.state.blendMode},r.blendMode.set=function(t){this.state.blendMode=t},i.defaultVertexSrc.get=function(){return"attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n"},i.defaultFragmentSrc.get=function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n}\n"},Object.defineProperties(e.prototype,r),Object.defineProperties(e,i),e}(pr);gr.SOURCE_KEY_MAP={};var yr=new xt,_r=function(t,e){this._texture=t,this.mapCoord=new xt,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._updateID=-1,this.clampOffset=0,this.clampMargin=void 0===e?.5:e,this.isSimple=!1},xr={texture:{configurable:!0}};xr.texture.get=function(){return this._texture},xr.texture.set=function(t){this._texture=t,this._updateID=-1},_r.prototype.multiplyUvs=function(t,e){void 0===e&&(e=t);for(var r=this.mapCoord,i=0;i<t.length;i+=2){var n=t[i],o=t[i+1];e[i]=n*r.a+o*r.c+r.tx,e[i+1]=n*r.b+o*r.d+r.ty}return e},_r.prototype.update=function(t){var e=this._texture;if(!e||!e.valid)return!1;if(!t&&this._updateID===e._updateID)return!1;this._updateID=e._updateID;var r=e._uvs;this.mapCoord.set(r.x1-r.x0,r.y1-r.y0,r.x3-r.x0,r.y3-r.y0,r.x0,r.y0);var i=e.orig,n=e.trim;n&&(yr.set(i.width/n.width,0,0,i.height/n.height,-n.x/n.width,-n.y/n.height),this.mapCoord.append(yr));var o=e.baseTexture,s=this.uClampFrame,a=this.clampMargin/o.resolution,h=this.clampOffset;return s[0]=(e._frame.x+a+h)/o.width,s[1]=(e._frame.y+a+h)/o.height,s[2]=(e._frame.x+e._frame.width-a+h)/o.width,s[3]=(e._frame.y+e._frame.height-a+h)/o.height,this.uClampOffset[0]=h/o.realWidth,this.uClampOffset[1]=h/o.realHeight,this.isSimple=e._frame.width===o.width&&e._frame.height===o.height&&0===e.rotate,!0},Object.defineProperties(_r.prototype,xr);var br=function(t){function e(e){var r=new xt;t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n","varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform float npmAlpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);\n\n    original *= (alphaMul * masky.r * alpha * clip);\n\n    gl_FragColor = original;\n}\n"),e.renderable=!1,this.maskSprite=e,this.maskMatrix=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.apply=function(t,e,r,i){var n=this.maskSprite,o=this.maskSprite.texture;o.valid&&(o.transform||(o.transform=new _r(o,0)),o.transform.update(),this.uniforms.npmAlpha=o.baseTexture.alphaMode?0:1,this.uniforms.mask=o,this.uniforms.otherMatrix=t.calculateSpriteMatrix(this.maskMatrix,n).prepend(o.transform.mapCoord),this.uniforms.alpha=n.worldAlpha,this.uniforms.maskClamp=o.transform.uClampFrame,t.applyFilter(this,e,r,i))},e}(gr),Tr=function(t){function e(e){t.call(this,e),this.scissorRenderTarget=null,this.enableScissor=!1,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setMaskStack=function(t){this.maskStack=t,this.renderer.scissor.setMaskStack(t),this.renderer.stencil.setMaskStack(t)},e.prototype.push=function(t,e){if(!e.isMaskData){var r=this.maskDataPool.pop()||new Ge;r.pooled=!0,r.maskObject=e,e=r}switch(e.autoDetect&&this.detect(e),e.copyCountersOrReset(this.maskStack[this.maskStack.length-1]),e._target=t,e.type){case w.SCISSOR:this.maskStack.push(e),this.renderer.scissor.push(e);break;case w.STENCIL:this.maskStack.push(e),this.renderer.stencil.push(e);break;case w.SPRITE:e.copyCountersOrReset(null),this.pushSpriteMask(e),this.maskStack.push(e)}},e.prototype.pop=function(t){var e=this.maskStack.pop();if(e&&e._target===t){switch(e.type){case w.SCISSOR:this.renderer.scissor.pop();break;case w.STENCIL:this.renderer.stencil.pop(e.maskObject);break;case w.SPRITE:this.popSpriteMask()}e.reset(),e.pooled&&this.maskDataPool.push(e)}},e.prototype.detect=function(t){var e=t.maskObject;if(e.isSprite)t.type=w.SPRITE;else if(t.type=w.STENCIL,this.enableScissor&&e.isFastRect&&e.isFastRect()){var r=e.worldTransform,i=Math.atan2(r.b,r.a),n=Math.atan2(r.d,r.c);i=Math.round(i*(180/Math.PI)*100),n=((n=Math.round(n*(180/Math.PI)*100)-i)%18e3+18e3)%18e3,0===(i=(i%9e3+9e3)%9e3)&&9e3===n&&(t.type=w.SCISSOR)}},e.prototype.pushSpriteMask=function(t){var e=t.maskObject,r=t._target,i=this.alphaMaskPool[this.alphaMaskIndex];i||(i=this.alphaMaskPool[this.alphaMaskIndex]=[new br(e)]),i[0].resolution=this.renderer.resolution,i[0].maskSprite=e;var n=r.filterArea;r.filterArea=e.getBounds(!0),this.renderer.filter.push(r,i),r.filterArea=n,this.alphaMaskIndex++},e.prototype.popSpriteMask=function(){this.renderer.filter.pop(),this.alphaMaskIndex--},e}(he),wr=function(t){function e(e){t.call(this,e),this.maskStack=[],this.glConst=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getStackLength=function(){return this.maskStack.length},e.prototype.setMaskStack=function(t){var e=this.renderer.gl,r=this.getStackLength();this.maskStack=t;var i=this.getStackLength();i!==r&&(0===i?e.disable(this.glConst):(e.enable(this.glConst),this._useCurrent()))},e.prototype._useCurrent=function(){},e.prototype.destroy=function(){t.prototype.destroy.call(this,this),this.maskStack=null},e}(he),Er=function(t){function e(e){t.call(this,e),this.glConst=WebGLRenderingContext.SCISSOR_TEST}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getStackLength=function(){var t=this.maskStack[this.maskStack.length-1];return t?t._scissorCounter:0},e.prototype.push=function(t){var e=t.maskObject;e.renderable=!0;var r=t._scissorRect,i=e.getBounds(!0),n=this.renderer.gl;e.renderable=!1,r?i.fit(r):n.enable(n.SCISSOR_TEST),t._scissorCounter++,t._scissorRect=i,this._useCurrent()},e.prototype.pop=function(){var t=this.renderer.gl;this.getStackLength()>0?this._useCurrent():t.disable(t.SCISSOR_TEST)},e.prototype._useCurrent=function(){var t=this.maskStack[this.maskStack.length-1]._scissorRect,e=this.renderer.renderTexture.current,r=this.renderer.projection,i=r.transform,n=r.sourceFrame,o=r.destinationFrame,s=e?e.resolution:this.renderer.resolution,a=(t.x-n.x)*s+o.x,h=(t.y-n.y)*s+o.y,u=t.width*s,l=t.height*s;i&&(a+=i.tx*s,h+=i.ty*s),e||(h=this.renderer.height-l-h),this.renderer.gl.scissor(a,h,u,l)},e}(wr),Ir=function(t){function e(e){t.call(this,e),this.glConst=WebGLRenderingContext.STENCIL_TEST}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getStackLength=function(){var t=this.maskStack[this.maskStack.length-1];return t?t._stencilCounter:0},e.prototype.push=function(t){var e=t.maskObject,r=this.renderer.gl,i=t._stencilCounter;0===i&&(this.renderer.framebuffer.forceStencil(),r.enable(r.STENCIL_TEST)),t._stencilCounter++,r.colorMask(!1,!1,!1,!1),r.stencilFunc(r.EQUAL,i,this._getBitwiseMask()),r.stencilOp(r.KEEP,r.KEEP,r.INCR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,this._useCurrent()},e.prototype.pop=function(t){var e=this.renderer.gl;0===this.getStackLength()?(e.disable(e.STENCIL_TEST),e.clear(e.STENCIL_BUFFER_BIT),e.clearStencil(0)):(e.colorMask(!1,!1,!1,!1),e.stencilOp(e.KEEP,e.KEEP,e.DECR),t.renderable=!0,t.render(this.renderer),this.renderer.batch.flush(),t.renderable=!1,this._useCurrent())},e.prototype._useCurrent=function(){var t=this.renderer.gl;t.colorMask(!0,!0,!0,!0),t.stencilFunc(t.EQUAL,this.getStackLength(),this._getBitwiseMask()),t.stencilOp(t.KEEP,t.KEEP,t.KEEP)},e.prototype._getBitwiseMask=function(){return(1<<this.getStackLength())-1},e}(wr),Sr=function(t){function e(e){t.call(this,e),this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new xt,this.transform=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.update=function(t,e,r,i){this.destinationFrame=t||this.destinationFrame||this.defaultFrame,this.sourceFrame=e||this.sourceFrame||t,this.calculateProjection(this.destinationFrame,this.sourceFrame,r,i),this.transform&&this.projectionMatrix.append(this.transform);var n=this.renderer;n.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,n.globalUniforms.update(),n.shader.shader&&n.shader.syncUniformGroup(n.shader.shader.uniforms.globals)},e.prototype.calculateProjection=function(t,e,r,i){var n=this.projectionMatrix;i?(n.a=1/t.width*2*r,n.d=-1/t.height*2*r,n.tx=-1-e.x*n.a,n.ty=1-e.y*n.d):(n.a=1/t.width*2*r,n.d=1/t.height*2*r,n.tx=-1-e.x*n.a,n.ty=-1-e.y*n.d)},e.prototype.setTransform=function(){},e}(he),Pr=new Ct,Ar=function(t){function e(e){t.call(this,e),this.clearColor=e._backgroundColorRgba,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new Ct,this.destinationFrame=new Ct}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.bind=function(t,e,r){void 0===t&&(t=null),this.current=t;var i,n=this.renderer;if(t){var o=t.baseTexture;i=o.resolution,r||(Pr.width=o.realWidth,Pr.height=o.realHeight,r=Pr),e||(e=r),this.renderer.framebuffer.bind(o.framebuffer,r),this.renderer.projection.update(r,e,i,!1),this.renderer.mask.setMaskStack(o.maskStack)}else i=this.renderer.resolution,r||(Pr.width=n.width,Pr.height=n.height,r=Pr),e||(e=r),n.framebuffer.bind(null,r),this.renderer.projection.update(r,e,i,!0),this.renderer.mask.setMaskStack(this.defaultMaskStack);this.sourceFrame.copyFrom(e),this.destinationFrame.x=r.x/i,this.destinationFrame.y=r.y/i,this.destinationFrame.width=r.width/i,this.destinationFrame.height=r.height/i,e===r&&this.sourceFrame.copyFrom(this.destinationFrame)},e.prototype.clear=function(t){t=this.current?t||this.current.baseTexture.clearColor:t||this.clearColor,this.renderer.framebuffer.clear(t[0],t[1],t[2],t[3])},e.prototype.resize=function(){this.bind(null)},e.prototype.reset=function(){this.bind(null)},e}(he),Or=function(t,e){this.program=t,this.uniformData=e,this.uniformGroups={}};Or.prototype.destroy=function(){this.uniformData=null,this.uniformGroups=null,this.program=null};var Cr=0,Mr=function(t){function e(e){t.call(this,e),this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this.id=Cr++}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.systemCheck=function(){if(!function(){if("boolean"==typeof or)return or;try{var t=new Function("param1","param2","param3","return param1[param2] === param3;");or=!0===t({a:"b"},"a","b")}catch(t){or=!1}return or}())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")},e.prototype.contextChange=function(t){this.gl=t,this.reset()},e.prototype.bind=function(t,e){t.uniforms.globals=this.renderer.globalUniforms;var r=t.program,i=r.glPrograms[this.renderer.CONTEXT_UID]||this.generateShader(t);return this.shader=t,this.program!==r&&(this.program=r,this.gl.useProgram(i.program)),e||this.syncUniformGroup(t.uniformGroup),i},e.prototype.setUniforms=function(t){var e=this.shader.program,r=e.glPrograms[this.renderer.CONTEXT_UID];e.syncUniforms(r.uniformData,t,this.renderer)},e.prototype.syncUniformGroup=function(t){var e=this.getglProgram();t.static&&t.dirtyId===e.uniformGroups[t.id]||(e.uniformGroups[t.id]=t.dirtyId,this.syncUniforms(t,e))},e.prototype.syncUniforms=function(t,e){(t.syncUniforms[this.shader.program.id]||this.createSyncGroups(t))(e.uniformData,t.uniforms,this.renderer)},e.prototype.createSyncGroups=function(t){var e=this.getSignature(t,this.shader.program.uniformData);return this.cache[e]||(this.cache[e]=function(t,e){var r=0,i="var v = null;\n    var cv = null\n    var gl = renderer.gl";for(var n in t.uniforms){var o=e[n];if(o)if("float"===o.type&&1===o.size)i+="\n            if(uv."+n+" !== ud."+n+".value)\n            {\n                ud."+n+".value = uv."+n+"\n                gl.uniform1f(ud."+n+".location, uv."+n+")\n            }\n";else if("sampler2D"!==o.type&&"samplerCube"!==o.type&&"sampler2DArray"!==o.type||1!==o.size||o.isArray)if("mat3"===o.type&&1===o.size)void 0!==t.uniforms[n].a?i+="\n                gl.uniformMatrix3fv(ud."+n+".location, false, uv."+n+".toArray(true));\n                \n":i+="\n                gl.uniformMatrix3fv(ud."+n+".location, false, uv."+n+");\n                \n";else if("vec2"===o.type&&1===o.size)void 0!==t.uniforms[n].x?i+="\n                cv = ud."+n+".value;\n                v = uv."+n+";\n\n                if(cv[0] !== v.x || cv[1] !== v.y)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    gl.uniform2f(ud."+n+".location, v.x, v.y);\n                }\n":i+="\n                cv = ud."+n+".value;\n                v = uv."+n+";\n\n                if(cv[0] !== v[0] || cv[1] !== v[1])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    gl.uniform2f(ud."+n+".location, v[0], v[1]);\n                }\n                \n";else if("vec4"===o.type&&1===o.size)void 0!==t.uniforms[n].width?i+="\n                cv = ud."+n+".value;\n                v = uv."+n+";\n\n                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    cv[2] = v.width;\n                    cv[3] = v.height;\n                    gl.uniform4f(ud."+n+".location, v.x, v.y, v.width, v.height)\n                }\n":i+="\n                cv = ud."+n+".value;\n                v = uv."+n+";\n\n                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    cv[2] = v[2];\n                    cv[3] = v[3];\n\n                    gl.uniform4f(ud."+n+".location, v[0], v[1], v[2], v[3])\n                }\n                \n";else{i+="\n            cv = ud."+n+".value;\n            v = uv."+n+";\n            "+(1===o.size?ir:nr)[o.type].replace("location","ud."+n+".location")+";\n"}else i+="\n            renderer.texture.bind(uv."+n+", "+r+");\n\n            if(ud."+n+".value !== "+r+")\n            {\n                ud."+n+".value = "+r+";\n                gl.uniform1i(ud."+n+".location, "+r+");\n; // eslint-disable-line max-len\n            }\n",r++;else t.uniforms[n].group&&(i+="\n                    renderer.shader.syncUniformGroup(uv."+n+");\n                ")}return new Function("ud","uv","renderer",i)}(t,this.shader.program.uniformData)),t.syncUniforms[this.shader.program.id]=this.cache[e],t.syncUniforms[this.shader.program.id]},e.prototype.getSignature=function(t,e){var r=t.uniforms,i=[];for(var n in r)i.push(n),e[n]&&i.push(e[n].type);return i.join("-")},e.prototype.getglProgram=function(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null},e.prototype.generateShader=function(t){var e=this.gl,r=t.program,i={};for(var n in r.attributeData)i[n]=r.attributeData[n].location;var o=He(e,r.vertexSrc,r.fragmentSrc,i),s={};for(var a in r.uniformData){var h=r.uniformData[a];s[a]={location:e.getUniformLocation(o,a),value:Ve(h.type,h.size)}}var u=new Or(o,s);return r.glPrograms[this.renderer.CONTEXT_UID]=u,u},e.prototype.reset=function(){this.program=null,this.shader=null},e.prototype.destroy=function(){this.destroyed=!0},e}(he);var Dr=function(t){function e(e){t.call(this,e),this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=d.NONE,this._blendEq=!1,this.map=[],this.map[0]=this.setBlend,this.map[1]=this.setOffset,this.map[2]=this.setCullFace,this.map[3]=this.setDepthTest,this.map[4]=this.setFrontFace,this.checks=[],this.defaultState=new mr,this.defaultState.blend=!0,this.defaultState.depth=!0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.contextChange=function(t){this.gl=t,this.blendModes=function(t,e){return void 0===e&&(e=[]),e[d.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[d.ADD]=[t.ONE,t.ONE],e[d.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[d.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[d.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[d.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[d.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[d.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[d.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[d.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[d.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[d.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[d.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[d.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[d.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[d.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[d.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[d.NONE]=[0,0],e[d.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[d.ADD_NPM]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE],e[d.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[d.SRC_IN]=[t.DST_ALPHA,t.ZERO],e[d.SRC_OUT]=[t.ONE_MINUS_DST_ALPHA,t.ZERO],e[d.SRC_ATOP]=[t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[d.DST_OVER]=[t.ONE_MINUS_DST_ALPHA,t.ONE],e[d.DST_IN]=[t.ZERO,t.SRC_ALPHA],e[d.DST_OUT]=[t.ZERO,t.ONE_MINUS_SRC_ALPHA],e[d.DST_ATOP]=[t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA],e[d.XOR]=[t.ONE_MINUS_DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[d.SUBTRACT]=[t.ONE,t.ONE,t.ONE,t.ONE,t.FUNC_REVERSE_SUBTRACT,t.FUNC_ADD],e}(t),this.set(this.defaultState),this.reset()},e.prototype.set=function(t){if(t=t||this.defaultState,this.stateId!==t.data){for(var e=this.stateId^t.data,r=0;e;)1&e&&this.map[r].call(this,!!(t.data&1<<r)),e>>=1,r++;this.stateId=t.data}for(var i=0;i<this.checks.length;i++)this.checks[i](this,t)},e.prototype.forceState=function(t){t=t||this.defaultState;for(var e=0;e<this.map.length;e++)this.map[e].call(this,!!(t.data&1<<e));for(var r=0;r<this.checks.length;r++)this.checks[r](this,t);this.stateId=t.data},e.prototype.setBlend=function(t){this.updateCheck(e.checkBlendMode,t),this.gl[t?"enable":"disable"](this.gl.BLEND)},e.prototype.setOffset=function(t){this.updateCheck(e.checkPolygonOffset,t),this.gl[t?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)},e.prototype.setDepthTest=function(t){this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST)},e.prototype.setCullFace=function(t){this.gl[t?"enable":"disable"](this.gl.CULL_FACE)},e.prototype.setFrontFace=function(t){this.gl.frontFace(this.gl[t?"CW":"CCW"])},e.prototype.setBlendMode=function(t){if(t!==this.blendMode){this.blendMode=t;var e=this.blendModes[t],r=this.gl;2===e.length?r.blendFunc(e[0],e[1]):r.blendFuncSeparate(e[0],e[1],e[2],e[3]),6===e.length?(this._blendEq=!0,r.blendEquationSeparate(e[4],e[5])):this._blendEq&&(this._blendEq=!1,r.blendEquationSeparate(r.FUNC_ADD,r.FUNC_ADD))}},e.prototype.setPolygonOffset=function(t,e){this.gl.polygonOffset(t,e)},e.prototype.reset=function(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(0),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)},e.prototype.updateCheck=function(t,e){var r=this.checks.indexOf(t);e&&-1===r?this.checks.push(t):e||-1===r||this.checks.splice(r,1)},e.checkBlendMode=function(t,e){t.setBlendMode(e.blendMode)},e.checkPolygonOffset=function(t,e){t.setPolygonOffset(e.polygonOffset,0)},e}(he),Rr=function(t){function e(e){t.call(this,e),this.count=0,this.checkCount=0,this.maxIdle=E.GC_MAX_IDLE,this.checkCountMax=E.GC_MAX_CHECK_COUNT,this.mode=E.GC_MODE}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.postrender=function(){this.renderer.renderingToScreen&&(this.count++,this.mode!==b.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))},e.prototype.run=function(){for(var t=this.renderer.texture,e=t.managedTextures,r=!1,i=0;i<e.length;i++){var n=e[i];!n.framebuffer&&this.count-n.touched>this.maxIdle&&(t.destroyTexture(n,!0),e[i]=null,r=!0)}if(r){for(var o=0,s=0;s<e.length;s++)null!==e[s]&&(e[o++]=e[s]);e.length=o}},e.prototype.unload=function(t){var e=this.renderer.textureSystem;t._texture&&t._texture._glRenderTargets&&e.destroyTexture(t._texture);for(var r=t.children.length-1;r>=0;r--)this.unload(t.children[r])},e}(he),Lr=function(t){this.texture=t,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=6408,this.internalFormat=5121},Fr=function(t){function e(e){t.call(this,e),this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new te}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.contextChange=function(){var t=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion;var e=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=e;for(var r=0;r<e;r++)this.boundTextures[r]=null;this.emptyTextures={};var i=new Lr(t.createTexture());t.bindTexture(t.TEXTURE_2D,i.texture),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[t.TEXTURE_2D]=i,this.emptyTextures[t.TEXTURE_CUBE_MAP]=new Lr(t.createTexture()),t.bindTexture(t.TEXTURE_CUBE_MAP,this.emptyTextures[t.TEXTURE_CUBE_MAP].texture);for(var n=0;n<6;n++)t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+n,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,null);t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MIN_FILTER,t.LINEAR);for(var o=0;o<this.boundTextures.length;o++)this.bind(null,o)},e.prototype.bind=function(t,e){void 0===e&&(e=0);var r=this.gl;if(t){if((t=t.baseTexture||t).valid){t.touched=this.renderer.textureGC.count;var i=t._glTextures[this.CONTEXT_UID]||this.initTexture(t);this.boundTextures[e]!==t&&(this.currentLocation!==e&&(this.currentLocation=e,r.activeTexture(r.TEXTURE0+e)),r.bindTexture(t.target,i.texture)),i.dirtyId!==t.dirtyId&&(this.currentLocation!==e&&(this.currentLocation=e,r.activeTexture(r.TEXTURE0+e)),this.updateTexture(t)),this.boundTextures[e]=t}}else this.currentLocation!==e&&(this.currentLocation=e,r.activeTexture(r.TEXTURE0+e)),r.bindTexture(r.TEXTURE_2D,this.emptyTextures[r.TEXTURE_2D].texture),this.boundTextures[e]=null},e.prototype.reset=function(){this._unknownBoundTextures=!0,this.currentLocation=-1;for(var t=0;t<this.boundTextures.length;t++)this.boundTextures[t]=this.unknownTexture},e.prototype.unbind=function(t){var e=this.gl,r=this.boundTextures;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var i=0;i<r.length;i++)r[i]===this.unknownTexture&&this.bind(null,i)}for(var n=0;n<r.length;n++)r[n]===t&&(this.currentLocation!==n&&(e.activeTexture(e.TEXTURE0+n),this.currentLocation=n),e.bindTexture(e.TEXTURE_2D,this.emptyTextures[t.target].texture),r[n]=null)},e.prototype.initTexture=function(t){var e=new Lr(this.gl.createTexture());return e.dirtyId=-1,t._glTextures[this.CONTEXT_UID]=e,this.managedTextures.push(t),t.on("dispose",this.destroyTexture,this),e},e.prototype.initTextureType=function(t,e){if(e.internalFormat=t.format,e.type=t.type,2===this.webGLVersion){var r=this.renderer.gl;t.type===r.FLOAT&&t.format===r.RGBA&&(e.internalFormat=r.RGBA32F),t.type===v.HALF_FLOAT&&(e.type=r.HALF_FLOAT),e.type===r.HALF_FLOAT&&t.format===r.RGBA&&(e.internalFormat=r.RGBA16F)}},e.prototype.updateTexture=function(t){var e=t._glTextures[this.CONTEXT_UID];if(e){var r=this.renderer;if(this.initTextureType(t,e),t.resource&&t.resource.upload(r,t,e));else{var i=t.realWidth,n=t.realHeight,o=r.gl;(e.width!==i||e.height!==n||e.dirtyId<0)&&(e.width=i,e.height=n,o.texImage2D(t.target,0,e.internalFormat,i,n,0,t.format,e.type,null))}t.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(t),e.dirtyId=t.dirtyId}},e.prototype.destroyTexture=function(t,e){var r=this.gl;if((t=t.baseTexture||t)._glTextures[this.CONTEXT_UID]&&(this.unbind(t),r.deleteTexture(t._glTextures[this.CONTEXT_UID].texture),t.off("dispose",this.destroyTexture,this),delete t._glTextures[this.CONTEXT_UID],!e)){var i=this.managedTextures.indexOf(t);-1!==i&&Y(this.managedTextures,i,1)}},e.prototype.updateTextureStyle=function(t){var e=t._glTextures[this.CONTEXT_UID];e&&(t.mipmap!==_.POW2&&2===this.webGLVersion||t.isPowerOfTwo?e.mipmap=t.mipmap>=1:e.mipmap=0,2===this.webGLVersion||t.isPowerOfTwo?e.wrapMode=t.wrapMode:e.wrapMode=y.CLAMP,t.resource&&t.resource.style(this.renderer,t,e)||this.setStyle(t,e),e.dirtyStyleId=t.dirtyStyleId)},e.prototype.setStyle=function(t,e){var r=this.gl;if(e.mipmap&&r.generateMipmap(t.target),r.texParameteri(t.target,r.TEXTURE_WRAP_S,e.wrapMode),r.texParameteri(t.target,r.TEXTURE_WRAP_T,e.wrapMode),e.mipmap){r.texParameteri(t.target,r.TEXTURE_MIN_FILTER,t.scaleMode?r.LINEAR_MIPMAP_LINEAR:r.NEAREST_MIPMAP_NEAREST);var i=this.renderer.context.extensions.anisotropicFiltering;if(i&&t.anisotropicLevel>0&&t.scaleMode===g.LINEAR){var n=Math.min(t.anisotropicLevel,r.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT));r.texParameterf(t.target,i.TEXTURE_MAX_ANISOTROPY_EXT,n)}}else r.texParameteri(t.target,r.TEXTURE_MIN_FILTER,t.scaleMode?r.LINEAR:r.NEAREST);r.texParameteri(t.target,r.TEXTURE_MAG_FILTER,t.scaleMode?r.LINEAR:r.NEAREST)},e}(he),Nr={FilterSystem:Re,BatchSystem:Fe,ContextSystem:Be,FramebufferSystem:Ue,GeometrySystem:je,MaskSystem:Tr,ScissorSystem:Er,StencilSystem:Ir,ProjectionSystem:Sr,RenderTextureSystem:Ar,ShaderSystem:Mr,StateSystem:Dr,TextureGCSystem:Rr,TextureSystem:Fr},Br=new xt,Ur=function(t){function e(e,r){t.call(this),(r=Object.assign({},E.RENDER_OPTIONS,r)).roundPixels&&(E.ROUND_PIXELS=r.roundPixels,pt("5.0.0","Renderer roundPixels option is deprecated, please use PIXI.settings.ROUND_PIXELS",2)),this.options=r,this.type=c.UNKNOWN,this.screen=new Ct(0,0,r.width,r.height),this.view=r.view||document.createElement("canvas"),this.resolution=r.resolution||E.RESOLUTION,this.transparent=r.transparent,this.autoDensity=r.autoDensity||r.autoResize||!1,this.preserveDrawingBuffer=r.preserveDrawingBuffer,this.clearBeforeRender=r.clearBeforeRender,this._backgroundColor=0,this._backgroundColorRgba=[0,0,0,0],this._backgroundColorString="#000000",this.backgroundColor=r.backgroundColor||this._backgroundColor,this._tempDisplayObjectParent=new Ut,this._lastObjectRendered=this._tempDisplayObjectParent,this.plugins={}}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={width:{configurable:!0},height:{configurable:!0},backgroundColor:{configurable:!0}};return e.prototype.initPlugins=function(t){for(var e in t)this.plugins[e]=new t[e](this)},r.width.get=function(){return this.view.width},r.height.get=function(){return this.view.height},e.prototype.resize=function(t,e){this.screen.width=t,this.screen.height=e,this.view.width=t*this.resolution,this.view.height=e*this.resolution,this.autoDensity&&(this.view.style.width=t+"px",this.view.style.height=e+"px")},e.prototype.generateTexture=function(t,e,r,i){0===(i=i||t.getLocalBounds()).width&&(i.width=1),0===i.height&&(i.height=1);var n=ge.create(0|i.width,0|i.height,e,r);return Br.tx=-i.x,Br.ty=-i.y,this.render(t,n,!1,Br,!!t.parent),n},e.prototype.destroy=function(t){for(var e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null;t&&this.view.parentNode&&this.view.parentNode.removeChild(this.view),this.plugins=null,this.type=c.UNKNOWN,this.view=null,this.screen=null,this.resolution=0,this.transparent=!1,this.autoDensity=!1,this.blendModes=null,this.options=null,this.preserveDrawingBuffer=!1,this.clearBeforeRender=!1,this._backgroundColor=0,this._backgroundColorRgba=null,this._backgroundColorString=null,this._tempDisplayObjectParent=null,this._lastObjectRendered=null},r.backgroundColor.get=function(){return this._backgroundColor},r.backgroundColor.set=function(t){this._backgroundColor=t,this._backgroundColorString=B(t),N(t,this._backgroundColorRgba)},Object.defineProperties(e.prototype,r),e}(S.a),kr=function(t){function e(r){void 0===r&&(r={}),t.call(this,"WebGL",r),r=this.options,this.type=c.WEBGL,this.gl=null,this.CONTEXT_UID=0,this.runners={destroy:new Gt("destroy"),contextChange:new Gt("contextChange",1),reset:new Gt("reset"),update:new Gt("update"),postrender:new Gt("postrender"),prerender:new Gt("prerender"),resize:new Gt("resize",2)},this.globalUniforms=new Me({projectionMatrix:new xt},!0),this.addSystem(Tr,"mask").addSystem(Be,"context").addSystem(Dr,"state").addSystem(Mr,"shader").addSystem(Fr,"texture").addSystem(je,"geometry").addSystem(Ue,"framebuffer").addSystem(Er,"scissor").addSystem(Ir,"stencil").addSystem(Sr,"projection").addSystem(Rr,"textureGC").addSystem(Re,"filter").addSystem(Ar,"renderTexture").addSystem(Fe,"batch"),this.initPlugins(e.__plugins),r.context?this.context.initFromContext(r.context):this.context.initFromOptions({alpha:this.transparent,antialias:r.antialias,premultipliedAlpha:this.transparent&&"notMultiplied"!==this.transparent,stencil:!0,preserveDrawingBuffer:r.preserveDrawingBuffer,powerPreference:this.options.powerPreference}),this.renderingToScreen=!0,L(2===this.context.webGLVersion?"WebGL 2":"WebGL 1"),this.resize(this.options.width,this.options.height)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.create=function(t){if(F())return new e(t);throw new Error('WebGL unsupported in this browser, use "pixi.js-legacy" for fallback canvas2d support.')},e.prototype.addSystem=function(t,e){e||(e=t.name);var r=new t(this);if(this[e])throw new Error('Whoops! The name "'+e+'" is already in use');for(var i in this[e]=r,this.runners)this.runners[i].add(r);return this},e.prototype.render=function(t,e,r,i,n){if(this.renderingToScreen=!e,this.runners.prerender.run(),this.emit("prerender"),this.projection.transform=i,!this.context.isLost){if(e||(this._lastObjectRendered=t),!n){var o=t.parent;t.parent=this._tempDisplayObjectParent,t.updateTransform(),t.parent=o}this.renderTexture.bind(e),this.batch.currentRenderer.start(),(void 0!==r?r:this.clearBeforeRender)&&this.renderTexture.clear(),t.render(this),this.batch.currentRenderer.flush(),e&&e.baseTexture.update(),this.runners.postrender.run(),this.projection.transform=null,this.emit("postrender")}},e.prototype.resize=function(e,r){t.prototype.resize.call(this,e,r),this.runners.resize.run(e,r)},e.prototype.reset=function(){return this.runners.reset.run(),this},e.prototype.clear=function(){this.framebuffer.bind(),this.framebuffer.clear()},e.prototype.destroy=function(e){for(var r in this.runners.destroy.run(),this.runners)this.runners[r].destroy();t.prototype.destroy.call(this,e),this.gl=null},e.registerPlugin=function(t,r){e.__plugins=e.__plugins||{},e.__plugins[t]=r},e}(Ur);function Xr(t){return kr.create(t)}var jr="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}",Gr="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n",Hr=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.from=function(t,r){return new e(new ie(t,r))},e}(te),zr=function(){this.texArray=null,this.blend=0,this.type=p.TRIANGLES,this.start=0,this.size=0,this.data=null},Vr=function(){this.elements=[],this.ids=[],this.count=0};Vr.prototype.clear=function(){for(var t=0;t<this.count;t++)this.elements[t]=null;this.count=0};var Yr=function(t){this.rawBinaryData=new ArrayBuffer(t),this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)},Wr={int8View:{configurable:!0},uint8View:{configurable:!0},int16View:{configurable:!0},uint16View:{configurable:!0},int32View:{configurable:!0}};Wr.int8View.get=function(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View},Wr.uint8View.get=function(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View},Wr.int16View.get=function(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View},Wr.uint16View.get=function(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View},Wr.int32View.get=function(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View},Yr.prototype.view=function(t){return this[t+"View"]},Yr.prototype.destroy=function(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null},Yr.sizeOf=function(t){switch(t){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(t+" isn't a valid view type")}},Object.defineProperties(Yr.prototype,Wr);var qr=function(t){function e(e){t.call(this,e),this.shaderGenerator=null,this.geometryClass=null,this.vertexSize=null,this.state=mr.for2d(),this.size=4*E.SPRITE_BATCH_SIZE,this._vertexCount=0,this._indexCount=0,this._bufferedElements=[],this._bufferedTextures=[],this._bufferSize=0,this._shader=null,this._packedGeometries=[],this._packedGeometryPoolSize=2,this._flushId=0,this._aBuffers={},this._iBuffers={},this.MAX_TEXTURES=1,this.renderer.on("prerender",this.onPrerender,this),e.runners.contextChange.add(this),this._dcIndex=0,this._aIndex=0,this._iIndex=0,this._attributeBuffer=null,this._indexBuffer=null,this._tempBoundTextures=[]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.contextChange=function(){var t=this.renderer.gl;E.PREFER_ENV===l.WEBGL_LEGACY?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),E.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=ar(this.MAX_TEXTURES,t)),this._shader=this.shaderGenerator.generateShader(this.MAX_TEXTURES);for(var e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]=new this.geometryClass;this.initFlushBuffers()},e.prototype.initFlushBuffers=function(){for(var t=e._drawCallPool,r=e._textureArrayPool,i=this.size/4,n=Math.floor(i/this.MAX_TEXTURES)+1;t.length<i;)t.push(new zr);for(;r.length<n;)r.push(new Vr);for(var o=0;o<this.MAX_TEXTURES;o++)this._tempBoundTextures[o]=null},e.prototype.onPrerender=function(){this._flushId=0},e.prototype.render=function(t){t._texture.valid&&(this._vertexCount+t.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=t.vertexData.length/2,this._indexCount+=t.indices.length,this._bufferedTextures[this._bufferSize]=t._texture.baseTexture,this._bufferedElements[this._bufferSize++]=t)},e.prototype.buildTexturesAndDrawCalls=function(){var t=this._bufferedTextures,r=this.MAX_TEXTURES,i=e._textureArrayPool,n=this.renderer.batch,o=this._tempBoundTextures,s=this.renderer.textureGC.count,a=++te._globalBatch,h=0,u=i[0],l=0;n.copyBoundTextures(o,r);for(var c=0;c<this._bufferSize;++c){var d=t[c];t[c]=null,d._batchEnabled!==a&&(u.count>=r&&(n.boundArray(u,o,a,r),this.buildDrawCalls(u,l,c),l=c,u=i[++h],++a),d._batchEnabled=a,d.touched=s,u.elements[u.count++]=d)}u.count>0&&(n.boundArray(u,o,a,r),this.buildDrawCalls(u,l,this._bufferSize),++h,++a);for(var p=0;p<o.length;p++)o[p]=null;te._globalBatch=a},e.prototype.buildDrawCalls=function(t,r,i){var n=this._bufferedElements,o=this._attributeBuffer,s=this._indexBuffer,a=this.vertexSize,h=e._drawCallPool,u=this._dcIndex,l=this._aIndex,c=this._iIndex,d=h[u];d.start=this._iIndex,d.texArray=t;for(var p=r;p<i;++p){var f=n[p],m=f._texture.baseTexture,v=X[m.alphaMode?1:0][f.blendMode];n[p]=null,r<p&&d.blend!==v&&(d.size=c-d.start,r=p,(d=h[++u]).texArray=t,d.start=c),this.packInterleavedGeometry(f,o,s,l,c),l+=f.vertexData.length/2*a,c+=f.indices.length,d.blend=v}r<i&&(d.size=c-d.start,++u),this._dcIndex=u,this._aIndex=l,this._iIndex=c},e.prototype.bindAndClearTexArray=function(t){for(var e=this.renderer.texture,r=0;r<t.count;r++)e.bind(t.elements[r],t.ids[r]),t.elements[r]=null;t.count=0},e.prototype.updateGeometry=function(){var t=this._packedGeometries,e=this._attributeBuffer,r=this._indexBuffer;E.CAN_UPLOAD_SAME_BUFFER?(t[this._flushId]._buffer.update(e.rawBinaryData),t[this._flushId]._indexBuffer.update(r),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,t[this._flushId]=new this.geometryClass),t[this._flushId]._buffer.update(e.rawBinaryData),t[this._flushId]._indexBuffer.update(r),this.renderer.geometry.bind(t[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)},e.prototype.drawBatches=function(){for(var t=this._dcIndex,r=this.renderer,i=r.gl,n=r.state,o=e._drawCallPool,s=null,a=0;a<t;a++){var h=o[a],u=h.texArray,l=h.type,c=h.size,d=h.start,p=h.blend;s!==u&&(s=u,this.bindAndClearTexArray(u)),n.setBlendMode(p),i.drawElements(l,c,i.UNSIGNED_SHORT,2*d)}},e.prototype.flush=function(){0!==this._vertexCount&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)},e.prototype.start=function(){this.renderer.state.set(this.state),this.renderer.shader.bind(this._shader),E.CAN_UPLOAD_SAME_BUFFER&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])},e.prototype.stop=function(){this.flush()},e.prototype.destroy=function(){for(var e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]&&this._packedGeometries[e].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),t.prototype.destroy.call(this)},e.prototype.getAttributeBuffer=function(t){var e=K(Math.ceil(t/8)),r=Q(e),i=8*e;this._aBuffers.length<=r&&(this._iBuffers.length=r+1);var n=this._aBuffers[i];return n||(this._aBuffers[i]=n=new Yr(i*this.vertexSize*4)),n},e.prototype.getIndexBuffer=function(t){var e=K(Math.ceil(t/12)),r=Q(e),i=12*e;this._iBuffers.length<=r&&(this._iBuffers.length=r+1);var n=this._iBuffers[r];return n||(this._iBuffers[r]=n=new Uint16Array(i)),n},e.prototype.packInterleavedGeometry=function(t,e,r,i,n){for(var o=e.uint32View,s=e.float32View,a=i/this.vertexSize,h=t.uvs,u=t.indices,l=t.vertexData,c=t._texture.baseTexture._batchLocation,d=Math.min(t.worldAlpha,1),p=d<1&&t._texture.baseTexture.alphaMode?H(t._tintRGB,d):t._tintRGB+(255*d<<24),f=0;f<l.length;f+=2)s[i++]=l[f],s[i++]=l[f+1],s[i++]=h[f],s[i++]=h[f+1],o[i++]=p,s[i++]=c;for(var m=0;m<u.length;m++)r[n++]=a+u[m]},e}(Le);qr._drawCallPool=[],qr._textureArrayPool=[];var Zr=function(t,e){if(this.vertexSrc=t,this.fragTemplate=e,this.programCache={},this.defaultGroupCache={},e.indexOf("%count%")<0)throw new Error('Fragment template must contain "%count%".');if(e.indexOf("%forloop%")<0)throw new Error('Fragment template must contain "%forloop%".')};Zr.prototype.generateShader=function(t){if(!this.programCache[t]){for(var e=new Int32Array(t),r=0;r<t;r++)e[r]=r;this.defaultGroupCache[t]=Me.from({uSamplers:e},!0);var i=this.fragTemplate;i=(i=i.replace(/%count%/gi,""+t)).replace(/%forloop%/gi,this.generateSampleSrc(t)),this.programCache[t]=new cr(this.vertexSrc,i)}var n={tint:new Float32Array([1,1,1,1]),translationMatrix:new xt,default:this.defaultGroupCache[t]};return new pr(this.programCache[t],n)},Zr.prototype.generateSampleSrc=function(t){var e="";e+="\n",e+="\n";for(var r=0;r<t;r++)r>0&&(e+="\nelse "),r<t-1&&(e+="if(vTextureId < "+r+".5)"),e+="\n{",e+="\n\tcolor = texture2D(uSamplers["+r+"], vTextureCoord);",e+="\n}";return e+="\n",e+="\n"};var Kr=function(t){function e(e){void 0===e&&(e=!1),t.call(this),this._buffer=new be(null,e,!1),this._indexBuffer=new be(null,e,!0),this.addAttribute("aVertexPosition",this._buffer,2,!1,v.FLOAT).addAttribute("aTextureCoord",this._buffer,2,!1,v.FLOAT).addAttribute("aColor",this._buffer,4,!0,v.UNSIGNED_BYTE).addAttribute("aTextureId",this._buffer,1,!0,v.FLOAT).addIndex(this._indexBuffer)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Pe),Jr="precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform vec4 tint;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor * tint;\n}\n",Qr="varying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\nuniform sampler2D uSamplers[%count%];\n\nvoid main(void){\n    vec4 color;\n    %forloop%\n    gl_FragColor = color * vColor;\n}\n",$r=function(){},ti={defaultVertexSrc:{configurable:!0},defaultFragmentTemplate:{configurable:!0}};$r.create=function(t){var e=Object.assign({vertex:Jr,fragment:Qr,geometryClass:Kr,vertexSize:6},t),r=e.vertex,i=e.fragment,n=e.vertexSize,o=e.geometryClass;return function(t){function e(e){t.call(this,e),this.shaderGenerator=new Zr(r,i),this.geometryClass=o,this.vertexSize=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(qr)},ti.defaultVertexSrc.get=function(){return Jr},ti.defaultFragmentTemplate.get=function(){return Qr},Object.defineProperties($r,ti);var ei=$r.create(),ri=new Ct,ii=function(t){this.renderer=t,t.extract=this};
/*!
 * @pixi/extract - v5.2.0
 * Compiled Wed, 06 Nov 2019 02:32:43 UTC
 *
 * @pixi/extract is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */ii.prototype.image=function(t,e,r){var i=new Image;return i.src=this.base64(t,e,r),i},ii.prototype.base64=function(t,e,r){return this.canvas(t).toDataURL(e,r)},ii.prototype.canvas=function(t){var e,r,i,n=this.renderer,o=!1,s=!1;t&&(t instanceof ge?i=t:(i=this.renderer.generateTexture(t),s=!0)),i?(e=i.baseTexture.resolution,r=i.frame,o=!1,n.renderTexture.bind(i)):(e=this.renderer.resolution,o=!0,(r=ri).width=this.renderer.width,r.height=this.renderer.height,n.renderTexture.bind(null));var a=Math.floor(r.width*e+1e-4),h=Math.floor(r.height*e+1e-4),u=new ot(a,h,1),l=new Uint8Array(4*a*h),c=n.gl;c.readPixels(r.x*e,r.y*e,a,h,c.RGBA,c.UNSIGNED_BYTE,l);var d=u.context.getImageData(0,0,a,h);return ii.arrayPostDivide(l,d.data),u.context.putImageData(d,0,0),o&&(u.context.scale(1,-1),u.context.drawImage(u.canvas,0,-h)),s&&i.destroy(!0),u.canvas},ii.prototype.pixels=function(t){var e,r,i,n=this.renderer,o=!1;t&&(t instanceof ge?i=t:(i=this.renderer.generateTexture(t),o=!0)),i?(e=i.baseTexture.resolution,r=i.frame,n.renderTexture.bind(i)):(e=n.resolution,(r=ri).width=n.width,r.height=n.height,n.renderTexture.bind(null));var s=r.width*e,a=r.height*e,h=new Uint8Array(4*s*a),u=n.gl;return u.readPixels(r.x*e,r.y*e,s,a,u.RGBA,u.UNSIGNED_BYTE,h),o&&i.destroy(!0),ii.arrayPostDivide(h,h),h},ii.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null},ii.arrayPostDivide=function(t,e){for(var r=0;r<t.length;r+=4){var i=e[r+3]=t[r+3];0!==i?(e[r]=Math.round(Math.min(255*t[r]/i,255)),e[r+1]=Math.round(Math.min(255*t[r+1]/i,255)),e[r+2]=Math.round(Math.min(255*t[r+2]/i,255))):(e[r]=t[r],e[r+1]=t[r+1],e[r+2]=t[r+2])}};
/*!
 * @pixi/interaction - v5.2.0
 * Compiled Wed, 06 Nov 2019 02:32:43 UTC
 *
 * @pixi/interaction is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
var ni=function(){this.global=new mt,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0},oi={pointerId:{configurable:!0}};oi.pointerId.get=function(){return this.identifier},ni.prototype.getLocalPosition=function(t,e,r){return t.worldTransform.applyInverse(r||this.global,e)},ni.prototype.copyEvent=function(t){t.isPrimary&&(this.isPrimary=!0),this.button=t.button,this.buttons=Number.isInteger(t.buttons)?t.buttons:t.which,this.width=t.width,this.height=t.height,this.tiltX=t.tiltX,this.tiltY=t.tiltY,this.pointerType=t.pointerType,this.pressure=t.pressure,this.rotationAngle=t.rotationAngle,this.twist=t.twist||0,this.tangentialPressure=t.tangentialPressure||0},ni.prototype.reset=function(){this.isPrimary=!1},Object.defineProperties(ni.prototype,oi);var si=function(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null};si.prototype.stopPropagation=function(){this.stopped=!0,this.stopPropagationHint=!0,this.stopsPropagatingAt=this.currentTarget},si.prototype.reset=function(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.currentTarget=null,this.target=null};var ai=function t(e){this._pointerId=e,this._flags=t.FLAGS.NONE},hi={pointerId:{configurable:!0},flags:{configurable:!0},none:{configurable:!0},over:{configurable:!0},rightDown:{configurable:!0},leftDown:{configurable:!0}};ai.prototype._doSet=function(t,e){this._flags=e?this._flags|t:this._flags&~t},hi.pointerId.get=function(){return this._pointerId},hi.flags.get=function(){return this._flags},hi.flags.set=function(t){this._flags=t},hi.none.get=function(){return this._flags===this.constructor.FLAGS.NONE},hi.over.get=function(){return 0!=(this._flags&this.constructor.FLAGS.OVER)},hi.over.set=function(t){this._doSet(this.constructor.FLAGS.OVER,t)},hi.rightDown.get=function(){return 0!=(this._flags&this.constructor.FLAGS.RIGHT_DOWN)},hi.rightDown.set=function(t){this._doSet(this.constructor.FLAGS.RIGHT_DOWN,t)},hi.leftDown.get=function(){return 0!=(this._flags&this.constructor.FLAGS.LEFT_DOWN)},hi.leftDown.set=function(t){this._doSet(this.constructor.FLAGS.LEFT_DOWN,t)},Object.defineProperties(ai.prototype,hi),ai.FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4});var ui=function(){this._tempPoint=new mt};ui.prototype.recursiveFindHit=function(t,e,r,i,n){if(!e||!e.visible)return!1;var o=t.data.global,s=!1,a=n=e.interactive||n,h=!0;if(e.hitArea?(i&&(e.worldTransform.applyInverse(o,this._tempPoint),e.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?s=!0:(i=!1,h=!1)),a=!1):e._mask&&i&&(e._mask.containsPoint&&e._mask.containsPoint(o)||(i=!1)),h&&e.interactiveChildren&&e.children)for(var u=e.children,l=u.length-1;l>=0;l--){var c=u[l],d=this.recursiveFindHit(t,c,r,i,a);if(d){if(!c.parent)continue;a=!1,d&&(t.target&&(i=!1),s=!0)}}return n&&(i&&!t.target&&!e.hitArea&&e.containsPoint&&e.containsPoint(o)&&(s=!0),e.interactive&&(s&&!t.target&&(t.target=e),r&&r(t,e,!!s))),s},ui.prototype.findHit=function(t,e,r,i){this.recursiveFindHit(t,e,r,i,!1)};var li={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return"pointer"===this.cursor},set buttonMode(t){t?this.cursor="pointer":"pointer"===this.cursor&&(this.cursor=null)},cursor:null,get trackedPointers(){return void 0===this._trackedPointers&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0};Nt.mixin(li);var ci={target:null,data:{global:null}},di=function(t){function e(e,r){t.call(this),r=r||{},this.renderer=e,this.autoPreventDefault=void 0===r.autoPreventDefault||r.autoPreventDefault,this.interactionFrequency=r.interactionFrequency||10,this.mouse=new ni,this.mouse.identifier=1,this.mouse.global.set(-999999),this.activeInteractionData={},this.activeInteractionData[1]=this.mouse,this.interactionDataPool=[],this.eventData=new si,this.interactionDOMElement=null,this.moveWhenInside=!1,this.eventsAdded=!1,this.mouseOverRenderer=!1,this.supportsTouchEvents="ontouchstart"in window,this.supportsPointerEvents=!!window.PointerEvent,this.onPointerUp=this.onPointerUp.bind(this),this.processPointerUp=this.processPointerUp.bind(this),this.onPointerCancel=this.onPointerCancel.bind(this),this.processPointerCancel=this.processPointerCancel.bind(this),this.onPointerDown=this.onPointerDown.bind(this),this.processPointerDown=this.processPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.processPointerMove=this.processPointerMove.bind(this),this.onPointerOut=this.onPointerOut.bind(this),this.processPointerOverOut=this.processPointerOverOut.bind(this),this.onPointerOver=this.onPointerOver.bind(this),this.cursorStyles={default:"inherit",pointer:"pointer"},this.currentCursorMode=null,this.cursor=null,this.resolution=1,this.delayedEvents=[],this.search=new ui,this.setTargetElement(this.renderer.view,this.renderer.resolution)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.hitTest=function(t,e){return ci.target=null,ci.data.global=t,e||(e=this.renderer._lastObjectRendered),this.processInteractive(ci,e,null,!0),ci.target},e.prototype.setTargetElement=function(t,e){void 0===e&&(e=1),this.removeEvents(),this.interactionDOMElement=t,this.resolution=e,this.addEvents()},e.prototype.addEvents=function(){this.interactionDOMElement&&(zt.system.add(this.update,this,jt.INTERACTION),window.navigator.msPointerEnabled?(this.interactionDOMElement.style["-ms-content-zooming"]="none",this.interactionDOMElement.style["-ms-touch-action"]="none"):this.supportsPointerEvents&&(this.interactionDOMElement.style["touch-action"]="none"),this.supportsPointerEvents?(window.document.addEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,!0),window.addEventListener("pointercancel",this.onPointerCancel,!0),window.addEventListener("pointerup",this.onPointerUp,!0)):(window.document.addEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,!0),window.addEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,!0)),this.eventsAdded=!0)},e.prototype.removeEvents=function(){this.interactionDOMElement&&(zt.system.remove(this.update,this),window.navigator.msPointerEnabled?(this.interactionDOMElement.style["-ms-content-zooming"]="",this.interactionDOMElement.style["-ms-touch-action"]=""):this.supportsPointerEvents&&(this.interactionDOMElement.style["touch-action"]=""),this.supportsPointerEvents?(window.document.removeEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,!0),window.removeEventListener("pointercancel",this.onPointerCancel,!0),window.removeEventListener("pointerup",this.onPointerUp,!0)):(window.document.removeEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,!0),window.removeEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.interactionDOMElement=null,this.eventsAdded=!1)},e.prototype.update=function(t){if(this._deltaTime+=t,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.interactionDOMElement))if(this.didMove)this.didMove=!1;else{for(var e in this.cursor=null,this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(e)){var r=this.activeInteractionData[e];if(r.originalEvent&&"touch"!==r.pointerType){var i=this.configureInteractionEventForDOMEvent(this.eventData,r.originalEvent,r);this.processInteractive(i,this.renderer._lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},e.prototype.setCursorMode=function(t){if(t=t||"default",this.currentCursorMode!==t){this.currentCursorMode=t;var e=this.cursorStyles[t];if(e)switch(typeof e){case"string":this.interactionDOMElement.style.cursor=e;break;case"function":e(t);break;case"object":Object.assign(this.interactionDOMElement.style,e)}else"string"!=typeof t||Object.prototype.hasOwnProperty.call(this.cursorStyles,t)||(this.interactionDOMElement.style.cursor=t)}},e.prototype.dispatchEvent=function(t,e,r){r.stopPropagationHint&&t!==r.stopsPropagatingAt||(r.currentTarget=t,r.type=e,t.emit(e,r),t[e]&&t[e](r))},e.prototype.delayDispatchEvent=function(t,e,r){this.delayedEvents.push({displayObject:t,eventString:e,eventData:r})},e.prototype.mapPositionToPoint=function(t,e,r){var i;i=this.interactionDOMElement.parentElement?this.interactionDOMElement.getBoundingClientRect():{x:0,y:0,width:0,height:0};var n=1/this.resolution;t.x=(e-i.left)*(this.interactionDOMElement.width/i.width)*n,t.y=(r-i.top)*(this.interactionDOMElement.height/i.height)*n},e.prototype.processInteractive=function(t,e,r,i){var n=this.search.findHit(t,e,r,i),o=this.delayedEvents;if(!o.length)return n;t.stopPropagationHint=!1;var s=o.length;this.delayedEvents=[];for(var a=0;a<s;a++){var h=o[a],u=h.displayObject,l=h.eventString,c=h.eventData;c.stopsPropagatingAt===u&&(c.stopPropagationHint=!0),this.dispatchEvent(u,l,c)}return n},e.prototype.onPointerDown=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t);if(this.autoPreventDefault&&e[0].isNormalized)(t.cancelable||!("cancelable"in t))&&t.preventDefault();for(var r=e.length,i=0;i<r;i++){var n=e[i],o=this.getInteractionDataForPointerId(n),s=this.configureInteractionEventForDOMEvent(this.eventData,n,o);if(s.data.originalEvent=t,this.processInteractive(s,this.renderer._lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",s),"touch"===n.pointerType)this.emit("touchstart",s);else if("mouse"===n.pointerType||"pen"===n.pointerType){var a=2===n.button;this.emit(a?"rightdown":"mousedown",this.eventData)}}}},e.prototype.processPointerDown=function(t,e,r){var i=t.data,n=t.data.identifier;if(r)if(e.trackedPointers[n]||(e.trackedPointers[n]=new ai(n)),this.dispatchEvent(e,"pointerdown",t),"touch"===i.pointerType)this.dispatchEvent(e,"touchstart",t);else if("mouse"===i.pointerType||"pen"===i.pointerType){var o=2===i.button;o?e.trackedPointers[n].rightDown=!0:e.trackedPointers[n].leftDown=!0,this.dispatchEvent(e,o?"rightdown":"mousedown",t)}},e.prototype.onPointerComplete=function(t,e,r){for(var i=this.normalizeToPointerData(t),n=i.length,o=t.target!==this.interactionDOMElement?"outside":"",s=0;s<n;s++){var a=i[s],h=this.getInteractionDataForPointerId(a),u=this.configureInteractionEventForDOMEvent(this.eventData,a,h);if(u.data.originalEvent=t,this.processInteractive(u,this.renderer._lastObjectRendered,r,e||!o),this.emit(e?"pointercancel":"pointerup"+o,u),"mouse"===a.pointerType||"pen"===a.pointerType){var l=2===a.button;this.emit(l?"rightup"+o:"mouseup"+o,u)}else"touch"===a.pointerType&&(this.emit(e?"touchcancel":"touchend"+o,u),this.releaseInteractionDataForPointerId(a.pointerId,h))}},e.prototype.onPointerCancel=function(t){this.supportsTouchEvents&&"touch"===t.pointerType||this.onPointerComplete(t,!0,this.processPointerCancel)},e.prototype.processPointerCancel=function(t,e){var r=t.data,i=t.data.identifier;void 0!==e.trackedPointers[i]&&(delete e.trackedPointers[i],this.dispatchEvent(e,"pointercancel",t),"touch"===r.pointerType&&this.dispatchEvent(e,"touchcancel",t))},e.prototype.onPointerUp=function(t){this.supportsTouchEvents&&"touch"===t.pointerType||this.onPointerComplete(t,!1,this.processPointerUp)},e.prototype.processPointerUp=function(t,e,r){var i=t.data,n=t.data.identifier,o=e.trackedPointers[n],s="touch"===i.pointerType,a="mouse"===i.pointerType||"pen"===i.pointerType,h=!1;if(a){var u=2===i.button,l=ai.FLAGS,c=u?l.RIGHT_DOWN:l.LEFT_DOWN,d=void 0!==o&&o.flags&c;r?(this.dispatchEvent(e,u?"rightup":"mouseup",t),d&&(this.dispatchEvent(e,u?"rightclick":"click",t),h=!0)):d&&this.dispatchEvent(e,u?"rightupoutside":"mouseupoutside",t),o&&(u?o.rightDown=!1:o.leftDown=!1)}r?(this.dispatchEvent(e,"pointerup",t),s&&this.dispatchEvent(e,"touchend",t),o&&(a&&!h||this.dispatchEvent(e,"pointertap",t),s&&(this.dispatchEvent(e,"tap",t),o.over=!1))):o&&(this.dispatchEvent(e,"pointerupoutside",t),s&&this.dispatchEvent(e,"touchendoutside",t)),o&&o.none&&delete e.trackedPointers[n]},e.prototype.onPointerMove=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t);"mouse"!==e[0].pointerType&&"pen"!==e[0].pointerType||(this.didMove=!0,this.cursor=null);for(var r=e.length,i=0;i<r;i++){var n=e[i],o=this.getInteractionDataForPointerId(n),s=this.configureInteractionEventForDOMEvent(this.eventData,n,o);s.data.originalEvent=t,this.processInteractive(s,this.renderer._lastObjectRendered,this.processPointerMove,!0),this.emit("pointermove",s),"touch"===n.pointerType&&this.emit("touchmove",s),"mouse"!==n.pointerType&&"pen"!==n.pointerType||this.emit("mousemove",s)}"mouse"===e[0].pointerType&&this.setCursorMode(this.cursor)}},e.prototype.processPointerMove=function(t,e,r){var i=t.data,n="touch"===i.pointerType,o="mouse"===i.pointerType||"pen"===i.pointerType;o&&this.processPointerOverOut(t,e,r),this.moveWhenInside&&!r||(this.dispatchEvent(e,"pointermove",t),n&&this.dispatchEvent(e,"touchmove",t),o&&this.dispatchEvent(e,"mousemove",t))},e.prototype.onPointerOut=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t)[0];"mouse"===e.pointerType&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var r=this.getInteractionDataForPointerId(e),i=this.configureInteractionEventForDOMEvent(this.eventData,e,r);i.data.originalEvent=e,this.processInteractive(i,this.renderer._lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",i),"mouse"===e.pointerType||"pen"===e.pointerType?this.emit("mouseout",i):this.releaseInteractionDataForPointerId(r.identifier)}},e.prototype.processPointerOverOut=function(t,e,r){var i=t.data,n=t.data.identifier,o="mouse"===i.pointerType||"pen"===i.pointerType,s=e.trackedPointers[n];r&&!s&&(s=e.trackedPointers[n]=new ai(n)),void 0!==s&&(r&&this.mouseOverRenderer?(s.over||(s.over=!0,this.delayDispatchEvent(e,"pointerover",t),o&&this.delayDispatchEvent(e,"mouseover",t)),o&&null===this.cursor&&(this.cursor=e.cursor)):s.over&&(s.over=!1,this.dispatchEvent(e,"pointerout",this.eventData),o&&this.dispatchEvent(e,"mouseout",t),s.none&&delete e.trackedPointers[n]))},e.prototype.onPointerOver=function(t){var e=this.normalizeToPointerData(t)[0],r=this.getInteractionDataForPointerId(e),i=this.configureInteractionEventForDOMEvent(this.eventData,e,r);i.data.originalEvent=e,"mouse"===e.pointerType&&(this.mouseOverRenderer=!0),this.emit("pointerover",i),"mouse"!==e.pointerType&&"pen"!==e.pointerType||this.emit("mouseover",i)},e.prototype.getInteractionDataForPointerId=function(t){var e,r=t.pointerId;return 1===r||"mouse"===t.pointerType?e=this.mouse:this.activeInteractionData[r]?e=this.activeInteractionData[r]:((e=this.interactionDataPool.pop()||new ni).identifier=r,this.activeInteractionData[r]=e),e.copyEvent(t),e},e.prototype.releaseInteractionDataForPointerId=function(t){var e=this.activeInteractionData[t];e&&(delete this.activeInteractionData[t],e.reset(),this.interactionDataPool.push(e))},e.prototype.configureInteractionEventForDOMEvent=function(t,e,r){return t.data=r,this.mapPositionToPoint(r.global,e.clientX,e.clientY),"touch"===e.pointerType&&(e.globalX=r.global.x,e.globalY=r.global.y),r.originalEvent=e,t.reset(),t},e.prototype.normalizeToPointerData=function(t){var e=[];if(this.supportsTouchEvents&&t instanceof TouchEvent)for(var r=0,i=t.changedTouches.length;r<i;r++){var n=t.changedTouches[r];void 0===n.button&&(n.button=t.touches.length?1:0),void 0===n.buttons&&(n.buttons=t.touches.length?1:0),void 0===n.isPrimary&&(n.isPrimary=1===t.touches.length&&"touchstart"===t.type),void 0===n.width&&(n.width=n.radiusX||1),void 0===n.height&&(n.height=n.radiusY||1),void 0===n.tiltX&&(n.tiltX=0),void 0===n.tiltY&&(n.tiltY=0),void 0===n.pointerType&&(n.pointerType="touch"),void 0===n.pointerId&&(n.pointerId=n.identifier||0),void 0===n.pressure&&(n.pressure=n.force||.5),void 0===n.twist&&(n.twist=0),void 0===n.tangentialPressure&&(n.tangentialPressure=0),void 0===n.layerX&&(n.layerX=n.offsetX=n.clientX),void 0===n.layerY&&(n.layerY=n.offsetY=n.clientY),n.isNormalized=!0,e.push(n)}else!(t instanceof MouseEvent)||this.supportsPointerEvents&&t instanceof window.PointerEvent?e.push(t):(void 0===t.isPrimary&&(t.isPrimary=!0),void 0===t.width&&(t.width=1),void 0===t.height&&(t.height=1),void 0===t.tiltX&&(t.tiltX=0),void 0===t.tiltY&&(t.tiltY=0),void 0===t.pointerType&&(t.pointerType="mouse"),void 0===t.pointerId&&(t.pointerId=1),void 0===t.pressure&&(t.pressure=.5),void 0===t.twist&&(t.twist=0),void 0===t.tangentialPressure&&(t.tangentialPressure=0),t.isNormalized=!0,e.push(t));return e},e.prototype.destroy=function(){this.removeEvents(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this.search=null},e}(S.a),pi={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,_segmentsCount:function(t,e){if(void 0===e&&(e=20),!this.adaptive)return e;var r=Math.ceil(t/this.maxLength);return r<this.minSegments?r=this.minSegments:r>this.maxSegments&&(r=this.maxSegments),r}},fi=function(){this.reset()};fi.prototype.clone=function(){var t=new fi;return t.color=this.color,t.alpha=this.alpha,t.texture=this.texture,t.matrix=this.matrix,t.visible=this.visible,t},fi.prototype.reset=function(){this.color=16777215,this.alpha=1,this.texture=me.WHITE,this.matrix=null,this.visible=!1},fi.prototype.destroy=function(){this.texture=null,this.matrix=null};var mi={build:function(t){t.points=t.shape.points.slice()},triangulate:function(t,e){var r=t.points,i=t.holes,n=e.points,o=e.indices;if(r.length>=6){for(var s=[],a=0;a<i.length;a++){var h=i[a];s.push(r.length/2),r=r.concat(h.points)}var u=A()(r,s,2);if(!u)return;for(var l=n.length/2,c=0;c<u.length;c+=3)o.push(u[c]+l),o.push(u[c+1]+l),o.push(u[c+2]+l);for(var d=0;d<r.length;d++)n.push(r[d])}}},vi={build:function(t){var e,r,i=t.shape,n=t.points,o=i.x,s=i.y;if(n.length=0,t.type===ft.CIRC?(e=i.radius,r=i.radius):(e=i.width,r=i.height),0!==e&&0!==r){var a=Math.floor(30*Math.sqrt(i.radius))||Math.floor(15*Math.sqrt(i.width+i.height));a/=2.3;for(var h=2*Math.PI/a,u=0;u<a;u++)n.push(o+Math.sin(-h*u)*e,s+Math.cos(-h*u)*r);n.push(n[0],n[1])}},triangulate:function(t,e){var r=t.points,i=e.points,n=e.indices,o=i.length/2,s=o;i.push(t.shape.x,t.shape.y);for(var a=0;a<r.length;a+=2)i.push(r[a],r[a+1]),n.push(o++,s,o)}},gi={build:function(t){var e=t.shape,r=e.x,i=e.y,n=e.width,o=e.height,s=t.points;s.length=0,s.push(r,i,r+n,i,r+n,i+o,r,i+o)},triangulate:function(t,e){var r=t.points,i=e.points,n=i.length/2;i.push(r[0],r[1],r[2],r[3],r[6],r[7],r[4],r[5]),e.indices.push(n,n+1,n+2,n+1,n+2,n+3)}},yi={build:function(t){var e=t.shape,r=t.points,i=e.x,n=e.y,o=e.width,s=e.height,a=e.radius;r.length=0,xi(i,n+a,i,n,i+a,n,r),xi(i+o-a,n,i+o,n,i+o,n+a,r),xi(i+o,n+s-a,i+o,n+s,i+o-a,n+s,r),xi(i+a,n+s,i,n+s,i,n+s-a,r)},triangulate:function(t,e){for(var r=t.points,i=e.points,n=e.indices,o=i.length/2,s=A()(r,null,2),a=0,h=s.length;a<h;a+=3)n.push(s[a]+o),n.push(s[a+1]+o),n.push(s[a+2]+o);for(var u=0,l=r.length;u<l;u++)i.push(r[u],r[++u])}};function _i(t,e,r){return t+(e-t)*r}function xi(t,e,r,i,n,o,s){void 0===s&&(s=[]);for(var a=s,h=0,u=0,l=0,c=0,d=0,p=0,f=0,m=0;f<=20;++f)h=_i(t,r,m=f/20),u=_i(e,i,m),l=_i(r,n,m),c=_i(i,o,m),d=_i(h,l,m),p=_i(u,c,m),a.push(d,p);return a}function bi(t,e){t.lineStyle.native?function(t,e){var r=0,i=t.shape,n=t.points||i.points,o=i.type!==ft.POLY||i.closeStroke;if(0===n.length)return;var s=e.points,a=e.indices,h=n.length/2,u=s.length/2,l=u;for(s.push(n[0],n[1]),r=1;r<h;r++)s.push(n[2*r],n[2*r+1]),a.push(l,l+1),l++;o&&a.push(l,u)}(t,e):function(t,e){var r=t.shape,i=t.points||r.points.slice(),n=e.closePointEps;if(0===i.length)return;var o=t.lineStyle,s=new mt(i[0],i[1]),a=new mt(i[i.length-2],i[i.length-1]),h=r.type!==ft.POLY||r.closeStroke,u=Math.abs(s.x-a.x)<n&&Math.abs(s.y-a.y)<n;if(h){i=i.slice(),u&&(i.pop(),i.pop(),a.set(i[i.length-2],i[i.length-1]));var l=a.x+.5*(s.x-a.x),c=a.y+.5*(s.y-a.y);i.unshift(l,c),i.push(l,c)}var d=e.points,p=i.length/2,f=i.length,m=d.length/2,v=o.width/2,g=i[0],y=i[1],_=i[2],x=i[3],b=0,T=0,w=-(y-x),E=g-_,I=0,S=0,P=0,A=0,O=Math.sqrt(w*w+E*E);w/=O,E/=O,w*=v,E*=v;var C=o.alignment,M=2*(1-C),D=2*C;d.push(g-w*M,y-E*M),d.push(g+w*D,y+E*D);for(var R=1;R<p-1;++R){g=i[2*(R-1)],y=i[2*(R-1)+1],_=i[2*R],x=i[2*R+1],b=i[2*(R+1)],T=i[2*(R+1)+1],w=-(y-x),E=g-_,O=Math.sqrt(w*w+E*E),w/=O,E/=O,w*=v,E*=v,I=-(x-T),S=_-b,O=Math.sqrt(I*I+S*S),I/=O,S/=O;var L=-E+y-(-E+x),F=-w+_-(-w+g),N=(-w+g)*(-E+x)-(-w+_)*(-E+y),B=-(S*=v)+T-(-S+x),U=-(I*=v)+_-(-I+b),k=(-I+b)*(-S+x)-(-I+_)*(-S+T),X=L*U-B*F;if(Math.abs(X)<.1)X+=10.1,d.push(_-w*M,x-E*M),d.push(_+w*D,x+E*D);else{var j=(F*k-U*N)/X,G=(B*N-L*k)/X;(j-_)*(j-_)+(G-x)*(G-x)>196*v*v?(P=w-I,A=E-S,O=Math.sqrt(P*P+A*A),P/=O,A/=O,P*=v,A*=v,d.push(_-P*M,x-A*M),d.push(_+P*D,x+A*D),d.push(_-P*D*M,x-A*M),f++):(d.push(_+(j-_)*M,x+(G-x)*M),d.push(_-(j-_)*D,x-(G-x)*D))}}g=i[2*(p-2)],y=i[2*(p-2)+1],_=i[2*(p-1)],x=i[2*(p-1)+1],w=-(y-x),E=g-_,O=Math.sqrt(w*w+E*E),w/=O,E/=O,w*=v,E*=v,d.push(_-w*M,x-E*M),d.push(_+w*D,x+E*D);for(var H=e.indices,z=0;z<f-2;++z)H.push(m,m+1,m+2),m++}(t,e)}var Ti=function(t){function e(e,r,i,n,o,s){o=o||n/2;for(var a=-1*Math.PI/2+s,h=2*i,u=gt/h,l=[],c=0;c<h;c++){var d=c%2?o:n,p=c*u+a;l.push(e+d*Math.cos(p),r+d*Math.sin(p))}t.call(this,l)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Rt),wi=function(){};wi.curveTo=function(t,e,r,i,n,o){var s=o[o.length-2],a=o[o.length-1]-e,h=s-t,u=i-e,l=r-t,c=Math.abs(a*l-h*u);if(c<1e-8||0===n)return o[o.length-2]===t&&o[o.length-1]===e||o.push(t,e),null;var d=a*a+h*h,p=u*u+l*l,f=a*u+h*l,m=n*Math.sqrt(d)/c,v=n*Math.sqrt(p)/c,g=m*f/d,y=v*f/p,_=m*l+v*h,x=m*u+v*a,b=h*(v+g),T=a*(v+g),w=l*(m+y),E=u*(m+y);return{cx:_+t,cy:x+e,radius:n,startAngle:Math.atan2(T-x,b-_),endAngle:Math.atan2(E-x,w-_),anticlockwise:h*u>l*a}},wi.arc=function(t,e,r,i,n,o,s,a,h){for(var u=s-o,l=pi._segmentsCount(Math.abs(u)*n,40*Math.ceil(Math.abs(u)/gt)),c=u/(2*l),d=2*c,p=Math.cos(c),f=Math.sin(c),m=l-1,v=m%1/m,g=0;g<=m;++g){var y=c+o+d*(g+v*g),_=Math.cos(y),x=-Math.sin(y);h.push((p*_+f*x)*n+r,(p*-x+f*_)*n+i)}};var Ei=function(){};Ei.curveLength=function(t,e,r,i,n,o,s,a){for(var h=0,u=0,l=0,c=0,d=0,p=0,f=0,m=0,v=0,g=0,y=0,_=t,x=e,b=1;b<=10;++b)g=_-(m=(f=(p=(d=1-(u=b/10))*d)*d)*t+3*p*u*r+3*d*(l=u*u)*n+(c=l*u)*s),y=x-(v=f*e+3*p*u*i+3*d*l*o+c*a),_=m,x=v,h+=Math.sqrt(g*g+y*y);return h},Ei.curveTo=function(t,e,r,i,n,o,s){var a=s[s.length-2],h=s[s.length-1];s.length-=2;var u=pi._segmentsCount(Ei.curveLength(a,h,t,e,r,i,n,o)),l=0,c=0,d=0,p=0,f=0;s.push(a,h);for(var m=1,v=0;m<=u;++m)d=(c=(l=1-(v=m/u))*l)*l,f=(p=v*v)*v,s.push(d*a+3*c*v*t+3*l*p*r+f*n,d*h+3*c*v*e+3*l*p*i+f*o)};var Ii=function(){};Ii.curveLength=function(t,e,r,i,n,o){var s=t-2*r+n,a=e-2*i+o,h=2*r-2*t,u=2*i-2*e,l=4*(s*s+a*a),c=4*(s*h+a*u),d=h*h+u*u,p=2*Math.sqrt(l+c+d),f=Math.sqrt(l),m=2*l*f,v=2*Math.sqrt(d),g=c/f;return(m*p+f*c*(p-v)+(4*d*l-c*c)*Math.log((2*f+g+p)/(g+v)))/(4*m)},Ii.curveTo=function(t,e,r,i,n){for(var o=n[n.length-2],s=n[n.length-1],a=pi._segmentsCount(Ii.curveLength(o,s,t,e,r,i)),h=0,u=0,l=1;l<=a;++l){var c=l/a;h=o+(t-o)*c,u=s+(e-s)*c,n.push(h+(t+(r-t)*c-h)*c,u+(e+(i-e)*c-u)*c)}};var Si=function(){this.reset()};Si.prototype.begin=function(t,e,r){this.reset(),this.style=t,this.start=e,this.attribStart=r},Si.prototype.end=function(t,e){this.attribSize=e-this.attribStart,this.size=t-this.start},Si.prototype.reset=function(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0};var Pi={};Pi[ft.POLY]=mi,Pi[ft.CIRC]=vi,Pi[ft.ELIP]=vi,Pi[ft.RECT]=gi,Pi[ft.RREC]=yi;var Ai=[],Oi=[],Ci={buildPoly:mi,buildCircle:vi,buildRectangle:gi,buildRoundedRectangle:yi,FILL_COMMANDS:Pi,BATCH_POOL:Ai,DRAW_CALL_POOL:Oi,buildLine:bi,buildComplexPoly:function(t,e){var r=t.points.slice();if(!(r.length<6)){var i=e.indices;e.points=r,e.alpha=t.fillAlpha,e.color=N(t.fillColor);for(var n=1/0,o=-1/0,s=1/0,a=-1/0,h=0,u=0,l=0;l<r.length;l+=2)n=(h=r[l])<n?h:n,o=h>o?h:o,s=(u=r[l+1])<s?u:s,a=u>a?u:a;r.push(n,s,o,s,o,a,n,a);for(var c=r.length/2,d=0;d<c;d++)i.push(d)}},bezierCurveTo:function(t,e,r,i,n,o,s,a,h,u){void 0===u&&(u=[]);var l=0,c=0,d=0,p=0,f=0;u.push(t,e);for(var m=1,v=0;m<=h;++m)d=(c=(l=1-(v=m/h))*l)*l,f=(p=v*v)*v,u.push(d*t+3*c*v*r+3*l*p*n+f*s,d*e+3*c*v*i+3*l*p*o+f*a);return u},Star:Ti,ArcUtils:wi,BezierUtils:Ei,QuadraticUtils:Ii,BatchPart:Si},Mi=function(t,e,r,i){void 0===e&&(e=null),void 0===r&&(r=null),void 0===i&&(i=null),this.shape=t,this.lineStyle=r,this.fillStyle=e,this.matrix=i,this.type=t.type,this.points=[],this.holes=[]};Mi.prototype.clone=function(){return new Mi(this.shape,this.fillStyle,this.lineStyle,this.matrix)},Mi.prototype.destroy=function(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null};var Di=new mt,Ri=new Ft,Li=function(t){function e(){t.call(this),this.points=[],this.colors=[],this.uvs=[],this.indices=[],this.textureIds=[],this.graphicsData=[],this.dirty=0,this.batchDirty=-1,this.cacheDirty=-1,this.clearDirty=0,this.drawCalls=[],this.batches=[],this.shapeIndex=0,this._bounds=new Ft,this.boundsDirty=-1,this.boundsPadding=0,this.batchable=!1,this.indicesUint16=null,this.uvsFloat32=null,this.closePointEps=1e-4}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={bounds:{configurable:!0}};return r.bounds.get=function(){return this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds},e.prototype.invalidate=function(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(var t=0;t<this.drawCalls.length;t++)this.drawCalls[t].textures.length=0,Oi.push(this.drawCalls[t]);this.drawCalls.length=0;for(var e=0;e<this.batches.length;e++){var r=this.batches[e];r.start=0,r.attribStart=0,r.style=null,Ai.push(r)}this.batches.length=0},e.prototype.clear=function(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this},e.prototype.drawShape=function(t,e,r,i){var n=new Mi(t,e,r,i);return this.graphicsData.push(n),this.dirty++,this},e.prototype.drawHole=function(t,e){if(!this.graphicsData.length)return null;var r=new Mi(t,null,null,e),i=this.graphicsData[this.graphicsData.length-1];return r.lineStyle=i.lineStyle,i.holes.push(r),this.dirty++,this},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e);for(var r=0;r<this.graphicsData.length;++r)this.graphicsData[r].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null},e.prototype.containsPoint=function(t){for(var e=this.graphicsData,r=0;r<e.length;++r){var i=e[r];if(i.fillStyle.visible&&(i.shape&&(i.matrix?i.matrix.applyInverse(t,Di):Di.copyFrom(t),i.shape.contains(Di.x,Di.y)))){var n=!1;if(i.holes)for(var o=0;o<i.holes.length;o++){if(i.holes[o].shape.contains(Di.x,Di.y)){n=!0;break}}if(!n)return!0}}return!1},e.prototype.updateBatches=function(){if(this.graphicsData.length){if(this.validateBatching()){this.cacheDirty=this.dirty;var t=this.uvs,e=this.graphicsData,r=null,i=null;this.batches.length>0&&(i=(r=this.batches[this.batches.length-1]).style);for(var n=this.shapeIndex;n<e.length;n++){this.shapeIndex++;var o=e[n],s=o.fillStyle,a=o.lineStyle;Pi[o.type].build(o),o.matrix&&this.transformPoints(o.points,o.matrix);for(var h=0;h<2;h++){var u=0===h?s:a;if(u.visible){var l=u.texture.baseTexture,c=this.indices.length,d=this.points.length/2;l.wrapMode=y.REPEAT,r&&!this._compareStyles(i,u)&&(r.end(c,d),r.size>0&&(r=null)),r||((r=Ai.pop()||new Si).begin(u,c,d),this.batches.push(r),i=u);var p=this.points.length/2;0===h?this.processFill(o):this.processLine(o);var f=this.points.length/2-p;this.addUvs(this.points,t,u.texture,p,f,u.matrix)}}}if(r){var m=this.indices.length,v=this.points.length/2;r.end(m,v),this.indicesUint16=new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}else this.batchable=!0}}else this.batchable=!0},e.prototype._compareStyles=function(t,e){return!(!t||!e)&&(t.texture.baseTexture===e.texture.baseTexture&&(t.color+t.alpha===e.color+e.alpha&&!!t.native==!!e.native))},e.prototype.validateBatching=function(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(var t=0,e=this.graphicsData.length;t<e;t++){var r=this.graphicsData[t],i=r.fillStyle,n=r.lineStyle;if(i&&!i.texture.baseTexture.valid)return!1;if(n&&!n.texture.baseTexture.valid)return!1}return!0},e.prototype.packBatches=function(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);for(var t=this.batches,e=0,r=t.length;e<r;e++)for(var i=t[e],n=0;n<i.size;n++){var o=i.start+n;this.indicesUint16[o]=this.indicesUint16[o]-i.attribStart}},e.prototype.isBatchable=function(){for(var t=this.batches,r=0;r<t.length;r++)if(t[r].style.native)return!1;return this.points.length<2*e.BATCHABLE_SIZE},e.prototype.buildDrawCalls=function(){for(var t=++te._globalBatch,e=0;e<this.drawCalls.length;e++)this.drawCalls[e].textures.length=0,Oi.push(this.drawCalls[e]);this.drawCalls.length=0;var r=this.colors,i=this.textureIds,n=Oi.pop();n||((n=new zr).textures=new Vr),n.textures.count=0,n.start=0,n.size=0,n.type=p.TRIANGLES;var o=0,s=null,a=0,h=!1,u=p.TRIANGLES,l=0;this.drawCalls.push(n);for(var c=0;c<this.batches.length;c++){var d=this.batches[c],f=d.style,m=f.texture.baseTexture;h!==!!f.native&&(u=(h=!!f.native)?p.LINES:p.TRIANGLES,s=null,o=8,t++),s!==m&&(s=m,m._batchEnabled!==t&&(8===o&&(t++,o=0,n.size>0&&((n=Oi.pop())||((n=new zr).textures=new Vr),this.drawCalls.push(n)),n.start=l,n.size=0,n.textures.count=0,n.type=u),m.touched=1,m._batchEnabled=t,m._batchLocation=o,m.wrapMode=10497,n.textures.elements[n.textures.count++]=m,o++)),n.size+=d.size,l+=d.size,a=m._batchLocation,this.addColors(r,f.color,f.alpha,d.attribSize),this.addTextureIds(i,a,d.attribSize)}te._globalBatch=t,this.packAttributes()},e.prototype.packAttributes=function(){for(var t=this.points,e=this.uvs,r=this.colors,i=this.textureIds,n=new ArrayBuffer(3*t.length*4),o=new Float32Array(n),s=new Uint32Array(n),a=0,h=0;h<t.length/2;h++)o[a++]=t[2*h],o[a++]=t[2*h+1],o[a++]=e[2*h],o[a++]=e[2*h+1],s[a++]=r[h],o[a++]=i[h];this._buffer.update(n),this._indexBuffer.update(this.indicesUint16)},e.prototype.processFill=function(t){t.holes.length?(this.processHoles(t.holes),mi.triangulate(t,this)):Pi[t.type].triangulate(t,this)},e.prototype.processLine=function(t){bi(t,this);for(var e=0;e<t.holes.length;e++)bi(t.holes[e],this)},e.prototype.processHoles=function(t){for(var e=0;e<t.length;e++){var r=t[e];Pi[r.type].build(r),r.matrix&&this.transformPoints(r.points,r.matrix)}},e.prototype.calculateBounds=function(){var t=this._bounds,e=Ri,r=xt.IDENTITY;this._bounds.clear(),e.clear();for(var i=0;i<this.graphicsData.length;i++){var n=this.graphicsData[i],o=n.shape,s=n.type,a=n.lineStyle,h=n.matrix||xt.IDENTITY,u=0;if(a&&a.visible){var l=a.alignment;u=a.width,s===ft.POLY?u*=.5+Math.abs(.5-l):u*=Math.max(0,l)}r!==h&&(e.isEmpty()||(t.addBoundsMatrix(e,r),e.clear()),r=h),s===ft.RECT||s===ft.RREC?e.addFramePad(o.x,o.y,o.x+o.width,o.y+o.height,u,u):s===ft.CIRC?e.addFramePad(o.x,o.y,o.x,o.y,o.radius+u,o.radius+u):s===ft.ELIP?e.addFramePad(o.x,o.y,o.x,o.y,o.width+u,o.height+u):t.addVerticesMatrix(r,o.points,0,o.points.length,u,u)}e.isEmpty()||t.addBoundsMatrix(e,r),t.pad(this.boundsPadding,this.boundsPadding)},e.prototype.transformPoints=function(t,e){for(var r=0;r<t.length/2;r++){var i=t[2*r],n=t[2*r+1];t[2*r]=e.a*i+e.c*n+e.tx,t[2*r+1]=e.b*i+e.d*n+e.ty}},e.prototype.addColors=function(t,e,r,i){for(var n=H((e>>16)+(65280&e)+((255&e)<<16),r);i-- >0;)t.push(n)},e.prototype.addTextureIds=function(t,e,r){for(;r-- >0;)t.push(e)},e.prototype.addUvs=function(t,e,r,i,n,o){for(var s=0,a=e.length,h=r.frame;s<n;){var u=t[2*(i+s)],l=t[2*(i+s)+1];if(o){var c=o.a*u+o.c*l+o.tx;l=o.b*u+o.d*l+o.ty,u=c}s++,e.push(u/h.width,l/h.height)}var d=r.baseTexture;(h.width<d.width||h.height<d.height)&&this.adjustUvs(e,r,a,n)},e.prototype.adjustUvs=function(t,e,r,i){for(var n=e.baseTexture,o=r+2*i,s=e.frame,a=s.width/n.width,h=s.height/n.height,u=s.x/s.width,l=s.y/s.height,c=Math.floor(t[r]+1e-6),d=Math.floor(t[r+1]+1e-6),p=r+2;p<o;p+=2)c=Math.min(c,Math.floor(t[p]+1e-6)),d=Math.min(d,Math.floor(t[p+1]+1e-6));u-=c,l-=d;for(var f=r;f<o;f+=2)t[f]=(t[f]+u)*a,t[f+1]=(t[f+1]+l)*h},Object.defineProperties(e.prototype,r),e}(Kr);Li.BATCHABLE_SIZE=100;var Fi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){var t=new e;return t.color=this.color,t.alpha=this.alpha,t.texture=this.texture,t.matrix=this.matrix,t.visible=this.visible,t.width=this.width,t.alignment=this.alignment,t.native=this.native,t},e.prototype.reset=function(){t.prototype.reset.call(this),this.color=0,this.width=0,this.alignment=.5,this.native=!1},e}(fi),Ni=new Float32Array(3),Bi={},Ui=function(t){function e(e){void 0===e&&(e=null),t.call(this),this.geometry=e||new Li,this.geometry.refCount++,this.shader=null,this.state=mr.for2d(),this._fillStyle=new fi,this._lineStyle=new Fi,this._matrix=null,this._holeMode=!1,this.currentPath=null,this.batches=[],this.batchTint=-1,this.vertexData=null,this._transformID=-1,this.batchDirty=-1,this.pluginName="batch",this.tint=16777215,this.blendMode=d.NORMAL}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={blendMode:{configurable:!0},tint:{configurable:!0},fill:{configurable:!0},line:{configurable:!0}};return e.prototype.clone=function(){return this.finishPoly(),new e(this.geometry)},r.blendMode.set=function(t){this.state.blendMode=t},r.blendMode.get=function(){return this.state.blendMode},r.tint.get=function(){return this._tint},r.tint.set=function(t){this._tint=t},r.fill.get=function(){return this._fillStyle},r.line.get=function(){return this._lineStyle},e.prototype.lineStyle=function(t){if("number"==typeof t){var e=arguments;t={width:e[0]||0,color:e[1]||0,alpha:void 0!==e[2]?e[2]:1,alignment:void 0!==e[3]?e[3]:.5,native:!!e[4]}}return this.lineTextureStyle(t)},e.prototype.lineTextureStyle=function(t){if("number"==typeof t){pt("v5.2.0","Please use object-based options for Graphics#lineTextureStyle");var e=arguments[0],r=arguments[1],i=arguments[2],n=arguments[3],o=arguments[4],s=arguments[5],a=arguments[6];t={width:e,texture:r,color:i,alpha:n,matrix:o,alignment:s,native:a},Object.keys(t).forEach((function(e){return void 0===t[e]&&delete t[e]}))}t=Object.assign({width:0,texture:me.WHITE,color:t&&t.texture?16777215:0,alpha:1,matrix:null,alignment:.5,native:!1},t),this.currentPath&&this.startPoly();var h=t.width>0&&t.alpha>0;return h?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._lineStyle,{visible:h},t)):this._lineStyle.reset(),this},e.prototype.startPoly=function(){if(this.currentPath){var t=this.currentPath.points,e=this.currentPath.points.length;e>2&&(this.drawShape(this.currentPath),this.currentPath=new Rt,this.currentPath.closeStroke=!1,this.currentPath.points.push(t[e-2],t[e-1]))}else this.currentPath=new Rt,this.currentPath.closeStroke=!1},e.prototype.finishPoly=function(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)},e.prototype.moveTo=function(t,e){return this.startPoly(),this.currentPath.points[0]=t,this.currentPath.points[1]=e,this},e.prototype.lineTo=function(t,e){this.currentPath||this.moveTo(0,0);var r=this.currentPath.points,i=r[r.length-2],n=r[r.length-1];return i===t&&n===e||r.push(t,e),this},e.prototype._initCurve=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.currentPath?0===this.currentPath.points.length&&(this.currentPath.points=[t,e]):this.moveTo(t,e)},e.prototype.quadraticCurveTo=function(t,e,r,i){this._initCurve();var n=this.currentPath.points;return 0===n.length&&this.moveTo(0,0),Ii.curveTo(t,e,r,i,n),this},e.prototype.bezierCurveTo=function(t,e,r,i,n,o){return this._initCurve(),Ei.curveTo(t,e,r,i,n,o,this.currentPath.points),this},e.prototype.arcTo=function(t,e,r,i,n){this._initCurve(t,e);var o=this.currentPath.points,s=wi.curveTo(t,e,r,i,n,o);if(s){var a=s.cx,h=s.cy,u=s.radius,l=s.startAngle,c=s.endAngle,d=s.anticlockwise;this.arc(a,h,u,l,c,d)}return this},e.prototype.arc=function(t,e,r,i,n,o){if(void 0===o&&(o=!1),i===n)return this;if(!o&&n<=i?n+=gt:o&&i<=n&&(i+=gt),0===n-i)return this;var s=t+Math.cos(i)*r,a=e+Math.sin(i)*r,h=this.geometry.closePointEps,u=this.currentPath?this.currentPath.points:null;if(u){var l=Math.abs(u[u.length-2]-s),c=Math.abs(u[u.length-1]-a);l<h&&c<h||u.push(s,a)}else this.moveTo(s,a),u=this.currentPath.points;return wi.arc(s,a,t,e,r,i,n,o,u),this},e.prototype.beginFill=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=1),this.beginTextureFill({texture:me.WHITE,color:t,alpha:e})},e.prototype.beginTextureFill=function(t){if(t instanceof me){pt("v5.2.0","Please use object-based options for Graphics#beginTextureFill");var e=arguments[0],r=arguments[1],i=arguments[2],n=arguments[3];t={texture:e,color:r,alpha:i,matrix:n},Object.keys(t).forEach((function(e){return void 0===t[e]&&delete t[e]}))}t=Object.assign({texture:me.WHITE,color:16777215,alpha:1,matrix:null},t),this.currentPath&&this.startPoly();var o=t.alpha>0;return o?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._fillStyle,{visible:o},t)):this._fillStyle.reset(),this},e.prototype.endFill=function(){return this.finishPoly(),this._fillStyle.reset(),this},e.prototype.drawRect=function(t,e,r,i){return this.drawShape(new Ct(t,e,r,i))},e.prototype.drawRoundedRect=function(t,e,r,i,n){return this.drawShape(new Lt(t,e,r,i,n))},e.prototype.drawCircle=function(t,e,r){return this.drawShape(new Mt(t,e,r))},e.prototype.drawEllipse=function(t,e,r,i){return this.drawShape(new Dt(t,e,r,i))},e.prototype.drawPolygon=function(t){var e=arguments,r=t,i=!0;if(r.points&&(i=r.closeStroke,r=r.points),!Array.isArray(r)){r=new Array(arguments.length);for(var n=0;n<r.length;++n)r[n]=e[n]}var o=new Rt(r);return o.closeStroke=i,this.drawShape(o),this},e.prototype.drawShape=function(t){return this._holeMode?this.geometry.drawHole(t,this._matrix):this.geometry.drawShape(t,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this},e.prototype.drawStar=function(t,e,r,i,n,o){return void 0===o&&(o=0),this.drawPolygon(new Ti(t,e,r,i,n,o))},e.prototype.clear=function(){return this.geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._matrix=null,this._holeMode=!1,this.currentPath=null,this},e.prototype.isFastRect=function(){return 1===this.geometry.graphicsData.length&&this.geometry.graphicsData[0].shape.type===ft.RECT&&!this.geometry.graphicsData[0].lineWidth},e.prototype._render=function(t){this.finishPoly();var e=this.geometry;e.updateBatches(),e.batchable?(this.batchDirty!==e.batchDirty&&this._populateBatches(),this._renderBatched(t)):(t.batch.flush(),this._renderDirect(t))},e.prototype._populateBatches=function(){var t=this.geometry,e=this.blendMode;this.batches=[],this.batchTint=-1,this._transformID=-1,this.batchDirty=t.batchDirty,this.vertexData=new Float32Array(t.points);for(var r=0,i=t.batches.length;r<i;r++){var n=t.batches[r],o=n.style.color,s=new Float32Array(this.vertexData.buffer,4*n.attribStart*2,2*n.attribSize),a=new Float32Array(t.uvsFloat32.buffer,4*n.attribStart*2,2*n.attribSize),h={vertexData:s,blendMode:e,indices:new Uint16Array(t.indicesUint16.buffer,2*n.start,n.size),uvs:a,_batchRGB:N(o),_tintRGB:o,_texture:n.style.texture,alpha:n.style.alpha,worldAlpha:1};this.batches[r]=h}},e.prototype._renderBatched=function(t){if(this.batches.length){t.batch.setObjectRenderer(t.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(var e=0,r=this.batches.length;e<r;e++){var i=this.batches[e];i.worldAlpha=this.worldAlpha*i.alpha,t.plugins[this.pluginName].render(i)}}},e.prototype._renderDirect=function(t){var e=this._resolveDirectShader(t),r=this.geometry,i=this.tint,n=this.worldAlpha,o=e.uniforms,s=r.drawCalls;o.translationMatrix=this.transform.worldTransform,o.tint[0]=(i>>16&255)/255*n,o.tint[1]=(i>>8&255)/255*n,o.tint[2]=(255&i)/255*n,o.tint[3]=n,t.shader.bind(e),t.geometry.bind(r,e),t.state.set(this.state);for(var a=0,h=s.length;a<h;a++)this._renderDrawCallDirect(t,r.drawCalls[a])},e.prototype._renderDrawCallDirect=function(t,e){for(var r=e.textures,i=e.type,n=e.size,o=e.start,s=r.count,a=0;a<s;a++)t.texture.bind(r.elements[a],a);t.geometry.draw(i,n,o)},e.prototype._resolveDirectShader=function(t){var e=this.shader,r=this.pluginName;if(!e){if(!Bi[r]){for(var i=new Int32Array(16),n=0;n<16;n++)i[n]=n;var o={tint:new Float32Array([1,1,1,1]),translationMatrix:new xt,default:Me.from({uSamplers:i},!0)},s=t.plugins[r]._shader.program;Bi[r]=new pr(s,o)}e=Bi[r]}return e},e.prototype._calculateBounds=function(){this.finishPoly();var t=this.geometry;if(t.graphicsData.length){var e=t.bounds,r=e.minX,i=e.minY,n=e.maxX,o=e.maxY;this._bounds.addFrame(this.transform,r,i,n,o)}},e.prototype.containsPoint=function(t){return this.worldTransform.applyInverse(t,e._TEMP_POINT),this.geometry.containsPoint(e._TEMP_POINT)},e.prototype.calculateTints=function(){if(this.batchTint!==this.tint){this.batchTint=this.tint;for(var t=N(this.tint,Ni),e=0;e<this.batches.length;e++){var r=this.batches[e],i=r._batchRGB,n=(t[0]*i[0]*255<<16)+(t[1]*i[1]*255<<8)+(0|t[2]*i[2]*255);r._tintRGB=(n>>16)+(65280&n)+((255&n)<<16)}}},e.prototype.calculateVertices=function(){if(this._transformID!==this.transform._worldID){this._transformID=this.transform._worldID;for(var t=this.transform.worldTransform,e=t.a,r=t.b,i=t.c,n=t.d,o=t.tx,s=t.ty,a=this.geometry.points,h=this.vertexData,u=0,l=0;l<a.length;l+=2){var c=a[l],d=a[l+1];h[u++]=e*c+i*d+o,h[u++]=n*d+r*c+s}}},e.prototype.closePath=function(){var t=this.currentPath;return t&&(t.closeStroke=!0),this},e.prototype.setMatrix=function(t){return this._matrix=t,this},e.prototype.beginHole=function(){return this.finishPoly(),this._holeMode=!0,this},e.prototype.endHole=function(){return this.finishPoly(),this._holeMode=!1,this},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this.geometry.refCount--,0===this.geometry.refCount&&this.geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this.geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,t.prototype.destroy.call(this,e)},Object.defineProperties(e.prototype,r),e}(Ut);Ui._TEMP_POINT=new mt;
/*!
 * @pixi/sprite - v5.2.0
 * Compiled Wed, 06 Nov 2019 02:32:43 UTC
 *
 * @pixi/sprite is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
var ki=new mt,Xi=new Uint16Array([0,1,2,0,2,3]),ji=function(t){function e(e){t.call(this),this._anchor=new vt(this._onAnchorUpdate,this,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),this._texture=null,this._width=0,this._height=0,this._tint=null,this._tintRGB=null,this.tint=16777215,this.blendMode=d.NORMAL,this.shader=null,this._cachedTint=16777215,this.uvs=null,this.texture=e||me.EMPTY,this.vertexData=new Float32Array(8),this.vertexTrimmedData=null,this._transformID=-1,this._textureID=-1,this._transformTrimmedID=-1,this._textureTrimmedID=-1,this.indices=Xi,this.size=4,this.start=0,this.pluginName="batch",this.isSprite=!0,this._roundPixels=E.ROUND_PIXELS}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={roundPixels:{configurable:!0},width:{configurable:!0},height:{configurable:!0},anchor:{configurable:!0},tint:{configurable:!0},texture:{configurable:!0}};return e.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=Z(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=Z(this.scale.y)*this._height/this._texture.orig.height)},e.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},e.prototype.calculateVertices=function(){var t=this._texture;if(this._transformID!==this.transform._worldID||this._textureID!==t._updateID){this._textureID!==t._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=t._updateID;var e=this.transform.worldTransform,r=e.a,i=e.b,n=e.c,o=e.d,s=e.tx,a=e.ty,h=this.vertexData,u=t.trim,l=t.orig,c=this._anchor,d=0,p=0,f=0,m=0;if(u?(d=(p=u.x-c._x*l.width)+u.width,f=(m=u.y-c._y*l.height)+u.height):(d=(p=-c._x*l.width)+l.width,f=(m=-c._y*l.height)+l.height),h[0]=r*p+n*m+s,h[1]=o*m+i*p+a,h[2]=r*d+n*m+s,h[3]=o*m+i*d+a,h[4]=r*d+n*f+s,h[5]=o*f+i*d+a,h[6]=r*p+n*f+s,h[7]=o*f+i*p+a,this._roundPixels)for(var v=0;v<8;v++)h[v]=Math.round(h[v])}},e.prototype.calculateTrimmedVertices=function(){if(this.vertexTrimmedData){if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return}else this.vertexTrimmedData=new Float32Array(8);this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var t=this._texture,e=this.vertexTrimmedData,r=t.orig,i=this._anchor,n=this.transform.worldTransform,o=n.a,s=n.b,a=n.c,h=n.d,u=n.tx,l=n.ty,c=-i._x*r.width,d=c+r.width,p=-i._y*r.height,f=p+r.height;e[0]=o*c+a*p+u,e[1]=h*p+s*c+l,e[2]=o*d+a*p+u,e[3]=h*p+s*d+l,e[4]=o*d+a*f+u,e[5]=h*f+s*d+l,e[6]=o*c+a*f+u,e[7]=h*f+s*c+l},e.prototype._render=function(t){this.calculateVertices(),t.batch.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this)},e.prototype._calculateBounds=function(){var t=this._texture.trim,e=this._texture.orig;!t||t.width===e.width&&t.height===e.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},e.prototype.getLocalBounds=function(e){return 0===this.children.length?(this._bounds.minX=this._texture.orig.width*-this._anchor._x,this._bounds.minY=this._texture.orig.height*-this._anchor._y,this._bounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._bounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new Ct),e=this._localBoundsRect),this._bounds.getRectangle(e)):t.prototype.getLocalBounds.call(this,e)},e.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,ki);var e=this._texture.orig.width,r=this._texture.orig.height,i=-e*this.anchor.x,n=0;return ki.x>=i&&ki.x<i+e&&(n=-r*this.anchor.y,ki.y>=n&&ki.y<n+r)},e.prototype.destroy=function(e){if(t.prototype.destroy.call(this,e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,"boolean"==typeof e?e:e&&e.texture){var r="boolean"==typeof e?e:e&&e.baseTexture;this._texture.destroy(!!r)}this._texture=null,this.shader=null},e.from=function(t,r){return new e(t instanceof me?t:me.from(t,r))},r.roundPixels.set=function(t){this._roundPixels!==t&&(this._transformID=-1),this._roundPixels=t},r.roundPixels.get=function(){return this._roundPixels},r.width.get=function(){return Math.abs(this.scale.x)*this._texture.orig.width},r.width.set=function(t){var e=Z(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t},r.height.get=function(){return Math.abs(this.scale.y)*this._texture.orig.height},r.height.set=function(t){var e=Z(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t},r.anchor.get=function(){return this._anchor},r.anchor.set=function(t){this._anchor.copyFrom(t)},r.tint.get=function(){return this._tint},r.tint.set=function(t){this._tint=t,this._tintRGB=(t>>16)+(65280&t)+((255&t)<<16)},r.texture.get=function(){return this._texture},r.texture.set=function(t){this._texture!==t&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=t||me.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,t&&(t.baseTexture.valid?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this)))},Object.defineProperties(e.prototype,r),e}(Ut),Gi={LINEAR_VERTICAL:0,LINEAR_HORIZONTAL:1},Hi={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:Gi.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},zi=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],Vi=function(t){this.styleID=0,this.reset(),Zi(this,t,t)},Yi={align:{configurable:!0},breakWords:{configurable:!0},dropShadow:{configurable:!0},dropShadowAlpha:{configurable:!0},dropShadowAngle:{configurable:!0},dropShadowBlur:{configurable:!0},dropShadowColor:{configurable:!0},dropShadowDistance:{configurable:!0},fill:{configurable:!0},fillGradientType:{configurable:!0},fillGradientStops:{configurable:!0},fontFamily:{configurable:!0},fontSize:{configurable:!0},fontStyle:{configurable:!0},fontVariant:{configurable:!0},fontWeight:{configurable:!0},letterSpacing:{configurable:!0},lineHeight:{configurable:!0},leading:{configurable:!0},lineJoin:{configurable:!0},miterLimit:{configurable:!0},padding:{configurable:!0},stroke:{configurable:!0},strokeThickness:{configurable:!0},textBaseline:{configurable:!0},trim:{configurable:!0},whiteSpace:{configurable:!0},wordWrap:{configurable:!0},wordWrapWidth:{configurable:!0}};function Wi(t){return"number"==typeof t?B(t):("string"==typeof t&&0===t.indexOf("0x")&&(t=t.replace("0x","#")),t)}function qi(t){if(Array.isArray(t)){for(var e=0;e<t.length;++e)t[e]=Wi(t[e]);return t}return Wi(t)}function Zi(t,e,r){for(var i in r)Array.isArray(e[i])?t[i]=e[i].slice():t[i]=e[i]}Vi.prototype.clone=function(){var t={};return Zi(t,this,Hi),new Vi(t)},Vi.prototype.reset=function(){Zi(this,Hi,Hi)},Yi.align.get=function(){return this._align},Yi.align.set=function(t){this._align!==t&&(this._align=t,this.styleID++)},Yi.breakWords.get=function(){return this._breakWords},Yi.breakWords.set=function(t){this._breakWords!==t&&(this._breakWords=t,this.styleID++)},Yi.dropShadow.get=function(){return this._dropShadow},Yi.dropShadow.set=function(t){this._dropShadow!==t&&(this._dropShadow=t,this.styleID++)},Yi.dropShadowAlpha.get=function(){return this._dropShadowAlpha},Yi.dropShadowAlpha.set=function(t){this._dropShadowAlpha!==t&&(this._dropShadowAlpha=t,this.styleID++)},Yi.dropShadowAngle.get=function(){return this._dropShadowAngle},Yi.dropShadowAngle.set=function(t){this._dropShadowAngle!==t&&(this._dropShadowAngle=t,this.styleID++)},Yi.dropShadowBlur.get=function(){return this._dropShadowBlur},Yi.dropShadowBlur.set=function(t){this._dropShadowBlur!==t&&(this._dropShadowBlur=t,this.styleID++)},Yi.dropShadowColor.get=function(){return this._dropShadowColor},Yi.dropShadowColor.set=function(t){var e=qi(t);this._dropShadowColor!==e&&(this._dropShadowColor=e,this.styleID++)},Yi.dropShadowDistance.get=function(){return this._dropShadowDistance},Yi.dropShadowDistance.set=function(t){this._dropShadowDistance!==t&&(this._dropShadowDistance=t,this.styleID++)},Yi.fill.get=function(){return this._fill},Yi.fill.set=function(t){var e=qi(t);this._fill!==e&&(this._fill=e,this.styleID++)},Yi.fillGradientType.get=function(){return this._fillGradientType},Yi.fillGradientType.set=function(t){this._fillGradientType!==t&&(this._fillGradientType=t,this.styleID++)},Yi.fillGradientStops.get=function(){return this._fillGradientStops},Yi.fillGradientStops.set=function(t){(function(t,e){if(!Array.isArray(t)||!Array.isArray(e))return!1;if(t.length!==e.length)return!1;for(var r=0;r<t.length;++r)if(t[r]!==e[r])return!1;return!0})(this._fillGradientStops,t)||(this._fillGradientStops=t,this.styleID++)},Yi.fontFamily.get=function(){return this._fontFamily},Yi.fontFamily.set=function(t){this.fontFamily!==t&&(this._fontFamily=t,this.styleID++)},Yi.fontSize.get=function(){return this._fontSize},Yi.fontSize.set=function(t){this._fontSize!==t&&(this._fontSize=t,this.styleID++)},Yi.fontStyle.get=function(){return this._fontStyle},Yi.fontStyle.set=function(t){this._fontStyle!==t&&(this._fontStyle=t,this.styleID++)},Yi.fontVariant.get=function(){return this._fontVariant},Yi.fontVariant.set=function(t){this._fontVariant!==t&&(this._fontVariant=t,this.styleID++)},Yi.fontWeight.get=function(){return this._fontWeight},Yi.fontWeight.set=function(t){this._fontWeight!==t&&(this._fontWeight=t,this.styleID++)},Yi.letterSpacing.get=function(){return this._letterSpacing},Yi.letterSpacing.set=function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.styleID++)},Yi.lineHeight.get=function(){return this._lineHeight},Yi.lineHeight.set=function(t){this._lineHeight!==t&&(this._lineHeight=t,this.styleID++)},Yi.leading.get=function(){return this._leading},Yi.leading.set=function(t){this._leading!==t&&(this._leading=t,this.styleID++)},Yi.lineJoin.get=function(){return this._lineJoin},Yi.lineJoin.set=function(t){this._lineJoin!==t&&(this._lineJoin=t,this.styleID++)},Yi.miterLimit.get=function(){return this._miterLimit},Yi.miterLimit.set=function(t){this._miterLimit!==t&&(this._miterLimit=t,this.styleID++)},Yi.padding.get=function(){return this._padding},Yi.padding.set=function(t){this._padding!==t&&(this._padding=t,this.styleID++)},Yi.stroke.get=function(){return this._stroke},Yi.stroke.set=function(t){var e=qi(t);this._stroke!==e&&(this._stroke=e,this.styleID++)},Yi.strokeThickness.get=function(){return this._strokeThickness},Yi.strokeThickness.set=function(t){this._strokeThickness!==t&&(this._strokeThickness=t,this.styleID++)},Yi.textBaseline.get=function(){return this._textBaseline},Yi.textBaseline.set=function(t){this._textBaseline!==t&&(this._textBaseline=t,this.styleID++)},Yi.trim.get=function(){return this._trim},Yi.trim.set=function(t){this._trim!==t&&(this._trim=t,this.styleID++)},Yi.whiteSpace.get=function(){return this._whiteSpace},Yi.whiteSpace.set=function(t){this._whiteSpace!==t&&(this._whiteSpace=t,this.styleID++)},Yi.wordWrap.get=function(){return this._wordWrap},Yi.wordWrap.set=function(t){this._wordWrap!==t&&(this._wordWrap=t,this.styleID++)},Yi.wordWrapWidth.get=function(){return this._wordWrapWidth},Yi.wordWrapWidth.set=function(t){this._wordWrapWidth!==t&&(this._wordWrapWidth=t,this.styleID++)},Vi.prototype.toFontString=function(){var t="number"==typeof this.fontSize?this.fontSize+"px":this.fontSize,e=this.fontFamily;Array.isArray(this.fontFamily)||(e=this.fontFamily.split(","));for(var r=e.length-1;r>=0;r--){var i=e[r].trim();!/([\"\'])[^\'\"]+\1/.test(i)&&zi.indexOf(i)<0&&(i='"'+i+'"'),e[r]=i}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+t+" "+e.join(",")},Object.defineProperties(Vi.prototype,Yi);var Ki=function(t,e,r,i,n,o,s,a,h){this.text=t,this.style=e,this.width=r,this.height=i,this.lines=n,this.lineWidths=o,this.lineHeight=s,this.maxLineWidth=a,this.fontProperties=h};Ki.measureText=function(t,e,r,i){void 0===i&&(i=Ki._canvas),r=null==r?e.wordWrap:r;var n=e.toFontString(),o=Ki.measureFont(n);0===o.fontSize&&(o.fontSize=e.fontSize,o.ascent=e.fontSize);var s=i.getContext("2d");s.font=n;for(var a=(r?Ki.wordWrap(t,e,i):t).split(/(?:\r\n|\r|\n)/),h=new Array(a.length),u=0,l=0;l<a.length;l++){var c=s.measureText(a[l]).width+(a[l].length-1)*e.letterSpacing;h[l]=c,u=Math.max(u,c)}var d=u+e.strokeThickness;e.dropShadow&&(d+=e.dropShadowDistance);var p=e.lineHeight||o.fontSize+e.strokeThickness,f=Math.max(p,o.fontSize+e.strokeThickness)+(a.length-1)*(p+e.leading);return e.dropShadow&&(f+=e.dropShadowDistance),new Ki(t,e,d,f,a,h,p+e.leading,u,o)},Ki.wordWrap=function(t,e,r){void 0===r&&(r=Ki._canvas);for(var i=r.getContext("2d"),n=0,o="",s="",a={},h=e.letterSpacing,u=e.whiteSpace,l=Ki.collapseSpaces(u),c=Ki.collapseNewlines(u),d=!l,p=e.wordWrapWidth+h,f=Ki.tokenize(t),m=0;m<f.length;m++){var v=f[m];if(Ki.isNewline(v)){if(!c){s+=Ki.addLine(o),d=!l,o="",n=0;continue}v=" "}if(l){var g=Ki.isBreakingSpace(v),y=Ki.isBreakingSpace(o[o.length-1]);if(g&&y)continue}var _=Ki.getFromCache(v,h,a,i);if(_>p)if(""!==o&&(s+=Ki.addLine(o),o="",n=0),Ki.canBreakWords(v,e.breakWords))for(var x=v.split(""),b=0;b<x.length;b++){for(var T=x[b],w=1;x[b+w];){var E=x[b+w],I=T[T.length-1];if(Ki.canBreakChars(I,E,v,b,e.breakWords))break;T+=E,w++}b+=T.length-1;var S=Ki.getFromCache(T,h,a,i);S+n>p&&(s+=Ki.addLine(o),d=!1,o="",n=0),o+=T,n+=S}else{o.length>0&&(s+=Ki.addLine(o),o="",n=0);var P=m===f.length-1;s+=Ki.addLine(v,!P),d=!1,o="",n=0}else _+n>p&&(d=!1,s+=Ki.addLine(o),o="",n=0),(o.length>0||!Ki.isBreakingSpace(v)||d)&&(o+=v,n+=_)}return s+=Ki.addLine(o,!1)},Ki.addLine=function(t,e){return void 0===e&&(e=!0),t=Ki.trimRight(t),t=e?t+"\n":t},Ki.getFromCache=function(t,e,r,i){var n=r[t];if(void 0===n){var o=t.length*e;n=i.measureText(t).width+o,r[t]=n}return n},Ki.collapseSpaces=function(t){return"normal"===t||"pre-line"===t},Ki.collapseNewlines=function(t){return"normal"===t},Ki.trimRight=function(t){if("string"!=typeof t)return"";for(var e=t.length-1;e>=0;e--){var r=t[e];if(!Ki.isBreakingSpace(r))break;t=t.slice(0,-1)}return t},Ki.isNewline=function(t){return"string"==typeof t&&Ki._newlines.indexOf(t.charCodeAt(0))>=0},Ki.isBreakingSpace=function(t){return"string"==typeof t&&Ki._breakingSpaces.indexOf(t.charCodeAt(0))>=0},Ki.tokenize=function(t){var e=[],r="";if("string"!=typeof t)return e;for(var i=0;i<t.length;i++){var n=t[i];Ki.isBreakingSpace(n)||Ki.isNewline(n)?(""!==r&&(e.push(r),r=""),e.push(n)):r+=n}return""!==r&&e.push(r),e},Ki.canBreakWords=function(t,e){return e},Ki.canBreakChars=function(t,e,r,i,n){return!0},Ki.measureFont=function(t){if(Ki._fonts[t])return Ki._fonts[t];var e={},r=Ki._canvas,i=Ki._context;i.font=t;var n=Ki.METRICS_STRING+Ki.BASELINE_SYMBOL,o=Math.ceil(i.measureText(n).width),s=Math.ceil(i.measureText(Ki.BASELINE_SYMBOL).width),a=2*s;s=s*Ki.BASELINE_MULTIPLIER|0,r.width=o,r.height=a,i.fillStyle="#f00",i.fillRect(0,0,o,a),i.font=t,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText(n,0,s);var h=i.getImageData(0,0,o,a).data,u=h.length,l=4*o,c=0,d=0,p=!1;for(c=0;c<s;++c){for(var f=0;f<l;f+=4)if(255!==h[d+f]){p=!0;break}if(p)break;d+=l}for(e.ascent=s-c,d=u-l,p=!1,c=a;c>s;--c){for(var m=0;m<l;m+=4)if(255!==h[d+m]){p=!0;break}if(p)break;d-=l}return e.descent=c-s,e.fontSize=e.ascent+e.descent,Ki._fonts[t]=e,e},Ki.clearMetrics=function(t){void 0===t&&(t=""),t?delete Ki._fonts[t]:Ki._fonts={}};var Ji=function(){try{var t=new OffscreenCanvas(0,0);return t.getContext("2d")?t:document.createElement("canvas")}catch(t){return document.createElement("canvas")}}();Ji.width=Ji.height=10,Ki._canvas=Ji,Ki._context=Ji.getContext("2d"),Ki._fonts={},Ki.METRICS_STRING="|ÉqÅ",Ki.BASELINE_SYMBOL="M",Ki.BASELINE_MULTIPLIER=1.4,Ki._newlines=[10,13],Ki._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];var Qi={texture:!0,children:!1,baseTexture:!0},$i=function(t){function e(e,r,i){(i=i||document.createElement("canvas")).width=3,i.height=3;var n=me.from(i);n.orig=new Ct,n.trim=new Ct,t.call(this,n),this.canvas=i,this.context=this.canvas.getContext("2d"),this._resolution=E.RESOLUTION,this._autoResolution=!0,this._text=null,this._style=null,this._styleListener=null,this._font="",this.text=e,this.style=r,this.localStyleID=-1}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={width:{configurable:!0},height:{configurable:!0},style:{configurable:!0},text:{configurable:!0},resolution:{configurable:!0}};return e.prototype.updateText=function(t){var e=this._style;if(this.localStyleID!==e.styleID&&(this.dirty=!0,this.localStyleID=e.styleID),this.dirty||!t){this._font=this._style.toFontString();var r,i,n=this.context,o=Ki.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),s=o.width,a=o.height,h=o.lines,u=o.lineHeight,l=o.lineWidths,c=o.maxLineWidth,d=o.fontProperties;this.canvas.width=Math.ceil((Math.max(1,s)+2*e.padding)*this._resolution),this.canvas.height=Math.ceil((Math.max(1,a)+2*e.padding)*this._resolution),n.scale(this._resolution,this._resolution),n.clearRect(0,0,this.canvas.width,this.canvas.height),n.font=this._font,n.lineWidth=e.strokeThickness,n.textBaseline=e.textBaseline,n.lineJoin=e.lineJoin,n.miterLimit=e.miterLimit;for(var p=e.dropShadow?2:1,f=0;f<p;++f){var m=e.dropShadow&&0===f,v=m?2*a:0,g=v*this.resolution;if(m){n.fillStyle="black",n.strokeStyle="black";var y=e.dropShadowColor,_=N("number"==typeof y?y:U(y));n.shadowColor="rgba("+255*_[0]+","+255*_[1]+","+255*_[2]+","+e.dropShadowAlpha+")",n.shadowBlur=e.dropShadowBlur,n.shadowOffsetX=Math.cos(e.dropShadowAngle)*e.dropShadowDistance,n.shadowOffsetY=Math.sin(e.dropShadowAngle)*e.dropShadowDistance+g}else n.fillStyle=this._generateFillStyle(e,h),n.strokeStyle=e.stroke,n.shadowColor=0,n.shadowBlur=0,n.shadowOffsetX=0,n.shadowOffsetY=0;for(var x=0;x<h.length;x++)r=e.strokeThickness/2,i=e.strokeThickness/2+x*u+d.ascent,"right"===e.align?r+=c-l[x]:"center"===e.align&&(r+=(c-l[x])/2),e.stroke&&e.strokeThickness&&this.drawLetterSpacing(h[x],r+e.padding,i+e.padding-v,!0),e.fill&&this.drawLetterSpacing(h[x],r+e.padding,i+e.padding-v)}this.updateTexture()}},e.prototype.drawLetterSpacing=function(t,e,r,i){void 0===i&&(i=!1);var n=this._style.letterSpacing;if(0!==n)for(var o=e,s=Array.from?Array.from(t):t.split(""),a=this.context.measureText(t).width,h=0,u=0;u<s.length;++u){var l=s[u];i?this.context.strokeText(l,o,r):this.context.fillText(l,o,r),o+=a-(h=this.context.measureText(t.substring(u+1)).width)+n,a=h}else i?this.context.strokeText(t,e,r):this.context.fillText(t,e,r)},e.prototype.updateTexture=function(){var t=this.canvas;if(this._style.trim){var e=nt(t);e.data&&(t.width=e.width,t.height=e.height,this.context.putImageData(e.data,0,0))}var r=this._texture,i=this._style,n=i.trim?0:i.padding,o=r.baseTexture;r.trim.width=r._frame.width=Math.ceil(t.width/this._resolution),r.trim.height=r._frame.height=Math.ceil(t.height/this._resolution),r.trim.x=-n,r.trim.y=-n,r.orig.width=r._frame.width-2*n,r.orig.height=r._frame.height-2*n,this._onTextureUpdate(),o.setRealSize(t.width,t.height,this._resolution),this.dirty=!1},e.prototype._render=function(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),t.prototype._render.call(this,e)},e.prototype.getLocalBounds=function(e){return this.updateText(!0),t.prototype.getLocalBounds.call(this,e)},e.prototype._calculateBounds=function(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)},e.prototype._onStyleChange=function(){this.dirty=!0},e.prototype._generateFillStyle=function(t,e){if(!Array.isArray(t.fill))return t.fill;if(1===t.fill.length)return t.fill[0];var r,i,n,o,s=Math.ceil(this.canvas.width/this._resolution),a=Math.ceil(this.canvas.height/this._resolution),h=t.fill.slice(),u=t.fillGradientStops.slice();if(!u.length)for(var l=h.length+1,c=1;c<l;++c)u.push(c/l);if(h.unshift(t.fill[0]),u.unshift(0),h.push(t.fill[t.fill.length-1]),u.push(1),t.fillGradientType===Gi.LINEAR_VERTICAL){r=this.context.createLinearGradient(s/2,0,s/2,a),i=(h.length+1)*e.length,n=0;for(var d=0;d<e.length;d++){n+=1;for(var p=0;p<h.length;p++)o="number"==typeof u[p]?u[p]/e.length+d/e.length:n/i,r.addColorStop(o,h[p]),n++}}else{r=this.context.createLinearGradient(0,a/2,s,a/2),i=h.length+1,n=1;for(var f=0;f<h.length;f++)o="number"==typeof u[f]?u[f]:n/i,r.addColorStop(o,h[f]),n++}return r},e.prototype.destroy=function(e){"boolean"==typeof e&&(e={children:e}),e=Object.assign({},Qi,e),t.prototype.destroy.call(this,e),this.context=null,this.canvas=null,this._style=null},r.width.get=function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},r.width.set=function(t){this.updateText(!0);var e=Z(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t},r.height.get=function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},r.height.set=function(t){this.updateText(!0);var e=Z(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t},r.style.get=function(){return this._style},r.style.set=function(t){t=t||{},this._style=t instanceof Vi?t:new Vi(t),this.localStyleID=-1,this.dirty=!0},r.text.get=function(){return this._text},r.text.set=function(t){t=String(null==t?"":t),this._text!==t&&(this._text=t,this.dirty=!0)},r.resolution.get=function(){return this._resolution},r.resolution.set=function(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)},Object.defineProperties(e.prototype,r),e}(ji);
/*!
 * @pixi/prepare - v5.2.0
 * Compiled Wed, 06 Nov 2019 02:32:43 UTC
 *
 * @pixi/prepare is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
E.UPLOADS_PER_FRAME=4;var tn=function(t){this.maxItemsPerFrame=t,this.itemsLeft=0};tn.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},tn.prototype.allowedToUpload=function(){return this.itemsLeft-- >0};var en=function(t){var e=this;this.limiter=new tn(E.UPLOADS_PER_FRAME),this.renderer=t,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){e.queue&&e.prepareItems()},this.registerFindHook(hn),this.registerFindHook(un),this.registerFindHook(rn),this.registerFindHook(nn),this.registerFindHook(on),this.registerUploadHook(sn),this.registerUploadHook(an)};function rn(t,e){var r=!1;if(t&&t._textures&&t._textures.length)for(var i=0;i<t._textures.length;i++)if(t._textures[i]instanceof me){var n=t._textures[i].baseTexture;-1===e.indexOf(n)&&(e.push(n),r=!0)}return r}function nn(t,e){if(t.baseTexture instanceof te){var r=t.baseTexture;return-1===e.indexOf(r)&&e.push(r),!0}return!1}function on(t,e){if(t._texture&&t._texture instanceof me){var r=t._texture.baseTexture;return-1===e.indexOf(r)&&e.push(r),!0}return!1}function sn(t,e){return e instanceof $i&&(e.updateText(!0),!0)}function an(t,e){if(e instanceof Vi){var r=e.toFontString();return Ki.measureFont(r),!0}return!1}function hn(t,e){if(t instanceof $i){-1===e.indexOf(t.style)&&e.push(t.style),-1===e.indexOf(t)&&e.push(t);var r=t._texture.baseTexture;return-1===e.indexOf(r)&&e.push(r),!0}return!1}function un(t,e){return t instanceof Vi&&(-1===e.indexOf(t)&&e.push(t),!0)}en.prototype.upload=function(t,e){"function"==typeof t&&(e=t,t=null),t&&this.add(t),this.queue.length?(e&&this.completes.push(e),this.ticking||(this.ticking=!0,zt.system.addOnce(this.tick,this,jt.UTILITY))):e&&e()},en.prototype.tick=function(){setTimeout(this.delayedTick,0)},en.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var t=this.queue[0],e=!1;if(t&&!t._destroyed)for(var r=0,i=this.uploadHooks.length;r<i;r++)if(this.uploadHooks[r](this.uploadHookHelper,t)){this.queue.shift(),e=!0;break}e||this.queue.shift()}if(this.queue.length)zt.system.addOnce(this.tick,this,jt.UTILITY);else{this.ticking=!1;var n=this.completes.slice(0);this.completes.length=0;for(var o=0,s=n.length;o<s;o++)n[o]()}},en.prototype.registerFindHook=function(t){return t&&this.addHooks.push(t),this},en.prototype.registerUploadHook=function(t){return t&&this.uploadHooks.push(t),this},en.prototype.add=function(t){for(var e=0,r=this.addHooks.length;e<r&&!this.addHooks[e](t,this.queue);e++);if(t instanceof Ut)for(var i=t.children.length-1;i>=0;i--)this.add(t.children[i]);return this},en.prototype.destroy=function(){this.ticking&&zt.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null};var ln=function(t){function e(e){t.call(this,e),this.uploadHookHelper=this.renderer,this.registerFindHook(pn),this.registerUploadHook(cn),this.registerUploadHook(dn)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(en);function cn(t,e){return e instanceof te&&(e._glTextures[t.CONTEXT_UID]||t.texture.bind(e),!0)}function dn(t,e){if(!(e instanceof Ui))return!1;var r=e.geometry;e.finishPoly(),r.updateBatches();for(var i=r.batches,n=0;n<i.length;n++){var o=i[n].style.texture;o&&cn(t,o.baseTexture)}return r.batchable||t.geometry.bind(r,e._resolveDirectShader()),!0}function pn(t,e){return t instanceof Ui&&(e.push(t),!0)}var fn=function(t){this.maxMilliseconds=t,this.frameStart=0};fn.prototype.beginFrame=function(){this.frameStart=Date.now()},fn.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds};
/*!
 * @pixi/app - v5.2.0
 * Compiled Wed, 06 Nov 2019 02:32:43 UTC
 *
 * @pixi/app is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
var mn=function t(e){var r=this;e=Object.assign({forceCanvas:!1},e),this.renderer=Xr(e),this.stage=new Ut,t._plugins.forEach((function(t){t.init.call(r,e)}))},vn={view:{configurable:!0},screen:{configurable:!0}};mn.registerPlugin=function(t){mn._plugins.push(t)},mn.prototype.render=function(){this.renderer.render(this.stage)},vn.view.get=function(){return this.renderer.view},vn.screen.get=function(){return this.renderer.screen},mn.prototype.destroy=function(t,e){var r=this,i=mn._plugins.slice(0);i.reverse(),i.forEach((function(t){t.destroy.call(r)})),this.stage.destroy(e),this.stage=null,this.renderer.destroy(t),this.renderer=null,this._options=null},Object.defineProperties(mn.prototype,vn),mn._plugins=[];var gn=function(){};gn.init=function(t){var e=this;Object.defineProperty(this,"resizeTo",{set:function(t){window.removeEventListener("resize",this.resize),this._resizeTo=t,t&&(window.addEventListener("resize",this.resize),this.resize())},get:function(){return this._resizeTo}}),this.resize=function(){e._resizeTo&&(e._resizeTo===window?e.renderer.resize(window.innerWidth,window.innerHeight):e.renderer.resize(e._resizeTo.clientWidth,e._resizeTo.clientHeight))},this._resizeTo=null,this.resizeTo=t.resizeTo||null},gn.destroy=function(){this.resizeTo=null,this.resize=null},mn.registerPlugin(gn);var yn=r(6),_n=r.n(yn),xn=r(0),bn=r.n(xn);
/*!
 * resource-loader - v3.0.1
 * https://github.com/pixijs/pixi-sound
 * Compiled Tue, 02 Jul 2019 14:06:18 UTC
 *
 * resource-loader is licensed under the MIT license.
 * http://www.opensource.org/licenses/mit-license
 */
function Tn(){}function wn(t,e,r,i){var n=0,o=t.length;!function s(a){a||n===o?r&&r(a):i?setTimeout((function(){e(t[n++],s)}),1):e(t[n++],s)}()}function En(t){return function(){if(null===t)throw new Error("Callback was already called.");var e=t;t=null,e.apply(this,arguments)}}function In(t,e){if(null==e)e=1;else if(0===e)throw new Error("Concurrency must not be zero");var r=0,i={_tasks:[],concurrency:e,saturated:Tn,unsaturated:Tn,buffer:e/4,empty:Tn,drain:Tn,error:Tn,started:!1,paused:!1,push:function(t,e){n(t,!1,e)},kill:function(){r=0,i.drain=Tn,i.started=!1,i._tasks=[]},unshift:function(t,e){n(t,!0,e)},process:function(){for(;!i.paused&&r<i.concurrency&&i._tasks.length;){var e=i._tasks.shift();0===i._tasks.length&&i.empty(),(r+=1)===i.concurrency&&i.saturated(),t(e.data,En(o(e)))}},length:function(){return i._tasks.length},running:function(){return r},idle:function(){return i._tasks.length+r===0},pause:function(){!0!==i.paused&&(i.paused=!0)},resume:function(){if(!1!==i.paused){i.paused=!1;for(var t=1;t<=i.concurrency;t++)i.process()}}};function n(t,e,r){if(null!=r&&"function"!=typeof r)throw new Error("task callback must be a function");if(i.started=!0,null==t&&i.idle())setTimeout((function(){return i.drain()}),1);else{var n={data:t,callback:"function"==typeof r?r:Tn};e?i._tasks.unshift(n):i._tasks.push(n),setTimeout((function(){return i.process()}),1)}}function o(t){return function(){r-=1,t.callback.apply(t,arguments),null!=arguments[0]&&i.error(arguments[0],t.data),r<=i.concurrency-i.buffer&&i.unsaturated(),i.idle()&&i.drain(),i.process()}}return i}var Sn={};function Pn(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function An(t,e,r){return e&&Pn(t.prototype,e),r&&Pn(t,r),t}var On=!(!window.XDomainRequest||"withCredentials"in new XMLHttpRequest),Cn=null;function Mn(){}var Dn=function(){function t(e,r,i){if("string"!=typeof e||"string"!=typeof r)throw new Error("Both name and url are required for constructing a resource.");i=i||{},this._flags=0,this._setFlag(t.STATUS_FLAGS.DATA_URL,0===r.indexOf("data:")),this.name=e,this.url=r,this.extension=this._getExtension(),this.data=null,this.crossOrigin=!0===i.crossOrigin?"anonymous":i.crossOrigin,this.timeout=i.timeout||0,this.loadType=i.loadType||this._determineLoadType(),this.xhrType=i.xhrType,this.metadata=i.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=t.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=Mn,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundOnTimeout=this._onTimeout.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this.onStart=new bn.a,this.onProgress=new bn.a,this.onComplete=new bn.a,this.onAfterMiddleware=new bn.a}t.setExtensionLoadType=function(e,r){Rn(t._loadTypeMap,e,r)},t.setExtensionXhrType=function(e,r){Rn(t._xhrTypeMap,e,r)};var e=t.prototype;return e.complete=function(){this._clearEvents(),this._finish()},e.abort=function(e){if(!this.error){if(this.error=new Error(e),this._clearEvents(),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=t.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}},e.load=function(e){var r=this;if(!this.isLoading)if(this.isComplete)e&&setTimeout((function(){return e(r)}),1);else switch(e&&this.onComplete.once(e),this._setFlag(t.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),!1!==this.crossOrigin&&"string"==typeof this.crossOrigin||(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case t.LOAD_TYPE.IMAGE:this.type=t.TYPE.IMAGE,this._loadElement("image");break;case t.LOAD_TYPE.AUDIO:this.type=t.TYPE.AUDIO,this._loadSourceElement("audio");break;case t.LOAD_TYPE.VIDEO:this.type=t.TYPE.VIDEO,this._loadSourceElement("video");break;case t.LOAD_TYPE.XHR:default:On&&this.crossOrigin?this._loadXdr():this._loadXhr()}},e._hasFlag=function(t){return 0!=(this._flags&t)},e._setFlag=function(t,e){this._flags=e?this._flags|t:this._flags&~t},e._clearEvents=function(){clearTimeout(this._elementTimer),this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("timeout",this._boundXhrOnTimeout,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))},e._finish=function(){if(this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(t.STATUS_FLAGS.COMPLETE,!0),this._setFlag(t.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},e._loadElement=function(t){this.metadata.loadElement?this.data=this.metadata.loadElement:"image"===t&&void 0!==window.Image?this.data=new Image:this.data=document.createElement(t),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},e._loadSourceElement=function(t){if(this.metadata.loadElement?this.data=this.metadata.loadElement:"audio"===t&&void 0!==window.Audio?this.data=new Audio:this.data=document.createElement(t),null!==this.data){if(this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var e=this.metadata.mimeType,r=0;r<this.url.length;++r)this.data.appendChild(this._createSource(t,this.url[r],Array.isArray(e)?e[r]:e));else{var i=this.metadata.mimeType;this.data.appendChild(this._createSource(t,this.url,Array.isArray(i)?i[0]:i))}this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load(),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))}else this.abort("Unsupported element: "+t)},e._loadXhr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var e=this.xhr=new XMLHttpRequest;e.open("GET",this.url,!0),e.timeout=this.timeout,this.xhrType===t.XHR_RESPONSE_TYPE.JSON||this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT?e.responseType=t.XHR_RESPONSE_TYPE.TEXT:e.responseType=this.xhrType,e.addEventListener("error",this._boundXhrOnError,!1),e.addEventListener("timeout",this._boundXhrOnTimeout,!1),e.addEventListener("abort",this._boundXhrOnAbort,!1),e.addEventListener("progress",this._boundOnProgress,!1),e.addEventListener("load",this._boundXhrOnLoad,!1),e.send()},e._loadXdr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new XDomainRequest;t.timeout=this.timeout||5e3,t.onerror=this._boundXhrOnError,t.ontimeout=this._boundXhrOnTimeout,t.onprogress=this._boundOnProgress,t.onload=this._boundXhrOnLoad,t.open("GET",this.url,!0),setTimeout((function(){return t.send()}),1)},e._createSource=function(t,e,r){r||(r=t+"/"+this._getExtension(e));var i=document.createElement("source");return i.src=e,i.type=r,i},e._onError=function(t){this.abort("Failed to load element using: "+t.target.nodeName)},e._onProgress=function(t){t&&t.lengthComputable&&this.onProgress.dispatch(this,t.loaded/t.total)},e._onTimeout=function(){this.abort("Load timed out.")},e._xhrOnError=function(){var t=this.xhr;this.abort(Ln(t)+" Request failed. Status: "+t.status+', text: "'+t.statusText+'"')},e._xhrOnTimeout=function(){var t=this.xhr;this.abort(Ln(t)+" Request timed out.")},e._xhrOnAbort=function(){var t=this.xhr;this.abort(Ln(t)+" Request was aborted by the user.")},e._xhrOnLoad=function(){var e=this.xhr,r="",i=void 0===e.status?200:e.status;if(""!==e.responseType&&"text"!==e.responseType&&void 0!==e.responseType||(r=e.responseText),0===i&&(r.length>0||e.responseType===t.XHR_RESPONSE_TYPE.BUFFER)?i=200:1223===i&&(i=204),2===(i/100|0)){if(this.xhrType===t.XHR_RESPONSE_TYPE.TEXT)this.data=r,this.type=t.TYPE.TEXT;else if(this.xhrType===t.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(r),this.type=t.TYPE.JSON}catch(t){return void this.abort("Error trying to parse loaded json: "+t)}else if(this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT)try{if(window.DOMParser){var n=new DOMParser;this.data=n.parseFromString(r,"text/xml")}else{var o=document.createElement("div");o.innerHTML=r,this.data=o}this.type=t.TYPE.XML}catch(t){return void this.abort("Error trying to parse loaded xml: "+t)}else this.data=e.response||r;this.complete()}else this.abort("["+e.status+"] "+e.statusText+": "+e.responseURL)},e._determineCrossOrigin=function(t,e){if(0===t.indexOf("data:"))return"";if(window.origin!==window.location.origin)return"anonymous";e=e||window.location,Cn||(Cn=document.createElement("a")),Cn.href=t;var r=!(t=_n()(Cn.href,{strictMode:!0})).port&&""===e.port||t.port===e.port,i=t.protocol?t.protocol+":":"";return t.host===e.hostname&&r&&i===e.protocol?"":"anonymous"},e._determineXhrType=function(){return t._xhrTypeMap[this.extension]||t.XHR_RESPONSE_TYPE.TEXT},e._determineLoadType=function(){return t._loadTypeMap[this.extension]||t.LOAD_TYPE.XHR},e._getExtension=function(){var t=this.url,e="";if(this.isDataUrl){var r=t.indexOf("/");e=t.substring(r+1,t.indexOf(";",r))}else{var i=t.indexOf("?"),n=t.indexOf("#"),o=Math.min(i>-1?i:t.length,n>-1?n:t.length);e=(t=t.substring(0,o)).substring(t.lastIndexOf(".")+1)}return e.toLowerCase()},e._getMimeFromXhrType=function(e){switch(e){case t.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case t.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case t.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case t.XHR_RESPONSE_TYPE.JSON:return"application/json";case t.XHR_RESPONSE_TYPE.DEFAULT:case t.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},An(t,[{key:"isDataUrl",get:function(){return this._hasFlag(t.STATUS_FLAGS.DATA_URL)}},{key:"isComplete",get:function(){return this._hasFlag(t.STATUS_FLAGS.COMPLETE)}},{key:"isLoading",get:function(){return this._hasFlag(t.STATUS_FLAGS.LOADING)}}]),t}();function Rn(t,e,r){e&&0===e.indexOf(".")&&(e=e.substring(1)),e&&(t[e]=r)}function Ln(t){return t.toString().replace("object ","")}Dn.STATUS_FLAGS={NONE:0,DATA_URL:1,COMPLETE:2,LOADING:4},Dn.TYPE={UNKNOWN:0,JSON:1,XML:2,IMAGE:3,AUDIO:4,VIDEO:5,TEXT:6},Dn.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4},Dn.XHR_RESPONSE_TYPE={DEFAULT:"text",BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"},Dn._loadTypeMap={gif:Dn.LOAD_TYPE.IMAGE,png:Dn.LOAD_TYPE.IMAGE,bmp:Dn.LOAD_TYPE.IMAGE,jpg:Dn.LOAD_TYPE.IMAGE,jpeg:Dn.LOAD_TYPE.IMAGE,tif:Dn.LOAD_TYPE.IMAGE,tiff:Dn.LOAD_TYPE.IMAGE,webp:Dn.LOAD_TYPE.IMAGE,tga:Dn.LOAD_TYPE.IMAGE,svg:Dn.LOAD_TYPE.IMAGE,"svg+xml":Dn.LOAD_TYPE.IMAGE,mp3:Dn.LOAD_TYPE.AUDIO,ogg:Dn.LOAD_TYPE.AUDIO,wav:Dn.LOAD_TYPE.AUDIO,mp4:Dn.LOAD_TYPE.VIDEO,webm:Dn.LOAD_TYPE.VIDEO},Dn._xhrTypeMap={xhtml:Dn.XHR_RESPONSE_TYPE.DOCUMENT,html:Dn.XHR_RESPONSE_TYPE.DOCUMENT,htm:Dn.XHR_RESPONSE_TYPE.DOCUMENT,xml:Dn.XHR_RESPONSE_TYPE.DOCUMENT,tmx:Dn.XHR_RESPONSE_TYPE.DOCUMENT,svg:Dn.XHR_RESPONSE_TYPE.DOCUMENT,tsx:Dn.XHR_RESPONSE_TYPE.DOCUMENT,gif:Dn.XHR_RESPONSE_TYPE.BLOB,png:Dn.XHR_RESPONSE_TYPE.BLOB,bmp:Dn.XHR_RESPONSE_TYPE.BLOB,jpg:Dn.XHR_RESPONSE_TYPE.BLOB,jpeg:Dn.XHR_RESPONSE_TYPE.BLOB,tif:Dn.XHR_RESPONSE_TYPE.BLOB,tiff:Dn.XHR_RESPONSE_TYPE.BLOB,webp:Dn.XHR_RESPONSE_TYPE.BLOB,tga:Dn.XHR_RESPONSE_TYPE.BLOB,json:Dn.XHR_RESPONSE_TYPE.JSON,text:Dn.XHR_RESPONSE_TYPE.TEXT,txt:Dn.XHR_RESPONSE_TYPE.TEXT,ttf:Dn.XHR_RESPONSE_TYPE.BUFFER,otf:Dn.XHR_RESPONSE_TYPE.BUFFER},Dn.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==";var Fn=window.URL||window.webkitURL;var Nn={caching:function(t,e){var r=this;Sn[t.url]?(t.data=Sn[t.url],t.complete()):t.onComplete.once((function(){return Sn[r.url]=r.data})),e()},parsing:function(t,e){if(t.data){if(t.xhr&&t.xhrType===Dn.XHR_RESPONSE_TYPE.BLOB)if(window.Blob&&"string"!=typeof t.data){if(0===t.data.type.indexOf("image")){var r=Fn.createObjectURL(t.data);return t.blob=t.data,t.data=new Image,t.data.src=r,t.type=Dn.TYPE.IMAGE,void(t.data.onload=function(){Fn.revokeObjectURL(r),t.data.onload=null,e()})}}else{var i=t.xhr.getResponseHeader("content-type");if(i&&0===i.indexOf("image"))return t.data=new Image,t.data.src="data:"+i+";base64,"+function(t){for(var e="",r=0;r<t.length;){for(var i=[0,0,0],n=[0,0,0,0],o=0;o<i.length;++o)r<t.length?i[o]=255&t.charCodeAt(r++):i[o]=0;switch(n[0]=i[0]>>2,n[1]=(3&i[0])<<4|i[1]>>4,n[2]=(15&i[1])<<2|i[2]>>6,n[3]=63&i[2],r-(t.length-1)){case 2:n[3]=64,n[2]=64;break;case 1:n[3]=64}for(var s=0;s<n.length;++s)e+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(n[s])}return e}(t.xhr.responseText),t.type=Dn.TYPE.IMAGE,void(t.data.onload=function(){t.data.onload=null,e()})}e()}else e()}},Bn=/(#[\w-]+)?$/,Un=function(){function t(e,r){var i=this;void 0===e&&(e=""),void 0===r&&(r=10),this.baseUrl=e,this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(t,e){return i._loadResource(t,e)},this._queue=In(this._boundLoadResource,r),this._queue.pause(),this.resources={},this.onProgress=new bn.a,this.onError=new bn.a,this.onLoad=new bn.a,this.onStart=new bn.a,this.onComplete=new bn.a;for(var n=0;n<t._defaultBeforeMiddleware.length;++n)this.pre(t._defaultBeforeMiddleware[n]);for(var o=0;o<t._defaultAfterMiddleware.length;++o)this.use(t._defaultAfterMiddleware[o])}var e=t.prototype;return e.add=function(t,e,r,i){if(Array.isArray(t)){for(var n=0;n<t.length;++n)this.add(t[n]);return this}if("object"==typeof t&&(i=e||t.callback||t.onComplete,r=t,e=t.url,t=t.name||t.key||t.url),"string"!=typeof e&&(i=r,r=e,e=t),"string"!=typeof e)throw new Error("No url passed to add resource to loader.");if("function"==typeof r&&(i=r,r=null),this.loading&&(!r||!r.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[t])throw new Error('Resource named "'+t+'" already exists.');if(e=this._prepareUrl(e),this.resources[t]=new Dn(t,e,r),"function"==typeof i&&this.resources[t].onAfterMiddleware.once(i),this.loading){for(var o=r.parentResource,s=[],a=0;a<o.children.length;++a)o.children[a].isComplete||s.push(o.children[a]);var h=o.progressChunk*(s.length+1)/(s.length+2);o.children.push(this.resources[t]),o.progressChunk=h;for(var u=0;u<s.length;++u)s[u].progressChunk=h;this.resources[t].progressChunk=h}return this._queue.push(this.resources[t]),this},e.pre=function(t){return this._beforeMiddleware.push(t),this},e.use=function(t){return this._afterMiddleware.push(t),this},e.reset=function(){for(var t in this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause(),this.resources){var e=this.resources[t];e._onLoadBinding&&e._onLoadBinding.detach(),e.isLoading&&e.abort()}return this.resources={},this},e.load=function(t){if("function"==typeof t&&this.onComplete.once(t),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var e=100/this._queue._tasks.length,r=0;r<this._queue._tasks.length;++r)this._queue._tasks[r].data.progressChunk=e;this._onStart(),this._queue.resume()}return this},e._prepareUrl=function(t){var e,r=_n()(t,{strictMode:!0});if(e=r.protocol||!r.path||0===t.indexOf("//")?t:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&"/"!==t.charAt(0)?this.baseUrl+"/"+t:this.baseUrl+t,this.defaultQueryString){var i=Bn.exec(e)[0];-1!==(e=e.substr(0,e.length-i.length)).indexOf("?")?e+="&"+this.defaultQueryString:e+="?"+this.defaultQueryString,e+=i}return e},e._loadResource=function(t,e){var r=this;t._dequeue=e,wn(this._beforeMiddleware,(function(e,i){e.call(r,t,(function(){i(t.isComplete?{}:null)}))}),(function(){t.isComplete?r._onLoad(t):(t._onLoadBinding=t.onComplete.once(r._onLoad,r),t.load())}),!0)},e._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},e._onComplete=function(){this.progress=100,this.loading=!1,this.onComplete.dispatch(this,this.resources)},e._onLoad=function(t){var e=this;t._onLoadBinding=null,this._resourcesParsing.push(t),t._dequeue(),wn(this._afterMiddleware,(function(r,i){r.call(e,t,i)}),(function(){t.onAfterMiddleware.dispatch(t),e.progress=Math.min(100,e.progress+t.progressChunk),e.onProgress.dispatch(e,t),t.error?e.onError.dispatch(t.error,e,t):e.onLoad.dispatch(e,t),e._resourcesParsing.splice(e._resourcesParsing.indexOf(t),1),e._queue.idle()&&0===e._resourcesParsing.length&&e._onComplete()}),!0)},An(t,[{key:"concurrency",get:function(){return this._queue.concurrency},set:function(t){this._queue.concurrency=t}}]),t}();Un._defaultBeforeMiddleware=[],Un._defaultAfterMiddleware=[],Un.pre=function(t){return Un._defaultBeforeMiddleware.push(t),Un},Un.use=function(t){return Un._defaultAfterMiddleware.push(t),Un};
/*!
 * @pixi/loaders - v5.2.0
 * Compiled Wed, 06 Nov 2019 02:32:43 UTC
 *
 * @pixi/loaders is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
var kn=function(){};kn.use=function(t,e){t.data&&t.type===Dn.TYPE.IMAGE&&(t.texture=me.fromLoader(t.data,t.url,t.name)),e()};var Xn=function(t){function e(r,i){var n=this;t.call(this,r,i),S.a.call(this);for(var o=0;o<e._plugins.length;++o){var s=e._plugins[o],a=s.pre,h=s.use;a&&this.pre(a),h&&this.use(h)}this.onStart.add((function(t){return n.emit("start",t)})),this.onProgress.add((function(t,e){return n.emit("progress",t,e)})),this.onError.add((function(t,e,r){return n.emit("error",t,e,r)})),this.onLoad.add((function(t,e){return n.emit("load",t,e)})),this.onComplete.add((function(t,e){return n.emit("complete",t,e)})),this._protected=!1}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={shared:{configurable:!0}};return e.prototype.destroy=function(){this._protected||(this.removeAllListeners(),this.reset())},r.shared.get=function(){var t=e._shared;return t||((t=new e)._protected=!0,e._shared=t),t},Object.defineProperties(e,r),e}(Un);Object.assign(Xn.prototype,S.a.prototype),Xn._plugins=[],Xn.registerPlugin=function(t){return Xn._plugins.push(t),t.add&&t.add(),Xn},Xn.registerPlugin({use:Nn.parsing}),Xn.registerPlugin(kn);var jn=function(){};jn.init=function(t){t=Object.assign({sharedLoader:!1},t),this.loader=t.sharedLoader?Xn.shared:new Xn},jn.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)};var Gn=Dn,Hn=function(t){function e(e,r,i,n){void 0===e&&(e=1500),void 0===i&&(i=16384),void 0===n&&(n=!1),t.call(this);i>16384&&(i=16384),this._properties=[!1,!0,!1,!1,!1],this._maxSize=e,this._batchSize=i,this._buffers=null,this._bufferUpdateIDs=[],this._updateID=0,this.interactiveChildren=!1,this.blendMode=d.NORMAL,this.autoResize=n,this.roundPixels=!0,this.baseTexture=null,this.setProperties(r),this._tint=0,this.tintRgb=new Float32Array(4),this.tint=16777215}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={tint:{configurable:!0}};return e.prototype.setProperties=function(t){t&&(this._properties[0]="vertices"in t||"scale"in t?!!t.vertices||!!t.scale:this._properties[0],this._properties[1]="position"in t?!!t.position:this._properties[1],this._properties[2]="rotation"in t?!!t.rotation:this._properties[2],this._properties[3]="uvs"in t?!!t.uvs:this._properties[3],this._properties[4]="tint"in t||"alpha"in t?!!t.tint||!!t.alpha:this._properties[4])},e.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},r.tint.get=function(){return this._tint},r.tint.set=function(t){this._tint=t,N(t,this.tintRgb)},e.prototype.render=function(t){var e=this;this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable&&(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",(function(){return e.onChildrenChange(0)}))),t.batch.setObjectRenderer(t.plugins.particle),t.plugins.particle.render(this))},e.prototype.onChildrenChange=function(t){for(var e=Math.floor(t/this._batchSize);this._bufferUpdateIDs.length<e;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[e]=++this._updateID},e.prototype.dispose=function(){if(this._buffers){for(var t=0;t<this._buffers.length;++t)this._buffers[t].destroy();this._buffers=null}},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null},Object.defineProperties(e.prototype,r),e}(Ut),zn=function(t,e,r){this.geometry=new Pe,this.indexBuffer=null,this.size=r,this.dynamicProperties=[],this.staticProperties=[];for(var i=0;i<t.length;++i){var n=t[i];n={attributeName:n.attributeName,size:n.size,uploadFunction:n.uploadFunction,type:n.type||v.FLOAT,offset:n.offset},e[i]?this.dynamicProperties.push(n):this.staticProperties.push(n)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()};
/*!
 * @pixi/particles - v5.2.0
 * Compiled Wed, 06 Nov 2019 02:32:43 UTC
 *
 * @pixi/particles is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */zn.prototype.initBuffers=function(){var t=this.geometry,e=0;this.indexBuffer=new be(V(this.size),!0,!0),t.addIndex(this.indexBuffer),this.dynamicStride=0;for(var r=0;r<this.dynamicProperties.length;++r){var i=this.dynamicProperties[r];i.offset=e,e+=i.size,this.dynamicStride+=i.size}var n=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(n),this.dynamicDataUint32=new Uint32Array(n),this.dynamicBuffer=new be(this.dynamicData,!1,!1);var o=0;this.staticStride=0;for(var s=0;s<this.staticProperties.length;++s){var a=this.staticProperties[s];a.offset=o,o+=a.size,this.staticStride+=a.size}var h=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(h),this.staticDataUint32=new Uint32Array(h),this.staticBuffer=new be(this.staticData,!0,!1);for(var u=0;u<this.dynamicProperties.length;++u){var l=this.dynamicProperties[u];t.addAttribute(l.attributeName,this.dynamicBuffer,0,l.type===v.UNSIGNED_BYTE,l.type,4*this.dynamicStride,4*l.offset)}for(var c=0;c<this.staticProperties.length;++c){var d=this.staticProperties[c];t.addAttribute(d.attributeName,this.staticBuffer,0,d.type===v.UNSIGNED_BYTE,d.type,4*this.staticStride,4*d.offset)}},zn.prototype.uploadDynamic=function(t,e,r){for(var i=0;i<this.dynamicProperties.length;i++){var n=this.dynamicProperties[i];n.uploadFunction(t,e,r,n.type===v.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,n.offset)}this.dynamicBuffer._updateID++},zn.prototype.uploadStatic=function(t,e,r){for(var i=0;i<this.staticProperties.length;i++){var n=this.staticProperties[i];n.uploadFunction(t,e,r,n.type===v.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,n.offset)}this.staticBuffer._updateID++},zn.prototype.destroy=function(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()};var Vn=function(t){function e(e){t.call(this,e),this.shader=null,this.properties=null,this.tempMatrix=new xt,this.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:this.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:this.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:this.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:this.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:v.UNSIGNED_BYTE,uploadFunction:this.uploadTint,offset:0}],this.shader=pr.from("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nattribute vec2 aPositionCoord;\nattribute float aRotation;\n\nuniform mat3 translationMatrix;\nuniform vec4 uColor;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void){\n    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);\n    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);\n\n    vec2 v = vec2(x, y);\n    v = v + aPositionCoord;\n\n    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vColor = aColor * uColor;\n}\n","varying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;\n    gl_FragColor = color;\n}",{})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.render=function(t){var e=t.children,r=t._maxSize,i=t._batchSize,n=this.renderer,o=e.length;if(0!==o){o>r&&!t.autoResize&&(o=r);var s=t._buffers;s||(s=t._buffers=this.generateBuffers(t));var a=e[0]._texture.baseTexture;this.renderer.state.setBlendMode(j(t.blendMode,a.alphaMode));var h=n.gl,u=t.worldTransform.copyTo(this.tempMatrix);u.prepend(n.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=u.toArray(!0),this.shader.uniforms.uColor=G(t.tintRgb,t.worldAlpha,this.shader.uniforms.uColor,a.alphaMode),this.shader.uniforms.uSampler=a,this.renderer.shader.bind(this.shader);for(var l=!1,c=0,d=0;c<o;c+=i,d+=1){var p=o-c;p>i&&(p=i),d>=s.length&&s.push(this._generateOneMoreBuffer(t));var f=s[d];f.uploadDynamic(e,c,p);var m=t._bufferUpdateIDs[d]||0;(l=l||f._updateID<m)&&(f._updateID=t._updateID,f.uploadStatic(e,c,p)),n.geometry.bind(f.geometry),h.drawElements(h.TRIANGLES,6*p,h.UNSIGNED_SHORT,0)}}},e.prototype.generateBuffers=function(t){for(var e=[],r=t._maxSize,i=t._batchSize,n=t._properties,o=0;o<r;o+=i)e.push(new zn(this.properties,n,i));return e},e.prototype._generateOneMoreBuffer=function(t){var e=t._batchSize,r=t._properties;return new zn(this.properties,r,e)},e.prototype.uploadVertices=function(t,e,r,i,n,o){for(var s=0,a=0,h=0,u=0,l=0;l<r;++l){var c=t[e+l],d=c._texture,p=c.scale.x,f=c.scale.y,m=d.trim,v=d.orig;m?(s=(a=m.x-c.anchor.x*v.width)+m.width,h=(u=m.y-c.anchor.y*v.height)+m.height):(s=v.width*(1-c.anchor.x),a=v.width*-c.anchor.x,h=v.height*(1-c.anchor.y),u=v.height*-c.anchor.y),i[o]=a*p,i[o+1]=u*f,i[o+n]=s*p,i[o+n+1]=u*f,i[o+2*n]=s*p,i[o+2*n+1]=h*f,i[o+3*n]=a*p,i[o+3*n+1]=h*f,o+=4*n}},e.prototype.uploadPosition=function(t,e,r,i,n,o){for(var s=0;s<r;s++){var a=t[e+s].position;i[o]=a.x,i[o+1]=a.y,i[o+n]=a.x,i[o+n+1]=a.y,i[o+2*n]=a.x,i[o+2*n+1]=a.y,i[o+3*n]=a.x,i[o+3*n+1]=a.y,o+=4*n}},e.prototype.uploadRotation=function(t,e,r,i,n,o){for(var s=0;s<r;s++){var a=t[e+s].rotation;i[o]=a,i[o+n]=a,i[o+2*n]=a,i[o+3*n]=a,o+=4*n}},e.prototype.uploadUvs=function(t,e,r,i,n,o){for(var s=0;s<r;++s){var a=t[e+s]._texture._uvs;a?(i[o]=a.x0,i[o+1]=a.y0,i[o+n]=a.x1,i[o+n+1]=a.y1,i[o+2*n]=a.x2,i[o+2*n+1]=a.y2,i[o+3*n]=a.x3,i[o+3*n+1]=a.y3,o+=4*n):(i[o]=0,i[o+1]=0,i[o+n]=0,i[o+n+1]=0,i[o+2*n]=0,i[o+2*n+1]=0,i[o+3*n]=0,i[o+3*n+1]=0,o+=4*n)}},e.prototype.uploadTint=function(t,e,r,i,n,o){for(var s=0;s<r;++s){var a=t[e+s],h=a._texture.baseTexture.alphaMode>0,u=a.alpha,l=u<1&&h?H(a._tintRGB,u):a._tintRGB+(255*u<<24);i[o]=l,i[o+n]=l,i[o+2*n]=l,i[o+3*n]=l,o+=4*n}},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null},e}(Le),Yn=function(t,e,r){void 0===r&&(r=null),this.baseTexture=t,this.textures={},this.animations={},this.data=e,this.resolution=this._updateResolution(r||(this.baseTexture.resource?this.baseTexture.resource.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null},Wn={BATCH_SIZE:{configurable:!0}};Wn.BATCH_SIZE.get=function(){return 1e3},Yn.prototype._updateResolution=function(t){var e=this.data.meta.scale,r=ct(t,null);return null===r&&(r=void 0!==e?parseFloat(e):1),1!==r&&this.baseTexture.setResolution(r),r},Yn.prototype.parse=function(t){this._batchIndex=0,this._callback=t,this._frameKeys.length<=Yn.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()},Yn.prototype._processFrames=function(t){for(var e=t,r=Yn.BATCH_SIZE;e-t<r&&e<this._frameKeys.length;){var i=this._frameKeys[e],n=this._frames[i],o=n.frame;if(o){var s=null,a=null,h=!1!==n.trimmed&&n.sourceSize?n.sourceSize:n.frame,u=new Ct(0,0,Math.floor(h.w)/this.resolution,Math.floor(h.h)/this.resolution);s=n.rotated?new Ct(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.h)/this.resolution,Math.floor(o.w)/this.resolution):new Ct(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution),!1!==n.trimmed&&n.spriteSourceSize&&(a=new Ct(Math.floor(n.spriteSourceSize.x)/this.resolution,Math.floor(n.spriteSourceSize.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution)),this.textures[i]=new me(this.baseTexture,s,u,a,n.rotated?2:0,n.anchor),me.addToCache(this.textures[i],i)}e++}},Yn.prototype._processAnimations=function(){var t=this.data.animations||{};for(var e in t){this.animations[e]=[];for(var r=0;r<t[e].length;r++){var i=t[e][r];this.animations[e].push(this.textures[i])}}},Yn.prototype._parseComplete=function(){var t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)},Yn.prototype._nextBatch=function(){var t=this;this._processFrames(this._batchIndex*Yn.BATCH_SIZE),this._batchIndex++,setTimeout((function(){t._batchIndex*Yn.BATCH_SIZE<t._frameKeys.length?t._nextBatch():(t._processAnimations(),t._parseComplete())}),0)},Yn.prototype.destroy=function(t){for(var e in void 0===t&&(t=!1),this.textures)this.textures[e].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&this.baseTexture.destroy(),this.baseTexture=null},Object.defineProperties(Yn,Wn);var qn=function(){};qn.use=function(t,e){var r=t.name+"_image";if(t.data&&t.type===Gn.TYPE.JSON&&t.data.frames&&!this.resources[r]){var i={crossOrigin:t.crossOrigin,metadata:t.metadata.imageMetadata,parentResource:t},n=qn.getResourcePath(t,this.baseUrl);this.add(r,n,i,(function(r){if(r.error)e(r.error);else{var i=new Yn(r.texture.baseTexture,t.data,t.url);i.parse((function(){t.spritesheet=i,t.textures=i.textures,e()}))}}))}else e()},qn.getResourcePath=function(t,e){return t.isDataUrl?t.data.meta.image:C.a.resolve(t.url.replace(e,""),t.data.meta.image)};
/*!
 * @pixi/sprite-tiling - v5.2.0
 * Compiled Wed, 06 Nov 2019 02:32:43 UTC
 *
 * @pixi/sprite-tiling is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
var Zn=new mt,Kn=function(t){function e(e,r,i){void 0===r&&(r=100),void 0===i&&(i=100),t.call(this,e),this.tileTransform=new Ot,this._width=r,this._height=i,this._canvasPattern=null,this.uvMatrix=e.uvMatrix||new _r(e),this.pluginName="tilingSprite",this.uvRespectAnchor=!1}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={clampMargin:{configurable:!0},tileScale:{configurable:!0},tilePosition:{configurable:!0},width:{configurable:!0},height:{configurable:!0}};return r.clampMargin.get=function(){return this.uvMatrix.clampMargin},r.clampMargin.set=function(t){this.uvMatrix.clampMargin=t,this.uvMatrix.update(!0)},r.tileScale.get=function(){return this.tileTransform.scale},r.tileScale.set=function(t){this.tileTransform.scale.copyFrom(t)},r.tilePosition.get=function(){return this.tileTransform.position},r.tilePosition.set=function(t){this.tileTransform.position.copyFrom(t)},e.prototype._onTextureUpdate=function(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215},e.prototype._render=function(t){var e=this._texture;e&&e.valid&&(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),t.batch.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this))},e.prototype._calculateBounds=function(){var t=this._width*-this._anchor._x,e=this._height*-this._anchor._y,r=this._width*(1-this._anchor._x),i=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,t,e,r,i)},e.prototype.getLocalBounds=function(e){return 0===this.children.length?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new Ct),e=this._localBoundsRect),this._bounds.getRectangle(e)):t.prototype.getLocalBounds.call(this,e)},e.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,Zn);var e=this._width,r=this._height,i=-e*this.anchor._x;if(Zn.x>=i&&Zn.x<i+e){var n=-r*this.anchor._y;if(Zn.y>=n&&Zn.y<n+r)return!0}return!1},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this.tileTransform=null,this.uvMatrix=null},e.from=function(t,r,i){return new e(me.from(t),r,i)},e.fromFrame=function(t,r,i){var n=tt[t];if(!n)throw new Error('The frameId "'+t+'" does not exist in the texture cache '+this);return new e(n,r,i)},e.fromImage=function(t,r,i,n){return n&&"object"!=typeof n&&(n={scaleMode:arguments[4],resourceOptions:{crossorigin:arguments[3]}}),new e(me.from(t,n),r,i)},r.width.get=function(){return this._width},r.width.set=function(t){this._width=t},r.height.get=function(){return this._height},r.height.set=function(t){this._height=t},Object.defineProperties(e.prototype,r),e}(ji),Jn="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n",Qn=new xt,$n=function(t){function e(e){t.call(this,e);var r={globals:this.renderer.globalUniforms};this.shader=pr.from(Jn,"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord - floor(vTextureCoord - uClampOffset);\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 texSample = texture2D(uSampler, coord);\n    gl_FragColor = texSample * uColor;\n}\n",r),this.simpleShader=pr.from(Jn,"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 sample = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = sample * uColor;\n}\n",r),this.quad=new Oe}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.render=function(t){var e=this.renderer,r=this.quad,i=r.vertices;i[0]=i[6]=t._width*-t.anchor.x,i[1]=i[3]=t._height*-t.anchor.y,i[2]=i[4]=t._width*(1-t.anchor.x),i[5]=i[7]=t._height*(1-t.anchor.y),t.uvRespectAnchor&&((i=r.uvs)[0]=i[6]=-t.anchor.x,i[1]=i[3]=-t.anchor.y,i[2]=i[4]=1-t.anchor.x,i[5]=i[7]=1-t.anchor.y),r.invalidate();var n=t._texture,o=n.baseTexture,s=t.tileTransform.localTransform,a=t.uvMatrix,h=o.isPowerOfTwo&&n.frame.width===o.width&&n.frame.height===o.height;h&&(o._glTextures[e.CONTEXT_UID]?h=o.wrapMode!==y.CLAMP:o.wrapMode===y.CLAMP&&(o.wrapMode=y.REPEAT));var u=h?this.simpleShader:this.shader,l=n.width,c=n.height,d=t._width,p=t._height;Qn.set(s.a*l/d,s.b*l/p,s.c*c/d,s.d*c/p,s.tx/d,s.ty/p),Qn.invert(),h?Qn.prepend(a.mapCoord):(u.uniforms.uMapCoord=a.mapCoord.toArray(!0),u.uniforms.uClampFrame=a.uClampFrame,u.uniforms.uClampOffset=a.uClampOffset),u.uniforms.uTransform=Qn.toArray(!0),u.uniforms.uColor=z(t.tint,t.worldAlpha,u.uniforms.uColor,o.alphaMode),u.uniforms.translationMatrix=t.transform.worldTransform.toArray(!0),u.uniforms.uSampler=n,e.shader.bind(u),e.geometry.bind(r),e.state.setBlendMode(j(t.blendMode,o.alphaMode)),e.geometry.draw(this.renderer.gl.TRIANGLES,6,0)},e}(Le),to=function(t){function e(e,r){var i=this;void 0===r&&(r={}),t.call(this),this._textWidth=0,this._textHeight=0,this._glyphs=[],this._font={tint:void 0!==r.tint?r.tint:16777215,align:r.align||"left",name:null,size:0},this.font=r.font,this._text=e,this._maxWidth=0,this._maxLineHeight=0,this._letterSpacing=0,this._anchor=new vt((function(){i.dirty=!0}),this,0,0),this.dirty=!1,this.roundPixels=E.ROUND_PIXELS,this.updateText()}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={tint:{configurable:!0},align:{configurable:!0},anchor:{configurable:!0},font:{configurable:!0},text:{configurable:!0},maxWidth:{configurable:!0},maxLineHeight:{configurable:!0},textWidth:{configurable:!0},letterSpacing:{configurable:!0},textHeight:{configurable:!0}};return e.prototype.updateText=function(){for(var t=e.fonts[this._font.name],r=this._font.size/t.size,i=new mt,n=[],o=[],s=this._text.replace(/(?:\r\n|\r)/g,"\n")||" ",a=s.length,h=this._maxWidth*t.size/this._font.size,u=null,l=0,c=0,d=0,p=-1,f=0,m=0,v=0,g=0;g<a;g++){var y=s.charCodeAt(g),_=s.charAt(g);if(/(?:\s)/.test(_)&&(p=g,f=l),"\r"!==_&&"\n"!==_){var x=t.chars[y];x&&(u&&x.kerning[u]&&(i.x+=x.kerning[u]),n.push({texture:x.texture,line:d,charCode:y,position:new mt(i.x+x.xOffset+this._letterSpacing/2,i.y+x.yOffset)}),i.x+=x.xAdvance+this._letterSpacing,l=i.x,v=Math.max(v,x.yOffset+x.texture.height),u=y,-1!==p&&h>0&&i.x>h&&(Y(n,1+p-++m,1+g-p),g=p,p=-1,o.push(f),c=Math.max(c,f),d++,i.x=0,i.y+=t.lineHeight,u=null))}else o.push(l),c=Math.max(c,l),++d,++m,i.x=0,i.y+=t.lineHeight,u=null}var b=s.charAt(s.length-1);"\r"!==b&&"\n"!==b&&(/(?:\s)/.test(b)&&(l=f),o.push(l),c=Math.max(c,l));for(var T=[],w=0;w<=d;w++){var E=0;"right"===this._font.align?E=c-o[w]:"center"===this._font.align&&(E=(c-o[w])/2),T.push(E)}for(var I=n.length,S=this.tint,P=0;P<I;P++){var A=this._glyphs[P];A?A.texture=n[P].texture:((A=new ji(n[P].texture)).roundPixels=this.roundPixels,this._glyphs.push(A)),A.position.x=(n[P].position.x+T[n[P].line])*r,A.position.y=n[P].position.y*r,A.scale.x=A.scale.y=r,A.tint=S,A.parent||this.addChild(A)}for(var O=I;O<this._glyphs.length;++O)this.removeChild(this._glyphs[O]);if(this._textWidth=c*r,this._textHeight=(i.y+t.lineHeight)*r,0!==this.anchor.x||0!==this.anchor.y)for(var C=0;C<I;C++)this._glyphs[C].x-=this._textWidth*this.anchor.x,this._glyphs[C].y-=this._textHeight*this.anchor.y;this._maxLineHeight=v*r},e.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},e.prototype.getLocalBounds=function(){return this.validate(),t.prototype.getLocalBounds.call(this)},e.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},r.tint.get=function(){return this._font.tint},r.tint.set=function(t){this._font.tint="number"==typeof t&&t>=0?t:16777215,this.dirty=!0},r.align.get=function(){return this._font.align},r.align.set=function(t){this._font.align=t||"left",this.dirty=!0},r.anchor.get=function(){return this._anchor},r.anchor.set=function(t){"number"==typeof t?this._anchor.set(t):this._anchor.copyFrom(t)},r.font.get=function(){return this._font},r.font.set=function(t){t&&("string"==typeof t?(t=t.split(" "),this._font.name=1===t.length?t[0]:t.slice(1).join(" "),this._font.size=t.length>=2?parseInt(t[0],10):e.fonts[this._font.name].size):(this._font.name=t.name,this._font.size="number"==typeof t.size?t.size:parseInt(t.size,10)),this.dirty=!0)},r.text.get=function(){return this._text},r.text.set=function(t){t=String(null==t?"":t),this._text!==t&&(this._text=t,this.dirty=!0)},r.maxWidth.get=function(){return this._maxWidth},r.maxWidth.set=function(t){this._maxWidth!==t&&(this._maxWidth=t,this.dirty=!0)},r.maxLineHeight.get=function(){return this.validate(),this._maxLineHeight},r.textWidth.get=function(){return this.validate(),this._textWidth},r.letterSpacing.get=function(){return this._letterSpacing},r.letterSpacing.set=function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.dirty=!0)},r.textHeight.get=function(){return this.validate(),this._textHeight},e.registerFont=function(t,r){var i={},n=t.getElementsByTagName("info")[0],o=t.getElementsByTagName("common")[0],s=t.getElementsByTagName("page"),a=ct(s[0].getAttribute("file"),E.RESOLUTION),h={};i.font=n.getAttribute("face"),i.size=parseInt(n.getAttribute("size"),10),i.lineHeight=parseInt(o.getAttribute("lineHeight"),10)/a,i.chars={},r instanceof me&&(r=[r]);for(var u=0;u<s.length;u++){var l=s[u].getAttribute("id"),c=s[u].getAttribute("file");h[l]=r instanceof Array?r[u]:r[c]}for(var d=t.getElementsByTagName("char"),p=0;p<d.length;p++){var f=d[p],m=parseInt(f.getAttribute("id"),10),v=f.getAttribute("page")||0,g=new Ct(parseInt(f.getAttribute("x"),10)/a+h[v].frame.x/a,parseInt(f.getAttribute("y"),10)/a+h[v].frame.y/a,parseInt(f.getAttribute("width"),10)/a,parseInt(f.getAttribute("height"),10)/a);i.chars[m]={xOffset:parseInt(f.getAttribute("xoffset"),10)/a,yOffset:parseInt(f.getAttribute("yoffset"),10)/a,xAdvance:parseInt(f.getAttribute("xadvance"),10)/a,kerning:{},texture:new me(h[v].baseTexture,g),page:v}}for(var y=t.getElementsByTagName("kerning"),_=0;_<y.length;_++){var x=y[_],b=parseInt(x.getAttribute("first"),10)/a,T=parseInt(x.getAttribute("second"),10)/a,w=parseInt(x.getAttribute("amount"),10)/a;i.chars[T]&&(i.chars[T].kerning[b]=w)}return e.fonts[i.font]=i,i},Object.defineProperties(e.prototype,r),e}(Ut);to.fonts={};var eo=function(){};eo.parse=function(t,e){t.bitmapFont=to.registerFont(t.data,e)},eo.add=function(){Gn.setExtensionXhrType("fnt",Gn.XHR_RESPONSE_TYPE.DOCUMENT)},eo.dirname=function(t){var e=t.replace(/\/$/,"").replace(/\/[^\/]*$/,"");return e===t?".":""===e?"/":e},eo.use=function(t,e){if(t.data&&t.type===Gn.TYPE.XML)if(0!==t.data.getElementsByTagName("page").length&&0!==t.data.getElementsByTagName("info").length&&null!==t.data.getElementsByTagName("info")[0].getAttribute("face")){var r=t.isDataUrl?"":eo.dirname(t.url);t.isDataUrl&&("."===r&&(r=""),this.baseUrl&&r&&"/"===this.baseUrl.charAt(this.baseUrl.length-1)&&(r+="/")),(r=r.replace(this.baseUrl,""))&&"/"!==r.charAt(r.length-1)&&(r+="/");for(var i=t.data.getElementsByTagName("page"),n={},o=function(r){n[r.metadata.pageFile]=r.texture,Object.keys(n).length===i.length&&(eo.parse(t,n),e())},s=0;s<i.length;++s){var a=i[s].getAttribute("file"),h=r+a,u=!1;for(var l in this.resources){var c=this.resources[l];if(c.url===h){c.metadata.pageFile=a,c.texture?o(c):c.onAfterMiddleware.add(o),u=!0;break}}if(!u){var d={crossOrigin:t.crossOrigin,loadType:Gn.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:a},t.metadata.imageMetadata),parentResource:t};this.add(h,d,o)}}}else e();else e()};
/*!
 * @pixi/filter-alpha - v5.2.0
 * Compiled Wed, 06 Nov 2019 02:32:43 UTC
 *
 * @pixi/filter-alpha is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
var ro=function(t){function e(e){void 0===e&&(e=1),t.call(this,jr,"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float uAlpha;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\n}\n",{uAlpha:1}),this.alpha=e}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={alpha:{configurable:!0}};return r.alpha.get=function(){return this.uniforms.uAlpha},r.alpha.set=function(t){this.uniforms.uAlpha=t},Object.defineProperties(e.prototype,r),e}(gr);var io={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},no=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join("\n");var oo=function(t){function e(e,r,i,n,o){var s=function(t,e){var r,i=Math.ceil(t/2),n="\n    attribute vec2 aVertexPosition;\n\n    uniform mat3 projectionMatrix;\n\n    uniform float strength;\n\n    varying vec2 vBlurTexCoords[%size%];\n\n    uniform vec4 inputSize;\n    uniform vec4 outputFrame;\n\n    vec4 filterVertexPosition( void )\n    {\n        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n    }\n\n    vec2 filterTextureCoord( void )\n    {\n        return aVertexPosition * (outputFrame.zw * inputSize.zw);\n    }\n\n    void main(void)\n    {\n        gl_Position = filterVertexPosition();\n\n        vec2 textureCoord = filterTextureCoord();\n        %blur%\n    }",o="";r=e?"vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":"vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(var s=0;s<t;s++){var a=r.replace("%index%",s);o+=a=a.replace("%sampleIndex%",s-(i-1)+".0"),o+="\n"}return n=(n=n.replace("%blur%",o)).replace("%size%",t)}(o=o||5,e),a=function(t){for(var e,r=io[t],i=r.length,n=no,o="",s=0;s<t;s++){var a="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;".replace("%index%",s);e=s,s>=i&&(e=t-s-1),o+=a=a.replace("%value%",r[e]),o+="\n"}return n=(n=n.replace("%blur%",o)).replace("%size%",t)}(o);t.call(this,s,a),this.horizontal=e,this.resolution=n||E.RESOLUTION,this._quality=0,this.quality=i||4,this.blur=r||8}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={blur:{configurable:!0},quality:{configurable:!0}};return e.prototype.apply=function(t,e,r,i){if(r?this.horizontal?this.uniforms.strength=1/r.width*(r.width/e.width):this.uniforms.strength=1/r.height*(r.height/e.height):this.horizontal?this.uniforms.strength=1/t.renderer.width*(t.renderer.width/e.width):this.uniforms.strength=1/t.renderer.height*(t.renderer.height/e.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)t.applyFilter(this,e,r,i);else{var n=t.getFilterTexture(),o=t.renderer,s=e,a=n;this.state.blend=!1,t.applyFilter(this,s,a,!1);for(var h=1;h<this.passes-1;h++){o.renderTexture.bind(s,s.filterFrame),this.uniforms.uSampler=a;var u=a;a=s,s=u,o.shader.bind(this),o.geometry.draw(5)}this.state.blend=!0,t.applyFilter(this,a,r,i),t.returnFilterTexture(n)}},r.blur.get=function(){return this.strength},r.blur.set=function(t){this.padding=1+2*Math.abs(t),this.strength=t},r.quality.get=function(){return this._quality},r.quality.set=function(t){this._quality=t,this.passes=t},Object.defineProperties(e.prototype,r),e}(gr),so=function(t){function e(e,r,i,n){t.call(this),this.blurXFilter=new oo(!0,e,r,i,n),this.blurYFilter=new oo(!1,e,r,i,n),this.resolution=i||E.RESOLUTION,this.quality=r||4,this.blur=e||8,this.repeatEdgePixels=!1}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={blur:{configurable:!0},quality:{configurable:!0},blurX:{configurable:!0},blurY:{configurable:!0},blendMode:{configurable:!0},repeatEdgePixels:{configurable:!0}};return e.prototype.apply=function(t,e,r,i){var n=Math.abs(this.blurXFilter.strength),o=Math.abs(this.blurYFilter.strength);if(n&&o){var s=t.getFilterTexture();this.blurXFilter.apply(t,e,s,!0),this.blurYFilter.apply(t,s,r,i),t.returnFilterTexture(s)}else o?this.blurYFilter.apply(t,e,r,i):this.blurXFilter.apply(t,e,r,i)},e.prototype.updatePadding=function(){this._repeatEdgePixels?this.padding=0:this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))},r.blur.get=function(){return this.blurXFilter.blur},r.blur.set=function(t){this.blurXFilter.blur=this.blurYFilter.blur=t,this.updatePadding()},r.quality.get=function(){return this.blurXFilter.quality},r.quality.set=function(t){this.blurXFilter.quality=this.blurYFilter.quality=t},r.blurX.get=function(){return this.blurXFilter.blur},r.blurX.set=function(t){this.blurXFilter.blur=t,this.updatePadding()},r.blurY.get=function(){return this.blurYFilter.blur},r.blurY.set=function(t){this.blurYFilter.blur=t,this.updatePadding()},r.blendMode.get=function(){return this.blurYFilter.blendMode},r.blendMode.set=function(t){this.blurYFilter.blendMode=t},r.repeatEdgePixels.get=function(){return this._repeatEdgePixels},r.repeatEdgePixels.set=function(t){this._repeatEdgePixels=t,this.updatePadding()},Object.defineProperties(e.prototype,r),e}(gr),ao=function(t){function e(){var e={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};t.call(this,Gr,"varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n",e),this.alpha=1}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={matrix:{configurable:!0},alpha:{configurable:!0}};return e.prototype._loadMatrix=function(t,e){void 0===e&&(e=!1);var r=t;e&&(this._multiply(r,this.uniforms.m,t),r=this._colorMatrix(r)),this.uniforms.m=r},e.prototype._multiply=function(t,e,r){return t[0]=e[0]*r[0]+e[1]*r[5]+e[2]*r[10]+e[3]*r[15],t[1]=e[0]*r[1]+e[1]*r[6]+e[2]*r[11]+e[3]*r[16],t[2]=e[0]*r[2]+e[1]*r[7]+e[2]*r[12]+e[3]*r[17],t[3]=e[0]*r[3]+e[1]*r[8]+e[2]*r[13]+e[3]*r[18],t[4]=e[0]*r[4]+e[1]*r[9]+e[2]*r[14]+e[3]*r[19]+e[4],t[5]=e[5]*r[0]+e[6]*r[5]+e[7]*r[10]+e[8]*r[15],t[6]=e[5]*r[1]+e[6]*r[6]+e[7]*r[11]+e[8]*r[16],t[7]=e[5]*r[2]+e[6]*r[7]+e[7]*r[12]+e[8]*r[17],t[8]=e[5]*r[3]+e[6]*r[8]+e[7]*r[13]+e[8]*r[18],t[9]=e[5]*r[4]+e[6]*r[9]+e[7]*r[14]+e[8]*r[19]+e[9],t[10]=e[10]*r[0]+e[11]*r[5]+e[12]*r[10]+e[13]*r[15],t[11]=e[10]*r[1]+e[11]*r[6]+e[12]*r[11]+e[13]*r[16],t[12]=e[10]*r[2]+e[11]*r[7]+e[12]*r[12]+e[13]*r[17],t[13]=e[10]*r[3]+e[11]*r[8]+e[12]*r[13]+e[13]*r[18],t[14]=e[10]*r[4]+e[11]*r[9]+e[12]*r[14]+e[13]*r[19]+e[14],t[15]=e[15]*r[0]+e[16]*r[5]+e[17]*r[10]+e[18]*r[15],t[16]=e[15]*r[1]+e[16]*r[6]+e[17]*r[11]+e[18]*r[16],t[17]=e[15]*r[2]+e[16]*r[7]+e[17]*r[12]+e[18]*r[17],t[18]=e[15]*r[3]+e[16]*r[8]+e[17]*r[13]+e[18]*r[18],t[19]=e[15]*r[4]+e[16]*r[9]+e[17]*r[14]+e[18]*r[19]+e[19],t},e.prototype._colorMatrix=function(t){var e=new Float32Array(t);return e[4]/=255,e[9]/=255,e[14]/=255,e[19]/=255,e},e.prototype.brightness=function(t,e){var r=[t,0,0,0,0,0,t,0,0,0,0,0,t,0,0,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.greyscale=function(t,e){var r=[t,t,t,0,0,t,t,t,0,0,t,t,t,0,0,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.blackAndWhite=function(t){this._loadMatrix([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],t)},e.prototype.hue=function(t,e){t=(t||0)/180*Math.PI;var r=Math.cos(t),i=Math.sin(t),n=1/3,o=(0,Math.sqrt)(n),s=[r+(1-r)*n,n*(1-r)-o*i,n*(1-r)+o*i,0,0,n*(1-r)+o*i,r+n*(1-r),n*(1-r)-o*i,0,0,n*(1-r)-o*i,n*(1-r)+o*i,r+n*(1-r),0,0,0,0,0,1,0];this._loadMatrix(s,e)},e.prototype.contrast=function(t,e){var r=(t||0)+1,i=-.5*(r-1),n=[r,0,0,0,i,0,r,0,0,i,0,0,r,0,i,0,0,0,1,0];this._loadMatrix(n,e)},e.prototype.saturate=function(t,e){void 0===t&&(t=0);var r=2*t/3+1,i=-.5*(r-1),n=[r,i,i,0,0,i,r,i,0,0,i,i,r,0,0,0,0,0,1,0];this._loadMatrix(n,e)},e.prototype.desaturate=function(){this.saturate(-1)},e.prototype.negative=function(t){this._loadMatrix([-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],t)},e.prototype.sepia=function(t){this._loadMatrix([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],t)},e.prototype.technicolor=function(t){this._loadMatrix([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],t)},e.prototype.polaroid=function(t){this._loadMatrix([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],t)},e.prototype.toBGR=function(t){this._loadMatrix([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],t)},e.prototype.kodachrome=function(t){this._loadMatrix([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],t)},e.prototype.browni=function(t){this._loadMatrix([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],t)},e.prototype.vintage=function(t){this._loadMatrix([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],t)},e.prototype.colorTone=function(t,e,r,i,n){var o=((r=r||16770432)>>16&255)/255,s=(r>>8&255)/255,a=(255&r)/255,h=((i=i||3375104)>>16&255)/255,u=(i>>8&255)/255,l=(255&i)/255,c=[.3,.59,.11,0,0,o,s,a,t=t||.2,0,h,u,l,e=e||.15,0,o-h,s-u,a-l,0,0];this._loadMatrix(c,n)},e.prototype.night=function(t,e){var r=[-2*(t=t||.1),-t,0,0,0,-t,0,t,0,0,0,t,2*t,0,0,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.predator=function(t,e){var r=[11.224130630493164*t,-4.794486999511719*t,-2.8746118545532227*t,0*t,.40342438220977783*t,-3.6330697536468506*t,9.193157196044922*t,-2.951810836791992*t,0*t,-1.316135048866272*t,-3.2184197902679443*t,-4.2375030517578125*t,7.476448059082031*t,0*t,.8044459223747253*t,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.lsd=function(t){this._loadMatrix([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],t)},e.prototype.reset=function(){this._loadMatrix([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],!1)},r.matrix.get=function(){return this.uniforms.m},r.matrix.set=function(t){this.uniforms.m=t},r.alpha.get=function(){return this.uniforms.uAlpha},r.alpha.set=function(t){this.uniforms.uAlpha=t},Object.defineProperties(e.prototype,r),e}(gr);ao.prototype.grayscale=ao.prototype.greyscale;
/*!
 * @pixi/filter-displacement - v5.2.0
 * Compiled Wed, 06 Nov 2019 02:32:43 UTC
 *
 * @pixi/filter-displacement is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
var ho=function(t){function e(e,r){var i=new xt;e.renderable=!1,t.call(this,"attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n\tgl_Position = filterVertexPosition();\n\tvTextureCoord = filterTextureCoord();\n\tvFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;\n}\n","varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\nuniform mat2 rotation;\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform highp vec4 inputSize;\nuniform vec4 inputClamp;\n\nvoid main(void)\n{\n  vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n  map -= 0.5;\n  map.xy = scale * inputSize.zw * (rotation * map.xy);\n\n  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));\n}\n",{mapSampler:e._texture,filterMatrix:i,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])}),this.maskSprite=e,this.maskMatrix=i,null==r&&(r=20),this.scale=new mt(r,r)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={map:{configurable:!0}};return e.prototype.apply=function(t,e,r,i){this.uniforms.filterMatrix=t.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;var n=this.maskSprite.transform.worldTransform,o=Math.sqrt(n.a*n.a+n.b*n.b),s=Math.sqrt(n.c*n.c+n.d*n.d);0!==o&&0!==s&&(this.uniforms.rotation[0]=n.a/o,this.uniforms.rotation[1]=n.b/o,this.uniforms.rotation[2]=n.c/s,this.uniforms.rotation[3]=n.d/s),t.applyFilter(this,e,r,i)},r.map.get=function(){return this.uniforms.mapSampler},r.map.set=function(t){this.uniforms.mapSampler=t},Object.defineProperties(e.prototype,r),e}(gr),uo=function(t){function e(){t.call(this,"\nattribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\n\nuniform vec4 inputPixel;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvoid texcoords(vec2 fragCoord, vec2 inverseVP,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = filterVertexPosition();\n\n   vFragCoord = aVertexPosition * outputFrame.zw;\n\n   texcoords(vFragCoord, inputPixel.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}\n",'varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\nuniform sampler2D uSampler;\nuniform highp vec4 inputPixel;\n\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n\n --\n\n From:\n https://github.com/mitsuhiko/webgl-meincraft\n\n Copyright (c) 2011 by Armin Ronacher.\n\n Some rights reserved.\n\n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n\n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n\n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n\n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n\n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n\n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n\n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n\n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n\n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n\n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec4 color;\n\n      color = fxaa(uSampler, vFragCoord, inputPixel.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n')}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(gr),lo=function(t){function e(e,r){void 0===e&&(e=.5),void 0===r&&(r=Math.random()),t.call(this,Gr,"precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n",{uNoise:0,uSeed:0}),this.noise=e,this.seed=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={noise:{configurable:!0},seed:{configurable:!0}};return r.noise.get=function(){return this.uniforms.uNoise},r.noise.set=function(t){this.uniforms.uNoise=t},r.seed.get=function(){return this.uniforms.uSeed},r.seed.set=function(t){this.uniforms.uSeed=t},Object.defineProperties(e.prototype,r),e}(gr),co=new xt;Nt.prototype._cacheAsBitmap=!1,Nt.prototype._cacheData=!1;var po=function(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalHitTest=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.sprite=null};Object.defineProperties(Nt.prototype,{cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(t){var e;this._cacheAsBitmap!==t&&(this._cacheAsBitmap=t,t?(this._cacheData||(this._cacheData=new po),(e=this._cacheData).originalRender=this.render,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):((e=this._cacheData).sprite&&this._destroyCachedDisplayObject(),this.render=e.originalRender,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea))}}}),Nt.prototype._renderCached=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(t),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(t))},Nt.prototype._initCachedDisplayObject=function(t){if(!this._cacheData||!this._cacheData.sprite){var e=this.alpha;this.alpha=1,t.batch.flush();var r=this.getLocalBounds().clone();if(this.filters){var i=this.filters[0].padding;r.pad(i)}r.ceil(E.RESOLUTION);var n=t.renderTexture.current,o=t.renderTexture.sourceFrame,s=t.projection.transform,a=ge.create(r.width,r.height),h="cacheAsBitmap_"+q();this._cacheData.textureCacheId=h,te.addToCache(a.baseTexture,h),me.addToCache(a,h);var u=co;u.tx=-r.x,u.ty=-r.y,this.transform.worldTransform.identity(),this.render=this._cacheData.originalRender,t.render(this,a,!0,u,!0),t.projection.transform=s,t.renderTexture.bind(n,o),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null;var l=new ji(a);l.transform.worldTransform=this.transform.worldTransform,l.anchor.x=-r.x/r.width,l.anchor.y=-r.y/r.height,l.alpha=e,l._bounds=this._bounds,this._cacheData.sprite=l,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=l.containsPoint.bind(l)}},Nt.prototype._renderCachedCanvas=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(t),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(t))},Nt.prototype._initCachedDisplayObjectCanvas=function(t){if(!this._cacheData||!this._cacheData.sprite){var e=this.getLocalBounds(),r=this.alpha;this.alpha=1;var i=t.context;e.ceil(E.RESOLUTION);var n=ge.create(e.width,e.height),o="cacheAsBitmap_"+q();this._cacheData.textureCacheId=o,te.addToCache(n.baseTexture,o),me.addToCache(n,o);var s=co;this.transform.localTransform.copyTo(s),s.invert(),s.tx-=e.x,s.ty-=e.y,this.renderCanvas=this._cacheData.originalRenderCanvas,t.render(this,n,!0,s,!1),t.context=i,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null;var a=new ji(n);a.transform.worldTransform=this.transform.worldTransform,a.anchor.x=-e.x/e.width,a.anchor.y=-e.y/e.height,a.alpha=r,a._bounds=this._bounds,this._cacheData.sprite=a,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=a.containsPoint.bind(a)}},Nt.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._lastBoundsID=this._boundsID},Nt.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds()},Nt.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,te.removeFromCache(this._cacheData.textureCacheId),me.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null},Nt.prototype._cacheAsBitmapDestroy=function(t){this.cacheAsBitmap=!1,this.destroy(t)},
/*!
 * @pixi/mixin-get-child-by-name - v5.2.0
 * Compiled Wed, 06 Nov 2019 02:32:43 UTC
 *
 * @pixi/mixin-get-child-by-name is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
Nt.prototype.name=null,Ut.prototype.getChildByName=function(t){for(var e=0;e<this.children.length;e++)if(this.children[e].name===t)return this.children[e];return null},
/*!
 * @pixi/mixin-get-global-position - v5.2.0
 * Compiled Wed, 06 Nov 2019 02:32:43 UTC
 *
 * @pixi/mixin-get-global-position is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
Nt.prototype.getGlobalPosition=function(t,e){return void 0===t&&(t=new mt),void 0===e&&(e=!1),this.parent?this.parent.toGlobal(this.position,t,e):(t.x=this.position.x,t.y=this.position.y),t};
/*!
 * @pixi/mesh - v5.2.0
 * Compiled Wed, 06 Nov 2019 02:32:43 UTC
 *
 * @pixi/mesh is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
var fo=function(t,e){this.uvBuffer=t,this.uvMatrix=e,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0};fo.prototype.update=function(t){if(t||this._bufferUpdateId!==this.uvBuffer._updateID||this._textureUpdateId!==this.uvMatrix._updateID){this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;var e=this.uvBuffer.data;this.data&&this.data.length===e.length||(this.data=new Float32Array(e.length)),this.uvMatrix.multiplyUvs(e,this.data),this._updateID++}};var mo=new mt,vo=new Rt,go=function(t){function e(e,r,i,n){void 0===n&&(n=p.TRIANGLES),t.call(this),this.geometry=e,e.refCount++,this.shader=r,this.state=i||mr.for2d(),this.drawMode=n,this.start=0,this.size=0,this.uvs=null,this.indices=null,this.vertexData=new Float32Array(1),this.vertexDirty=0,this._transformID=-1,this.tint=16777215,this.blendMode=d.NORMAL,this._roundPixels=E.ROUND_PIXELS,this.batchUvs=null}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={uvBuffer:{configurable:!0},verticesBuffer:{configurable:!0},material:{configurable:!0},blendMode:{configurable:!0},roundPixels:{configurable:!0},tint:{configurable:!0},texture:{configurable:!0}};return r.uvBuffer.get=function(){return this.geometry.buffers[1]},r.verticesBuffer.get=function(){return this.geometry.buffers[0]},r.material.set=function(t){this.shader=t},r.material.get=function(){return this.shader},r.blendMode.set=function(t){this.state.blendMode=t},r.blendMode.get=function(){return this.state.blendMode},r.roundPixels.set=function(t){this._roundPixels!==t&&(this._transformID=-1),this._roundPixels=t},r.roundPixels.get=function(){return this._roundPixels},r.tint.get=function(){return this.shader.tint},r.tint.set=function(t){this.shader.tint=t},r.texture.get=function(){return this.shader.texture},r.texture.set=function(t){this.shader.texture=t},e.prototype._render=function(t){var r=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===p.TRIANGLES&&r.length<2*e.BATCHABLE_SIZE?this._renderToBatch(t):this._renderDefault(t)},e.prototype._renderDefault=function(t){var e=this.shader;e.alpha=this.worldAlpha,e.update&&e.update(),t.batch.flush(),e.program.uniformData.translationMatrix&&(e.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0)),t.shader.bind(e),t.state.set(this.state),t.geometry.bind(this.geometry,e),t.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)},e.prototype._renderToBatch=function(t){var e=this.geometry;this.shader.uvMatrix&&(this.shader.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=e.indexBuffer.data,this._tintRGB=this.shader._tintRGB,this._texture=this.shader.texture;var r=this.material.pluginName;t.batch.setObjectRenderer(t.plugins[r]),t.plugins[r].render(this)},e.prototype.calculateVertices=function(){var t=this.geometry,e=t.buffers[0].data;if(t.vertexDirtyId!==this.vertexDirty||this._transformID!==this.transform._worldID){this._transformID=this.transform._worldID,this.vertexData.length!==e.length&&(this.vertexData=new Float32Array(e.length));for(var r=this.transform.worldTransform,i=r.a,n=r.b,o=r.c,s=r.d,a=r.tx,h=r.ty,u=this.vertexData,l=0;l<u.length/2;l++){var c=e[2*l],d=e[2*l+1];u[2*l]=i*c+o*d+a,u[2*l+1]=n*c+s*d+h}if(this._roundPixels)for(var p=0;p<u.length;p++)u[p]=Math.round(u[p]);this.vertexDirty=t.vertexDirtyId}},e.prototype.calculateUvs=function(){var t=this.geometry.buffers[1];this.shader.uvMatrix.isSimple?this.uvs=t.data:(this.batchUvs||(this.batchUvs=new fo(t,this.shader.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)},e.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)},e.prototype.containsPoint=function(t){if(!this.getBounds().contains(t.x,t.y))return!1;this.worldTransform.applyInverse(t,mo);for(var e=this.geometry.getBuffer("aVertexPosition").data,r=vo.points,i=this.geometry.getIndex().data,n=i.length,o=4===this.drawMode?3:1,s=0;s+2<n;s+=o){var a=2*i[s],h=2*i[s+1],u=2*i[s+2];if(r[0]=e[a],r[1]=e[a+1],r[2]=e[h],r[3]=e[h+1],r[4]=e[u],r[5]=e[u+1],vo.contains(mo.x,mo.y))return!0}return!1},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this.geometry.refCount--,0===this.geometry.refCount&&this.geometry.dispose(),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null},Object.defineProperties(e.prototype,r),e}(Ut);go.BATCHABLE_SIZE=100;var yo=function(t){function e(e,r){var i={uSampler:e,alpha:1,uTextureMatrix:xt.IDENTITY,uColor:new Float32Array([1,1,1,1])};(r=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},r)).uniforms&&Object.assign(i,r.uniforms),t.call(this,r.program||cr.from("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTextureMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\n}\n"),i),this._colorDirty=!1,this.uvMatrix=new _r(e),this.batchable=void 0===r.program,this.pluginName=r.pluginName,this.tint=r.tint,this.alpha=r.alpha}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={texture:{configurable:!0},alpha:{configurable:!0},tint:{configurable:!0}};return r.texture.get=function(){return this.uniforms.uSampler},r.texture.set=function(t){this.uniforms.uSampler!==t&&(this.uniforms.uSampler=t,this.uvMatrix.texture=t)},r.alpha.set=function(t){t!==this._alpha&&(this._alpha=t,this._colorDirty=!0)},r.alpha.get=function(){return this._alpha},r.tint.set=function(t){t!==this._tint&&(this._tint=t,this._tintRGB=(t>>16)+(65280&t)+((255&t)<<16),this._colorDirty=!0)},r.tint.get=function(){return this._tint},e.prototype.update=function(){if(this._colorDirty){this._colorDirty=!1;var t=this.texture.baseTexture;z(this._tint,this._alpha,this.uniforms.uColor,t.alphaMode)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)},Object.defineProperties(e.prototype,r),e}(pr),_o=function(t){function e(e,r,i){t.call(this);var n=new be(e),o=new be(r,!0),s=new be(i,!0,!0);this.addAttribute("aVertexPosition",n,2,!1,v.FLOAT).addAttribute("aTextureCoord",o,2,!1,v.FLOAT).addIndex(s),this._updateId=-1}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={vertexDirtyId:{configurable:!0}};return r.vertexDirtyId.get=function(){return this.buffers[0]._updateID},Object.defineProperties(e.prototype,r),e}(Pe),xo=function(t){function e(e,r,i,n){void 0===e&&(e=100),void 0===r&&(r=100),void 0===i&&(i=10),void 0===n&&(n=10),t.call(this),this.segWidth=i,this.segHeight=n,this.width=e,this.height=r,this.build()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.build=function(){for(var t=this.segWidth*this.segHeight,e=[],r=[],i=[],n=this.segWidth-1,o=this.segHeight-1,s=this.width/n,a=this.height/o,h=0;h<t;h++){var u=h%this.segWidth,l=h/this.segWidth|0;e.push(u*s,l*a),r.push(u/n,l/o)}for(var c=n*o,d=0;d<c;d++){var p=d%n,f=d/n|0,m=f*this.segWidth+p,v=f*this.segWidth+p+1,g=(f+1)*this.segWidth+p,y=(f+1)*this.segWidth+p+1;i.push(m,v,g,v,y,g)}this.buffers[0].data=new Float32Array(e),this.buffers[1].data=new Float32Array(r),this.indexBuffer.data=new Uint16Array(i),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()},e}(_o),bo=function(t){function e(e,r,i){void 0===e&&(e=200),void 0===i&&(i=0),t.call(this,new Float32Array(4*r.length),new Float32Array(4*r.length),new Uint16Array(6*(r.length-1))),this.points=r,this.width=e,this.textureScale=i,this.build()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.build=function(){var t=this.points;if(t){var e=this.getBuffer("aVertexPosition"),r=this.getBuffer("aTextureCoord"),i=this.getIndex();if(!(t.length<1)){e.data.length/4!==t.length&&(e.data=new Float32Array(4*t.length),r.data=new Float32Array(4*t.length),i.data=new Uint16Array(6*(t.length-1)));var n=r.data,o=i.data;n[0]=0,n[1]=0,n[2]=0,n[3]=1;for(var s=0,a=t[0],h=this.width*this.textureScale,u=t.length,l=0;l<u;l++){var c=4*l;if(this.textureScale>0){var d=a.x-t[l].x,p=a.y-t[l].y,f=Math.sqrt(d*d+p*p);a=t[l],s+=f/h}else s=l/(u-1);n[c]=s,n[c+1]=0,n[c+2]=s,n[c+3]=1}for(var m=0,v=0;v<u-1;v++){var g=2*v;o[m++]=g,o[m++]=g+1,o[m++]=g+2,o[m++]=g+2,o[m++]=g+1,o[m++]=g+3}r.update(),i.update(),this.updateVertices()}}},e.prototype.updateVertices=function(){var t=this.points;if(!(t.length<1)){for(var e,r=t[0],i=0,n=0,o=this.buffers[0].data,s=t.length,a=0;a<s;a++){var h=t[a],u=4*a;n=-((e=a<t.length-1?t[a+1]:h).x-r.x),i=e.y-r.y;var l=Math.sqrt(i*i+n*n),c=this.textureScale>0?this.textureScale*this.width/2:this.width/2;i/=l,n/=l,i*=c,n*=c,o[u]=h.x+i,o[u+1]=h.y+n,o[u+2]=h.x-i,o[u+3]=h.y-n,r=h}this.buffers[0].update()}},e.prototype.update=function(){this.textureScale>0?this.build():this.updateVertices()},e}(_o),To=function(t){function e(e,r,i){void 0===i&&(i=0);var n=new bo(e.height,r,i),o=new yo(e);i>0&&(e.baseTexture.wrapMode=y.REPEAT),t.call(this,n,o),this.autoUpdate=!0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._render=function(e){(this.autoUpdate||this.geometry.width!==this.shader.texture.height)&&(this.geometry.width=this.shader.texture.height,this.geometry.update()),t.prototype._render.call(this,e)},e}(go),wo=function(t){function e(e,r,i){var n=new xo(e.width,e.height,r,i),o=new yo(me.WHITE);t.call(this,n,o),this.texture=e}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={texture:{configurable:!0}};return e.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID,this.geometry.width=this.shader.texture.width,this.geometry.height=this.shader.texture.height,this.geometry.build()},r.texture.set=function(t){this.shader.texture!==t&&(this.shader.texture=t,this._textureID=-1,t.baseTexture.valid?this.textureUpdated():t.once("update",this.textureUpdated,this))},r.texture.get=function(){return this.shader.texture},e.prototype._render=function(e){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),t.prototype._render.call(this,e)},Object.defineProperties(e.prototype,r),e}(go),Eo=function(t){function e(e,r,i,n,o){void 0===e&&(e=me.EMPTY);var s=new _o(r,i,n);s.getBuffer("aVertexPosition").static=!1;var a=new yo(e);t.call(this,s,a,null,o),this.autoUpdate=!0}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={vertices:{configurable:!0}};return r.vertices.get=function(){return this.geometry.getBuffer("aVertexPosition").data},r.vertices.set=function(t){this.geometry.getBuffer("aVertexPosition").data=t},e.prototype._render=function(e){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),t.prototype._render.call(this,e)},Object.defineProperties(e.prototype,r),e}(go),Io=function(t){function e(e,r,i,n,o){t.call(this,me.WHITE,4,4),this._origWidth=e.orig.width,this._origHeight=e.orig.height,this._width=this._origWidth,this._height=this._origHeight,this._leftWidth=void 0!==r?r:10,this._rightWidth=void 0!==n?n:10,this._topHeight=void 0!==i?i:10,this._bottomHeight=void 0!==o?o:10,this.texture=e}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={vertices:{configurable:!0},width:{configurable:!0},height:{configurable:!0},leftWidth:{configurable:!0},rightWidth:{configurable:!0},topHeight:{configurable:!0},bottomHeight:{configurable:!0}};return e.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID,this._refresh()},r.vertices.get=function(){return this.geometry.getBuffer("aVertexPosition").data},r.vertices.set=function(t){this.geometry.getBuffer("aVertexPosition").data=t},e.prototype.updateHorizontalVertices=function(){var t=this.vertices,e=this._topHeight+this._bottomHeight,r=this._height>e?1:this._height/e;t[9]=t[11]=t[13]=t[15]=this._topHeight*r,t[17]=t[19]=t[21]=t[23]=this._height-this._bottomHeight*r,t[25]=t[27]=t[29]=t[31]=this._height},e.prototype.updateVerticalVertices=function(){var t=this.vertices,e=this._leftWidth+this._rightWidth,r=this._width>e?1:this._width/e;t[2]=t[10]=t[18]=t[26]=this._leftWidth*r,t[4]=t[12]=t[20]=t[28]=this._width-this._rightWidth*r,t[6]=t[14]=t[22]=t[30]=this._width},r.width.get=function(){return this._width},r.width.set=function(t){this._width=t,this._refresh()},r.height.get=function(){return this._height},r.height.set=function(t){this._height=t,this._refresh()},r.leftWidth.get=function(){return this._leftWidth},r.leftWidth.set=function(t){this._leftWidth=t,this._refresh()},r.rightWidth.get=function(){return this._rightWidth},r.rightWidth.set=function(t){this._rightWidth=t,this._refresh()},r.topHeight.get=function(){return this._topHeight},r.topHeight.set=function(t){this._topHeight=t,this._refresh()},r.bottomHeight.get=function(){return this._bottomHeight},r.bottomHeight.set=function(t){this._bottomHeight=t,this._refresh()},e.prototype._refresh=function(){var t=this.texture,e=this.geometry.buffers[1].data;this._origWidth=t.orig.width,this._origHeight=t.orig.height;var r=1/this._origWidth,i=1/this._origHeight;e[0]=e[8]=e[16]=e[24]=0,e[1]=e[3]=e[5]=e[7]=0,e[6]=e[14]=e[22]=e[30]=1,e[25]=e[27]=e[29]=e[31]=1,e[2]=e[10]=e[18]=e[26]=r*this._leftWidth,e[4]=e[12]=e[20]=e[28]=1-r*this._rightWidth,e[9]=e[11]=e[13]=e[15]=i*this._topHeight,e[17]=e[19]=e[21]=e[23]=1-i*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()},Object.defineProperties(e.prototype,r),e}(wo),So=function(t){function e(e,r){t.call(this,e[0]instanceof me?e[0]:e[0].texture),this._textures=null,this._durations=null,this.textures=e,this._autoUpdate=!1!==r,this.animationSpeed=1,this.loop=!0,this.updateAnchor=!1,this.onComplete=null,this.onFrameChange=null,this.onLoop=null,this._currentTime=0,this.playing=!1}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={totalFrames:{configurable:!0},textures:{configurable:!0},currentFrame:{configurable:!0}};return e.prototype.stop=function(){this.playing&&(this.playing=!1,this._autoUpdate&&zt.shared.remove(this.update,this))},e.prototype.play=function(){this.playing||(this.playing=!0,this._autoUpdate&&zt.shared.add(this.update,this,jt.HIGH))},e.prototype.gotoAndStop=function(t){this.stop();var e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture()},e.prototype.gotoAndPlay=function(t){var e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture(),this.play()},e.prototype.update=function(t){var e=this.animationSpeed*t,r=this.currentFrame;if(null!==this._durations){var i=this._currentTime%1*this._durations[this.currentFrame];for(i+=e/60*1e3;i<0;)this._currentTime--,i+=this._durations[this.currentFrame];var n=Math.sign(this.animationSpeed*t);for(this._currentTime=Math.floor(this._currentTime);i>=this._durations[this.currentFrame];)i-=this._durations[this.currentFrame]*n,this._currentTime+=n;this._currentTime+=i/this._durations[this.currentFrame]}else this._currentTime+=e;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):r!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<r?this.onLoop():this.animationSpeed<0&&this.currentFrame>r&&this.onLoop()),this.updateTexture())},e.prototype.updateTexture=function(){this._texture=this._textures[this.currentFrame],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame)},e.prototype.destroy=function(e){this.stop(),t.prototype.destroy.call(this,e),this.onComplete=null,this.onFrameChange=null,this.onLoop=null},e.fromFrames=function(t){for(var r=[],i=0;i<t.length;++i)r.push(me.from(t[i]));return new e(r)},e.fromImages=function(t){for(var r=[],i=0;i<t.length;++i)r.push(me.from(t[i]));return new e(r)},r.totalFrames.get=function(){return this._textures.length},r.textures.get=function(){return this._textures},r.textures.set=function(t){if(t[0]instanceof me)this._textures=t,this._durations=null;else{this._textures=[],this._durations=[];for(var e=0;e<t.length;e++)this._textures.push(t[e].texture),this._durations.push(t[e].time)}this.gotoAndStop(0),this.updateTexture()},r.currentFrame.get=function(){var t=Math.floor(this._currentTime)%this._textures.length;return t<0&&(t+=this._textures.length),t},Object.defineProperties(e.prototype,r),e}(ji);r.d(e,"VERSION",(function(){return Oo})),r.d(e,"filters",(function(){return Co})),r.d(e,"useDeprecated",(function(){return Ao})),r.d(e,"accessibility",(function(){return n})),r.d(e,"extract",(function(){return o})),r.d(e,"interaction",(function(){return s})),r.d(e,"prepare",(function(){return a})),r.d(e,"utils",(function(){return i})),r.d(e,"Application",(function(){return mn})),r.d(e,"AbstractBatchRenderer",(function(){return qr})),r.d(e,"AbstractRenderer",(function(){return Ur})),r.d(e,"Attribute",(function(){return _e})),r.d(e,"BaseRenderTexture",(function(){return de})),r.d(e,"BaseTexture",(function(){return te})),r.d(e,"BatchDrawCall",(function(){return zr})),r.d(e,"BatchGeometry",(function(){return Kr})),r.d(e,"BatchPluginFactory",(function(){return $r})),r.d(e,"BatchRenderer",(function(){return ei})),r.d(e,"BatchShaderGenerator",(function(){return Zr})),r.d(e,"BatchTextureArray",(function(){return Vr})),r.d(e,"Buffer",(function(){return be})),r.d(e,"CubeTexture",(function(){return Hr})),r.d(e,"Filter",(function(){return gr})),r.d(e,"Framebuffer",(function(){return le})),r.d(e,"GLProgram",(function(){return Or})),r.d(e,"GLTexture",(function(){return Lr})),r.d(e,"Geometry",(function(){return Pe})),r.d(e,"MaskData",(function(){return Ge})),r.d(e,"ObjectRenderer",(function(){return Le})),r.d(e,"Program",(function(){return cr})),r.d(e,"Quad",(function(){return Ae})),r.d(e,"QuadUv",(function(){return Oe})),r.d(e,"RenderTexture",(function(){return ge})),r.d(e,"RenderTexturePool",(function(){return ye})),r.d(e,"Renderer",(function(){return kr})),r.d(e,"Shader",(function(){return pr})),r.d(e,"SpriteMaskFilter",(function(){return br})),r.d(e,"State",(function(){return mr})),r.d(e,"System",(function(){return he})),r.d(e,"Texture",(function(){return me})),r.d(e,"TextureMatrix",(function(){return _r})),r.d(e,"TextureUvs",(function(){return pe})),r.d(e,"UniformGroup",(function(){return Me})),r.d(e,"ViewableBuffer",(function(){return Yr})),r.d(e,"autoDetectRenderer",(function(){return Xr})),r.d(e,"checkMaxIfStatementsInShader",(function(){return ar})),r.d(e,"defaultFilterVertex",(function(){return Gr})),r.d(e,"defaultVertex",(function(){return jr})),r.d(e,"resources",(function(){return ae})),r.d(e,"systems",(function(){return Nr})),r.d(e,"AppLoaderPlugin",(function(){return jn})),r.d(e,"Loader",(function(){return Xn})),r.d(e,"LoaderResource",(function(){return Gn})),r.d(e,"TextureLoader",(function(){return kn})),r.d(e,"ParticleContainer",(function(){return Hn})),r.d(e,"ParticleRenderer",(function(){return Vn})),r.d(e,"Spritesheet",(function(){return Yn})),r.d(e,"SpritesheetLoader",(function(){return qn})),r.d(e,"TilingSprite",(function(){return Kn})),r.d(e,"TilingSpriteRenderer",(function(){return $n})),r.d(e,"BitmapFontLoader",(function(){return eo})),r.d(e,"BitmapText",(function(){return to})),r.d(e,"Ticker",(function(){return zt})),r.d(e,"TickerPlugin",(function(){return Vt})),r.d(e,"UPDATE_PRIORITY",(function(){return jt})),r.d(e,"ALPHA_MODES",(function(){return x})),r.d(e,"BLEND_MODES",(function(){return d})),r.d(e,"DRAW_MODES",(function(){return p})),r.d(e,"ENV",(function(){return l})),r.d(e,"FORMATS",(function(){return f})),r.d(e,"GC_MODES",(function(){return b})),r.d(e,"MASK_TYPES",(function(){return w})),r.d(e,"MIPMAP_MODES",(function(){return _})),r.d(e,"PRECISION",(function(){return T})),r.d(e,"RENDERER_TYPE",(function(){return c})),r.d(e,"SCALE_MODES",(function(){return g})),r.d(e,"TARGETS",(function(){return m})),r.d(e,"TYPES",(function(){return v})),r.d(e,"WRAP_MODES",(function(){return y})),r.d(e,"Bounds",(function(){return Ft})),r.d(e,"Container",(function(){return Ut})),r.d(e,"DisplayObject",(function(){return Nt})),r.d(e,"FillStyle",(function(){return fi})),r.d(e,"GRAPHICS_CURVES",(function(){return pi})),r.d(e,"Graphics",(function(){return Ui})),r.d(e,"GraphicsData",(function(){return Mi})),r.d(e,"GraphicsGeometry",(function(){return Li})),r.d(e,"LineStyle",(function(){return Fi})),r.d(e,"graphicsUtils",(function(){return Ci})),r.d(e,"Circle",(function(){return Mt})),r.d(e,"DEG_TO_RAD",(function(){return _t})),r.d(e,"Ellipse",(function(){return Dt})),r.d(e,"Matrix",(function(){return xt})),r.d(e,"ObservablePoint",(function(){return vt})),r.d(e,"PI_2",(function(){return gt})),r.d(e,"Point",(function(){return mt})),r.d(e,"Polygon",(function(){return Rt})),r.d(e,"RAD_TO_DEG",(function(){return yt})),r.d(e,"Rectangle",(function(){return Ct})),r.d(e,"RoundedRectangle",(function(){return Lt})),r.d(e,"SHAPES",(function(){return ft})),r.d(e,"Transform",(function(){return Ot})),r.d(e,"groupD8",(function(){return At})),r.d(e,"Mesh",(function(){return go})),r.d(e,"MeshBatchUvs",(function(){return fo})),r.d(e,"MeshGeometry",(function(){return _o})),r.d(e,"MeshMaterial",(function(){return yo})),r.d(e,"NineSlicePlane",(function(){return Io})),r.d(e,"PlaneGeometry",(function(){return xo})),r.d(e,"RopeGeometry",(function(){return bo})),r.d(e,"SimpleMesh",(function(){return Eo})),r.d(e,"SimplePlane",(function(){return wo})),r.d(e,"SimpleRope",(function(){return To})),r.d(e,"Runner",(function(){return Gt})),r.d(e,"Sprite",(function(){return ji})),r.d(e,"AnimatedSprite",(function(){return So})),r.d(e,"TEXT_GRADIENT",(function(){return Gi})),r.d(e,"Text",(function(){return $i})),r.d(e,"TextMetrics",(function(){return Ki})),r.d(e,"TextStyle",(function(){return Vi})),r.d(e,"isMobile",(function(){return u.a})),r.d(e,"settings",(function(){return E}));
/*!
 * pixi.js - v5.2.0
 * Compiled Wed, 06 Nov 2019 02:32:43 UTC
 *
 * pixi.js is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
var Po="5.0.0";function Ao(){var t=this;Object.defineProperties(t,{SVG_SIZE:{get:function(){return pt(Po,"PIXI.utils.SVG_SIZE property has moved to PIXI.resources.SVGResource.SVG_SIZE"),t.SVGResource.SVG_SIZE}},TransformStatic:{get:function(){return pt(Po,"PIXI.TransformStatic class has been removed, use PIXI.Transform"),t.Transform}},TransformBase:{get:function(){return pt(Po,"PIXI.TransformBase class has been removed, use PIXI.Transform"),t.Transform}},TRANSFORM_MODE:{get:function(){return pt(Po,"PIXI.TRANSFORM_MODE property has been removed"),{STATIC:0,DYNAMIC:1}}},WebGLRenderer:{get:function(){return pt(Po,"PIXI.WebGLRenderer class has moved to PIXI.Renderer"),t.Renderer}},CanvasRenderTarget:{get:function(){return pt(Po,"PIXI.CanvasRenderTarget class has moved to PIXI.utils.CanvasRenderTarget"),t.utils.CanvasRenderTarget}},loader:{get:function(){return pt(Po,"PIXI.loader instance has moved to PIXI.Loader.shared"),t.Loader.shared}},FilterManager:{get:function(){return pt(Po,"PIXI.FilterManager class has moved to PIXI.systems.FilterSystem"),t.systems.FilterSystem}},CanvasTinter:{get:function(){return pt("5.2.0","PIXI.CanvasTinter namespace has moved to PIXI.canvasUtils"),t.canvasUtils}},GroupD8:{get:function(){return pt("5.2.0","PIXI.GroupD8 namespace has moved to PIXI.groupD8"),t.groupD8}}}),t.extras={},Object.defineProperties(t.extras,{TilingSprite:{get:function(){return pt(Po,"PIXI.extras.TilingSprite class has moved to PIXI.TilingSprite"),t.TilingSprite}},TilingSpriteRenderer:{get:function(){return pt(Po,"PIXI.extras.TilingSpriteRenderer class has moved to PIXI.TilingSpriteRenderer"),t.TilingSpriteRenderer}},AnimatedSprite:{get:function(){return pt(Po,"PIXI.extras.AnimatedSprite class has moved to PIXI.AnimatedSprite"),t.AnimatedSprite}},BitmapText:{get:function(){return pt(Po,"PIXI.extras.BitmapText class has moved to PIXI.BitmapText"),t.BitmapText}}}),Object.defineProperties(t.utils,{getSvgSize:{get:function(){return pt(Po,"PIXI.utils.getSvgSize function has moved to PIXI.resources.SVGResource.getSize"),t.SVGResource.getSize}}}),t.mesh={},Object.defineProperties(t.mesh,{Mesh:{get:function(){return pt(Po,"PIXI.mesh.Mesh class has moved to PIXI.SimpleMesh"),t.SimpleMesh}},NineSlicePlane:{get:function(){return pt(Po,"PIXI.mesh.NineSlicePlane class has moved to PIXI.NineSlicePlane"),t.NineSlicePlane}},Plane:{get:function(){return pt(Po,"PIXI.mesh.Plane class has moved to PIXI.SimplePlane"),t.SimplePlane}},Rope:{get:function(){return pt(Po,"PIXI.mesh.Rope class has moved to PIXI.SimpleRope"),t.SimpleRope}},RawMesh:{get:function(){return pt(Po,"PIXI.mesh.RawMesh class has moved to PIXI.Mesh"),t.Mesh}},CanvasMeshRenderer:{get:function(){return pt(Po,"PIXI.mesh.CanvasMeshRenderer class has moved to PIXI.CanvasMeshRenderer"),t.CanvasMeshRenderer}},MeshRenderer:{get:function(){return pt(Po,"PIXI.mesh.MeshRenderer class has moved to PIXI.MeshRenderer"),t.MeshRenderer}}}),t.particles={},Object.defineProperties(t.particles,{ParticleContainer:{get:function(){return pt(Po,"PIXI.particles.ParticleContainer class has moved to PIXI.ParticleContainer"),t.ParticleContainer}},ParticleRenderer:{get:function(){return pt(Po,"PIXI.particles.ParticleRenderer class has moved to PIXI.ParticleRenderer"),t.ParticleRenderer}}}),t.ticker={},Object.defineProperties(t.ticker,{Ticker:{get:function(){return pt(Po,"PIXI.ticker.Ticker class has moved to PIXI.Ticker"),t.Ticker}},shared:{get:function(){return pt(Po,"PIXI.ticker.shared instance has moved to PIXI.Ticker.shared"),t.Ticker.shared}}}),t.loaders={},Object.defineProperties(t.loaders,{Loader:{get:function(){return pt(Po,"PIXI.loaders.Loader class has moved to PIXI.Loader"),t.Loader}},Resource:{get:function(){return pt(Po,"PIXI.loaders.Resource class has moved to PIXI.LoaderResource"),t.LoaderResource}},bitmapFontParser:{get:function(){return pt(Po,"PIXI.loaders.bitmapFontParser function has moved to PIXI.BitmapFontLoader.use"),t.BitmapFontLoader.use}},parseBitmapFontData:{get:function(){return pt(Po,"PIXI.loaders.parseBitmapFontData function has moved to PIXI.BitmapFontLoader.parse"),t.BitmapFontLoader.parse}},spritesheetParser:{get:function(){return pt(Po,"PIXI.loaders.spritesheetParser function has moved to PIXI.SpritesheetLoader.use"),t.SpritesheetLoader.use}},getResourcePath:{get:function(){return pt(Po,"PIXI.loaders.getResourcePath property has moved to PIXI.SpritesheetLoader.getResourcePath"),t.SpritesheetLoader.getResourcePath}}}),t.Loader.addPixiMiddleware=function(e){return pt(Po,"PIXI.loaders.Loader.addPixiMiddleware function is deprecated, use PIXI.loaders.Loader.registerPlugin"),t.loaders.Loader.registerPlugin({use:e()})},Object.defineProperty(t.extract,"WebGLExtract",{get:function(){return pt(Po,"PIXI.extract.WebGLExtract method has moved to PIXI.extract.Extract"),t.extract.Extract}}),Object.defineProperty(t.prepare,"WebGLPrepare",{get:function(){return pt(Po,"PIXI.prepare.WebGLPrepare class has moved to PIXI.prepare.Prepare"),t.prepare.Prepare}}),t.Container.prototype._renderWebGL=function(t){pt(Po,"PIXI.Container._renderWebGL method has moved to PIXI.Container._render"),this._render(t)},t.Container.prototype.renderWebGL=function(t){pt(Po,"PIXI.Container.renderWebGL method has moved to PIXI.Container.render"),this.render(t)},t.DisplayObject.prototype.renderWebGL=function(t){pt(Po,"PIXI.DisplayObject.renderWebGL method has moved to PIXI.DisplayObject.render"),this.render(t)},t.Container.prototype.renderAdvancedWebGL=function(t){pt(Po,"PIXI.Container.renderAdvancedWebGL method has moved to PIXI.Container.renderAdvanced"),this.renderAdvanced(t)},Object.defineProperties(t.settings,{TRANSFORM_MODE:{get:function(){return pt(Po,"PIXI.settings.TRANSFORM_MODE property has been removed"),0},set:function(){pt(Po,"PIXI.settings.TRANSFORM_MODE property has been removed")}}});var e=t.BaseTexture;e.prototype.loadSource=function(e){pt(Po,"PIXI.BaseTexture.loadSource method has been deprecated");var r=t.resources.autoDetectResource(e);r.internal=!0,this.setResource(r),this.update()};var r=!1;Object.defineProperties(e.prototype,{hasLoaded:{get:function(){return pt(Po,"PIXI.BaseTexture.hasLoaded property has been removed, use PIXI.BaseTexture.valid"),this.valid}},imageUrl:{get:function(){return pt(Po,"PIXI.BaseTexture.imageUrl property has been removed, use PIXI.BaseTexture.resource.url"),this.resource&&this.resource.url},set:function(t){pt(Po,"PIXI.BaseTexture.imageUrl property has been removed, use PIXI.BaseTexture.resource.url"),this.resource&&(this.resource.url=t)}},source:{get:function(){return pt(Po,"PIXI.BaseTexture.source property has been moved, use `PIXI.BaseTexture.resource.source`"),this.resource&&this.resource.source},set:function(t){pt(Po,"PIXI.BaseTexture.source property has been moved, use `PIXI.BaseTexture.resource.source` if you want to set HTMLCanvasElement. Otherwise, create new BaseTexture."),this.resource&&(this.resource.source=t)}},premultiplyAlpha:{get:function(){return pt("5.2.0","PIXI.BaseTexture.premultiplyAlpha property has been changed to `alphaMode`, see `PIXI.ALPHA_MODES`"),0!==this.alphaMode},set:function(t){pt("5.2.0","PIXI.BaseTexture.premultiplyAlpha property has been changed to `alphaMode`, see `PIXI.ALPHA_MODES`"),this.alphaMode=Number(t)}},_id:{get:function(){return r||(pt("5.2.0","PIXI.BaseTexture._id batch local field has been changed to `_batchLocation`"),r=!0),this._batchLocation},set:function(t){this._batchLocation=t}}}),e.fromImage=function(t,r,i,n){pt(Po,"PIXI.BaseTexture.fromImage method has been replaced with PIXI.BaseTexture.from");var o={scale:n,crossorigin:r};return e.from(t,{scaleMode:i,resourceOptions:o})},e.fromCanvas=function(t,r){return pt(Po,"PIXI.BaseTexture.fromCanvas method has been replaced with PIXI.BaseTexture.from"),e.from(t,{scaleMode:r})},e.fromSVG=function(t,r,i,n){pt(Po,"PIXI.BaseTexture.fromSVG method has been replaced with PIXI.BaseTexture.from");var o={scale:n,crossorigin:r};return e.from(t,{scaleMode:i,resourceOptions:o})},Object.defineProperties(t.resources.ImageResource.prototype,{premultiplyAlpha:{get:function(){return pt("5.2.0","PIXI.resources.ImageResource.premultiplyAlpha property has been changed to `alphaMode`, see `PIXI.ALPHA_MODES`"),0!==this.alphaMode},set:function(t){pt("5.2.0","PIXI.resources.ImageResource.premultiplyAlpha property has been changed to `alphaMode`, see `PIXI.ALPHA_MODES`"),this.alphaMode=Number(t)}}}),t.Point.prototype.copy=function(t){return pt(Po,"PIXI.Point.copy method has been replaced with PIXI.Point.copyFrom"),this.copyFrom(t)},t.ObservablePoint.prototype.copy=function(t){return pt(Po,"PIXI.ObservablePoint.copy method has been replaced with PIXI.ObservablePoint.copyFrom"),this.copyFrom(t)},t.Rectangle.prototype.copy=function(t){return pt(Po,"PIXI.Rectangle.copy method has been replaced with PIXI.Rectangle.copyFrom"),this.copyFrom(t)},t.Matrix.prototype.copy=function(t){return pt(Po,"PIXI.Matrix.copy method has been replaced with PIXI.Matrix.copyTo"),this.copyTo(t)},t.systems.StateSystem.prototype.setState=function(t){return pt("v5.1.0","StateSystem.setState has been renamed to StateSystem.set"),this.set(t)},Object.assign(t.systems.FilterSystem.prototype,{getRenderTarget:function(t,e){return pt(Po,"PIXI.FilterManager.getRenderTarget method has been replaced with PIXI.systems.FilterSystem#getFilterTexture"),this.getFilterTexture(e)},returnRenderTarget:function(t){pt(Po,"PIXI.FilterManager.returnRenderTarget method has been replaced with PIXI.systems.FilterSystem.returnFilterTexture"),this.returnFilterTexture(t)},calculateScreenSpaceMatrix:function(t){pt(Po,"PIXI.systems.FilterSystem.calculateScreenSpaceMatrix method is removed, use `(vTextureCoord * inputSize.xy) + outputFrame.xy` instead");var e=t.identity(),r=this.activeState,i=r.sourceFrame,n=r.destinationFrame;return e.translate(i.x/n.width,i.y/n.height),e.scale(n.width,n.height),e},calculateNormalizedScreenSpaceMatrix:function(t){pt(Po,"PIXI.systems.FilterManager.calculateNormalizedScreenSpaceMatrix method is removed, use `((vTextureCoord * inputSize.xy) + outputFrame.xy) / outputFrame.zw` instead.");var e=this.activeState,r=e.sourceFrame,i=e.destinationFrame,n=t.identity();n.translate(r.x/i.width,r.y/i.height);var o=i.width/r.width,s=i.height/r.height;return n.scale(o,s),n}}),Object.defineProperties(t.RenderTexture.prototype,{sourceFrame:{get:function(){return pt(Po,"PIXI.RenderTexture.sourceFrame property has been removed"),this.filterFrame}},size:{get:function(){return pt(Po,"PIXI.RenderTexture.size property has been removed"),this._frame}}});var i=function(t){function e(e,r,i,n){pt(Po,"PIXI.filters.BlurXFilter class is deprecated, use PIXI.filters.BlurFilterPass"),t.call(this,!0,e,r,i,n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(t.filters.BlurFilterPass),n=function(t){function e(e,r,i,n){pt(Po,"PIXI.filters.BlurYFilter class is deprecated, use PIXI.filters.BlurFilterPass"),t.call(this,!1,e,r,i,n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(t.filters.BlurFilterPass);Object.assign(t.filters,{BlurXFilter:i,BlurYFilter:n});var o=t.Sprite,s=t.Texture,a=t.Graphics;function h(t,e,r,i){return pt(Po,"PIXI.Sprite."+t+" method is deprecated, use PIXI.Sprite.from"),o.from(e,{resourceOptions:{scale:i,crossorigin:r}})}function u(t,e,r,i){return pt(Po,"PIXI.Texture."+t+" method is deprecated, use PIXI.Texture.from"),s.from(e,{resourceOptions:{scale:i,crossorigin:r}})}a.prototype.generateCanvasTexture||(a.prototype.generateCanvasTexture=function(){pt(Po,'PIXI.Graphics.generateCanvasTexture method is only available in "pixi.js-legacy"')}),Object.defineProperty(t.Graphics.prototype,"graphicsData",{get:function(){return pt(Po,"PIXI.Graphics.graphicsData property is deprecated, use PIXI.Graphics.geometry.graphicsData"),this.geometry.graphicsData}}),o.fromImage=h.bind(null,"fromImage"),o.fromSVG=h.bind(null,"fromSVG"),o.fromCanvas=h.bind(null,"fromCanvas"),o.fromVideo=h.bind(null,"fromVideo"),o.fromFrame=h.bind(null,"fromFrame"),s.fromImage=u.bind(null,"fromImage"),s.fromSVG=u.bind(null,"fromSVG"),s.fromCanvas=u.bind(null,"fromCanvas"),s.fromVideo=u.bind(null,"fromVideo"),s.fromFrame=u.bind(null,"fromFrame"),Object.defineProperty(t.AbstractRenderer.prototype,"autoResize",{get:function(){return pt(Po,"PIXI.AbstractRenderer.autoResize property is deprecated, use PIXI.AbstractRenderer.autoDensity"),this.autoDensity},set:function(t){pt(Po,"PIXI.AbstractRenderer.autoResize property is deprecated, use PIXI.AbstractRenderer.autoDensity"),this.autoDensity=t}}),Object.defineProperty(t.Renderer.prototype,"textureManager",{get:function(){return pt(Po,"PIXI.Renderer.textureManager property is deprecated, use PIXI.Renderer.texture"),this.texture}}),t.utils.mixins={mixin:function(){pt(Po,"PIXI.utils.mixins.mixin function is no longer available")},delayMixin:function(){pt(Po,"PIXI.utils.mixins.delayMixin function is no longer available")},performMixins:function(){pt(Po,"PIXI.utils.mixins.performMixins function is no longer available")}}}kr.registerPlugin("accessibility",Xt),kr.registerPlugin("extract",ii),kr.registerPlugin("interaction",di),kr.registerPlugin("particle",Vn),kr.registerPlugin("prepare",ln),kr.registerPlugin("batch",ei),kr.registerPlugin("tilingSprite",$n),Xn.registerPlugin(eo),Xn.registerPlugin(qn),mn.registerPlugin(Vt),mn.registerPlugin(jn);var Oo="5.2.0",Co={AlphaFilter:ro,BlurFilter:so,BlurFilterPass:oo,ColorMatrixFilter:ao,DisplacementFilter:ho,FXAAFilter:uo,NoiseFilter:lo}},function(t,e){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(t){"object"==typeof window&&(r=window)}t.exports=r},function(t,e,r){"use strict";e.__esModule=!0,e.mainScreen={width:600,height:400,backgroundColor:11184810},e.life=3,e.speed=2,e.roads=[{type:"plant",y:0},{type:"road",y:40},{type:"road",y:80},{type:"water",y:120},{type:"plant",y:160},{type:"water",y:200},{type:"road",y:240},{type:"road",y:280},{type:"road",y:320},{type:"plant",y:360}]},function(t,e,r){"use strict";var i=r(16),n=r(18);function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}e.parse=_,e.resolve=function(t,e){return _(t,!1,!0).resolve(e)},e.resolveObject=function(t,e){return t?_(t,!1,!0).resolveObject(e):e},e.format=function(t){n.isString(t)&&(t=_(t));return t instanceof o?t.format():o.prototype.format.call(t)},e.Url=o;var s=/^([a-z0-9.+-]+:)/i,a=/:[0-9]*$/,h=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,u=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),l=["'"].concat(u),c=["%","/","?",";","#"].concat(l),d=["/","?","#"],p=/^[+a-z0-9A-Z_-]{0,63}$/,f=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,m={javascript:!0,"javascript:":!0},v={javascript:!0,"javascript:":!0},g={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},y=r(19);function _(t,e,r){if(t&&n.isObject(t)&&t instanceof o)return t;var i=new o;return i.parse(t,e,r),i}o.prototype.parse=function(t,e,r){if(!n.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var o=t.indexOf("?"),a=-1!==o&&o<t.indexOf("#")?"?":"#",u=t.split(a);u[0]=u[0].replace(/\\/g,"/");var _=t=u.join(a);if(_=_.trim(),!r&&1===t.split("#").length){var x=h.exec(_);if(x)return this.path=_,this.href=_,this.pathname=x[1],x[2]?(this.search=x[2],this.query=e?y.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var b=s.exec(_);if(b){var T=(b=b[0]).toLowerCase();this.protocol=T,_=_.substr(b.length)}if(r||b||_.match(/^\/\/[^@\/]+@[^@\/]+/)){var w="//"===_.substr(0,2);!w||b&&v[b]||(_=_.substr(2),this.slashes=!0)}if(!v[b]&&(w||b&&!g[b])){for(var E,I,S=-1,P=0;P<d.length;P++){-1!==(A=_.indexOf(d[P]))&&(-1===S||A<S)&&(S=A)}-1!==(I=-1===S?_.lastIndexOf("@"):_.lastIndexOf("@",S))&&(E=_.slice(0,I),_=_.slice(I+1),this.auth=decodeURIComponent(E)),S=-1;for(P=0;P<c.length;P++){var A;-1!==(A=_.indexOf(c[P]))&&(-1===S||A<S)&&(S=A)}-1===S&&(S=_.length),this.host=_.slice(0,S),_=_.slice(S),this.parseHost(),this.hostname=this.hostname||"";var O="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!O)for(var C=this.hostname.split(/\./),M=(P=0,C.length);P<M;P++){var D=C[P];if(D&&!D.match(p)){for(var R="",L=0,F=D.length;L<F;L++)D.charCodeAt(L)>127?R+="x":R+=D[L];if(!R.match(p)){var N=C.slice(0,P),B=C.slice(P+1),U=D.match(f);U&&(N.push(U[1]),B.unshift(U[2])),B.length&&(_="/"+B.join(".")+_),this.hostname=N.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),O||(this.hostname=i.toASCII(this.hostname));var k=this.port?":"+this.port:"",X=this.hostname||"";this.host=X+k,this.href+=this.host,O&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==_[0]&&(_="/"+_))}if(!m[T])for(P=0,M=l.length;P<M;P++){var j=l[P];if(-1!==_.indexOf(j)){var G=encodeURIComponent(j);G===j&&(G=escape(j)),_=_.split(j).join(G)}}var H=_.indexOf("#");-1!==H&&(this.hash=_.substr(H),_=_.slice(0,H));var z=_.indexOf("?");if(-1!==z?(this.search=_.substr(z),this.query=_.substr(z+1),e&&(this.query=y.parse(this.query)),_=_.slice(0,z)):e&&(this.search="",this.query={}),_&&(this.pathname=_),g[T]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){k=this.pathname||"";var V=this.search||"";this.path=k+V}return this.href=this.format(),this},o.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",i=this.hash||"",o=!1,s="";this.host?o=t+this.host:this.hostname&&(o=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&n.isObject(this.query)&&Object.keys(this.query).length&&(s=y.stringify(this.query));var a=this.search||s&&"?"+s||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||g[e])&&!1!==o?(o="//"+(o||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):o||(o=""),i&&"#"!==i.charAt(0)&&(i="#"+i),a&&"?"!==a.charAt(0)&&(a="?"+a),e+o+(r=r.replace(/[?#]/g,(function(t){return encodeURIComponent(t)})))+(a=a.replace("#","%23"))+i},o.prototype.resolve=function(t){return this.resolveObject(_(t,!1,!0)).format()},o.prototype.resolveObject=function(t){if(n.isString(t)){var e=new o;e.parse(t,!1,!0),t=e}for(var r=new o,i=Object.keys(this),s=0;s<i.length;s++){var a=i[s];r[a]=this[a]}if(r.hash=t.hash,""===t.href)return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var h=Object.keys(t),u=0;u<h.length;u++){var l=h[u];"protocol"!==l&&(r[l]=t[l])}return g[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!g[t.protocol]){for(var c=Object.keys(t),d=0;d<c.length;d++){var p=c[d];r[p]=t[p]}return r.href=r.format(),r}if(r.protocol=t.protocol,t.host||v[t.protocol])r.pathname=t.pathname;else{for(var f=(t.pathname||"").split("/");f.length&&!(t.host=f.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==f[0]&&f.unshift(""),f.length<2&&f.unshift(""),r.pathname=f.join("/")}if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var m=r.pathname||"",y=r.search||"";r.path=m+y}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var _=r.pathname&&"/"===r.pathname.charAt(0),x=t.host||t.pathname&&"/"===t.pathname.charAt(0),b=x||_||r.host&&t.pathname,T=b,w=r.pathname&&r.pathname.split("/")||[],E=(f=t.pathname&&t.pathname.split("/")||[],r.protocol&&!g[r.protocol]);if(E&&(r.hostname="",r.port=null,r.host&&(""===w[0]?w[0]=r.host:w.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===f[0]?f[0]=t.host:f.unshift(t.host)),t.host=null),b=b&&(""===f[0]||""===w[0])),x)r.host=t.host||""===t.host?t.host:r.host,r.hostname=t.hostname||""===t.hostname?t.hostname:r.hostname,r.search=t.search,r.query=t.query,w=f;else if(f.length)w||(w=[]),w.pop(),w=w.concat(f),r.search=t.search,r.query=t.query;else if(!n.isNullOrUndefined(t.search)){if(E)r.hostname=r.host=w.shift(),(O=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=O.shift(),r.host=r.hostname=O.shift());return r.search=t.search,r.query=t.query,n.isNull(r.pathname)&&n.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!w.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var I=w.slice(-1)[0],S=(r.host||t.host||w.length>1)&&("."===I||".."===I)||""===I,P=0,A=w.length;A>=0;A--)"."===(I=w[A])?w.splice(A,1):".."===I?(w.splice(A,1),P++):P&&(w.splice(A,1),P--);if(!b&&!T)for(;P--;P)w.unshift("..");!b||""===w[0]||w[0]&&"/"===w[0].charAt(0)||w.unshift(""),S&&"/"!==w.join("/").substr(-1)&&w.push("");var O,C=""===w[0]||w[0]&&"/"===w[0].charAt(0);E&&(r.hostname=r.host=C?"":w.length?w.shift():"",(O=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=O.shift(),r.host=r.hostname=O.shift()));return(b=b||r.host&&w.length)&&!C&&w.unshift(""),w.length?r.pathname=w.join("/"):(r.pathname=null,r.path=null),n.isNull(r.pathname)&&n.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r},o.prototype.parseHost=function(){var t=this.host,e=a.exec(t);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},function(t,e,r){"use strict";t.exports=function(t,e){e=e||{};for(var r={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},i=r.parser[e.strictMode?"strict":"loose"].exec(t),n={},o=14;o--;)n[r.key[o]]=i[o]||"";return n[r.q.name]={},n[r.key[12]].replace(r.q.parser,(function(t,e,i){e&&(n[r.q.name][e]=i)})),n}},function(t,e,r){"use strict";e.__esModule=!0;var i=r(2),n=r(22),o=r(4);e.app=new i.Application(o.mainScreen),e.container=new i.Container,e.container.sortableChildren=!0,document.body.appendChild(e.app.view),e.app.stage.addChild(e.container),n.setupRoads(),n.roadsList.forEach((function(t){e.container.addChild(t)})),n.treesList.forEach((function(t){e.container.addChild(t)})),e.container.addChild(n.player),e.app.ticker.add(n.gameLoop),window.addEventListener("keydown",n.keyDown),window.addEventListener("keyup",n.keyUp)},function(t,e,r){"use strict";var i=Object.prototype.hasOwnProperty,n="~";function o(){}function s(t,e,r){this.fn=t,this.context=e,this.once=r||!1}function a(t,e,r,i,o){if("function"!=typeof r)throw new TypeError("The listener must be a function");var a=new s(r,i||t,o),h=n?n+e:e;return t._events[h]?t._events[h].fn?t._events[h]=[t._events[h],a]:t._events[h].push(a):(t._events[h]=a,t._eventsCount++),t}function h(t,e){0==--t._eventsCount?t._events=new o:delete t._events[e]}function u(){this._events=new o,this._eventsCount=0}Object.create&&(o.prototype=Object.create(null),(new o).__proto__||(n=!1)),u.prototype.eventNames=function(){var t,e,r=[];if(0===this._eventsCount)return r;for(e in t=this._events)i.call(t,e)&&r.push(n?e.slice(1):e);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(t)):r},u.prototype.listeners=function(t){var e=n?n+t:t,r=this._events[e];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,o=r.length,s=new Array(o);i<o;i++)s[i]=r[i].fn;return s},u.prototype.listenerCount=function(t){var e=n?n+t:t,r=this._events[e];return r?r.fn?1:r.length:0},u.prototype.emit=function(t,e,r,i,o,s){var a=n?n+t:t;if(!this._events[a])return!1;var h,u,l=this._events[a],c=arguments.length;if(l.fn){switch(l.once&&this.removeListener(t,l.fn,void 0,!0),c){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,e),!0;case 3:return l.fn.call(l.context,e,r),!0;case 4:return l.fn.call(l.context,e,r,i),!0;case 5:return l.fn.call(l.context,e,r,i,o),!0;case 6:return l.fn.call(l.context,e,r,i,o,s),!0}for(u=1,h=new Array(c-1);u<c;u++)h[u-1]=arguments[u];l.fn.apply(l.context,h)}else{var d,p=l.length;for(u=0;u<p;u++)switch(l[u].once&&this.removeListener(t,l[u].fn,void 0,!0),c){case 1:l[u].fn.call(l[u].context);break;case 2:l[u].fn.call(l[u].context,e);break;case 3:l[u].fn.call(l[u].context,e,r);break;case 4:l[u].fn.call(l[u].context,e,r,i);break;default:if(!h)for(d=1,h=new Array(c-1);d<c;d++)h[d-1]=arguments[d];l[u].fn.apply(l[u].context,h)}}return!0},u.prototype.on=function(t,e,r){return a(this,t,e,r,!1)},u.prototype.once=function(t,e,r){return a(this,t,e,r,!0)},u.prototype.removeListener=function(t,e,r,i){var o=n?n+t:t;if(!this._events[o])return this;if(!e)return h(this,o),this;var s=this._events[o];if(s.fn)s.fn!==e||i&&!s.once||r&&s.context!==r||h(this,o);else{for(var a=0,u=[],l=s.length;a<l;a++)(s[a].fn!==e||i&&!s[a].once||r&&s[a].context!==r)&&u.push(s[a]);u.length?this._events[o]=1===u.length?u[0]:u:h(this,o)}return this},u.prototype.removeAllListeners=function(t){var e;return t?(e=n?n+t:t,this._events[e]&&h(this,e)):(this._events=new o,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,t.exports=u},function(t,e,r){"use strict";function i(t,e,r){r=r||2;var i,a,h,u,l,p,f,v=e&&e.length,g=v?e[0]*r:t.length,y=n(t,0,g,r,!0),_=[];if(!y||y.next===y.prev)return _;if(v&&(y=function(t,e,r,i){var s,a,h,u,l,p=[];for(s=0,a=e.length;s<a;s++)h=e[s]*i,u=s<a-1?e[s+1]*i:t.length,(l=n(t,h,u,i,!1))===l.next&&(l.steiner=!0),p.push(m(l));for(p.sort(c),s=0;s<p.length;s++)d(p[s],r),r=o(r,r.next);return r}(t,e,y,r)),t.length>80*r){i=h=t[0],a=u=t[1];for(var x=r;x<g;x+=r)(l=t[x])<i&&(i=l),(p=t[x+1])<a&&(a=p),l>h&&(h=l),p>u&&(u=p);f=0!==(f=Math.max(h-i,u-a))?1/f:0}return s(y,_,r,i,a,f),_}function n(t,e,r,i,n){var o,s;if(n===A(t,e,r,i)>0)for(o=e;o<r;o+=i)s=I(o,t[o],t[o+1],s);else for(o=r-i;o>=e;o-=i)s=I(o,t[o],t[o+1],s);return s&&_(s,s.next)&&(S(s),s=s.next),s}function o(t,e){if(!t)return t;e||(e=t);var r,i=t;do{if(r=!1,i.steiner||!_(i,i.next)&&0!==y(i.prev,i,i.next))i=i.next;else{if(S(i),(i=e=i.prev)===i.next)break;r=!0}}while(r||i!==e);return e}function s(t,e,r,i,n,c,d){if(t){!d&&c&&function(t,e,r,i){var n=t;do{null===n.z&&(n.z=f(n.x,n.y,e,r,i)),n.prevZ=n.prev,n.nextZ=n.next,n=n.next}while(n!==t);n.prevZ.nextZ=null,n.prevZ=null,function(t){var e,r,i,n,o,s,a,h,u=1;do{for(r=t,t=null,o=null,s=0;r;){for(s++,i=r,a=0,e=0;e<u&&(a++,i=i.nextZ);e++);for(h=u;a>0||h>0&&i;)0!==a&&(0===h||!i||r.z<=i.z)?(n=r,r=r.nextZ,a--):(n=i,i=i.nextZ,h--),o?o.nextZ=n:t=n,n.prevZ=o,o=n;r=i}o.nextZ=null,u*=2}while(s>1)}(n)}(t,i,n,c);for(var p,m,v=t;t.prev!==t.next;)if(p=t.prev,m=t.next,c?h(t,i,n,c):a(t))e.push(p.i/r),e.push(t.i/r),e.push(m.i/r),S(t),t=m.next,v=m.next;else if((t=m)===v){d?1===d?s(t=u(o(t),e,r),e,r,i,n,c,2):2===d&&l(t,e,r,i,n,c):s(o(t),e,r,i,n,c,1);break}}}function a(t){var e=t.prev,r=t,i=t.next;if(y(e,r,i)>=0)return!1;for(var n=t.next.next;n!==t.prev;){if(v(e.x,e.y,r.x,r.y,i.x,i.y,n.x,n.y)&&y(n.prev,n,n.next)>=0)return!1;n=n.next}return!0}function h(t,e,r,i){var n=t.prev,o=t,s=t.next;if(y(n,o,s)>=0)return!1;for(var a=n.x<o.x?n.x<s.x?n.x:s.x:o.x<s.x?o.x:s.x,h=n.y<o.y?n.y<s.y?n.y:s.y:o.y<s.y?o.y:s.y,u=n.x>o.x?n.x>s.x?n.x:s.x:o.x>s.x?o.x:s.x,l=n.y>o.y?n.y>s.y?n.y:s.y:o.y>s.y?o.y:s.y,c=f(a,h,e,r,i),d=f(u,l,e,r,i),p=t.prevZ,m=t.nextZ;p&&p.z>=c&&m&&m.z<=d;){if(p!==t.prev&&p!==t.next&&v(n.x,n.y,o.x,o.y,s.x,s.y,p.x,p.y)&&y(p.prev,p,p.next)>=0)return!1;if(p=p.prevZ,m!==t.prev&&m!==t.next&&v(n.x,n.y,o.x,o.y,s.x,s.y,m.x,m.y)&&y(m.prev,m,m.next)>=0)return!1;m=m.nextZ}for(;p&&p.z>=c;){if(p!==t.prev&&p!==t.next&&v(n.x,n.y,o.x,o.y,s.x,s.y,p.x,p.y)&&y(p.prev,p,p.next)>=0)return!1;p=p.prevZ}for(;m&&m.z<=d;){if(m!==t.prev&&m!==t.next&&v(n.x,n.y,o.x,o.y,s.x,s.y,m.x,m.y)&&y(m.prev,m,m.next)>=0)return!1;m=m.nextZ}return!0}function u(t,e,r){var i=t;do{var n=i.prev,s=i.next.next;!_(n,s)&&x(n,i,i.next,s)&&w(n,s)&&w(s,n)&&(e.push(n.i/r),e.push(i.i/r),e.push(s.i/r),S(i),S(i.next),i=t=s),i=i.next}while(i!==t);return o(i)}function l(t,e,r,i,n,a){var h=t;do{for(var u=h.next.next;u!==h.prev;){if(h.i!==u.i&&g(h,u)){var l=E(h,u);return h=o(h,h.next),l=o(l,l.next),s(h,e,r,i,n,a),void s(l,e,r,i,n,a)}u=u.next}h=h.next}while(h!==t)}function c(t,e){return t.x-e.x}function d(t,e){if(e=function(t,e){var r,i=e,n=t.x,o=t.y,s=-1/0;do{if(o<=i.y&&o>=i.next.y&&i.next.y!==i.y){var a=i.x+(o-i.y)*(i.next.x-i.x)/(i.next.y-i.y);if(a<=n&&a>s){if(s=a,a===n){if(o===i.y)return i;if(o===i.next.y)return i.next}r=i.x<i.next.x?i:i.next}}i=i.next}while(i!==e);if(!r)return null;if(n===s)return r;var h,u=r,l=r.x,c=r.y,d=1/0;i=r;do{n>=i.x&&i.x>=l&&n!==i.x&&v(o<c?n:s,o,l,c,o<c?s:n,o,i.x,i.y)&&(h=Math.abs(o-i.y)/(n-i.x),w(i,t)&&(h<d||h===d&&(i.x>r.x||i.x===r.x&&p(r,i)))&&(r=i,d=h)),i=i.next}while(i!==u);return r}(t,e)){var r=E(e,t);o(r,r.next)}}function p(t,e){return y(t.prev,t,e.prev)<0&&y(e.next,t,t.next)<0}function f(t,e,r,i,n){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-r)*n)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-i)*n)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function m(t){var e=t,r=t;do{(e.x<r.x||e.x===r.x&&e.y<r.y)&&(r=e),e=e.next}while(e!==t);return r}function v(t,e,r,i,n,o,s,a){return(n-s)*(e-a)-(t-s)*(o-a)>=0&&(t-s)*(i-a)-(r-s)*(e-a)>=0&&(r-s)*(o-a)-(n-s)*(i-a)>=0}function g(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&x(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}(t,e)&&(w(t,e)&&w(e,t)&&function(t,e){var r=t,i=!1,n=(t.x+e.x)/2,o=(t.y+e.y)/2;do{r.y>o!=r.next.y>o&&r.next.y!==r.y&&n<(r.next.x-r.x)*(o-r.y)/(r.next.y-r.y)+r.x&&(i=!i),r=r.next}while(r!==t);return i}(t,e)&&(y(t.prev,t,e.prev)||y(t,e.prev,e))||_(t,e)&&y(t.prev,t,t.next)>0&&y(e.prev,e,e.next)>0)}function y(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function _(t,e){return t.x===e.x&&t.y===e.y}function x(t,e,r,i){var n=T(y(t,e,r)),o=T(y(t,e,i)),s=T(y(r,i,t)),a=T(y(r,i,e));return n!==o&&s!==a||(!(0!==n||!b(t,r,e))||(!(0!==o||!b(t,i,e))||(!(0!==s||!b(r,t,i))||!(0!==a||!b(r,e,i)))))}function b(t,e,r){return e.x<=Math.max(t.x,r.x)&&e.x>=Math.min(t.x,r.x)&&e.y<=Math.max(t.y,r.y)&&e.y>=Math.min(t.y,r.y)}function T(t){return t>0?1:t<0?-1:0}function w(t,e){return y(t.prev,t,t.next)<0?y(t,e,t.next)>=0&&y(t,t.prev,e)>=0:y(t,e,t.prev)<0||y(t,t.next,e)<0}function E(t,e){var r=new P(t.i,t.x,t.y),i=new P(e.i,e.x,e.y),n=t.next,o=e.prev;return t.next=e,e.prev=t,r.next=n,n.prev=r,i.next=r,r.prev=i,o.next=i,i.prev=o,i}function I(t,e,r,i){var n=new P(t,e,r);return i?(n.next=i.next,n.prev=i,i.next.prev=n,i.next=n):(n.prev=n,n.next=n),n}function S(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function P(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function A(t,e,r,i){for(var n=0,o=e,s=r-i;o<r;o+=i)n+=(t[s]-t[o])*(t[o+1]+t[s+1]),s=o;return n}t.exports=i,t.exports.default=i,i.deviation=function(t,e,r,i){var n=e&&e.length,o=n?e[0]*r:t.length,s=Math.abs(A(t,0,o,r));if(n)for(var a=0,h=e.length;a<h;a++){var u=e[a]*r,l=a<h-1?e[a+1]*r:t.length;s-=Math.abs(A(t,u,l,r))}var c=0;for(a=0;a<i.length;a+=3){var d=i[a]*r,p=i[a+1]*r,f=i[a+2]*r;c+=Math.abs((t[d]-t[f])*(t[p+1]-t[d+1])-(t[d]-t[p])*(t[f+1]-t[d+1]))}return 0===s&&0===c?0:Math.abs((c-s)/s)},i.flatten=function(t){for(var e=t[0][0].length,r={vertices:[],holes:[],dimensions:e},i=0,n=0;n<t.length;n++){for(var o=0;o<t[n].length;o++)for(var s=0;s<e;s++)r.vertices.push(t[n][o][s]);n>0&&(i+=t[n-1].length,r.holes.push(i))}return r}},function(t,e,r){(function(i,n){var o;!function(i){var s=i.Promise,a=s&&"resolve"in s&&"reject"in s&&"all"in s&&"race"in s&&function(){var t;return new s((function(e){t=e})),"function"==typeof t}();e?(e.Promise=a?s:w,e.Polyfill=w):void 0===(o=function(){return a?s:w}.call(e,r,e,t))||(t.exports=o);var h=function(){};function u(t){return"[object Array]"===Object.prototype.toString.call(t)}var l,c=void 0!==n?n:setTimeout,d=[];function p(){for(var t=0;t<d.length;t++)d[t][0](d[t][1]);d=[],l=!1}function f(t,e){d.push([t,e]),l||(l=!0,c(p,0))}function m(t){var e=t.owner,r=e.state_,i=e.data_,n=t[r],o=t.then;if("function"==typeof n){r="fulfilled";try{i=n(i)}catch(t){_(o,t)}}v(o,i)||("fulfilled"===r&&g(o,i),"rejected"===r&&_(o,i))}function v(t,e){var r;try{if(t===e)throw new TypeError("A promises callback cannot return that same promise.");if(e&&("function"==typeof e||"object"==typeof e)){var i=e.then;if("function"==typeof i)return i.call(e,(function(i){r||(r=!0,e!==i?g(t,i):y(t,i))}),(function(e){r||(r=!0,_(t,e))})),!0}}catch(e){return r||_(t,e),!0}return!1}function g(t,e){t!==e&&v(t,e)||y(t,e)}function y(t,e){"pending"===t.state_&&(t.state_="sealed",t.data_=e,f(b,t))}function _(t,e){"pending"===t.state_&&(t.state_="sealed",t.data_=e,f(T,t))}function x(t){var e=t.then_;t.then_=void 0;for(var r=0;r<e.length;r++)m(e[r])}function b(t){t.state_="fulfilled",x(t)}function T(t){t.state_="rejected",x(t)}function w(t){if("function"!=typeof t)throw new TypeError("Promise constructor takes a function argument");if(this instanceof w==!1)throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this.then_=[],function(t,e){function r(t){_(e,t)}try{t((function(t){g(e,t)}),r)}catch(t){r(t)}}(t,this)}w.prototype={constructor:w,state_:"pending",then_:null,data_:void 0,then:function(t,e){var r={owner:this,then:new this.constructor(h),fulfilled:t,rejected:e};return"fulfilled"===this.state_||"rejected"===this.state_?f(m,r):this.then_.push(r),r.then},catch:function(t){return this.then(null,t)}},w.all=function(t){if(!u(t))throw new TypeError("You must pass an array to Promise.all().");return new this((function(e,r){var i=[],n=0;function o(t){return n++,function(r){i[t]=r,--n||e(i)}}for(var s,a=0;a<t.length;a++)(s=t[a])&&"function"==typeof s.then?s.then(o(a),r):i[a]=s;n||e(i)}))},w.race=function(t){if(!u(t))throw new TypeError("You must pass an array to Promise.race().");return new this((function(e,r){for(var i,n=0;n<t.length;n++)(i=t[n])&&"function"==typeof i.then?i.then(e,r):e(i)}))},w.resolve=function(t){return t&&"object"==typeof t&&t.constructor===this?t:new this((function(e){e(t)}))},w.reject=function(t){return new this((function(e,r){r(t)}))}}("undefined"!=typeof window?window:void 0!==i?i:"undefined"!=typeof self?self:this)}).call(this,r(3),r(13).setImmediate)},function(t,e,r){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var i=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function s(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},r=0;r<10;r++)e["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach((function(t){i[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var r,a,h=s(t),u=1;u<arguments.length;u++){for(var l in r=Object(arguments[u]))n.call(r,l)&&(h[l]=r[l]);if(i){a=i(r);for(var c=0;c<a.length;c++)o.call(r,a[c])&&(h[a[c]]=r[a[c]])}}return h}},function(t,e,r){"use strict";(function(t){var e=r(10),i=r(11),n=r.n(i);
/*!
 * @pixi/polyfill - v5.2.0
 * Compiled Wed, 06 Nov 2019 02:32:43 UTC
 *
 * @pixi/polyfill is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
window.Promise||(window.Promise=e.Polyfill),Object.assign||(Object.assign=n.a);var o="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{};if(Date.now&&Date.prototype.getTime||(Date.now=function(){return(new Date).getTime()}),!o.performance||!o.performance.now){var s=Date.now();o.performance||(o.performance={}),o.performance.now=function(){return Date.now()-s}}for(var a=Date.now(),h=["ms","moz","webkit","o"],u=0;u<h.length&&!o.requestAnimationFrame;++u){var l=h[u];o.requestAnimationFrame=o[l+"RequestAnimationFrame"],o.cancelAnimationFrame=o[l+"CancelAnimationFrame"]||o[l+"CancelRequestAnimationFrame"]}o.requestAnimationFrame||(o.requestAnimationFrame=function(t){if("function"!=typeof t)throw new TypeError(t+"is not a function");var e=Date.now(),r=16+a-e;return r<0&&(r=0),a=e,setTimeout((function(){a=Date.now(),t(performance.now())}),r)}),o.cancelAnimationFrame||(o.cancelAnimationFrame=function(t){return clearTimeout(t)}),Math.sign||(Math.sign=function(t){return 0===(t=Number(t))||isNaN(t)?t:t>0?1:-1}),Number.isInteger||(Number.isInteger=function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t}),window.ArrayBuffer||(window.ArrayBuffer=Array),window.Float32Array||(window.Float32Array=Array),window.Uint32Array||(window.Uint32Array=Array),window.Uint16Array||(window.Uint16Array=Array),window.Uint8Array||(window.Uint8Array=Array),window.Int32Array||(window.Int32Array=Array)}).call(this,r(3))},function(t,e,r){(function(t){var i=void 0!==t&&t||"undefined"!=typeof self&&self||window,n=Function.prototype.apply;function o(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new o(n.call(setTimeout,i,arguments),clearTimeout)},e.setInterval=function(){return new o(n.call(setInterval,i,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(i,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},r(14),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,r(3))},function(t,e,r){(function(t,e){!function(t,r){"use strict";if(!t.setImmediate){var i,n,o,s,a,h=1,u={},l=!1,c=t.document,d=Object.getPrototypeOf&&Object.getPrototypeOf(t);d=d&&d.setTimeout?d:t,"[object process]"==={}.toString.call(t.process)?i=function(t){e.nextTick((function(){f(t)}))}:!function(){if(t.postMessage&&!t.importScripts){var e=!0,r=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=r,e}}()?t.MessageChannel?((o=new MessageChannel).port1.onmessage=function(t){f(t.data)},i=function(t){o.port2.postMessage(t)}):c&&"onreadystatechange"in c.createElement("script")?(n=c.documentElement,i=function(t){var e=c.createElement("script");e.onreadystatechange=function(){f(t),e.onreadystatechange=null,n.removeChild(e),e=null},n.appendChild(e)}):i=function(t){setTimeout(f,0,t)}:(s="setImmediate$"+Math.random()+"$",a=function(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(s)&&f(+e.data.slice(s.length))},t.addEventListener?t.addEventListener("message",a,!1):t.attachEvent("onmessage",a),i=function(e){t.postMessage(s+e,"*")}),d.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),r=0;r<e.length;r++)e[r]=arguments[r+1];var n={callback:t,args:e};return u[h]=n,i(h),h++},d.clearImmediate=p}function p(t){delete u[t]}function f(t){if(l)setTimeout(f,0,t);else{var e=u[t];if(e){l=!0;try{!function(t){var e=t.callback,r=t.args;switch(r.length){case 0:e();break;case 1:e(r[0]);break;case 2:e(r[0],r[1]);break;case 3:e(r[0],r[1],r[2]);break;default:e.apply(void 0,r)}}(e)}finally{p(t),l=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,r(3),r(15))},function(t,e){var r,i,n=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(t){if(r===setTimeout)return setTimeout(t,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:o}catch(t){r=o}try{i="function"==typeof clearTimeout?clearTimeout:s}catch(t){i=s}}();var h,u=[],l=!1,c=-1;function d(){l&&h&&(l=!1,h.length?u=h.concat(u):c=-1,u.length&&p())}function p(){if(!l){var t=a(d);l=!0;for(var e=u.length;e;){for(h=u,u=[];++c<e;)h&&h[c].run();c=-1,e=u.length}h=null,l=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===s||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(t)}}function f(t,e){this.fun=t,this.array=e}function m(){}n.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];u.push(new f(t,e)),1!==u.length||l||a(p)},f.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=m,n.addListener=m,n.once=m,n.off=m,n.removeListener=m,n.removeAllListeners=m,n.emit=m,n.prependListener=m,n.prependOnceListener=m,n.listeners=function(t){return[]},n.binding=function(t){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(t){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},function(t,e,r){(function(t,i){var n;/*! https://mths.be/punycode v1.3.2 by @mathias */!function(o){e&&e.nodeType,t&&t.nodeType;var s="object"==typeof i&&i;s.global!==s&&s.window!==s&&s.self;var a,h=2147483647,u=/^xn--/,l=/[^\x20-\x7E]/,c=/[\x2E\u3002\uFF0E\uFF61]/g,d={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},p=Math.floor,f=String.fromCharCode;function m(t){throw RangeError(d[t])}function v(t,e){for(var r=t.length,i=[];r--;)i[r]=e(t[r]);return i}function g(t,e){var r=t.split("@"),i="";return r.length>1&&(i=r[0]+"@",t=r[1]),i+v((t=t.replace(c,".")).split("."),e).join(".")}function y(t){for(var e,r,i=[],n=0,o=t.length;n<o;)(e=t.charCodeAt(n++))>=55296&&e<=56319&&n<o?56320==(64512&(r=t.charCodeAt(n++)))?i.push(((1023&e)<<10)+(1023&r)+65536):(i.push(e),n--):i.push(e);return i}function _(t){return v(t,(function(t){var e="";return t>65535&&(e+=f((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+=f(t)})).join("")}function x(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function b(t,e,r){var i=0;for(t=r?p(t/700):t>>1,t+=p(t/e);t>455;i+=36)t=p(t/35);return p(i+36*t/(t+38))}function T(t){var e,r,i,n,o,s,a,u,l,c,d,f=[],v=t.length,g=0,y=128,x=72;for((r=t.lastIndexOf("-"))<0&&(r=0),i=0;i<r;++i)t.charCodeAt(i)>=128&&m("not-basic"),f.push(t.charCodeAt(i));for(n=r>0?r+1:0;n<v;){for(o=g,s=1,a=36;n>=v&&m("invalid-input"),((u=(d=t.charCodeAt(n++))-48<10?d-22:d-65<26?d-65:d-97<26?d-97:36)>=36||u>p((h-g)/s))&&m("overflow"),g+=u*s,!(u<(l=a<=x?1:a>=x+26?26:a-x));a+=36)s>p(h/(c=36-l))&&m("overflow"),s*=c;x=b(g-o,e=f.length+1,0==o),p(g/e)>h-y&&m("overflow"),y+=p(g/e),g%=e,f.splice(g++,0,y)}return _(f)}function w(t){var e,r,i,n,o,s,a,u,l,c,d,v,g,_,T,w=[];for(v=(t=y(t)).length,e=128,r=0,o=72,s=0;s<v;++s)(d=t[s])<128&&w.push(f(d));for(i=n=w.length,n&&w.push("-");i<v;){for(a=h,s=0;s<v;++s)(d=t[s])>=e&&d<a&&(a=d);for(a-e>p((h-r)/(g=i+1))&&m("overflow"),r+=(a-e)*g,e=a,s=0;s<v;++s)if((d=t[s])<e&&++r>h&&m("overflow"),d==e){for(u=r,l=36;!(u<(c=l<=o?1:l>=o+26?26:l-o));l+=36)T=u-c,_=36-c,w.push(f(x(c+T%_,0))),u=p(T/_);w.push(f(x(u,0))),o=b(r,g,i==n),r=0,++i}++r,++e}return w.join("")}a={version:"1.3.2",ucs2:{decode:y,encode:_},decode:T,encode:w,toASCII:function(t){return g(t,(function(t){return l.test(t)?"xn--"+w(t):t}))},toUnicode:function(t){return g(t,(function(t){return u.test(t)?T(t.slice(4).toLowerCase()):t}))}},void 0===(n=function(){return a}.call(e,r,e,t))||(t.exports=n)}()}).call(this,r(17)(t),r(3))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,r){"use strict";t.exports={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"==typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}},function(t,e,r){"use strict";e.decode=e.parse=r(20),e.encode=e.stringify=r(21)},function(t,e,r){"use strict";function i(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,e,r,o){e=e||"&",r=r||"=";var s={};if("string"!=typeof t||0===t.length)return s;var a=/\+/g;t=t.split(e);var h=1e3;o&&"number"==typeof o.maxKeys&&(h=o.maxKeys);var u=t.length;h>0&&u>h&&(u=h);for(var l=0;l<u;++l){var c,d,p,f,m=t[l].replace(a,"%20"),v=m.indexOf(r);v>=0?(c=m.substr(0,v),d=m.substr(v+1)):(c=m,d=""),p=decodeURIComponent(c),f=decodeURIComponent(d),i(s,p)?n(s[p])?s[p].push(f):s[p]=[s[p],f]:s[p]=f}return s};var n=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},function(t,e,r){"use strict";var i=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,e,r,a){return e=e||"&",r=r||"=",null===t&&(t=void 0),"object"==typeof t?o(s(t),(function(s){var a=encodeURIComponent(i(s))+r;return n(t[s])?o(t[s],(function(t){return a+encodeURIComponent(i(t))})).join(e):a+encodeURIComponent(i(t[s]))})).join(e):a?encodeURIComponent(i(a))+r+encodeURIComponent(i(t)):""};var n=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function o(t,e){if(t.map)return t.map(e);for(var r=[],i=0;i<t.length;i++)r.push(e(t[i],i));return r}var s=Object.keys||function(t){var e=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.push(r);return e}},function(t,e,r){"use strict";e.__esModule=!0;var i=r(23),n=r(24),o=r(25),s=r(26),a=r(27),h=r(28),u=r(7),l=r(4);e.countLife=l.life;var c=[];e.roadsList=[],e.treesList=[];var d=[],p=[];e.player=new i.Player(l.mainScreen.width/2,l.mainScreen.height-20,"./img/player.png");var f=new h.Text(String(e.countLife)),m=function(t,r){return!e.treesList.some((function(e){return Math.abs(e.x-t)<30&&e.y===r}))&&!(Math.abs(e.player.x-t)<30&&e.player.y===r)};e.setupRoads=function(){l.roads.forEach((function(t,r){var i=new n.Road(t.type,t.y);if(e.roadsList.push(i),"plant"===t.type)for(var s=Math.round(3*Math.random()+3),a=1;a<=s;a++){for(var h=Math.round(570*Math.random()+15);!m(h,t.y+20);)h=Math.round(570*Math.random()+15);var u=new o.Tree(h,t.y+20);e.treesList.push(u)}"road"!==t.type&&"water"!==t.type||p.push(i)}))};e.keyDown=function(t){var e=t.keyCode;c[e]=!0,console.log(e)},e.keyUp=function(t){var e=t.keyCode;c[e]=!1},e.gameLoop=function(){u.container.addChild(f);var t={x:0,y:0};(c[87]||c[38])&&(t.y=-l.speed),(c[83]||c[40])&&(t.y=l.speed),(c[68]||c[39])&&(t.x=l.speed),(c[65]||c[37])&&(t.x=-l.speed),(t.x||t.y)&&(e.treesList.some((function(r){return i=e.player,n=t.x,o=t.y,s=r,a=i.getBounds(),h=s.getBounds(),a.x+n+a.width>=h.x&&a.x+n<=h.x+h.width&&a.y+o+a.height>=h.y&&a.y+o<=h.y+h.height;var i,n,o,s,a,h}))||e.player.move(t.x,t.y)),e.player.onBaulk=!1,d.forEach((function(t){var r,n,o,s,a,c,d,p;"car"===t.typeItem&&(r=e.player,n=t,o=r.getBounds(),s=n.getBounds(),o.x+o.width>s.x&&o.x<s.x+s.width&&o.y+o.height>s.y&&o.y<s.y+s.height)&&(u.container.removeChild(e.player),u.container.removeChild(f),e.countLife--,f=new h.Text(String(e.countLife)),u.container.addChild(f),0!==e.countLife&&(e.player=new i.Player(l.mainScreen.width/2,l.mainScreen.height-15,"./img/player.png"),u.container.addChild(e.player))),"baulk"===t.typeItem&&(a=e.player,c=t,d=a.getBounds(),p=c.getBounds(),d.x+d.width-16>p.x&&d.x+16<p.x+p.width&&d.y+d.height-16>p.y&&d.y+16<p.y+p.height)&&(e.player.onBaulk=!0,e.player.swim(t.x))})),p.forEach((function(t){if(t.canCreateItem){var r="right"===t.direction?"./img/truck-right.png":"./img/truck-left.png",n="road"===t.type?new s.Car(t.centerRoad,r,t.direction):new a.Baulk(t.centerRoad,t.direction);u.container.addChild(n),d.push(n),t.canCreateItem=!1,t.waitingForCreateItem()}var o,c,p,m;"water"===t.type&&(o=e.player,c=t,p=o.getBounds(),m=c.getBounds(),p.x+p.width-20>=m.x&&p.x+20<=m.x+m.width&&p.y+p.height-20>=m.y&&p.y+20<=m.y+m.height)&&!e.player.onBaulk&&(u.container.removeChild(e.player),u.container.removeChild(f),e.countLife--,f=new h.Text(String(e.countLife)),u.container.addChild(f),0!==e.countLife&&(e.player=new i.Player(l.mainScreen.width/2,l.mainScreen.height-15,"./img/player.png"),u.container.addChild(e.player)))})),u.container.sortChildren(),d.forEach((function(t){t.move(),(t.x>630||t.x<-30)&&(t.dead=!0)})),d.forEach((function(t,e){t.dead&&(u.container.removeChild(t),d.splice(e,1))})),e.countLife<1&&u.app.ticker.stop()}},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});e.__esModule=!0;var o=r(2),s=r(4),a=function(t){function e(e,r,i){var n=t.call(this,o.Texture.from(i))||this;return n.anchor.set(.5),n.x=e,n.y=r,n.zIndex=2,n.onBaulk=!1,n}return n(e,t),e.prototype.move=function(t,e){this.x+t>=15&&this.x+t<=s.mainScreen.width-15&&(this.x+=t),this.y+e>=15&&this.y+e<=s.mainScreen.height-15&&(this.y+=e)},e.prototype.swim=function(t){t>=15&&t<=s.mainScreen.width-15&&(this.x=t)},e}(o.Sprite);e.Player=a},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});e.__esModule=!0;var o=function(t){function e(e,r){var i=t.call(this)||this,n=function(t){switch(t){case"plant":return 13408563;case"road":return 11184810;case"water":return 44270;default:return 11184810}}(e);return i.lineStyle(1,16777215,1),i.beginFill(n,.25),i.drawRect(0,r,600,40),i.endFill(),i.direction=Math.random()>.5?"left":"right",i.centerRoad=r+20,i.canCreateItem=!0,i.type=e,i}return n(e,t),e.prototype.waitingForCreateItem=function(){var t=this,e=Math.round(2e3*Math.random()+1e3);setTimeout((function(){t.canCreateItem=!0}),e)},e}(r(2).Graphics);e.Road=o},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});e.__esModule=!0;var o=function(t){function e(e,r){var i=t.call(this)||this;return i.beginFill(4090131),i.drawCircle(e,r,15),i.endFill(),i}return n(e,t),e}(r(2).Graphics);e.Tree=o},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});e.__esModule=!0;var o=r(2),s=r(4),a=function(t){function e(e,r,i){var n=t.call(this,o.Texture.from(r))||this;return n.typeItem="car",n.anchor.set(.5),n.x="right"===i?16:584,n.y=e,n.direction=i,n.zIndex=1,n}return n(e,t),e.prototype.move=function(){"right"===this.direction?this.x+=s.speed:this.x-=s.speed},e}(o.Sprite);e.Car=a},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});e.__esModule=!0;var o=r(2),s=r(4),a=function(t){function e(e,r){var i=t.call(this,o.Texture.from("./img/baulk.png"))||this;return i.typeItem="baulk",i.anchor.set(.5),i.x="right"===r?-30:630,i.y=e,i.direction=r,i.zIndex=1,i}return n(e,t),e.prototype.move=function(){"right"===this.direction?this.x+=s.speed:this.x-=s.speed},e}(o.Sprite);e.Baulk=a},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});e.__esModule=!0;var o=r(2),s=function(t){function e(e){var r=t.call(this,"L: "+e)||this;return r.anchor.set(.5),r.x=20,r.y=10,r.style=new o.TextStyle({fill:0,fontSize:20,fontFamily:"Arial",fontStyle:"bold",stroke:16777215,strokeThickness:3}),r}return n(e,t),e}(o.Text);e.Text=s}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21pbmktc2lnbmFscy9saWIvbWluaS1zaWduYWxzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9pc21vYmlsZWpzL2Rpc3QvaXNNb2JpbGUubWluLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcGl4aS9zZXR0aW5ncy9saWIvc2V0dGluZ3MuZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BwaXhpL2NvbnN0YW50cy9saWIvY29uc3RhbnRzLmVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcGl4aS91dGlscy9saWIvdXRpbHMuZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BwaXhpL21hdGgvbGliL21hdGguZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BwaXhpL2Rpc3BsYXkvbGliL2Rpc3BsYXkuZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BwaXhpL2FjY2Vzc2liaWxpdHkvbGliL2FjY2Vzc2liaWxpdHkuZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BwaXhpL3J1bm5lci9saWIvcnVubmVyLmVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcGl4aS90aWNrZXIvbGliL3RpY2tlci5lcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBpeGkvY29yZS9saWIvY29yZS5lcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBpeGkvZXh0cmFjdC9saWIvZXh0cmFjdC5lcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBpeGkvaW50ZXJhY3Rpb24vbGliL2ludGVyYWN0aW9uLmVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcGl4aS9ncmFwaGljcy9saWIvZ3JhcGhpY3MuZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BwaXhpL3Nwcml0ZS9saWIvc3ByaXRlLmVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcGl4aS90ZXh0L2xpYi90ZXh0LmVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcGl4aS9wcmVwYXJlL2xpYi9wcmVwYXJlLmVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcGl4aS9hcHAvbGliL2FwcC5lcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVzb3VyY2UtbG9hZGVyL2Rpc3QvcmVzb3VyY2UtbG9hZGVyLmVzbS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBpeGkvbG9hZGVycy9saWIvbG9hZGVycy5lcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBpeGkvcGFydGljbGVzL2xpYi9wYXJ0aWNsZXMuZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BwaXhpL3Nwcml0ZXNoZWV0L2xpYi9zcHJpdGVzaGVldC5lcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBpeGkvc3ByaXRlLXRpbGluZy9saWIvc3ByaXRlLXRpbGluZy5lcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBpeGkvdGV4dC1iaXRtYXAvbGliL3RleHQtYml0bWFwLmVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcGl4aS9maWx0ZXItYWxwaGEvbGliL2ZpbHRlci1hbHBoYS5lcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBpeGkvZmlsdGVyLWJsdXIvbGliL2ZpbHRlci1ibHVyLmVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcGl4aS9maWx0ZXItY29sb3ItbWF0cml4L2xpYi9maWx0ZXItY29sb3ItbWF0cml4LmVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcGl4aS9maWx0ZXItZGlzcGxhY2VtZW50L2xpYi9maWx0ZXItZGlzcGxhY2VtZW50LmVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcGl4aS9maWx0ZXItZnhhYS9saWIvZmlsdGVyLWZ4YWEuZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BwaXhpL2ZpbHRlci1ub2lzZS9saWIvZmlsdGVyLW5vaXNlLmVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcGl4aS9taXhpbi1jYWNoZS1hcy1iaXRtYXAvbGliL21peGluLWNhY2hlLWFzLWJpdG1hcC5lcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBpeGkvbWl4aW4tZ2V0LWNoaWxkLWJ5LW5hbWUvbGliL21peGluLWdldC1jaGlsZC1ieS1uYW1lLmVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcGl4aS9taXhpbi1nZXQtZ2xvYmFsLXBvc2l0aW9uL2xpYi9taXhpbi1nZXQtZ2xvYmFsLXBvc2l0aW9uLmVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcGl4aS9tZXNoL2xpYi9tZXNoLmVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcGl4aS9tZXNoLWV4dHJhcy9saWIvbWVzaC1leHRyYXMuZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BwaXhpL3Nwcml0ZS1hbmltYXRlZC9saWIvc3ByaXRlLWFuaW1hdGVkLmVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9waXhpLmVzLmpzIiwid2VicGFjazovLy8od2VicGFjaykvYnVpbGRpbi9nbG9iYWwuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbmZpZy50cyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdXJsL3VybC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGFyc2UtdXJpL2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy92aWV3LnRzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ldmVudGVtaXR0ZXIzL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9lYXJjdXQvc3JjL2VhcmN1dC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZXM2LXByb21pc2UtcG9seWZpbGwvcHJvbWlzZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvb2JqZWN0LWFzc2lnbi9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBpeGkvcG9seWZpbGwvbGliL3BvbHlmaWxsLmVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy90aW1lcnMtYnJvd3NlcmlmeS9tYWluLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9zZXRpbW1lZGlhdGUvc2V0SW1tZWRpYXRlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9wcm9jZXNzL2Jyb3dzZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3B1bnljb2RlL3B1bnljb2RlLmpzIiwid2VicGFjazovLy8od2VicGFjaykvYnVpbGRpbi9tb2R1bGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3VybC91dGlsLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9xdWVyeXN0cmluZy1lczMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3F1ZXJ5c3RyaW5nLWVzMy9kZWNvZGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3F1ZXJ5c3RyaW5nLWVzMy9lbmNvZGUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbnRyb2xsZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vZGVscy9wbGF5ZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vZGVscy9yb2FkLnRzIiwid2VicGFjazovLy8uL3NyYy9tb2RlbHMvdHJlZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbW9kZWxzL2Nhci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbW9kZWxzL2JhdWxrLnRzIiwid2VicGFjazovLy8uL3NyYy9tb2RlbHMvdGV4dExpZmUudHMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJfY3JlYXRlQ2xhc3MiLCJkZWZpbmVQcm9wZXJ0aWVzIiwidGFyZ2V0IiwicHJvcHMiLCJsZW5ndGgiLCJkZXNjcmlwdG9yIiwiY29uZmlndXJhYmxlIiwid3JpdGFibGUiLCJDb25zdHJ1Y3RvciIsInByb3RvUHJvcHMiLCJzdGF0aWNQcm9wcyIsIl9jbGFzc0NhbGxDaGVjayIsImluc3RhbmNlIiwiVHlwZUVycm9yIiwiTWluaVNpZ25hbEJpbmRpbmciLCJmbiIsIm9uY2UiLCJ0aGlzQXJnIiwidW5kZWZpbmVkIiwidGhpcyIsIl9mbiIsIl9vbmNlIiwiX3RoaXNBcmciLCJfbmV4dCIsIl9wcmV2IiwiX293bmVyIiwiZGV0YWNoIiwiX2FkZE1pbmlTaWduYWxCaW5kaW5nIiwic2VsZiIsIm5vZGUiLCJfaGVhZCIsIl90YWlsIiwiTWluaVNpZ25hbCIsImV4aXN0cyIsImFyZ3VtZW50cyIsImVlIiwicHVzaCIsIkVycm9yIiwiYXBwbHkiLCJhIiwiYiIsImYiLCJ1IiwiaCIsInYiLCJ3IiwiZSIsInRlc3QiLCJuYXZpZ2F0b3IiLCJ1c2VyQWdlbnQiLCJzcGxpdCIsImFwcGxlIiwicGhvbmUiLCJpcG9kIiwidGFibGV0IiwiZGV2aWNlIiwiYW1hem9uIiwiYW5kcm9pZCIsIndpbmRvd3MiLCJvdGhlciIsImJsYWNrYmVycnkiLCJibGFja2JlcnJ5MTAiLCJvcGVyYSIsImZpcmVmb3giLCJjaHJvbWUiLCJhbnkiLCJ3aW5kb3ciLCJpc01vYmlsZSIsIkVOViIsIlJFTkRFUkVSX1RZUEUiLCJCTEVORF9NT0RFUyIsIkRSQVdfTU9ERVMiLCJGT1JNQVRTIiwiVEFSR0VUUyIsIlRZUEVTIiwiU0NBTEVfTU9ERVMiLCJXUkFQX01PREVTIiwiTUlQTUFQX01PREVTIiwiQUxQSEFfTU9ERVMiLCJHQ19NT0RFUyIsIlBSRUNJU0lPTiIsIk1BU0tfVFlQRVMiLCJzZXR0aW5ncyIsIk1JUE1BUF9URVhUVVJFUyIsIkFOSVNPVFJPUElDX0xFVkVMIiwiUkVTT0xVVElPTiIsIkZJTFRFUl9SRVNPTFVUSU9OIiwiU1BSSVRFX01BWF9URVhUVVJFUyIsIm1heCIsImFsbG93TWF4IiwibWF0Y2giLCJwYXJzZUludCIsIm1hdGNoJDEiLCJtYXhSZWNvbW1lbmRlZFRleHR1cmVzIiwiU1BSSVRFX0JBVENIX1NJWkUiLCJSRU5ERVJfT1BUSU9OUyIsInZpZXciLCJhbnRpYWxpYXMiLCJmb3JjZUZYQUEiLCJhdXRvRGVuc2l0eSIsInRyYW5zcGFyZW50IiwiYmFja2dyb3VuZENvbG9yIiwiY2xlYXJCZWZvcmVSZW5kZXIiLCJwcmVzZXJ2ZURyYXdpbmdCdWZmZXIiLCJ3aWR0aCIsImhlaWdodCIsImxlZ2FjeSIsIkdDX01PREUiLCJHQ19NQVhfSURMRSIsIkdDX01BWF9DSEVDS19DT1VOVCIsIldSQVBfTU9ERSIsIlNDQUxFX01PREUiLCJQUkVDSVNJT05fVkVSVEVYIiwiUFJFQ0lTSU9OX0ZSQUdNRU5UIiwiQ0FOX1VQTE9BRF9TQU1FX0JVRkZFUiIsIkNSRUFURV9JTUFHRV9CSVRNQVAiLCJST1VORF9QSVhFTFMiLCJSRVRJTkFfUFJFRklYIiwiRkFJTF9JRl9NQUpPUl9QRVJGT1JNQU5DRV9DQVZFQVQiLCJzYWlkSGVsbG8iLCJza2lwSGVsbG8iLCJzYXlIZWxsbyIsInR5cGUiLCJ0b0xvd2VyQ2FzZSIsImluZGV4T2YiLCJhcmdzIiwiY29uc29sZSIsImxvZyIsImlzV2ViR0xTdXBwb3J0ZWQiLCJjb250ZXh0T3B0aW9ucyIsInN0ZW5jaWwiLCJmYWlsSWZNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0IiwiV2ViR0xSZW5kZXJpbmdDb250ZXh0IiwiY2FudmFzIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiZ2wiLCJnZXRDb250ZXh0Iiwic3VjY2VzcyIsImdldENvbnRleHRBdHRyaWJ1dGVzIiwibG9zZUNvbnRleHQiLCJnZXRFeHRlbnNpb24iLCJoZXgycmdiIiwiaGV4Iiwib3V0IiwiaGV4MnN0cmluZyIsInRvU3RyaW5nIiwic3Vic3RyIiwic3RyaW5nMmhleCIsInN0cmluZyIsInJnYjJoZXgiLCJyZ2IiLCJwcmVtdWx0aXBseUJsZW5kTW9kZSIsInBtIiwibnBtIiwiTk9STUFMX05QTSIsIk5PUk1BTCIsIkFERF9OUE0iLCJBREQiLCJTQ1JFRU5fTlBNIiwiU0NSRUVOIiwiYXJyYXkiLCJtYXBQcmVtdWx0aXBsaWVkQmxlbmRNb2RlcyIsImNvcnJlY3RCbGVuZE1vZGUiLCJibGVuZE1vZGUiLCJwcmVtdWx0aXBsaWVkIiwicHJlbXVsdGlwbHlSZ2JhIiwiYWxwaGEiLCJwcmVtdWx0aXBseSIsIkZsb2F0MzJBcnJheSIsInByZW11bHRpcGx5VGludCIsInRpbnQiLCJSIiwiRyIsIkIiLCJwcmVtdWx0aXBseVRpbnRUb1JnYmEiLCJjcmVhdGVJbmRpY2VzRm9yUXVhZHMiLCJzaXplIiwib3V0QnVmZmVyIiwidG90YWxJbmRpY2VzIiwiVWludDE2QXJyYXkiLCJqIiwicmVtb3ZlSXRlbXMiLCJhcnIiLCJzdGFydElkeCIsInJlbW92ZUNvdW50IiwibGVuIiwibmV4dFVpZCIsInVpZCIsInNpZ24iLCJuZXh0UG93MiIsImlzUG93MiIsImxvZzIiLCJzaGlmdCIsIlByb2dyYW1DYWNoZSIsIlRleHR1cmVDYWNoZSIsIkJhc2VUZXh0dXJlQ2FjaGUiLCJkZXN0cm95VGV4dHVyZUNhY2hlIiwiZGVzdHJveSIsImNsZWFyVGV4dHVyZUNhY2hlIiwidHJpbUNhbnZhcyIsIngiLCJ5IiwiY29udGV4dCIsInBpeGVscyIsImdldEltYWdlRGF0YSIsImRhdGEiLCJib3VuZCIsInRvcCIsImxlZnQiLCJyaWdodCIsImJvdHRvbSIsInJlc29sdXRpb24iLCJyZXNpemUiLCJjbGVhciIsInNldFRyYW5zZm9ybSIsImNsZWFyUmVjdCIsInNldCIsInZhbCIsInRlbXBBbmNob3IiLCJEQVRBX1VSSSIsImRlY29tcG9zZURhdGFVcmkiLCJkYXRhVXJpIiwiZGF0YVVyaU1hdGNoIiwiZXhlYyIsIm1lZGlhVHlwZSIsInN1YlR5cGUiLCJjaGFyc2V0IiwiZW5jb2RpbmciLCJkZXRlcm1pbmVDcm9zc09yaWdpbiIsInVybCIsImxvYyIsImxvY2F0aW9uIiwiaHJlZiIsInNhbWVQb3J0IiwicGFyc2UiLCJwb3J0IiwiaG9zdG5hbWUiLCJwcm90b2NvbCIsImdldFJlc29sdXRpb25PZlVybCIsImRlZmF1bHRWYWx1ZSIsInBhcnNlRmxvYXQiLCJ3YXJuaW5ncyIsImRlcHJlY2F0aW9uIiwidmVyc2lvbiIsIm1lc3NhZ2UiLCJpZ25vcmVEZXB0aCIsInN0YWNrIiwid2FybiIsInNwbGljZSIsImpvaW4iLCJncm91cENvbGxhcHNlZCIsImdyb3VwRW5kIiwiU0hBUEVTIiwiUG9pbnQiLCJjbG9uZSIsImNvcHlGcm9tIiwiY29weVRvIiwiZXF1YWxzIiwiT2JzZXJ2YWJsZVBvaW50IiwiY2IiLCJzY29wZSIsIl94IiwiX3kiLCJQSV8yIiwiTWF0aCIsIlBJIiwiUkFEX1RPX0RFRyIsIkRFR19UT19SQUQiLCJNYXRyaXgiLCJ0eCIsInR5IiwiZnJvbUFycmF5IiwidG9BcnJheSIsInRyYW5zcG9zZSIsInBvcyIsIm5ld1BvcyIsImFwcGx5SW52ZXJzZSIsImlkIiwidHJhbnNsYXRlIiwic2NhbGUiLCJyb3RhdGUiLCJhbmdsZSIsImNvcyIsInNpbiIsImExIiwiYzEiLCJ0eDEiLCJhcHBlbmQiLCJtYXRyaXgiLCJiMSIsImQxIiwicGl2b3RYIiwicGl2b3RZIiwic2NhbGVYIiwic2NhbGVZIiwicm90YXRpb24iLCJza2V3WCIsInNrZXdZIiwicHJlcGVuZCIsImRlY29tcG9zZSIsInRyYW5zZm9ybSIsImF0YW4yIiwiZGVsdGEiLCJhYnMiLCJza2V3Iiwic3FydCIsInBvc2l0aW9uIiwiaW52ZXJ0IiwiaWRlbnRpdHkiLCJ1eCIsInV5IiwidngiLCJ2eSIsInJvdGF0aW9uQ2F5bGV5Iiwicm90YXRpb25NYXRyaWNlcyIsInNpZ251bSIsInJvdyIsIl91eCIsIl91eSIsIl92eCIsIl92eSIsImsiLCJtYXQiLCJpbml0IiwiZ3JvdXBEOCIsIkUiLCJTRSIsIlMiLCJTVyIsIlciLCJOVyIsIk4iLCJORSIsIk1JUlJPUl9WRVJUSUNBTCIsIk1BSU5fRElBR09OQUwiLCJNSVJST1JfSE9SSVpPTlRBTCIsIlJFVkVSU0VfRElBR09OQUwiLCJ1WCIsImluZCIsInVZIiwidlgiLCJ2WSIsImludiIsImFkZCIsInJvdGF0aW9uU2Vjb25kIiwicm90YXRpb25GaXJzdCIsInN1YiIsInJvdGF0ZTE4MCIsImlzVmVydGljYWwiLCJieURpcmVjdGlvbiIsImR4IiwiZHkiLCJtYXRyaXhBcHBlbmRSb3RhdGlvbkludiIsIlRyYW5zZm9ybSIsIndvcmxkVHJhbnNmb3JtIiwibG9jYWxUcmFuc2Zvcm0iLCJvbkNoYW5nZSIsInBpdm90IiwidXBkYXRlU2tldyIsIl9yb3RhdGlvbiIsIl9jeCIsIl9zeCIsIl9jeSIsIl9zeSIsIl9sb2NhbElEIiwiX2N1cnJlbnRMb2NhbElEIiwiX3dvcmxkSUQiLCJfcGFyZW50SUQiLCJ1cGRhdGVMb2NhbFRyYW5zZm9ybSIsImx0IiwidXBkYXRlVHJhbnNmb3JtIiwicGFyZW50VHJhbnNmb3JtIiwicHQiLCJ3dCIsInNldEZyb21NYXRyaXgiLCJJREVOVElUWSIsIlJlY3RhbmdsZSIsIk51bWJlciIsIlJFQ1QiLCJyZWN0YW5nbGUiLCJjb250YWlucyIsInBhZCIsInBhZGRpbmdYIiwicGFkZGluZ1kiLCJmaXQiLCJ4MSIsIngyIiwibWluIiwieTEiLCJ5MiIsImNlaWwiLCJlcHMiLCJmbG9vciIsImVubGFyZ2UiLCJDaXJjbGUiLCJyYWRpdXMiLCJDSVJDIiwicjIiLCJnZXRCb3VuZHMiLCJFbGxpcHNlIiwiaGFsZldpZHRoIiwiaGFsZkhlaWdodCIsIkVMSVAiLCJub3JteCIsIm5vcm15IiwiUG9seWdvbiIsImFyZ3VtZW50cyQxIiwicG9pbnRzIiwiX2kiLCJBcnJheSIsImlzQXJyYXkiLCJpbCIsIlBPTFkiLCJjbG9zZVN0cm9rZSIsInBvbHlnb24iLCJzbGljZSIsImluc2lkZSIsInhpIiwieWkiLCJ4aiIsInlqIiwiUm91bmRlZFJlY3RhbmdsZSIsIlJSRUMiLCJyYWRpdXMyIiwiU09SVEFCTEVfQ0hJTERSRU4iLCJCb3VuZHMiLCJtaW5YIiwiSW5maW5pdHkiLCJtaW5ZIiwibWF4WCIsIm1heFkiLCJyZWN0IiwiaXNFbXB0eSIsInVwZGF0ZUlEIiwiZ2V0UmVjdGFuZ2xlIiwiRU1QVFkiLCJhZGRQb2ludCIsInBvaW50IiwiYWRkUXVhZCIsInZlcnRpY2VzIiwiYWRkRnJhbWUiLCJ4MCIsInkwIiwiYWRkRnJhbWVNYXRyaXgiLCJhZGRWZXJ0ZXhEYXRhIiwidmVydGV4RGF0YSIsImJlZ2luT2Zmc2V0IiwiZW5kT2Zmc2V0IiwiYWRkVmVydGljZXMiLCJhZGRWZXJ0aWNlc01hdHJpeCIsInBhZFgiLCJwYWRZIiwicmF3WCIsInJhd1kiLCJhZGRCb3VuZHMiLCJib3VuZHMiLCJhZGRCb3VuZHNNYXNrIiwibWFzayIsIl9taW5YIiwiX21pblkiLCJfbWF4WCIsIl9tYXhZIiwiYWRkQm91bmRzTWF0cml4IiwiYWRkQm91bmRzQXJlYSIsImFyZWEiLCJhZGRGcmFtZVBhZCIsIkV2ZW50RW1pdHRlciIsIkRpc3BsYXlPYmplY3QiLCJ0ZW1wRGlzcGxheU9iamVjdFBhcmVudCIsInZpc2libGUiLCJyZW5kZXJhYmxlIiwicGFyZW50Iiwid29ybGRBbHBoYSIsIl9sYXN0U29ydGVkSW5kZXgiLCJfekluZGV4IiwiZmlsdGVyQXJlYSIsImZpbHRlcnMiLCJfZW5hYmxlZEZpbHRlcnMiLCJfYm91bmRzIiwiX2JvdW5kc0lEIiwiX2xhc3RCb3VuZHNJRCIsIl9ib3VuZHNSZWN0IiwiX2xvY2FsQm91bmRzUmVjdCIsIl9tYXNrIiwiX2Rlc3Ryb3llZCIsImlzU3ByaXRlIiwiaXNNYXNrIiwiX19wcm90b19fIiwiY29uc3RydWN0b3IiLCJwcm90b3R5cGVBY2Nlc3NvcnMiLCJfdGVtcERpc3BsYXlPYmplY3RQYXJlbnQiLCJ6SW5kZXgiLCJ3b3JsZFZpc2libGUiLCJtaXhpbiIsInNvdXJjZSIsImtleXMiLCJwcm9wZXJ0eU5hbWUiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJfcmVjdXJzaXZlUG9zdFVwZGF0ZVRyYW5zZm9ybSIsInNraXBVcGRhdGUiLCJjYWxjdWxhdGVCb3VuZHMiLCJnZXRMb2NhbEJvdW5kcyIsInRyYW5zZm9ybVJlZiIsInBhcmVudFJlZiIsInRvR2xvYmFsIiwiZGlzcGxheU9iamVjdFVwZGF0ZVRyYW5zZm9ybSIsInRvTG9jYWwiLCJmcm9tIiwicmVuZGVyIiwicmVuZGVyZXIiLCJzZXRQYXJlbnQiLCJjb250YWluZXIiLCJhZGRDaGlsZCIsInJlbW92ZUFsbExpc3RlbmVycyIsInJlbW92ZUNoaWxkIiwiX2N1cnJlbnRCb3VuZHMiLCJoaXRBcmVhIiwiaW50ZXJhY3RpdmUiLCJpbnRlcmFjdGl2ZUNoaWxkcmVuIiwic29ydERpcnR5IiwiaXRlbSIsIm1hc2tPYmplY3QiLCJtYXNrT2JqZWN0JDEiLCJzb3J0Q2hpbGRyZW4iLCJDb250YWluZXIiLCJjaGlsZHJlbiIsInNvcnRhYmxlQ2hpbGRyZW4iLCJvbkNoaWxkcmVuQ2hhbmdlIiwiY2hpbGQiLCJhcmd1bWVudHNMZW5ndGgiLCJlbWl0IiwiYWRkQ2hpbGRBdCIsImluZGV4Iiwic3dhcENoaWxkcmVuIiwiY2hpbGQyIiwiaW5kZXgxIiwiZ2V0Q2hpbGRJbmRleCIsImluZGV4MiIsInNldENoaWxkSW5kZXgiLCJjdXJyZW50SW5kZXgiLCJnZXRDaGlsZEF0IiwicmVtb3ZlQ2hpbGRBdCIsInJlbW92ZUNoaWxkcmVuIiwiYmVnaW5JbmRleCIsImVuZEluZGV4IiwicmVtb3ZlZCIsImJlZ2luIiwiZW5kIiwicmFuZ2UiLCJpJDEiLCJSYW5nZUVycm9yIiwic29ydFJlcXVpcmVkIiwic29ydCIsIl9jYWxjdWxhdGVCb3VuZHMiLCJyZW5kZXJBZHZhbmNlZCIsIl9yZW5kZXIiLCJiYXRjaCIsImZsdXNoIiwiZW5hYmxlZCIsImZpbHRlciIsInBvcCIsIm9wdGlvbnMiLCJkZXN0cm95Q2hpbGRyZW4iLCJvbGRDaGlsZHJlbiIsIl93aWR0aCIsIl9oZWlnaHQiLCJjb250YWluZXJVcGRhdGVUcmFuc2Zvcm0iLCJhY2Nlc3NpYmxlVGFyZ2V0IiwiYWNjZXNzaWJsZSIsImFjY2Vzc2libGVUaXRsZSIsImFjY2Vzc2libGVIaW50IiwidGFiSW5kZXgiLCJfYWNjZXNzaWJsZUFjdGl2ZSIsIl9hY2Nlc3NpYmxlRGl2IiwiYWNjZXNzaWJsZVR5cGUiLCJhY2Nlc3NpYmxlUG9pbnRlckV2ZW50cyIsImFjY2Vzc2libGVDaGlsZHJlbiIsIl9ob29rRGl2IiwiY3JlYXRlVG91Y2hIb29rIiwiZGl2Iiwic3R5bGUiLCJESVZfVE9VQ0hfU0laRSIsIkRJVl9UT1VDSF9QT1NfWCIsIkRJVl9UT1VDSF9QT1NfWSIsInBvb2wiLCJyZW5kZXJJZCIsImRlYnVnIiwiX29uS2V5RG93biIsIl9vbk1vdXNlTW92ZSIsImlzQWN0aXZlIiwiaXNNb2JpbGVBY2Nlc3NpYmlsaXR5IiwiYWRkRXZlbnRMaXN0ZW5lciIsInRoaXMkMSIsImhvb2tEaXYiLCJESVZfSE9PS19TSVpFIiwiRElWX0hPT0tfUE9TX1giLCJESVZfSE9PS19QT1NfWSIsInRpdGxlIiwiYWN0aXZhdGUiLCJkZXN0cm95VG91Y2hIb29rIiwiYm9keSIsImFwcGVuZENoaWxkIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIm9uIiwidXBkYXRlIiwicGFyZW50Tm9kZSIsImRlYWN0aXZhdGUiLCJvZmYiLCJ1cGRhdGVBY2Nlc3NpYmxlT2JqZWN0cyIsImRpc3BsYXlPYmplY3QiLCJyZW5kZXJpbmdUb1NjcmVlbiIsIl9sYXN0T2JqZWN0UmVuZGVyZWQiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJzeCIsInN5IiwiY2FwSGl0QXJlYSIsImdldEF0dHJpYnV0ZSIsInNldEF0dHJpYnV0ZSIsInVwZGF0ZURlYnVnSFRNTCIsImlubmVySFRNTCIsImJvcmRlclN0eWxlIiwiX29uQ2xpY2siLCJfb25Gb2N1cyIsIl9vbkZvY3VzT3V0IiwicG9pbnRlckV2ZW50cyIsImludGVyYWN0aW9uTWFuYWdlciIsInBsdWdpbnMiLCJpbnRlcmFjdGlvbiIsImRpc3BhdGNoRXZlbnQiLCJldmVudERhdGEiLCJrZXlDb2RlIiwibW92ZW1lbnRYIiwibW92ZW1lbnRZIiwiVVBEQVRFX1BSSU9SSVRZIiwiUnVubmVyIiwiaXRlbXMiLCJfbmFtZSIsIl9hbGlhc0NvdW50IiwiYTAiLCJhMiIsImEzIiwiYTQiLCJhNSIsImE2IiwiYTciLCJfYSIsImVuc3VyZU5vbkFsaWFzZWRJdGVtcyIsInJlbW92ZSIsInJlbW92ZUFsbCIsImRpc3BhdGNoIiwicnVuIiwiVEFSR0VUX0ZQTVMiLCJUaWNrZXJMaXN0ZW5lciIsInByaW9yaXR5IiwibmV4dCIsInByZXZpb3VzIiwiZGVsdGFUaW1lIiwicmVkaXJlY3QiLCJjb25uZWN0IiwiaGFyZCIsIlRpY2tlciIsIl90aGlzIiwiX3JlcXVlc3RJZCIsIl9tYXhFbGFwc2VkTVMiLCJfbWluRWxhcHNlZE1TIiwiYXV0b1N0YXJ0IiwiZGVsdGFNUyIsImVsYXBzZWRNUyIsImxhc3RUaW1lIiwic3BlZWQiLCJzdGFydGVkIiwiX3Byb3RlY3RlZCIsIl9sYXN0RnJhbWUiLCJfdGljayIsInRpbWUiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJfcmVxdWVzdElmTmVlZGVkIiwicGVyZm9ybWFuY2UiLCJub3ciLCJfY2FuY2VsSWZOZWVkZWQiLCJjYW5jZWxBbmltYXRpb25GcmFtZSIsIl9zdGFydElmUG9zc2libGUiLCJzdGFydCIsIl9hZGRMaXN0ZW5lciIsImFkZE9uY2UiLCJsaXN0ZW5lciIsImN1cnJlbnQiLCJzdG9wIiwiY3VycmVudFRpbWUiLCJoZWFkIiwiZnBzIiwibWluRlBTIiwibWF4RlBTIiwibWluRlBNUyIsInJvdW5kIiwiX3NoYXJlZCIsInNoYXJlZCIsIl9zeXN0ZW0iLCJzeXN0ZW0iLCJUaWNrZXJQbHVnaW4iLCJhc3NpZ24iLCJzaGFyZWRUaWNrZXIiLCJ0aWNrZXIiLCJfdGlja2VyIiwiTE9XIiwib2xkVGlja2VyIiwiZGVzdHJveWVkIiwiaW50ZXJuYWwiLCJvblJlc2l6ZSIsIm9uVXBkYXRlIiwib25FcnJvciIsInZhbGlkIiwiYmFzZVRleHR1cmUiLCJ1bmJpbmQiLCJsb2FkIiwiUHJvbWlzZSIsInJlc29sdmUiLCJ1cGxvYWQiLCJnbFRleHR1cmUiLCJkaXNwb3NlIiwiUmVzb3VyY2UiLCJCYXNlSW1hZ2VSZXNvdXJjZSIsIm5hdHVyYWxXaWR0aCIsInZpZGVvV2lkdGgiLCJuYXR1cmFsSGVpZ2h0IiwidmlkZW9IZWlnaHQiLCJub1N1YkltYWdlIiwiY3Jvc3NPcmlnaW4iLCJlbGVtZW50IiwiY3Jvc3NvcmlnaW4iLCJyZWFsV2lkdGgiLCJyZWFsSGVpZ2h0IiwicGl4ZWxTdG9yZWkiLCJVTlBBQ0tfUFJFTVVMVElQTFlfQUxQSEFfV0VCR0wiLCJhbHBoYU1vZGUiLCJVTlBBQ0siLCJURVhUVVJFXzJEIiwidGV4SW1hZ2UyRCIsImZvcm1hdCIsInRleFN1YkltYWdlMkQiLCJJbWFnZVJlc291cmNlIiwiSFRNTEltYWdlRWxlbWVudCIsImltYWdlRWxlbWVudCIsIkltYWdlIiwic3JjIiwiY29tcGxldGUiLCJfcHJvY2VzcyIsInByZXNlcnZlQml0bWFwIiwiY3JlYXRlQml0bWFwIiwiY3JlYXRlSW1hZ2VCaXRtYXAiLCJwcmVtdWx0aXBseUFscGhhIiwiYml0bWFwIiwiX2xvYWQiLCJhdXRvTG9hZCIsImNvbXBsZXRlZCIsIm9ubG9hZCIsIm9uZXJyb3IiLCJwcm9jZXNzIiwiZXZlbnQiLCJ0aGVuIiwicmVqZWN0IiwiZmxhZyIsIl9nbFRleHR1cmVzIiwib3RoZXJUZXgiLCJkaXJ0eUlkIiwiY2xvc2UiLCJJTlNUQUxMRUQiLCJhdXRvRGV0ZWN0UmVzb3VyY2UiLCJleHRlbnNpb24iLCJyZXN1bHQiLCJSZXNvdXJjZVBsdWdpbiIsIkJ1ZmZlclJlc291cmNlIiwicmVmIiwiaW50ZXJuYWxGb3JtYXQiLCJVaW50OEFycmF5IiwiVWludDMyQXJyYXkiLCJkZWZhdWx0QnVmZmVyT3B0aW9ucyIsInNjYWxlTW9kZSIsIk5FQVJFU1QiLCJSR0JBIiwiTlBNIiwiQmFzZVRleHR1cmUiLCJyZXNvdXJjZSIsIm1pcG1hcCIsImFuaXNvdHJvcGljTGV2ZWwiLCJ3cmFwTW9kZSIsInJlc291cmNlT3B0aW9ucyIsIlVOU0lHTkVEX0JZVEUiLCJ0b3VjaGVkIiwiaXNQb3dlck9mVHdvIiwiX3JlZnJlc2hQT1QiLCJkaXJ0eVN0eWxlSWQiLCJjYWNoZUlkIiwidGV4dHVyZUNhY2hlSWRzIiwiX2JhdGNoRW5hYmxlZCIsIl9iYXRjaExvY2F0aW9uIiwic2V0UmVzb3VyY2UiLCJzZXRTdHlsZSIsImRpcnR5Iiwic2V0U2l6ZSIsInNldFJlYWxTaXplIiwic2V0UmVzb2x1dGlvbiIsIm9sZFJlc29sdXRpb24iLCJyZW1vdmVGcm9tQ2FjaGUiLCJzdHJpY3QiLCJTVFJJQ1RfVEVYVFVSRV9DQUNIRSIsImlzRnJhbWUiLCJfcGl4aUlkIiwiYWRkVG9DYWNoZSIsImZyb21CdWZmZXIiLCJidWZmZXIiLCJGTE9BVCIsImJhc2VUZXh0dXJlRnJvbUNhY2hlIiwiX2dsb2JhbEJhdGNoIiwiQXJyYXlSZXNvdXJjZSIsInVybHMiLCJpdGVtRGlydHlJZHMiLCJwYXJ0VGV4dHVyZSIsImFkZFJlc291cmNlQXQiLCJURVhUVVJFXzJEX0FSUkFZIiwicmVzb3VyY2VzIiwibWFwIiwicHJvbWlzZXMiLCJhbGwiLCJ0ZXh0dXJlIiwidGV4SW1hZ2UzRCIsInRleFN1YkltYWdlM0QiLCJDYW52YXNSZXNvdXJjZSIsIk9mZnNjcmVlbkNhbnZhcyIsIkhUTUxDYW52YXNFbGVtZW50IiwiQ3ViZVJlc291cmNlIiwiU0lERVMiLCJURVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1giLCJURVhUVVJFX0NVQkVfTUFQIiwic2lkZSIsIlNWR1Jlc291cmNlIiwic3ZnIiwiX292ZXJyaWRlV2lkdGgiLCJfb3ZlcnJpZGVIZWlnaHQiLCJfcmVzb2x2ZSIsIl9jcm9zc29yaWdpbiIsInRyaW0iLCJidG9hIiwidW5lc2NhcGUiLCJlbmNvZGVVUklDb21wb25lbnQiLCJfbG9hZFN2ZyIsInRlbXBJbWFnZSIsInN2Z1dpZHRoIiwic3ZnSGVpZ2h0IiwiZHJhd0ltYWdlIiwiZ2V0U2l6ZSIsInN2Z1N0cmluZyIsInNpemVNYXRjaCIsIlNWR19TSVpFIiwiVmlkZW9SZXNvdXJjZSIsIkhUTUxWaWRlb0VsZW1lbnQiLCJ2aWRlb0VsZW1lbnQiLCJzb3VyY2VFbGVtZW50IiwibWltZSIsImJhc2VTcmMiLCJleHQiLCJsYXN0SW5kZXhPZiIsIl9hdXRvVXBkYXRlIiwiX2lzQXV0b1VwZGF0aW5nIiwiX3VwZGF0ZUZQUyIsInVwZGF0ZUZQUyIsIl9tc1RvTmV4dFVwZGF0ZSIsImF1dG9QbGF5IiwiX29uQ2FuUGxheSIsIl9vbkVycm9yIiwiYXV0b1VwZGF0ZSIsInBsYXliYWNrUmF0ZSIsInJlYWR5U3RhdGUiLCJIQVZFX0VOT1VHSF9EQVRBIiwiSEFWRV9GVVRVUkVfREFUQSIsIl9vblBsYXlTdGFydCIsIl9vblBsYXlTdG9wIiwiX2lzU291cmNlUmVhZHkiLCJfaXNTb3VyY2VQbGF5aW5nIiwicGF1c2VkIiwiZW5kZWQiLCJwbGF5IiwicGF1c2UiLCJJbWFnZUJpdG1hcFJlc291cmNlIiwiSW1hZ2VCaXRtYXAiLCJEZXB0aFJlc291cmNlIiwiREVQVEhfQ09NUE9ORU5UMTYiLCJkZXB0aCIsImRpcnR5Rm9ybWF0IiwiZGlydHlTaXplIiwiZGVwdGhUZXh0dXJlIiwiY29sb3JUZXh0dXJlcyIsImdsRnJhbWVidWZmZXJzIiwiZGlzcG9zZVJ1bm5lciIsInByb3RvdHlwZUFjY2Vzc29ycyQxIiwiY29sb3JUZXh0dXJlIiwiYWRkQ29sb3JUZXh0dXJlIiwiYWRkRGVwdGhUZXh0dXJlIiwiREVQVEhfQ09NUE9ORU5UIiwiVU5TSUdORURfU0hPUlQiLCJlbmFibGVEZXB0aCIsImVuYWJsZVN0ZW5jaWwiLCJyZXNvbHV0aW9uJDEiLCJCYXNlUmVuZGVyVGV4dHVyZSIsIndpZHRoJDEiLCJoZWlnaHQkMSIsIl9jYW52YXNSZW5kZXJUYXJnZXQiLCJjbGVhckNvbG9yIiwiZnJhbWVidWZmZXIiLCJtYXNrU3RhY2siLCJmaWx0ZXJTdGFjayIsIlRleHR1cmVVdnMiLCJ4MyIsInkzIiwidXZzRmxvYXQzMiIsImZyYW1lIiwiYmFzZUZyYW1lIiwidHciLCJ0aCIsIncyIiwiaDIiLCJjWCIsImNZIiwiREVGQVVMVF9VVlMiLCJUZXh0dXJlIiwib3JpZyIsImFuY2hvciIsIm5vRnJhbWUiLCJfZnJhbWUiLCJyZXF1aXJlc1VwZGF0ZSIsIl91dnMiLCJ1dk1hdHJpeCIsIl9yb3RhdGUiLCJkZWZhdWx0QW5jaG9yIiwiX3VwZGF0ZUlEIiwib25CYXNlVGV4dHVyZVVwZGF0ZWQiLCJ1cGRhdGVVdnMiLCJkZXN0cm95QmFzZSIsImZyb21Mb2FkZXIiLCJpbWFnZVVybCIsInRleHR1cmVGcm9tQ2FjaGUiLCJ4Tm90Rml0IiwieU5vdEZpdCIsInJlbGF0aW9uc2hpcCIsImVycm9yWCIsImVycm9yWSIsInJlbW92ZUFsbEhhbmRsZXJzIiwidGV4IiwiV0hJVEUiLCJmaWxsU3R5bGUiLCJmaWxsUmVjdCIsImNyZWF0ZVdoaXRlVGV4dHVyZSIsIlJlbmRlclRleHR1cmUiLCJiYXNlUmVuZGVyVGV4dHVyZSIsIl9sZWdhY3lSZW5kZXJlciIsImxlZ2FjeVJlbmRlcmVyIiwiZmlsdGVyRnJhbWUiLCJmaWx0ZXJQb29sS2V5IiwicmVzaXplQmFzZVRleHR1cmUiLCJSZW5kZXJUZXh0dXJlUG9vbCIsInRleHR1cmVPcHRpb25zIiwidGV4dHVyZVBvb2wiLCJlbmFibGVGdWxsU2NyZWVuIiwiX3BpeGVsc1dpZHRoIiwiX3BpeGVsc0hlaWdodCIsImNyZWF0ZVRleHR1cmUiLCJnZXRPcHRpbWFsVGV4dHVyZSIsIm1pbldpZHRoIiwibWluSGVpZ2h0IiwiU0NSRUVOX0tFWSIsInJlbmRlclRleHR1cmUiLCJnZXRGaWx0ZXJUZXh0dXJlIiwiaW5wdXQiLCJmaWx0ZXJUZXh0dXJlIiwicmV0dXJuVGV4dHVyZSIsInJldHVybkZpbHRlclRleHR1cmUiLCJkZXN0cm95VGV4dHVyZXMiLCJ0ZXh0dXJlcyIsInNldFNjcmVlblNpemUiLCJzY3JlZW5LZXkiLCJBdHRyaWJ1dGUiLCJub3JtYWxpemVkIiwic3RyaWRlIiwiVUlEIiwiX3N0YXRpYyIsIl9nbEJ1ZmZlcnMiLCJzdGF0aWMiLCJnZXRCdWZmZXJUeXBlIiwiQllURVNfUEVSX0VMRU1FTlQiLCJJbnQzMkFycmF5IiwiYnl0ZVNpemVNYXAiLCI1MTI2IiwiNTEyMyIsIjUxMjEiLCJVSUQkMSIsIm1hcCQxIiwiYnVmZmVycyIsImF0dHJpYnV0ZXMiLCJpbmRleEJ1ZmZlciIsImdsVmVydGV4QXJyYXlPYmplY3RzIiwiaW5zdGFuY2VkIiwiaW5zdGFuY2VDb3VudCIsInJlZkNvdW50IiwiYWRkQXR0cmlidXRlIiwiaWRzIiwiYnVmZmVySW5kZXgiLCJnZXRCdWZmZXIiLCJhZGRJbmRleCIsImdldEluZGV4IiwiaW50ZXJsZWF2ZSIsImFycmF5cyIsInNpemVzIiwiaW50ZXJsZWF2ZWRCdWZmZXIiLCJhdHRyaWJ1dGUiLCJvdXRTaXplIiwidmlld3MiLCJBcnJheUJ1ZmZlciIsImxpdHRsZU9mZnNldCIsImludGVybGVhdmVUeXBlZEFycmF5cyIsImdlb21ldHJ5IiwiYXR0cmliIiwibWVyZ2UiLCJnZW9tZXRyaWVzIiwiZ2VvbWV0cnlPdXQiLCJvZmZzZXRzIiwiaSQyIiwiaiQxIiwib2Zmc2V0Iiwib2Zmc2V0MiIsImJ1ZmZlckluZGV4VG9Db3VudCIsImkkMyIsImkkNCIsImkkNSIsImluZGV4QnVmZmVyRGF0YSIsImokMiIsIlF1YWQiLCJHZW9tZXRyeSIsIlF1YWRVdiIsInV2cyIsInZlcnRleEJ1ZmZlciIsInV2QnVmZmVyIiwidGFyZ2V0VGV4dHVyZUZyYW1lIiwiZGVzdGluYXRpb25GcmFtZSIsImludmFsaWRhdGUiLCJVSUQkMiIsIlVuaWZvcm1Hcm91cCIsInVuaWZvcm1zIiwiZ3JvdXAiLCJzeW5jVW5pZm9ybXMiLCJzb3VyY2VGcmFtZSIsIlN5c3RlbSIsIkZpbHRlclN5c3RlbSIsImRlZmF1bHRGaWx0ZXJTdGFjayIsInN0YXRlUG9vbCIsInF1YWQiLCJxdWFkVXYiLCJ0ZW1wUmVjdCIsImFjdGl2ZVN0YXRlIiwiZ2xvYmFsVW5pZm9ybXMiLCJvdXRwdXRGcmFtZSIsImlucHV0U2l6ZSIsImlucHV0UGl4ZWwiLCJpbnB1dENsYW1wIiwiZmlsdGVyQ2xhbXAiLCJzdGF0ZSIsInBhZGRpbmciLCJhdXRvRml0IiwiZ2V0T3B0aW1hbEZpbHRlclRleHR1cmUiLCJsYXN0U3RhdGUiLCJmbGlwIiwiZmxvcCIsImFwcGx5RmlsdGVyIiwib3V0cHV0IiwidVNhbXBsZXIiLCJmaWx0ZXJHbG9iYWxzIiwic2hhZGVyIiwiZHJhdyIsIlRSSUFOR0xFUyIsIlRSSUFOR0xFX1NUUklQIiwiY2FsY3VsYXRlU3ByaXRlTWF0cml4Iiwib3V0cHV0TWF0cml4Iiwic3ByaXRlIiwiX3RleHR1cmUiLCJtYXBwZWRNYXRyaXgiLCJURU1QX01BVFJJWCIsInN3YXAiLCJlbXB0eVBvb2wiLCJCYXRjaFN5c3RlbSIsImVtcHR5UmVuZGVyZXIiLCJjdXJyZW50UmVuZGVyZXIiLCJzZXRPYmplY3RSZW5kZXJlciIsIm9iamVjdFJlbmRlcmVyIiwicmVzZXQiLCJjb3B5Qm91bmRUZXh0dXJlcyIsIm1heFRleHR1cmVzIiwiYm91bmRUZXh0dXJlcyIsImJvdW5kQXJyYXkiLCJ0ZXhBcnJheSIsImJhdGNoSWQiLCJlbGVtZW50cyIsImNvdW50IiwiUFJFRkVSX0VOViIsIldFQkdMIiwiV0VCR0wyIiwiQ09OVEVYVF9VSUQiLCJDb250ZXh0U3lzdGVtIiwid2ViR0xWZXJzaW9uIiwiZXh0ZW5zaW9ucyIsImhhbmRsZUNvbnRleHRMb3N0IiwiaGFuZGxlQ29udGV4dFJlc3RvcmVkIiwiaXNMb3N0IiwiaXNDb250ZXh0TG9zdCIsImNvbnRleHRDaGFuZ2UiLCJyZXN0b3JlQ29udGV4dCIsImluaXRGcm9tQ29udGV4dCIsInZhbGlkYXRlQ29udGV4dCIsInJ1bm5lcnMiLCJpbml0RnJvbU9wdGlvbnMiLCJjcmVhdGVDb250ZXh0IiwiZ2V0RXh0ZW5zaW9ucyIsImRyYXdCdWZmZXJzIiwidmVydGV4QXJyYXlPYmplY3QiLCJhbmlzb3Ryb3BpY0ZpbHRlcmluZyIsInVpbnQzMkVsZW1lbnRJbmRleCIsImZsb2F0VGV4dHVyZSIsImZsb2F0VGV4dHVyZUxpbmVhciIsInRleHR1cmVIYWxmRmxvYXQiLCJ0ZXh0dXJlSGFsZkZsb2F0TGluZWFyIiwiY29sb3JCdWZmZXJGbG9hdCIsInByZXZlbnREZWZhdWx0IiwidXNlUHJvZ3JhbSIsInBvc3RyZW5kZXIiLCJGcmFtZWJ1ZmZlclN5c3RlbSIsIm1hbmFnZWRGcmFtZWJ1ZmZlcnMiLCJ1bmtub3duRnJhbWVidWZmZXIiLCJ2aWV3cG9ydCIsImhhc01SVCIsIndyaXRlRGVwdGhUZXh0dXJlIiwiZGlzcG9zZUFsbCIsIm5hdGl2ZURyYXdCdWZmZXJzRXh0ZW5zaW9uIiwibmF0aXZlRGVwdGhUZXh0dXJlRXh0ZW5zaW9uIiwiV0VCR0xfTEVHQUNZIiwiYWN0aXZlVGV4dHVyZXMiLCJkcmF3QnVmZmVyc1dFQkdMIiwiZmJvIiwiaW5pdEZyYW1lYnVmZmVyIiwiYmluZEZyYW1lYnVmZmVyIiwiRlJBTUVCVUZGRVIiLCJ1cGRhdGVGcmFtZWJ1ZmZlciIsInJlc2l6ZUZyYW1lYnVmZmVyIiwidGV4dHVyZVBhcnQiLCJzZXRWaWV3cG9ydCIsImciLCJDT0xPUl9CVUZGRVJfQklUIiwiREVQVEhfQlVGRkVSX0JJVCIsImNyZWF0ZUZyYW1lYnVmZmVyIiwiYmluZFJlbmRlcmJ1ZmZlciIsIlJFTkRFUkJVRkZFUiIsInJlbmRlcmJ1ZmZlclN0b3JhZ2UiLCJERVBUSF9TVEVOQ0lMIiwiZnJhbWVidWZmZXJUZXh0dXJlMkQiLCJDT0xPUl9BVFRBQ0hNRU5UMCIsIlRFWFRVUkVfQ1VCRV9NQVBfTkVHQVRJVkVfWCIsIkRFUFRIX0FUVEFDSE1FTlQiLCJjcmVhdGVSZW5kZXJidWZmZXIiLCJmcmFtZWJ1ZmZlclJlbmRlcmJ1ZmZlciIsIkRFUFRIX1NURU5DSUxfQVRUQUNITUVOVCIsImRpc3Bvc2VGcmFtZWJ1ZmZlciIsImNvbnRleHRMb3N0IiwiZGVsZXRlRnJhbWVidWZmZXIiLCJkZWxldGVSZW5kZXJidWZmZXIiLCJsaXN0IiwiZm9yY2VTdGVuY2lsIiwiR0xCdWZmZXIiLCJieXRlTGVuZ3RoIiwiYnl0ZVNpemVNYXAkMSIsIkdlb21ldHJ5U3lzdGVtIiwiX2FjdGl2ZUdlb21ldHJ5IiwiX2FjdGl2ZVZhbyIsImhhc1ZhbyIsImhhc0luc3RhbmNlIiwiY2FuVXNlVUludDMyRWxlbWVudEluZGV4IiwiYm91bmRCdWZmZXJzIiwibWFuYWdlZEdlb21ldHJpZXMiLCJtYW5hZ2VkQnVmZmVycyIsImNyZWF0ZVZlcnRleEFycmF5IiwibmF0aXZlVmFvRXh0ZW5zaW9uIiwiY3JlYXRlVmVydGV4QXJyYXlPRVMiLCJiaW5kVmVydGV4QXJyYXkiLCJ2YW8iLCJiaW5kVmVydGV4QXJyYXlPRVMiLCJkZWxldGVWZXJ0ZXhBcnJheSIsImRlbGV0ZVZlcnRleEFycmF5T0VTIiwidmVydGV4QXR0cmliRGl2aXNvciIsImluc3RhbmNlRXh0IiwidmVydGV4QXR0cmliRGl2aXNvckFOR0xFIiwiZHJhd0VsZW1lbnRzSW5zdGFuY2VkIiwiZHJhd0VsZW1lbnRzSW5zdGFuY2VkQU5HTEUiLCJkcmF3QXJyYXlzSW5zdGFuY2VkIiwiZHJhd0FycmF5c0luc3RhbmNlZEFOR0xFIiwidmFvcyIsInByb2dyYW0iLCJpbml0R2VvbWV0cnlWYW8iLCJhY3RpdmF0ZVZhbyIsInVwZGF0ZUJ1ZmZlcnMiLCJnbEJ1ZmZlciIsIkVMRU1FTlRfQVJSQVlfQlVGRkVSIiwiQVJSQVlfQlVGRkVSIiwiYmluZEJ1ZmZlciIsIl9ib3VuZEJ1ZmZlciIsImJ1ZmZlclN1YkRhdGEiLCJkcmF3VHlwZSIsIlNUQVRJQ19EUkFXIiwiRFlOQU1JQ19EUkFXIiwiYnVmZmVyRGF0YSIsImNoZWNrQ29tcGF0aWJpbGl0eSIsImdlb21ldHJ5QXR0cmlidXRlcyIsInNoYWRlckF0dHJpYnV0ZXMiLCJhdHRyaWJ1dGVEYXRhIiwiZ2V0U2lnbmF0dXJlIiwiYXR0cmlicyIsInN0cmluZ3MiLCJzaWduYXR1cmUiLCJ2YW9PYmplY3RIYXNoIiwidGVtcFN0cmlkZSIsInRlbXBTdGFydCIsImF0dHJpYlNpemUiLCJjcmVhdGVCdWZmZXIiLCJkaXNwb3NlQnVmZmVyIiwiZGVsZXRlQnVmZmVyIiwiZGlzcG9zZUdlb21ldHJ5IiwiYnVmIiwidmFvSWQiLCJsYXN0QnVmZmVyIiwiZW5hYmxlVmVydGV4QXR0cmliQXJyYXkiLCJ2ZXJ0ZXhBdHRyaWJQb2ludGVyIiwiYnl0ZVNpemUiLCJnbFR5cGUiLCJVTlNJR05FRF9JTlQiLCJkcmF3RWxlbWVudHMiLCJkcmF3QXJyYXlzIiwiTk9ORSIsImF1dG9EZXRlY3QiLCJwb29sZWQiLCJpc01hc2tEYXRhIiwiX3N0ZW5jaWxDb3VudGVyIiwiX3NjaXNzb3JDb3VudGVyIiwiX3NjaXNzb3JSZWN0IiwiX3RhcmdldCIsImNvbXBpbGVQcm9ncmFtIiwidmVydGV4U3JjIiwiZnJhZ21lbnRTcmMiLCJhdHRyaWJ1dGVMb2NhdGlvbnMiLCJnbFZlcnRTaGFkZXIiLCJjb21waWxlU2hhZGVyIiwiVkVSVEVYX1NIQURFUiIsImdsRnJhZ1NoYWRlciIsIkZSQUdNRU5UX1NIQURFUiIsImNyZWF0ZVByb2dyYW0iLCJhdHRhY2hTaGFkZXIiLCJiaW5kQXR0cmliTG9jYXRpb24iLCJsaW5rUHJvZ3JhbSIsImdldFByb2dyYW1QYXJhbWV0ZXIiLCJMSU5LX1NUQVRVUyIsImVycm9yIiwiVkFMSURBVEVfU1RBVFVTIiwiZ2V0RXJyb3IiLCJnZXRQcm9ncmFtSW5mb0xvZyIsImRlbGV0ZVByb2dyYW0iLCJkZWxldGVTaGFkZXIiLCJjcmVhdGVTaGFkZXIiLCJzaGFkZXJTb3VyY2UiLCJnZXRTaGFkZXJQYXJhbWV0ZXIiLCJDT01QSUxFX1NUQVRVUyIsImdldFNoYWRlckluZm9Mb2ciLCJib29sZWFuQXJyYXkiLCJjb3B5Q291bnRlcnNPclJlc2V0IiwibWFza0Fib3ZlIiwibWF4RnJhZ21lbnRQcmVjaXNpb24iLCJ1bmtub3duQ29udGV4dCIsImdldFRlc3RDb250ZXh0Iiwic2V0UHJlY2lzaW9uIiwicmVxdWVzdGVkUHJlY2lzaW9uIiwibWF4U3VwcG9ydGVkUHJlY2lzaW9uIiwic3Vic3RyaW5nIiwicHJlY2lzaW9uIiwiSElHSCIsIk1FRElVTSIsInJlcGxhY2UiLCJHTFNMX1RPX1NJWkUiLCJmbG9hdCIsInZlYzIiLCJ2ZWMzIiwidmVjNCIsImludCIsIml2ZWMyIiwiaXZlYzMiLCJpdmVjNCIsImJvb2wiLCJidmVjMiIsImJ2ZWMzIiwiYnZlYzQiLCJtYXQyIiwibWF0MyIsIm1hdDQiLCJzYW1wbGVyMkQiLCJtYXBTaXplIiwiR0xfVEFCTEUiLCJHTF9UT19HTFNMX1RZUEVTIiwiRkxPQVRfVkVDMiIsIkZMT0FUX1ZFQzMiLCJGTE9BVF9WRUM0IiwiSU5UIiwiSU5UX1ZFQzIiLCJJTlRfVkVDMyIsIklOVF9WRUM0IiwiQk9PTCIsIkJPT0xfVkVDMiIsIkJPT0xfVkVDMyIsIkJPT0xfVkVDNCIsIkZMT0FUX01BVDIiLCJGTE9BVF9NQVQzIiwiRkxPQVRfTUFUNCIsIlNBTVBMRVJfMkQiLCJTQU1QTEVSX0NVQkUiLCJTQU1QTEVSXzJEX0FSUkFZIiwibWFwVHlwZSIsInR5cGVOYW1lcyIsInRuIiwiR0xTTF9UT19TSU5HTEVfU0VUVEVSU19DQUNIRUQiLCJzYW1wbGVyQ3ViZSIsInNhbXBsZXIyREFycmF5IiwiR0xTTF9UT19BUlJBWV9TRVRURVJTIiwidW5zYWZlRXZhbCIsImZyYWdUZW1wbGF0ZSIsImNoZWNrTWF4SWZTdGF0ZW1lbnRzSW5TaGFkZXIiLCJtYXhJZnMiLCJnZW5lcmF0ZUlmVGVzdFNyYyIsIlVJRCQzIiwibmFtZUNhY2hlIiwiUHJvZ3JhbSIsImRlZmF1bHRWZXJ0ZXhTcmMiLCJkZWZhdWx0RnJhZ21lbnRTcmMiLCJnZXRTaGFkZXJQcmVjaXNpb25Gb3JtYXQiLCJzaGFkZXJGcmFnbWVudCIsIkhJR0hfRkxPQVQiLCJnZXRNYXhGcmFnbWVudFByZWNpc2lvbiIsImV4dHJhY3REYXRhIiwiZ2xQcm9ncmFtcyIsImdldEF0dHJpYnV0ZURhdGEiLCJ1bmlmb3JtRGF0YSIsImdldFVuaWZvcm1EYXRhIiwiYXR0cmlidXRlc0FycmF5IiwidG90YWxBdHRyaWJ1dGVzIiwiQUNUSVZFX0FUVFJJQlVURVMiLCJhdHRyaWJEYXRhIiwiZ2V0QWN0aXZlQXR0cmliIiwidG90YWxVbmlmb3JtcyIsIkFDVElWRV9VTklGT1JNUyIsImdldEFjdGl2ZVVuaWZvcm0iLCJ1bmlmb3JtR3JvdXAiLCJwcm90b3R5cGVBY2Nlc3NvcnMkMiIsImNoZWNrVW5pZm9ybUV4aXN0cyIsInVuaWZvcm0iLCJwb2x5Z29uT2Zmc2V0IiwiYmxlbmQiLCJwcm90b3R5cGVBY2Nlc3NvcnMkMyIsImN1bGxpbmciLCJkZXB0aFRlc3QiLCJjbG9ja3dpc2VGcm9udEZhY2UiLCJfYmxlbmRNb2RlIiwiX3BvbHlnb25PZmZzZXQiLCJmb3IyZCIsIlNoYWRlciIsIkZpbHRlciIsImFUZXh0dXJlQ29vcmQiLCJzdGF0aWNBY2Nlc3NvcnMiLCJmaWx0ZXJNYW5hZ2VyIiwiY3VycmVudFN0YXRlIiwiU09VUkNFX0tFWV9NQVAiLCJ0ZW1wTWF0IiwiY2xhbXBNYXJnaW4iLCJtYXBDb29yZCIsInVDbGFtcEZyYW1lIiwidUNsYW1wT2Zmc2V0IiwiY2xhbXBPZmZzZXQiLCJpc1NpbXBsZSIsInByb3RvdHlwZUFjY2Vzc29ycyQ0IiwibXVsdGlwbHlVdnMiLCJmb3JjZVVwZGF0ZSIsInRleEJhc2UiLCJtYXJnaW4iLCJTcHJpdGVNYXNrRmlsdGVyIiwibWFza01hdHJpeCIsIm1hc2tTcHJpdGUiLCJucG1BbHBoYSIsIm90aGVyTWF0cml4IiwibWFza0NsYW1wIiwiTWFza1N5c3RlbSIsInNjaXNzb3JSZW5kZXJUYXJnZXQiLCJlbmFibGVTY2lzc29yIiwiYWxwaGFNYXNrUG9vbCIsIm1hc2tEYXRhUG9vbCIsImFscGhhTWFza0luZGV4Iiwic2V0TWFza1N0YWNrIiwic2Npc3NvciIsIm1hc2tEYXRhIiwiZGV0ZWN0IiwiU0NJU1NPUiIsIlNURU5DSUwiLCJTUFJJVEUiLCJwdXNoU3ByaXRlTWFzayIsInBvcFNwcml0ZU1hc2siLCJpc0Zhc3RSZWN0Iiwicm90WCIsInJvdFhZIiwiYWxwaGFNYXNrRmlsdGVyIiwic3Rhc2hGaWx0ZXJBcmVhIiwiQWJzdHJhY3RNYXNrU3lzdGVtIiwiZ2xDb25zdCIsImdldFN0YWNrTGVuZ3RoIiwiY3VyU3RhY2tMZW4iLCJuZXdTdGFja0xlbiIsImRpc2FibGUiLCJlbmFibGUiLCJfdXNlQ3VycmVudCIsIlNjaXNzb3JTeXN0ZW0iLCJTQ0lTU09SX1RFU1QiLCJwcmV2RGF0YSIsInJ0IiwicHJvamVjdGlvbiIsIlN0ZW5jaWxTeXN0ZW0iLCJTVEVOQ0lMX1RFU1QiLCJwcmV2TWFza0NvdW50IiwiY29sb3JNYXNrIiwic3RlbmNpbEZ1bmMiLCJFUVVBTCIsIl9nZXRCaXR3aXNlTWFzayIsInN0ZW5jaWxPcCIsIktFRVAiLCJJTkNSIiwiU1RFTkNJTF9CVUZGRVJfQklUIiwiY2xlYXJTdGVuY2lsIiwiREVDUiIsIlByb2plY3Rpb25TeXN0ZW0iLCJkZWZhdWx0RnJhbWUiLCJwcm9qZWN0aW9uTWF0cml4Iiwicm9vdCIsImNhbGN1bGF0ZVByb2plY3Rpb24iLCJzeW5jVW5pZm9ybUdyb3VwIiwiZ2xvYmFscyIsIlJlbmRlclRleHR1cmVTeXN0ZW0iLCJfYmFja2dyb3VuZENvbG9yUmdiYSIsImRlZmF1bHRNYXNrU3RhY2siLCJHTFByb2dyYW0iLCJ1bmlmb3JtR3JvdXBzIiwiVUlEJDQiLCJTaGFkZXJTeXN0ZW0iLCJzeXN0ZW1DaGVjayIsImNhY2hlIiwiZnVuYyIsIkZ1bmN0aW9uIiwidW5zYWZlRXZhbFN1cHBvcnRlZCIsImRvbnRTeW5jIiwiZ2xQcm9ncmFtIiwiZ2VuZXJhdGVTaGFkZXIiLCJzZXRVbmlmb3JtcyIsImdldGdsUHJvZ3JhbSIsImNyZWF0ZVN5bmNHcm91cHMiLCJ0ZXh0dXJlQ291bnQiLCJnZW5lcmF0ZVVuaWZvcm1zU3luYyIsImF0dHJpYk1hcCIsInNoYWRlclByb2dyYW0iLCJnZXRVbmlmb3JtTG9jYXRpb24iLCJTdGF0ZVN5c3RlbSIsInN0YXRlSWQiLCJfYmxlbmRFcSIsInNldEJsZW5kIiwic2V0T2Zmc2V0Iiwic2V0Q3VsbEZhY2UiLCJzZXREZXB0aFRlc3QiLCJzZXRGcm9udEZhY2UiLCJjaGVja3MiLCJkZWZhdWx0U3RhdGUiLCJibGVuZE1vZGVzIiwiT05FIiwiT05FX01JTlVTX1NSQ19BTFBIQSIsIk1VTFRJUExZIiwiRFNUX0NPTE9SIiwiT05FX01JTlVTX1NSQ19DT0xPUiIsIk9WRVJMQVkiLCJEQVJLRU4iLCJMSUdIVEVOIiwiQ09MT1JfRE9ER0UiLCJDT0xPUl9CVVJOIiwiSEFSRF9MSUdIVCIsIlNPRlRfTElHSFQiLCJESUZGRVJFTkNFIiwiRVhDTFVTSU9OIiwiSFVFIiwiU0FUVVJBVElPTiIsIkNPTE9SIiwiTFVNSU5PU0lUWSIsIlNSQ19BTFBIQSIsIlNSQ19JTiIsIkRTVF9BTFBIQSIsIlpFUk8iLCJTUkNfT1VUIiwiT05FX01JTlVTX0RTVF9BTFBIQSIsIlNSQ19BVE9QIiwiRFNUX09WRVIiLCJEU1RfSU4iLCJEU1RfT1VUIiwiRFNUX0FUT1AiLCJYT1IiLCJTVUJUUkFDVCIsIkZVTkNfUkVWRVJTRV9TVUJUUkFDVCIsIkZVTkNfQUREIiwibWFwV2ViR0xCbGVuZE1vZGVzVG9QaXhpIiwiZGlmZiIsImZvcmNlU3RhdGUiLCJ1cGRhdGVDaGVjayIsImNoZWNrQmxlbmRNb2RlIiwiQkxFTkQiLCJjaGVja1BvbHlnb25PZmZzZXQiLCJQT0xZR09OX09GRlNFVF9GSUxMIiwiREVQVEhfVEVTVCIsIkNVTExfRkFDRSIsImZyb250RmFjZSIsInNldEJsZW5kTW9kZSIsImJsZW5kRnVuYyIsImJsZW5kRnVuY1NlcGFyYXRlIiwiYmxlbmRFcXVhdGlvblNlcGFyYXRlIiwic2V0UG9seWdvbk9mZnNldCIsIlVOUEFDS19GTElQX1lfV0VCR0wiLCJUZXh0dXJlR0NTeXN0ZW0iLCJjaGVja0NvdW50IiwibWF4SWRsZSIsImNoZWNrQ291bnRNYXgiLCJNQU5VQUwiLCJ0bSIsIm1hbmFnZWRUZXh0dXJlcyIsIndhc1JlbW92ZWQiLCJkZXN0cm95VGV4dHVyZSIsInVubG9hZCIsInRleHR1cmVTeXN0ZW0iLCJfZ2xSZW5kZXJUYXJnZXRzIiwiR0xUZXh0dXJlIiwiVGV4dHVyZVN5c3RlbSIsImN1cnJlbnRMb2NhdGlvbiIsIl91bmtub3duQm91bmRUZXh0dXJlcyIsInVua25vd25UZXh0dXJlIiwiZ2V0UGFyYW1ldGVyIiwiTUFYX1RFWFRVUkVfSU1BR0VfVU5JVFMiLCJlbXB0eVRleHR1cmVzIiwiZW1wdHlUZXh0dXJlMkQiLCJiaW5kVGV4dHVyZSIsInRleFBhcmFtZXRlcmkiLCJURVhUVVJFX01BR19GSUxURVIiLCJMSU5FQVIiLCJURVhUVVJFX01JTl9GSUxURVIiLCJ0ZXh0dXJlR0MiLCJpbml0VGV4dHVyZSIsImFjdGl2ZVRleHR1cmUiLCJURVhUVVJFMCIsInVwZGF0ZVRleHR1cmUiLCJpbml0VGV4dHVyZVR5cGUiLCJSR0JBMzJGIiwiSEFMRl9GTE9BVCIsIlJHQkExNkYiLCJ1cGRhdGVUZXh0dXJlU3R5bGUiLCJza2lwUmVtb3ZlIiwiZGVsZXRlVGV4dHVyZSIsIlBPVzIiLCJDTEFNUCIsImdlbmVyYXRlTWlwbWFwIiwiVEVYVFVSRV9XUkFQX1MiLCJURVhUVVJFX1dSQVBfVCIsIkxJTkVBUl9NSVBNQVBfTElORUFSIiwiTkVBUkVTVF9NSVBNQVBfTkVBUkVTVCIsImFuaXNvdHJvcGljRXh0IiwibGV2ZWwiLCJNQVhfVEVYVFVSRV9NQVhfQU5JU09UUk9QWV9FWFQiLCJ0ZXhQYXJhbWV0ZXJmIiwiVEVYVFVSRV9NQVhfQU5JU09UUk9QWV9FWFQiLCJzeXN0ZW1zIiwidGVtcE1hdHJpeCIsIkFic3RyYWN0UmVuZGVyZXIiLCJyb3VuZFBpeGVscyIsIlVOS05PV04iLCJzY3JlZW4iLCJhdXRvUmVzaXplIiwiX2JhY2tncm91bmRDb2xvciIsIl9iYWNrZ3JvdW5kQ29sb3JTdHJpbmciLCJpbml0UGx1Z2lucyIsInN0YXRpY01hcCIsInNjcmVlbldpZHRoIiwic2NyZWVuSGVpZ2h0IiwiZ2VuZXJhdGVUZXh0dXJlIiwicmVnaW9uIiwicmVtb3ZlVmlldyIsIlJlbmRlcmVyIiwicHJlcmVuZGVyIiwiYWRkU3lzdGVtIiwiX19wbHVnaW5zIiwicHJlbXVsdGlwbGllZEFscGhhIiwicG93ZXJQcmVmZXJlbmNlIiwiQ2xhc3NSZWYiLCJza2lwVXBkYXRlVHJhbnNmb3JtIiwiY2FjaGVQYXJlbnQiLCJyZWdpc3RlclBsdWdpbiIsInBsdWdpbk5hbWUiLCJjdG9yIiwiYXV0b0RldGVjdFJlbmRlcmVyIiwiX2RlZmF1bHQiLCJkZWZhdWx0RmlsdGVyIiwiQ3ViZVRleHR1cmUiLCJCYXRjaFRleHR1cmVBcnJheSIsIlZpZXdhYmxlQnVmZmVyIiwicmF3QmluYXJ5RGF0YSIsInVpbnQzMlZpZXciLCJmbG9hdDMyVmlldyIsInByb3RvdHlwZUFjY2Vzc29ycyQ1IiwiaW50OFZpZXciLCJ1aW50OFZpZXciLCJpbnQxNlZpZXciLCJ1aW50MTZWaWV3IiwiaW50MzJWaWV3IiwiX2ludDhWaWV3IiwiSW50OEFycmF5IiwiX3VpbnQ4VmlldyIsIl9pbnQxNlZpZXciLCJJbnQxNkFycmF5IiwiX3VpbnQxNlZpZXciLCJfaW50MzJWaWV3Iiwic2l6ZU9mIiwiT2JqZWN0UmVuZGVyZXIiLCJBYnN0cmFjdEJhdGNoUmVuZGVyZXIiLCJzaGFkZXJHZW5lcmF0b3IiLCJnZW9tZXRyeUNsYXNzIiwidmVydGV4U2l6ZSIsIl92ZXJ0ZXhDb3VudCIsIl9pbmRleENvdW50IiwiX2J1ZmZlcmVkRWxlbWVudHMiLCJfYnVmZmVyZWRUZXh0dXJlcyIsIl9idWZmZXJTaXplIiwiX3NoYWRlciIsIl9wYWNrZWRHZW9tZXRyaWVzIiwiX3BhY2tlZEdlb21ldHJ5UG9vbFNpemUiLCJfZmx1c2hJZCIsIl9hQnVmZmVycyIsIl9pQnVmZmVycyIsIk1BWF9URVhUVVJFUyIsIm9uUHJlcmVuZGVyIiwiX2RjSW5kZXgiLCJfYUluZGV4IiwiX2lJbmRleCIsIl9hdHRyaWJ1dGVCdWZmZXIiLCJfaW5kZXhCdWZmZXIiLCJfdGVtcEJvdW5kVGV4dHVyZXMiLCJpbml0Rmx1c2hCdWZmZXJzIiwiX2RyYXdDYWxsUG9vbCIsIl90ZXh0dXJlQXJyYXlQb29sIiwiTUFYX1NQUklURVMiLCJNQVhfVEEiLCJpbmRpY2VzIiwiYnVpbGRUZXh0dXJlc0FuZERyYXdDYWxscyIsInRleHR1cmVBcnJheXMiLCJ0b3VjaCIsIlRJQ0siLCJjb3VudFRleEFycmF5cyIsImJ1aWxkRHJhd0NhbGxzIiwiZmluaXNoIiwiZHJhd0NhbGxzIiwiZGNJbmRleCIsImFJbmRleCIsImlJbmRleCIsImRyYXdDYWxsIiwic3ByaXRlQmxlbmRNb2RlIiwicGFja0ludGVybGVhdmVkR2VvbWV0cnkiLCJiaW5kQW5kQ2xlYXJUZXhBcnJheSIsInVwZGF0ZUdlb21ldHJ5IiwicGFja2VkR2VvbWV0cmllcyIsImF0dHJpYnV0ZUJ1ZmZlciIsIl9idWZmZXIiLCJkcmF3QmF0Y2hlcyIsImRjQ291bnQiLCJzdGF0ZVN5c3RlbSIsImN1clRleEFycmF5IiwicmVmJDEiLCJnZXRBdHRyaWJ1dGVCdWZmZXIiLCJnZXRJbmRleEJ1ZmZlciIsInJvdW5kZWRQMiIsInJvdW5kZWRTaXplSW5kZXgiLCJyb3VuZGVkU2l6ZSIsInBhY2tlZFZlcnRpY2VzIiwiaW5kaWNpZXMiLCJ0ZXh0dXJlSWQiLCJhcmdiIiwiX3RpbnRSR0IiLCJCYXRjaFNoYWRlckdlbmVyYXRvciIsInByb2dyYW1DYWNoZSIsImRlZmF1bHRHcm91cENhY2hlIiwic2FtcGxlVmFsdWVzIiwidVNhbXBsZXJzIiwiZ2VuZXJhdGVTYW1wbGVTcmMiLCJ0cmFuc2xhdGlvbk1hdHJpeCIsImRlZmF1bHQiLCJCYXRjaEdlb21ldHJ5IiwiZGVmYXVsdFZlcnRleCQyIiwiZGVmYXVsdEZyYWdtZW50JDIiLCJCYXRjaFBsdWdpbkZhY3RvcnkiLCJzdGF0aWNBY2Nlc3NvcnMkMSIsImRlZmF1bHRGcmFnbWVudFRlbXBsYXRlIiwidmVydGV4IiwiZnJhZ21lbnQiLCJCYXRjaFBsdWdpbiIsIkJhdGNoUmVuZGVyZXIiLCJURU1QX1JFQ1QiLCJFeHRyYWN0IiwiZXh0cmFjdCIsImltYWdlIiwicXVhbGl0eSIsImJhc2U2NCIsInRvRGF0YVVSTCIsImZsaXBZIiwiZ2VuZXJhdGVkIiwiY2FudmFzQnVmZmVyIiwid2ViZ2xQaXhlbHMiLCJyZWFkUGl4ZWxzIiwiY2FudmFzRGF0YSIsImFycmF5UG9zdERpdmlkZSIsInB1dEltYWdlRGF0YSIsImdsb2JhbCIsIm9yaWdpbmFsRXZlbnQiLCJpZGVudGlmaWVyIiwiaXNQcmltYXJ5IiwiYnV0dG9uIiwiYnV0dG9ucyIsInRpbHRYIiwidGlsdFkiLCJwb2ludGVyVHlwZSIsInByZXNzdXJlIiwicm90YXRpb25BbmdsZSIsInR3aXN0IiwidGFuZ2VudGlhbFByZXNzdXJlIiwicG9pbnRlcklkIiwiZ2V0TG9jYWxQb3NpdGlvbiIsImdsb2JhbFBvcyIsImNvcHlFdmVudCIsImlzSW50ZWdlciIsIndoaWNoIiwiSW50ZXJhY3Rpb25FdmVudCIsInN0b3BwZWQiLCJzdG9wc1Byb3BhZ2F0aW5nQXQiLCJzdG9wUHJvcGFnYXRpb25IaW50IiwiY3VycmVudFRhcmdldCIsInN0b3BQcm9wYWdhdGlvbiIsIkludGVyYWN0aW9uVHJhY2tpbmdEYXRhIiwiX3BvaW50ZXJJZCIsIl9mbGFncyIsIkZMQUdTIiwiZmxhZ3MiLCJub25lIiwib3ZlciIsInJpZ2h0RG93biIsImxlZnREb3duIiwiX2RvU2V0IiwieW4iLCJPVkVSIiwiUklHSFRfRE9XTiIsIkxFRlRfRE9XTiIsImZyZWV6ZSIsIl90ZW1wUG9pbnQiLCJyZWN1cnNpdmVGaW5kSGl0IiwiaW50ZXJhY3Rpb25FdmVudCIsImhpdFRlc3QiLCJoaXQiLCJpbnRlcmFjdGl2ZVBhcmVudCIsImhpdFRlc3RDaGlsZHJlbiIsImNvbnRhaW5zUG9pbnQiLCJjaGlsZEhpdCIsImZpbmRIaXQiLCJpbnRlcmFjdGl2ZVRhcmdldCIsImN1cnNvciIsIl90cmFja2VkUG9pbnRlcnMiLCJoaXRUZXN0RXZlbnQiLCJJbnRlcmFjdGlvbk1hbmFnZXIiLCJhdXRvUHJldmVudERlZmF1bHQiLCJpbnRlcmFjdGlvbkZyZXF1ZW5jeSIsIm1vdXNlIiwiYWN0aXZlSW50ZXJhY3Rpb25EYXRhIiwiaW50ZXJhY3Rpb25EYXRhUG9vbCIsImludGVyYWN0aW9uRE9NRWxlbWVudCIsIm1vdmVXaGVuSW5zaWRlIiwiZXZlbnRzQWRkZWQiLCJtb3VzZU92ZXJSZW5kZXJlciIsInN1cHBvcnRzVG91Y2hFdmVudHMiLCJzdXBwb3J0c1BvaW50ZXJFdmVudHMiLCJQb2ludGVyRXZlbnQiLCJvblBvaW50ZXJVcCIsInByb2Nlc3NQb2ludGVyVXAiLCJvblBvaW50ZXJDYW5jZWwiLCJwcm9jZXNzUG9pbnRlckNhbmNlbCIsIm9uUG9pbnRlckRvd24iLCJwcm9jZXNzUG9pbnRlckRvd24iLCJvblBvaW50ZXJNb3ZlIiwicHJvY2Vzc1BvaW50ZXJNb3ZlIiwib25Qb2ludGVyT3V0IiwicHJvY2Vzc1BvaW50ZXJPdmVyT3V0Iiwib25Qb2ludGVyT3ZlciIsImN1cnNvclN0eWxlcyIsInBvaW50ZXIiLCJjdXJyZW50Q3Vyc29yTW9kZSIsImRlbGF5ZWRFdmVudHMiLCJzZWFyY2giLCJzZXRUYXJnZXRFbGVtZW50IiwiZ2xvYmFsUG9pbnQiLCJwcm9jZXNzSW50ZXJhY3RpdmUiLCJyZW1vdmVFdmVudHMiLCJhZGRFdmVudHMiLCJJTlRFUkFDVElPTiIsIm1zUG9pbnRlckVuYWJsZWQiLCJfZGVsdGFUaW1lIiwiZGlkTW92ZSIsImludGVyYWN0aW9uRGF0YSIsImNvbmZpZ3VyZUludGVyYWN0aW9uRXZlbnRGb3JET01FdmVudCIsInNldEN1cnNvck1vZGUiLCJldmVudFN0cmluZyIsImRlbGF5RGlzcGF0Y2hFdmVudCIsIm1hcFBvc2l0aW9uVG9Qb2ludCIsInBhcmVudEVsZW1lbnQiLCJyZXNvbHV0aW9uTXVsdGlwbGllciIsImRlbGF5ZWRMZW4iLCJkaXNwbGF5T2JqZWN0JDEiLCJldmVudHMiLCJub3JtYWxpemVUb1BvaW50ZXJEYXRhIiwiaXNOb3JtYWxpemVkIiwiY2FuY2VsYWJsZSIsImV2ZW50TGVuIiwiZ2V0SW50ZXJhY3Rpb25EYXRhRm9yUG9pbnRlcklkIiwiaXNSaWdodEJ1dHRvbiIsInRyYWNrZWRQb2ludGVycyIsIm9uUG9pbnRlckNvbXBsZXRlIiwiY2FuY2VsbGVkIiwiZXZlbnRBcHBlbmQiLCJyZWxlYXNlSW50ZXJhY3Rpb25EYXRhRm9yUG9pbnRlcklkIiwidHJhY2tpbmdEYXRhIiwiaXNUb3VjaCIsImlzTW91c2UiLCJpc01vdXNlVGFwIiwiaXNEb3duIiwicG9pbnRlckV2ZW50IiwiY2xpZW50WCIsImNsaWVudFkiLCJnbG9iYWxYIiwiZ2xvYmFsWSIsIm5vcm1hbGl6ZWRFdmVudHMiLCJUb3VjaEV2ZW50IiwibGkiLCJjaGFuZ2VkVG91Y2hlcyIsInRvdWNoZXMiLCJyYWRpdXNYIiwicmFkaXVzWSIsImZvcmNlIiwibGF5ZXJYIiwib2Zmc2V0WCIsImxheWVyWSIsIm9mZnNldFkiLCJNb3VzZUV2ZW50IiwiR1JBUEhJQ1NfQ1VSVkVTIiwiYWRhcHRpdmUiLCJtYXhMZW5ndGgiLCJtaW5TZWdtZW50cyIsIm1heFNlZ21lbnRzIiwiX3NlZ21lbnRzQ291bnQiLCJkZWZhdWx0U2VnbWVudHMiLCJGaWxsU3R5bGUiLCJvYmoiLCJjb2xvciIsImJ1aWxkUG9seSIsImJ1aWxkIiwiZ3JhcGhpY3NEYXRhIiwic2hhcGUiLCJ0cmlhbmd1bGF0ZSIsImdyYXBoaWNzR2VvbWV0cnkiLCJob2xlcyIsInZlcnRzIiwiaG9sZUFycmF5IiwiaG9sZSIsImNvbmNhdCIsInRyaWFuZ2xlcyIsInZlcnRQb3MiLCJidWlsZENpcmNsZSIsImNpcmNsZURhdGEiLCJ0b3RhbFNlZ3MiLCJzZWciLCJjZW50ZXIiLCJidWlsZFJlY3RhbmdsZSIsInJlY3REYXRhIiwiYnVpbGRSb3VuZGVkUmVjdGFuZ2xlIiwicnJlY3REYXRhIiwicXVhZHJhdGljQmV6aWVyQ3VydmUiLCJ2ZWNQb3MiLCJnZXRQdCIsIm4xIiwibjIiLCJwZXJjIiwiZnJvbVgiLCJmcm9tWSIsImNwWCIsImNwWSIsInRvWCIsInRvWSIsInhhIiwieWEiLCJ4YiIsInliIiwiYnVpbGRMaW5lIiwibGluZVN0eWxlIiwibmF0aXZlIiwiY2xvc2VkU2hhcGUiLCJzdGFydEluZGV4IiwiYnVpbGROYXRpdmVMaW5lIiwiY2xvc2VQb2ludEVwcyIsImZpcnN0UG9pbnQiLCJsYXN0UG9pbnQiLCJjbG9zZWRQYXRoIiwibWlkUG9pbnRYIiwibWlkUG9pbnRZIiwidW5zaGlmdCIsImluZGV4Q291bnQiLCJpbmRleFN0YXJ0IiwicDF4IiwicDF5IiwicDJ4IiwicDJ5IiwicDN4IiwicDN5IiwicGVycHgiLCJwZXJweSIsInBlcnAyeCIsInBlcnAyeSIsInBlcnAzeCIsInBlcnAzeSIsImRpc3QiLCJyYXRpbyIsImFsaWdubWVudCIsInIxIiwiYjIiLCJjMiIsImRlbm9tIiwicHgiLCJweSIsImJ1aWxkTm9uTmF0aXZlTGluZSIsIlN0YXIiLCJpbm5lclJhZGl1cyIsInN0YXJ0QW5nbGUiLCJBcmNVdGlscyIsImN1cnZlVG8iLCJtbSIsImRkIiwiY2MiLCJ0dCIsImsxIiwiazIiLCJqMSIsImoyIiwiY3giLCJjeSIsInF4IiwicXkiLCJlbmRBbmdsZSIsImFudGljbG9ja3dpc2UiLCJhcmMiLCJzdGFydFgiLCJzdGFydFkiLCJzd2VlcCIsInRoZXRhIiwidGhldGEyIiwiY1RoZXRhIiwic1RoZXRhIiwic2VnTWludXMiLCJyZW1haW5kZXIiLCJCZXppZXJVdGlscyIsImN1cnZlTGVuZ3RoIiwiY3BYMiIsImNwWTIiLCJ0MiIsInQzIiwibnQiLCJudDIiLCJudDMiLCJwcmV2WCIsInByZXZZIiwiZHQiLCJkdDIiLCJkdDMiLCJRdWFkcmF0aWNVdGlscyIsImF4IiwiYXkiLCJieCIsImJ5IiwiYTMyIiwiYmEiLCJCYXRjaFBhcnQiLCJhdHRyaWJTdGFydCIsImVuZEF0dHJpYiIsIkZJTExfQ09NTUFORFMiLCJCQVRDSF9QT09MIiwiRFJBV19DQUxMX1BPT0wiLCJidWlsZENvbXBsZXhQb2x5Iiwid2ViR0xEYXRhIiwiZmlsbEFscGhhIiwiZmlsbENvbG9yIiwiYmV6aWVyQ3VydmVUbyIsInBhdGgiLCJHcmFwaGljc0RhdGEiLCJ0bXBQb2ludCIsInRtcEJvdW5kcyIsIkdyYXBoaWNzR2VvbWV0cnkiLCJjb2xvcnMiLCJ0ZXh0dXJlSWRzIiwiYmF0Y2hEaXJ0eSIsImNhY2hlRGlydHkiLCJjbGVhckRpcnR5IiwiYmF0Y2hlcyIsInNoYXBlSW5kZXgiLCJib3VuZHNEaXJ0eSIsImJvdW5kc1BhZGRpbmciLCJiYXRjaGFibGUiLCJpbmRpY2VzVWludDE2IiwiZHJhd1NoYXBlIiwiZHJhd0hvbGUiLCJsYXN0U2hhcGUiLCJoaXRIb2xlIiwidXBkYXRlQmF0Y2hlcyIsInZhbGlkYXRlQmF0Y2hpbmciLCJiYXRjaFBhcnQiLCJjdXJyZW50U3R5bGUiLCJ0cmFuc2Zvcm1Qb2ludHMiLCJuZXh0VGV4dHVyZSIsImluZGV4JDEiLCJhdHRyaWJJbmRleCIsIlJFUEVBVCIsIl9jb21wYXJlU3R5bGVzIiwicHJvY2Vzc0ZpbGwiLCJwcm9jZXNzTGluZSIsImFkZFV2cyIsImlzQmF0Y2hhYmxlIiwicGFja0JhdGNoZXMiLCJzdHlsZUEiLCJzdHlsZUIiLCJmaWxsIiwibGluZSIsIkJBVENIQUJMRV9TSVpFIiwiY3VycmVudEdyb3VwIiwiY3VycmVudFRleHR1cmUiLCJkcmF3TW9kZSIsIkxJTkVTIiwiYWRkQ29sb3JzIiwiYWRkVGV4dHVyZUlkcyIsInBhY2tBdHRyaWJ1dGVzIiwiZ2xQb2ludHMiLCJmMzIiLCJ1MzIiLCJwcm9jZXNzSG9sZXMiLCJzZXF1ZW5jZUJvdW5kcyIsImN1ck1hdHJpeCIsIm5leHRNYXRyaXgiLCJsaW5lV2lkdGgiLCJyZ2JhIiwidXZzU3RhcnQiLCJueCIsImFkanVzdFV2cyIsIkxpbmVTdHlsZSIsInRlbXAiLCJERUZBVUxUX1NIQURFUlMiLCJHcmFwaGljcyIsIl9maWxsU3R5bGUiLCJfbGluZVN0eWxlIiwiX21hdHJpeCIsIl9ob2xlTW9kZSIsImN1cnJlbnRQYXRoIiwiYmF0Y2hUaW50IiwiX3RyYW5zZm9ybUlEIiwiZmluaXNoUG9seSIsIl90aW50IiwibGluZVRleHR1cmVTdHlsZSIsImZvckVhY2giLCJzdGFydFBvbHkiLCJtb3ZlVG8iLCJsaW5lVG8iLCJfaW5pdEN1cnZlIiwicXVhZHJhdGljQ3VydmVUbyIsImFyY1RvIiwicmFkaXVzJDEiLCJ4RGlmZiIsInlEaWZmIiwiYmVnaW5GaWxsIiwiYmVnaW5UZXh0dXJlRmlsbCIsImVuZEZpbGwiLCJkcmF3UmVjdCIsImRyYXdSb3VuZGVkUmVjdCIsImRyYXdDaXJjbGUiLCJkcmF3RWxsaXBzZSIsImRyYXdQb2x5Z29uIiwiZHJhd1N0YXIiLCJfcG9wdWxhdGVCYXRjaGVzIiwiX3JlbmRlckJhdGNoZWQiLCJfcmVuZGVyRGlyZWN0IiwiZ0kiLCJfYmF0Y2hSR0IiLCJjYWxjdWxhdGVWZXJ0aWNlcyIsImNhbGN1bGF0ZVRpbnRzIiwiX3Jlc29sdmVEaXJlY3RTaGFkZXIiLCJfcmVuZGVyRHJhd0NhbGxEaXJlY3QiLCJncm91cFRleHR1cmVDb3VudCIsIl9URU1QX1BPSU5UIiwidGludFJHQiIsImNsb3NlUGF0aCIsInNldE1hdHJpeCIsImJlZ2luSG9sZSIsImVuZEhvbGUiLCJ0ZW1wUG9pbnQiLCJTcHJpdGUiLCJfYW5jaG9yIiwiX29uQW5jaG9yVXBkYXRlIiwiX2NhY2hlZFRpbnQiLCJ2ZXJ0ZXhUcmltbWVkRGF0YSIsIl90ZXh0dXJlSUQiLCJfdHJhbnNmb3JtVHJpbW1lZElEIiwiX3RleHR1cmVUcmltbWVkSUQiLCJfcm91bmRQaXhlbHMiLCJfb25UZXh0dXJlVXBkYXRlIiwidzAiLCJ3MSIsImgwIiwiaDEiLCJjYWxjdWxhdGVUcmltbWVkVmVydGljZXMiLCJkZXN0cm95QmFzZVRleHR1cmUiLCJURVhUX0dSQURJRU5UIiwiTElORUFSX1ZFUlRJQ0FMIiwiTElORUFSX0hPUklaT05UQUwiLCJkZWZhdWx0U3R5bGUiLCJhbGlnbiIsImJyZWFrV29yZHMiLCJkcm9wU2hhZG93IiwiZHJvcFNoYWRvd0FscGhhIiwiZHJvcFNoYWRvd0FuZ2xlIiwiZHJvcFNoYWRvd0JsdXIiLCJkcm9wU2hhZG93Q29sb3IiLCJkcm9wU2hhZG93RGlzdGFuY2UiLCJmaWxsR3JhZGllbnRUeXBlIiwiZmlsbEdyYWRpZW50U3RvcHMiLCJmb250RmFtaWx5IiwiZm9udFNpemUiLCJmb250U3R5bGUiLCJmb250VmFyaWFudCIsImZvbnRXZWlnaHQiLCJsZXR0ZXJTcGFjaW5nIiwibGluZUhlaWdodCIsImxpbmVKb2luIiwibWl0ZXJMaW1pdCIsInN0cm9rZSIsInN0cm9rZVRoaWNrbmVzcyIsInRleHRCYXNlbGluZSIsIndoaXRlU3BhY2UiLCJ3b3JkV3JhcCIsIndvcmRXcmFwV2lkdGgiLCJsZWFkaW5nIiwiZ2VuZXJpY0ZvbnRGYW1pbGllcyIsIlRleHRTdHlsZSIsInN0eWxlSUQiLCJkZWVwQ29weVByb3BlcnRpZXMiLCJnZXRTaW5nbGVDb2xvciIsImdldENvbG9yIiwicHJvcGVydHlPYmoiLCJwcm9wIiwiY2xvbmVkUHJvcGVydGllcyIsIl9hbGlnbiIsIl9icmVha1dvcmRzIiwiX2Ryb3BTaGFkb3ciLCJfZHJvcFNoYWRvd0FscGhhIiwiX2Ryb3BTaGFkb3dBbmdsZSIsIl9kcm9wU2hhZG93Qmx1ciIsIl9kcm9wU2hhZG93Q29sb3IiLCJvdXRwdXRDb2xvciIsIl9kcm9wU2hhZG93RGlzdGFuY2UiLCJfZmlsbCIsIl9maWxsR3JhZGllbnRUeXBlIiwiX2ZpbGxHcmFkaWVudFN0b3BzIiwiYXJyYXkxIiwiYXJyYXkyIiwiYXJlQXJyYXlzRXF1YWwiLCJfZm9udEZhbWlseSIsIl9mb250U2l6ZSIsIl9mb250U3R5bGUiLCJfZm9udFZhcmlhbnQiLCJfZm9udFdlaWdodCIsIl9sZXR0ZXJTcGFjaW5nIiwiX2xpbmVIZWlnaHQiLCJfbGVhZGluZyIsIl9saW5lSm9pbiIsIl9taXRlckxpbWl0IiwiX3BhZGRpbmciLCJfc3Ryb2tlIiwiX3N0cm9rZVRoaWNrbmVzcyIsIl90ZXh0QmFzZWxpbmUiLCJfdHJpbSIsIl93aGl0ZVNwYWNlIiwiX3dvcmRXcmFwIiwiX3dvcmRXcmFwV2lkdGgiLCJ0b0ZvbnRTdHJpbmciLCJmb250U2l6ZVN0cmluZyIsImZvbnRGYW1pbGllcyIsIlRleHRNZXRyaWNzIiwidGV4dCIsImxpbmVzIiwibGluZVdpZHRocyIsIm1heExpbmVXaWR0aCIsImZvbnRQcm9wZXJ0aWVzIiwibWVhc3VyZVRleHQiLCJfY2FudmFzIiwiZm9udCIsIm1lYXN1cmVGb250IiwiYXNjZW50IiwiY29sbGFwc2VTcGFjZXMiLCJjb2xsYXBzZU5ld2xpbmVzIiwiY2FuUHJlcGVuZFNwYWNlcyIsInRva2VucyIsInRva2VuaXplIiwidG9rZW4iLCJpc05ld2xpbmUiLCJhZGRMaW5lIiwiY3VycklzQnJlYWtpbmdTcGFjZSIsImlzQnJlYWtpbmdTcGFjZSIsImxhc3RJc0JyZWFraW5nU3BhY2UiLCJ0b2tlbldpZHRoIiwiZ2V0RnJvbUNhY2hlIiwiY2FuQnJlYWtXb3JkcyIsImNoYXJhY3RlcnMiLCJjaGFyIiwibmV4dENoYXIiLCJsYXN0Q2hhciIsImNhbkJyZWFrQ2hhcnMiLCJjaGFyYWN0ZXJXaWR0aCIsImlzTGFzdFRva2VuIiwibmV3TGluZSIsInRyaW1SaWdodCIsInNwYWNpbmciLCJfbmV3bGluZXMiLCJjaGFyQ29kZUF0IiwiX2JyZWFraW5nU3BhY2VzIiwiX2ZvbnRzIiwicHJvcGVydGllcyIsIl9jb250ZXh0IiwibWV0cmljc1N0cmluZyIsIk1FVFJJQ1NfU1RSSU5HIiwiQkFTRUxJTkVfU1lNQk9MIiwiYmFzZWxpbmUiLCJCQVNFTElORV9NVUxUSVBMSUVSIiwiZmlsbFRleHQiLCJpbWFnZWRhdGEiLCJpZHgiLCJkZXNjZW50IiwiY2xlYXJNZXRyaWNzIiwiZXgiLCJkZWZhdWx0RGVzdHJveU9wdGlvbnMiLCJUZXh0IiwiX3Jlc29sdXRpb24iLCJfYXV0b1Jlc29sdXRpb24iLCJfdGV4dCIsIl9zdHlsZSIsIl9zdHlsZUxpc3RlbmVyIiwiX2ZvbnQiLCJsb2NhbFN0eWxlSUQiLCJ1cGRhdGVUZXh0IiwicmVzcGVjdERpcnR5IiwibGluZVBvc2l0aW9uWCIsImxpbmVQb3NpdGlvblkiLCJtZWFzdXJlZCIsInBhc3Nlc0NvdW50IiwiaXNTaGFkb3dQYXNzIiwiZHNPZmZzZXRUZXh0IiwiZHNPZmZzZXRTaGFkb3ciLCJzdHJva2VTdHlsZSIsInNoYWRvd0NvbG9yIiwic2hhZG93Qmx1ciIsInNoYWRvd09mZnNldFgiLCJzaGFkb3dPZmZzZXRZIiwiX2dlbmVyYXRlRmlsbFN0eWxlIiwiZHJhd0xldHRlclNwYWNpbmciLCJpc1N0cm9rZSIsImN1cnJlbnRQb3NpdGlvbiIsInN0cmluZ0FycmF5IiwicHJldmlvdXNXaWR0aCIsImN1cnJlbnRXaWR0aCIsImN1cnJlbnRDaGFyIiwic3Ryb2tlVGV4dCIsInRyaW1tZWQiLCJfb25TdHlsZUNoYW5nZSIsImdyYWRpZW50IiwidG90YWxJdGVyYXRpb25zIiwiY3VycmVudEl0ZXJhdGlvbiIsImxlbmd0aFBsdXMxIiwiY3JlYXRlTGluZWFyR3JhZGllbnQiLCJhZGRDb2xvclN0b3AiLCJTdHJpbmciLCJVUExPQURTX1BFUl9GUkFNRSIsIkNvdW50TGltaXRlciIsIm1heEl0ZW1zUGVyRnJhbWUiLCJpdGVtc0xlZnQiLCJiZWdpbkZyYW1lIiwiYWxsb3dlZFRvVXBsb2FkIiwibGltaXRlciIsInVwbG9hZEhvb2tIZWxwZXIiLCJxdWV1ZSIsImFkZEhvb2tzIiwidXBsb2FkSG9va3MiLCJjb21wbGV0ZXMiLCJ0aWNraW5nIiwiZGVsYXllZFRpY2siLCJwcmVwYXJlSXRlbXMiLCJyZWdpc3RlckZpbmRIb29rIiwiZmluZFRleHQiLCJmaW5kVGV4dFN0eWxlIiwiZmluZE11bHRpcGxlQmFzZVRleHR1cmVzIiwiZmluZEJhc2VUZXh0dXJlIiwiZmluZFRleHR1cmUiLCJyZWdpc3RlclVwbG9hZEhvb2siLCJkcmF3VGV4dCIsImNhbGN1bGF0ZVRleHRTdHlsZSIsIl90ZXh0dXJlcyIsImhlbHBlciIsImRvbmUiLCJ0aWNrIiwiVVRJTElUWSIsInNldFRpbWVvdXQiLCJ1cGxvYWRlZCIsImxlbiQxIiwiYWRkSG9vayIsInVwbG9hZEhvb2siLCJQcmVwYXJlIiwiQmFzZVByZXBhcmUiLCJmaW5kR3JhcGhpY3MiLCJ1cGxvYWRCYXNlVGV4dHVyZXMiLCJ1cGxvYWRHcmFwaGljcyIsIlRpbWVMaW1pdGVyIiwibWF4TWlsbGlzZWNvbmRzIiwiZnJhbWVTdGFydCIsIkRhdGUiLCJBcHBsaWNhdGlvbiIsImZvcmNlQ2FudmFzIiwic3RhZ2UiLCJfcGx1Z2lucyIsInBsdWdpbiIsInN0YWdlT3B0aW9ucyIsInJldmVyc2UiLCJfb3B0aW9ucyIsIlJlc2l6ZVBsdWdpbiIsImRvbSIsIl9yZXNpemVUbyIsImlubmVyV2lkdGgiLCJpbm5lckhlaWdodCIsImNsaWVudFdpZHRoIiwiY2xpZW50SGVpZ2h0IiwicmVzaXplVG8iLCJfbm9vcCIsImVhY2hTZXJpZXMiLCJpdGVyYXRvciIsImNhbGxiYWNrIiwiZGVmZXJOZXh0IiwiZXJyIiwib25seU9uY2UiLCJjYWxsRm4iLCJ3b3JrZXIiLCJjb25jdXJyZW5jeSIsIndvcmtlcnMiLCJxIiwiX3Rhc2tzIiwic2F0dXJhdGVkIiwidW5zYXR1cmF0ZWQiLCJlbXB0eSIsImRyYWluIiwiX2luc2VydCIsImtpbGwiLCJ0YXNrIiwicnVubmluZyIsImlkbGUiLCJyZXN1bWUiLCJpbnNlcnRBdEZyb250IiwiX2RlZmluZVByb3BlcnRpZXMiLCJ1c2VYZHIiLCJYRG9tYWluUmVxdWVzdCIsIlhNTEh0dHBSZXF1ZXN0IiwiX25vb3AkMSIsIl9zZXRGbGFnIiwiU1RBVFVTX0ZMQUdTIiwiREFUQV9VUkwiLCJfZ2V0RXh0ZW5zaW9uIiwidGltZW91dCIsImxvYWRUeXBlIiwiX2RldGVybWluZUxvYWRUeXBlIiwieGhyVHlwZSIsIm1ldGFkYXRhIiwieGhyIiwiVFlQRSIsInByb2dyZXNzQ2h1bmsiLCJfZGVxdWV1ZSIsIl9vbkxvYWRCaW5kaW5nIiwiX2VsZW1lbnRUaW1lciIsIl9ib3VuZENvbXBsZXRlIiwiX2JvdW5kT25FcnJvciIsIl9ib3VuZE9uUHJvZ3Jlc3MiLCJfb25Qcm9ncmVzcyIsIl9ib3VuZE9uVGltZW91dCIsIl9vblRpbWVvdXQiLCJfYm91bmRYaHJPbkVycm9yIiwiX3hock9uRXJyb3IiLCJfYm91bmRYaHJPblRpbWVvdXQiLCJfeGhyT25UaW1lb3V0IiwiX2JvdW5kWGhyT25BYm9ydCIsIl94aHJPbkFib3J0IiwiX2JvdW5kWGhyT25Mb2FkIiwiX3hock9uTG9hZCIsIm9uU3RhcnQiLCJvblByb2dyZXNzIiwib25Db21wbGV0ZSIsIm9uQWZ0ZXJNaWRkbGV3YXJlIiwic2V0RXh0ZW5zaW9uTG9hZFR5cGUiLCJleHRuYW1lIiwic2V0RXh0TWFwIiwiX2xvYWRUeXBlTWFwIiwic2V0RXh0ZW5zaW9uWGhyVHlwZSIsIl94aHJUeXBlTWFwIiwiX3Byb3RvIiwiX2NsZWFyRXZlbnRzIiwiX2ZpbmlzaCIsImFib3J0IiwieGRyIiwiRU1QVFlfR0lGIiwiZmlyc3RDaGlsZCIsImlzTG9hZGluZyIsImlzQ29tcGxldGUiLCJMT0FESU5HIiwiX2RldGVybWluZUNyb3NzT3JpZ2luIiwiTE9BRF9UWVBFIiwiSU1BR0UiLCJfbG9hZEVsZW1lbnQiLCJBVURJTyIsIl9sb2FkU291cmNlRWxlbWVudCIsIlZJREVPIiwiWEhSIiwiX2xvYWRYZHIiLCJfbG9hZFhociIsIl9oYXNGbGFnIiwiY2xlYXJUaW1lb3V0Iiwib250aW1lb3V0Iiwib25wcm9ncmVzcyIsIkNPTVBMRVRFIiwibG9hZEVsZW1lbnQiLCJza2lwU291cmNlIiwiQXVkaW8iLCJpc0NvY29vbkpTIiwibWltZVR5cGVzIiwibWltZVR5cGUiLCJfY3JlYXRlU291cmNlIiwiX21pbWVUeXBlcyIsIl9kZXRlcm1pbmVYaHJUeXBlIiwib3BlbiIsIlhIUl9SRVNQT05TRV9UWVBFIiwiSlNPTiIsIkRPQ1VNRU5UIiwicmVzcG9uc2VUeXBlIiwiVEVYVCIsInNlbmQiLCJub2RlTmFtZSIsImxlbmd0aENvbXB1dGFibGUiLCJsb2FkZWQiLCJ0b3RhbCIsInJlcVR5cGUiLCJzdGF0dXMiLCJzdGF0dXNUZXh0IiwicmVzcG9uc2VUZXh0IiwiQlVGRkVSIiwiRE9NUGFyc2VyIiwiZG9tcGFyc2VyIiwicGFyc2VGcm9tU3RyaW5nIiwiWE1MIiwicmVzcG9uc2UiLCJyZXNwb25zZVVSTCIsIm9yaWdpbiIsInN0cmljdE1vZGUiLCJob3N0IiwiaXNEYXRhVXJsIiwic2xhc2hJbmRleCIsInF1ZXJ5U3RhcnQiLCJoYXNoU3RhcnQiLCJfZ2V0TWltZUZyb21YaHJUeXBlIiwiQkxPQiIsIkRFRkFVTFQiLCJnaWYiLCJwbmciLCJibXAiLCJqcGciLCJqcGVnIiwidGlmIiwidGlmZiIsIndlYnAiLCJ0Z2EiLCJtcDMiLCJvZ2ciLCJ3YXYiLCJtcDQiLCJ3ZWJtIiwieGh0bWwiLCJodG1sIiwiaHRtIiwieG1sIiwidG14IiwidHN4IiwianNvbiIsInR4dCIsInR0ZiIsIm90ZiIsIlVybCIsIlVSTCIsIndlYmtpdFVSTCIsImNhY2hpbmciLCJwYXJzaW5nIiwiQmxvYiIsImNyZWF0ZU9iamVjdFVSTCIsImJsb2IiLCJyZXZva2VPYmplY3RVUkwiLCJnZXRSZXNwb25zZUhlYWRlciIsImlueCIsImJ5dGVidWZmZXIiLCJlbmNvZGVkQ2hhckluZGV4ZXMiLCJqbngiLCJfam54IiwiY2hhckF0IiwiZW5jb2RlQmluYXJ5Iiwicmd4RXh0cmFjdFVybEhhc2giLCJMb2FkZXIiLCJiYXNlVXJsIiwicHJvZ3Jlc3MiLCJsb2FkaW5nIiwiZGVmYXVsdFF1ZXJ5U3RyaW5nIiwiX2JlZm9yZU1pZGRsZXdhcmUiLCJfYWZ0ZXJNaWRkbGV3YXJlIiwiX3Jlc291cmNlc1BhcnNpbmciLCJfYm91bmRMb2FkUmVzb3VyY2UiLCJfbG9hZFJlc291cmNlIiwiX3F1ZXVlIiwib25Mb2FkIiwiX2RlZmF1bHRCZWZvcmVNaWRkbGV3YXJlIiwicHJlIiwiX2RlZmF1bHRBZnRlck1pZGRsZXdhcmUiLCJ1c2UiLCJwYXJlbnRSZXNvdXJjZSIsIl9wcmVwYXJlVXJsIiwiaW5jb21wbGV0ZUNoaWxkcmVuIiwiX2kyIiwiZWFjaENodW5rIiwiX2kzIiwicmVzIiwiX29uU3RhcnQiLCJfb25Db21wbGV0ZSIsImNodW5rIiwicGFyc2VkVXJsIiwiaGFzaCIsImRlcXVldWUiLCJfdGhpczIiLCJfb25Mb2FkIiwiX3RoaXMzIiwiVGV4dHVyZUxvYWRlciIsIlJlc291cmNlTG9hZGVyIiwiQXBwTG9hZGVyUGx1Z2luIiwic2hhcmVkTG9hZGVyIiwibG9hZGVyIiwiTG9hZGVyUmVzb3VyY2UiLCJQYXJ0aWNsZUNvbnRhaW5lciIsIm1heFNpemUiLCJiYXRjaFNpemUiLCJfcHJvcGVydGllcyIsIl9tYXhTaXplIiwiX2JhdGNoU2l6ZSIsIl9idWZmZXJzIiwiX2J1ZmZlclVwZGF0ZUlEcyIsInNldFByb3BlcnRpZXMiLCJ0aW50UmdiIiwicGFydGljbGUiLCJzbWFsbGVzdENoaWxkSW5kZXgiLCJkeW5hbWljUHJvcGVydHlGbGFncyIsImR5bmFtaWNQcm9wZXJ0aWVzIiwic3RhdGljUHJvcGVydGllcyIsImF0dHJpYnV0ZU5hbWUiLCJ1cGxvYWRGdW5jdGlvbiIsInN0YXRpY1N0cmlkZSIsInN0YXRpY0J1ZmZlciIsInN0YXRpY0RhdGEiLCJzdGF0aWNEYXRhVWludDMyIiwiZHluYW1pY1N0cmlkZSIsImR5bmFtaWNCdWZmZXIiLCJkeW5hbWljRGF0YSIsImR5bmFtaWNEYXRhVWludDMyIiwiaW5pdEJ1ZmZlcnMiLCJkeW5hbWljT2Zmc2V0IiwiZHluQnVmZmVyIiwic3RhdGljT2Zmc2V0IiwicHJvcGVydHkkMSIsInN0YXRCdWZmZXIiLCJwcm9wZXJ0eSQyIiwicHJvcGVydHkkMyIsInVwbG9hZER5bmFtaWMiLCJhbW91bnQiLCJ1cGxvYWRTdGF0aWMiLCJQYXJ0aWNsZVJlbmRlcmVyIiwidXBsb2FkVmVydGljZXMiLCJ1cGxvYWRQb3NpdGlvbiIsInVwbG9hZFJvdGF0aW9uIiwidXBsb2FkVXZzIiwidXBsb2FkVGludCIsInRvdGFsQ2hpbGRyZW4iLCJnZW5lcmF0ZUJ1ZmZlcnMiLCJ1Q29sb3IiLCJ1cGRhdGVTdGF0aWMiLCJfZ2VuZXJhdGVPbmVNb3JlQnVmZmVyIiwiYmlkIiwic3ByaXRlUG9zaXRpb24iLCJzcHJpdGVSb3RhdGlvbiIsInRleHR1cmVVdnMiLCJTcHJpdGVzaGVldCIsInJlc29sdXRpb25GaWxlbmFtZSIsImFuaW1hdGlvbnMiLCJfdXBkYXRlUmVzb2x1dGlvbiIsIl9mcmFtZXMiLCJmcmFtZXMiLCJfZnJhbWVLZXlzIiwiX2JhdGNoSW5kZXgiLCJfY2FsbGJhY2siLCJCQVRDSF9TSVpFIiwibWV0YSIsIl9wcm9jZXNzRnJhbWVzIiwiX3Byb2Nlc3NBbmltYXRpb25zIiwiX3BhcnNlQ29tcGxldGUiLCJfbmV4dEJhdGNoIiwiaW5pdGlhbEZyYW1lSW5kZXgiLCJmcmFtZUluZGV4IiwibWF4RnJhbWVzIiwic291cmNlU2l6ZSIsInJvdGF0ZWQiLCJzcHJpdGVTb3VyY2VTaXplIiwiYW5pbU5hbWUiLCJmcmFtZU5hbWUiLCJTcHJpdGVzaGVldExvYWRlciIsImltYWdlUmVzb3VyY2VOYW1lIiwibG9hZE9wdGlvbnMiLCJpbWFnZU1ldGFkYXRhIiwicmVzb3VyY2VQYXRoIiwiZ2V0UmVzb3VyY2VQYXRoIiwic3ByaXRlc2hlZXQiLCJUaWxpbmdTcHJpdGUiLCJ0aWxlVHJhbnNmb3JtIiwiX2NhbnZhc1BhdHRlcm4iLCJ1dlJlc3BlY3RBbmNob3IiLCJ0aWxlU2NhbGUiLCJ0aWxlUG9zaXRpb24iLCJmcm9tRnJhbWUiLCJmcmFtZUlkIiwiZnJvbUltYWdlIiwiaW1hZ2VJZCIsIlRpbGluZ1Nwcml0ZVJlbmRlcmVyIiwic2ltcGxlU2hhZGVyIiwidHMiLCJiYXNlVGV4IiwidXYiLCJIIiwidU1hcENvb3JkIiwidVRyYW5zZm9ybSIsIkJpdG1hcFRleHQiLCJfdGV4dFdpZHRoIiwiX3RleHRIZWlnaHQiLCJfZ2x5cGhzIiwiX21heFdpZHRoIiwiX21heExpbmVIZWlnaHQiLCJtYXhXaWR0aCIsIm1heExpbmVIZWlnaHQiLCJ0ZXh0V2lkdGgiLCJ0ZXh0SGVpZ2h0IiwiZm9udHMiLCJjaGFycyIsInRleHRMZW5ndGgiLCJwcmV2Q2hhckNvZGUiLCJsYXN0TGluZVdpZHRoIiwibGFzdEJyZWFrUG9zIiwibGFzdEJyZWFrV2lkdGgiLCJzcGFjZXNSZW1vdmVkIiwiY2hhckNvZGUiLCJjaGFyRGF0YSIsImtlcm5pbmciLCJ4T2Zmc2V0IiwieU9mZnNldCIsInhBZHZhbmNlIiwibGluZUFsaWduT2Zmc2V0cyIsImFsaWduT2Zmc2V0IiwibGVuQ2hhcnMiLCJ2YWxpZGF0ZSIsInJlZ2lzdGVyRm9udCIsImluZm8iLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsImNvbW1vbiIsInBhZ2VzIiwicGFnZXNUZXh0dXJlcyIsImZpbGUiLCJsZXR0ZXJzIiwibGV0dGVyIiwicGFnZSIsInRleHR1cmVSZWN0Iiwia2VybmluZ3MiLCJmaXJzdCIsInNlY29uZCIsIkJpdG1hcEZvbnRMb2FkZXIiLCJiaXRtYXBGb250IiwiZGlybmFtZSIsImRpciIsInhtbFVybCIsInBhZ2VGaWxlIiwiYml0bWFwUmVzb3VyY2UiLCJBbHBoYUZpbHRlciIsInVBbHBoYSIsIkdBVVNTSUFOX1ZBTFVFUyIsIjUiLCI3IiwiOSIsIjExIiwiMTMiLCIxNSIsIkJsdXJGaWx0ZXJQYXNzIiwiaG9yaXpvbnRhbCIsInN0cmVuZ3RoIiwia2VybmVsU2l6ZSIsInZlcnRTcmMiLCJ0ZW1wbGF0ZSIsImhhbGZMZW5ndGgiLCJ2ZXJ0U291cmNlIiwiYmx1ckxvb3AiLCJibHVyIiwiZ2VuZXJhdGVCbHVyVmVydFNvdXJjZSIsImZyYWdTcmMiLCJrZXJuZWwiLCJmcmFnU291cmNlIiwiZ2VuZXJhdGVCbHVyRnJhZ1NvdXJjZSIsIl9xdWFsaXR5IiwicGFzc2VzIiwicmVuZGVyVGFyZ2V0IiwiQmx1ckZpbHRlciIsImJsdXJYRmlsdGVyIiwiYmx1cllGaWx0ZXIiLCJyZXBlYXRFZGdlUGl4ZWxzIiwiYmx1clgiLCJibHVyWSIsInhTdHJlbmd0aCIsInlTdHJlbmd0aCIsInVwZGF0ZVBhZGRpbmciLCJfcmVwZWF0RWRnZVBpeGVscyIsIkNvbG9yTWF0cml4RmlsdGVyIiwiX2xvYWRNYXRyaXgiLCJtdWx0aXBseSIsIm5ld01hdHJpeCIsIl9tdWx0aXBseSIsIl9jb2xvck1hdHJpeCIsImJyaWdodG5lc3MiLCJncmV5c2NhbGUiLCJibGFja0FuZFdoaXRlIiwiaHVlIiwiY29zUiIsInNpblIiLCJzcXJXIiwiY29udHJhc3QiLCJzYXR1cmF0ZSIsImRlc2F0dXJhdGUiLCJuZWdhdGl2ZSIsInNlcGlhIiwidGVjaG5pY29sb3IiLCJwb2xhcm9pZCIsInRvQkdSIiwia29kYWNocm9tZSIsImJyb3duaSIsInZpbnRhZ2UiLCJjb2xvclRvbmUiLCJkZXNhdHVyYXRpb24iLCJ0b25lZCIsImxpZ2h0Q29sb3IiLCJkYXJrQ29sb3IiLCJsUiIsImxHIiwibEIiLCJkUiIsImRHIiwiZEIiLCJuaWdodCIsImludGVuc2l0eSIsInByZWRhdG9yIiwibHNkIiwiZ3JheXNjYWxlIiwiRGlzcGxhY2VtZW50RmlsdGVyIiwibWFwU2FtcGxlciIsImZpbHRlck1hdHJpeCIsImxlblgiLCJsZW5ZIiwiRlhBQUZpbHRlciIsIk5vaXNlRmlsdGVyIiwibm9pc2UiLCJzZWVkIiwicmFuZG9tIiwidU5vaXNlIiwidVNlZWQiLCJfdGVtcE1hdHJpeCIsIl9jYWNoZUFzQml0bWFwIiwiX2NhY2hlRGF0YSIsIkNhY2hlRGF0YSIsInRleHR1cmVDYWNoZUlkIiwib3JpZ2luYWxSZW5kZXIiLCJvcmlnaW5hbFJlbmRlckNhbnZhcyIsIm9yaWdpbmFsQ2FsY3VsYXRlQm91bmRzIiwib3JpZ2luYWxHZXRMb2NhbEJvdW5kcyIsIm9yaWdpbmFsVXBkYXRlVHJhbnNmb3JtIiwib3JpZ2luYWxIaXRUZXN0Iiwib3JpZ2luYWxEZXN0cm95Iiwib3JpZ2luYWxNYXNrIiwib3JpZ2luYWxGaWx0ZXJBcmVhIiwiY2FjaGVBc0JpdG1hcCIsInJlbmRlckNhbnZhcyIsIm9yaWdpbmFsQ29udGFpbnNQb2ludCIsIl9yZW5kZXJDYWNoZWQiLCJfcmVuZGVyQ2FjaGVkQ2FudmFzIiwiX2NhY2hlQXNCaXRtYXBEZXN0cm95IiwiX2Rlc3Ryb3lDYWNoZWREaXNwbGF5T2JqZWN0IiwiX2luaXRDYWNoZWREaXNwbGF5T2JqZWN0IiwiY2FjaGVBbHBoYSIsImNhY2hlZFJlbmRlclRleHR1cmUiLCJjYWNoZWRTb3VyY2VGcmFtZSIsImNhY2hlZFByb2plY3Rpb25UcmFuc2Zvcm0iLCJfY2FsY3VsYXRlQ2FjaGVkQm91bmRzIiwiX2dldENhY2hlZExvY2FsQm91bmRzIiwiY2FjaGVkU3ByaXRlIiwiX2luaXRDYWNoZWREaXNwbGF5T2JqZWN0Q2FudmFzIiwiX3JlbmRlckNhbnZhcyIsImNhY2hlZFJlbmRlclRhcmdldCIsImdldENoaWxkQnlOYW1lIiwiZ2V0R2xvYmFsUG9zaXRpb24iLCJNZXNoQmF0Y2hVdnMiLCJfYnVmZmVyVXBkYXRlSWQiLCJfdGV4dHVyZVVwZGF0ZUlkIiwidGVtcFBvbHlnb24iLCJNZXNoIiwidmVydGV4RGlydHkiLCJiYXRjaFV2cyIsInZlcnRpY2VzQnVmZmVyIiwibWF0ZXJpYWwiLCJfcmVuZGVyVG9CYXRjaCIsIl9yZW5kZXJEZWZhdWx0IiwiY2FsY3VsYXRlVXZzIiwidmVydGV4RGlydHlJZCIsImdlb21VdnMiLCJzdGVwIiwiaW5kMCIsImluZDEiLCJpbmQyIiwiTWVzaE1hdGVyaWFsIiwidVRleHR1cmVNYXRyaXgiLCJfY29sb3JEaXJ0eSIsIl9hbHBoYSIsIk1lc2hHZW9tZXRyeSIsInV2c0J1ZmZlciIsIl91cGRhdGVJZCIsIlBsYW5lR2VvbWV0cnkiLCJzZWdXaWR0aCIsInNlZ0hlaWdodCIsInNlZ21lbnRzWCIsInNlZ21lbnRzWSIsInNpemVYIiwic2l6ZVkiLCJ0b3RhbFN1YiIsInhwb3MiLCJ5cG9zIiwidmFsdWUyIiwidmFsdWUzIiwidmFsdWU0IiwiUm9wZUdlb21ldHJ5IiwidGV4dHVyZVNjYWxlIiwicHJldiIsInRleHR1cmVXaWR0aCIsImRpc3RhbmNlIiwidXBkYXRlVmVydGljZXMiLCJuZXh0UG9pbnQiLCJwZXJwWCIsInBlcnBZIiwicGVycExlbmd0aCIsIm51bSIsIlNpbXBsZVJvcGUiLCJyb3BlR2VvbWV0cnkiLCJtZXNoTWF0ZXJpYWwiLCJTaW1wbGVQbGFuZSIsInZlcnRpY2VzWCIsInZlcnRpY2VzWSIsInBsYW5lR2VvbWV0cnkiLCJ0ZXh0dXJlVXBkYXRlZCIsIlNpbXBsZU1lc2giLCJOaW5lU2xpY2VQbGFuZSIsImxlZnRXaWR0aCIsInRvcEhlaWdodCIsInJpZ2h0V2lkdGgiLCJib3R0b21IZWlnaHQiLCJfb3JpZ1dpZHRoIiwiX29yaWdIZWlnaHQiLCJfbGVmdFdpZHRoIiwiX3JpZ2h0V2lkdGgiLCJfdG9wSGVpZ2h0IiwiX2JvdHRvbUhlaWdodCIsIl9yZWZyZXNoIiwidXBkYXRlSG9yaXpvbnRhbFZlcnRpY2VzIiwidXBkYXRlVmVydGljYWxWZXJ0aWNlcyIsIl91dnciLCJfdXZoIiwiQW5pbWF0ZWRTcHJpdGUiLCJfZHVyYXRpb25zIiwiYW5pbWF0aW9uU3BlZWQiLCJsb29wIiwidXBkYXRlQW5jaG9yIiwib25GcmFtZUNoYW5nZSIsIm9uTG9vcCIsIl9jdXJyZW50VGltZSIsInBsYXlpbmciLCJ0b3RhbEZyYW1lcyIsImN1cnJlbnRGcmFtZSIsImdvdG9BbmRTdG9wIiwiZnJhbWVOdW1iZXIiLCJwcmV2aW91c0ZyYW1lIiwiZ290b0FuZFBsYXkiLCJlbGFwc2VkIiwibGFnIiwiZnJvbUZyYW1lcyIsImZyb21JbWFnZXMiLCJpbWFnZXMiLCJ2NSIsInVzZURlcHJlY2F0ZWQiLCJQSVhJIiwiVHJhbnNmb3JtU3RhdGljIiwiVHJhbnNmb3JtQmFzZSIsIlRSQU5TRk9STV9NT0RFIiwiU1RBVElDIiwiRFlOQU1JQyIsIldlYkdMUmVuZGVyZXIiLCJDYW52YXNSZW5kZXJUYXJnZXQiLCJ1dGlscyIsIkZpbHRlck1hbmFnZXIiLCJDYW52YXNUaW50ZXIiLCJjYW52YXNVdGlscyIsIkdyb3VwRDgiLCJleHRyYXMiLCJnZXRTdmdTaXplIiwibWVzaCIsIlBsYW5lIiwiUm9wZSIsIlJhd01lc2giLCJDYW52YXNNZXNoUmVuZGVyZXIiLCJNZXNoUmVuZGVyZXIiLCJwYXJ0aWNsZXMiLCJsb2FkZXJzIiwiYml0bWFwRm9udFBhcnNlciIsInBhcnNlQml0bWFwRm9udERhdGEiLCJzcHJpdGVzaGVldFBhcnNlciIsImFkZFBpeGlNaWRkbGV3YXJlIiwibWlkZGxld2FyZSIsInByZXBhcmUiLCJfcmVuZGVyV2ViR0wiLCJyZW5kZXJXZWJHTCIsInJlbmRlckFkdmFuY2VkV2ViR0wiLCJsb2FkU291cmNlIiwiYmFzZVRleHR1cmVJZERlcHJlY2F0aW9uIiwiaGFzTG9hZGVkIiwiX2lkIiwiZnJvbUNhbnZhcyIsImZyb21TVkciLCJjb3B5Iiwic2V0U3RhdGUiLCJnZXRSZW5kZXJUYXJnZXQiLCJyZXR1cm5SZW5kZXJUYXJnZXQiLCJjYWxjdWxhdGVTY3JlZW5TcGFjZU1hdHJpeCIsImNhbGN1bGF0ZU5vcm1hbGl6ZWRTY3JlZW5TcGFjZU1hdHJpeCIsInRyYW5zbGF0ZVNjYWxlWCIsInRyYW5zbGF0ZVNjYWxlWSIsIkJsdXJYRmlsdGVyIiwic3VwZXJjbGFzcyIsIkJsdXJZRmlsdGVyIiwic3ByaXRlRnJvbSIsInRleHR1cmVGcm9tIiwiZ2VuZXJhdGVDYW52YXNUZXh0dXJlIiwiZnJvbVZpZGVvIiwibWl4aW5zIiwiZGVsYXlNaXhpbiIsInBlcmZvcm1NaXhpbnMiLCJtYWluU2NyZWVuIiwibGlmZSIsInJvYWRzIiwicHVueWNvZGUiLCJ1dGlsIiwic2xhc2hlcyIsImF1dGgiLCJxdWVyeSIsInBhdGhuYW1lIiwidXJsUGFyc2UiLCJyZWxhdGl2ZSIsInJlc29sdmVPYmplY3QiLCJpc1N0cmluZyIsInByb3RvY29sUGF0dGVybiIsInBvcnRQYXR0ZXJuIiwic2ltcGxlUGF0aFBhdHRlcm4iLCJ1bndpc2UiLCJhdXRvRXNjYXBlIiwibm9uSG9zdENoYXJzIiwiaG9zdEVuZGluZ0NoYXJzIiwiaG9zdG5hbWVQYXJ0UGF0dGVybiIsImhvc3RuYW1lUGFydFN0YXJ0IiwidW5zYWZlUHJvdG9jb2wiLCJob3N0bGVzc1Byb3RvY29sIiwic2xhc2hlZFByb3RvY29sIiwicXVlcnlzdHJpbmciLCJwYXJzZVF1ZXJ5U3RyaW5nIiwic2xhc2hlc0Rlbm90ZUhvc3QiLCJpc09iamVjdCIsInF1ZXJ5SW5kZXgiLCJzcGxpdHRlciIsInVTcGxpdCIsInJlc3QiLCJzaW1wbGVQYXRoIiwicHJvdG8iLCJsb3dlclByb3RvIiwiYXRTaWduIiwiaG9zdEVuZCIsImhlYyIsImRlY29kZVVSSUNvbXBvbmVudCIsInBhcnNlSG9zdCIsImlwdjZIb3N0bmFtZSIsImhvc3RwYXJ0cyIsInBhcnQiLCJuZXdwYXJ0IiwidmFsaWRQYXJ0cyIsIm5vdEhvc3QiLCJiaXQiLCJ0b0FTQ0lJIiwiYWUiLCJlc2MiLCJlc2NhcGUiLCJxbSIsInN0cmluZ2lmeSIsInJlbCIsInRrZXlzIiwidGsiLCJ0a2V5IiwicmtleXMiLCJyayIsInJrZXkiLCJyZWxQYXRoIiwiaXNTb3VyY2VBYnMiLCJpc1JlbEFicyIsIm11c3RFbmRBYnMiLCJyZW1vdmVBbGxEb3RzIiwic3JjUGF0aCIsInBzeWNob3RpYyIsImlzTnVsbE9yVW5kZWZpbmVkIiwiYXV0aEluSG9zdCIsImlzTnVsbCIsImxhc3QiLCJoYXNUcmFpbGluZ1NsYXNoIiwidXAiLCJpc0Fic29sdXRlIiwic3RyIiwib3B0cyIsInBhcnNlciIsImxvb3NlIiwidXJpIiwiJDAiLCIkMSIsIiQyIiwiYXBwIiwic2V0dXBSb2FkcyIsInJvYWRzTGlzdCIsInJvYWQiLCJ0cmVlc0xpc3QiLCJ0cmVlIiwicGxheWVyIiwiZ2FtZUxvb3AiLCJrZXlEb3duIiwia2V5VXAiLCJoYXMiLCJwcmVmaXgiLCJFdmVudHMiLCJFRSIsImFkZExpc3RlbmVyIiwiZW1pdHRlciIsImV2dCIsIl9ldmVudHMiLCJfZXZlbnRzQ291bnQiLCJjbGVhckV2ZW50IiwiZXZlbnROYW1lcyIsIm5hbWVzIiwiZ2V0T3duUHJvcGVydHlTeW1ib2xzIiwibGlzdGVuZXJzIiwiaGFuZGxlcnMiLCJsaXN0ZW5lckNvdW50IiwicmVtb3ZlTGlzdGVuZXIiLCJwcmVmaXhlZCIsImVhcmN1dCIsImhvbGVJbmRpY2VzIiwiZGltIiwiaW52U2l6ZSIsImhhc0hvbGVzIiwib3V0ZXJMZW4iLCJvdXRlck5vZGUiLCJsaW5rZWRMaXN0Iiwic3RlaW5lciIsImdldExlZnRtb3N0IiwiY29tcGFyZVgiLCJlbGltaW5hdGVIb2xlIiwiZmlsdGVyUG9pbnRzIiwiZWxpbWluYXRlSG9sZXMiLCJlYXJjdXRMaW5rZWQiLCJjbG9ja3dpc2UiLCJzaWduZWRBcmVhIiwiaW5zZXJ0Tm9kZSIsInJlbW92ZU5vZGUiLCJhZ2FpbiIsImVhciIsInBhc3MiLCJ6Iiwiek9yZGVyIiwicHJldloiLCJuZXh0WiIsInRhaWwiLCJudW1NZXJnZXMiLCJwU2l6ZSIsInFTaXplIiwiaW5TaXplIiwic29ydExpbmtlZCIsImluZGV4Q3VydmUiLCJpc0Vhckhhc2hlZCIsImlzRWFyIiwiY3VyZUxvY2FsSW50ZXJzZWN0aW9ucyIsInNwbGl0RWFyY3V0IiwicG9pbnRJblRyaWFuZ2xlIiwibWluVFgiLCJtaW5UWSIsIm1heFRYIiwibWF4VFkiLCJtaW5aIiwibWF4WiIsImludGVyc2VjdHMiLCJsb2NhbGx5SW5zaWRlIiwiaXNWYWxpZERpYWdvbmFsIiwic3BsaXRQb2x5Z29uIiwiaHgiLCJoeSIsInRhbiIsIm14IiwibXkiLCJ0YW5NaW4iLCJzZWN0b3JDb250YWluc1NlY3RvciIsImZpbmRIb2xlQnJpZGdlIiwibGVmdG1vc3QiLCJpbnRlcnNlY3RzUG9seWdvbiIsIm1pZGRsZUluc2lkZSIsInAxIiwicDIiLCJxMSIsInEyIiwibzEiLCJvMiIsIm8zIiwibzQiLCJvblNlZ21lbnQiLCJOb2RlIiwiYW4iLCJicCIsInN1bSIsImRldmlhdGlvbiIsInBvbHlnb25BcmVhIiwidHJpYW5nbGVzQXJlYSIsImZsYXR0ZW4iLCJkaW1lbnNpb25zIiwiaG9sZUluZGV4IiwiTmF0aXZlUHJvbWlzZSIsIm5hdGl2ZVByb21pc2VTdXBwb3J0ZWQiLCJQb2x5ZmlsbCIsIk5PT1AiLCJhc3luY1RpbWVyIiwiYXN5bmNTZXRUaW1lciIsInNldEltbWVkaWF0ZSIsImFzeW5jUXVldWUiLCJhc3luY0ZsdXNoIiwiYXN5bmNDYWxsIiwiYXJnIiwiaW52b2tlQ2FsbGJhY2siLCJzdWJzY3JpYmVyIiwib3duZXIiLCJzZXR0bGVkIiwic3RhdGVfIiwiZGF0YV8iLCJwcm9taXNlIiwiaGFuZGxlVGhlbmFibGUiLCJyZXNvbHZlZCIsImZ1bGZpbGwiLCJyZWFzb24iLCJwdWJsaXNoRnVsZmlsbG1lbnQiLCJwdWJsaXNoUmVqZWN0aW9uIiwicHVibGlzaCIsImNhbGxiYWNrcyIsInRoZW5fIiwicmVzb2x2ZXIiLCJyZWplY3RQcm9taXNlIiwiaW52b2tlUmVzb2x2ZXIiLCJvbkZ1bGZpbGxtZW50Iiwib25SZWplY3Rpb24iLCJmdWxmaWxsZWQiLCJyZWplY3RlZCIsInJlc3VsdHMiLCJyZW1haW5pbmciLCJyYWNlIiwicHJvcElzRW51bWVyYWJsZSIsInByb3BlcnR5SXNFbnVtZXJhYmxlIiwidG9PYmplY3QiLCJ0ZXN0MSIsImdldE93blByb3BlcnR5TmFtZXMiLCJ0ZXN0MiIsImZyb21DaGFyQ29kZSIsInRlc3QzIiwic2hvdWxkVXNlTmF0aXZlIiwic3ltYm9scyIsInRvIiwiY29tbW9uanNHbG9iYWwiLCJnbG9iYWxUaGlzIiwiZ2V0VGltZSIsInN0YXJ0VGltZSIsInZlbmRvcnMiLCJkZWxheSIsImlzTmFOIiwiaXNGaW5pdGUiLCJUaW1lb3V0IiwiY2xlYXJGbiIsIl9jbGVhckZuIiwic2V0SW50ZXJ2YWwiLCJjbGVhckludGVydmFsIiwidW5yZWYiLCJlbnJvbGwiLCJtc2VjcyIsIl9pZGxlVGltZW91dElkIiwiX2lkbGVUaW1lb3V0IiwidW5lbnJvbGwiLCJfdW5yZWZBY3RpdmUiLCJhY3RpdmUiLCJjbGVhckltbWVkaWF0ZSIsInJlZ2lzdGVySW1tZWRpYXRlIiwiY2hhbm5lbCIsIm1lc3NhZ2VQcmVmaXgiLCJvbkdsb2JhbE1lc3NhZ2UiLCJuZXh0SGFuZGxlIiwidGFza3NCeUhhbmRsZSIsImN1cnJlbnRseVJ1bm5pbmdBVGFzayIsImRvYyIsImF0dGFjaFRvIiwiZ2V0UHJvdG90eXBlT2YiLCJoYW5kbGUiLCJuZXh0VGljayIsInJ1bklmUHJlc2VudCIsInBvc3RNZXNzYWdlIiwiaW1wb3J0U2NyaXB0cyIsInBvc3RNZXNzYWdlSXNBc3luY2hyb25vdXMiLCJvbGRPbk1lc3NhZ2UiLCJvbm1lc3NhZ2UiLCJjYW5Vc2VQb3N0TWVzc2FnZSIsIk1lc3NhZ2VDaGFubmVsIiwicG9ydDEiLCJwb3J0MiIsImRvY3VtZW50RWxlbWVudCIsInNjcmlwdCIsIm9ucmVhZHlzdGF0ZWNoYW5nZSIsImF0dGFjaEV2ZW50IiwiY2FjaGVkU2V0VGltZW91dCIsImNhY2hlZENsZWFyVGltZW91dCIsImRlZmF1bHRTZXRUaW1vdXQiLCJkZWZhdWx0Q2xlYXJUaW1lb3V0IiwicnVuVGltZW91dCIsImZ1biIsImN1cnJlbnRRdWV1ZSIsImRyYWluaW5nIiwicXVldWVJbmRleCIsImNsZWFuVXBOZXh0VGljayIsImRyYWluUXVldWUiLCJtYXJrZXIiLCJydW5DbGVhclRpbWVvdXQiLCJJdGVtIiwibm9vcCIsImJyb3dzZXIiLCJlbnYiLCJhcmd2IiwidmVyc2lvbnMiLCJwcmVwZW5kTGlzdGVuZXIiLCJwcmVwZW5kT25jZUxpc3RlbmVyIiwiYmluZGluZyIsImN3ZCIsImNoZGlyIiwidW1hc2siLCJub2RlVHlwZSIsImZyZWVHbG9iYWwiLCJtYXhJbnQiLCJyZWdleFB1bnljb2RlIiwicmVnZXhOb25BU0NJSSIsInJlZ2V4U2VwYXJhdG9ycyIsImVycm9ycyIsInN0cmluZ0Zyb21DaGFyQ29kZSIsIm1hcERvbWFpbiIsInBhcnRzIiwidWNzMmRlY29kZSIsImV4dHJhIiwiY291bnRlciIsInVjczJlbmNvZGUiLCJkaWdpdFRvQmFzaWMiLCJkaWdpdCIsImFkYXB0IiwibnVtUG9pbnRzIiwiZmlyc3RUaW1lIiwiYmFzZU1pbnVzVE1pbiIsImJhc2UiLCJkZWNvZGUiLCJiYXNpYyIsIm9sZGkiLCJiYXNlTWludXNUIiwiY29kZVBvaW50IiwiaW5wdXRMZW5ndGgiLCJiaWFzIiwiZW5jb2RlIiwiaGFuZGxlZENQQ291bnQiLCJiYXNpY0xlbmd0aCIsImN1cnJlbnRWYWx1ZSIsImhhbmRsZWRDUENvdW50UGx1c09uZSIsInFNaW51c1QiLCJ3ZWJwYWNrUG9seWZpbGwiLCJkZXByZWNhdGUiLCJwYXRocyIsInFzIiwic2VwIiwiZXEiLCJyZWdleHAiLCJtYXhLZXlzIiwia3N0ciIsInZzdHIiLCJ4cyIsInN0cmluZ2lmeVByaW1pdGl2ZSIsIm9iamVjdEtleXMiLCJrcyIsImNvdW50TGlmZSIsIktFWVMiLCJtb3ZpbmdJdGVtc0xpc3QiLCJhY3Rpb25Sb2FkcyIsIlBsYXllciIsInZpZXdOdW1iZXJMaWZlIiwiY2hlY2tUcmVlIiwic29tZSIsIlJvYWQiLCJxdWFudGl0eVRyZWVzIiwiVHJlZSIsIm1vdmVQbGF5ZXIiLCJhTmV4dFgiLCJhTmV4dFkiLCJhQm94IiwiYkJveCIsIm1vdmUiLCJvbkJhdWxrIiwiYmF1bGsiLCJwbGF5ZXJCb3giLCJiYXVsa0JveCIsInR5cGVJdGVtIiwic3dpbSIsImNhbkNyZWF0ZUl0ZW0iLCJzcmNDYXIiLCJkaXJlY3Rpb24iLCJDYXIiLCJjZW50ZXJSb2FkIiwiQmF1bGsiLCJ3YWl0aW5nRm9yQ3JlYXRlSXRlbSIsIndhdGVyIiwid2F0ZXJCb3giLCJkZWFkIiwieF9tb3ZlIiwieV9tb3ZlIiwibmV3WCIsInR5cGVSb2FkIiwic2VsZWN0Q29sb3IiLCJ0aW1lciJdLCJtYXBwaW5ncyI6ImFBQ0UsSUFBSUEsRUFBbUIsR0FHdkIsU0FBU0MsRUFBb0JDLEdBRzVCLEdBQUdGLEVBQWlCRSxHQUNuQixPQUFPRixFQUFpQkUsR0FBVUMsUUFHbkMsSUFBSUMsRUFBU0osRUFBaUJFLEdBQVksQ0FDekNHLEVBQUdILEVB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RUFBRSxHQUFLQyxFQUFFLEdBQU9ELEVBQUUsR0FBS0MsRUFBRSxJQUFRRCxFQUFFLEdBQUtDLEVBQUUsSUFDcEV3RyxFQUFJLEdBQU16RyxFQUFFLEdBQUtDLEVBQUUsR0FBT0QsRUFBRSxHQUFLQyxFQUFFLEdBQU9ELEVBQUUsR0FBS0MsRUFBRSxJQUFRRCxFQUFFLEdBQUtDLEVBQUUsSUFDcEV3RyxFQUFJLEdBQU16RyxFQUFFLEdBQUtDLEVBQUUsR0FBT0QsRUFBRSxHQUFLQyxFQUFFLEdBQU9ELEVBQUUsR0FBS0MsRUFBRSxJQUFRRCxFQUFFLEdBQUtDLEVBQUUsSUFDcEV3RyxFQUFJLEdBQU16RyxFQUFFLEdBQUtDLEVBQUUsR0FBT0QsRUFBRSxHQUFLQyxFQUFFLEdBQU9ELEVBQUUsR0FBS0MsRUFBRSxJQUFRRCxFQUFFLEdBQUtDLEVBQUUsSUFDcEV3RyxFQUFJLEdBQU16RyxFQUFFLEdBQUtDLEVBQUUsR0FBT0QsRUFBRSxHQUFLQyxFQUFFLEdBQU9ELEVBQUUsR0FBS0MsRUFBRSxJQUFRRCxFQUFFLEdBQUtDLEVBQUUsSUFBT0QsRUFBRSxHQUc3RXlHLEVBQUksR0FBTXpHLEVBQUUsR0FBS0MsRUFBRSxHQUFPRCxFQUFFLEdBQUtDLEVBQUUsR0FBT0QsRUFBRSxHQUFLQyxFQUFFLElBQVFELEVBQUUsR0FBS0MsRUFBRSxJQUNwRXdHLEVBQUksR0FBTXpHLEVBQUUsR0FBS0MsRUFBRSxHQUFPRCxFQUFFLEdBQUtDLEVBQUUsR0FBT0QsRUFBRSxHQUFLQyxFQUFFLElBQVFELEVBQUUsR0FBS0MsRUFBRSxJQUNwRXdHLEVBQUksR0FBTXpHLEVBQUUsR0FBS0MsRUFBRSxHQUFPRCxFQUFFLEdBQUtDLEVBQUUsR0FBT0QsRUFBRSxHQUFLQyxFQUFFLElBQVFELEVBQUUsR0FBS0MsRUFBRSxJQUNwRXdHLEVBQUksR0FBTXpHLEVBQUUsR0FBS0MsRUFBRSxHQUFPRCxFQUFFLEdBQUtDLEVBQUUsR0FBT0QsRUFBRSxHQUFLQyxFQUFFLElBQVFELEVBQUUsR0FBS0MsRUFBRSxJQUNwRXdHLEVBQUksR0FBTXpHLEVBQUUsR0FBS0MsRUFBRSxHQUFPRCxFQUFFLEdBQUtDLEVBQUUsR0FBT0QsRUFBRSxHQUFLQyxFQUFFLElBQVFELEVBQUUsR0FBS0MsRUFBRSxJQUFPRCxFQUFFLEdBRzdFeUcsRUFBSSxJQUFPekcsRUFBRSxJQUFNQyxFQUFFLEdBQU9ELEVBQUUsSUFBTUMsRUFBRSxHQUFPRCxFQUFFLElBQU1DLEVBQUUsSUFBUUQsRUFBRSxJQUFNQyxFQUFFLElBQ3pFd0csRUFBSSxJQUFPekcsRUFBRSxJQUFNQyxFQUFFLEdBQU9ELEVBQUUsSUFBTUMsRUFBRSxHQUFPRCxFQUFFLElBQU1DLEVBQUUsSUFBUUQsRUFBRSxJQUFNQyxFQUFFLElBQ3pFd0csRUFBSSxJQUFPekcsRUFBRSxJQUFNQyxFQUFFLEdBQU9ELEVBQUUsSUFBTUMsRUFBRSxHQUFPRCxFQUFFLElBQU1DLEVBQUUsSUFBUUQsRUFBRSxJQUFNQyxFQUFFLElBQ3pFd0csRUFBSSxJQUFPekcsRUFBRSxJQUFNQyxFQUFFLEdBQU9ELEVBQUUsSUFBTUMsRUFBRSxHQUFPRCxFQUFFLElBQU1DLEVBQUUsSUFBUUQsRUFBRSxJQUFNQyxFQUFFLElBQ3pFd0csRUFBSSxJQUFPekcsRUFBRSxJQUFNQyxFQUFFLEdBQU9ELEVBQUUsSUFBTUMsRUFBRSxHQUFPRCxFQUFFLElBQU1DLEVBQUUsSUFBUUQsRUFBRSxJQUFNQyxFQUFFLElBQU9ELEVBQUUsSUFHbEZ5RyxFQUFJLElBQU96RyxFQUFFLElBQU1DLEVBQUUsR0FBT0QsRUFBRSxJQUFNQyxFQUFFLEdBQU9ELEVBQUUsSUFBTUMsRUFBRSxJQUFRRCxFQUFFLElBQU1DLEVBQUUsSUFDekV3RyxFQUFJLElBQU96RyxFQUFFLElBQU1DLEVBQUUsR0FBT0QsRUFBRSxJQUFNQyxFQUFFLEdBQU9ELEVBQUUsSUFBTUMsRUFBRSxJQUFRRCxFQUFFLElBQU1DLEVBQUUsSUFDekV3RyxFQUFJLElBQU96RyxFQUFFLElBQU1DLEVBQUUsR0FBT0QsRUFBRSxJQUFNQyxFQUFFLEdBQU9ELEVBQUUsSUFBTUMs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IGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gNyk7XG4iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gKGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmICgndmFsdWUnIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KSgpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbicpOyB9IH1cblxudmFyIE1pbmlTaWduYWxCaW5kaW5nID0gKGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gTWluaVNpZ25hbEJpbmRpbmcoZm4sIG9uY2UsIHRoaXNBcmcpIHtcbiAgICBpZiAob25jZSA9PT0gdW5kZWZpbmVkKSBvbmNlID0gZmFsc2U7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTWluaVNpZ25hbEJpbmRpbmcpO1xuXG4gICAgdGhpcy5fZm4gPSBmbjtcbiAgICB0aGlzLl9vbmNlID0gb25jZTtcbiAgICB0aGlzLl90aGlzQXJnID0gdGhpc0FyZztcbiAgICB0aGlzLl9uZXh0ID0gdGhpcy5fcHJldiA9IHRoaXMuX293bmVyID0gbnVsbDtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhNaW5pU2lnbmFsQmluZGluZywgW3tcbiAgICBrZXk6ICdkZXRhY2gnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBkZXRhY2goKSB7XG4gICAgICBpZiAodGhpcy5fb3duZXIgPT09IG51bGwpIHJldHVybiBmYWxzZTtcbiAgICAgIHRoaXMuX293bmVyLmRldGFjaCh0aGlzKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBNaW5pU2lnbmFsQmluZGluZztcbn0pKCk7XG5cbmZ1bmN0aW9uIF9hZGRNaW5pU2lnbmFsQmluZGluZyhzZWxmLCBub2RlKSB7XG4gIGlmICghc2VsZi5faGVhZCkge1xuICAgIHNlbGYuX2hlYWQgPSBub2RlO1xuICAgIHNlbGYuX3RhaWwgPSBub2RlO1xuICB9IGVsc2Uge1xuICAgIHNlbGYuX3RhaWwuX25leHQgPSBub2RlO1xuICAgIG5vZGUuX3ByZXYgPSBzZWxmLl90YWlsO1xuICAgIHNlbGYuX3RhaWwgPSBub2RlO1xuICB9XG5cbiAgbm9kZS5fb3duZXIgPSBzZWxmO1xuXG4gIHJldHVybiBub2RlO1xufVxuXG52YXIgTWluaVNpZ25hbCA9IChmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIE1pbmlTaWduYWwoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE1pbmlTaWduYWwpO1xuXG4gICAgdGhpcy5faGVhZCA9IHRoaXMuX3RhaWwgPSB1bmRlZmluZWQ7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoTWluaVNpZ25hbCwgW3tcbiAgICBrZXk6ICdoYW5kbGVycycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGhhbmRsZXJzKCkge1xuICAgICAgdmFyIGV4aXN0cyA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMCB8fCBhcmd1bWVudHNbMF0gPT09IHVuZGVmaW5lZCA/IGZhbHNlIDogYXJndW1lbnRzWzBdO1xuXG4gICAgICB2YXIgbm9kZSA9IHRoaXMuX2hlYWQ7XG5cbiAgICAgIGlmIChleGlzdHMpIHJldHVybiAhIW5vZGU7XG5cbiAgICAgIHZhciBlZSA9IFtdO1xuXG4gICAgICB3aGlsZSAobm9kZSkge1xuICAgICAgICBlZS5wdXNoKG5vZGUpO1xuICAgICAgICBub2RlID0gbm9kZS5fbmV4dDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGVlO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2hhcycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGhhcyhub2RlKSB7XG4gICAgICBpZiAoIShub2RlIGluc3RhbmNlb2YgTWluaVNpZ25hbEJpbmRpbmcpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTWluaVNpZ25hbCNoYXMoKTogRmlyc3QgYXJnIG11c3QgYmUgYSBNaW5pU2lnbmFsQmluZGluZyBvYmplY3QuJyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBub2RlLl9vd25lciA9PT0gdGhpcztcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdkaXNwYXRjaCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGRpc3BhdGNoKCkge1xuICAgICAgdmFyIG5vZGUgPSB0aGlzLl9oZWFkO1xuXG4gICAgICBpZiAoIW5vZGUpIHJldHVybiBmYWxzZTtcblxuICAgICAgd2hpbGUgKG5vZGUpIHtcbiAgICAgICAgaWYgKG5vZGUuX29uY2UpIHRoaXMuZGV0YWNoKG5vZGUpO1xuICAgICAgICBub2RlLl9mbi5hcHBseShub2RlLl90aGlzQXJnLCBhcmd1bWVudHMpO1xuICAgICAgICBub2RlID0gbm9kZS5fbmV4dDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnYWRkJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gYWRkKGZuKSB7XG4gICAgICB2YXIgdGhpc0FyZyA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMSB8fCBhcmd1bWVudHNbMV0gPT09IHVuZGVmaW5lZCA/IG51bGwgOiBhcmd1bWVudHNbMV07XG5cbiAgICAgIGlmICh0eXBlb2YgZm4gIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaW5pU2lnbmFsI2FkZCgpOiBGaXJzdCBhcmcgbXVzdCBiZSBhIEZ1bmN0aW9uLicpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIF9hZGRNaW5pU2lnbmFsQmluZGluZyh0aGlzLCBuZXcgTWluaVNpZ25hbEJpbmRpbmcoZm4sIGZhbHNlLCB0aGlzQXJnKSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnb25jZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uY2UoZm4pIHtcbiAgICAgIHZhciB0aGlzQXJnID0gYXJndW1lbnRzLmxlbmd0aCA8PSAxIHx8IGFyZ3VtZW50c1sxXSA9PT0gdW5kZWZpbmVkID8gbnVsbCA6IGFyZ3VtZW50c1sxXTtcblxuICAgICAgaWYgKHR5cGVvZiBmbiAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pbmlTaWduYWwjb25jZSgpOiBGaXJzdCBhcmcgbXVzdCBiZSBhIEZ1bmN0aW9uLicpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIF9hZGRNaW5pU2lnbmFsQmluZGluZyh0aGlzLCBuZXcgTWluaVNpZ25hbEJpbmRpbmcoZm4sIHRydWUsIHRoaXNBcmcpKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdkZXRhY2gnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBkZXRhY2gobm9kZSkge1xuICAgICAgaWYgKCEobm9kZSBpbnN0YW5jZW9mIE1pbmlTaWduYWxCaW5kaW5nKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pbmlTaWduYWwjZGV0YWNoKCk6IEZpcnN0IGFyZyBtdXN0IGJlIGEgTWluaVNpZ25hbEJpbmRpbmcgb2JqZWN0LicpO1xuICAgICAgfVxuICAgICAgaWYgKG5vZGUuX293bmVyICE9PSB0aGlzKSByZXR1cm4gdGhpcztcblxuICAgICAgaWYgKG5vZGUuX3ByZXYpIG5vZGUuX3ByZXYuX25leHQgPSBub2RlLl9uZXh0O1xuICAgICAgaWYgKG5vZGUuX25leHQpIG5vZGUuX25leHQuX3ByZXYgPSBub2RlLl9wcmV2O1xuXG4gICAgICBpZiAobm9kZSA9PT0gdGhpcy5faGVhZCkge1xuICAgICAgICB0aGlzLl9oZWFkID0gbm9kZS5fbmV4dDtcbiAgICAgICAgaWYgKG5vZGUuX25leHQgPT09IG51bGwpIHtcbiAgICAgICAgICB0aGlzLl90YWlsID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChub2RlID09PSB0aGlzLl90YWlsKSB7XG4gICAgICAgIHRoaXMuX3RhaWwgPSBub2RlLl9wcmV2O1xuICAgICAgICB0aGlzLl90YWlsLl9uZXh0ID0gbnVsbDtcbiAgICAgIH1cblxuICAgICAgbm9kZS5fb3duZXIgPSBudWxsO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnZGV0YWNoQWxsJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZGV0YWNoQWxsKCkge1xuICAgICAgdmFyIG5vZGUgPSB0aGlzLl9oZWFkO1xuICAgICAgaWYgKCFub2RlKSByZXR1cm4gdGhpcztcblxuICAgICAgdGhpcy5faGVhZCA9IHRoaXMuX3RhaWwgPSBudWxsO1xuXG4gICAgICB3aGlsZSAobm9kZSkge1xuICAgICAgICBub2RlLl9vd25lciA9IG51bGw7XG4gICAgICAgIG5vZGUgPSBub2RlLl9uZXh0O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIE1pbmlTaWduYWw7XG59KSgpO1xuXG5NaW5pU2lnbmFsLk1pbmlTaWduYWxCaW5kaW5nID0gTWluaVNpZ25hbEJpbmRpbmc7XG5cbmV4cG9ydHNbJ2RlZmF1bHQnXSA9IE1pbmlTaWduYWw7XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcbiIsIiFmdW5jdGlvbihlKXt2YXIgbj0vaVBob25lL2ksdD0vaVBvZC9pLHI9L2lQYWQvaSxhPS9cXGJBbmRyb2lkKD86LispTW9iaWxlXFxiL2kscD0vQW5kcm9pZC9pLGI9L1xcYkFuZHJvaWQoPzouKylTRDQ5MzBVUlxcYi9pLGw9L1xcYkFuZHJvaWQoPzouKykoPzpLRltBLVpdezIsNH0pXFxiL2ksZj0vV2luZG93cyBQaG9uZS9pLHM9L1xcYldpbmRvd3MoPzouKylBUk1cXGIvaSx1PS9CbGFja0JlcnJ5L2ksYz0vQkIxMC9pLGg9L09wZXJhIE1pbmkvaSx2PS9cXGIoQ3JpT1N8Q2hyb21lKSg/Oi4rKU1vYmlsZS9pLHc9L01vYmlsZSg/Oi4rKUZpcmVmb3hcXGIvaTtmdW5jdGlvbiBtKGUsaSl7cmV0dXJuIGUudGVzdChpKX1mdW5jdGlvbiBpKGUpe3ZhciBpPWV8fChcInVuZGVmaW5lZFwiIT10eXBlb2YgbmF2aWdhdG9yP25hdmlnYXRvci51c2VyQWdlbnQ6XCJcIiksbz1pLnNwbGl0KFwiW0ZCQU5cIik7dm9pZCAwIT09b1sxXSYmKGk9b1swXSksdm9pZCAwIT09KG89aS5zcGxpdChcIlR3aXR0ZXJcIikpWzFdJiYoaT1vWzBdKTt2YXIgZD17YXBwbGU6e3Bob25lOm0obixpKSYmIW0oZixpKSxpcG9kOm0odCxpKSx0YWJsZXQ6IW0obixpKSYmbShyLGkpJiYhbShmLGkpLGRldmljZToobShuLGkpfHxtKHQsaSl8fG0ocixpKSkmJiFtKGYsaSl9LGFtYXpvbjp7cGhvbmU6bShiLGkpLHRhYmxldDohbShiLGkpJiZtKGwsaSksZGV2aWNlOm0oYixpKXx8bShsLGkpfSxhbmRyb2lkOntwaG9uZTohbShmLGkpJiZtKGIsaSl8fCFtKGYsaSkmJm0oYSxpKSx0YWJsZXQ6IW0oZixpKSYmIW0oYixpKSYmIW0oYSxpKSYmKG0obCxpKXx8bShwLGkpKSxkZXZpY2U6IW0oZixpKSYmKG0oYixpKXx8bShsLGkpfHxtKGEsaSl8fG0ocCxpKSl8fG0oL1xcYm9raHR0cFxcYi9pLGkpfSx3aW5kb3dzOntwaG9uZTptKGYsaSksdGFibGV0Om0ocyxpKSxkZXZpY2U6bShmLGkpfHxtKHMsaSl9LG90aGVyOntibGFja2JlcnJ5Om0odSxpKSxibGFja2JlcnJ5MTA6bShjLGkpLG9wZXJhOm0oaCxpKSxmaXJlZm94Om0odyxpKSxjaHJvbWU6bSh2LGkpLGRldmljZTptKHUsaSl8fG0oYyxpKXx8bShoLGkpfHxtKHcsaSl8fG0odixpKX19O3JldHVybiBkLmFueT1kLmFwcGxlLmRldmljZXx8ZC5hbmRyb2lkLmRldmljZXx8ZC53aW5kb3dzLmRldmljZXx8ZC5vdGhlci5kZXZpY2UsZC5waG9uZT1kLmFwcGxlLnBob25lfHxkLmFuZHJvaWQucGhvbmV8fGQud2luZG93cy5waG9uZSxkLnRhYmxldD1kLmFwcGxlLnRhYmxldHx8ZC5hbmRyb2lkLnRhYmxldHx8ZC53aW5kb3dzLnRhYmxldCxkfVwidW5kZWZpbmVkXCIhPXR5cGVvZiBtb2R1bGUmJm1vZHVsZS5leHBvcnRzJiZcInVuZGVmaW5lZFwiPT10eXBlb2Ygd2luZG93P21vZHVsZS5leHBvcnRzPWk6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIG1vZHVsZSYmbW9kdWxlLmV4cG9ydHMmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/KG1vZHVsZS5leHBvcnRzPWkoKSxtb2R1bGUuZXhwb3J0cy5pc01vYmlsZT1pKTpcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFtdLGUuaXNNb2JpbGU9aSgpKTplLmlzTW9iaWxlPWkoKX0odGhpcyk7IiwiLyohXG4gKiBAcGl4aS9zZXR0aW5ncyAtIHY1LjIuMFxuICogQ29tcGlsZWQgV2VkLCAwNiBOb3YgMjAxOSAwMjozMjo0MyBVVENcbiAqXG4gKiBAcGl4aS9zZXR0aW5ncyBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbmltcG9ydCBpc01vYmlsZSBmcm9tICdpc21vYmlsZWpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgaXNNb2JpbGUgfSBmcm9tICdpc21vYmlsZWpzJztcblxuLyoqXG4gKiBUaGUgbWF4aW11bSByZWNvbW1lbmRlZCB0ZXh0dXJlIHVuaXRzIHRvIHVzZS5cbiAqIEluIHRoZW9yeSB0aGUgYmlnZ2VyIHRoZSBiZXR0ZXIsIGFuZCBmb3IgZGVza3RvcCB3ZSdsbCB1c2UgYXMgbWFueSBhcyB3ZSBjYW4uXG4gKiBCdXQgc29tZSBtb2JpbGUgZGV2aWNlcyBzbG93IGRvd24gaWYgdGhlcmUgaXMgdG8gbWFueSBicmFuY2hlcyBpbiB0aGUgc2hhZGVyLlxuICogU28gaW4gcHJhY3RpY2UgdGhlcmUgc2VlbXMgdG8gYmUgYSBzd2VldCBzcG90IHNpemUgdGhhdCB2YXJpZXMgZGVwZW5kaW5nIG9uIHRoZSBkZXZpY2UuXG4gKlxuICogSW4gdjQsIGFsbCBtb2JpbGUgZGV2aWNlcyB3ZXJlIGxpbWl0ZWQgdG8gNCB0ZXh0dXJlIHVuaXRzIGJlY2F1c2UgZm9yIHRoaXMuXG4gKiBJbiB2NSwgd2UgYWxsb3cgYWxsIHRleHR1cmUgdW5pdHMgdG8gYmUgdXNlZCBvbiBtb2Rlcm4gQXBwbGUgb3IgQW5kcm9pZCBkZXZpY2VzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge251bWJlcn0gbWF4XG4gKiBAcmV0dXJucyB7bnVtYmVyfVxuICovXG5mdW5jdGlvbiBtYXhSZWNvbW1lbmRlZFRleHR1cmVzKG1heClcbntcbiAgICB2YXIgYWxsb3dNYXggPSB0cnVlO1xuXG4gICAgaWYgKGlzTW9iaWxlLnRhYmxldCB8fCBpc01vYmlsZS5waG9uZSlcbiAgICB7XG4gICAgICAgIGFsbG93TWF4ID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKGlzTW9iaWxlLmFwcGxlLmRldmljZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIG1hdGNoID0gKG5hdmlnYXRvci51c2VyQWdlbnQpLm1hdGNoKC9PUyAoXFxkKylfKFxcZCspPy8pO1xuXG4gICAgICAgICAgICBpZiAobWF0Y2gpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdmFyIG1ham9yVmVyc2lvbiA9IHBhcnNlSW50KG1hdGNoWzFdLCAxMCk7XG5cbiAgICAgICAgICAgICAgICAvLyBBbGwgdGV4dHVyZSB1bml0cyBjYW4gYmUgdXNlZCBvbiBkZXZpY2VzIHRoYXQgc3VwcG9ydCBpb3MgMTEgb3IgYWJvdmVcbiAgICAgICAgICAgICAgICBpZiAobWFqb3JWZXJzaW9uID49IDExKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgYWxsb3dNYXggPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNNb2JpbGUuYW5kcm9pZC5kZXZpY2UpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBtYXRjaCQxID0gKG5hdmlnYXRvci51c2VyQWdlbnQpLm1hdGNoKC9BbmRyb2lkXFxzKFswLTkuXSopLyk7XG5cbiAgICAgICAgICAgIGlmIChtYXRjaCQxKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHZhciBtYWpvclZlcnNpb24kMSA9IHBhcnNlSW50KG1hdGNoJDFbMV0sIDEwKTtcblxuICAgICAgICAgICAgICAgIC8vIEFsbCB0ZXh0dXJlIHVuaXRzIGNhbiBiZSB1c2VkIG9uIGRldmljZXMgdGhhdCBzdXBwb3J0IEFuZHJvaWQgNyAoTm91Z2F0KSBvciBhYm92ZVxuICAgICAgICAgICAgICAgIGlmIChtYWpvclZlcnNpb24kMSA+PSA3KVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgYWxsb3dNYXggPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBhbGxvd01heCA/IG1heCA6IDQ7XG59XG5cbi8qKlxuICogVXBsb2FkaW5nIHRoZSBzYW1lIGJ1ZmZlciBtdWx0aXBsZSB0aW1lcyBpbiBhIHNpbmdsZSBmcmFtZSBjYW4gY2F1c2UgcGVyZm9ybWFuY2UgaXNzdWVzLlxuICogQXBwYXJlbnQgb24gaU9TIHNvIG9ubHkgY2hlY2sgZm9yIHRoYXQgYXQgdGhlIG1vbWVudFxuICogVGhpcyBjaGVjayBtYXkgYmVjb21lIG1vcmUgY29tcGxleCBpZiB0aGlzIGlzc3VlIHBvcHMgdXAgZWxzZXdoZXJlLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gY2FuVXBsb2FkU2FtZUJ1ZmZlcigpXG57XG4gICAgcmV0dXJuICFpc01vYmlsZS5hcHBsZS5kZXZpY2U7XG59XG5cbi8qKlxuICogVXNlcidzIGN1c3RvbWl6YWJsZSBnbG9iYWxzIGZvciBvdmVycmlkaW5nIHRoZSBkZWZhdWx0IFBJWEkgc2V0dGluZ3MsIHN1Y2hcbiAqIGFzIGEgcmVuZGVyZXIncyBkZWZhdWx0IHJlc29sdXRpb24sIGZyYW1lcmF0ZSwgZmxvYXQgcHJlY2lzaW9uLCBldGMuXG4gKiBAZXhhbXBsZVxuICogLy8gVXNlIHRoZSBuYXRpdmUgd2luZG93IHJlc29sdXRpb24gYXMgdGhlIGRlZmF1bHQgcmVzb2x1dGlvblxuICogLy8gd2lsbCBzdXBwb3J0IGhpZ2gtZGVuc2l0eSBkaXNwbGF5cyB3aGVuIHJlbmRlcmluZ1xuICogUElYSS5zZXR0aW5ncy5SRVNPTFVUSU9OID0gd2luZG93LmRldmljZVBpeGVsUmF0aW87XG4gKlxuICogLy8gRGlzYWJsZSBpbnRlcnBvbGF0aW9uIHdoZW4gc2NhbGluZywgd2lsbCBtYWtlIHRleHR1cmUgYmUgcGl4ZWxhdGVkXG4gKiBQSVhJLnNldHRpbmdzLlNDQUxFX01PREUgPSBQSVhJLlNDQUxFX01PREVTLk5FQVJFU1Q7XG4gKiBAbmFtZXNwYWNlIFBJWEkuc2V0dGluZ3NcbiAqL1xudmFyIHNldHRpbmdzID0ge1xuXG4gICAgLyoqXG4gICAgICogSWYgc2V0IHRvIHRydWUgV2ViR0wgd2lsbCBhdHRlbXB0IG1ha2UgdGV4dHVyZXMgbWltcGFwZWQgYnkgZGVmYXVsdC5cbiAgICAgKiBNaXBtYXBwaW5nIHdpbGwgb25seSBzdWNjZWVkIGlmIHRoZSBiYXNlIHRleHR1cmUgdXBsb2FkZWQgaGFzIHBvd2VyIG9mIHR3byBkaW1lbnNpb25zLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBuYW1lIE1JUE1BUF9URVhUVVJFU1xuICAgICAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gICAgICogQHR5cGUge1BJWEkuTUlQTUFQX01PREVTfVxuICAgICAqIEBkZWZhdWx0IFBJWEkuTUlQTUFQX01PREVTLlBPVzJcbiAgICAgKi9cbiAgICBNSVBNQVBfVEVYVFVSRVM6IDEsXG5cbiAgICAvKipcbiAgICAgKiBEZWZhdWx0IGFuaXNvdHJvcGljIGZpbHRlcmluZyBsZXZlbCBvZiB0ZXh0dXJlcy5cbiAgICAgKiBVc3VhbGx5IGZyb20gMCB0byAxNlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBuYW1lIEFOSVNPVFJPUElDX0xFVkVMXG4gICAgICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDBcbiAgICAgKi9cbiAgICBBTklTT1RST1BJQ19MRVZFTDogMCxcblxuICAgIC8qKlxuICAgICAqIERlZmF1bHQgcmVzb2x1dGlvbiAvIGRldmljZSBwaXhlbCByYXRpbyBvZiB0aGUgcmVuZGVyZXIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG5hbWUgUkVTT0xVVElPTlxuICAgICAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAxXG4gICAgICovXG4gICAgUkVTT0xVVElPTjogMSxcblxuICAgIC8qKlxuICAgICAqIERlZmF1bHQgZmlsdGVyIHJlc29sdXRpb24uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG5hbWUgRklMVEVSX1JFU09MVVRJT05cbiAgICAgKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMVxuICAgICAqL1xuICAgIEZJTFRFUl9SRVNPTFVUSU9OOiAxLFxuXG4gICAgLyoqXG4gICAgICogVGhlIG1heGltdW0gdGV4dHVyZXMgdGhhdCB0aGlzIGRldmljZSBzdXBwb3J0cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbmFtZSBTUFJJVEVfTUFYX1RFWFRVUkVTXG4gICAgICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDMyXG4gICAgICovXG4gICAgU1BSSVRFX01BWF9URVhUVVJFUzogbWF4UmVjb21tZW5kZWRUZXh0dXJlcygzMiksXG5cbiAgICAvLyBUT0RPOiBtYXliZSBjaGFuZ2UgdG8gU1BSSVRFLkJBVENIX1NJWkU6IDIwMDBcbiAgICAvLyBUT0RPOiBtYXliZSBhZGQgUEFSVElDTEUuQkFUQ0hfU0laRTogMTUwMDBcblxuICAgIC8qKlxuICAgICAqIFRoZSBkZWZhdWx0IHNwcml0ZSBiYXRjaCBzaXplLlxuICAgICAqXG4gICAgICogVGhlIGRlZmF1bHQgYWltcyB0byBiYWxhbmNlIGRlc2t0b3AgYW5kIG1vYmlsZSBkZXZpY2VzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBuYW1lIFNQUklURV9CQVRDSF9TSVpFXG4gICAgICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDQwOTZcbiAgICAgKi9cbiAgICBTUFJJVEVfQkFUQ0hfU0laRTogNDA5NixcblxuICAgIC8qKlxuICAgICAqIFRoZSBkZWZhdWx0IHJlbmRlciBvcHRpb25zIGlmIG5vbmUgYXJlIHN1cHBsaWVkIHRvIHtAbGluayBQSVhJLlJlbmRlcmVyfVxuICAgICAqIG9yIHtAbGluayBQSVhJLkNhbnZhc1JlbmRlcmVyfS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbmFtZSBSRU5ERVJfT1BUSU9OU1xuICAgICAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gICAgICogQHR5cGUge29iamVjdH1cbiAgICAgKiBAcHJvcGVydHkge0hUTUxDYW52YXNFbGVtZW50fSB2aWV3PW51bGxcbiAgICAgKiBAcHJvcGVydHkge251bWJlcn0gcmVzb2x1dGlvbj0xXG4gICAgICogQHByb3BlcnR5IHtib29sZWFufSBhbnRpYWxpYXM9ZmFsc2VcbiAgICAgKiBAcHJvcGVydHkge2Jvb2xlYW59IGZvcmNlRlhBQT1mYWxzZVxuICAgICAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gYXV0b0RlbnNpdHk9ZmFsc2VcbiAgICAgKiBAcHJvcGVydHkge2Jvb2xlYW59IHRyYW5zcGFyZW50PWZhbHNlXG4gICAgICogQHByb3BlcnR5IHtudW1iZXJ9IGJhY2tncm91bmRDb2xvcj0weDAwMDAwMFxuICAgICAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gY2xlYXJCZWZvcmVSZW5kZXI9dHJ1ZVxuICAgICAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gcHJlc2VydmVEcmF3aW5nQnVmZmVyPWZhbHNlXG4gICAgICogQHByb3BlcnR5IHtudW1iZXJ9IHdpZHRoPTgwMFxuICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBoZWlnaHQ9NjAwXG4gICAgICogQHByb3BlcnR5IHtib29sZWFufSBsZWdhY3k9ZmFsc2VcbiAgICAgKi9cbiAgICBSRU5ERVJfT1BUSU9OUzoge1xuICAgICAgICB2aWV3OiBudWxsLFxuICAgICAgICBhbnRpYWxpYXM6IGZhbHNlLFxuICAgICAgICBmb3JjZUZYQUE6IGZhbHNlLFxuICAgICAgICBhdXRvRGVuc2l0eTogZmFsc2UsXG4gICAgICAgIHRyYW5zcGFyZW50OiBmYWxzZSxcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiAweDAwMDAwMCxcbiAgICAgICAgY2xlYXJCZWZvcmVSZW5kZXI6IHRydWUsXG4gICAgICAgIHByZXNlcnZlRHJhd2luZ0J1ZmZlcjogZmFsc2UsXG4gICAgICAgIHdpZHRoOiA4MDAsXG4gICAgICAgIGhlaWdodDogNjAwLFxuICAgICAgICBsZWdhY3k6IGZhbHNlLFxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBEZWZhdWx0IEdhcmJhZ2UgQ29sbGVjdGlvbiBtb2RlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBuYW1lIEdDX01PREVcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICAgICAqIEB0eXBlIHtQSVhJLkdDX01PREVTfVxuICAgICAqIEBkZWZhdWx0IFBJWEkuR0NfTU9ERVMuQVVUT1xuICAgICAqL1xuICAgIEdDX01PREU6IDAsXG5cbiAgICAvKipcbiAgICAgKiBEZWZhdWx0IEdhcmJhZ2UgQ29sbGVjdGlvbiBtYXggaWRsZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbmFtZSBHQ19NQVhfSURMRVxuICAgICAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAzNjAwXG4gICAgICovXG4gICAgR0NfTUFYX0lETEU6IDYwICogNjAsXG5cbiAgICAvKipcbiAgICAgKiBEZWZhdWx0IEdhcmJhZ2UgQ29sbGVjdGlvbiBtYXhpbXVtIGNoZWNrIGNvdW50LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBuYW1lIEdDX01BWF9DSEVDS19DT1VOVFxuICAgICAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCA2MDBcbiAgICAgKi9cbiAgICBHQ19NQVhfQ0hFQ0tfQ09VTlQ6IDYwICogMTAsXG5cbiAgICAvKipcbiAgICAgKiBEZWZhdWx0IHdyYXAgbW9kZXMgdGhhdCBhcmUgc3VwcG9ydGVkIGJ5IHBpeGkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG5hbWUgV1JBUF9NT0RFXG4gICAgICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAgICAgKiBAdHlwZSB7UElYSS5XUkFQX01PREVTfVxuICAgICAqIEBkZWZhdWx0IFBJWEkuV1JBUF9NT0RFUy5DTEFNUFxuICAgICAqL1xuICAgIFdSQVBfTU9ERTogMzMwNzEsXG5cbiAgICAvKipcbiAgICAgKiBEZWZhdWx0IHNjYWxlIG1vZGUgZm9yIHRleHR1cmVzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBuYW1lIFNDQUxFX01PREVcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICAgICAqIEB0eXBlIHtQSVhJLlNDQUxFX01PREVTfVxuICAgICAqIEBkZWZhdWx0IFBJWEkuU0NBTEVfTU9ERVMuTElORUFSXG4gICAgICovXG4gICAgU0NBTEVfTU9ERTogMSxcblxuICAgIC8qKlxuICAgICAqIERlZmF1bHQgc3BlY2lmeSBmbG9hdCBwcmVjaXNpb24gaW4gdmVydGV4IHNoYWRlci5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbmFtZSBQUkVDSVNJT05fVkVSVEVYXG4gICAgICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAgICAgKiBAdHlwZSB7UElYSS5QUkVDSVNJT059XG4gICAgICogQGRlZmF1bHQgUElYSS5QUkVDSVNJT04uSElHSFxuICAgICAqL1xuICAgIFBSRUNJU0lPTl9WRVJURVg6ICdoaWdocCcsXG5cbiAgICAvKipcbiAgICAgKiBEZWZhdWx0IHNwZWNpZnkgZmxvYXQgcHJlY2lzaW9uIGluIGZyYWdtZW50IHNoYWRlci5cbiAgICAgKiBpT1MgaXMgYmVzdCBzZXQgYXQgaGlnaHAgZHVlIHRvIGh0dHBzOi8vZ2l0aHViLmNvbS9waXhpanMvcGl4aS5qcy9pc3N1ZXMvMzc0MlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBuYW1lIFBSRUNJU0lPTl9GUkFHTUVOVFxuICAgICAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gICAgICogQHR5cGUge1BJWEkuUFJFQ0lTSU9OfVxuICAgICAqIEBkZWZhdWx0IFBJWEkuUFJFQ0lTSU9OLk1FRElVTVxuICAgICAqL1xuICAgIFBSRUNJU0lPTl9GUkFHTUVOVDogaXNNb2JpbGUuYXBwbGUuZGV2aWNlID8gJ2hpZ2hwJyA6ICdtZWRpdW1wJyxcblxuICAgIC8qKlxuICAgICAqIENhbiB3ZSB1cGxvYWQgdGhlIHNhbWUgYnVmZmVyIGluIGEgc2luZ2xlIGZyYW1lP1xuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBuYW1lIENBTl9VUExPQURfU0FNRV9CVUZGRVJcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqL1xuICAgIENBTl9VUExPQURfU0FNRV9CVUZGRVI6IGNhblVwbG9hZFNhbWVCdWZmZXIoKSxcblxuICAgIC8qKlxuICAgICAqIEVuYWJsZXMgYml0bWFwIGNyZWF0aW9uIGJlZm9yZSBpbWFnZSBsb2FkLiBUaGlzIGZlYXR1cmUgaXMgZXhwZXJpbWVudGFsLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBuYW1lIENSRUFURV9JTUFHRV9CSVRNQVBcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICovXG4gICAgQ1JFQVRFX0lNQUdFX0JJVE1BUDogZmFsc2UsXG5cbiAgICAvKipcbiAgICAgKiBJZiB0cnVlIFBpeGlKUyB3aWxsIE1hdGguZmxvb3IoKSB4L3kgdmFsdWVzIHdoZW4gcmVuZGVyaW5nLCBzdG9wcGluZyBwaXhlbCBpbnRlcnBvbGF0aW9uLlxuICAgICAqIEFkdmFudGFnZXMgY2FuIGluY2x1ZGUgc2hhcnBlciBpbWFnZSBxdWFsaXR5IChsaWtlIHRleHQpIGFuZCBmYXN0ZXIgcmVuZGVyaW5nIG9uIGNhbnZhcy5cbiAgICAgKiBUaGUgbWFpbiBkaXNhZHZhbnRhZ2UgaXMgbW92ZW1lbnQgb2Ygb2JqZWN0cyBtYXkgYXBwZWFyIGxlc3Mgc21vb3RoLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBjb25zdGFudFxuICAgICAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgKi9cbiAgICBST1VORF9QSVhFTFM6IGZhbHNlLFxufTtcblxuZXhwb3J0IHsgc2V0dGluZ3MgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNldHRpbmdzLmVzLmpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS9jb25zdGFudHMgLSB2NS4yLjBcbiAqIENvbXBpbGVkIFdlZCwgMDYgTm92IDIwMTkgMDI6MzI6NDMgVVRDXG4gKlxuICogQHBpeGkvY29uc3RhbnRzIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuLyoqXG4gKiBEaWZmZXJlbnQgdHlwZXMgb2YgZW52aXJvbm1lbnRzIGZvciBXZWJHTC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQG5hbWUgRU5WXG4gKiBAZW51bSB7bnVtYmVyfVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFdFQkdMX0xFR0FDWSAtIFVzZWQgZm9yIG9sZGVyIHYxIFdlYkdMIGRldmljZXMuIFBpeGlKUyB3aWxsIGFpbSB0byBlbnN1cmUgY29tcGF0aWJpbGl0eVxuICogIHdpdGggb2xkZXIgLyBsZXNzIGFkdmFuY2VkIGRldmljZXMuIElmIHlvdSBleHBlcmllbmNlIHVuZXhwbGFpbmVkIGZsaWNrZXJpbmcgcHJlZmVyIHRoaXMgZW52aXJvbm1lbnQuXG4gKiBAcHJvcGVydHkge251bWJlcn0gV0VCR0wgLSBWZXJzaW9uIDEgb2YgV2ViR0xcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBXRUJHTDIgLSBWZXJzaW9uIDIgb2YgV2ViR0xcbiAqL1xudmFyIEVOVjtcbihmdW5jdGlvbiAoRU5WKSB7XG4gICAgRU5WW0VOVltcIldFQkdMX0xFR0FDWVwiXSA9IDBdID0gXCJXRUJHTF9MRUdBQ1lcIjtcbiAgICBFTlZbRU5WW1wiV0VCR0xcIl0gPSAxXSA9IFwiV0VCR0xcIjtcbiAgICBFTlZbRU5WW1wiV0VCR0wyXCJdID0gMl0gPSBcIldFQkdMMlwiO1xufSkoRU5WIHx8IChFTlYgPSB7fSkpO1xuLyoqXG4gKiBDb25zdGFudCB0byBpZGVudGlmeSB0aGUgUmVuZGVyZXIgVHlwZS5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQG5hbWUgUkVOREVSRVJfVFlQRVxuICogQGVudW0ge251bWJlcn1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBVTktOT1dOIC0gVW5rbm93biByZW5kZXIgdHlwZS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBXRUJHTCAtIFdlYkdMIHJlbmRlciB0eXBlLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IENBTlZBUyAtIENhbnZhcyByZW5kZXIgdHlwZS5cbiAqL1xudmFyIFJFTkRFUkVSX1RZUEU7XG4oZnVuY3Rpb24gKFJFTkRFUkVSX1RZUEUpIHtcbiAgICBSRU5ERVJFUl9UWVBFW1JFTkRFUkVSX1RZUEVbXCJVTktOT1dOXCJdID0gMF0gPSBcIlVOS05PV05cIjtcbiAgICBSRU5ERVJFUl9UWVBFW1JFTkRFUkVSX1RZUEVbXCJXRUJHTFwiXSA9IDFdID0gXCJXRUJHTFwiO1xuICAgIFJFTkRFUkVSX1RZUEVbUkVOREVSRVJfVFlQRVtcIkNBTlZBU1wiXSA9IDJdID0gXCJDQU5WQVNcIjtcbn0pKFJFTkRFUkVSX1RZUEUgfHwgKFJFTkRFUkVSX1RZUEUgPSB7fSkpO1xuLyoqXG4gKiBWYXJpb3VzIGJsZW5kIG1vZGVzIHN1cHBvcnRlZCBieSBQSVhJLlxuICpcbiAqIElNUE9SVEFOVCAtIFRoZSBXZWJHTCByZW5kZXJlciBvbmx5IHN1cHBvcnRzIHRoZSBOT1JNQUwsIEFERCwgTVVMVElQTFkgYW5kIFNDUkVFTiBibGVuZCBtb2Rlcy5cbiAqIEFueXRoaW5nIGVsc2Ugd2lsbCBzaWxlbnRseSBhY3QgbGlrZSBOT1JNQUwuXG4gKlxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBuYW1lIEJMRU5EX01PREVTXG4gKiBAZW51bSB7bnVtYmVyfVxuICogQHByb3BlcnR5IHtudW1iZXJ9IE5PUk1BTFxuICogQHByb3BlcnR5IHtudW1iZXJ9IEFERFxuICogQHByb3BlcnR5IHtudW1iZXJ9IE1VTFRJUExZXG4gKiBAcHJvcGVydHkge251bWJlcn0gU0NSRUVOXG4gKiBAcHJvcGVydHkge251bWJlcn0gT1ZFUkxBWVxuICogQHByb3BlcnR5IHtudW1iZXJ9IERBUktFTlxuICogQHByb3BlcnR5IHtudW1iZXJ9IExJR0hURU5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBDT0xPUl9ET0RHRVxuICogQHByb3BlcnR5IHtudW1iZXJ9IENPTE9SX0JVUk5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBIQVJEX0xJR0hUXG4gKiBAcHJvcGVydHkge251bWJlcn0gU09GVF9MSUdIVFxuICogQHByb3BlcnR5IHtudW1iZXJ9IERJRkZFUkVOQ0VcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBFWENMVVNJT05cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBIVUVcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBTQVRVUkFUSU9OXG4gKiBAcHJvcGVydHkge251bWJlcn0gQ09MT1JcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBMVU1JTk9TSVRZXG4gKiBAcHJvcGVydHkge251bWJlcn0gTk9STUFMX05QTVxuICogQHByb3BlcnR5IHtudW1iZXJ9IEFERF9OUE1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBTQ1JFRU5fTlBNXG4gKiBAcHJvcGVydHkge251bWJlcn0gTk9ORVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFNSQ19JTlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFNSQ19PVVRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBTUkNfQVRPUFxuICogQHByb3BlcnR5IHtudW1iZXJ9IERTVF9PVkVSXG4gKiBAcHJvcGVydHkge251bWJlcn0gRFNUX0lOXG4gKiBAcHJvcGVydHkge251bWJlcn0gRFNUX09VVFxuICogQHByb3BlcnR5IHtudW1iZXJ9IERTVF9BVE9QXG4gKiBAcHJvcGVydHkge251bWJlcn0gU1VCVFJBQ1RcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBTUkNfT1ZFUlxuICogQHByb3BlcnR5IHtudW1iZXJ9IEVSQVNFXG4gKiBAcHJvcGVydHkge251bWJlcn0gWE9SXG4gKi9cbnZhciBCTEVORF9NT0RFUztcbihmdW5jdGlvbiAoQkxFTkRfTU9ERVMpIHtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIk5PUk1BTFwiXSA9IDBdID0gXCJOT1JNQUxcIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIkFERFwiXSA9IDFdID0gXCJBRERcIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIk1VTFRJUExZXCJdID0gMl0gPSBcIk1VTFRJUExZXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJTQ1JFRU5cIl0gPSAzXSA9IFwiU0NSRUVOXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJPVkVSTEFZXCJdID0gNF0gPSBcIk9WRVJMQVlcIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIkRBUktFTlwiXSA9IDVdID0gXCJEQVJLRU5cIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIkxJR0hURU5cIl0gPSA2XSA9IFwiTElHSFRFTlwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiQ09MT1JfRE9ER0VcIl0gPSA3XSA9IFwiQ09MT1JfRE9ER0VcIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIkNPTE9SX0JVUk5cIl0gPSA4XSA9IFwiQ09MT1JfQlVSTlwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiSEFSRF9MSUdIVFwiXSA9IDldID0gXCJIQVJEX0xJR0hUXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJTT0ZUX0xJR0hUXCJdID0gMTBdID0gXCJTT0ZUX0xJR0hUXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJESUZGRVJFTkNFXCJdID0gMTFdID0gXCJESUZGRVJFTkNFXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJFWENMVVNJT05cIl0gPSAxMl0gPSBcIkVYQ0xVU0lPTlwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiSFVFXCJdID0gMTNdID0gXCJIVUVcIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIlNBVFVSQVRJT05cIl0gPSAxNF0gPSBcIlNBVFVSQVRJT05cIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIkNPTE9SXCJdID0gMTVdID0gXCJDT0xPUlwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiTFVNSU5PU0lUWVwiXSA9IDE2XSA9IFwiTFVNSU5PU0lUWVwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiTk9STUFMX05QTVwiXSA9IDE3XSA9IFwiTk9STUFMX05QTVwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiQUREX05QTVwiXSA9IDE4XSA9IFwiQUREX05QTVwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiU0NSRUVOX05QTVwiXSA9IDE5XSA9IFwiU0NSRUVOX05QTVwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiTk9ORVwiXSA9IDIwXSA9IFwiTk9ORVwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiU1JDX09WRVJcIl0gPSAwXSA9IFwiU1JDX09WRVJcIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIlNSQ19JTlwiXSA9IDIxXSA9IFwiU1JDX0lOXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJTUkNfT1VUXCJdID0gMjJdID0gXCJTUkNfT1VUXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJTUkNfQVRPUFwiXSA9IDIzXSA9IFwiU1JDX0FUT1BcIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIkRTVF9PVkVSXCJdID0gMjRdID0gXCJEU1RfT1ZFUlwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiRFNUX0lOXCJdID0gMjVdID0gXCJEU1RfSU5cIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIkRTVF9PVVRcIl0gPSAyNl0gPSBcIkRTVF9PVVRcIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIkRTVF9BVE9QXCJdID0gMjddID0gXCJEU1RfQVRPUFwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiRVJBU0VcIl0gPSAyNl0gPSBcIkVSQVNFXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJTVUJUUkFDVFwiXSA9IDI4XSA9IFwiU1VCVFJBQ1RcIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIlhPUlwiXSA9IDI5XSA9IFwiWE9SXCI7XG59KShCTEVORF9NT0RFUyB8fCAoQkxFTkRfTU9ERVMgPSB7fSkpO1xuLyoqXG4gKiBWYXJpb3VzIHdlYmdsIGRyYXcgbW9kZXMuIFRoZXNlIGNhbiBiZSB1c2VkIHRvIHNwZWNpZnkgd2hpY2ggR0wgZHJhd01vZGUgdG8gdXNlXG4gKiB1bmRlciBjZXJ0YWluIHNpdHVhdGlvbnMgYW5kIHJlbmRlcmVycy5cbiAqXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHN0YXRpY1xuICogQG5hbWUgRFJBV19NT0RFU1xuICogQGVudW0ge251bWJlcn1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBQT0lOVFNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBMSU5FU1xuICogQHByb3BlcnR5IHtudW1iZXJ9IExJTkVfTE9PUFxuICogQHByb3BlcnR5IHtudW1iZXJ9IExJTkVfU1RSSVBcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBUUklBTkdMRVNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBUUklBTkdMRV9TVFJJUFxuICogQHByb3BlcnR5IHtudW1iZXJ9IFRSSUFOR0xFX0ZBTlxuICovXG52YXIgRFJBV19NT0RFUztcbihmdW5jdGlvbiAoRFJBV19NT0RFUykge1xuICAgIERSQVdfTU9ERVNbRFJBV19NT0RFU1tcIlBPSU5UU1wiXSA9IDBdID0gXCJQT0lOVFNcIjtcbiAgICBEUkFXX01PREVTW0RSQVdfTU9ERVNbXCJMSU5FU1wiXSA9IDFdID0gXCJMSU5FU1wiO1xuICAgIERSQVdfTU9ERVNbRFJBV19NT0RFU1tcIkxJTkVfTE9PUFwiXSA9IDJdID0gXCJMSU5FX0xPT1BcIjtcbiAgICBEUkFXX01PREVTW0RSQVdfTU9ERVNbXCJMSU5FX1NUUklQXCJdID0gM10gPSBcIkxJTkVfU1RSSVBcIjtcbiAgICBEUkFXX01PREVTW0RSQVdfTU9ERVNbXCJUUklBTkdMRVNcIl0gPSA0XSA9IFwiVFJJQU5HTEVTXCI7XG4gICAgRFJBV19NT0RFU1tEUkFXX01PREVTW1wiVFJJQU5HTEVfU1RSSVBcIl0gPSA1XSA9IFwiVFJJQU5HTEVfU1RSSVBcIjtcbiAgICBEUkFXX01PREVTW0RSQVdfTU9ERVNbXCJUUklBTkdMRV9GQU5cIl0gPSA2XSA9IFwiVFJJQU5HTEVfRkFOXCI7XG59KShEUkFXX01PREVTIHx8IChEUkFXX01PREVTID0ge30pKTtcbi8qKlxuICogVmFyaW91cyBHTCB0ZXh0dXJlL3Jlc291cmNlcyBmb3JtYXRzLlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAc3RhdGljXG4gKiBAbmFtZSBGT1JNQVRTXG4gKiBAZW51bSB7bnVtYmVyfVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFJHQkE9NjQwOFxuICogQHByb3BlcnR5IHtudW1iZXJ9IFJHQj02NDA3XG4gKiBAcHJvcGVydHkge251bWJlcn0gQUxQSEE9NjQwNlxuICogQHByb3BlcnR5IHtudW1iZXJ9IExVTUlOQU5DRT02NDA5XG4gKiBAcHJvcGVydHkge251bWJlcn0gTFVNSU5BTkNFX0FMUEhBPTY0MTBcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBERVBUSF9DT01QT05FTlQ9NjQwMlxuICogQHByb3BlcnR5IHtudW1iZXJ9IERFUFRIX1NURU5DSUw9MzQwNDFcbiAqL1xudmFyIEZPUk1BVFM7XG4oZnVuY3Rpb24gKEZPUk1BVFMpIHtcbiAgICBGT1JNQVRTW0ZPUk1BVFNbXCJSR0JBXCJdID0gNjQwOF0gPSBcIlJHQkFcIjtcbiAgICBGT1JNQVRTW0ZPUk1BVFNbXCJSR0JcIl0gPSA2NDA3XSA9IFwiUkdCXCI7XG4gICAgRk9STUFUU1tGT1JNQVRTW1wiQUxQSEFcIl0gPSA2NDA2XSA9IFwiQUxQSEFcIjtcbiAgICBGT1JNQVRTW0ZPUk1BVFNbXCJMVU1JTkFOQ0VcIl0gPSA2NDA5XSA9IFwiTFVNSU5BTkNFXCI7XG4gICAgRk9STUFUU1tGT1JNQVRTW1wiTFVNSU5BTkNFX0FMUEhBXCJdID0gNjQxMF0gPSBcIkxVTUlOQU5DRV9BTFBIQVwiO1xuICAgIEZPUk1BVFNbRk9STUFUU1tcIkRFUFRIX0NPTVBPTkVOVFwiXSA9IDY0MDJdID0gXCJERVBUSF9DT01QT05FTlRcIjtcbiAgICBGT1JNQVRTW0ZPUk1BVFNbXCJERVBUSF9TVEVOQ0lMXCJdID0gMzQwNDFdID0gXCJERVBUSF9TVEVOQ0lMXCI7XG59KShGT1JNQVRTIHx8IChGT1JNQVRTID0ge30pKTtcbi8qKlxuICogVmFyaW91cyBHTCB0YXJnZXQgdHlwZXMuXG4gKlxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBzdGF0aWNcbiAqIEBuYW1lIFRBUkdFVFNcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKiBAcHJvcGVydHkge251bWJlcn0gVEVYVFVSRV8yRD0zNTUzXG4gKiBAcHJvcGVydHkge251bWJlcn0gVEVYVFVSRV9DVUJFX01BUD0zNDA2N1xuICogQHByb3BlcnR5IHtudW1iZXJ9IFRFWFRVUkVfMkRfQVJSQVk9MzU4NjZcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBURVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1g9MzQwNjlcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBURVhUVVJFX0NVQkVfTUFQX05FR0FUSVZFX1g9MzQwNzBcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBURVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1k9MzQwNzFcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBURVhUVVJFX0NVQkVfTUFQX05FR0FUSVZFX1k9MzQwNzJcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBURVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1o9MzQwNzNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBURVhUVVJFX0NVQkVfTUFQX05FR0FUSVZFX1o9MzQwNzRcbiAqL1xudmFyIFRBUkdFVFM7XG4oZnVuY3Rpb24gKFRBUkdFVFMpIHtcbiAgICBUQVJHRVRTW1RBUkdFVFNbXCJURVhUVVJFXzJEXCJdID0gMzU1M10gPSBcIlRFWFRVUkVfMkRcIjtcbiAgICBUQVJHRVRTW1RBUkdFVFNbXCJURVhUVVJFX0NVQkVfTUFQXCJdID0gMzQwNjddID0gXCJURVhUVVJFX0NVQkVfTUFQXCI7XG4gICAgVEFSR0VUU1tUQVJHRVRTW1wiVEVYVFVSRV8yRF9BUlJBWVwiXSA9IDM1ODY2XSA9IFwiVEVYVFVSRV8yRF9BUlJBWVwiO1xuICAgIFRBUkdFVFNbVEFSR0VUU1tcIlRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWFwiXSA9IDM0MDY5XSA9IFwiVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9YXCI7XG4gICAgVEFSR0VUU1tUQVJHRVRTW1wiVEVYVFVSRV9DVUJFX01BUF9ORUdBVElWRV9YXCJdID0gMzQwNzBdID0gXCJURVhUVVJFX0NVQkVfTUFQX05FR0FUSVZFX1hcIjtcbiAgICBUQVJHRVRTW1RBUkdFVFNbXCJURVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1lcIl0gPSAzNDA3MV0gPSBcIlRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWVwiO1xuICAgIFRBUkdFVFNbVEFSR0VUU1tcIlRFWFRVUkVfQ1VCRV9NQVBfTkVHQVRJVkVfWVwiXSA9IDM0MDcyXSA9IFwiVEVYVFVSRV9DVUJFX01BUF9ORUdBVElWRV9ZXCI7XG4gICAgVEFSR0VUU1tUQVJHRVRTW1wiVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9aXCJdID0gMzQwNzNdID0gXCJURVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1pcIjtcbiAgICBUQVJHRVRTW1RBUkdFVFNbXCJURVhUVVJFX0NVQkVfTUFQX05FR0FUSVZFX1pcIl0gPSAzNDA3NF0gPSBcIlRFWFRVUkVfQ1VCRV9NQVBfTkVHQVRJVkVfWlwiO1xufSkoVEFSR0VUUyB8fCAoVEFSR0VUUyA9IHt9KSk7XG4vKipcbiAqIFZhcmlvdXMgR0wgZGF0YSBmb3JtYXQgdHlwZXMuXG4gKlxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBzdGF0aWNcbiAqIEBuYW1lIFRZUEVTXG4gKiBAZW51bSB7bnVtYmVyfVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFVOU0lHTkVEX0JZVEU9NTEyMVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFVOU0lHTkVEX1NIT1JUPTUxMjNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBVTlNJR05FRF9TSE9SVF81XzZfNT0zMzYzNVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFVOU0lHTkVEX1NIT1JUXzRfNF80XzQ9MzI4MTlcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBVTlNJR05FRF9TSE9SVF81XzVfNV8xPTMyODIwXG4gKiBAcHJvcGVydHkge251bWJlcn0gRkxPQVQ9NTEyNlxuICogQHByb3BlcnR5IHtudW1iZXJ9IEhBTEZfRkxPQVQ9MzYxOTNcbiAqL1xudmFyIFRZUEVTO1xuKGZ1bmN0aW9uIChUWVBFUykge1xuICAgIFRZUEVTW1RZUEVTW1wiVU5TSUdORURfQllURVwiXSA9IDUxMjFdID0gXCJVTlNJR05FRF9CWVRFXCI7XG4gICAgVFlQRVNbVFlQRVNbXCJVTlNJR05FRF9TSE9SVFwiXSA9IDUxMjNdID0gXCJVTlNJR05FRF9TSE9SVFwiO1xuICAgIFRZUEVTW1RZUEVTW1wiVU5TSUdORURfU0hPUlRfNV82XzVcIl0gPSAzMzYzNV0gPSBcIlVOU0lHTkVEX1NIT1JUXzVfNl81XCI7XG4gICAgVFlQRVNbVFlQRVNbXCJVTlNJR05FRF9TSE9SVF80XzRfNF80XCJdID0gMzI4MTldID0gXCJVTlNJR05FRF9TSE9SVF80XzRfNF80XCI7XG4gICAgVFlQRVNbVFlQRVNbXCJVTlNJR05FRF9TSE9SVF81XzVfNV8xXCJdID0gMzI4MjBdID0gXCJVTlNJR05FRF9TSE9SVF81XzVfNV8xXCI7XG4gICAgVFlQRVNbVFlQRVNbXCJGTE9BVFwiXSA9IDUxMjZdID0gXCJGTE9BVFwiO1xuICAgIFRZUEVTW1RZUEVTW1wiSEFMRl9GTE9BVFwiXSA9IDM2MTkzXSA9IFwiSEFMRl9GTE9BVFwiO1xufSkoVFlQRVMgfHwgKFRZUEVTID0ge30pKTtcbi8qKlxuICogVGhlIHNjYWxlIG1vZGVzIHRoYXQgYXJlIHN1cHBvcnRlZCBieSBwaXhpLlxuICpcbiAqIFRoZSB7QGxpbmsgUElYSS5zZXR0aW5ncy5TQ0FMRV9NT0RFfSBzY2FsZSBtb2RlIGFmZmVjdHMgdGhlIGRlZmF1bHQgc2NhbGluZyBtb2RlIG9mIGZ1dHVyZSBvcGVyYXRpb25zLlxuICogSXQgY2FuIGJlIHJlLWFzc2lnbmVkIHRvIGVpdGhlciBMSU5FQVIgb3IgTkVBUkVTVCwgZGVwZW5kaW5nIHVwb24gc3VpdGFiaWxpdHkuXG4gKlxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBzdGF0aWNcbiAqIEBuYW1lIFNDQUxFX01PREVTXG4gKiBAZW51bSB7bnVtYmVyfVxuICogQHByb3BlcnR5IHtudW1iZXJ9IExJTkVBUiBTbW9vdGggc2NhbGluZ1xuICogQHByb3BlcnR5IHtudW1iZXJ9IE5FQVJFU1QgUGl4ZWxhdGluZyBzY2FsaW5nXG4gKi9cbnZhciBTQ0FMRV9NT0RFUztcbihmdW5jdGlvbiAoU0NBTEVfTU9ERVMpIHtcbiAgICBTQ0FMRV9NT0RFU1tTQ0FMRV9NT0RFU1tcIk5FQVJFU1RcIl0gPSAwXSA9IFwiTkVBUkVTVFwiO1xuICAgIFNDQUxFX01PREVTW1NDQUxFX01PREVTW1wiTElORUFSXCJdID0gMV0gPSBcIkxJTkVBUlwiO1xufSkoU0NBTEVfTU9ERVMgfHwgKFNDQUxFX01PREVTID0ge30pKTtcbi8qKlxuICogVGhlIHdyYXAgbW9kZXMgdGhhdCBhcmUgc3VwcG9ydGVkIGJ5IHBpeGkuXG4gKlxuICogVGhlIHtAbGluayBQSVhJLnNldHRpbmdzLldSQVBfTU9ERX0gd3JhcCBtb2RlIGFmZmVjdHMgdGhlIGRlZmF1bHQgd3JhcHBpbmcgbW9kZSBvZiBmdXR1cmUgb3BlcmF0aW9ucy5cbiAqIEl0IGNhbiBiZSByZS1hc3NpZ25lZCB0byBlaXRoZXIgQ0xBTVAgb3IgUkVQRUFULCBkZXBlbmRpbmcgdXBvbiBzdWl0YWJpbGl0eS5cbiAqIElmIHRoZSB0ZXh0dXJlIGlzIG5vbiBwb3dlciBvZiB0d28gdGhlbiBjbGFtcCB3aWxsIGJlIHVzZWQgcmVnYXJkbGVzcyBhcyBXZWJHTCBjYW5cbiAqIG9ubHkgdXNlIFJFUEVBVCBpZiB0aGUgdGV4dHVyZSBpcyBwbzIuXG4gKlxuICogVGhpcyBwcm9wZXJ0eSBvbmx5IGFmZmVjdHMgV2ViR0wuXG4gKlxuICogQG5hbWUgV1JBUF9NT0RFU1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEBzdGF0aWNcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKiBAcHJvcGVydHkge251bWJlcn0gQ0xBTVAgLSBUaGUgdGV4dHVyZXMgdXZzIGFyZSBjbGFtcGVkXG4gKiBAcHJvcGVydHkge251bWJlcn0gUkVQRUFUIC0gVGhlIHRleHR1cmUgdXZzIHRpbGUgYW5kIHJlcGVhdFxuICogQHByb3BlcnR5IHtudW1iZXJ9IE1JUlJPUkVEX1JFUEVBVCAtIFRoZSB0ZXh0dXJlIHV2cyB0aWxlIGFuZCByZXBlYXQgd2l0aCBtaXJyb3JpbmdcbiAqL1xudmFyIFdSQVBfTU9ERVM7XG4oZnVuY3Rpb24gKFdSQVBfTU9ERVMpIHtcbiAgICBXUkFQX01PREVTW1dSQVBfTU9ERVNbXCJDTEFNUFwiXSA9IDMzMDcxXSA9IFwiQ0xBTVBcIjtcbiAgICBXUkFQX01PREVTW1dSQVBfTU9ERVNbXCJSRVBFQVRcIl0gPSAxMDQ5N10gPSBcIlJFUEVBVFwiO1xuICAgIFdSQVBfTU9ERVNbV1JBUF9NT0RFU1tcIk1JUlJPUkVEX1JFUEVBVFwiXSA9IDMzNjQ4XSA9IFwiTUlSUk9SRURfUkVQRUFUXCI7XG59KShXUkFQX01PREVTIHx8IChXUkFQX01PREVTID0ge30pKTtcbi8qKlxuICogTWlwbWFwIGZpbHRlcmluZyBtb2RlcyB0aGF0IGFyZSBzdXBwb3J0ZWQgYnkgcGl4aS5cbiAqXG4gKiBUaGUge0BsaW5rIFBJWEkuc2V0dGluZ3MuTUlQTUFQX1RFWFRVUkVTfSBhZmZlY3RzIGRlZmF1bHQgdGV4dHVyZSBmaWx0ZXJpbmcuXG4gKiBNaXBtYXBzIGFyZSBnZW5lcmF0ZWQgZm9yIGEgYmFzZVRleHR1cmUgaWYgaXRzIGBtaXBtYXBgIGZpZWxkIGlzIGBPTmAsXG4gKiBvciBpdHMgYFBPVzJgIGFuZCB0ZXh0dXJlIGRpbWVuc2lvbnMgYXJlIHBvd2VycyBvZiAyLlxuICogRHVlIHRvIHBsYXRmb3JtIHJlc3RyaWN0aW9uLCBgT05gIG9wdGlvbiB3aWxsIHdvcmsgbGlrZSBgUE9XMmAgZm9yIHdlYmdsLTEuXG4gKlxuICogVGhpcyBwcm9wZXJ0eSBvbmx5IGFmZmVjdHMgV2ViR0wuXG4gKlxuICogQG5hbWUgTUlQTUFQX01PREVTXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHN0YXRpY1xuICogQGVudW0ge251bWJlcn1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBPRkYgLSBObyBtaXBtYXBzXG4gKiBAcHJvcGVydHkge251bWJlcn0gUE9XMiAtIEdlbmVyYXRlIG1pcG1hcHMgaWYgdGV4dHVyZSBkaW1lbnNpb25zIGFyZSBwb3cyXG4gKiBAcHJvcGVydHkge251bWJlcn0gT04gLSBBbHdheXMgZ2VuZXJhdGUgbWlwbWFwc1xuICovXG52YXIgTUlQTUFQX01PREVTO1xuKGZ1bmN0aW9uIChNSVBNQVBfTU9ERVMpIHtcbiAgICBNSVBNQVBfTU9ERVNbTUlQTUFQX01PREVTW1wiT0ZGXCJdID0gMF0gPSBcIk9GRlwiO1xuICAgIE1JUE1BUF9NT0RFU1tNSVBNQVBfTU9ERVNbXCJQT1cyXCJdID0gMV0gPSBcIlBPVzJcIjtcbiAgICBNSVBNQVBfTU9ERVNbTUlQTUFQX01PREVTW1wiT05cIl0gPSAyXSA9IFwiT05cIjtcbn0pKE1JUE1BUF9NT0RFUyB8fCAoTUlQTUFQX01PREVTID0ge30pKTtcbi8qKlxuICogSG93IHRvIHRyZWF0IHRleHR1cmVzIHdpdGggcHJlbXVsdGlwbGllZCBhbHBoYVxuICpcbiAqIEBuYW1lIEFMUEhBX01PREVTXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHN0YXRpY1xuICogQGVudW0ge251bWJlcn1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBOT19QUkVNVUxUSVBMSUVEX0FMUEhBIC0gU291cmNlIGlzIG5vdCBwcmVtdWx0aXBsaWVkLCBsZWF2ZSBpdCBsaWtlIHRoYXQuXG4gKiAgT3B0aW9uIGZvciBjb21wcmVzc2VkIGFuZCBkYXRhIHRleHR1cmVzIHRoYXQgYXJlIGNyZWF0ZWQgZnJvbSB0eXBlZCBhcnJheXMuXG4gKiBAcHJvcGVydHkge251bWJlcn0gUFJFTVVMVElQTFlfT05fVVBMT0FEIC0gU291cmNlIGlzIG5vdCBwcmVtdWx0aXBsaWVkLCBwcmVtdWx0aXBseSBvbiB1cGxvYWQuXG4gKiAgRGVmYXVsdCBvcHRpb24sIHVzZWQgZm9yIGFsbCBsb2FkZWQgaW1hZ2VzLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFBSRU1VTFRJUExJRURfQUxQSEEgLSBTb3VyY2UgaXMgYWxyZWFkeSBwcmVtdWx0aXBsaWVkXG4gKiAgRXhhbXBsZTogc3BpbmUgYXRsYXNlcyB3aXRoIGBfcG1hYCBzdWZmaXguXG4gKiBAcHJvcGVydHkge251bWJlcn0gTlBNIC0gQWxpYXMgZm9yIE5PX1BSRU1VTFRJUExJRURfQUxQSEEuXG4gKiBAcHJvcGVydHkge251bWJlcn0gVU5QQUNLIC0gRGVmYXVsdCBvcHRpb24sIGFsaWFzIGZvciBQUkVNVUxUSVBMWV9PTl9VUExPQUQuXG4gKiBAcHJvcGVydHkge251bWJlcn0gUE1BIC0gQWxpYXMgZm9yIFBSRU1VTFRJUExJRURfQUxQSEEuXG4gKi9cbnZhciBBTFBIQV9NT0RFUztcbihmdW5jdGlvbiAoQUxQSEFfTU9ERVMpIHtcbiAgICBBTFBIQV9NT0RFU1tBTFBIQV9NT0RFU1tcIk5QTVwiXSA9IDBdID0gXCJOUE1cIjtcbiAgICBBTFBIQV9NT0RFU1tBTFBIQV9NT0RFU1tcIlVOUEFDS1wiXSA9IDFdID0gXCJVTlBBQ0tcIjtcbiAgICBBTFBIQV9NT0RFU1tBTFBIQV9NT0RFU1tcIlBNQVwiXSA9IDJdID0gXCJQTUFcIjtcbiAgICBBTFBIQV9NT0RFU1tBTFBIQV9NT0RFU1tcIk5PX1BSRU1VTFRJUExJRURfQUxQSEFcIl0gPSAwXSA9IFwiTk9fUFJFTVVMVElQTElFRF9BTFBIQVwiO1xuICAgIEFMUEhBX01PREVTW0FMUEhBX01PREVTW1wiUFJFTVVMVElQTFlfT05fVVBMT0FEXCJdID0gMV0gPSBcIlBSRU1VTFRJUExZX09OX1VQTE9BRFwiO1xuICAgIEFMUEhBX01PREVTW0FMUEhBX01PREVTW1wiUFJFTVVMVElQTFlfQUxQSEFcIl0gPSAyXSA9IFwiUFJFTVVMVElQTFlfQUxQSEFcIjtcbn0pKEFMUEhBX01PREVTIHx8IChBTFBIQV9NT0RFUyA9IHt9KSk7XG4vKipcbiAqIFRoZSBnYyBtb2RlcyB0aGF0IGFyZSBzdXBwb3J0ZWQgYnkgcGl4aS5cbiAqXG4gKiBUaGUge0BsaW5rIFBJWEkuc2V0dGluZ3MuR0NfTU9ERX0gR2FyYmFnZSBDb2xsZWN0aW9uIG1vZGUgZm9yIFBpeGlKUyB0ZXh0dXJlcyBpcyBBVVRPXG4gKiBJZiBzZXQgdG8gR0NfTU9ERSwgdGhlIHJlbmRlcmVyIHdpbGwgb2NjYXNpb25hbGx5IGNoZWNrIHRleHR1cmVzIHVzYWdlLiBJZiB0aGV5IGFyZSBub3RcbiAqIHVzZWQgZm9yIGEgc3BlY2lmaWVkIHBlcmlvZCBvZiB0aW1lIHRoZXkgd2lsbCBiZSByZW1vdmVkIGZyb20gdGhlIEdQVS4gVGhleSB3aWxsIG9mIGNvdXJzZVxuICogYmUgdXBsb2FkZWQgYWdhaW4gd2hlbiB0aGV5IGFyZSByZXF1aXJlZC4gVGhpcyBpcyBhIHNpbGVudCBiZWhpbmQgdGhlIHNjZW5lcyBwcm9jZXNzIHRoYXRcbiAqIHNob3VsZCBlbnN1cmUgdGhhdCB0aGUgR1BVIGRvZXMgbm90ICBnZXQgZmlsbGVkIHVwLlxuICpcbiAqIEhhbmR5IGZvciBtb2JpbGUgZGV2aWNlcyFcbiAqIFRoaXMgcHJvcGVydHkgb25seSBhZmZlY3RzIFdlYkdMLlxuICpcbiAqIEBuYW1lIEdDX01PREVTXG4gKiBAZW51bSB7bnVtYmVyfVxuICogQHN0YXRpY1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBBVVRPIC0gR2FyYmFnZSBjb2xsZWN0aW9uIHdpbGwgaGFwcGVuIHBlcmlvZGljYWxseSBhdXRvbWF0aWNhbGx5XG4gKiBAcHJvcGVydHkge251bWJlcn0gTUFOVUFMIC0gR2FyYmFnZSBjb2xsZWN0aW9uIHdpbGwgbmVlZCB0byBiZSBjYWxsZWQgbWFudWFsbHlcbiAqL1xudmFyIEdDX01PREVTO1xuKGZ1bmN0aW9uIChHQ19NT0RFUykge1xuICAgIEdDX01PREVTW0dDX01PREVTW1wiQVVUT1wiXSA9IDBdID0gXCJBVVRPXCI7XG4gICAgR0NfTU9ERVNbR0NfTU9ERVNbXCJNQU5VQUxcIl0gPSAxXSA9IFwiTUFOVUFMXCI7XG59KShHQ19NT0RFUyB8fCAoR0NfTU9ERVMgPSB7fSkpO1xuLyoqXG4gKiBDb25zdGFudHMgdGhhdCBzcGVjaWZ5IGZsb2F0IHByZWNpc2lvbiBpbiBzaGFkZXJzLlxuICpcbiAqIEBuYW1lIFBSRUNJU0lPTlxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBzdGF0aWNcbiAqIEBlbnVtIHtzdHJpbmd9XG4gKiBAY29uc3RhbnRcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBMT1c9J2xvd3AnXG4gKiBAcHJvcGVydHkge3N0cmluZ30gTUVESVVNPSdtZWRpdW1wJ1xuICogQHByb3BlcnR5IHtzdHJpbmd9IEhJR0g9J2hpZ2hwJ1xuICovXG52YXIgUFJFQ0lTSU9OO1xuKGZ1bmN0aW9uIChQUkVDSVNJT04pIHtcbiAgICBQUkVDSVNJT05bXCJMT1dcIl0gPSBcImxvd3BcIjtcbiAgICBQUkVDSVNJT05bXCJNRURJVU1cIl0gPSBcIm1lZGl1bXBcIjtcbiAgICBQUkVDSVNJT05bXCJISUdIXCJdID0gXCJoaWdocFwiO1xufSkoUFJFQ0lTSU9OIHx8IChQUkVDSVNJT04gPSB7fSkpO1xuLyoqXG4gKiBDb25zdGFudHMgZm9yIG1hc2sgaW1wbGVtZW50YXRpb25zLlxuICogV2UgdXNlIGB0eXBlYCBzdWZmaXggYmVjYXVzZSBpdCBsZWFkcyB0byB2ZXJ5IGRpZmZlcmVudCBiZWhhdmlvdXJzXG4gKlxuICogQG5hbWUgTUFTS19UWVBFU1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEBzdGF0aWNcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKiBAcHJvcGVydHkge251bWJlcn0gTk9ORSAtIE1hc2sgaXMgaWdub3JlZFxuICogQHByb3BlcnR5IHtudW1iZXJ9IFNDSVNTT1IgLSBTY2lzc29yIG1hc2ssIHJlY3RhbmdsZSBvbiBzY3JlZW4sIGNoZWFwXG4gKiBAcHJvcGVydHkge251bWJlcn0gU1RFTkNJTCAtIFN0ZW5jaWwgbWFzaywgMS1iaXQsIG1lZGl1bSwgd29ya3Mgb25seSBpZiByZW5kZXJlciBzdXBwb3J0cyBzdGVuY2lsXG4gKiBAcHJvcGVydHkge251bWJlcn0gU1BSSVRFIC0gTWFzayB0aGF0IHVzZXMgU3ByaXRlTWFza0ZpbHRlciwgdXNlcyB0ZW1wb3JhcnkgUmVuZGVyVGV4dHVyZVxuICovXG52YXIgTUFTS19UWVBFUztcbihmdW5jdGlvbiAoTUFTS19UWVBFUykge1xuICAgIE1BU0tfVFlQRVNbTUFTS19UWVBFU1tcIk5PTkVcIl0gPSAwXSA9IFwiTk9ORVwiO1xuICAgIE1BU0tfVFlQRVNbTUFTS19UWVBFU1tcIlNDSVNTT1JcIl0gPSAxXSA9IFwiU0NJU1NPUlwiO1xuICAgIE1BU0tfVFlQRVNbTUFTS19UWVBFU1tcIlNURU5DSUxcIl0gPSAyXSA9IFwiU1RFTkNJTFwiO1xuICAgIE1BU0tfVFlQRVNbTUFTS19UWVBFU1tcIlNQUklURVwiXSA9IDNdID0gXCJTUFJJVEVcIjtcbn0pKE1BU0tfVFlQRVMgfHwgKE1BU0tfVFlQRVMgPSB7fSkpO1xuXG5leHBvcnQgeyBBTFBIQV9NT0RFUywgQkxFTkRfTU9ERVMsIERSQVdfTU9ERVMsIEVOViwgRk9STUFUUywgR0NfTU9ERVMsIE1BU0tfVFlQRVMsIE1JUE1BUF9NT0RFUywgUFJFQ0lTSU9OLCBSRU5ERVJFUl9UWVBFLCBTQ0FMRV9NT0RFUywgVEFSR0VUUywgVFlQRVMsIFdSQVBfTU9ERVMgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbnN0YW50cy5lcy5qcy5tYXBcbiIsIi8qIVxuICogQHBpeGkvdXRpbHMgLSB2NS4yLjBcbiAqIENvbXBpbGVkIFdlZCwgMDYgTm92IDIwMTkgMDI6MzI6NDMgVVRDXG4gKlxuICogQHBpeGkvdXRpbHMgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5pbXBvcnQgeyBzZXR0aW5ncyB9IGZyb20gJ0BwaXhpL3NldHRpbmdzJztcbmV4cG9ydCB7IGlzTW9iaWxlIH0gZnJvbSAnQHBpeGkvc2V0dGluZ3MnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBFdmVudEVtaXR0ZXIgfSBmcm9tICdldmVudGVtaXR0ZXIzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgZWFyY3V0IH0gZnJvbSAnZWFyY3V0JztcbmltcG9ydCBfdXJsIGZyb20gJ3VybCc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIHVybCB9IGZyb20gJ3VybCc7XG5pbXBvcnQgeyBCTEVORF9NT0RFUyB9IGZyb20gJ0BwaXhpL2NvbnN0YW50cyc7XG5cbi8qKlxuICogVGhlIHByZWZpeCB0aGF0IGRlbm90ZXMgYSBVUkwgaXMgZm9yIGEgcmV0aW5hIGFzc2V0LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBuYW1lIFJFVElOQV9QUkVGSVhcbiAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gKiBAdHlwZSB7UmVnRXhwfVxuICogQGRlZmF1bHQgL0AoWzAtOVxcLl0rKXgvXG4gKiBAZXhhbXBsZSBgQDJ4YFxuICovXG5zZXR0aW5ncy5SRVRJTkFfUFJFRklYID0gL0AoWzAtOVxcLl0rKXgvO1xuXG4vKipcbiAqIFNob3VsZCB0aGUgYGZhaWxJZk1ham9yUGVyZm9ybWFuY2VDYXZlYXRgIGZsYWcgYmUgZW5hYmxlZCBhcyBhIGNvbnRleHQgb3B0aW9uIHVzZWQgaW4gdGhlIGBpc1dlYkdMU3VwcG9ydGVkYCBmdW5jdGlvbi5cbiAqIEZvciBtb3N0IHNjZW5hcmlvcyB0aGlzIHNob3VsZCBiZSBsZWZ0IGFzIHRydWUsIGFzIG90aGVyd2lzZSB0aGUgdXNlciBtYXkgaGF2ZSBhIHBvb3IgZXhwZXJpZW5jZS5cbiAqIEhvd2V2ZXIsIGl0IGNhbiBiZSB1c2VmdWwgdG8gZGlzYWJsZSB1bmRlciBjZXJ0YWluIHNjZW5hcmlvcywgc3VjaCBhcyBoZWFkbGVzcyB1bml0IHRlc3RzLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBuYW1lIEZBSUxfSUZfTUFKT1JfUEVSRk9STUFOQ0VfQ0FWRUFUXG4gKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICogQHR5cGUge2Jvb2xlYW59XG4gKiBAZGVmYXVsdCB0cnVlXG4gKi9cbnNldHRpbmdzLkZBSUxfSUZfTUFKT1JfUEVSRk9STUFOQ0VfQ0FWRUFUID0gdHJ1ZTtcblxudmFyIHNhaWRIZWxsbyA9IGZhbHNlO1xudmFyIFZFUlNJT04gPSAnNS4yLjAnO1xuXG4vKipcbiAqIFNraXBzIHRoZSBoZWxsbyBtZXNzYWdlIG9mIHJlbmRlcmVycyB0aGF0IGFyZSBjcmVhdGVkIGFmdGVyIHRoaXMgaXMgcnVuLlxuICpcbiAqIEBmdW5jdGlvbiBza2lwSGVsbG9cbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKi9cbmZ1bmN0aW9uIHNraXBIZWxsbygpXG57XG4gICAgc2FpZEhlbGxvID0gdHJ1ZTtcbn1cblxuLyoqXG4gKiBMb2dzIG91dCB0aGUgdmVyc2lvbiBhbmQgcmVuZGVyZXIgaW5mb3JtYXRpb24gZm9yIHRoaXMgcnVubmluZyBpbnN0YW5jZSBvZiBQSVhJLlxuICogSWYgeW91IGRvbid0IHdhbnQgdG8gc2VlIHRoaXMgbWVzc2FnZSB5b3UgY2FuIHJ1biBgUElYSS51dGlscy5za2lwSGVsbG8oKWAgYmVmb3JlXG4gKiBjcmVhdGluZyB5b3VyIHJlbmRlcmVyLiBLZWVwIGluIG1pbmQgdGhhdCBkb2luZyB0aGF0IHdpbGwgZm9yZXZlciBtYWtlIHlvdSBhIGplcmsgZmFjZS5cbiAqXG4gKiBAc3RhdGljXG4gKiBAZnVuY3Rpb24gc2F5SGVsbG9cbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAcGFyYW0ge3N0cmluZ30gdHlwZSAtIFRoZSBzdHJpbmcgcmVuZGVyZXIgdHlwZSB0byBsb2cuXG4gKi9cbmZ1bmN0aW9uIHNheUhlbGxvKHR5cGUpXG57XG4gICAgaWYgKHNhaWRIZWxsbylcbiAgICB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAobmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLmluZGV4T2YoJ2Nocm9tZScpID4gLTEpXG4gICAge1xuICAgICAgICB2YXIgYXJncyA9IFtcbiAgICAgICAgICAgIChcIlxcbiAlYyAlYyAlYyBQaXhpSlMgXCIgKyBWRVJTSU9OICsgXCIgLSDinLAgXCIgKyB0eXBlICsgXCIg4pywICAlYyAgJWMgIGh0dHA6Ly93d3cucGl4aWpzLmNvbS8gICVjICVjIOKZpSVj4pmlJWPimaUgXFxuXFxuXCIpLFxuICAgICAgICAgICAgJ2JhY2tncm91bmQ6ICNmZjY2YTU7IHBhZGRpbmc6NXB4IDA7JyxcbiAgICAgICAgICAgICdiYWNrZ3JvdW5kOiAjZmY2NmE1OyBwYWRkaW5nOjVweCAwOycsXG4gICAgICAgICAgICAnY29sb3I6ICNmZjY2YTU7IGJhY2tncm91bmQ6ICMwMzAzMDc7IHBhZGRpbmc6NXB4IDA7JyxcbiAgICAgICAgICAgICdiYWNrZ3JvdW5kOiAjZmY2NmE1OyBwYWRkaW5nOjVweCAwOycsXG4gICAgICAgICAgICAnYmFja2dyb3VuZDogI2ZmYzNkYzsgcGFkZGluZzo1cHggMDsnLFxuICAgICAgICAgICAgJ2JhY2tncm91bmQ6ICNmZjY2YTU7IHBhZGRpbmc6NXB4IDA7JyxcbiAgICAgICAgICAgICdjb2xvcjogI2ZmMjQyNDsgYmFja2dyb3VuZDogI2ZmZjsgcGFkZGluZzo1cHggMDsnLFxuICAgICAgICAgICAgJ2NvbG9yOiAjZmYyNDI0OyBiYWNrZ3JvdW5kOiAjZmZmOyBwYWRkaW5nOjVweCAwOycsXG4gICAgICAgICAgICAnY29sb3I6ICNmZjI0MjQ7IGJhY2tncm91bmQ6ICNmZmY7IHBhZGRpbmc6NXB4IDA7JyBdO1xuXG4gICAgICAgIHdpbmRvdy5jb25zb2xlLmxvZy5hcHBseShjb25zb2xlLCBhcmdzKTtcbiAgICB9XG4gICAgZWxzZSBpZiAod2luZG93LmNvbnNvbGUpXG4gICAge1xuICAgICAgICB3aW5kb3cuY29uc29sZS5sb2coKFwiUGl4aUpTIFwiICsgVkVSU0lPTiArIFwiIC0gXCIgKyB0eXBlICsgXCIgLSBodHRwOi8vd3d3LnBpeGlqcy5jb20vXCIpKTtcbiAgICB9XG5cbiAgICBzYWlkSGVsbG8gPSB0cnVlO1xufVxuXG52YXIgc3VwcG9ydGVkO1xuXG4vKipcbiAqIEhlbHBlciBmb3IgY2hlY2tpbmcgZm9yIFdlYkdMIHN1cHBvcnQuXG4gKlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBmdW5jdGlvbiBpc1dlYkdMU3VwcG9ydGVkXG4gKiBAcmV0dXJuIHtib29sZWFufSBJcyBXZWJHTCBzdXBwb3J0ZWQuXG4gKi9cbmZ1bmN0aW9uIGlzV2ViR0xTdXBwb3J0ZWQoKVxue1xuICAgIGlmICh0eXBlb2Ygc3VwcG9ydGVkID09PSAndW5kZWZpbmVkJylcbiAgICB7XG4gICAgICAgIHN1cHBvcnRlZCA9IChmdW5jdGlvbiBzdXBwb3J0ZWQoKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgY29udGV4dE9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgc3RlbmNpbDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBmYWlsSWZNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0OiBzZXR0aW5ncy5GQUlMX0lGX01BSk9SX1BFUkZPUk1BTkNFX0NBVkVBVCxcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHRyeVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmICghd2luZG93LldlYkdMUmVuZGVyaW5nQ29udGV4dClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB2YXIgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgICAgICAgICAgICAgdmFyIGdsID0gY2FudmFzLmdldENvbnRleHQoJ3dlYmdsJywgY29udGV4dE9wdGlvbnMpXG4gICAgICAgICAgICAgICAgICAgIHx8IGNhbnZhcy5nZXRDb250ZXh0KCdleHBlcmltZW50YWwtd2ViZ2wnLCBjb250ZXh0T3B0aW9ucyk7XG5cbiAgICAgICAgICAgICAgICB2YXIgc3VjY2VzcyA9ICEhKGdsICYmIGdsLmdldENvbnRleHRBdHRyaWJ1dGVzKCkuc3RlbmNpbCk7XG5cbiAgICAgICAgICAgICAgICBpZiAoZ2wpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbG9zZUNvbnRleHQgPSBnbC5nZXRFeHRlbnNpb24oJ1dFQkdMX2xvc2VfY29udGV4dCcpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChsb3NlQ29udGV4dClcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgbG9zZUNvbnRleHQubG9zZUNvbnRleHQoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGdsID0gbnVsbDtcblxuICAgICAgICAgICAgICAgIHJldHVybiBzdWNjZXNzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSgpO1xuICAgIH1cblxuICAgIHJldHVybiBzdXBwb3J0ZWQ7XG59XG5cbi8qKlxuICogQ29udmVydHMgYSBoZXhhZGVjaW1hbCBjb2xvciBudW1iZXIgdG8gYW4gW1IsIEcsIEJdIGFycmF5IG9mIG5vcm1hbGl6ZWQgZmxvYXRzIChudW1iZXJzIGZyb20gMC4wIHRvIDEuMCkuXG4gKlxuICogQGV4YW1wbGVcbiAqIFBJWEkudXRpbHMuaGV4MnJnYigweGZmZmZmZik7IC8vIHJldHVybnMgWzEsIDEsIDFdXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQGZ1bmN0aW9uIGhleDJyZ2JcbiAqIEBwYXJhbSB7bnVtYmVyfSBoZXggLSBUaGUgaGV4YWRlY2ltYWwgbnVtYmVyIHRvIGNvbnZlcnRcbiAqIEBwYXJhbSAge251bWJlcltdfSBbb3V0PVtdXSBJZiBzdXBwbGllZCwgdGhpcyBhcnJheSB3aWxsIGJlIHVzZWQgcmF0aGVyIHRoYW4gcmV0dXJuaW5nIGEgbmV3IG9uZVxuICogQHJldHVybiB7bnVtYmVyW119IEFuIGFycmF5IHJlcHJlc2VudGluZyB0aGUgW1IsIEcsIEJdIG9mIHRoZSBjb2xvciB3aGVyZSBhbGwgdmFsdWVzIGFyZSBmbG9hdHMuXG4gKi9cbmZ1bmN0aW9uIGhleDJyZ2IoaGV4LCBvdXQpXG57XG4gICAgb3V0ID0gb3V0IHx8IFtdO1xuXG4gICAgb3V0WzBdID0gKChoZXggPj4gMTYpICYgMHhGRikgLyAyNTU7XG4gICAgb3V0WzFdID0gKChoZXggPj4gOCkgJiAweEZGKSAvIDI1NTtcbiAgICBvdXRbMl0gPSAoaGV4ICYgMHhGRikgLyAyNTU7XG5cbiAgICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIENvbnZlcnRzIGEgaGV4YWRlY2ltYWwgY29sb3IgbnVtYmVyIHRvIGEgc3RyaW5nLlxuICpcbiAqIEBleGFtcGxlXG4gKiBQSVhJLnV0aWxzLmhleDJzdHJpbmcoMHhmZmZmZmYpOyAvLyByZXR1cm5zIFwiI2ZmZmZmZlwiXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQGZ1bmN0aW9uIGhleDJzdHJpbmdcbiAqIEBwYXJhbSB7bnVtYmVyfSBoZXggLSBOdW1iZXIgaW4gaGV4IChlLmcuLCBgMHhmZmZmZmZgKVxuICogQHJldHVybiB7c3RyaW5nfSBUaGUgc3RyaW5nIGNvbG9yIChlLmcuLCBgXCIjZmZmZmZmXCJgKS5cbiAqL1xuZnVuY3Rpb24gaGV4MnN0cmluZyhoZXgpXG57XG4gICAgaGV4ID0gaGV4LnRvU3RyaW5nKDE2KTtcbiAgICBoZXggPSAnMDAwMDAwJy5zdWJzdHIoMCwgNiAtIGhleC5sZW5ndGgpICsgaGV4O1xuXG4gICAgcmV0dXJuIChcIiNcIiArIGhleCk7XG59XG5cbi8qKlxuICogQ29udmVydHMgYSBoZXhhZGVjaW1hbCBzdHJpbmcgdG8gYSBoZXhhZGVjaW1hbCBjb2xvciBudW1iZXIuXG4gKlxuICogQGV4YW1wbGVcbiAqIFBJWEkudXRpbHMuc3RyaW5nMmhleChcIiNmZmZmZmZcIik7IC8vIHJldHVybnMgMHhmZmZmZmZcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAZnVuY3Rpb24gc3RyaW5nMmhleFxuICogQHBhcmFtIHtzdHJpbmd9IFRoZSBzdHJpbmcgY29sb3IgKGUuZy4sIGBcIiNmZmZmZmZcImApXG4gKiBAcmV0dXJuIHtudW1iZXJ9IE51bWJlciBpbiBoZXhhZGVjaW1hbC5cbiAqL1xuZnVuY3Rpb24gc3RyaW5nMmhleChzdHJpbmcpXG57XG4gICAgaWYgKHR5cGVvZiBzdHJpbmcgPT09ICdzdHJpbmcnICYmIHN0cmluZ1swXSA9PT0gJyMnKVxuICAgIHtcbiAgICAgICAgc3RyaW5nID0gc3RyaW5nLnN1YnN0cigxKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcGFyc2VJbnQoc3RyaW5nLCAxNik7XG59XG5cbi8qKlxuICogQ29udmVydHMgYSBjb2xvciBhcyBhbiBbUiwgRywgQl0gYXJyYXkgb2Ygbm9ybWFsaXplZCBmbG9hdHMgdG8gYSBoZXhhZGVjaW1hbCBudW1iZXIuXG4gKlxuICogQGV4YW1wbGVcbiAqIFBJWEkudXRpbHMucmdiMmhleChbMSwgMSwgMV0pOyAvLyByZXR1cm5zIDB4ZmZmZmZmXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQGZ1bmN0aW9uIHJnYjJoZXhcbiAqIEBwYXJhbSB7bnVtYmVyW119IHJnYiAtIEFycmF5IG9mIG51bWJlcnMgd2hlcmUgYWxsIHZhbHVlcyBhcmUgbm9ybWFsaXplZCBmbG9hdHMgZnJvbSAwLjAgdG8gMS4wLlxuICogQHJldHVybiB7bnVtYmVyfSBOdW1iZXIgaW4gaGV4YWRlY2ltYWwuXG4gKi9cbmZ1bmN0aW9uIHJnYjJoZXgocmdiKVxue1xuICAgIHJldHVybiAoKChyZ2JbMF0gKiAyNTUpIDw8IDE2KSArICgocmdiWzFdICogMjU1KSA8PCA4KSArIChyZ2JbMl0gKiAyNTUgfCAwKSk7XG59XG5cbi8qKlxuICogQ29ycmVjdHMgUGl4aUpTIGJsZW5kLCB0YWtlcyBwcmVtdWx0aXBsaWVkIGFscGhhIGludG8gYWNjb3VudFxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAZnVuY3Rpb24gbWFwUHJlbXVsdGlwbGllZEJsZW5kTW9kZXNcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcltdPn0gW2FycmF5XSAtIFRoZSBhcnJheSB0byBvdXRwdXQgaW50by5cbiAqIEByZXR1cm4ge0FycmF5PG51bWJlcltdPn0gTWFwcGVkIG1vZGVzLlxuICovXG5mdW5jdGlvbiBtYXBQcmVtdWx0aXBsaWVkQmxlbmRNb2RlcygpXG57XG4gICAgdmFyIHBtID0gW107XG4gICAgdmFyIG5wbSA9IFtdO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCAzMjsgaSsrKVxuICAgIHtcbiAgICAgICAgcG1baV0gPSBpO1xuICAgICAgICBucG1baV0gPSBpO1xuICAgIH1cblxuICAgIHBtW0JMRU5EX01PREVTLk5PUk1BTF9OUE1dID0gQkxFTkRfTU9ERVMuTk9STUFMO1xuICAgIHBtW0JMRU5EX01PREVTLkFERF9OUE1dID0gQkxFTkRfTU9ERVMuQUREO1xuICAgIHBtW0JMRU5EX01PREVTLlNDUkVFTl9OUE1dID0gQkxFTkRfTU9ERVMuU0NSRUVOO1xuXG4gICAgbnBtW0JMRU5EX01PREVTLk5PUk1BTF0gPSBCTEVORF9NT0RFUy5OT1JNQUxfTlBNO1xuICAgIG5wbVtCTEVORF9NT0RFUy5BRERdID0gQkxFTkRfTU9ERVMuQUREX05QTTtcbiAgICBucG1bQkxFTkRfTU9ERVMuU0NSRUVOXSA9IEJMRU5EX01PREVTLlNDUkVFTl9OUE07XG5cbiAgICB2YXIgYXJyYXkgPSBbXTtcblxuICAgIGFycmF5LnB1c2gobnBtKTtcbiAgICBhcnJheS5wdXNoKHBtKTtcblxuICAgIHJldHVybiBhcnJheTtcbn1cblxuLyoqXG4gKiBtYXBzIHByZW11bHRpcGx5IGZsYWcgYW5kIGJsZW5kTW9kZSB0byBhZGp1c3RlZCBibGVuZE1vZGVcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAY29uc3QgcHJlbXVsdGlwbHlCbGVuZE1vZGVcbiAqIEB0eXBlIHtBcnJheTxudW1iZXJbXT59XG4gKi9cbnZhciBwcmVtdWx0aXBseUJsZW5kTW9kZSA9IG1hcFByZW11bHRpcGxpZWRCbGVuZE1vZGVzKCk7XG5cbi8qKlxuICogY2hhbmdlcyBibGVuZE1vZGUgYWNjb3JkaW5nIHRvIHRleHR1cmUgZm9ybWF0XG4gKlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBmdW5jdGlvbiBjb3JyZWN0QmxlbmRNb2RlXG4gKiBAcGFyYW0ge251bWJlcn0gYmxlbmRNb2RlIHN1cHBvc2VkIGJsZW5kIG1vZGVcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gcHJlbXVsdGlwbGllZCAgd2hldGhlciBzb3VyY2UgaXMgcHJlbXVsdGlwbGllZFxuICogQHJldHVybnMge251bWJlcn0gdHJ1ZSBibGVuZCBtb2RlIGZvciB0aGlzIHRleHR1cmVcbiAqL1xuZnVuY3Rpb24gY29ycmVjdEJsZW5kTW9kZShibGVuZE1vZGUsIHByZW11bHRpcGxpZWQpXG57XG4gICAgcmV0dXJuIHByZW11bHRpcGx5QmxlbmRNb2RlW3ByZW11bHRpcGxpZWQgPyAxIDogMF1bYmxlbmRNb2RlXTtcbn1cblxuLyoqXG4gKiBjb21iaW5lcyByZ2IgYW5kIGFscGhhIHRvIG91dCBhcnJheVxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAZnVuY3Rpb24gcHJlbXVsdGlwbHlSZ2JhXG4gKiBAcGFyYW0ge0Zsb2F0MzJBcnJheXxudW1iZXJbXX0gcmdiIGlucHV0IHJnYlxuICogQHBhcmFtIHtudW1iZXJ9IGFscGhhIGFscGhhIHBhcmFtXG4gKiBAcGFyYW0ge0Zsb2F0MzJBcnJheX0gW291dF0gb3V0cHV0XG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtwcmVtdWx0aXBseT10cnVlXSBkbyBwcmVtdWx0aXBseSBpdFxuICogQHJldHVybnMge0Zsb2F0MzJBcnJheX0gdmVjNCByZ2JhXG4gKi9cbmZ1bmN0aW9uIHByZW11bHRpcGx5UmdiYShyZ2IsIGFscGhhLCBvdXQsIHByZW11bHRpcGx5KVxue1xuICAgIG91dCA9IG91dCB8fCBuZXcgRmxvYXQzMkFycmF5KDQpO1xuICAgIGlmIChwcmVtdWx0aXBseSB8fCBwcmVtdWx0aXBseSA9PT0gdW5kZWZpbmVkKVxuICAgIHtcbiAgICAgICAgb3V0WzBdID0gcmdiWzBdICogYWxwaGE7XG4gICAgICAgIG91dFsxXSA9IHJnYlsxXSAqIGFscGhhO1xuICAgICAgICBvdXRbMl0gPSByZ2JbMl0gKiBhbHBoYTtcbiAgICB9XG4gICAgZWxzZVxuICAgIHtcbiAgICAgICAgb3V0WzBdID0gcmdiWzBdO1xuICAgICAgICBvdXRbMV0gPSByZ2JbMV07XG4gICAgICAgIG91dFsyXSA9IHJnYlsyXTtcbiAgICB9XG4gICAgb3V0WzNdID0gYWxwaGE7XG5cbiAgICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIHByZW11bHRpcGxpZXMgdGludFxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAZnVuY3Rpb24gcHJlbXVsdGlwbHlUaW50XG4gKiBAcGFyYW0ge251bWJlcn0gdGludCBpbnRlZ2VyIFJHQlxuICogQHBhcmFtIHtudW1iZXJ9IGFscGhhIGZsb2F0aW5nIHBvaW50IGFscGhhICgwLjAtMS4wKVxuICogQHJldHVybnMge251bWJlcn0gdGludCBtdWx0aXBsaWVkIGJ5IGFscGhhXG4gKi9cbmZ1bmN0aW9uIHByZW11bHRpcGx5VGludCh0aW50LCBhbHBoYSlcbntcbiAgICBpZiAoYWxwaGEgPT09IDEuMClcbiAgICB7XG4gICAgICAgIHJldHVybiAoYWxwaGEgKiAyNTUgPDwgMjQpICsgdGludDtcbiAgICB9XG4gICAgaWYgKGFscGhhID09PSAwLjApXG4gICAge1xuICAgICAgICByZXR1cm4gMDtcbiAgICB9XG4gICAgdmFyIFIgPSAoKHRpbnQgPj4gMTYpICYgMHhGRik7XG4gICAgdmFyIEcgPSAoKHRpbnQgPj4gOCkgJiAweEZGKTtcbiAgICB2YXIgQiA9ICh0aW50ICYgMHhGRik7XG5cbiAgICBSID0gKChSICogYWxwaGEpICsgMC41KSB8IDA7XG4gICAgRyA9ICgoRyAqIGFscGhhKSArIDAuNSkgfCAwO1xuICAgIEIgPSAoKEIgKiBhbHBoYSkgKyAwLjUpIHwgMDtcblxuICAgIHJldHVybiAoYWxwaGEgKiAyNTUgPDwgMjQpICsgKFIgPDwgMTYpICsgKEcgPDwgOCkgKyBCO1xufVxuXG4vKipcbiAqIGNvbnZlcnRzIGludGVnZXIgdGludCBhbmQgZmxvYXQgYWxwaGEgdG8gdmVjNCBmb3JtLCBwcmVtdWx0aXBsaWVzIGJ5IGRlZmF1bHRcbiAqXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQGZ1bmN0aW9uIHByZW11bHRpcGx5VGludFRvUmdiYVxuICogQHBhcmFtIHtudW1iZXJ9IHRpbnQgaW5wdXQgdGludFxuICogQHBhcmFtIHtudW1iZXJ9IGFscGhhIGFscGhhIHBhcmFtXG4gKiBAcGFyYW0ge0Zsb2F0MzJBcnJheX0gW291dF0gb3V0cHV0XG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtwcmVtdWx0aXBseT10cnVlXSBkbyBwcmVtdWx0aXBseSBpdFxuICogQHJldHVybnMge0Zsb2F0MzJBcnJheX0gdmVjNCByZ2JhXG4gKi9cbmZ1bmN0aW9uIHByZW11bHRpcGx5VGludFRvUmdiYSh0aW50LCBhbHBoYSwgb3V0LCBwcmVtdWx0aXBseSlcbntcbiAgICBvdXQgPSBvdXQgfHwgbmV3IEZsb2F0MzJBcnJheSg0KTtcbiAgICBvdXRbMF0gPSAoKHRpbnQgPj4gMTYpICYgMHhGRikgLyAyNTUuMDtcbiAgICBvdXRbMV0gPSAoKHRpbnQgPj4gOCkgJiAweEZGKSAvIDI1NS4wO1xuICAgIG91dFsyXSA9ICh0aW50ICYgMHhGRikgLyAyNTUuMDtcbiAgICBpZiAocHJlbXVsdGlwbHkgfHwgcHJlbXVsdGlwbHkgPT09IHVuZGVmaW5lZClcbiAgICB7XG4gICAgICAgIG91dFswXSAqPSBhbHBoYTtcbiAgICAgICAgb3V0WzFdICo9IGFscGhhO1xuICAgICAgICBvdXRbMl0gKj0gYWxwaGE7XG4gICAgfVxuICAgIG91dFszXSA9IGFscGhhO1xuXG4gICAgcmV0dXJuIG91dDtcbn1cblxuLyoqXG4gKiBHZW5lcmljIE1hc2sgU3RhY2sgZGF0YSBzdHJ1Y3R1cmVcbiAqXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQGZ1bmN0aW9uIGNyZWF0ZUluZGljZXNGb3JRdWFkc1xuICogQHBhcmFtIHtudW1iZXJ9IHNpemUgLSBOdW1iZXIgb2YgcXVhZHNcbiAqIEBwYXJhbSB7VWludDE2QXJyYXl8VWludDMyQXJyYXl9IFtvdXRCdWZmZXJdIC0gQnVmZmVyIGZvciBvdXRwdXQsIGxlbmd0aCBoYXMgdG8gYmUgYDYgKiBzaXplYFxuICogQHJldHVybiB7VWludDE2QXJyYXl8VWludDMyQXJyYXl9IC0gUmVzdWx0aW5nIGluZGV4IGJ1ZmZlclxuICovXG5mdW5jdGlvbiBjcmVhdGVJbmRpY2VzRm9yUXVhZHMoc2l6ZSwgb3V0QnVmZmVyKVxue1xuICAgIGlmICggb3V0QnVmZmVyID09PSB2b2lkIDAgKSBvdXRCdWZmZXIgPSBudWxsO1xuXG4gICAgLy8gdGhlIHRvdGFsIG51bWJlciBvZiBpbmRpY2VzIGluIG91ciBhcnJheSwgdGhlcmUgYXJlIDYgcG9pbnRzIHBlciBxdWFkLlxuICAgIHZhciB0b3RhbEluZGljZXMgPSBzaXplICogNjtcblxuICAgIG91dEJ1ZmZlciA9IG91dEJ1ZmZlciB8fCBuZXcgVWludDE2QXJyYXkodG90YWxJbmRpY2VzKTtcblxuICAgIGlmIChvdXRCdWZmZXIubGVuZ3RoICE9PSB0b3RhbEluZGljZXMpXG4gICAge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoKFwiT3V0IGJ1ZmZlciBsZW5ndGggaXMgaW5jb3JyZWN0LCBnb3QgXCIgKyAob3V0QnVmZmVyLmxlbmd0aCkgKyBcIiBhbmQgZXhwZWN0ZWQgXCIgKyB0b3RhbEluZGljZXMpKTtcbiAgICB9XG5cbiAgICAvLyBmaWxsIHRoZSBpbmRpY2VzIHdpdGggdGhlIHF1YWRzIHRvIGRyYXdcbiAgICBmb3IgKHZhciBpID0gMCwgaiA9IDA7IGkgPCB0b3RhbEluZGljZXM7IGkgKz0gNiwgaiArPSA0KVxuICAgIHtcbiAgICAgICAgb3V0QnVmZmVyW2kgKyAwXSA9IGogKyAwO1xuICAgICAgICBvdXRCdWZmZXJbaSArIDFdID0gaiArIDE7XG4gICAgICAgIG91dEJ1ZmZlcltpICsgMl0gPSBqICsgMjtcbiAgICAgICAgb3V0QnVmZmVyW2kgKyAzXSA9IGogKyAwO1xuICAgICAgICBvdXRCdWZmZXJbaSArIDRdID0gaiArIDI7XG4gICAgICAgIG91dEJ1ZmZlcltpICsgNV0gPSBqICsgMztcbiAgICB9XG5cbiAgICByZXR1cm4gb3V0QnVmZmVyO1xufVxuXG4vKipcbiAqIFJlbW92ZSBpdGVtcyBmcm9tIGEgamF2YXNjcmlwdCBhcnJheSB3aXRob3V0IGdlbmVyYXRpbmcgZ2FyYmFnZVxuICpcbiAqIEBmdW5jdGlvbiByZW1vdmVJdGVtc1xuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBwYXJhbSB7QXJyYXk8YW55Pn0gYXJyIEFycmF5IHRvIHJlbW92ZSBlbGVtZW50cyBmcm9tXG4gKiBAcGFyYW0ge251bWJlcn0gc3RhcnRJZHggc3RhcnRpbmcgaW5kZXhcbiAqIEBwYXJhbSB7bnVtYmVyfSByZW1vdmVDb3VudCBob3cgbWFueSB0byByZW1vdmVcbiAqL1xuZnVuY3Rpb24gcmVtb3ZlSXRlbXMoYXJyLCBzdGFydElkeCwgcmVtb3ZlQ291bnQpXG57XG4gICAgdmFyIGxlbmd0aCA9IGFyci5sZW5ndGg7XG4gICAgdmFyIGk7XG5cbiAgICBpZiAoc3RhcnRJZHggPj0gbGVuZ3RoIHx8IHJlbW92ZUNvdW50ID09PSAwKVxuICAgIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHJlbW92ZUNvdW50ID0gKHN0YXJ0SWR4ICsgcmVtb3ZlQ291bnQgPiBsZW5ndGggPyBsZW5ndGggLSBzdGFydElkeCA6IHJlbW92ZUNvdW50KTtcblxuICAgIHZhciBsZW4gPSBsZW5ndGggLSByZW1vdmVDb3VudDtcblxuICAgIGZvciAoaSA9IHN0YXJ0SWR4OyBpIDwgbGVuOyArK2kpXG4gICAge1xuICAgICAgICBhcnJbaV0gPSBhcnJbaSArIHJlbW92ZUNvdW50XTtcbiAgICB9XG5cbiAgICBhcnIubGVuZ3RoID0gbGVuO1xufVxuXG52YXIgbmV4dFVpZCA9IDA7XG5cbi8qKlxuICogR2V0cyB0aGUgbmV4dCB1bmlxdWUgaWRlbnRpZmllclxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAZnVuY3Rpb24gdWlkXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBuZXh0IHVuaXF1ZSBpZGVudGlmaWVyIHRvIHVzZS5cbiAqL1xuZnVuY3Rpb24gdWlkKClcbntcbiAgICByZXR1cm4gKytuZXh0VWlkO1xufVxuXG4vKipcbiAqIFJldHVybnMgc2lnbiBvZiBudW1iZXJcbiAqXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQGZ1bmN0aW9uIHNpZ25cbiAqIEBwYXJhbSB7bnVtYmVyfSBuIC0gdGhlIG51bWJlciB0byBjaGVjayB0aGUgc2lnbiBvZlxuICogQHJldHVybnMge251bWJlcn0gMCBpZiBgbmAgaXMgMCwgLTEgaWYgYG5gIGlzIG5lZ2F0aXZlLCAxIGlmIGBuYCBpcyBwb3NpdGl2ZVxuICovXG5mdW5jdGlvbiBzaWduKG4pXG57XG4gICAgaWYgKG4gPT09IDApIHsgcmV0dXJuIDA7IH1cblxuICAgIHJldHVybiBuIDwgMCA/IC0xIDogMTtcbn1cblxuLy8gVGFrZW4gZnJvbSB0aGUgYml0LXR3aWRkbGUgcGFja2FnZVxuXG4vKipcbiAqIFJvdW5kcyB0byBuZXh0IHBvd2VyIG9mIHR3by5cbiAqXG4gKiBAZnVuY3Rpb24gbmV4dFBvdzJcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAcGFyYW0ge251bWJlcn0gdiBpbnB1dCB2YWx1ZVxuICogQHJldHVybiB7bnVtYmVyfVxuICovXG5mdW5jdGlvbiBuZXh0UG93Mih2KVxue1xuICAgIHYgKz0gdiA9PT0gMDtcbiAgICAtLXY7XG4gICAgdiB8PSB2ID4+PiAxO1xuICAgIHYgfD0gdiA+Pj4gMjtcbiAgICB2IHw9IHYgPj4+IDQ7XG4gICAgdiB8PSB2ID4+PiA4O1xuICAgIHYgfD0gdiA+Pj4gMTY7XG5cbiAgICByZXR1cm4gdiArIDE7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGEgbnVtYmVyIGlzIGEgcG93ZXIgb2YgdHdvLlxuICpcbiAqIEBmdW5jdGlvbiBpc1BvdzJcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAcGFyYW0ge251bWJlcn0gdiBpbnB1dCB2YWx1ZVxuICogQHJldHVybiB7Ym9vbGVhbn0gYHRydWVgIGlmIHZhbHVlIGlzIHBvd2VyIG9mIHR3b1xuICovXG5mdW5jdGlvbiBpc1BvdzIodilcbntcbiAgICByZXR1cm4gISh2ICYgKHYgLSAxKSkgJiYgKCEhdik7XG59XG5cbi8qKlxuICogQ29tcHV0ZXMgY2VpbCBvZiBsb2cgYmFzZSAyXG4gKlxuICogQGZ1bmN0aW9uIGxvZzJcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAcGFyYW0ge251bWJlcn0gdiBpbnB1dCB2YWx1ZVxuICogQHJldHVybiB7bnVtYmVyfSBsb2dhcml0aG0gYmFzZSAyXG4gKi9cbmZ1bmN0aW9uIGxvZzIodilcbntcbiAgICB2YXIgciA9ICh2ID4gMHhGRkZGKSA8PCA0O1xuXG4gICAgdiA+Pj49IHI7XG5cbiAgICB2YXIgc2hpZnQgPSAodiA+IDB4RkYpIDw8IDM7XG5cbiAgICB2ID4+Pj0gc2hpZnQ7IHIgfD0gc2hpZnQ7XG4gICAgc2hpZnQgPSAodiA+IDB4RikgPDwgMjtcbiAgICB2ID4+Pj0gc2hpZnQ7IHIgfD0gc2hpZnQ7XG4gICAgc2hpZnQgPSAodiA+IDB4MykgPDwgMTtcbiAgICB2ID4+Pj0gc2hpZnQ7IHIgfD0gc2hpZnQ7XG5cbiAgICByZXR1cm4gciB8ICh2ID4+IDEpO1xufVxuXG4vKipcbiAqIEB0b2RvIERlc2NyaWJlIHByb3BlcnR5IHVzYWdlXG4gKlxuICogQHN0YXRpY1xuICogQG5hbWUgUHJvZ3JhbUNhY2hlXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQHR5cGUge09iamVjdH1cbiAqL1xudmFyIFByb2dyYW1DYWNoZSA9IHt9O1xuXG4vKipcbiAqIEB0b2RvIERlc2NyaWJlIHByb3BlcnR5IHVzYWdlXG4gKlxuICogQHN0YXRpY1xuICogQG5hbWUgVGV4dHVyZUNhY2hlXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQHR5cGUge09iamVjdH1cbiAqL1xudmFyIFRleHR1cmVDYWNoZSA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG5cbi8qKlxuICogQHRvZG8gRGVzY3JpYmUgcHJvcGVydHkgdXNhZ2VcbiAqXG4gKiBAc3RhdGljXG4gKiBAbmFtZSBCYXNlVGV4dHVyZUNhY2hlXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQHR5cGUge09iamVjdH1cbiAqL1xuXG52YXIgQmFzZVRleHR1cmVDYWNoZSA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4vKipcbiAqIERlc3Ryb3lzIGFsbCB0ZXh0dXJlIGluIHRoZSBjYWNoZVxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAZnVuY3Rpb24gZGVzdHJveVRleHR1cmVDYWNoZVxuICovXG5mdW5jdGlvbiBkZXN0cm95VGV4dHVyZUNhY2hlKClcbntcbiAgICB2YXIga2V5O1xuXG4gICAgZm9yIChrZXkgaW4gVGV4dHVyZUNhY2hlKVxuICAgIHtcbiAgICAgICAgVGV4dHVyZUNhY2hlW2tleV0uZGVzdHJveSgpO1xuICAgIH1cbiAgICBmb3IgKGtleSBpbiBCYXNlVGV4dHVyZUNhY2hlKVxuICAgIHtcbiAgICAgICAgQmFzZVRleHR1cmVDYWNoZVtrZXldLmRlc3Ryb3koKTtcbiAgICB9XG59XG5cbi8qKlxuICogUmVtb3ZlcyBhbGwgdGV4dHVyZXMgZnJvbSBjYWNoZSwgYnV0IGRvZXMgbm90IGRlc3Ryb3kgdGhlbVxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAZnVuY3Rpb24gY2xlYXJUZXh0dXJlQ2FjaGVcbiAqL1xuZnVuY3Rpb24gY2xlYXJUZXh0dXJlQ2FjaGUoKVxue1xuICAgIHZhciBrZXk7XG5cbiAgICBmb3IgKGtleSBpbiBUZXh0dXJlQ2FjaGUpXG4gICAge1xuICAgICAgICBkZWxldGUgVGV4dHVyZUNhY2hlW2tleV07XG4gICAgfVxuICAgIGZvciAoa2V5IGluIEJhc2VUZXh0dXJlQ2FjaGUpXG4gICAge1xuICAgICAgICBkZWxldGUgQmFzZVRleHR1cmVDYWNoZVtrZXldO1xuICAgIH1cbn1cblxuLyoqXG4gKiBUcmltIHRyYW5zcGFyZW50IGJvcmRlcnMgZnJvbSBhIGNhbnZhc1xuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAZnVuY3Rpb24gdHJpbUNhbnZhc1xuICogQHBhcmFtIHtIVE1MQ2FudmFzRWxlbWVudH0gY2FudmFzIC0gdGhlIGNhbnZhcyB0byB0cmltXG4gKiBAcmV0dXJucyB7b2JqZWN0fSBUcmltIGRhdGFcbiAqL1xuZnVuY3Rpb24gdHJpbUNhbnZhcyhjYW52YXMpXG57XG4gICAgLy8gaHR0cHM6Ly9naXN0LmdpdGh1Yi5jb20vcmVteS83ODQ1MDhcblxuICAgIHZhciB3aWR0aCA9IGNhbnZhcy53aWR0aDtcbiAgICB2YXIgaGVpZ2h0ID0gY2FudmFzLmhlaWdodDtcblxuICAgIHZhciBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgdmFyIGltYWdlRGF0YSA9IGNvbnRleHQuZ2V0SW1hZ2VEYXRhKDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xuICAgIHZhciBwaXhlbHMgPSBpbWFnZURhdGEuZGF0YTtcbiAgICB2YXIgbGVuID0gcGl4ZWxzLmxlbmd0aDtcblxuICAgIHZhciBib3VuZCA9IHtcbiAgICAgICAgdG9wOiBudWxsLFxuICAgICAgICBsZWZ0OiBudWxsLFxuICAgICAgICByaWdodDogbnVsbCxcbiAgICAgICAgYm90dG9tOiBudWxsLFxuICAgIH07XG4gICAgdmFyIGRhdGEgPSBudWxsO1xuICAgIHZhciBpO1xuICAgIHZhciB4O1xuICAgIHZhciB5O1xuXG4gICAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSArPSA0KVxuICAgIHtcbiAgICAgICAgaWYgKHBpeGVsc1tpICsgM10gIT09IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIHggPSAoaSAvIDQpICUgd2lkdGg7XG4gICAgICAgICAgICB5ID0gfn4oKGkgLyA0KSAvIHdpZHRoKTtcblxuICAgICAgICAgICAgaWYgKGJvdW5kLnRvcCA9PT0gbnVsbClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBib3VuZC50b3AgPSB5O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoYm91bmQubGVmdCA9PT0gbnVsbClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBib3VuZC5sZWZ0ID0geDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHggPCBib3VuZC5sZWZ0KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGJvdW5kLmxlZnQgPSB4O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoYm91bmQucmlnaHQgPT09IG51bGwpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYm91bmQucmlnaHQgPSB4ICsgMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGJvdW5kLnJpZ2h0IDwgeClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBib3VuZC5yaWdodCA9IHggKyAxO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoYm91bmQuYm90dG9tID09PSBudWxsKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGJvdW5kLmJvdHRvbSA9IHk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChib3VuZC5ib3R0b20gPCB5KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGJvdW5kLmJvdHRvbSA9IHk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoYm91bmQudG9wICE9PSBudWxsKVxuICAgIHtcbiAgICAgICAgd2lkdGggPSBib3VuZC5yaWdodCAtIGJvdW5kLmxlZnQ7XG4gICAgICAgIGhlaWdodCA9IGJvdW5kLmJvdHRvbSAtIGJvdW5kLnRvcCArIDE7XG4gICAgICAgIGRhdGEgPSBjb250ZXh0LmdldEltYWdlRGF0YShib3VuZC5sZWZ0LCBib3VuZC50b3AsIHdpZHRoLCBoZWlnaHQpO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICAgIGhlaWdodDogaGVpZ2h0LFxuICAgICAgICB3aWR0aDogd2lkdGgsXG4gICAgICAgIGRhdGE6IGRhdGEsXG4gICAgfTtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgQ2FudmFzIGVsZW1lbnQgb2YgdGhlIGdpdmVuIHNpemUgdG8gYmUgdXNlZCBhcyBhIHRhcmdldCBmb3IgcmVuZGVyaW5nIHRvLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqL1xudmFyIENhbnZhc1JlbmRlclRhcmdldCA9IGZ1bmN0aW9uIENhbnZhc1JlbmRlclRhcmdldCh3aWR0aCwgaGVpZ2h0LCByZXNvbHV0aW9uKVxue1xuICAgIC8qKlxuICAgICAqIFRoZSBDYW52YXMgb2JqZWN0IHRoYXQgYmVsb25ncyB0byB0aGlzIENhbnZhc1JlbmRlclRhcmdldC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge0hUTUxDYW52YXNFbGVtZW50fVxuICAgICAqL1xuICAgIHRoaXMuY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG5cbiAgICAvKipcbiAgICAgKiBBIENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCBvYmplY3QgcmVwcmVzZW50aW5nIGEgdHdvLWRpbWVuc2lvbmFsIHJlbmRlcmluZyBjb250ZXh0LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfVxuICAgICAqL1xuICAgIHRoaXMuY29udGV4dCA9IHRoaXMuY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG5cbiAgICB0aGlzLnJlc29sdXRpb24gPSByZXNvbHV0aW9uIHx8IHNldHRpbmdzLlJFU09MVVRJT047XG5cbiAgICB0aGlzLnJlc2l6ZSh3aWR0aCwgaGVpZ2h0KTtcbn07XG5cbnZhciBwcm90b3R5cGVBY2Nlc3NvcnMgPSB7IHdpZHRoOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LGhlaWdodDogeyBjb25maWd1cmFibGU6IHRydWUgfSB9O1xuXG4vKipcbiAqIENsZWFycyB0aGUgY2FudmFzIHRoYXQgd2FzIGNyZWF0ZWQgYnkgdGhlIENhbnZhc1JlbmRlclRhcmdldCBjbGFzcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5DYW52YXNSZW5kZXJUYXJnZXQucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gY2xlYXIgKClcbntcbiAgICB0aGlzLmNvbnRleHQuc2V0VHJhbnNmb3JtKDEsIDAsIDAsIDEsIDAsIDApO1xuICAgIHRoaXMuY29udGV4dC5jbGVhclJlY3QoMCwgMCwgdGhpcy5jYW52YXMud2lkdGgsIHRoaXMuY2FudmFzLmhlaWdodCk7XG59O1xuXG4vKipcbiAqIFJlc2l6ZXMgdGhlIGNhbnZhcyB0byB0aGUgc3BlY2lmaWVkIHdpZHRoIGFuZCBoZWlnaHQuXG4gKlxuICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIC0gdGhlIG5ldyB3aWR0aCBvZiB0aGUgY2FudmFzXG4gKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IC0gdGhlIG5ldyBoZWlnaHQgb2YgdGhlIGNhbnZhc1xuICovXG5DYW52YXNSZW5kZXJUYXJnZXQucHJvdG90eXBlLnJlc2l6ZSA9IGZ1bmN0aW9uIHJlc2l6ZSAod2lkdGgsIGhlaWdodClcbntcbiAgICB0aGlzLmNhbnZhcy53aWR0aCA9IHdpZHRoICogdGhpcy5yZXNvbHV0aW9uO1xuICAgIHRoaXMuY2FudmFzLmhlaWdodCA9IGhlaWdodCAqIHRoaXMucmVzb2x1dGlvbjtcbn07XG5cbi8qKlxuICogRGVzdHJveXMgdGhpcyBjYW52YXMuXG4gKlxuICovXG5DYW52YXNSZW5kZXJUYXJnZXQucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95ICgpXG57XG4gICAgdGhpcy5jb250ZXh0ID0gbnVsbDtcbiAgICB0aGlzLmNhbnZhcyA9IG51bGw7XG59O1xuXG4vKipcbiAqIFRoZSB3aWR0aCBvZiB0aGUgY2FudmFzIGJ1ZmZlciBpbiBwaXhlbHMuXG4gKlxuICogQG1lbWJlciB7bnVtYmVyfVxuICovXG5wcm90b3R5cGVBY2Nlc3NvcnMud2lkdGguZ2V0ID0gZnVuY3Rpb24gKClcbntcbiAgICByZXR1cm4gdGhpcy5jYW52YXMud2lkdGg7XG59O1xuXG5wcm90b3R5cGVBY2Nlc3NvcnMud2lkdGguc2V0ID0gZnVuY3Rpb24gKHZhbCkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG57XG4gICAgdGhpcy5jYW52YXMud2lkdGggPSB2YWw7XG59O1xuXG4vKipcbiAqIFRoZSBoZWlnaHQgb2YgdGhlIGNhbnZhcyBidWZmZXIgaW4gcGl4ZWxzLlxuICpcbiAqIEBtZW1iZXIge251bWJlcn1cbiAqL1xucHJvdG90eXBlQWNjZXNzb3JzLmhlaWdodC5nZXQgPSBmdW5jdGlvbiAoKVxue1xuICAgIHJldHVybiB0aGlzLmNhbnZhcy5oZWlnaHQ7XG59O1xuXG5wcm90b3R5cGVBY2Nlc3NvcnMuaGVpZ2h0LnNldCA9IGZ1bmN0aW9uICh2YWwpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xue1xuICAgIHRoaXMuY2FudmFzLmhlaWdodCA9IHZhbDtcbn07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKCBDYW52YXNSZW5kZXJUYXJnZXQucHJvdG90eXBlLCBwcm90b3R5cGVBY2Nlc3NvcnMgKTtcblxuLyoqXG4gKiBSZWdleHAgZm9yIGRhdGEgVVJJLlxuICogQmFzZWQgb246IHtAbGluayBodHRwczovL2dpdGh1Yi5jb20vcmFnaW5nd2luZC9kYXRhLXVyaS1yZWdleH1cbiAqXG4gKiBAc3RhdGljXG4gKiBAY29uc3RhbnQge1JlZ0V4cHxzdHJpbmd9IERBVEFfVVJJXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGV4YW1wbGUgZGF0YTppbWFnZS9wbmc7YmFzZTY0XG4gKi9cbnZhciBEQVRBX1VSSSA9IC9eXFxzKmRhdGE6KD86KFtcXHctXSspXFwvKFtcXHcrLi1dKykpPyg/OjtjaGFyc2V0PShbXFx3LV0rKSk/KD86OyhiYXNlNjQpKT8sKC4qKS9pO1xuXG4vKipcbiAqIFR5cGVkZWYgZm9yIGRlY29tcG9zZURhdGFVcmkgcmV0dXJuIG9iamVjdC5cbiAqXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQHR5cGVkZWYge29iamVjdH0gRGVjb21wb3NlZERhdGFVcmlcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBtZWRpYVR5cGUgTWVkaWEgdHlwZSwgZWcuIGBpbWFnZWBcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBzdWJUeXBlIFN1YiB0eXBlLCBlZy4gYHBuZ2BcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBlbmNvZGluZyBEYXRhIGVuY29kaW5nLCBlZy4gYGJhc2U2NGBcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBkYXRhIFRoZSBhY3R1YWwgZGF0YVxuICovXG5cbi8qKlxuICogU3BsaXQgYSBkYXRhIFVSSSBpbnRvIGNvbXBvbmVudHMuIFJldHVybnMgdW5kZWZpbmVkIGlmXG4gKiBwYXJhbWV0ZXIgYGRhdGFVcmlgIGlzIG5vdCBhIHZhbGlkIGRhdGEgVVJJLlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAZnVuY3Rpb24gZGVjb21wb3NlRGF0YVVyaVxuICogQHBhcmFtIHtzdHJpbmd9IGRhdGFVcmkgLSB0aGUgZGF0YSBVUkkgdG8gY2hlY2tcbiAqIEByZXR1cm4ge1BJWEkudXRpbHMuRGVjb21wb3NlZERhdGFVcml8dW5kZWZpbmVkfSBUaGUgZGVjb21wb3NlZCBkYXRhIHVyaSBvciB1bmRlZmluZWRcbiAqL1xuZnVuY3Rpb24gZGVjb21wb3NlRGF0YVVyaShkYXRhVXJpKVxue1xuICAgIHZhciBkYXRhVXJpTWF0Y2ggPSBEQVRBX1VSSS5leGVjKGRhdGFVcmkpO1xuXG4gICAgaWYgKGRhdGFVcmlNYXRjaClcbiAgICB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBtZWRpYVR5cGU6IGRhdGFVcmlNYXRjaFsxXSA/IGRhdGFVcmlNYXRjaFsxXS50b0xvd2VyQ2FzZSgpIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgc3ViVHlwZTogZGF0YVVyaU1hdGNoWzJdID8gZGF0YVVyaU1hdGNoWzJdLnRvTG93ZXJDYXNlKCkgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBjaGFyc2V0OiBkYXRhVXJpTWF0Y2hbM10gPyBkYXRhVXJpTWF0Y2hbM10udG9Mb3dlckNhc2UoKSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGVuY29kaW5nOiBkYXRhVXJpTWF0Y2hbNF0gPyBkYXRhVXJpTWF0Y2hbNF0udG9Mb3dlckNhc2UoKSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGRhdGE6IGRhdGFVcmlNYXRjaFs1XSxcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xufVxuXG52YXIgdGVtcEFuY2hvcjtcblxuLyoqXG4gKiBTZXRzIHRoZSBgY3Jvc3NPcmlnaW5gIHByb3BlcnR5IGZvciB0aGlzIHJlc291cmNlIGJhc2VkIG9uIGlmIHRoZSB1cmxcbiAqIGZvciB0aGlzIHJlc291cmNlIGlzIGNyb3NzLW9yaWdpbi4gSWYgY3Jvc3NPcmlnaW4gd2FzIG1hbnVhbGx5IHNldCwgdGhpc1xuICogZnVuY3Rpb24gZG9lcyBub3RoaW5nLlxuICogTmlwcGVkIGZyb20gdGhlIHJlc291cmNlIGxvYWRlciFcbiAqXG4gKiBAaWdub3JlXG4gKiBAcGFyYW0ge3N0cmluZ30gdXJsIC0gVGhlIHVybCB0byB0ZXN0LlxuICogQHBhcmFtIHtvYmplY3R9IFtsb2M9d2luZG93LmxvY2F0aW9uXSAtIFRoZSBsb2NhdGlvbiBvYmplY3QgdG8gdGVzdCBhZ2FpbnN0LlxuICogQHJldHVybiB7c3RyaW5nfSBUaGUgY3Jvc3NPcmlnaW4gdmFsdWUgdG8gdXNlIChvciBlbXB0eSBzdHJpbmcgZm9yIG5vbmUpLlxuICovXG5mdW5jdGlvbiBkZXRlcm1pbmVDcm9zc09yaWdpbih1cmwsIGxvYylcbntcbiAgICBpZiAoIGxvYyA9PT0gdm9pZCAwICkgbG9jID0gd2luZG93LmxvY2F0aW9uO1xuXG4gICAgLy8gZGF0YTogYW5kIGphdmFzY3JpcHQ6IHVybHMgYXJlIGNvbnNpZGVyZWQgc2FtZS1vcmlnaW5cbiAgICBpZiAodXJsLmluZGV4T2YoJ2RhdGE6JykgPT09IDApXG4gICAge1xuICAgICAgICByZXR1cm4gJyc7XG4gICAgfVxuXG4gICAgLy8gZGVmYXVsdCBpcyB3aW5kb3cubG9jYXRpb25cbiAgICBsb2MgPSBsb2MgfHwgd2luZG93LmxvY2F0aW9uO1xuXG4gICAgaWYgKCF0ZW1wQW5jaG9yKVxuICAgIHtcbiAgICAgICAgdGVtcEFuY2hvciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcbiAgICB9XG5cbiAgICAvLyBsZXQgdGhlIGJyb3dzZXIgZGV0ZXJtaW5lIHRoZSBmdWxsIGhyZWYgZm9yIHRoZSB1cmwgb2YgdGhpcyByZXNvdXJjZSBhbmQgdGhlblxuICAgIC8vIHBhcnNlIHdpdGggdGhlIG5vZGUgdXJsIGxpYiwgd2UgY2FuJ3QgdXNlIHRoZSBwcm9wZXJ0aWVzIG9mIHRoZSBhbmNob3IgZWxlbWVudFxuICAgIC8vIGJlY2F1c2UgdGhleSBkb24ndCB3b3JrIGluIElFOSA6KFxuICAgIHRlbXBBbmNob3IuaHJlZiA9IHVybDtcbiAgICB1cmwgPSBfdXJsLnBhcnNlKHRlbXBBbmNob3IuaHJlZik7XG5cbiAgICB2YXIgc2FtZVBvcnQgPSAoIXVybC5wb3J0ICYmIGxvYy5wb3J0ID09PSAnJykgfHwgKHVybC5wb3J0ID09PSBsb2MucG9ydCk7XG5cbiAgICAvLyBpZiBjcm9zcyBvcmlnaW5cbiAgICBpZiAodXJsLmhvc3RuYW1lICE9PSBsb2MuaG9zdG5hbWUgfHwgIXNhbWVQb3J0IHx8IHVybC5wcm90b2NvbCAhPT0gbG9jLnByb3RvY29sKVxuICAgIHtcbiAgICAgICAgcmV0dXJuICdhbm9ueW1vdXMnO1xuICAgIH1cblxuICAgIHJldHVybiAnJztcbn1cblxuLyoqXG4gKiBnZXQgdGhlIHJlc29sdXRpb24gLyBkZXZpY2UgcGl4ZWwgcmF0aW8gb2YgYW4gYXNzZXQgYnkgbG9va2luZyBmb3IgdGhlIHByZWZpeFxuICogdXNlZCBieSBzcHJpdGVzaGVldHMgYW5kIGltYWdlIHVybHNcbiAqXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQGZ1bmN0aW9uIGdldFJlc29sdXRpb25PZlVybFxuICogQHBhcmFtIHtzdHJpbmd9IHVybCAtIHRoZSBpbWFnZSBwYXRoXG4gKiBAcGFyYW0ge251bWJlcn0gW2RlZmF1bHRWYWx1ZT0xXSAtIHRoZSBkZWZhdWx0VmFsdWUgaWYgbm8gZmlsZW5hbWUgcHJlZml4IGlzIHNldC5cbiAqIEByZXR1cm4ge251bWJlcn0gcmVzb2x1dGlvbiAvIGRldmljZSBwaXhlbCByYXRpbyBvZiBhbiBhc3NldFxuICovXG5mdW5jdGlvbiBnZXRSZXNvbHV0aW9uT2ZVcmwodXJsLCBkZWZhdWx0VmFsdWUpXG57XG4gICAgdmFyIHJlc29sdXRpb24gPSBzZXR0aW5ncy5SRVRJTkFfUFJFRklYLmV4ZWModXJsKTtcblxuICAgIGlmIChyZXNvbHV0aW9uKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHBhcnNlRmxvYXQocmVzb2x1dGlvblsxXSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGRlZmF1bHRWYWx1ZSAhPT0gdW5kZWZpbmVkID8gZGVmYXVsdFZhbHVlIDogMTtcbn1cblxuLy8gQSBtYXAgb2Ygd2FybmluZyBtZXNzYWdlcyBhbHJlYWR5IGZpcmVkXG52YXIgd2FybmluZ3MgPSB7fTtcblxuLyoqXG4gKiBIZWxwZXIgZm9yIHdhcm5pbmcgZGV2ZWxvcGVycyBhYm91dCBkZXByZWNhdGVkIGZlYXR1cmVzICYgc2V0dGluZ3MuXG4gKiBBIHN0YWNrIHRyYWNrIGZvciB3YXJuaW5ncyBpcyBnaXZlbjsgdXNlZnVsIGZvciB0cmFja2luZy1kb3duIHdoZXJlXG4gKiBkZXByZWNhdGVkIG1ldGhvZHMvcHJvcGVydGllcy9jbGFzc2VzIGFyZSBiZWluZyB1c2VkIHdpdGhpbiB0aGUgY29kZS5cbiAqXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQGZ1bmN0aW9uIGRlcHJlY2F0aW9uXG4gKiBAcGFyYW0ge3N0cmluZ30gdmVyc2lvbiAtIFRoZSB2ZXJzaW9uIHdoZXJlIHRoZSBmZWF0dXJlIGJlY2FtZSBkZXByZWNhdGVkXG4gKiBAcGFyYW0ge3N0cmluZ30gbWVzc2FnZSAtIE1lc3NhZ2Ugc2hvdWxkIGluY2x1ZGUgd2hhdCBpcyBkZXByZWNhdGVkLCB3aGVyZSwgYW5kIHRoZSBuZXcgc29sdXRpb25cbiAqIEBwYXJhbSB7bnVtYmVyfSBbaWdub3JlRGVwdGg9M10gLSBUaGUgbnVtYmVyIG9mIHN0ZXBzIHRvIGlnbm9yZSBhdCB0aGUgdG9wIG9mIHRoZSBlcnJvciBzdGFja1xuICogICAgICAgIHRoaXMgaXMgbW9zdGx5IHRvIGlnbm9yZSBpbnRlcm5hbCBkZXByZWNhdGlvbiBjYWxscy5cbiAqL1xuZnVuY3Rpb24gZGVwcmVjYXRpb24odmVyc2lvbiwgbWVzc2FnZSwgaWdub3JlRGVwdGgpXG57XG4gICAgaWYgKCBpZ25vcmVEZXB0aCA9PT0gdm9pZCAwICkgaWdub3JlRGVwdGggPSAzO1xuXG4gICAgLy8gSWdub3JlIGR1cGxpY2F0XG4gICAgaWYgKHdhcm5pbmdzW21lc3NhZ2VdKVxuICAgIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8qIGVzbGludC1kaXNhYmxlIG5vLWNvbnNvbGUgKi9cbiAgICB2YXIgc3RhY2sgPSBuZXcgRXJyb3IoKS5zdGFjaztcblxuICAgIC8vIEhhbmRsZSBJRSA8IDEwIGFuZCBTYWZhcmkgPCA2XG4gICAgaWYgKHR5cGVvZiBzdGFjayA9PT0gJ3VuZGVmaW5lZCcpXG4gICAge1xuICAgICAgICBjb25zb2xlLndhcm4oJ1BpeGlKUyBEZXByZWNhdGlvbiBXYXJuaW5nOiAnLCAobWVzc2FnZSArIFwiXFxuRGVwcmVjYXRlZCBzaW5jZSB2XCIgKyB2ZXJzaW9uKSk7XG4gICAgfVxuICAgIGVsc2VcbiAgICB7XG4gICAgICAgIC8vIGNob3Agb2ZmIHRoZSBzdGFjayB0cmFjZSB3aGljaCBpbmNsdWRlcyBQaXhpSlMgaW50ZXJuYWwgY2FsbHNcbiAgICAgICAgc3RhY2sgPSBzdGFjay5zcGxpdCgnXFxuJykuc3BsaWNlKGlnbm9yZURlcHRoKS5qb2luKCdcXG4nKTtcblxuICAgICAgICBpZiAoY29uc29sZS5ncm91cENvbGxhcHNlZClcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc29sZS5ncm91cENvbGxhcHNlZChcbiAgICAgICAgICAgICAgICAnJWNQaXhpSlMgRGVwcmVjYXRpb24gV2FybmluZzogJWMlcycsXG4gICAgICAgICAgICAgICAgJ2NvbG9yOiM2MTQxMDg7YmFja2dyb3VuZDojZmZmYmU2JyxcbiAgICAgICAgICAgICAgICAnZm9udC13ZWlnaHQ6bm9ybWFsO2NvbG9yOiM2MTQxMDg7YmFja2dyb3VuZDojZmZmYmU2JyxcbiAgICAgICAgICAgICAgICAobWVzc2FnZSArIFwiXFxuRGVwcmVjYXRlZCBzaW5jZSB2XCIgKyB2ZXJzaW9uKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihzdGFjayk7XG4gICAgICAgICAgICBjb25zb2xlLmdyb3VwRW5kKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ1BpeGlKUyBEZXByZWNhdGlvbiBXYXJuaW5nOiAnLCAobWVzc2FnZSArIFwiXFxuRGVwcmVjYXRlZCBzaW5jZSB2XCIgKyB2ZXJzaW9uKSk7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oc3RhY2spO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qIGVzbGludC1lbmFibGUgbm8tY29uc29sZSAqL1xuXG4gICAgd2FybmluZ3NbbWVzc2FnZV0gPSB0cnVlO1xufVxuXG4vKipcbiAqIEdlbmVyYWxpemVkIGNvbnZlbmllbmNlIHV0aWxpdGllcyBmb3IgUElYSS5cbiAqIEBleGFtcGxlXG4gKiAvLyBFeHRlbmQgUElYSSdzIGludGVybmFsIEV2ZW50IEVtaXR0ZXIuXG4gKiBjbGFzcyBNeUVtaXR0ZXIgZXh0ZW5kcyBQSVhJLnV0aWxzLkV2ZW50RW1pdHRlciB7XG4gKiAgIGNvbnN0cnVjdG9yKCkge1xuICogICAgICBzdXBlcigpO1xuICogICAgICBjb25zb2xlLmxvZyhcIkVtaXR0ZXIgY3JlYXRlZCFcIik7XG4gKiAgIH1cbiAqIH1cbiAqXG4gKiAvLyBHZXQgaW5mbyBvbiBjdXJyZW50IGRldmljZVxuICogY29uc29sZS5sb2coUElYSS51dGlscy5pc01vYmlsZSk7XG4gKlxuICogLy8gQ29udmVydCBoZXggY29sb3IgdG8gc3RyaW5nXG4gKiBjb25zb2xlLmxvZyhQSVhJLnV0aWxzLmhleDJzdHJpbmcoMHhmZjAwZmYpKTsgLy8gcmV0dXJuczogXCIjZmYwMGZmXCJcbiAqIEBuYW1lc3BhY2UgUElYSS51dGlsc1xuICovXG5cbmV4cG9ydCB7IEJhc2VUZXh0dXJlQ2FjaGUsIENhbnZhc1JlbmRlclRhcmdldCwgREFUQV9VUkksIFByb2dyYW1DYWNoZSwgVGV4dHVyZUNhY2hlLCBjbGVhclRleHR1cmVDYWNoZSwgY29ycmVjdEJsZW5kTW9kZSwgY3JlYXRlSW5kaWNlc0ZvclF1YWRzLCBkZWNvbXBvc2VEYXRhVXJpLCBkZXByZWNhdGlvbiwgZGVzdHJveVRleHR1cmVDYWNoZSwgZGV0ZXJtaW5lQ3Jvc3NPcmlnaW4sIGdldFJlc29sdXRpb25PZlVybCwgaGV4MnJnYiwgaGV4MnN0cmluZywgaXNQb3cyLCBpc1dlYkdMU3VwcG9ydGVkLCBsb2cyLCBuZXh0UG93MiwgcHJlbXVsdGlwbHlCbGVuZE1vZGUsIHByZW11bHRpcGx5UmdiYSwgcHJlbXVsdGlwbHlUaW50LCBwcmVtdWx0aXBseVRpbnRUb1JnYmEsIHJlbW92ZUl0ZW1zLCByZ2IyaGV4LCBzYXlIZWxsbywgc2lnbiwgc2tpcEhlbGxvLCBzdHJpbmcyaGV4LCB0cmltQ2FudmFzLCB1aWQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXV0aWxzLmVzLmpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS9tYXRoIC0gdjUuMi4wXG4gKiBDb21waWxlZCBXZWQsIDA2IE5vdiAyMDE5IDAyOjMyOjQzIFVUQ1xuICpcbiAqIEBwaXhpL21hdGggaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG4vKipcbiAqIENvbW1vbiBpbnRlcmZhY2UgZm9yIHBvaW50cy4gQm90aCBQb2ludCBhbmQgT2JzZXJ2YWJsZVBvaW50IGltcGxlbWVudCBpdFxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBpbnRlcmZhY2UgSVBvaW50XG4gKi9cbi8qKlxuICogWCBjb29yZFxuICogQG1lbWJlcm9mIFBJWEkuSVBvaW50I1xuICogQG1lbWJlciB7bnVtYmVyfSB4XG4gKi9cbi8qKlxuICogWSBjb29yZFxuICogQG1lbWJlcm9mIFBJWEkuSVBvaW50I1xuICogQG1lbWJlciB7bnVtYmVyfSB5XG4gKi9cbi8qKlxuICogU2V0cyB0aGUgcG9pbnQgdG8gYSBuZXcgeCBhbmQgeSBwb3NpdGlvbi5cbiAqIElmIHkgaXMgb21pdHRlZCwgYm90aCB4IGFuZCB5IHdpbGwgYmUgc2V0IHRvIHguXG4gKlxuICogQG1ldGhvZCBzZXRcbiAqIEBtZW1iZXJvZiBQSVhJLklQb2ludCNcbiAqIEBwYXJhbSB7bnVtYmVyfSBbeD0wXSAtIHBvc2l0aW9uIG9mIHRoZSBwb2ludCBvbiB0aGUgeCBheGlzXG4gKiBAcGFyYW0ge251bWJlcn0gW3k9eF0gLSBwb3NpdGlvbiBvZiB0aGUgcG9pbnQgb24gdGhlIHkgYXhpc1xuICovXG4vKipcbiAqIENvcGllcyB4IGFuZCB5IGZyb20gdGhlIGdpdmVuIHBvaW50XG4gKiBAbWV0aG9kIGNvcHlGcm9tXG4gKiBAbWVtYmVyb2YgUElYSS5JUG9pbnQjXG4gKiBAcGFyYW0ge1BJWEkuSVBvaW50fSBwIC0gVGhlIHBvaW50IHRvIGNvcHkgZnJvbVxuICogQHJldHVybnMge3RoaXN9IFJldHVybnMgaXRzZWxmLlxuICovXG4vKipcbiAqIENvcGllcyB4IGFuZCB5IGludG8gdGhlIGdpdmVuIHBvaW50XG4gKiBAbWV0aG9kIGNvcHlUb1xuICogQG1lbWJlcm9mIFBJWEkuSVBvaW50I1xuICogQHBhcmFtIHtQSVhJLklQb2ludH0gcCAtIFRoZSBwb2ludCB0byBjb3B5LlxuICogQHJldHVybnMge1BJWEkuSVBvaW50fSBHaXZlbiBwb2ludCB3aXRoIHZhbHVlcyB1cGRhdGVkXG4gKi9cbi8qKlxuICogUmV0dXJucyB0cnVlIGlmIHRoZSBnaXZlbiBwb2ludCBpcyBlcXVhbCB0byB0aGlzIHBvaW50XG4gKlxuICogQG1ldGhvZCBlcXVhbHNcbiAqIEBtZW1iZXJvZiBQSVhJLklQb2ludCNcbiAqIEBwYXJhbSB7UElYSS5JUG9pbnR9IHAgLSBUaGUgcG9pbnQgdG8gY2hlY2tcbiAqIEByZXR1cm5zIHtib29sZWFufSBXaGV0aGVyIHRoZSBnaXZlbiBwb2ludCBlcXVhbCB0byB0aGlzIHBvaW50XG4gKi9cblxuLyoqXG4gKiBUaGUgUG9pbnQgb2JqZWN0IHJlcHJlc2VudHMgYSBsb2NhdGlvbiBpbiBhIHR3by1kaW1lbnNpb25hbCBjb29yZGluYXRlIHN5c3RlbSwgd2hlcmUgeCByZXByZXNlbnRzXG4gKiB0aGUgaG9yaXpvbnRhbCBheGlzIGFuZCB5IHJlcHJlc2VudHMgdGhlIHZlcnRpY2FsIGF4aXMuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGltcGxlbWVudHMgSVBvaW50XG4gKi9cbnZhciBQb2ludCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3g9MF0gLSBwb3NpdGlvbiBvZiB0aGUgcG9pbnQgb24gdGhlIHggYXhpc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbeT0wXSAtIHBvc2l0aW9uIG9mIHRoZSBwb2ludCBvbiB0aGUgeSBheGlzXG4gICAgICovXG4gICAgZnVuY3Rpb24gUG9pbnQoeCwgeSkge1xuICAgICAgICBpZiAoeCA9PT0gdm9pZCAwKSB7IHggPSAwOyB9XG4gICAgICAgIGlmICh5ID09PSB2b2lkIDApIHsgeSA9IDA7IH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy54ID0geDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy55ID0geTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNsb25lIG9mIHRoaXMgcG9pbnRcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuUG9pbnR9IGEgY29weSBvZiB0aGUgcG9pbnRcbiAgICAgKi9cbiAgICBQb2ludC5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBuZXcgUG9pbnQodGhpcy54LCB0aGlzLnkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ29waWVzIHggYW5kIHkgZnJvbSB0aGUgZ2l2ZW4gcG9pbnRcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5JUG9pbnR9IHAgLSBUaGUgcG9pbnQgdG8gY29weSBmcm9tXG4gICAgICogQHJldHVybnMge3RoaXN9IFJldHVybnMgaXRzZWxmLlxuICAgICAqL1xuICAgIFBvaW50LnByb3RvdHlwZS5jb3B5RnJvbSA9IGZ1bmN0aW9uIChwKSB7XG4gICAgICAgIHRoaXMuc2V0KHAueCwgcC55KTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDb3BpZXMgeCBhbmQgeSBpbnRvIHRoZSBnaXZlbiBwb2ludFxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLklQb2ludH0gcCAtIFRoZSBwb2ludCB0byBjb3B5LlxuICAgICAqIEByZXR1cm5zIHtQSVhJLklQb2ludH0gR2l2ZW4gcG9pbnQgd2l0aCB2YWx1ZXMgdXBkYXRlZFxuICAgICAqL1xuICAgIFBvaW50LnByb3RvdHlwZS5jb3B5VG8gPSBmdW5jdGlvbiAocCkge1xuICAgICAgICBwLnNldCh0aGlzLngsIHRoaXMueSk7XG4gICAgICAgIHJldHVybiBwO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0cnVlIGlmIHRoZSBnaXZlbiBwb2ludCBpcyBlcXVhbCB0byB0aGlzIHBvaW50XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuSVBvaW50fSBwIC0gVGhlIHBvaW50IHRvIGNoZWNrXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFdoZXRoZXIgdGhlIGdpdmVuIHBvaW50IGVxdWFsIHRvIHRoaXMgcG9pbnRcbiAgICAgKi9cbiAgICBQb2ludC5wcm90b3R5cGUuZXF1YWxzID0gZnVuY3Rpb24gKHApIHtcbiAgICAgICAgcmV0dXJuIChwLnggPT09IHRoaXMueCkgJiYgKHAueSA9PT0gdGhpcy55KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHBvaW50IHRvIGEgbmV3IHggYW5kIHkgcG9zaXRpb24uXG4gICAgICogSWYgeSBpcyBvbWl0dGVkLCBib3RoIHggYW5kIHkgd2lsbCBiZSBzZXQgdG8geC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbeD0wXSAtIHBvc2l0aW9uIG9mIHRoZSBwb2ludCBvbiB0aGUgeCBheGlzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt5PXhdIC0gcG9zaXRpb24gb2YgdGhlIHBvaW50IG9uIHRoZSB5IGF4aXNcbiAgICAgKi9cbiAgICBQb2ludC5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24gKHgsIHkpIHtcbiAgICAgICAgaWYgKHggPT09IHZvaWQgMCkgeyB4ID0gMDsgfVxuICAgICAgICBpZiAoeSA9PT0gdm9pZCAwKSB7IHkgPSB4OyB9XG4gICAgICAgIHRoaXMueCA9IHg7XG4gICAgICAgIHRoaXMueSA9IHk7XG4gICAgfTtcbiAgICByZXR1cm4gUG9pbnQ7XG59KCkpO1xuXG4vKipcbiAqIFRoZSBQb2ludCBvYmplY3QgcmVwcmVzZW50cyBhIGxvY2F0aW9uIGluIGEgdHdvLWRpbWVuc2lvbmFsIGNvb3JkaW5hdGUgc3lzdGVtLCB3aGVyZSB4IHJlcHJlc2VudHNcbiAqIHRoZSBob3Jpem9udGFsIGF4aXMgYW5kIHkgcmVwcmVzZW50cyB0aGUgdmVydGljYWwgYXhpcy5cbiAqXG4gKiBBbiBPYnNlcnZhYmxlUG9pbnQgaXMgYSBwb2ludCB0aGF0IHRyaWdnZXJzIGEgY2FsbGJhY2sgd2hlbiB0aGUgcG9pbnQncyBwb3NpdGlvbiBpcyBjaGFuZ2VkLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEBpbXBsZW1lbnRzIElQb2ludFxuICovXG52YXIgT2JzZXJ2YWJsZVBvaW50ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNiIC0gY2FsbGJhY2sgd2hlbiBjaGFuZ2VkXG4gICAgICogQHBhcmFtIHtvYmplY3R9IHNjb3BlIC0gb3duZXIgb2YgY2FsbGJhY2tcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3g9MF0gLSBwb3NpdGlvbiBvZiB0aGUgcG9pbnQgb24gdGhlIHggYXhpc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbeT0wXSAtIHBvc2l0aW9uIG9mIHRoZSBwb2ludCBvbiB0aGUgeSBheGlzXG4gICAgICovXG4gICAgZnVuY3Rpb24gT2JzZXJ2YWJsZVBvaW50KGNiLCBzY29wZSwgeCwgeSkge1xuICAgICAgICBpZiAoeCA9PT0gdm9pZCAwKSB7IHggPSAwOyB9XG4gICAgICAgIGlmICh5ID09PSB2b2lkIDApIHsgeSA9IDA7IH1cbiAgICAgICAgdGhpcy5feCA9IHg7XG4gICAgICAgIHRoaXMuX3kgPSB5O1xuICAgICAgICB0aGlzLmNiID0gY2I7XG4gICAgICAgIHRoaXMuc2NvcGUgPSBzY29wZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNsb25lIG9mIHRoaXMgcG9pbnQuXG4gICAgICogVGhlIGNhbGxiYWNrIGFuZCBzY29wZSBwYXJhbXMgY2FuIGJlIG92ZXJpZGRlbiBvdGhlcndpc2UgdGhleSB3aWxsIGRlZmF1bHRcbiAgICAgKiB0byB0aGUgY2xvbmUgb2JqZWN0J3MgdmFsdWVzLlxuICAgICAqXG4gICAgICogQG92ZXJyaWRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NiPW51bGxdIC0gY2FsbGJhY2sgd2hlbiBjaGFuZ2VkXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtzY29wZT1udWxsXSAtIG93bmVyIG9mIGNhbGxiYWNrXG4gICAgICogQHJldHVybiB7UElYSS5PYnNlcnZhYmxlUG9pbnR9IGEgY29weSBvZiB0aGUgcG9pbnRcbiAgICAgKi9cbiAgICBPYnNlcnZhYmxlUG9pbnQucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gKGNiLCBzY29wZSkge1xuICAgICAgICBpZiAoY2IgPT09IHZvaWQgMCkgeyBjYiA9IHRoaXMuY2I7IH1cbiAgICAgICAgaWYgKHNjb3BlID09PSB2b2lkIDApIHsgc2NvcGUgPSB0aGlzLnNjb3BlOyB9XG4gICAgICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZVBvaW50KGNiLCBzY29wZSwgdGhpcy5feCwgdGhpcy5feSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBwb2ludCB0byBhIG5ldyB4IGFuZCB5IHBvc2l0aW9uLlxuICAgICAqIElmIHkgaXMgb21pdHRlZCwgYm90aCB4IGFuZCB5IHdpbGwgYmUgc2V0IHRvIHguXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3g9MF0gLSBwb3NpdGlvbiBvZiB0aGUgcG9pbnQgb24gdGhlIHggYXhpc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbeT14XSAtIHBvc2l0aW9uIG9mIHRoZSBwb2ludCBvbiB0aGUgeSBheGlzXG4gICAgICovXG4gICAgT2JzZXJ2YWJsZVBvaW50LnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbiAoeCwgeSkge1xuICAgICAgICBpZiAoeCA9PT0gdm9pZCAwKSB7IHggPSAwOyB9XG4gICAgICAgIGlmICh5ID09PSB2b2lkIDApIHsgeSA9IHg7IH1cbiAgICAgICAgaWYgKHRoaXMuX3ggIT09IHggfHwgdGhpcy5feSAhPT0geSkge1xuICAgICAgICAgICAgdGhpcy5feCA9IHg7XG4gICAgICAgICAgICB0aGlzLl95ID0geTtcbiAgICAgICAgICAgIHRoaXMuY2IuY2FsbCh0aGlzLnNjb3BlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQ29waWVzIHggYW5kIHkgZnJvbSB0aGUgZ2l2ZW4gcG9pbnRcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5JUG9pbnR9IHAgLSBUaGUgcG9pbnQgdG8gY29weSBmcm9tLlxuICAgICAqIEByZXR1cm5zIHt0aGlzfSBSZXR1cm5zIGl0c2VsZi5cbiAgICAgKi9cbiAgICBPYnNlcnZhYmxlUG9pbnQucHJvdG90eXBlLmNvcHlGcm9tID0gZnVuY3Rpb24gKHApIHtcbiAgICAgICAgaWYgKHRoaXMuX3ggIT09IHAueCB8fCB0aGlzLl95ICE9PSBwLnkpIHtcbiAgICAgICAgICAgIHRoaXMuX3ggPSBwLng7XG4gICAgICAgICAgICB0aGlzLl95ID0gcC55O1xuICAgICAgICAgICAgdGhpcy5jYi5jYWxsKHRoaXMuc2NvcGUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ29waWVzIHggYW5kIHkgaW50byB0aGUgZ2l2ZW4gcG9pbnRcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5JUG9pbnR9IHAgLSBUaGUgcG9pbnQgdG8gY29weS5cbiAgICAgKiBAcmV0dXJucyB7UElYSS5JUG9pbnR9IEdpdmVuIHBvaW50IHdpdGggdmFsdWVzIHVwZGF0ZWRcbiAgICAgKi9cbiAgICBPYnNlcnZhYmxlUG9pbnQucHJvdG90eXBlLmNvcHlUbyA9IGZ1bmN0aW9uIChwKSB7XG4gICAgICAgIHAuc2V0KHRoaXMuX3gsIHRoaXMuX3kpO1xuICAgICAgICByZXR1cm4gcDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgZ2l2ZW4gcG9pbnQgaXMgZXF1YWwgdG8gdGhpcyBwb2ludFxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLklQb2ludH0gcCAtIFRoZSBwb2ludCB0byBjaGVja1xuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBXaGV0aGVyIHRoZSBnaXZlbiBwb2ludCBlcXVhbCB0byB0aGlzIHBvaW50XG4gICAgICovXG4gICAgT2JzZXJ2YWJsZVBvaW50LnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbiAocCkge1xuICAgICAgICByZXR1cm4gKHAueCA9PT0gdGhpcy5feCkgJiYgKHAueSA9PT0gdGhpcy5feSk7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoT2JzZXJ2YWJsZVBvaW50LnByb3RvdHlwZSwgXCJ4XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBwb3NpdGlvbiBvZiB0aGUgZGlzcGxheU9iamVjdCBvbiB0aGUgeCBheGlzIHJlbGF0aXZlIHRvIHRoZSBsb2NhbCBjb29yZGluYXRlcyBvZiB0aGUgcGFyZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl94O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX3ggIT09IHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5feCA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIHRoaXMuY2IuY2FsbCh0aGlzLnNjb3BlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE9ic2VydmFibGVQb2ludC5wcm90b3R5cGUsIFwieVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcG9zaXRpb24gb2YgdGhlIGRpc3BsYXlPYmplY3Qgb24gdGhlIHggYXhpcyByZWxhdGl2ZSB0byB0aGUgbG9jYWwgY29vcmRpbmF0ZXMgb2YgdGhlIHBhcmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5feTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl95ICE9PSB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3kgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLmNiLmNhbGwodGhpcy5zY29wZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBPYnNlcnZhYmxlUG9pbnQ7XG59KCkpO1xuXG4vKipcbiAqIFR3byBQaS5cbiAqXG4gKiBAc3RhdGljXG4gKiBAY29uc3RhbnQge251bWJlcn0gUElfMlxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFBJXzIgPSBNYXRoLlBJICogMjtcbi8qKlxuICogQ29udmVyc2lvbiBmYWN0b3IgZm9yIGNvbnZlcnRpbmcgcmFkaWFucyB0byBkZWdyZWVzLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBjb25zdGFudCB7bnVtYmVyfSBSQURfVE9fREVHXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgUkFEX1RPX0RFRyA9IDE4MCAvIE1hdGguUEk7XG4vKipcbiAqIENvbnZlcnNpb24gZmFjdG9yIGZvciBjb252ZXJ0aW5nIGRlZ3JlZXMgdG8gcmFkaWFucy5cbiAqXG4gKiBAc3RhdGljXG4gKiBAY29uc3RhbnQge251bWJlcn0gREVHX1RPX1JBRFxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIERFR19UT19SQUQgPSBNYXRoLlBJIC8gMTgwO1xudmFyIFNIQVBFUztcbihmdW5jdGlvbiAoU0hBUEVTKSB7XG4gICAgU0hBUEVTW1NIQVBFU1tcIlBPTFlcIl0gPSAwXSA9IFwiUE9MWVwiO1xuICAgIFNIQVBFU1tTSEFQRVNbXCJSRUNUXCJdID0gMV0gPSBcIlJFQ1RcIjtcbiAgICBTSEFQRVNbU0hBUEVTW1wiQ0lSQ1wiXSA9IDJdID0gXCJDSVJDXCI7XG4gICAgU0hBUEVTW1NIQVBFU1tcIkVMSVBcIl0gPSAzXSA9IFwiRUxJUFwiO1xuICAgIFNIQVBFU1tTSEFQRVNbXCJSUkVDXCJdID0gNF0gPSBcIlJSRUNcIjtcbn0pKFNIQVBFUyB8fCAoU0hBUEVTID0ge30pKTtcbi8qKlxuICogQ29uc3RhbnRzIHRoYXQgaWRlbnRpZnkgc2hhcGVzLCBtYWlubHkgdG8gcHJldmVudCBgaW5zdGFuY2VvZmAgY2FsbHMuXG4gKlxuICogQHN0YXRpY1xuICogQGNvbnN0YW50XG4gKiBAbmFtZSBTSEFQRVNcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAdHlwZSB7ZW51bX1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBQT0xZIFBvbHlnb25cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBSRUNUIFJlY3RhbmdsZVxuICogQHByb3BlcnR5IHtudW1iZXJ9IENJUkMgQ2lyY2xlXG4gKiBAcHJvcGVydHkge251bWJlcn0gRUxJUCBFbGxpcHNlXG4gKiBAcHJvcGVydHkge251bWJlcn0gUlJFQyBSb3VuZGVkIFJlY3RhbmdsZVxuICogQGVudW0ge251bWJlcn1cbiAqL1xuXG4vKipcbiAqIFRoZSBQaXhpSlMgTWF0cml4IGFzIGEgY2xhc3MgbWFrZXMgaXQgYSBsb3QgZmFzdGVyLlxuICpcbiAqIEhlcmUgaXMgYSByZXByZXNlbnRhdGlvbiBvZiBpdDpcbiAqIGBgYGpzXG4gKiB8IGEgfCBjIHwgdHh8XG4gKiB8IGIgfCBkIHwgdHl8XG4gKiB8IDAgfCAwIHwgMSB8XG4gKiBgYGBcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIE1hdHJpeCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2E9MV0gLSB4IHNjYWxlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtiPTBdIC0geCBza2V3XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtjPTBdIC0geSBza2V3XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtkPTFdIC0geSBzY2FsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbdHg9MF0gLSB4IHRyYW5zbGF0aW9uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt0eT0wXSAtIHkgdHJhbnNsYXRpb25cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBNYXRyaXgoYSwgYiwgYywgZCwgdHgsIHR5KSB7XG4gICAgICAgIGlmIChhID09PSB2b2lkIDApIHsgYSA9IDE7IH1cbiAgICAgICAgaWYgKGIgPT09IHZvaWQgMCkgeyBiID0gMDsgfVxuICAgICAgICBpZiAoYyA9PT0gdm9pZCAwKSB7IGMgPSAwOyB9XG4gICAgICAgIGlmIChkID09PSB2b2lkIDApIHsgZCA9IDE7IH1cbiAgICAgICAgaWYgKHR4ID09PSB2b2lkIDApIHsgdHggPSAwOyB9XG4gICAgICAgIGlmICh0eSA9PT0gdm9pZCAwKSB7IHR5ID0gMDsgfVxuICAgICAgICB0aGlzLmFycmF5ID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5hID0gYTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5iID0gYjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jID0gYztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kID0gZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50eCA9IHR4O1xuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnR5ID0gdHk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBNYXRyaXggb2JqZWN0IGJhc2VkIG9uIHRoZSBnaXZlbiBhcnJheS4gVGhlIEVsZW1lbnQgdG8gTWF0cml4IG1hcHBpbmcgb3JkZXIgaXMgYXMgZm9sbG93czpcbiAgICAgKlxuICAgICAqIGEgPSBhcnJheVswXVxuICAgICAqIGIgPSBhcnJheVsxXVxuICAgICAqIGMgPSBhcnJheVszXVxuICAgICAqIGQgPSBhcnJheVs0XVxuICAgICAqIHR4ID0gYXJyYXlbMl1cbiAgICAgKiB0eSA9IGFycmF5WzVdXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSBhcnJheSAtIFRoZSBhcnJheSB0aGF0IHRoZSBtYXRyaXggd2lsbCBiZSBwb3B1bGF0ZWQgZnJvbS5cbiAgICAgKi9cbiAgICBNYXRyaXgucHJvdG90eXBlLmZyb21BcnJheSA9IGZ1bmN0aW9uIChhcnJheSkge1xuICAgICAgICB0aGlzLmEgPSBhcnJheVswXTtcbiAgICAgICAgdGhpcy5iID0gYXJyYXlbMV07XG4gICAgICAgIHRoaXMuYyA9IGFycmF5WzNdO1xuICAgICAgICB0aGlzLmQgPSBhcnJheVs0XTtcbiAgICAgICAgdGhpcy50eCA9IGFycmF5WzJdO1xuICAgICAgICB0aGlzLnR5ID0gYXJyYXlbNV07XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBzZXRzIHRoZSBtYXRyaXggcHJvcGVydGllc1xuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGEgLSBNYXRyaXggY29tcG9uZW50XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGIgLSBNYXRyaXggY29tcG9uZW50XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGMgLSBNYXRyaXggY29tcG9uZW50XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGQgLSBNYXRyaXggY29tcG9uZW50XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHR4IC0gTWF0cml4IGNvbXBvbmVudFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0eSAtIE1hdHJpeCBjb21wb25lbnRcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuTWF0cml4fSBUaGlzIG1hdHJpeC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzLlxuICAgICAqL1xuICAgIE1hdHJpeC5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24gKGEsIGIsIGMsIGQsIHR4LCB0eSkge1xuICAgICAgICB0aGlzLmEgPSBhO1xuICAgICAgICB0aGlzLmIgPSBiO1xuICAgICAgICB0aGlzLmMgPSBjO1xuICAgICAgICB0aGlzLmQgPSBkO1xuICAgICAgICB0aGlzLnR4ID0gdHg7XG4gICAgICAgIHRoaXMudHkgPSB0eTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IGZyb20gdGhlIGN1cnJlbnQgTWF0cml4IG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gdHJhbnNwb3NlIC0gV2hldGhlciB3ZSBuZWVkIHRvIHRyYW5zcG9zZSB0aGUgbWF0cml4IG9yIG5vdFxuICAgICAqIEBwYXJhbSB7RmxvYXQzMkFycmF5fSBbb3V0PW5ldyBGbG9hdDMyQXJyYXkoOSldIC0gSWYgcHJvdmlkZWQgdGhlIGFycmF5IHdpbGwgYmUgYXNzaWduZWQgdG8gb3V0XG4gICAgICogQHJldHVybiB7bnVtYmVyW119IHRoZSBuZXdseSBjcmVhdGVkIGFycmF5IHdoaWNoIGNvbnRhaW5zIHRoZSBtYXRyaXhcbiAgICAgKi9cbiAgICBNYXRyaXgucHJvdG90eXBlLnRvQXJyYXkgPSBmdW5jdGlvbiAodHJhbnNwb3NlLCBvdXQpIHtcbiAgICAgICAgaWYgKCF0aGlzLmFycmF5KSB7XG4gICAgICAgICAgICB0aGlzLmFycmF5ID0gbmV3IEZsb2F0MzJBcnJheSg5KTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYXJyYXkgPSBvdXQgfHwgdGhpcy5hcnJheTtcbiAgICAgICAgaWYgKHRyYW5zcG9zZSkge1xuICAgICAgICAgICAgYXJyYXlbMF0gPSB0aGlzLmE7XG4gICAgICAgICAgICBhcnJheVsxXSA9IHRoaXMuYjtcbiAgICAgICAgICAgIGFycmF5WzJdID0gMDtcbiAgICAgICAgICAgIGFycmF5WzNdID0gdGhpcy5jO1xuICAgICAgICAgICAgYXJyYXlbNF0gPSB0aGlzLmQ7XG4gICAgICAgICAgICBhcnJheVs1XSA9IDA7XG4gICAgICAgICAgICBhcnJheVs2XSA9IHRoaXMudHg7XG4gICAgICAgICAgICBhcnJheVs3XSA9IHRoaXMudHk7XG4gICAgICAgICAgICBhcnJheVs4XSA9IDE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBhcnJheVswXSA9IHRoaXMuYTtcbiAgICAgICAgICAgIGFycmF5WzFdID0gdGhpcy5jO1xuICAgICAgICAgICAgYXJyYXlbMl0gPSB0aGlzLnR4O1xuICAgICAgICAgICAgYXJyYXlbM10gPSB0aGlzLmI7XG4gICAgICAgICAgICBhcnJheVs0XSA9IHRoaXMuZDtcbiAgICAgICAgICAgIGFycmF5WzVdID0gdGhpcy50eTtcbiAgICAgICAgICAgIGFycmF5WzZdID0gMDtcbiAgICAgICAgICAgIGFycmF5WzddID0gMDtcbiAgICAgICAgICAgIGFycmF5WzhdID0gMTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXJyYXk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgYSBuZXcgcG9zaXRpb24gd2l0aCB0aGUgY3VycmVudCB0cmFuc2Zvcm1hdGlvbiBhcHBsaWVkLlxuICAgICAqIENhbiBiZSB1c2VkIHRvIGdvIGZyb20gYSBjaGlsZCdzIGNvb3JkaW5hdGUgc3BhY2UgdG8gdGhlIHdvcmxkIGNvb3JkaW5hdGUgc3BhY2UuIChlLmcuIHJlbmRlcmluZylcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5Qb2ludH0gcG9zIC0gVGhlIG9yaWdpblxuICAgICAqIEBwYXJhbSB7UElYSS5Qb2ludH0gW25ld1Bvc10gLSBUaGUgcG9pbnQgdGhhdCB0aGUgbmV3IHBvc2l0aW9uIGlzIGFzc2lnbmVkIHRvIChhbGxvd2VkIHRvIGJlIHNhbWUgYXMgaW5wdXQpXG4gICAgICogQHJldHVybiB7UElYSS5Qb2ludH0gVGhlIG5ldyBwb2ludCwgdHJhbnNmb3JtZWQgdGhyb3VnaCB0aGlzIG1hdHJpeFxuICAgICAqL1xuICAgIE1hdHJpeC5wcm90b3R5cGUuYXBwbHkgPSBmdW5jdGlvbiAocG9zLCBuZXdQb3MpIHtcbiAgICAgICAgbmV3UG9zID0gbmV3UG9zIHx8IG5ldyBQb2ludCgpO1xuICAgICAgICB2YXIgeCA9IHBvcy54O1xuICAgICAgICB2YXIgeSA9IHBvcy55O1xuICAgICAgICBuZXdQb3MueCA9ICh0aGlzLmEgKiB4KSArICh0aGlzLmMgKiB5KSArIHRoaXMudHg7XG4gICAgICAgIG5ld1Bvcy55ID0gKHRoaXMuYiAqIHgpICsgKHRoaXMuZCAqIHkpICsgdGhpcy50eTtcbiAgICAgICAgcmV0dXJuIG5ld1BvcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCBhIG5ldyBwb3NpdGlvbiB3aXRoIHRoZSBpbnZlcnNlIG9mIHRoZSBjdXJyZW50IHRyYW5zZm9ybWF0aW9uIGFwcGxpZWQuXG4gICAgICogQ2FuIGJlIHVzZWQgdG8gZ28gZnJvbSB0aGUgd29ybGQgY29vcmRpbmF0ZSBzcGFjZSB0byBhIGNoaWxkJ3MgY29vcmRpbmF0ZSBzcGFjZS4gKGUuZy4gaW5wdXQpXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUG9pbnR9IHBvcyAtIFRoZSBvcmlnaW5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUG9pbnR9IFtuZXdQb3NdIC0gVGhlIHBvaW50IHRoYXQgdGhlIG5ldyBwb3NpdGlvbiBpcyBhc3NpZ25lZCB0byAoYWxsb3dlZCB0byBiZSBzYW1lIGFzIGlucHV0KVxuICAgICAqIEByZXR1cm4ge1BJWEkuUG9pbnR9IFRoZSBuZXcgcG9pbnQsIGludmVyc2UtdHJhbnNmb3JtZWQgdGhyb3VnaCB0aGlzIG1hdHJpeFxuICAgICAqL1xuICAgIE1hdHJpeC5wcm90b3R5cGUuYXBwbHlJbnZlcnNlID0gZnVuY3Rpb24gKHBvcywgbmV3UG9zKSB7XG4gICAgICAgIG5ld1BvcyA9IG5ld1BvcyB8fCBuZXcgUG9pbnQoKTtcbiAgICAgICAgdmFyIGlkID0gMSAvICgodGhpcy5hICogdGhpcy5kKSArICh0aGlzLmMgKiAtdGhpcy5iKSk7XG4gICAgICAgIHZhciB4ID0gcG9zLng7XG4gICAgICAgIHZhciB5ID0gcG9zLnk7XG4gICAgICAgIG5ld1Bvcy54ID0gKHRoaXMuZCAqIGlkICogeCkgKyAoLXRoaXMuYyAqIGlkICogeSkgKyAoKCh0aGlzLnR5ICogdGhpcy5jKSAtICh0aGlzLnR4ICogdGhpcy5kKSkgKiBpZCk7XG4gICAgICAgIG5ld1Bvcy55ID0gKHRoaXMuYSAqIGlkICogeSkgKyAoLXRoaXMuYiAqIGlkICogeCkgKyAoKCgtdGhpcy50eSAqIHRoaXMuYSkgKyAodGhpcy50eCAqIHRoaXMuYikpICogaWQpO1xuICAgICAgICByZXR1cm4gbmV3UG9zO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVHJhbnNsYXRlcyB0aGUgbWF0cml4IG9uIHRoZSB4IGFuZCB5LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggSG93IG11Y2ggdG8gdHJhbnNsYXRlIHggYnlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geSBIb3cgbXVjaCB0byB0cmFuc2xhdGUgeSBieVxuICAgICAqIEByZXR1cm4ge1BJWEkuTWF0cml4fSBUaGlzIG1hdHJpeC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzLlxuICAgICAqL1xuICAgIE1hdHJpeC5wcm90b3R5cGUudHJhbnNsYXRlID0gZnVuY3Rpb24gKHgsIHkpIHtcbiAgICAgICAgdGhpcy50eCArPSB4O1xuICAgICAgICB0aGlzLnR5ICs9IHk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQXBwbGllcyBhIHNjYWxlIHRyYW5zZm9ybWF0aW9uIHRvIHRoZSBtYXRyaXguXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geCBUaGUgYW1vdW50IHRvIHNjYWxlIGhvcml6b250YWxseVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5IFRoZSBhbW91bnQgdG8gc2NhbGUgdmVydGljYWxseVxuICAgICAqIEByZXR1cm4ge1BJWEkuTWF0cml4fSBUaGlzIG1hdHJpeC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzLlxuICAgICAqL1xuICAgIE1hdHJpeC5wcm90b3R5cGUuc2NhbGUgPSBmdW5jdGlvbiAoeCwgeSkge1xuICAgICAgICB0aGlzLmEgKj0geDtcbiAgICAgICAgdGhpcy5kICo9IHk7XG4gICAgICAgIHRoaXMuYyAqPSB4O1xuICAgICAgICB0aGlzLmIgKj0geTtcbiAgICAgICAgdGhpcy50eCAqPSB4O1xuICAgICAgICB0aGlzLnR5ICo9IHk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQXBwbGllcyBhIHJvdGF0aW9uIHRyYW5zZm9ybWF0aW9uIHRvIHRoZSBtYXRyaXguXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYW5nbGUgLSBUaGUgYW5nbGUgaW4gcmFkaWFucy5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLk1hdHJpeH0gVGhpcyBtYXRyaXguIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxscy5cbiAgICAgKi9cbiAgICBNYXRyaXgucHJvdG90eXBlLnJvdGF0ZSA9IGZ1bmN0aW9uIChhbmdsZSkge1xuICAgICAgICB2YXIgY29zID0gTWF0aC5jb3MoYW5nbGUpO1xuICAgICAgICB2YXIgc2luID0gTWF0aC5zaW4oYW5nbGUpO1xuICAgICAgICB2YXIgYTEgPSB0aGlzLmE7XG4gICAgICAgIHZhciBjMSA9IHRoaXMuYztcbiAgICAgICAgdmFyIHR4MSA9IHRoaXMudHg7XG4gICAgICAgIHRoaXMuYSA9IChhMSAqIGNvcykgLSAodGhpcy5iICogc2luKTtcbiAgICAgICAgdGhpcy5iID0gKGExICogc2luKSArICh0aGlzLmIgKiBjb3MpO1xuICAgICAgICB0aGlzLmMgPSAoYzEgKiBjb3MpIC0gKHRoaXMuZCAqIHNpbik7XG4gICAgICAgIHRoaXMuZCA9IChjMSAqIHNpbikgKyAodGhpcy5kICogY29zKTtcbiAgICAgICAgdGhpcy50eCA9ICh0eDEgKiBjb3MpIC0gKHRoaXMudHkgKiBzaW4pO1xuICAgICAgICB0aGlzLnR5ID0gKHR4MSAqIHNpbikgKyAodGhpcy50eSAqIGNvcyk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQXBwZW5kcyB0aGUgZ2l2ZW4gTWF0cml4IHRvIHRoaXMgTWF0cml4LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLk1hdHJpeH0gbWF0cml4IC0gVGhlIG1hdHJpeCB0byBhcHBlbmQuXG4gICAgICogQHJldHVybiB7UElYSS5NYXRyaXh9IFRoaXMgbWF0cml4LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHMuXG4gICAgICovXG4gICAgTWF0cml4LnByb3RvdHlwZS5hcHBlbmQgPSBmdW5jdGlvbiAobWF0cml4KSB7XG4gICAgICAgIHZhciBhMSA9IHRoaXMuYTtcbiAgICAgICAgdmFyIGIxID0gdGhpcy5iO1xuICAgICAgICB2YXIgYzEgPSB0aGlzLmM7XG4gICAgICAgIHZhciBkMSA9IHRoaXMuZDtcbiAgICAgICAgdGhpcy5hID0gKG1hdHJpeC5hICogYTEpICsgKG1hdHJpeC5iICogYzEpO1xuICAgICAgICB0aGlzLmIgPSAobWF0cml4LmEgKiBiMSkgKyAobWF0cml4LmIgKiBkMSk7XG4gICAgICAgIHRoaXMuYyA9IChtYXRyaXguYyAqIGExKSArIChtYXRyaXguZCAqIGMxKTtcbiAgICAgICAgdGhpcy5kID0gKG1hdHJpeC5jICogYjEpICsgKG1hdHJpeC5kICogZDEpO1xuICAgICAgICB0aGlzLnR4ID0gKG1hdHJpeC50eCAqIGExKSArIChtYXRyaXgudHkgKiBjMSkgKyB0aGlzLnR4O1xuICAgICAgICB0aGlzLnR5ID0gKG1hdHJpeC50eCAqIGIxKSArIChtYXRyaXgudHkgKiBkMSkgKyB0aGlzLnR5O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIG1hdHJpeCBiYXNlZCBvbiBhbGwgdGhlIGF2YWlsYWJsZSBwcm9wZXJ0aWVzXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geCAtIFBvc2l0aW9uIG9uIHRoZSB4IGF4aXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geSAtIFBvc2l0aW9uIG9uIHRoZSB5IGF4aXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcGl2b3RYIC0gUGl2b3Qgb24gdGhlIHggYXhpc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBwaXZvdFkgLSBQaXZvdCBvbiB0aGUgeSBheGlzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNjYWxlWCAtIFNjYWxlIG9uIHRoZSB4IGF4aXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2NhbGVZIC0gU2NhbGUgb24gdGhlIHkgYXhpc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByb3RhdGlvbiAtIFJvdGF0aW9uIGluIHJhZGlhbnNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2tld1ggLSBTa2V3IG9uIHRoZSB4IGF4aXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2tld1kgLSBTa2V3IG9uIHRoZSB5IGF4aXNcbiAgICAgKiBAcmV0dXJuIHtQSVhJLk1hdHJpeH0gVGhpcyBtYXRyaXguIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxscy5cbiAgICAgKi9cbiAgICBNYXRyaXgucHJvdG90eXBlLnNldFRyYW5zZm9ybSA9IGZ1bmN0aW9uICh4LCB5LCBwaXZvdFgsIHBpdm90WSwgc2NhbGVYLCBzY2FsZVksIHJvdGF0aW9uLCBza2V3WCwgc2tld1kpIHtcbiAgICAgICAgdGhpcy5hID0gTWF0aC5jb3Mocm90YXRpb24gKyBza2V3WSkgKiBzY2FsZVg7XG4gICAgICAgIHRoaXMuYiA9IE1hdGguc2luKHJvdGF0aW9uICsgc2tld1kpICogc2NhbGVYO1xuICAgICAgICB0aGlzLmMgPSAtTWF0aC5zaW4ocm90YXRpb24gLSBza2V3WCkgKiBzY2FsZVk7XG4gICAgICAgIHRoaXMuZCA9IE1hdGguY29zKHJvdGF0aW9uIC0gc2tld1gpICogc2NhbGVZO1xuICAgICAgICB0aGlzLnR4ID0geCAtICgocGl2b3RYICogdGhpcy5hKSArIChwaXZvdFkgKiB0aGlzLmMpKTtcbiAgICAgICAgdGhpcy50eSA9IHkgLSAoKHBpdm90WCAqIHRoaXMuYikgKyAocGl2b3RZICogdGhpcy5kKSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUHJlcGVuZHMgdGhlIGdpdmVuIE1hdHJpeCB0byB0aGlzIE1hdHJpeC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5NYXRyaXh9IG1hdHJpeCAtIFRoZSBtYXRyaXggdG8gcHJlcGVuZFxuICAgICAqIEByZXR1cm4ge1BJWEkuTWF0cml4fSBUaGlzIG1hdHJpeC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzLlxuICAgICAqL1xuICAgIE1hdHJpeC5wcm90b3R5cGUucHJlcGVuZCA9IGZ1bmN0aW9uIChtYXRyaXgpIHtcbiAgICAgICAgdmFyIHR4MSA9IHRoaXMudHg7XG4gICAgICAgIGlmIChtYXRyaXguYSAhPT0gMSB8fCBtYXRyaXguYiAhPT0gMCB8fCBtYXRyaXguYyAhPT0gMCB8fCBtYXRyaXguZCAhPT0gMSkge1xuICAgICAgICAgICAgdmFyIGExID0gdGhpcy5hO1xuICAgICAgICAgICAgdmFyIGMxID0gdGhpcy5jO1xuICAgICAgICAgICAgdGhpcy5hID0gKGExICogbWF0cml4LmEpICsgKHRoaXMuYiAqIG1hdHJpeC5jKTtcbiAgICAgICAgICAgIHRoaXMuYiA9IChhMSAqIG1hdHJpeC5iKSArICh0aGlzLmIgKiBtYXRyaXguZCk7XG4gICAgICAgICAgICB0aGlzLmMgPSAoYzEgKiBtYXRyaXguYSkgKyAodGhpcy5kICogbWF0cml4LmMpO1xuICAgICAgICAgICAgdGhpcy5kID0gKGMxICogbWF0cml4LmIpICsgKHRoaXMuZCAqIG1hdHJpeC5kKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnR4ID0gKHR4MSAqIG1hdHJpeC5hKSArICh0aGlzLnR5ICogbWF0cml4LmMpICsgbWF0cml4LnR4O1xuICAgICAgICB0aGlzLnR5ID0gKHR4MSAqIG1hdHJpeC5iKSArICh0aGlzLnR5ICogbWF0cml4LmQpICsgbWF0cml4LnR5O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERlY29tcG9zZXMgdGhlIG1hdHJpeCAoeCwgeSwgc2NhbGVYLCBzY2FsZVksIGFuZCByb3RhdGlvbikgYW5kIHNldHMgdGhlIHByb3BlcnRpZXMgb24gdG8gYSB0cmFuc2Zvcm0uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuVHJhbnNmb3JtfSB0cmFuc2Zvcm0gLSBUaGUgdHJhbnNmb3JtIHRvIGFwcGx5IHRoZSBwcm9wZXJ0aWVzIHRvLlxuICAgICAqIEByZXR1cm4ge1BJWEkuVHJhbnNmb3JtfSBUaGUgdHJhbnNmb3JtIHdpdGggdGhlIG5ld2x5IGFwcGxpZWQgcHJvcGVydGllc1xuICAgICAqL1xuICAgIE1hdHJpeC5wcm90b3R5cGUuZGVjb21wb3NlID0gZnVuY3Rpb24gKHRyYW5zZm9ybSkge1xuICAgICAgICAvLyBzb3J0IG91dCByb3RhdGlvbiAvIHNrZXcuLlxuICAgICAgICB2YXIgYSA9IHRoaXMuYTtcbiAgICAgICAgdmFyIGIgPSB0aGlzLmI7XG4gICAgICAgIHZhciBjID0gdGhpcy5jO1xuICAgICAgICB2YXIgZCA9IHRoaXMuZDtcbiAgICAgICAgdmFyIHNrZXdYID0gLU1hdGguYXRhbjIoLWMsIGQpO1xuICAgICAgICB2YXIgc2tld1kgPSBNYXRoLmF0YW4yKGIsIGEpO1xuICAgICAgICB2YXIgZGVsdGEgPSBNYXRoLmFicyhza2V3WCArIHNrZXdZKTtcbiAgICAgICAgaWYgKGRlbHRhIDwgMC4wMDAwMSB8fCBNYXRoLmFicyhQSV8yIC0gZGVsdGEpIDwgMC4wMDAwMSkge1xuICAgICAgICAgICAgdHJhbnNmb3JtLnJvdGF0aW9uID0gc2tld1k7XG4gICAgICAgICAgICB0cmFuc2Zvcm0uc2tldy54ID0gdHJhbnNmb3JtLnNrZXcueSA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0cmFuc2Zvcm0ucm90YXRpb24gPSAwO1xuICAgICAgICAgICAgdHJhbnNmb3JtLnNrZXcueCA9IHNrZXdYO1xuICAgICAgICAgICAgdHJhbnNmb3JtLnNrZXcueSA9IHNrZXdZO1xuICAgICAgICB9XG4gICAgICAgIC8vIG5leHQgc2V0IHNjYWxlXG4gICAgICAgIHRyYW5zZm9ybS5zY2FsZS54ID0gTWF0aC5zcXJ0KChhICogYSkgKyAoYiAqIGIpKTtcbiAgICAgICAgdHJhbnNmb3JtLnNjYWxlLnkgPSBNYXRoLnNxcnQoKGMgKiBjKSArIChkICogZCkpO1xuICAgICAgICAvLyBuZXh0IHNldCBwb3NpdGlvblxuICAgICAgICB0cmFuc2Zvcm0ucG9zaXRpb24ueCA9IHRoaXMudHg7XG4gICAgICAgIHRyYW5zZm9ybS5wb3NpdGlvbi55ID0gdGhpcy50eTtcbiAgICAgICAgcmV0dXJuIHRyYW5zZm9ybTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEludmVydHMgdGhpcyBtYXRyaXhcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuTWF0cml4fSBUaGlzIG1hdHJpeC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzLlxuICAgICAqL1xuICAgIE1hdHJpeC5wcm90b3R5cGUuaW52ZXJ0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYTEgPSB0aGlzLmE7XG4gICAgICAgIHZhciBiMSA9IHRoaXMuYjtcbiAgICAgICAgdmFyIGMxID0gdGhpcy5jO1xuICAgICAgICB2YXIgZDEgPSB0aGlzLmQ7XG4gICAgICAgIHZhciB0eDEgPSB0aGlzLnR4O1xuICAgICAgICB2YXIgbiA9IChhMSAqIGQxKSAtIChiMSAqIGMxKTtcbiAgICAgICAgdGhpcy5hID0gZDEgLyBuO1xuICAgICAgICB0aGlzLmIgPSAtYjEgLyBuO1xuICAgICAgICB0aGlzLmMgPSAtYzEgLyBuO1xuICAgICAgICB0aGlzLmQgPSBhMSAvIG47XG4gICAgICAgIHRoaXMudHggPSAoKGMxICogdGhpcy50eSkgLSAoZDEgKiB0eDEpKSAvIG47XG4gICAgICAgIHRoaXMudHkgPSAtKChhMSAqIHRoaXMudHkpIC0gKGIxICogdHgxKSkgLyBuO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlc2V0cyB0aGlzIE1hdHJpeCB0byBhbiBpZGVudGl0eSAoZGVmYXVsdCkgbWF0cml4LlxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5NYXRyaXh9IFRoaXMgbWF0cml4LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHMuXG4gICAgICovXG4gICAgTWF0cml4LnByb3RvdHlwZS5pZGVudGl0eSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5hID0gMTtcbiAgICAgICAgdGhpcy5iID0gMDtcbiAgICAgICAgdGhpcy5jID0gMDtcbiAgICAgICAgdGhpcy5kID0gMTtcbiAgICAgICAgdGhpcy50eCA9IDA7XG4gICAgICAgIHRoaXMudHkgPSAwO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgTWF0cml4IG9iamVjdCB3aXRoIHRoZSBzYW1lIHZhbHVlcyBhcyB0aGlzIG9uZS5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuTWF0cml4fSBBIGNvcHkgb2YgdGhpcyBtYXRyaXguIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxscy5cbiAgICAgKi9cbiAgICBNYXRyaXgucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgbWF0cml4ID0gbmV3IE1hdHJpeCgpO1xuICAgICAgICBtYXRyaXguYSA9IHRoaXMuYTtcbiAgICAgICAgbWF0cml4LmIgPSB0aGlzLmI7XG4gICAgICAgIG1hdHJpeC5jID0gdGhpcy5jO1xuICAgICAgICBtYXRyaXguZCA9IHRoaXMuZDtcbiAgICAgICAgbWF0cml4LnR4ID0gdGhpcy50eDtcbiAgICAgICAgbWF0cml4LnR5ID0gdGhpcy50eTtcbiAgICAgICAgcmV0dXJuIG1hdHJpeDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENoYW5nZXMgdGhlIHZhbHVlcyBvZiB0aGUgZ2l2ZW4gbWF0cml4IHRvIGJlIHRoZSBzYW1lIGFzIHRoZSBvbmVzIGluIHRoaXMgbWF0cml4XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuTWF0cml4fSBtYXRyaXggLSBUaGUgbWF0cml4IHRvIGNvcHkgdG8uXG4gICAgICogQHJldHVybiB7UElYSS5NYXRyaXh9IFRoZSBtYXRyaXggZ2l2ZW4gaW4gcGFyYW1ldGVyIHdpdGggaXRzIHZhbHVlcyB1cGRhdGVkLlxuICAgICAqL1xuICAgIE1hdHJpeC5wcm90b3R5cGUuY29weVRvID0gZnVuY3Rpb24gKG1hdHJpeCkge1xuICAgICAgICBtYXRyaXguYSA9IHRoaXMuYTtcbiAgICAgICAgbWF0cml4LmIgPSB0aGlzLmI7XG4gICAgICAgIG1hdHJpeC5jID0gdGhpcy5jO1xuICAgICAgICBtYXRyaXguZCA9IHRoaXMuZDtcbiAgICAgICAgbWF0cml4LnR4ID0gdGhpcy50eDtcbiAgICAgICAgbWF0cml4LnR5ID0gdGhpcy50eTtcbiAgICAgICAgcmV0dXJuIG1hdHJpeDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENoYW5nZXMgdGhlIHZhbHVlcyBvZiB0aGUgbWF0cml4IHRvIGJlIHRoZSBzYW1lIGFzIHRoZSBvbmVzIGluIGdpdmVuIG1hdHJpeFxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLk1hdHJpeH0gbWF0cml4IC0gVGhlIG1hdHJpeCB0byBjb3B5IGZyb20uXG4gICAgICogQHJldHVybiB7UElYSS5NYXRyaXh9IHRoaXNcbiAgICAgKi9cbiAgICBNYXRyaXgucHJvdG90eXBlLmNvcHlGcm9tID0gZnVuY3Rpb24gKG1hdHJpeCkge1xuICAgICAgICB0aGlzLmEgPSBtYXRyaXguYTtcbiAgICAgICAgdGhpcy5iID0gbWF0cml4LmI7XG4gICAgICAgIHRoaXMuYyA9IG1hdHJpeC5jO1xuICAgICAgICB0aGlzLmQgPSBtYXRyaXguZDtcbiAgICAgICAgdGhpcy50eCA9IG1hdHJpeC50eDtcbiAgICAgICAgdGhpcy50eSA9IG1hdHJpeC50eTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWF0cml4LCBcIklERU5USVRZXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgZGVmYXVsdCAoaWRlbnRpdHkpIG1hdHJpeFxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAqIEBjb25zdFxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk1hdHJpeH1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBNYXRyaXgoKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1hdHJpeCwgXCJURU1QX01BVFJJWFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIHRlbXAgbWF0cml4XG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICogQGNvbnN0XG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuTWF0cml4fVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IE1hdHJpeCgpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICByZXR1cm4gTWF0cml4O1xufSgpKTtcblxuLy8gWW91ciBmcmllbmRseSBuZWlnaGJvdXIgaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvRGloZWRyYWxfZ3JvdXBcbi8qXG4gKiBUcmFuc2Zvcm0gbWF0cml4IGZvciBvcGVyYXRpb24gbiBpczpcbiAqIHwgdXggfCB2eCB8XG4gKiB8IHV5IHwgdnkgfFxuICovXG52YXIgdXggPSBbMSwgMSwgMCwgLTEsIC0xLCAtMSwgMCwgMSwgMSwgMSwgMCwgLTEsIC0xLCAtMSwgMCwgMV07XG52YXIgdXkgPSBbMCwgMSwgMSwgMSwgMCwgLTEsIC0xLCAtMSwgMCwgMSwgMSwgMSwgMCwgLTEsIC0xLCAtMV07XG52YXIgdnggPSBbMCwgLTEsIC0xLCAtMSwgMCwgMSwgMSwgMSwgMCwgMSwgMSwgMSwgMCwgLTEsIC0xLCAtMV07XG52YXIgdnkgPSBbMSwgMSwgMCwgLTEsIC0xLCAtMSwgMCwgMSwgLTEsIC0xLCAwLCAxLCAxLCAxLCAwLCAtMV07XG4vKipcbiAqIFtDYXlsZXkgVGFibGVde0BsaW5rIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0NheWxleV90YWJsZX1cbiAqIGZvciB0aGUgY29tcG9zaXRpb24gb2YgZWFjaCByb3RhdGlvbiBpbiB0aGUgZGloZWRlcmFsIGdyb3VwIEQ4LlxuICpcbiAqIEB0eXBlIG51bWJlcltdW11cbiAqIEBwcml2YXRlXG4gKi9cbnZhciByb3RhdGlvbkNheWxleSA9IFtdO1xuLyoqXG4gKiBNYXRyaWNlcyBmb3IgZWFjaCBgR0Q4U3ltbWV0cnlgIHJvdGF0aW9uLlxuICpcbiAqIEB0eXBlIE1hdHJpeFtdXG4gKiBAcHJpdmF0ZVxuICovXG52YXIgcm90YXRpb25NYXRyaWNlcyA9IFtdO1xuLypcbiAqIEFsaWFzIGZvciB7QGNvZGUgTWF0aC5zaWdufS5cbiAqL1xudmFyIHNpZ251bSA9IE1hdGguc2lnbjtcbi8qXG4gKiBJbml0aWFsaXplcyBgcm90YXRpb25DYXlsZXlgIGFuZCBgcm90YXRpb25NYXRyaWNlc2AuIEl0IGlzIGNhbGxlZFxuICogb25seSBvbmNlIGJlbG93LlxuICovXG5mdW5jdGlvbiBpbml0KCkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMTY7IGkrKykge1xuICAgICAgICB2YXIgcm93ID0gW107XG4gICAgICAgIHJvdGF0aW9uQ2F5bGV5LnB1c2gocm93KTtcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCAxNjsgaisrKSB7XG4gICAgICAgICAgICAvKiBNdWx0aXBsaWVzIHJvdGF0aW9uIG1hdHJpY2VzIGkgYW5kIGouICovXG4gICAgICAgICAgICB2YXIgX3V4ID0gc2lnbnVtKCh1eFtpXSAqIHV4W2pdKSArICh2eFtpXSAqIHV5W2pdKSk7XG4gICAgICAgICAgICB2YXIgX3V5ID0gc2lnbnVtKCh1eVtpXSAqIHV4W2pdKSArICh2eVtpXSAqIHV5W2pdKSk7XG4gICAgICAgICAgICB2YXIgX3Z4ID0gc2lnbnVtKCh1eFtpXSAqIHZ4W2pdKSArICh2eFtpXSAqIHZ5W2pdKSk7XG4gICAgICAgICAgICB2YXIgX3Z5ID0gc2lnbnVtKCh1eVtpXSAqIHZ4W2pdKSArICh2eVtpXSAqIHZ5W2pdKSk7XG4gICAgICAgICAgICAvKiBGaW5kcyByb3RhdGlvbiBtYXRyaXggbWF0Y2hpbmcgdGhlIHByb2R1Y3QgYW5kIHB1c2hlcyBpdC4gKi9cbiAgICAgICAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgMTY7IGsrKykge1xuICAgICAgICAgICAgICAgIGlmICh1eFtrXSA9PT0gX3V4ICYmIHV5W2tdID09PSBfdXlcbiAgICAgICAgICAgICAgICAgICAgJiYgdnhba10gPT09IF92eCAmJiB2eVtrXSA9PT0gX3Z5KSB7XG4gICAgICAgICAgICAgICAgICAgIHJvdy5wdXNoKGspO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCAxNjsgaSsrKSB7XG4gICAgICAgIHZhciBtYXQgPSBuZXcgTWF0cml4KCk7XG4gICAgICAgIG1hdC5zZXQodXhbaV0sIHV5W2ldLCB2eFtpXSwgdnlbaV0sIDAsIDApO1xuICAgICAgICByb3RhdGlvbk1hdHJpY2VzLnB1c2gobWF0KTtcbiAgICB9XG59XG5pbml0KCk7XG4vKipcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAdHlwZWRlZiB7bnVtYmVyfSBHRDhTeW1tZXRyeVxuICogQHNlZSBQSVhJLmdyb3VwRDhcbiAqL1xuLyoqXG4gKiBJbXBsZW1lbnRzIHRoZSBkaWhlZHJhbCBncm91cCBEOCwgd2hpY2ggaXMgc2ltaWxhciB0b1xuICogW2dyb3VwIEQ0XXtAbGluayBodHRwOi8vbWF0aHdvcmxkLndvbGZyYW0uY29tL0RpaGVkcmFsR3JvdXBENC5odG1sfTtcbiAqIEQ4IGlzIHRoZSBzYW1lIGJ1dCB3aXRoIGRpYWdvbmFscywgYW5kIGl0IGlzIHVzZWQgZm9yIHRleHR1cmVcbiAqIHJvdGF0aW9ucy5cbiAqXG4gKiBUaGUgZGlyZWN0aW9ucyB0aGUgVS0gYW5kIFYtIGF4ZXMgYWZ0ZXIgcm90YXRpb25cbiAqIG9mIGFuIGFuZ2xlIG9mIGBhOiBHRDhDb25zdGFudGAgYXJlIHRoZSB2ZWN0b3JzIGAodVgoYSksIHVZKGEpKWBcbiAqIGFuZCBgKHZYKGEpLCB2WShhKSlgLiBUaGVzZSBhcmVuJ3QgbmVjZXNzYXJpbHkgdW5pdCB2ZWN0b3JzLlxuICpcbiAqICoqT3JpZ2luOioqPGJyPlxuICogIFRoaXMgaXMgdGhlIHNtYWxsIHBhcnQgb2YgZ2FtZW9mYm9tYnMuY29tIHBvcnRhbCBzeXN0ZW0uIEl0IHdvcmtzLlxuICpcbiAqIEBzZWUgUElYSS5ncm91cEQ4LkVcbiAqIEBzZWUgUElYSS5ncm91cEQ4LlNFXG4gKiBAc2VlIFBJWEkuZ3JvdXBEOC5TXG4gKiBAc2VlIFBJWEkuZ3JvdXBEOC5TV1xuICogQHNlZSBQSVhJLmdyb3VwRDguV1xuICogQHNlZSBQSVhJLmdyb3VwRDguTldcbiAqIEBzZWUgUElYSS5ncm91cEQ4Lk5cbiAqIEBzZWUgUElYSS5ncm91cEQ4Lk5FXG4gKiBAYXV0aG9yIEl2YW4gQGl2YW5wb3BlbHlzaGV2XG4gKiBAbmFtZXNwYWNlIFBJWEkuZ3JvdXBEOFxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIGdyb3VwRDggPSB7XG4gICAgLyoqXG4gICAgICogfCBSb3RhdGlvbiB8IERpcmVjdGlvbiB8XG4gICAgICogfC0tLS0tLS0tLS18LS0tLS0tLS0tLS18XG4gICAgICogfCAwwrAgICAgICAgfCBFYXN0ICAgICAgfFxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIFBJWEkuZ3JvdXBEOFxuICAgICAqIEBjb25zdGFudCB7UElYSS5HRDhTeW1tZXRyeX1cbiAgICAgKi9cbiAgICBFOiAwLFxuICAgIC8qKlxuICAgICAqIHwgUm90YXRpb24gfCBEaXJlY3Rpb24gfFxuICAgICAqIHwtLS0tLS0tLS0tfC0tLS0tLS0tLS0tfFxuICAgICAqIHwgNDXCsOKGuyAgICAgfCBTb3V0aGVhc3QgfFxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIFBJWEkuZ3JvdXBEOFxuICAgICAqIEBjb25zdGFudCB7UElYSS5HRDhTeW1tZXRyeX1cbiAgICAgKi9cbiAgICBTRTogMSxcbiAgICAvKipcbiAgICAgKiB8IFJvdGF0aW9uIHwgRGlyZWN0aW9uIHxcbiAgICAgKiB8LS0tLS0tLS0tLXwtLS0tLS0tLS0tLXxcbiAgICAgKiB8IDkwwrDihrsgICAgIHwgU291dGggICAgIHxcbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBQSVhJLmdyb3VwRDhcbiAgICAgKiBAY29uc3RhbnQge1BJWEkuR0Q4U3ltbWV0cnl9XG4gICAgICovXG4gICAgUzogMixcbiAgICAvKipcbiAgICAgKiB8IFJvdGF0aW9uIHwgRGlyZWN0aW9uIHxcbiAgICAgKiB8LS0tLS0tLS0tLXwtLS0tLS0tLS0tLXxcbiAgICAgKiB8IDEzNcKw4oa7ICAgIHwgU291dGh3ZXN0IHxcbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBQSVhJLmdyb3VwRDhcbiAgICAgKiBAY29uc3RhbnQge1BJWEkuR0Q4U3ltbWV0cnl9XG4gICAgICovXG4gICAgU1c6IDMsXG4gICAgLyoqXG4gICAgICogfCBSb3RhdGlvbiB8IERpcmVjdGlvbiB8XG4gICAgICogfC0tLS0tLS0tLS18LS0tLS0tLS0tLS18XG4gICAgICogfCAxODDCsCAgICAgfCBXZXN0ICAgICAgfFxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIFBJWEkuZ3JvdXBEOFxuICAgICAqIEBjb25zdGFudCB7UElYSS5HRDhTeW1tZXRyeX1cbiAgICAgKi9cbiAgICBXOiA0LFxuICAgIC8qKlxuICAgICAqIHwgUm90YXRpb24gICAgfCBEaXJlY3Rpb24gICAgfFxuICAgICAqIHwtLS0tLS0tLS0tLS0tfC0tLS0tLS0tLS0tLS0tfFxuICAgICAqIHwgLTEzNcKwLzIyNcKw4oa7IHwgTm9ydGh3ZXN0ICAgIHxcbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBQSVhJLmdyb3VwRDhcbiAgICAgKiBAY29uc3RhbnQge1BJWEkuR0Q4U3ltbWV0cnl9XG4gICAgICovXG4gICAgTlc6IDUsXG4gICAgLyoqXG4gICAgICogfCBSb3RhdGlvbiAgICB8IERpcmVjdGlvbiAgICB8XG4gICAgICogfC0tLS0tLS0tLS0tLS18LS0tLS0tLS0tLS0tLS18XG4gICAgICogfCAtOTDCsC8yNzDCsOKGuyAgfCBOb3J0aCAgICAgICAgfFxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIFBJWEkuZ3JvdXBEOFxuICAgICAqIEBjb25zdGFudCB7UElYSS5HRDhTeW1tZXRyeX1cbiAgICAgKi9cbiAgICBOOiA2LFxuICAgIC8qKlxuICAgICAqIHwgUm90YXRpb24gICAgfCBEaXJlY3Rpb24gICAgfFxuICAgICAqIHwtLS0tLS0tLS0tLS0tfC0tLS0tLS0tLS0tLS0tfFxuICAgICAqIHwgLTQ1wrAvMzE1wrDihrsgIHwgTm9ydGhlYXN0ICAgIHxcbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBQSVhJLmdyb3VwRDhcbiAgICAgKiBAY29uc3RhbnQge1BJWEkuR0Q4U3ltbWV0cnl9XG4gICAgICovXG4gICAgTkU6IDcsXG4gICAgLyoqXG4gICAgICogUmVmbGVjdGlvbiBhYm91dCBZLWF4aXMuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5ncm91cEQ4XG4gICAgICogQGNvbnN0YW50IHtQSVhJLkdEOFN5bW1ldHJ5fVxuICAgICAqL1xuICAgIE1JUlJPUl9WRVJUSUNBTDogOCxcbiAgICAvKipcbiAgICAgKiBSZWZsZWN0aW9uIGFib3V0IHRoZSBtYWluIGRpYWdvbmFsLlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIFBJWEkuZ3JvdXBEOFxuICAgICAqIEBjb25zdGFudCB7UElYSS5HRDhTeW1tZXRyeX1cbiAgICAgKi9cbiAgICBNQUlOX0RJQUdPTkFMOiAxMCxcbiAgICAvKipcbiAgICAgKiBSZWZsZWN0aW9uIGFib3V0IFgtYXhpcy5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBQSVhJLmdyb3VwRDhcbiAgICAgKiBAY29uc3RhbnQge1BJWEkuR0Q4U3ltbWV0cnl9XG4gICAgICovXG4gICAgTUlSUk9SX0hPUklaT05UQUw6IDEyLFxuICAgIC8qKlxuICAgICAqIFJlZmxlY3Rpb24gYWJvdXQgcmV2ZXJzZSBkaWFnb25hbC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBQSVhJLmdyb3VwRDhcbiAgICAgKiBAY29uc3RhbnQge1BJWEkuR0Q4U3ltbWV0cnl9XG4gICAgICovXG4gICAgUkVWRVJTRV9ESUFHT05BTDogMTQsXG4gICAgLyoqXG4gICAgICogQG1lbWJlcm9mIFBJWEkuZ3JvdXBEOFxuICAgICAqIEBwYXJhbSB7UElYSS5HRDhTeW1tZXRyeX0gaW5kIC0gc3ByaXRlIHJvdGF0aW9uIGFuZ2xlLlxuICAgICAqIEByZXR1cm4ge1BJWEkuR0Q4U3ltbWV0cnl9IFRoZSBYLWNvbXBvbmVudCBvZiB0aGUgVS1heGlzXG4gICAgICogICAgYWZ0ZXIgcm90YXRpbmcgdGhlIGF4ZXMuXG4gICAgICovXG4gICAgdVg6IGZ1bmN0aW9uIChpbmQpIHsgcmV0dXJuIHV4W2luZF07IH0sXG4gICAgLyoqXG4gICAgICogQG1lbWJlcm9mIFBJWEkuZ3JvdXBEOFxuICAgICAqIEBwYXJhbSB7UElYSS5HRDhTeW1tZXRyeX0gaW5kIC0gc3ByaXRlIHJvdGF0aW9uIGFuZ2xlLlxuICAgICAqIEByZXR1cm4ge1BJWEkuR0Q4U3ltbWV0cnl9IFRoZSBZLWNvbXBvbmVudCBvZiB0aGUgVS1heGlzXG4gICAgICogICAgYWZ0ZXIgcm90YXRpbmcgdGhlIGF4ZXMuXG4gICAgICovXG4gICAgdVk6IGZ1bmN0aW9uIChpbmQpIHsgcmV0dXJuIHV5W2luZF07IH0sXG4gICAgLyoqXG4gICAgICogQG1lbWJlcm9mIFBJWEkuZ3JvdXBEOFxuICAgICAqIEBwYXJhbSB7UElYSS5HRDhTeW1tZXRyeX0gaW5kIC0gc3ByaXRlIHJvdGF0aW9uIGFuZ2xlLlxuICAgICAqIEByZXR1cm4ge1BJWEkuR0Q4U3ltbWV0cnl9IFRoZSBYLWNvbXBvbmVudCBvZiB0aGUgVi1heGlzXG4gICAgICogICAgYWZ0ZXIgcm90YXRpbmcgdGhlIGF4ZXMuXG4gICAgICovXG4gICAgdlg6IGZ1bmN0aW9uIChpbmQpIHsgcmV0dXJuIHZ4W2luZF07IH0sXG4gICAgLyoqXG4gICAgICogQG1lbWJlcm9mIFBJWEkuZ3JvdXBEOFxuICAgICAqIEBwYXJhbSB7UElYSS5HRDhTeW1tZXRyeX0gaW5kIC0gc3ByaXRlIHJvdGF0aW9uIGFuZ2xlLlxuICAgICAqIEByZXR1cm4ge1BJWEkuR0Q4U3ltbWV0cnl9IFRoZSBZLWNvbXBvbmVudCBvZiB0aGUgVi1heGlzXG4gICAgICogICAgYWZ0ZXIgcm90YXRpbmcgdGhlIGF4ZXMuXG4gICAgICovXG4gICAgdlk6IGZ1bmN0aW9uIChpbmQpIHsgcmV0dXJuIHZ5W2luZF07IH0sXG4gICAgLyoqXG4gICAgICogQG1lbWJlcm9mIFBJWEkuZ3JvdXBEOFxuICAgICAqIEBwYXJhbSB7UElYSS5HRDhTeW1tZXRyeX0gcm90YXRpb24gLSBzeW1tZXRyeSB3aG9zZSBvcHBvc2l0ZVxuICAgICAqICAgaXMgbmVlZGVkLiBPbmx5IHJvdGF0aW9ucyBoYXZlIG9wcG9zaXRlIHN5bW1ldHJpZXMgd2hpbGVcbiAgICAgKiAgIHJlZmxlY3Rpb25zIGRvbid0LlxuICAgICAqIEByZXR1cm4ge1BJWEkuR0Q4U3ltbWV0cnl9IFRoZSBvcHBvc2l0ZSBzeW1tZXRyeSBvZiBgcm90YXRpb25gXG4gICAgICovXG4gICAgaW52OiBmdW5jdGlvbiAocm90YXRpb24pIHtcbiAgICAgICAgaWYgKHJvdGF0aW9uICYgOCkgLy8gdHJ1ZSBvbmx5IGlmIGJldHdlZW4gOCAmIDE1IChyZWZsZWN0aW9ucylcbiAgICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiByb3RhdGlvbiAmIDE1OyAvLyBvciByb3RhdGlvbiAlIDE2XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICgtcm90YXRpb24pICYgNzsgLy8gb3IgKDggLSByb3RhdGlvbikgJSA4XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBDb21wb3NlcyB0aGUgdHdvIEQ4IG9wZXJhdGlvbnMuXG4gICAgICpcbiAgICAgKiBUYWtpbmcgYF5gIGFzIHJlZmxlY3Rpb246XG4gICAgICpcbiAgICAgKiB8ICAgICAgIHwgRT0wIHwgUz0yIHwgVz00IHwgTj02IHwgRV49OCB8IFNePTEwIHwgV149MTIgfCBOXj0xNCB8XG4gICAgICogfC0tLS0tLS18LS0tLS18LS0tLS18LS0tLS18LS0tLS18LS0tLS0tfC0tLS0tLS18LS0tLS0tLXwtLS0tLS0tfFxuICAgICAqIHwgRT0wICAgfCBFICAgfCBTICAgfCBXICAgfCBOICAgfCBFXiAgIHwgU14gICAgfCBXXiAgICB8IE5eICAgIHxcbiAgICAgKiB8IFM9MiAgIHwgUyAgIHwgVyAgIHwgTiAgIHwgRSAgIHwgU14gICB8IFdeICAgIHwgTl4gICAgfCBFXiAgICB8XG4gICAgICogfCBXPTQgICB8IFcgICB8IE4gICB8IEUgICB8IFMgICB8IFdeICAgfCBOXiAgICB8IEVeICAgIHwgU14gICAgfFxuICAgICAqIHwgTj02ICAgfCBOICAgfCBFICAgfCBTICAgfCBXICAgfCBOXiAgIHwgRV4gICAgfCBTXiAgICB8IFdeICAgIHxcbiAgICAgKiB8IEVePTggIHwgRV4gIHwgTl4gIHwgV14gIHwgU14gIHwgRSAgICB8IE4gICAgIHwgVyAgICAgfCBTICAgICB8XG4gICAgICogfCBTXj0xMCB8IFNeICB8IEVeICB8IE5eICB8IFdeICB8IFMgICAgfCBFICAgICB8IE4gICAgIHwgVyAgICAgfFxuICAgICAqIHwgV149MTIgfCBXXiAgfCBTXiAgfCBFXiAgfCBOXiAgfCBXICAgIHwgUyAgICAgfCBFICAgICB8IE4gICAgIHxcbiAgICAgKiB8IE5ePTE0IHwgTl4gIHwgV14gIHwgU14gIHwgRV4gIHwgTiAgICB8IFcgICAgIHwgUyAgICAgfCBFICAgICB8XG4gICAgICpcbiAgICAgKiBbVGhpcyBpcyBhIENheWxleSB0YWJsZV17QGxpbmsgaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQ2F5bGV5X3RhYmxlfVxuICAgICAqIEBtZW1iZXJvZiBQSVhJLmdyb3VwRDhcbiAgICAgKiBAcGFyYW0ge1BJWEkuR0Q4U3ltbWV0cnl9IHJvdGF0aW9uU2Vjb25kIC0gU2Vjb25kIG9wZXJhdGlvbiwgd2hpY2hcbiAgICAgKiAgIGlzIHRoZSByb3cgaW4gdGhlIGFib3ZlIGNheWxleSB0YWJsZS5cbiAgICAgKiBAcGFyYW0ge1BJWEkuR0Q4U3ltbWV0cnl9IHJvdGF0aW9uRmlyc3QgLSBGaXJzdCBvcGVyYXRpb24sIHdoaWNoXG4gICAgICogICBpcyB0aGUgY29sdW1uIGluIHRoZSBhYm92ZSBjYXlsZXkgdGFibGUuXG4gICAgICogQHJldHVybiB7UElYSS5HRDhTeW1tZXRyeX0gQ29tcG9zZWQgb3BlcmF0aW9uXG4gICAgICovXG4gICAgYWRkOiBmdW5jdGlvbiAocm90YXRpb25TZWNvbmQsIHJvdGF0aW9uRmlyc3QpIHsgcmV0dXJuIChyb3RhdGlvbkNheWxleVtyb3RhdGlvblNlY29uZF1bcm90YXRpb25GaXJzdF0pOyB9LFxuICAgIC8qKlxuICAgICAqIFJldmVyc2Ugb2YgYGFkZGAuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5ncm91cEQ4XG4gICAgICogQHBhcmFtIHtQSVhJLkdEOFN5bW1ldHJ5fSByb3RhdGlvblNlY29uZCAtIFNlY29uZCBvcGVyYXRpb25cbiAgICAgKiBAcGFyYW0ge1BJWEkuR0Q4U3ltbWV0cnl9IHJvdGF0aW9uRmlyc3QgLSBGaXJzdCBvcGVyYXRpb25cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdEOFN5bW1ldHJ5fSBSZXN1bHRcbiAgICAgKi9cbiAgICBzdWI6IGZ1bmN0aW9uIChyb3RhdGlvblNlY29uZCwgcm90YXRpb25GaXJzdCkgeyByZXR1cm4gKHJvdGF0aW9uQ2F5bGV5W3JvdGF0aW9uU2Vjb25kXVtncm91cEQ4Lmludihyb3RhdGlvbkZpcnN0KV0pOyB9LFxuICAgIC8qKlxuICAgICAqIEFkZHMgMTgwIGRlZ3JlZXMgdG8gcm90YXRpb24sIHdoaWNoIGlzIGEgY29tbXV0YXRpdmVcbiAgICAgKiBvcGVyYXRpb24uXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5ncm91cEQ4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJvdGF0aW9uIC0gVGhlIG51bWJlciB0byByb3RhdGUuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUm90YXRlZCBudW1iZXJcbiAgICAgKi9cbiAgICByb3RhdGUxODA6IGZ1bmN0aW9uIChyb3RhdGlvbikgeyByZXR1cm4gcm90YXRpb24gXiA0OyB9LFxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiB0aGUgcm90YXRpb24gYW5nbGUgaXMgdmVydGljYWwsIGkuZS4gc291dGhcbiAgICAgKiBvciBub3J0aC4gSXQgZG9lc24ndCB3b3JrIGZvciByZWZsZWN0aW9ucy5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBQSVhJLmdyb3VwRDhcbiAgICAgKiBAcGFyYW0ge1BJWEkuR0Q4U3ltbWV0cnl9IHJvdGF0aW9uIC0gVGhlIG51bWJlciB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gV2hldGhlciBvciBub3QgdGhlIGRpcmVjdGlvbiBpcyB2ZXJ0aWNhbFxuICAgICAqL1xuICAgIGlzVmVydGljYWw6IGZ1bmN0aW9uIChyb3RhdGlvbikgeyByZXR1cm4gKHJvdGF0aW9uICYgMykgPT09IDI7IH0sXG4gICAgLyoqXG4gICAgICogQXBwcm94aW1hdGVzIHRoZSB2ZWN0b3IgYFYoZHgsZHkpYCBpbnRvIG9uZSBvZiB0aGVcbiAgICAgKiBlaWdodCBkaXJlY3Rpb25zIHByb3ZpZGVkIGJ5IGBncm91cEQ4YC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBQSVhJLmdyb3VwRDhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZHggLSBYLWNvbXBvbmVudCBvZiB0aGUgdmVjdG9yXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGR5IC0gWS1jb21wb25lbnQgb2YgdGhlIHZlY3RvclxuICAgICAqIEByZXR1cm4ge1BJWEkuR0Q4U3ltbWV0cnl9IEFwcHJveGltYXRpb24gb2YgdGhlIHZlY3RvciBpbnRvXG4gICAgICogIG9uZSBvZiB0aGUgZWlnaHQgc3ltbWV0cmllcy5cbiAgICAgKi9cbiAgICBieURpcmVjdGlvbjogZnVuY3Rpb24gKGR4LCBkeSkge1xuICAgICAgICBpZiAoTWF0aC5hYnMoZHgpICogMiA8PSBNYXRoLmFicyhkeSkpIHtcbiAgICAgICAgICAgIGlmIChkeSA+PSAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGdyb3VwRDguUztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBncm91cEQ4Lk47XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoTWF0aC5hYnMoZHkpICogMiA8PSBNYXRoLmFicyhkeCkpIHtcbiAgICAgICAgICAgIGlmIChkeCA+IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZ3JvdXBEOC5FO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGdyb3VwRDguVztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChkeSA+IDApIHtcbiAgICAgICAgICAgIGlmIChkeCA+IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZ3JvdXBEOC5TRTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBncm91cEQ4LlNXO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGR4ID4gMCkge1xuICAgICAgICAgICAgcmV0dXJuIGdyb3VwRDguTkU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGdyb3VwRDguTlc7XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBIZWxwcyBzcHJpdGUgdG8gY29tcGVuc2F0ZSB0ZXh0dXJlIHBhY2tlciByb3RhdGlvbi5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBQSVhJLmdyb3VwRDhcbiAgICAgKiBAcGFyYW0ge1BJWEkuTWF0cml4fSBtYXRyaXggLSBzcHJpdGUgd29ybGQgbWF0cml4XG4gICAgICogQHBhcmFtIHtQSVhJLkdEOFN5bW1ldHJ5fSByb3RhdGlvbiAtIFRoZSByb3RhdGlvbiBmYWN0b3IgdG8gdXNlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0eCAtIHNwcml0ZSBhbmNob3JpbmdcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdHkgLSBzcHJpdGUgYW5jaG9yaW5nXG4gICAgICovXG4gICAgbWF0cml4QXBwZW5kUm90YXRpb25JbnY6IGZ1bmN0aW9uIChtYXRyaXgsIHJvdGF0aW9uLCB0eCwgdHkpIHtcbiAgICAgICAgaWYgKHR4ID09PSB2b2lkIDApIHsgdHggPSAwOyB9XG4gICAgICAgIGlmICh0eSA9PT0gdm9pZCAwKSB7IHR5ID0gMDsgfVxuICAgICAgICAvLyBQYWNrZXIgdXNlZCBcInJvdGF0aW9uXCIsIHdlIHVzZSBcImludihyb3RhdGlvbilcIlxuICAgICAgICB2YXIgbWF0ID0gcm90YXRpb25NYXRyaWNlc1tncm91cEQ4Lmludihyb3RhdGlvbildO1xuICAgICAgICBtYXQudHggPSB0eDtcbiAgICAgICAgbWF0LnR5ID0gdHk7XG4gICAgICAgIG1hdHJpeC5hcHBlbmQobWF0KTtcbiAgICB9LFxufTtcblxuLyoqXG4gKiBUcmFuc2Zvcm0gdGhhdCB0YWtlcyBjYXJlIGFib3V0IGl0cyB2ZXJzaW9uc1xuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFRyYW5zZm9ybSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBUcmFuc2Zvcm0oKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgd29ybGQgdHJhbnNmb3JtYXRpb24gbWF0cml4LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk1hdHJpeH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMud29ybGRUcmFuc2Zvcm0gPSBuZXcgTWF0cml4KCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbG9jYWwgdHJhbnNmb3JtYXRpb24gbWF0cml4LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk1hdHJpeH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubG9jYWxUcmFuc2Zvcm0gPSBuZXcgTWF0cml4KCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY29vcmRpbmF0ZSBvZiB0aGUgb2JqZWN0IHJlbGF0aXZlIHRvIHRoZSBsb2NhbCBjb29yZGluYXRlcyBvZiB0aGUgcGFyZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk9ic2VydmFibGVQb2ludH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucG9zaXRpb24gPSBuZXcgT2JzZXJ2YWJsZVBvaW50KHRoaXMub25DaGFuZ2UsIHRoaXMsIDAsIDApO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHNjYWxlIGZhY3RvciBvZiB0aGUgb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk9ic2VydmFibGVQb2ludH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc2NhbGUgPSBuZXcgT2JzZXJ2YWJsZVBvaW50KHRoaXMub25DaGFuZ2UsIHRoaXMsIDEsIDEpO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHBpdm90IHBvaW50IG9mIHRoZSBkaXNwbGF5T2JqZWN0IHRoYXQgaXQgcm90YXRlcyBhcm91bmQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuT2JzZXJ2YWJsZVBvaW50fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5waXZvdCA9IG5ldyBPYnNlcnZhYmxlUG9pbnQodGhpcy5vbkNoYW5nZSwgdGhpcywgMCwgMCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgc2tldyBhbW91bnQsIG9uIHRoZSB4IGFuZCB5IGF4aXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuT2JzZXJ2YWJsZVBvaW50fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5za2V3ID0gbmV3IE9ic2VydmFibGVQb2ludCh0aGlzLnVwZGF0ZVNrZXcsIHRoaXMsIDAsIDApO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHJvdGF0aW9uIGFtb3VudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9yb3RhdGlvbiA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgWC1jb29yZGluYXRlIHZhbHVlIG9mIHRoZSBub3JtYWxpemVkIGxvY2FsIFggYXhpcyxcbiAgICAgICAgICogdGhlIGZpcnN0IGNvbHVtbiBvZiB0aGUgbG9jYWwgdHJhbnNmb3JtYXRpb24gbWF0cml4IHdpdGhvdXQgYSBzY2FsZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9jeCA9IDE7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgWS1jb29yZGluYXRlIHZhbHVlIG9mIHRoZSBub3JtYWxpemVkIGxvY2FsIFggYXhpcyxcbiAgICAgICAgICogdGhlIGZpcnN0IGNvbHVtbiBvZiB0aGUgbG9jYWwgdHJhbnNmb3JtYXRpb24gbWF0cml4IHdpdGhvdXQgYSBzY2FsZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9zeCA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgWC1jb29yZGluYXRlIHZhbHVlIG9mIHRoZSBub3JtYWxpemVkIGxvY2FsIFkgYXhpcyxcbiAgICAgICAgICogdGhlIHNlY29uZCBjb2x1bW4gb2YgdGhlIGxvY2FsIHRyYW5zZm9ybWF0aW9uIG1hdHJpeCB3aXRob3V0IGEgc2NhbGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fY3kgPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIFktY29vcmRpbmF0ZSB2YWx1ZSBvZiB0aGUgbm9ybWFsaXplZCBsb2NhbCBZIGF4aXMsXG4gICAgICAgICAqIHRoZSBzZWNvbmQgY29sdW1uIG9mIHRoZSBsb2NhbCB0cmFuc2Zvcm1hdGlvbiBtYXRyaXggd2l0aG91dCBhIHNjYWxlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3N5ID0gMTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBsb2NhbGx5IHVuaXF1ZSBJRCBvZiB0aGUgbG9jYWwgdHJhbnNmb3JtLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2xvY2FsSUQgPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGxvY2FsbHkgdW5pcXVlIElEIG9mIHRoZSBsb2NhbCB0cmFuc2Zvcm1cbiAgICAgICAgICogdXNlZCB0byBjYWxjdWxhdGUgdGhlIGN1cnJlbnQgbG9jYWwgdHJhbnNmb3JtYXRpb24gbWF0cml4LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2N1cnJlbnRMb2NhbElEID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBsb2NhbGx5IHVuaXF1ZSBJRCBvZiB0aGUgd29ybGQgdHJhbnNmb3JtLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3dvcmxkSUQgPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGxvY2FsbHkgdW5pcXVlIElEIG9mIHRoZSBwYXJlbnQncyB3b3JsZCB0cmFuc2Zvcm1cbiAgICAgICAgICogdXNlZCB0byBjYWxjdWxhdGUgdGhlIGN1cnJlbnQgd29ybGQgdHJhbnNmb3JtYXRpb24gbWF0cml4LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3BhcmVudElEID0gMDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHdoZW4gYSB2YWx1ZSBjaGFuZ2VzLlxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIFRyYW5zZm9ybS5wcm90b3R5cGUub25DaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuX2xvY2FsSUQrKztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENhbGxlZCB3aGVuIHRoZSBza2V3IG9yIHRoZSByb3RhdGlvbiBjaGFuZ2VzLlxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIFRyYW5zZm9ybS5wcm90b3R5cGUudXBkYXRlU2tldyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5fY3ggPSBNYXRoLmNvcyh0aGlzLl9yb3RhdGlvbiArIHRoaXMuc2tldy55KTtcbiAgICAgICAgdGhpcy5fc3ggPSBNYXRoLnNpbih0aGlzLl9yb3RhdGlvbiArIHRoaXMuc2tldy55KTtcbiAgICAgICAgdGhpcy5fY3kgPSAtTWF0aC5zaW4odGhpcy5fcm90YXRpb24gLSB0aGlzLnNrZXcueCk7IC8vIGNvcywgYWRkZWQgUEkvMlxuICAgICAgICB0aGlzLl9zeSA9IE1hdGguY29zKHRoaXMuX3JvdGF0aW9uIC0gdGhpcy5za2V3LngpOyAvLyBzaW4sIGFkZGVkIFBJLzJcbiAgICAgICAgdGhpcy5fbG9jYWxJRCsrO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgbG9jYWwgdHJhbnNmb3JtYXRpb24gbWF0cml4LlxuICAgICAqL1xuICAgIFRyYW5zZm9ybS5wcm90b3R5cGUudXBkYXRlTG9jYWxUcmFuc2Zvcm0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBsdCA9IHRoaXMubG9jYWxUcmFuc2Zvcm07XG4gICAgICAgIGlmICh0aGlzLl9sb2NhbElEICE9PSB0aGlzLl9jdXJyZW50TG9jYWxJRCkge1xuICAgICAgICAgICAgLy8gZ2V0IHRoZSBtYXRyaXggdmFsdWVzIG9mIHRoZSBkaXNwbGF5b2JqZWN0IGJhc2VkIG9uIGl0cyB0cmFuc2Zvcm0gcHJvcGVydGllcy4uXG4gICAgICAgICAgICBsdC5hID0gdGhpcy5fY3ggKiB0aGlzLnNjYWxlLng7XG4gICAgICAgICAgICBsdC5iID0gdGhpcy5fc3ggKiB0aGlzLnNjYWxlLng7XG4gICAgICAgICAgICBsdC5jID0gdGhpcy5fY3kgKiB0aGlzLnNjYWxlLnk7XG4gICAgICAgICAgICBsdC5kID0gdGhpcy5fc3kgKiB0aGlzLnNjYWxlLnk7XG4gICAgICAgICAgICBsdC50eCA9IHRoaXMucG9zaXRpb24ueCAtICgodGhpcy5waXZvdC54ICogbHQuYSkgKyAodGhpcy5waXZvdC55ICogbHQuYykpO1xuICAgICAgICAgICAgbHQudHkgPSB0aGlzLnBvc2l0aW9uLnkgLSAoKHRoaXMucGl2b3QueCAqIGx0LmIpICsgKHRoaXMucGl2b3QueSAqIGx0LmQpKTtcbiAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRMb2NhbElEID0gdGhpcy5fbG9jYWxJRDtcbiAgICAgICAgICAgIC8vIGZvcmNlIGFuIHVwZGF0ZS4uXG4gICAgICAgICAgICB0aGlzLl9wYXJlbnRJRCA9IC0xO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBsb2NhbCBhbmQgdGhlIHdvcmxkIHRyYW5zZm9ybWF0aW9uIG1hdHJpY2VzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlRyYW5zZm9ybX0gcGFyZW50VHJhbnNmb3JtIC0gVGhlIHBhcmVudCB0cmFuc2Zvcm1cbiAgICAgKi9cbiAgICBUcmFuc2Zvcm0ucHJvdG90eXBlLnVwZGF0ZVRyYW5zZm9ybSA9IGZ1bmN0aW9uIChwYXJlbnRUcmFuc2Zvcm0pIHtcbiAgICAgICAgdmFyIGx0ID0gdGhpcy5sb2NhbFRyYW5zZm9ybTtcbiAgICAgICAgaWYgKHRoaXMuX2xvY2FsSUQgIT09IHRoaXMuX2N1cnJlbnRMb2NhbElEKSB7XG4gICAgICAgICAgICAvLyBnZXQgdGhlIG1hdHJpeCB2YWx1ZXMgb2YgdGhlIGRpc3BsYXlvYmplY3QgYmFzZWQgb24gaXRzIHRyYW5zZm9ybSBwcm9wZXJ0aWVzLi5cbiAgICAgICAgICAgIGx0LmEgPSB0aGlzLl9jeCAqIHRoaXMuc2NhbGUueDtcbiAgICAgICAgICAgIGx0LmIgPSB0aGlzLl9zeCAqIHRoaXMuc2NhbGUueDtcbiAgICAgICAgICAgIGx0LmMgPSB0aGlzLl9jeSAqIHRoaXMuc2NhbGUueTtcbiAgICAgICAgICAgIGx0LmQgPSB0aGlzLl9zeSAqIHRoaXMuc2NhbGUueTtcbiAgICAgICAgICAgIGx0LnR4ID0gdGhpcy5wb3NpdGlvbi54IC0gKCh0aGlzLnBpdm90LnggKiBsdC5hKSArICh0aGlzLnBpdm90LnkgKiBsdC5jKSk7XG4gICAgICAgICAgICBsdC50eSA9IHRoaXMucG9zaXRpb24ueSAtICgodGhpcy5waXZvdC54ICogbHQuYikgKyAodGhpcy5waXZvdC55ICogbHQuZCkpO1xuICAgICAgICAgICAgdGhpcy5fY3VycmVudExvY2FsSUQgPSB0aGlzLl9sb2NhbElEO1xuICAgICAgICAgICAgLy8gZm9yY2UgYW4gdXBkYXRlLi5cbiAgICAgICAgICAgIHRoaXMuX3BhcmVudElEID0gLTE7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX3BhcmVudElEICE9PSBwYXJlbnRUcmFuc2Zvcm0uX3dvcmxkSUQpIHtcbiAgICAgICAgICAgIC8vIGNvbmNhdCB0aGUgcGFyZW50IG1hdHJpeCB3aXRoIHRoZSBvYmplY3RzIHRyYW5zZm9ybS5cbiAgICAgICAgICAgIHZhciBwdCA9IHBhcmVudFRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybTtcbiAgICAgICAgICAgIHZhciB3dCA9IHRoaXMud29ybGRUcmFuc2Zvcm07XG4gICAgICAgICAgICB3dC5hID0gKGx0LmEgKiBwdC5hKSArIChsdC5iICogcHQuYyk7XG4gICAgICAgICAgICB3dC5iID0gKGx0LmEgKiBwdC5iKSArIChsdC5iICogcHQuZCk7XG4gICAgICAgICAgICB3dC5jID0gKGx0LmMgKiBwdC5hKSArIChsdC5kICogcHQuYyk7XG4gICAgICAgICAgICB3dC5kID0gKGx0LmMgKiBwdC5iKSArIChsdC5kICogcHQuZCk7XG4gICAgICAgICAgICB3dC50eCA9IChsdC50eCAqIHB0LmEpICsgKGx0LnR5ICogcHQuYykgKyBwdC50eDtcbiAgICAgICAgICAgIHd0LnR5ID0gKGx0LnR4ICogcHQuYikgKyAobHQudHkgKiBwdC5kKSArIHB0LnR5O1xuICAgICAgICAgICAgdGhpcy5fcGFyZW50SUQgPSBwYXJlbnRUcmFuc2Zvcm0uX3dvcmxkSUQ7XG4gICAgICAgICAgICAvLyB1cGRhdGUgdGhlIGlkIG9mIHRoZSB0cmFuc2Zvcm0uLlxuICAgICAgICAgICAgdGhpcy5fd29ybGRJRCsrO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZWNvbXBvc2VzIGEgbWF0cml4IGFuZCBzZXRzIHRoZSB0cmFuc2Zvcm1zIHByb3BlcnRpZXMgYmFzZWQgb24gaXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuTWF0cml4fSBtYXRyaXggLSBUaGUgbWF0cml4IHRvIGRlY29tcG9zZVxuICAgICAqL1xuICAgIFRyYW5zZm9ybS5wcm90b3R5cGUuc2V0RnJvbU1hdHJpeCA9IGZ1bmN0aW9uIChtYXRyaXgpIHtcbiAgICAgICAgbWF0cml4LmRlY29tcG9zZSh0aGlzKTtcbiAgICAgICAgdGhpcy5fbG9jYWxJRCsrO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRyYW5zZm9ybS5wcm90b3R5cGUsIFwicm90YXRpb25cIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHJvdGF0aW9uIG9mIHRoZSBvYmplY3QgaW4gcmFkaWFucy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcm90YXRpb247XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fcm90YXRpb24gIT09IHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcm90YXRpb24gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVNrZXcoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogQSBkZWZhdWx0IChpZGVudGl0eSkgdHJhbnNmb3JtXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQGNvbnN0YW50XG4gICAgICogQG1lbWJlciB7UElYSS5UcmFuc2Zvcm19XG4gICAgICovXG4gICAgVHJhbnNmb3JtLklERU5USVRZID0gbmV3IFRyYW5zZm9ybSgpO1xuICAgIHJldHVybiBUcmFuc2Zvcm07XG59KCkpO1xuXG4vKipcbiAqIFNpemUgb2JqZWN0LCBjb250YWlucyB3aWR0aCBhbmQgaGVpZ2h0XG4gKlxuICogQG1lbWJlcm9mIFBJWElcbiAqIEB0eXBlZGVmIHtvYmplY3R9IElTaXplXG4gKiBAcHJvcGVydHkge251bWJlcn0gd2lkdGggLSBXaWR0aCBjb21wb25lbnRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBoZWlnaHQgLSBIZWlnaHQgY29tcG9uZW50XG4gKi9cbi8qKlxuICogUmVjdGFuZ2xlIG9iamVjdCBpcyBhbiBhcmVhIGRlZmluZWQgYnkgaXRzIHBvc2l0aW9uLCBhcyBpbmRpY2F0ZWQgYnkgaXRzIHRvcC1sZWZ0IGNvcm5lclxuICogcG9pbnQgKHgsIHkpIGFuZCBieSBpdHMgd2lkdGggYW5kIGl0cyBoZWlnaHQuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgUmVjdGFuZ2xlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbeD0wXSAtIFRoZSBYIGNvb3JkaW5hdGUgb2YgdGhlIHVwcGVyLWxlZnQgY29ybmVyIG9mIHRoZSByZWN0YW5nbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3k9MF0gLSBUaGUgWSBjb29yZGluYXRlIG9mIHRoZSB1cHBlci1sZWZ0IGNvcm5lciBvZiB0aGUgcmVjdGFuZ2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt3aWR0aD0wXSAtIFRoZSBvdmVyYWxsIHdpZHRoIG9mIHRoaXMgcmVjdGFuZ2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtoZWlnaHQ9MF0gLSBUaGUgb3ZlcmFsbCBoZWlnaHQgb2YgdGhpcyByZWN0YW5nbGVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBSZWN0YW5nbGUoeCwgeSwgd2lkdGgsIGhlaWdodCkge1xuICAgICAgICBpZiAoeCA9PT0gdm9pZCAwKSB7IHggPSAwOyB9XG4gICAgICAgIGlmICh5ID09PSB2b2lkIDApIHsgeSA9IDA7IH1cbiAgICAgICAgaWYgKHdpZHRoID09PSB2b2lkIDApIHsgd2lkdGggPSAwOyB9XG4gICAgICAgIGlmIChoZWlnaHQgPT09IHZvaWQgMCkgeyBoZWlnaHQgPSAwOyB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMueCA9IE51bWJlcih4KTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy55ID0gTnVtYmVyKHkpO1xuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLndpZHRoID0gTnVtYmVyKHdpZHRoKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5oZWlnaHQgPSBOdW1iZXIoaGVpZ2h0KTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0eXBlIG9mIHRoZSBvYmplY3QsIG1haW5seSB1c2VkIHRvIGF2b2lkIGBpbnN0YW5jZW9mYCBjaGVja3NcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcmVhZE9ubHlcbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5TSEFQRVMuUkVDVFxuICAgICAgICAgKiBAc2VlIFBJWEkuU0hBUEVTXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnR5cGUgPSBTSEFQRVMuUkVDVDtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFJlY3RhbmdsZS5wcm90b3R5cGUsIFwibGVmdFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiByZXR1cm5zIHRoZSBsZWZ0IGVkZ2Ugb2YgdGhlIHJlY3RhbmdsZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLng7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShSZWN0YW5nbGUucHJvdG90eXBlLCBcInJpZ2h0XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIHJldHVybnMgdGhlIHJpZ2h0IGVkZ2Ugb2YgdGhlIHJlY3RhbmdsZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnggKyB0aGlzLndpZHRoO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUmVjdGFuZ2xlLnByb3RvdHlwZSwgXCJ0b3BcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogcmV0dXJucyB0aGUgdG9wIGVkZ2Ugb2YgdGhlIHJlY3RhbmdsZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShSZWN0YW5nbGUucHJvdG90eXBlLCBcImJvdHRvbVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiByZXR1cm5zIHRoZSBib3R0b20gZWRnZSBvZiB0aGUgcmVjdGFuZ2xlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMueSArIHRoaXMuaGVpZ2h0O1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUmVjdGFuZ2xlLCBcIkVNUFRZXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgY29uc3RhbnQgZW1wdHkgcmVjdGFuZ2xlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAqIEBjb25zdGFudFxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlJlY3RhbmdsZX1cbiAgICAgICAgICogQHJldHVybiB7UElYSS5SZWN0YW5nbGV9IEFuIGVtcHR5IHJlY3RhbmdsZVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFJlY3RhbmdsZSgwLCAwLCAwLCAwKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNsb25lIG9mIHRoaXMgUmVjdGFuZ2xlXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJlY3RhbmdsZX0gYSBjb3B5IG9mIHRoZSByZWN0YW5nbGVcbiAgICAgKi9cbiAgICBSZWN0YW5nbGUucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gbmV3IFJlY3RhbmdsZSh0aGlzLngsIHRoaXMueSwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ29waWVzIGFub3RoZXIgcmVjdGFuZ2xlIHRvIHRoaXMgb25lLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gcmVjdGFuZ2xlIC0gVGhlIHJlY3RhbmdsZSB0byBjb3B5IGZyb20uXG4gICAgICogQHJldHVybiB7UElYSS5SZWN0YW5nbGV9IFJldHVybnMgaXRzZWxmLlxuICAgICAqL1xuICAgIFJlY3RhbmdsZS5wcm90b3R5cGUuY29weUZyb20gPSBmdW5jdGlvbiAocmVjdGFuZ2xlKSB7XG4gICAgICAgIHRoaXMueCA9IHJlY3RhbmdsZS54O1xuICAgICAgICB0aGlzLnkgPSByZWN0YW5nbGUueTtcbiAgICAgICAgdGhpcy53aWR0aCA9IHJlY3RhbmdsZS53aWR0aDtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSByZWN0YW5nbGUuaGVpZ2h0O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENvcGllcyB0aGlzIHJlY3RhbmdsZSB0byBhbm90aGVyIG9uZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IHJlY3RhbmdsZSAtIFRoZSByZWN0YW5nbGUgdG8gY29weSB0by5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJlY3RhbmdsZX0gUmV0dXJucyBnaXZlbiBwYXJhbWV0ZXIuXG4gICAgICovXG4gICAgUmVjdGFuZ2xlLnByb3RvdHlwZS5jb3B5VG8gPSBmdW5jdGlvbiAocmVjdGFuZ2xlKSB7XG4gICAgICAgIHJlY3RhbmdsZS54ID0gdGhpcy54O1xuICAgICAgICByZWN0YW5nbGUueSA9IHRoaXMueTtcbiAgICAgICAgcmVjdGFuZ2xlLndpZHRoID0gdGhpcy53aWR0aDtcbiAgICAgICAgcmVjdGFuZ2xlLmhlaWdodCA9IHRoaXMuaGVpZ2h0O1xuICAgICAgICByZXR1cm4gcmVjdGFuZ2xlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2hlY2tzIHdoZXRoZXIgdGhlIHggYW5kIHkgY29vcmRpbmF0ZXMgZ2l2ZW4gYXJlIGNvbnRhaW5lZCB3aXRoaW4gdGhpcyBSZWN0YW5nbGVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4IC0gVGhlIFggY29vcmRpbmF0ZSBvZiB0aGUgcG9pbnQgdG8gdGVzdFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5IC0gVGhlIFkgY29vcmRpbmF0ZSBvZiB0aGUgcG9pbnQgdG8gdGVzdFxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFdoZXRoZXIgdGhlIHgveSBjb29yZGluYXRlcyBhcmUgd2l0aGluIHRoaXMgUmVjdGFuZ2xlXG4gICAgICovXG4gICAgUmVjdGFuZ2xlLnByb3RvdHlwZS5jb250YWlucyA9IGZ1bmN0aW9uICh4LCB5KSB7XG4gICAgICAgIGlmICh0aGlzLndpZHRoIDw9IDAgfHwgdGhpcy5oZWlnaHQgPD0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh4ID49IHRoaXMueCAmJiB4IDwgdGhpcy54ICsgdGhpcy53aWR0aCkge1xuICAgICAgICAgICAgaWYgKHkgPj0gdGhpcy55ICYmIHkgPCB0aGlzLnkgKyB0aGlzLmhlaWdodCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFBhZHMgdGhlIHJlY3RhbmdsZSBtYWtpbmcgaXQgZ3JvdyBpbiBhbGwgZGlyZWN0aW9ucy5cbiAgICAgKiBJZiBwYWRkaW5nWSBpcyBvbWl0dGVkLCBib3RoIHBhZGRpbmdYIGFuZCBwYWRkaW5nWSB3aWxsIGJlIHNldCB0byBwYWRkaW5nWC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcGFkZGluZ1g9MF0gLSBUaGUgaG9yaXpvbnRhbCBwYWRkaW5nIGFtb3VudC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3BhZGRpbmdZPTBdIC0gVGhlIHZlcnRpY2FsIHBhZGRpbmcgYW1vdW50LlxuICAgICAqIEByZXR1cm4ge1BJWEkuUmVjdGFuZ2xlfSBSZXR1cm5zIGl0c2VsZi5cbiAgICAgKi9cbiAgICBSZWN0YW5nbGUucHJvdG90eXBlLnBhZCA9IGZ1bmN0aW9uIChwYWRkaW5nWCwgcGFkZGluZ1kpIHtcbiAgICAgICAgaWYgKHBhZGRpbmdYID09PSB2b2lkIDApIHsgcGFkZGluZ1ggPSAwOyB9XG4gICAgICAgIGlmIChwYWRkaW5nWSA9PT0gdm9pZCAwKSB7IHBhZGRpbmdZID0gcGFkZGluZ1g7IH1cbiAgICAgICAgdGhpcy54IC09IHBhZGRpbmdYO1xuICAgICAgICB0aGlzLnkgLT0gcGFkZGluZ1k7XG4gICAgICAgIHRoaXMud2lkdGggKz0gcGFkZGluZ1ggKiAyO1xuICAgICAgICB0aGlzLmhlaWdodCArPSBwYWRkaW5nWSAqIDI7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRml0cyB0aGlzIHJlY3RhbmdsZSBhcm91bmQgdGhlIHBhc3NlZCBvbmUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSByZWN0YW5nbGUgLSBUaGUgcmVjdGFuZ2xlIHRvIGZpdC5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJlY3RhbmdsZX0gUmV0dXJucyBpdHNlbGYuXG4gICAgICovXG4gICAgUmVjdGFuZ2xlLnByb3RvdHlwZS5maXQgPSBmdW5jdGlvbiAocmVjdGFuZ2xlKSB7XG4gICAgICAgIHZhciB4MSA9IE1hdGgubWF4KHRoaXMueCwgcmVjdGFuZ2xlLngpO1xuICAgICAgICB2YXIgeDIgPSBNYXRoLm1pbih0aGlzLnggKyB0aGlzLndpZHRoLCByZWN0YW5nbGUueCArIHJlY3RhbmdsZS53aWR0aCk7XG4gICAgICAgIHZhciB5MSA9IE1hdGgubWF4KHRoaXMueSwgcmVjdGFuZ2xlLnkpO1xuICAgICAgICB2YXIgeTIgPSBNYXRoLm1pbih0aGlzLnkgKyB0aGlzLmhlaWdodCwgcmVjdGFuZ2xlLnkgKyByZWN0YW5nbGUuaGVpZ2h0KTtcbiAgICAgICAgdGhpcy54ID0geDE7XG4gICAgICAgIHRoaXMud2lkdGggPSBNYXRoLm1heCh4MiAtIHgxLCAwKTtcbiAgICAgICAgdGhpcy55ID0geTE7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gTWF0aC5tYXgoeTIgLSB5MSwgMCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRW5sYXJnZXMgcmVjdGFuZ2xlIHRoYXQgd2F5IGl0cyBjb3JuZXJzIGxpZSBvbiBncmlkXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3Jlc29sdXRpb249MV0gcmVzb2x1dGlvblxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZXBzPTAuMDAxXSBwcmVjaXNpb25cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJlY3RhbmdsZX0gUmV0dXJucyBpdHNlbGYuXG4gICAgICovXG4gICAgUmVjdGFuZ2xlLnByb3RvdHlwZS5jZWlsID0gZnVuY3Rpb24gKHJlc29sdXRpb24sIGVwcykge1xuICAgICAgICBpZiAocmVzb2x1dGlvbiA9PT0gdm9pZCAwKSB7IHJlc29sdXRpb24gPSAxOyB9XG4gICAgICAgIGlmIChlcHMgPT09IHZvaWQgMCkgeyBlcHMgPSAwLjAwMTsgfVxuICAgICAgICB2YXIgeDIgPSBNYXRoLmNlaWwoKHRoaXMueCArIHRoaXMud2lkdGggLSBlcHMpICogcmVzb2x1dGlvbikgLyByZXNvbHV0aW9uO1xuICAgICAgICB2YXIgeTIgPSBNYXRoLmNlaWwoKHRoaXMueSArIHRoaXMuaGVpZ2h0IC0gZXBzKSAqIHJlc29sdXRpb24pIC8gcmVzb2x1dGlvbjtcbiAgICAgICAgdGhpcy54ID0gTWF0aC5mbG9vcigodGhpcy54ICsgZXBzKSAqIHJlc29sdXRpb24pIC8gcmVzb2x1dGlvbjtcbiAgICAgICAgdGhpcy55ID0gTWF0aC5mbG9vcigodGhpcy55ICsgZXBzKSAqIHJlc29sdXRpb24pIC8gcmVzb2x1dGlvbjtcbiAgICAgICAgdGhpcy53aWR0aCA9IHgyIC0gdGhpcy54O1xuICAgICAgICB0aGlzLmhlaWdodCA9IHkyIC0gdGhpcy55O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEVubGFyZ2VzIHRoaXMgcmVjdGFuZ2xlIHRvIGluY2x1ZGUgdGhlIHBhc3NlZCByZWN0YW5nbGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSByZWN0YW5nbGUgLSBUaGUgcmVjdGFuZ2xlIHRvIGluY2x1ZGUuXG4gICAgICogQHJldHVybiB7UElYSS5SZWN0YW5nbGV9IFJldHVybnMgaXRzZWxmLlxuICAgICAqL1xuICAgIFJlY3RhbmdsZS5wcm90b3R5cGUuZW5sYXJnZSA9IGZ1bmN0aW9uIChyZWN0YW5nbGUpIHtcbiAgICAgICAgdmFyIHgxID0gTWF0aC5taW4odGhpcy54LCByZWN0YW5nbGUueCk7XG4gICAgICAgIHZhciB4MiA9IE1hdGgubWF4KHRoaXMueCArIHRoaXMud2lkdGgsIHJlY3RhbmdsZS54ICsgcmVjdGFuZ2xlLndpZHRoKTtcbiAgICAgICAgdmFyIHkxID0gTWF0aC5taW4odGhpcy55LCByZWN0YW5nbGUueSk7XG4gICAgICAgIHZhciB5MiA9IE1hdGgubWF4KHRoaXMueSArIHRoaXMuaGVpZ2h0LCByZWN0YW5nbGUueSArIHJlY3RhbmdsZS5oZWlnaHQpO1xuICAgICAgICB0aGlzLnggPSB4MTtcbiAgICAgICAgdGhpcy53aWR0aCA9IHgyIC0geDE7XG4gICAgICAgIHRoaXMueSA9IHkxO1xuICAgICAgICB0aGlzLmhlaWdodCA9IHkyIC0geTE7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgcmV0dXJuIFJlY3RhbmdsZTtcbn0oKSk7XG5cbi8qKlxuICogVGhlIENpcmNsZSBvYmplY3QgaXMgdXNlZCB0byBoZWxwIGRyYXcgZ3JhcGhpY3MgYW5kIGNhbiBhbHNvIGJlIHVzZWQgdG8gc3BlY2lmeSBhIGhpdCBhcmVhIGZvciBkaXNwbGF5T2JqZWN0cy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBDaXJjbGUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt4PTBdIC0gVGhlIFggY29vcmRpbmF0ZSBvZiB0aGUgY2VudGVyIG9mIHRoaXMgY2lyY2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt5PTBdIC0gVGhlIFkgY29vcmRpbmF0ZSBvZiB0aGUgY2VudGVyIG9mIHRoaXMgY2lyY2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtyYWRpdXM9MF0gLSBUaGUgcmFkaXVzIG9mIHRoZSBjaXJjbGVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBDaXJjbGUoeCwgeSwgcmFkaXVzKSB7XG4gICAgICAgIGlmICh4ID09PSB2b2lkIDApIHsgeCA9IDA7IH1cbiAgICAgICAgaWYgKHkgPT09IHZvaWQgMCkgeyB5ID0gMDsgfVxuICAgICAgICBpZiAocmFkaXVzID09PSB2b2lkIDApIHsgcmFkaXVzID0gMDsgfVxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnggPSB4O1xuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnkgPSB5O1xuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJhZGl1cyA9IHJhZGl1cztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0eXBlIG9mIHRoZSBvYmplY3QsIG1haW5seSB1c2VkIHRvIGF2b2lkIGBpbnN0YW5jZW9mYCBjaGVja3NcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcmVhZE9ubHlcbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5TSEFQRVMuQ0lSQ1xuICAgICAgICAgKiBAc2VlIFBJWEkuU0hBUEVTXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnR5cGUgPSBTSEFQRVMuQ0lSQztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNsb25lIG9mIHRoaXMgQ2lyY2xlIGluc3RhbmNlXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkNpcmNsZX0gYSBjb3B5IG9mIHRoZSBDaXJjbGVcbiAgICAgKi9cbiAgICBDaXJjbGUucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gbmV3IENpcmNsZSh0aGlzLngsIHRoaXMueSwgdGhpcy5yYWRpdXMpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2hlY2tzIHdoZXRoZXIgdGhlIHggYW5kIHkgY29vcmRpbmF0ZXMgZ2l2ZW4gYXJlIGNvbnRhaW5lZCB3aXRoaW4gdGhpcyBjaXJjbGVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4IC0gVGhlIFggY29vcmRpbmF0ZSBvZiB0aGUgcG9pbnQgdG8gdGVzdFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5IC0gVGhlIFkgY29vcmRpbmF0ZSBvZiB0aGUgcG9pbnQgdG8gdGVzdFxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFdoZXRoZXIgdGhlIHgveSBjb29yZGluYXRlcyBhcmUgd2l0aGluIHRoaXMgQ2lyY2xlXG4gICAgICovXG4gICAgQ2lyY2xlLnByb3RvdHlwZS5jb250YWlucyA9IGZ1bmN0aW9uICh4LCB5KSB7XG4gICAgICAgIGlmICh0aGlzLnJhZGl1cyA8PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHIyID0gdGhpcy5yYWRpdXMgKiB0aGlzLnJhZGl1cztcbiAgICAgICAgdmFyIGR4ID0gKHRoaXMueCAtIHgpO1xuICAgICAgICB2YXIgZHkgPSAodGhpcy55IC0geSk7XG4gICAgICAgIGR4ICo9IGR4O1xuICAgICAgICBkeSAqPSBkeTtcbiAgICAgICAgcmV0dXJuIChkeCArIGR5IDw9IHIyKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICogUmV0dXJucyB0aGUgZnJhbWluZyByZWN0YW5nbGUgb2YgdGhlIGNpcmNsZSBhcyBhIFJlY3RhbmdsZSBvYmplY3RcbiAgICAqXG4gICAgKiBAcmV0dXJuIHtQSVhJLlJlY3RhbmdsZX0gdGhlIGZyYW1pbmcgcmVjdGFuZ2xlXG4gICAgKi9cbiAgICBDaXJjbGUucHJvdG90eXBlLmdldEJvdW5kcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBSZWN0YW5nbGUodGhpcy54IC0gdGhpcy5yYWRpdXMsIHRoaXMueSAtIHRoaXMucmFkaXVzLCB0aGlzLnJhZGl1cyAqIDIsIHRoaXMucmFkaXVzICogMik7XG4gICAgfTtcbiAgICByZXR1cm4gQ2lyY2xlO1xufSgpKTtcblxuLyoqXG4gKiBUaGUgRWxsaXBzZSBvYmplY3QgaXMgdXNlZCB0byBoZWxwIGRyYXcgZ3JhcGhpY3MgYW5kIGNhbiBhbHNvIGJlIHVzZWQgdG8gc3BlY2lmeSBhIGhpdCBhcmVhIGZvciBkaXNwbGF5T2JqZWN0cy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBFbGxpcHNlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbeD0wXSAtIFRoZSBYIGNvb3JkaW5hdGUgb2YgdGhlIGNlbnRlciBvZiB0aGlzIGVsbGlwc2VcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3k9MF0gLSBUaGUgWSBjb29yZGluYXRlIG9mIHRoZSBjZW50ZXIgb2YgdGhpcyBlbGxpcHNlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtoYWxmV2lkdGg9MF0gLSBUaGUgaGFsZiB3aWR0aCBvZiB0aGlzIGVsbGlwc2VcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2hhbGZIZWlnaHQ9MF0gLSBUaGUgaGFsZiBoZWlnaHQgb2YgdGhpcyBlbGxpcHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gRWxsaXBzZSh4LCB5LCBoYWxmV2lkdGgsIGhhbGZIZWlnaHQpIHtcbiAgICAgICAgaWYgKHggPT09IHZvaWQgMCkgeyB4ID0gMDsgfVxuICAgICAgICBpZiAoeSA9PT0gdm9pZCAwKSB7IHkgPSAwOyB9XG4gICAgICAgIGlmIChoYWxmV2lkdGggPT09IHZvaWQgMCkgeyBoYWxmV2lkdGggPSAwOyB9XG4gICAgICAgIGlmIChoYWxmSGVpZ2h0ID09PSB2b2lkIDApIHsgaGFsZkhlaWdodCA9IDA7IH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy54ID0geDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy55ID0geTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy53aWR0aCA9IGhhbGZXaWR0aDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5oZWlnaHQgPSBoYWxmSGVpZ2h0O1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHR5cGUgb2YgdGhlIG9iamVjdCwgbWFpbmx5IHVzZWQgdG8gYXZvaWQgYGluc3RhbmNlb2ZgIGNoZWNrc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEByZWFkT25seVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLlNIQVBFUy5FTElQXG4gICAgICAgICAqIEBzZWUgUElYSS5TSEFQRVNcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudHlwZSA9IFNIQVBFUy5FTElQO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY2xvbmUgb2YgdGhpcyBFbGxpcHNlIGluc3RhbmNlXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkVsbGlwc2V9IGEgY29weSBvZiB0aGUgZWxsaXBzZVxuICAgICAqL1xuICAgIEVsbGlwc2UucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gbmV3IEVsbGlwc2UodGhpcy54LCB0aGlzLnksIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENoZWNrcyB3aGV0aGVyIHRoZSB4IGFuZCB5IGNvb3JkaW5hdGVzIGdpdmVuIGFyZSBjb250YWluZWQgd2l0aGluIHRoaXMgZWxsaXBzZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggLSBUaGUgWCBjb29yZGluYXRlIG9mIHRoZSBwb2ludCB0byB0ZXN0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgLSBUaGUgWSBjb29yZGluYXRlIG9mIHRoZSBwb2ludCB0byB0ZXN0XG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gV2hldGhlciB0aGUgeC95IGNvb3JkcyBhcmUgd2l0aGluIHRoaXMgZWxsaXBzZVxuICAgICAqL1xuICAgIEVsbGlwc2UucHJvdG90eXBlLmNvbnRhaW5zID0gZnVuY3Rpb24gKHgsIHkpIHtcbiAgICAgICAgaWYgKHRoaXMud2lkdGggPD0gMCB8fCB0aGlzLmhlaWdodCA8PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgLy8gbm9ybWFsaXplIHRoZSBjb29yZHMgdG8gYW4gZWxsaXBzZSB3aXRoIGNlbnRlciAwLDBcbiAgICAgICAgdmFyIG5vcm14ID0gKCh4IC0gdGhpcy54KSAvIHRoaXMud2lkdGgpO1xuICAgICAgICB2YXIgbm9ybXkgPSAoKHkgLSB0aGlzLnkpIC8gdGhpcy5oZWlnaHQpO1xuICAgICAgICBub3JteCAqPSBub3JteDtcbiAgICAgICAgbm9ybXkgKj0gbm9ybXk7XG4gICAgICAgIHJldHVybiAobm9ybXggKyBub3JteSA8PSAxKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGZyYW1pbmcgcmVjdGFuZ2xlIG9mIHRoZSBlbGxpcHNlIGFzIGEgUmVjdGFuZ2xlIG9iamVjdFxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5SZWN0YW5nbGV9IHRoZSBmcmFtaW5nIHJlY3RhbmdsZVxuICAgICAqL1xuICAgIEVsbGlwc2UucHJvdG90eXBlLmdldEJvdW5kcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBSZWN0YW5nbGUodGhpcy54IC0gdGhpcy53aWR0aCwgdGhpcy55IC0gdGhpcy5oZWlnaHQsIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KTtcbiAgICB9O1xuICAgIHJldHVybiBFbGxpcHNlO1xufSgpKTtcblxuLyoqXG4gKiBBIGNsYXNzIHRvIGRlZmluZSBhIHNoYXBlIHZpYSB1c2VyIGRlZmluZWQgY28tb3JpbmF0ZXMuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgUG9seWdvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuUG9pbnRbXXxudW1iZXJbXXxudW1iZXJbXVtdfSBwb2ludHMgLSBUaGlzIGNhbiBiZSBhbiBhcnJheSBvZiBQb2ludHNcbiAgICAgKiAgdGhhdCBmb3JtIHRoZSBwb2x5Z29uLCBhIGZsYXQgYXJyYXkgb2YgbnVtYmVycyB0aGF0IHdpbGwgYmUgaW50ZXJwcmV0ZWQgYXMgW3gseSwgeCx5LCAuLi5dLCBvclxuICAgICAqICB0aGUgYXJndW1lbnRzIHBhc3NlZCBjYW4gYmUgYWxsIHRoZSBwb2ludHMgb2YgdGhlIHBvbHlnb24gZS5nLlxuICAgICAqICBgbmV3IFBJWEkuUG9seWdvbihuZXcgUElYSS5Qb2ludCgpLCBuZXcgUElYSS5Qb2ludCgpLCAuLi4pYCwgb3IgdGhlIGFyZ3VtZW50cyBwYXNzZWQgY2FuIGJlIGZsYXRcbiAgICAgKiAgeCx5IHZhbHVlcyBlLmcuIGBuZXcgUG9seWdvbih4LHksIHgseSwgeCx5LCAuLi4pYCB3aGVyZSBgeGAgYW5kIGB5YCBhcmUgTnVtYmVycy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBQb2x5Z29uKCkge1xuICAgICAgICB2YXIgYXJndW1lbnRzJDEgPSBhcmd1bWVudHM7XG5cbiAgICAgICAgdmFyIHBvaW50cyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgcG9pbnRzW19pXSA9IGFyZ3VtZW50cyQxW19pXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShwb2ludHNbMF0pKSB7XG4gICAgICAgICAgICBwb2ludHMgPSBwb2ludHNbMF07XG4gICAgICAgIH1cbiAgICAgICAgLy8gaWYgdGhpcyBpcyBhbiBhcnJheSBvZiBwb2ludHMsIGNvbnZlcnQgaXQgdG8gYSBmbGF0IGFycmF5IG9mIG51bWJlcnNcbiAgICAgICAgaWYgKHBvaW50c1swXSBpbnN0YW5jZW9mIFBvaW50KSB7XG4gICAgICAgICAgICBwb2ludHMgPSBwb2ludHM7XG4gICAgICAgICAgICB2YXIgcCA9IFtdO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlsID0gcG9pbnRzLmxlbmd0aDsgaSA8IGlsOyBpKyspIHtcbiAgICAgICAgICAgICAgICBwLnB1c2gocG9pbnRzW2ldLngsIHBvaW50c1tpXS55KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBvaW50cyA9IHA7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFuIGFycmF5IG9mIHRoZSBwb2ludHMgb2YgdGhpcyBwb2x5Z29uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcltdfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5wb2ludHMgPSBwb2ludHM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdHlwZSBvZiB0aGUgb2JqZWN0LCBtYWlubHkgdXNlZCB0byBhdm9pZCBgaW5zdGFuY2VvZmAgY2hlY2tzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHJlYWRPbmx5XG4gICAgICAgICAqIEBkZWZhdWx0IFBJWEkuU0hBUEVTLlBPTFlcbiAgICAgICAgICogQHNlZSBQSVhJLlNIQVBFU1xuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50eXBlID0gU0hBUEVTLlBPTFk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBgZmFsc2VgIGFmdGVyIG1vdmVUbywgYHRydWVgIGFmdGVyIGBjbG9zZVBhdGhgLiBJbiBhbGwgb3RoZXIgY2FzZXMgaXQgaXMgYHRydWVgLlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCB0cnVlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNsb3NlU3Ryb2tlID0gdHJ1ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNsb25lIG9mIHRoaXMgcG9seWdvblxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5Qb2x5Z29ufSBhIGNvcHkgb2YgdGhlIHBvbHlnb25cbiAgICAgKi9cbiAgICBQb2x5Z29uLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHBvaW50cyA9IHRoaXMucG9pbnRzLnNsaWNlKCk7XG4gICAgICAgIHZhciBwb2x5Z29uID0gbmV3IFBvbHlnb24ocG9pbnRzKTtcbiAgICAgICAgcG9seWdvbi5jbG9zZVN0cm9rZSA9IHRoaXMuY2xvc2VTdHJva2U7XG4gICAgICAgIHJldHVybiBwb2x5Z29uO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2hlY2tzIHdoZXRoZXIgdGhlIHggYW5kIHkgY29vcmRpbmF0ZXMgcGFzc2VkIHRvIHRoaXMgZnVuY3Rpb24gYXJlIGNvbnRhaW5lZCB3aXRoaW4gdGhpcyBwb2x5Z29uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geCAtIFRoZSBYIGNvb3JkaW5hdGUgb2YgdGhlIHBvaW50IHRvIHRlc3RcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geSAtIFRoZSBZIGNvb3JkaW5hdGUgb2YgdGhlIHBvaW50IHRvIHRlc3RcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBXaGV0aGVyIHRoZSB4L3kgY29vcmRpbmF0ZXMgYXJlIHdpdGhpbiB0aGlzIHBvbHlnb25cbiAgICAgKi9cbiAgICBQb2x5Z29uLnByb3RvdHlwZS5jb250YWlucyA9IGZ1bmN0aW9uICh4LCB5KSB7XG4gICAgICAgIHZhciBpbnNpZGUgPSBmYWxzZTtcbiAgICAgICAgLy8gdXNlIHNvbWUgcmF5Y2FzdGluZyB0byB0ZXN0IGhpdHNcbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3N1YnN0YWNrL3BvaW50LWluLXBvbHlnb24vYmxvYi9tYXN0ZXIvaW5kZXguanNcbiAgICAgICAgdmFyIGxlbmd0aCA9IHRoaXMucG9pbnRzLmxlbmd0aCAvIDI7XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBqID0gbGVuZ3RoIC0gMTsgaSA8IGxlbmd0aDsgaiA9IGkrKykge1xuICAgICAgICAgICAgdmFyIHhpID0gdGhpcy5wb2ludHNbaSAqIDJdO1xuICAgICAgICAgICAgdmFyIHlpID0gdGhpcy5wb2ludHNbKGkgKiAyKSArIDFdO1xuICAgICAgICAgICAgdmFyIHhqID0gdGhpcy5wb2ludHNbaiAqIDJdO1xuICAgICAgICAgICAgdmFyIHlqID0gdGhpcy5wb2ludHNbKGogKiAyKSArIDFdO1xuICAgICAgICAgICAgdmFyIGludGVyc2VjdCA9ICgoeWkgPiB5KSAhPT0gKHlqID4geSkpICYmICh4IDwgKCh4aiAtIHhpKSAqICgoeSAtIHlpKSAvICh5aiAtIHlpKSkpICsgeGkpO1xuICAgICAgICAgICAgaWYgKGludGVyc2VjdCkge1xuICAgICAgICAgICAgICAgIGluc2lkZSA9ICFpbnNpZGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGluc2lkZTtcbiAgICB9O1xuICAgIHJldHVybiBQb2x5Z29uO1xufSgpKTtcblxuLyoqXG4gKiBUaGUgUm91bmRlZCBSZWN0YW5nbGUgb2JqZWN0IGlzIGFuIGFyZWEgdGhhdCBoYXMgbmljZSByb3VuZGVkIGNvcm5lcnMsIGFzIGluZGljYXRlZCBieSBpdHNcbiAqIHRvcC1sZWZ0IGNvcm5lciBwb2ludCAoeCwgeSkgYW5kIGJ5IGl0cyB3aWR0aCBhbmQgaXRzIGhlaWdodCBhbmQgaXRzIHJhZGl1cy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBSb3VuZGVkUmVjdGFuZ2xlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbeD0wXSAtIFRoZSBYIGNvb3JkaW5hdGUgb2YgdGhlIHVwcGVyLWxlZnQgY29ybmVyIG9mIHRoZSByb3VuZGVkIHJlY3RhbmdsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbeT0wXSAtIFRoZSBZIGNvb3JkaW5hdGUgb2YgdGhlIHVwcGVyLWxlZnQgY29ybmVyIG9mIHRoZSByb3VuZGVkIHJlY3RhbmdsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbd2lkdGg9MF0gLSBUaGUgb3ZlcmFsbCB3aWR0aCBvZiB0aGlzIHJvdW5kZWQgcmVjdGFuZ2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtoZWlnaHQ9MF0gLSBUaGUgb3ZlcmFsbCBoZWlnaHQgb2YgdGhpcyByb3VuZGVkIHJlY3RhbmdsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcmFkaXVzPTIwXSAtIENvbnRyb2xzIHRoZSByYWRpdXMgb2YgdGhlIHJvdW5kZWQgY29ybmVyc1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIFJvdW5kZWRSZWN0YW5nbGUoeCwgeSwgd2lkdGgsIGhlaWdodCwgcmFkaXVzKSB7XG4gICAgICAgIGlmICh4ID09PSB2b2lkIDApIHsgeCA9IDA7IH1cbiAgICAgICAgaWYgKHkgPT09IHZvaWQgMCkgeyB5ID0gMDsgfVxuICAgICAgICBpZiAod2lkdGggPT09IHZvaWQgMCkgeyB3aWR0aCA9IDA7IH1cbiAgICAgICAgaWYgKGhlaWdodCA9PT0gdm9pZCAwKSB7IGhlaWdodCA9IDA7IH1cbiAgICAgICAgaWYgKHJhZGl1cyA9PT0gdm9pZCAwKSB7IHJhZGl1cyA9IDIwOyB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMueCA9IHg7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMueSA9IHk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMud2lkdGggPSB3aWR0aDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDIwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJhZGl1cyA9IHJhZGl1cztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0eXBlIG9mIHRoZSBvYmplY3QsIG1haW5seSB1c2VkIHRvIGF2b2lkIGBpbnN0YW5jZW9mYCBjaGVja3NcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5TSEFQRVMuUlJFQ1xuICAgICAgICAgKiBAc2VlIFBJWEkuU0hBUEVTXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnR5cGUgPSBTSEFQRVMuUlJFQztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNsb25lIG9mIHRoaXMgUm91bmRlZCBSZWN0YW5nbGVcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuUm91bmRlZFJlY3RhbmdsZX0gYSBjb3B5IG9mIHRoZSByb3VuZGVkIHJlY3RhbmdsZVxuICAgICAqL1xuICAgIFJvdW5kZWRSZWN0YW5nbGUucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gbmV3IFJvdW5kZWRSZWN0YW5nbGUodGhpcy54LCB0aGlzLnksIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0LCB0aGlzLnJhZGl1cyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDaGVja3Mgd2hldGhlciB0aGUgeCBhbmQgeSBjb29yZGluYXRlcyBnaXZlbiBhcmUgY29udGFpbmVkIHdpdGhpbiB0aGlzIFJvdW5kZWQgUmVjdGFuZ2xlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geCAtIFRoZSBYIGNvb3JkaW5hdGUgb2YgdGhlIHBvaW50IHRvIHRlc3RcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geSAtIFRoZSBZIGNvb3JkaW5hdGUgb2YgdGhlIHBvaW50IHRvIHRlc3RcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBXaGV0aGVyIHRoZSB4L3kgY29vcmRpbmF0ZXMgYXJlIHdpdGhpbiB0aGlzIFJvdW5kZWQgUmVjdGFuZ2xlXG4gICAgICovXG4gICAgUm91bmRlZFJlY3RhbmdsZS5wcm90b3R5cGUuY29udGFpbnMgPSBmdW5jdGlvbiAoeCwgeSkge1xuICAgICAgICBpZiAodGhpcy53aWR0aCA8PSAwIHx8IHRoaXMuaGVpZ2h0IDw9IDApIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoeCA+PSB0aGlzLnggJiYgeCA8PSB0aGlzLnggKyB0aGlzLndpZHRoKSB7XG4gICAgICAgICAgICBpZiAoeSA+PSB0aGlzLnkgJiYgeSA8PSB0aGlzLnkgKyB0aGlzLmhlaWdodCkge1xuICAgICAgICAgICAgICAgIGlmICgoeSA+PSB0aGlzLnkgKyB0aGlzLnJhZGl1cyAmJiB5IDw9IHRoaXMueSArIHRoaXMuaGVpZ2h0IC0gdGhpcy5yYWRpdXMpXG4gICAgICAgICAgICAgICAgICAgIHx8ICh4ID49IHRoaXMueCArIHRoaXMucmFkaXVzICYmIHggPD0gdGhpcy54ICsgdGhpcy53aWR0aCAtIHRoaXMucmFkaXVzKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIGR4ID0geCAtICh0aGlzLnggKyB0aGlzLnJhZGl1cyk7XG4gICAgICAgICAgICAgICAgdmFyIGR5ID0geSAtICh0aGlzLnkgKyB0aGlzLnJhZGl1cyk7XG4gICAgICAgICAgICAgICAgdmFyIHJhZGl1czIgPSB0aGlzLnJhZGl1cyAqIHRoaXMucmFkaXVzO1xuICAgICAgICAgICAgICAgIGlmICgoZHggKiBkeCkgKyAoZHkgKiBkeSkgPD0gcmFkaXVzMikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZHggPSB4IC0gKHRoaXMueCArIHRoaXMud2lkdGggLSB0aGlzLnJhZGl1cyk7XG4gICAgICAgICAgICAgICAgaWYgKChkeCAqIGR4KSArIChkeSAqIGR5KSA8PSByYWRpdXMyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkeSA9IHkgLSAodGhpcy55ICsgdGhpcy5oZWlnaHQgLSB0aGlzLnJhZGl1cyk7XG4gICAgICAgICAgICAgICAgaWYgKChkeCAqIGR4KSArIChkeSAqIGR5KSA8PSByYWRpdXMyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkeCA9IHggLSAodGhpcy54ICsgdGhpcy5yYWRpdXMpO1xuICAgICAgICAgICAgICAgIGlmICgoZHggKiBkeCkgKyAoZHkgKiBkeSkgPD0gcmFkaXVzMikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG4gICAgcmV0dXJuIFJvdW5kZWRSZWN0YW5nbGU7XG59KCkpO1xuXG4vKipcbiAqIE1hdGggY2xhc3NlcyBhbmQgdXRpbGl0aWVzIG1peGVkIGludG8gUElYSSBuYW1lc3BhY2UuXG4gKlxuICogQGxlbmRzIFBJWElcbiAqL1xuXG5leHBvcnQgeyBDaXJjbGUsIERFR19UT19SQUQsIEVsbGlwc2UsIE1hdHJpeCwgT2JzZXJ2YWJsZVBvaW50LCBQSV8yLCBQb2ludCwgUG9seWdvbiwgUkFEX1RPX0RFRywgUmVjdGFuZ2xlLCBSb3VuZGVkUmVjdGFuZ2xlLCBTSEFQRVMsIFRyYW5zZm9ybSwgZ3JvdXBEOCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWF0aC5lcy5qcy5tYXBcbiIsIi8qIVxuICogQHBpeGkvZGlzcGxheSAtIHY1LjIuMFxuICogQ29tcGlsZWQgV2VkLCAwNiBOb3YgMjAxOSAwMjozMjo0MyBVVENcbiAqXG4gKiBAcGl4aS9kaXNwbGF5IGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgc2V0dGluZ3MgfSBmcm9tICdAcGl4aS9zZXR0aW5ncyc7XG5pbXBvcnQgeyBSZWN0YW5nbGUsIFJBRF9UT19ERUcsIERFR19UT19SQUQsIFRyYW5zZm9ybSB9IGZyb20gJ0BwaXhpL21hdGgnO1xuaW1wb3J0IHsgRXZlbnRFbWl0dGVyLCByZW1vdmVJdGVtcyB9IGZyb20gJ0BwaXhpL3V0aWxzJztcblxuLyoqXG4gKiBTZXRzIHRoZSBkZWZhdWx0IHZhbHVlIGZvciB0aGUgY29udGFpbmVyIHByb3BlcnR5ICdzb3J0YWJsZUNoaWxkcmVuJy5cbiAqIElmIHNldCB0byB0cnVlLCB0aGUgY29udGFpbmVyIHdpbGwgc29ydCBpdHMgY2hpbGRyZW4gYnkgekluZGV4IHZhbHVlXG4gKiB3aGVuIHVwZGF0ZVRyYW5zZm9ybSgpIGlzIGNhbGxlZCwgb3IgbWFudWFsbHkgaWYgc29ydENoaWxkcmVuKCkgaXMgY2FsbGVkLlxuICpcbiAqIFRoaXMgYWN0dWFsbHkgY2hhbmdlcyB0aGUgb3JkZXIgb2YgZWxlbWVudHMgaW4gdGhlIGFycmF5LCBzbyBzaG91bGQgYmUgdHJlYXRlZFxuICogYXMgYSBiYXNpYyBzb2x1dGlvbiB0aGF0IGlzIG5vdCBwZXJmb3JtYW50IGNvbXBhcmVkIHRvIG90aGVyIHNvbHV0aW9ucyxcbiAqIHN1Y2ggYXMgQGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL3BpeGlqcy9waXhpLWRpc3BsYXlcbiAqXG4gKiBBbHNvIGJlIGF3YXJlIG9mIHRoYXQgdGhpcyBtYXkgbm90IHdvcmsgbmljZWx5IHdpdGggdGhlIGFkZENoaWxkQXQoKSBmdW5jdGlvbixcbiAqIGFzIHRoZSB6SW5kZXggc29ydGluZyBtYXkgY2F1c2UgdGhlIGNoaWxkIHRvIGF1dG9tYXRpY2FsbHkgc29ydGVkIHRvIGFub3RoZXIgcG9zaXRpb24uXG4gKlxuICogQHN0YXRpY1xuICogQGNvbnN0YW50XG4gKiBAbmFtZSBTT1JUQUJMRV9DSElMRFJFTlxuICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAqIEB0eXBlIHtib29sZWFufVxuICogQGRlZmF1bHQgZmFsc2VcbiAqL1xuc2V0dGluZ3MuU09SVEFCTEVfQ0hJTERSRU4gPSBmYWxzZTtcblxuLyoqXG4gKiAnQnVpbGRlcicgcGF0dGVybiBmb3IgYm91bmRzIHJlY3RhbmdsZXMuXG4gKlxuICogVGhpcyBjb3VsZCBiZSBjYWxsZWQgYW4gQXhpcy1BbGlnbmVkIEJvdW5kaW5nIEJveC5cbiAqIEl0IGlzIG5vdCBhbiBhY3R1YWwgc2hhcGUuIEl0IGlzIGEgbXV0YWJsZSB0aGluZzsgbm8gJ0VNUFRZJyBvciB0aG9zZSBraW5kIG9mIHByb2JsZW1zLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEJvdW5kcyA9IGZ1bmN0aW9uIEJvdW5kcygpXG57XG4gICAgLyoqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDBcbiAgICAgKi9cbiAgICB0aGlzLm1pblggPSBJbmZpbml0eTtcblxuICAgIC8qKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAwXG4gICAgICovXG4gICAgdGhpcy5taW5ZID0gSW5maW5pdHk7XG5cbiAgICAvKipcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMFxuICAgICAqL1xuICAgIHRoaXMubWF4WCA9IC1JbmZpbml0eTtcblxuICAgIC8qKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAwXG4gICAgICovXG4gICAgdGhpcy5tYXhZID0gLUluZmluaXR5O1xuXG4gICAgdGhpcy5yZWN0ID0gbnVsbDtcbn07XG5cbi8qKlxuICogQ2hlY2tzIGlmIGJvdW5kcyBhcmUgZW1wdHkuXG4gKlxuICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiBlbXB0eS5cbiAqL1xuQm91bmRzLnByb3RvdHlwZS5pc0VtcHR5ID0gZnVuY3Rpb24gaXNFbXB0eSAoKVxue1xuICAgIHJldHVybiB0aGlzLm1pblggPiB0aGlzLm1heFggfHwgdGhpcy5taW5ZID4gdGhpcy5tYXhZO1xufTtcblxuLyoqXG4gKiBDbGVhcnMgdGhlIGJvdW5kcyBhbmQgcmVzZXRzLlxuICpcbiAqL1xuQm91bmRzLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uIGNsZWFyICgpXG57XG4gICAgdGhpcy51cGRhdGVJRCsrO1xuXG4gICAgdGhpcy5taW5YID0gSW5maW5pdHk7XG4gICAgdGhpcy5taW5ZID0gSW5maW5pdHk7XG4gICAgdGhpcy5tYXhYID0gLUluZmluaXR5O1xuICAgIHRoaXMubWF4WSA9IC1JbmZpbml0eTtcbn07XG5cbi8qKlxuICogQ2FuIHJldHVybiBSZWN0YW5nbGUuRU1QVFkgY29uc3RhbnQsIGVpdGhlciBjb25zdHJ1Y3QgbmV3IHJlY3RhbmdsZSwgZWl0aGVyIHVzZSB5b3VyIHJlY3RhbmdsZVxuICogSXQgaXMgbm90IGd1YXJhbnRlZWQgdGhhdCBpdCB3aWxsIHJldHVybiB0ZW1wUmVjdFxuICpcbiAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IHJlY3QgLSB0ZW1wb3Jhcnkgb2JqZWN0IHdpbGwgYmUgdXNlZCBpZiBBQUJCIGlzIG5vdCBlbXB0eVxuICogQHJldHVybnMge1BJWEkuUmVjdGFuZ2xlfSBBIHJlY3RhbmdsZSBvZiB0aGUgYm91bmRzXG4gKi9cbkJvdW5kcy5wcm90b3R5cGUuZ2V0UmVjdGFuZ2xlID0gZnVuY3Rpb24gZ2V0UmVjdGFuZ2xlIChyZWN0KVxue1xuICAgIGlmICh0aGlzLm1pblggPiB0aGlzLm1heFggfHwgdGhpcy5taW5ZID4gdGhpcy5tYXhZKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIFJlY3RhbmdsZS5FTVBUWTtcbiAgICB9XG5cbiAgICByZWN0ID0gcmVjdCB8fCBuZXcgUmVjdGFuZ2xlKDAsIDAsIDEsIDEpO1xuXG4gICAgcmVjdC54ID0gdGhpcy5taW5YO1xuICAgIHJlY3QueSA9IHRoaXMubWluWTtcbiAgICByZWN0LndpZHRoID0gdGhpcy5tYXhYIC0gdGhpcy5taW5YO1xuICAgIHJlY3QuaGVpZ2h0ID0gdGhpcy5tYXhZIC0gdGhpcy5taW5ZO1xuXG4gICAgcmV0dXJuIHJlY3Q7XG59O1xuXG4vKipcbiAqIFRoaXMgZnVuY3Rpb24gc2hvdWxkIGJlIGlubGluZWQgd2hlbiBpdHMgcG9zc2libGUuXG4gKlxuICogQHBhcmFtIHtQSVhJLlBvaW50fSBwb2ludCAtIFRoZSBwb2ludCB0byBhZGQuXG4gKi9cbkJvdW5kcy5wcm90b3R5cGUuYWRkUG9pbnQgPSBmdW5jdGlvbiBhZGRQb2ludCAocG9pbnQpXG57XG4gICAgdGhpcy5taW5YID0gTWF0aC5taW4odGhpcy5taW5YLCBwb2ludC54KTtcbiAgICB0aGlzLm1heFggPSBNYXRoLm1heCh0aGlzLm1heFgsIHBvaW50LngpO1xuICAgIHRoaXMubWluWSA9IE1hdGgubWluKHRoaXMubWluWSwgcG9pbnQueSk7XG4gICAgdGhpcy5tYXhZID0gTWF0aC5tYXgodGhpcy5tYXhZLCBwb2ludC55KTtcbn07XG5cbi8qKlxuICogQWRkcyBhIHF1YWQsIG5vdCB0cmFuc2Zvcm1lZFxuICpcbiAqIEBwYXJhbSB7RmxvYXQzMkFycmF5fSB2ZXJ0aWNlcyAtIFRoZSB2ZXJ0cyB0byBhZGQuXG4gKi9cbkJvdW5kcy5wcm90b3R5cGUuYWRkUXVhZCA9IGZ1bmN0aW9uIGFkZFF1YWQgKHZlcnRpY2VzKVxue1xuICAgIHZhciBtaW5YID0gdGhpcy5taW5YO1xuICAgIHZhciBtaW5ZID0gdGhpcy5taW5ZO1xuICAgIHZhciBtYXhYID0gdGhpcy5tYXhYO1xuICAgIHZhciBtYXhZID0gdGhpcy5tYXhZO1xuXG4gICAgdmFyIHggPSB2ZXJ0aWNlc1swXTtcbiAgICB2YXIgeSA9IHZlcnRpY2VzWzFdO1xuXG4gICAgbWluWCA9IHggPCBtaW5YID8geCA6IG1pblg7XG4gICAgbWluWSA9IHkgPCBtaW5ZID8geSA6IG1pblk7XG4gICAgbWF4WCA9IHggPiBtYXhYID8geCA6IG1heFg7XG4gICAgbWF4WSA9IHkgPiBtYXhZID8geSA6IG1heFk7XG5cbiAgICB4ID0gdmVydGljZXNbMl07XG4gICAgeSA9IHZlcnRpY2VzWzNdO1xuICAgIG1pblggPSB4IDwgbWluWCA/IHggOiBtaW5YO1xuICAgIG1pblkgPSB5IDwgbWluWSA/IHkgOiBtaW5ZO1xuICAgIG1heFggPSB4ID4gbWF4WCA/IHggOiBtYXhYO1xuICAgIG1heFkgPSB5ID4gbWF4WSA/IHkgOiBtYXhZO1xuXG4gICAgeCA9IHZlcnRpY2VzWzRdO1xuICAgIHkgPSB2ZXJ0aWNlc1s1XTtcbiAgICBtaW5YID0geCA8IG1pblggPyB4IDogbWluWDtcbiAgICBtaW5ZID0geSA8IG1pblkgPyB5IDogbWluWTtcbiAgICBtYXhYID0geCA+IG1heFggPyB4IDogbWF4WDtcbiAgICBtYXhZID0geSA+IG1heFkgPyB5IDogbWF4WTtcblxuICAgIHggPSB2ZXJ0aWNlc1s2XTtcbiAgICB5ID0gdmVydGljZXNbN107XG4gICAgbWluWCA9IHggPCBtaW5YID8geCA6IG1pblg7XG4gICAgbWluWSA9IHkgPCBtaW5ZID8geSA6IG1pblk7XG4gICAgbWF4WCA9IHggPiBtYXhYID8geCA6IG1heFg7XG4gICAgbWF4WSA9IHkgPiBtYXhZID8geSA6IG1heFk7XG5cbiAgICB0aGlzLm1pblggPSBtaW5YO1xuICAgIHRoaXMubWluWSA9IG1pblk7XG4gICAgdGhpcy5tYXhYID0gbWF4WDtcbiAgICB0aGlzLm1heFkgPSBtYXhZO1xufTtcblxuLyoqXG4gKiBBZGRzIHNwcml0ZSBmcmFtZSwgdHJhbnNmb3JtZWQuXG4gKlxuICogQHBhcmFtIHtQSVhJLlRyYW5zZm9ybX0gdHJhbnNmb3JtIC0gdHJhbnNmb3JtIHRvIGFwcGx5XG4gKiBAcGFyYW0ge251bWJlcn0geDAgLSBsZWZ0IFggb2YgZnJhbWVcbiAqIEBwYXJhbSB7bnVtYmVyfSB5MCAtIHRvcCBZIG9mIGZyYW1lXG4gKiBAcGFyYW0ge251bWJlcn0geDEgLSByaWdodCBYIG9mIGZyYW1lXG4gKiBAcGFyYW0ge251bWJlcn0geTEgLSBib3R0b20gWSBvZiBmcmFtZVxuICovXG5Cb3VuZHMucHJvdG90eXBlLmFkZEZyYW1lID0gZnVuY3Rpb24gYWRkRnJhbWUgKHRyYW5zZm9ybSwgeDAsIHkwLCB4MSwgeTEpXG57XG4gICAgdGhpcy5hZGRGcmFtZU1hdHJpeCh0cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm0sIHgwLCB5MCwgeDEsIHkxKTtcbn07XG5cbi8qKlxuICogQWRkcyBzcHJpdGUgZnJhbWUsIG11bHRpcGxpZWQgYnkgbWF0cml4XG4gKlxuICogQHBhcmFtIHtQSVhJLk1hdHJpeH0gbWF0cml4IC0gbWF0cml4IHRvIGFwcGx5XG4gKiBAcGFyYW0ge251bWJlcn0geDAgLSBsZWZ0IFggb2YgZnJhbWVcbiAqIEBwYXJhbSB7bnVtYmVyfSB5MCAtIHRvcCBZIG9mIGZyYW1lXG4gKiBAcGFyYW0ge251bWJlcn0geDEgLSByaWdodCBYIG9mIGZyYW1lXG4gKiBAcGFyYW0ge251bWJlcn0geTEgLSBib3R0b20gWSBvZiBmcmFtZVxuICovXG5Cb3VuZHMucHJvdG90eXBlLmFkZEZyYW1lTWF0cml4ID0gZnVuY3Rpb24gYWRkRnJhbWVNYXRyaXggKG1hdHJpeCwgeDAsIHkwLCB4MSwgeTEpXG57XG4gICAgdmFyIGEgPSBtYXRyaXguYTtcbiAgICB2YXIgYiA9IG1hdHJpeC5iO1xuICAgIHZhciBjID0gbWF0cml4LmM7XG4gICAgdmFyIGQgPSBtYXRyaXguZDtcbiAgICB2YXIgdHggPSBtYXRyaXgudHg7XG4gICAgdmFyIHR5ID0gbWF0cml4LnR5O1xuXG4gICAgdmFyIG1pblggPSB0aGlzLm1pblg7XG4gICAgdmFyIG1pblkgPSB0aGlzLm1pblk7XG4gICAgdmFyIG1heFggPSB0aGlzLm1heFg7XG4gICAgdmFyIG1heFkgPSB0aGlzLm1heFk7XG5cbiAgICB2YXIgeCA9IChhICogeDApICsgKGMgKiB5MCkgKyB0eDtcbiAgICB2YXIgeSA9IChiICogeDApICsgKGQgKiB5MCkgKyB0eTtcblxuICAgIG1pblggPSB4IDwgbWluWCA/IHggOiBtaW5YO1xuICAgIG1pblkgPSB5IDwgbWluWSA/IHkgOiBtaW5ZO1xuICAgIG1heFggPSB4ID4gbWF4WCA/IHggOiBtYXhYO1xuICAgIG1heFkgPSB5ID4gbWF4WSA/IHkgOiBtYXhZO1xuXG4gICAgeCA9IChhICogeDEpICsgKGMgKiB5MCkgKyB0eDtcbiAgICB5ID0gKGIgKiB4MSkgKyAoZCAqIHkwKSArIHR5O1xuICAgIG1pblggPSB4IDwgbWluWCA/IHggOiBtaW5YO1xuICAgIG1pblkgPSB5IDwgbWluWSA/IHkgOiBtaW5ZO1xuICAgIG1heFggPSB4ID4gbWF4WCA/IHggOiBtYXhYO1xuICAgIG1heFkgPSB5ID4gbWF4WSA/IHkgOiBtYXhZO1xuXG4gICAgeCA9IChhICogeDApICsgKGMgKiB5MSkgKyB0eDtcbiAgICB5ID0gKGIgKiB4MCkgKyAoZCAqIHkxKSArIHR5O1xuICAgIG1pblggPSB4IDwgbWluWCA/IHggOiBtaW5YO1xuICAgIG1pblkgPSB5IDwgbWluWSA/IHkgOiBtaW5ZO1xuICAgIG1heFggPSB4ID4gbWF4WCA/IHggOiBtYXhYO1xuICAgIG1heFkgPSB5ID4gbWF4WSA/IHkgOiBtYXhZO1xuXG4gICAgeCA9IChhICogeDEpICsgKGMgKiB5MSkgKyB0eDtcbiAgICB5ID0gKGIgKiB4MSkgKyAoZCAqIHkxKSArIHR5O1xuICAgIG1pblggPSB4IDwgbWluWCA/IHggOiBtaW5YO1xuICAgIG1pblkgPSB5IDwgbWluWSA/IHkgOiBtaW5ZO1xuICAgIG1heFggPSB4ID4gbWF4WCA/IHggOiBtYXhYO1xuICAgIG1heFkgPSB5ID4gbWF4WSA/IHkgOiBtYXhZO1xuXG4gICAgdGhpcy5taW5YID0gbWluWDtcbiAgICB0aGlzLm1pblkgPSBtaW5ZO1xuICAgIHRoaXMubWF4WCA9IG1heFg7XG4gICAgdGhpcy5tYXhZID0gbWF4WTtcbn07XG5cbi8qKlxuICogQWRkcyBzY3JlZW4gdmVydGljZXMgZnJvbSBhcnJheVxuICpcbiAqIEBwYXJhbSB7RmxvYXQzMkFycmF5fSB2ZXJ0ZXhEYXRhIC0gY2FsY3VsYXRlZCB2ZXJ0aWNlc1xuICogQHBhcmFtIHtudW1iZXJ9IGJlZ2luT2Zmc2V0IC0gYmVnaW4gb2Zmc2V0XG4gKiBAcGFyYW0ge251bWJlcn0gZW5kT2Zmc2V0IC0gZW5kIG9mZnNldCwgZXhjbHVkZWRcbiAqL1xuQm91bmRzLnByb3RvdHlwZS5hZGRWZXJ0ZXhEYXRhID0gZnVuY3Rpb24gYWRkVmVydGV4RGF0YSAodmVydGV4RGF0YSwgYmVnaW5PZmZzZXQsIGVuZE9mZnNldClcbntcbiAgICB2YXIgbWluWCA9IHRoaXMubWluWDtcbiAgICB2YXIgbWluWSA9IHRoaXMubWluWTtcbiAgICB2YXIgbWF4WCA9IHRoaXMubWF4WDtcbiAgICB2YXIgbWF4WSA9IHRoaXMubWF4WTtcblxuICAgIGZvciAodmFyIGkgPSBiZWdpbk9mZnNldDsgaSA8IGVuZE9mZnNldDsgaSArPSAyKVxuICAgIHtcbiAgICAgICAgdmFyIHggPSB2ZXJ0ZXhEYXRhW2ldO1xuICAgICAgICB2YXIgeSA9IHZlcnRleERhdGFbaSArIDFdO1xuXG4gICAgICAgIG1pblggPSB4IDwgbWluWCA/IHggOiBtaW5YO1xuICAgICAgICBtaW5ZID0geSA8IG1pblkgPyB5IDogbWluWTtcbiAgICAgICAgbWF4WCA9IHggPiBtYXhYID8geCA6IG1heFg7XG4gICAgICAgIG1heFkgPSB5ID4gbWF4WSA/IHkgOiBtYXhZO1xuICAgIH1cblxuICAgIHRoaXMubWluWCA9IG1pblg7XG4gICAgdGhpcy5taW5ZID0gbWluWTtcbiAgICB0aGlzLm1heFggPSBtYXhYO1xuICAgIHRoaXMubWF4WSA9IG1heFk7XG59O1xuXG4vKipcbiAqIEFkZCBhbiBhcnJheSBvZiBtZXNoIHZlcnRpY2VzXG4gKlxuICogQHBhcmFtIHtQSVhJLlRyYW5zZm9ybX0gdHJhbnNmb3JtIC0gbWVzaCB0cmFuc2Zvcm1cbiAqIEBwYXJhbSB7RmxvYXQzMkFycmF5fSB2ZXJ0aWNlcyAtIG1lc2ggY29vcmRpbmF0ZXMgaW4gYXJyYXlcbiAqIEBwYXJhbSB7bnVtYmVyfSBiZWdpbk9mZnNldCAtIGJlZ2luIG9mZnNldFxuICogQHBhcmFtIHtudW1iZXJ9IGVuZE9mZnNldCAtIGVuZCBvZmZzZXQsIGV4Y2x1ZGVkXG4gKi9cbkJvdW5kcy5wcm90b3R5cGUuYWRkVmVydGljZXMgPSBmdW5jdGlvbiBhZGRWZXJ0aWNlcyAodHJhbnNmb3JtLCB2ZXJ0aWNlcywgYmVnaW5PZmZzZXQsIGVuZE9mZnNldClcbntcbiAgICB0aGlzLmFkZFZlcnRpY2VzTWF0cml4KHRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybSwgdmVydGljZXMsIGJlZ2luT2Zmc2V0LCBlbmRPZmZzZXQpO1xufTtcblxuLyoqXG4gKiBBZGQgYW4gYXJyYXkgb2YgbWVzaCB2ZXJ0aWNlc1xuICpcbiAqIEBwYXJhbSB7UElYSS5NYXRyaXh9IG1hdHJpeCAtIG1lc2ggbWF0cml4XG4gKiBAcGFyYW0ge0Zsb2F0MzJBcnJheX0gdmVydGljZXMgLSBtZXNoIGNvb3JkaW5hdGVzIGluIGFycmF5XG4gKiBAcGFyYW0ge251bWJlcn0gYmVnaW5PZmZzZXQgLSBiZWdpbiBvZmZzZXRcbiAqIEBwYXJhbSB7bnVtYmVyfSBlbmRPZmZzZXQgLSBlbmQgb2Zmc2V0LCBleGNsdWRlZFxuICogQHBhcmFtIHtudW1iZXJ9IFtwYWRYXSAtIHggcGFkZGluZ1xuICogQHBhcmFtIHtudW1iZXJ9IFtwYWRZXSAtIHkgcGFkZGluZ1xuICovXG5Cb3VuZHMucHJvdG90eXBlLmFkZFZlcnRpY2VzTWF0cml4ID0gZnVuY3Rpb24gYWRkVmVydGljZXNNYXRyaXggKG1hdHJpeCwgdmVydGljZXMsIGJlZ2luT2Zmc2V0LCBlbmRPZmZzZXQsIHBhZFgsIHBhZFkpXG57XG4gICAgdmFyIGEgPSBtYXRyaXguYTtcbiAgICB2YXIgYiA9IG1hdHJpeC5iO1xuICAgIHZhciBjID0gbWF0cml4LmM7XG4gICAgdmFyIGQgPSBtYXRyaXguZDtcbiAgICB2YXIgdHggPSBtYXRyaXgudHg7XG4gICAgdmFyIHR5ID0gbWF0cml4LnR5O1xuXG4gICAgcGFkWCA9IHBhZFggfHwgMDtcbiAgICBwYWRZID0gcGFkWSB8fCAwO1xuXG4gICAgdmFyIG1pblggPSB0aGlzLm1pblg7XG4gICAgdmFyIG1pblkgPSB0aGlzLm1pblk7XG4gICAgdmFyIG1heFggPSB0aGlzLm1heFg7XG4gICAgdmFyIG1heFkgPSB0aGlzLm1heFk7XG5cbiAgICBmb3IgKHZhciBpID0gYmVnaW5PZmZzZXQ7IGkgPCBlbmRPZmZzZXQ7IGkgKz0gMilcbiAgICB7XG4gICAgICAgIHZhciByYXdYID0gdmVydGljZXNbaV07XG4gICAgICAgIHZhciByYXdZID0gdmVydGljZXNbaSArIDFdO1xuICAgICAgICB2YXIgeCA9IChhICogcmF3WCkgKyAoYyAqIHJhd1kpICsgdHg7XG4gICAgICAgIHZhciB5ID0gKGQgKiByYXdZKSArIChiICogcmF3WCkgKyB0eTtcblxuICAgICAgICBtaW5YID0gTWF0aC5taW4obWluWCwgeCAtIHBhZFgpO1xuICAgICAgICBtYXhYID0gTWF0aC5tYXgobWF4WCwgeCArIHBhZFgpO1xuICAgICAgICBtaW5ZID0gTWF0aC5taW4obWluWSwgeSAtIHBhZFkpO1xuICAgICAgICBtYXhZID0gTWF0aC5tYXgobWF4WSwgeSArIHBhZFkpO1xuICAgIH1cblxuICAgIHRoaXMubWluWCA9IG1pblg7XG4gICAgdGhpcy5taW5ZID0gbWluWTtcbiAgICB0aGlzLm1heFggPSBtYXhYO1xuICAgIHRoaXMubWF4WSA9IG1heFk7XG59O1xuXG4vKipcbiAqIEFkZHMgb3RoZXIgQm91bmRzXG4gKlxuICogQHBhcmFtIHtQSVhJLkJvdW5kc30gYm91bmRzIC0gVE9ET1xuICovXG5Cb3VuZHMucHJvdG90eXBlLmFkZEJvdW5kcyA9IGZ1bmN0aW9uIGFkZEJvdW5kcyAoYm91bmRzKVxue1xuICAgIHZhciBtaW5YID0gdGhpcy5taW5YO1xuICAgIHZhciBtaW5ZID0gdGhpcy5taW5ZO1xuICAgIHZhciBtYXhYID0gdGhpcy5tYXhYO1xuICAgIHZhciBtYXhZID0gdGhpcy5tYXhZO1xuXG4gICAgdGhpcy5taW5YID0gYm91bmRzLm1pblggPCBtaW5YID8gYm91bmRzLm1pblggOiBtaW5YO1xuICAgIHRoaXMubWluWSA9IGJvdW5kcy5taW5ZIDwgbWluWSA/IGJvdW5kcy5taW5ZIDogbWluWTtcbiAgICB0aGlzLm1heFggPSBib3VuZHMubWF4WCA+IG1heFggPyBib3VuZHMubWF4WCA6IG1heFg7XG4gICAgdGhpcy5tYXhZID0gYm91bmRzLm1heFkgPiBtYXhZID8gYm91bmRzLm1heFkgOiBtYXhZO1xufTtcblxuLyoqXG4gKiBBZGRzIG90aGVyIEJvdW5kcywgbWFza2VkIHdpdGggQm91bmRzXG4gKlxuICogQHBhcmFtIHtQSVhJLkJvdW5kc30gYm91bmRzIC0gVE9ET1xuICogQHBhcmFtIHtQSVhJLkJvdW5kc30gbWFzayAtIFRPRE9cbiAqL1xuQm91bmRzLnByb3RvdHlwZS5hZGRCb3VuZHNNYXNrID0gZnVuY3Rpb24gYWRkQm91bmRzTWFzayAoYm91bmRzLCBtYXNrKVxue1xuICAgIHZhciBfbWluWCA9IGJvdW5kcy5taW5YID4gbWFzay5taW5YID8gYm91bmRzLm1pblggOiBtYXNrLm1pblg7XG4gICAgdmFyIF9taW5ZID0gYm91bmRzLm1pblkgPiBtYXNrLm1pblkgPyBib3VuZHMubWluWSA6IG1hc2subWluWTtcbiAgICB2YXIgX21heFggPSBib3VuZHMubWF4WCA8IG1hc2subWF4WCA/IGJvdW5kcy5tYXhYIDogbWFzay5tYXhYO1xuICAgIHZhciBfbWF4WSA9IGJvdW5kcy5tYXhZIDwgbWFzay5tYXhZID8gYm91bmRzLm1heFkgOiBtYXNrLm1heFk7XG5cbiAgICBpZiAoX21pblggPD0gX21heFggJiYgX21pblkgPD0gX21heFkpXG4gICAge1xuICAgICAgICB2YXIgbWluWCA9IHRoaXMubWluWDtcbiAgICAgICAgdmFyIG1pblkgPSB0aGlzLm1pblk7XG4gICAgICAgIHZhciBtYXhYID0gdGhpcy5tYXhYO1xuICAgICAgICB2YXIgbWF4WSA9IHRoaXMubWF4WTtcblxuICAgICAgICB0aGlzLm1pblggPSBfbWluWCA8IG1pblggPyBfbWluWCA6IG1pblg7XG4gICAgICAgIHRoaXMubWluWSA9IF9taW5ZIDwgbWluWSA/IF9taW5ZIDogbWluWTtcbiAgICAgICAgdGhpcy5tYXhYID0gX21heFggPiBtYXhYID8gX21heFggOiBtYXhYO1xuICAgICAgICB0aGlzLm1heFkgPSBfbWF4WSA+IG1heFkgPyBfbWF4WSA6IG1heFk7XG4gICAgfVxufTtcblxuLyoqXG4gKiBBZGRzIG90aGVyIEJvdW5kcywgbXVsdGlwbGllZCBieSBtYXRyaXguIEJvdW5kcyBzaG91bGRuJ3QgYmUgZW1wdHlcbiAqXG4gKiBAcGFyYW0ge1BJWEkuQm91bmRzfSBib3VuZHMgb3RoZXIgYm91bmRzXG4gKiBAcGFyYW0ge1BJWEkuTWF0cml4fSBtYXRyaXggbXVsdGlwbGljYXRvclxuICovXG5Cb3VuZHMucHJvdG90eXBlLmFkZEJvdW5kc01hdHJpeCA9IGZ1bmN0aW9uIGFkZEJvdW5kc01hdHJpeCAoYm91bmRzLCBtYXRyaXgpXG57XG4gICAgdGhpcy5hZGRGcmFtZU1hdHJpeChtYXRyaXgsIGJvdW5kcy5taW5YLCBib3VuZHMubWluWSwgYm91bmRzLm1heFgsIGJvdW5kcy5tYXhZKTtcbn07XG5cbi8qKlxuICogQWRkcyBvdGhlciBCb3VuZHMsIG1hc2tlZCB3aXRoIFJlY3RhbmdsZVxuICpcbiAqIEBwYXJhbSB7UElYSS5Cb3VuZHN9IGJvdW5kcyAtIFRPRE9cbiAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IGFyZWEgLSBUT0RPXG4gKi9cbkJvdW5kcy5wcm90b3R5cGUuYWRkQm91bmRzQXJlYSA9IGZ1bmN0aW9uIGFkZEJvdW5kc0FyZWEgKGJvdW5kcywgYXJlYSlcbntcbiAgICB2YXIgX21pblggPSBib3VuZHMubWluWCA+IGFyZWEueCA/IGJvdW5kcy5taW5YIDogYXJlYS54O1xuICAgIHZhciBfbWluWSA9IGJvdW5kcy5taW5ZID4gYXJlYS55ID8gYm91bmRzLm1pblkgOiBhcmVhLnk7XG4gICAgdmFyIF9tYXhYID0gYm91bmRzLm1heFggPCBhcmVhLnggKyBhcmVhLndpZHRoID8gYm91bmRzLm1heFggOiAoYXJlYS54ICsgYXJlYS53aWR0aCk7XG4gICAgdmFyIF9tYXhZID0gYm91bmRzLm1heFkgPCBhcmVhLnkgKyBhcmVhLmhlaWdodCA/IGJvdW5kcy5tYXhZIDogKGFyZWEueSArIGFyZWEuaGVpZ2h0KTtcblxuICAgIGlmIChfbWluWCA8PSBfbWF4WCAmJiBfbWluWSA8PSBfbWF4WSlcbiAgICB7XG4gICAgICAgIHZhciBtaW5YID0gdGhpcy5taW5YO1xuICAgICAgICB2YXIgbWluWSA9IHRoaXMubWluWTtcbiAgICAgICAgdmFyIG1heFggPSB0aGlzLm1heFg7XG4gICAgICAgIHZhciBtYXhZID0gdGhpcy5tYXhZO1xuXG4gICAgICAgIHRoaXMubWluWCA9IF9taW5YIDwgbWluWCA/IF9taW5YIDogbWluWDtcbiAgICAgICAgdGhpcy5taW5ZID0gX21pblkgPCBtaW5ZID8gX21pblkgOiBtaW5ZO1xuICAgICAgICB0aGlzLm1heFggPSBfbWF4WCA+IG1heFggPyBfbWF4WCA6IG1heFg7XG4gICAgICAgIHRoaXMubWF4WSA9IF9tYXhZID4gbWF4WSA/IF9tYXhZIDogbWF4WTtcbiAgICB9XG59O1xuXG4vKipcbiAqIFBhZHMgYm91bmRzIG9iamVjdCwgbWFraW5nIGl0IGdyb3cgaW4gYWxsIGRpcmVjdGlvbnMuXG4gKiBJZiBwYWRkaW5nWSBpcyBvbWl0dGVkLCBib3RoIHBhZGRpbmdYIGFuZCBwYWRkaW5nWSB3aWxsIGJlIHNldCB0byBwYWRkaW5nWC5cbiAqXG4gKiBAcGFyYW0ge251bWJlcn0gW3BhZGRpbmdYPTBdIC0gVGhlIGhvcml6b250YWwgcGFkZGluZyBhbW91bnQuXG4gKiBAcGFyYW0ge251bWJlcn0gW3BhZGRpbmdZPTBdIC0gVGhlIHZlcnRpY2FsIHBhZGRpbmcgYW1vdW50LlxuICovXG5Cb3VuZHMucHJvdG90eXBlLnBhZCA9IGZ1bmN0aW9uIHBhZCAocGFkZGluZ1gsIHBhZGRpbmdZKVxue1xuICAgIHBhZGRpbmdYID0gcGFkZGluZ1ggfHwgMDtcbiAgICBwYWRkaW5nWSA9IHBhZGRpbmdZIHx8ICgocGFkZGluZ1kgIT09IDApID8gcGFkZGluZ1ggOiAwKTtcblxuICAgIGlmICghdGhpcy5pc0VtcHR5KCkpXG4gICAge1xuICAgICAgICB0aGlzLm1pblggLT0gcGFkZGluZ1g7XG4gICAgICAgIHRoaXMubWF4WCArPSBwYWRkaW5nWDtcbiAgICAgICAgdGhpcy5taW5ZIC09IHBhZGRpbmdZO1xuICAgICAgICB0aGlzLm1heFkgKz0gcGFkZGluZ1k7XG4gICAgfVxufTtcblxuLyoqXG4gKiBBZGRzIHBhZGRlZCBmcmFtZS4gKHgwLCB5MCkgc2hvdWxkIGJlIHN0cmljdGx5IGxlc3MgdGhhbiAoeDEsIHkxKVxuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSB4MCAtIGxlZnQgWCBvZiBmcmFtZVxuICogQHBhcmFtIHtudW1iZXJ9IHkwIC0gdG9wIFkgb2YgZnJhbWVcbiAqIEBwYXJhbSB7bnVtYmVyfSB4MSAtIHJpZ2h0IFggb2YgZnJhbWVcbiAqIEBwYXJhbSB7bnVtYmVyfSB5MSAtIGJvdHRvbSBZIG9mIGZyYW1lXG4gKiBAcGFyYW0ge251bWJlcn0gcGFkWCAtIHBhZGRpbmcgWFxuICogQHBhcmFtIHtudW1iZXJ9IHBhZFkgLSBwYWRkaW5nIFlcbiAqL1xuQm91bmRzLnByb3RvdHlwZS5hZGRGcmFtZVBhZCA9IGZ1bmN0aW9uIGFkZEZyYW1lUGFkICh4MCwgeTAsIHgxLCB5MSwgcGFkWCwgcGFkWSlcbntcbiAgICB4MCAtPSBwYWRYO1xuICAgIHkwIC09IHBhZFk7XG4gICAgeDEgKz0gcGFkWDtcbiAgICB5MSArPSBwYWRZO1xuXG4gICAgdGhpcy5taW5YID0gdGhpcy5taW5YIDwgeDAgPyB0aGlzLm1pblggOiB4MDtcbiAgICB0aGlzLm1heFggPSB0aGlzLm1heFggPiB4MSA/IHRoaXMubWF4WCA6IHgxO1xuICAgIHRoaXMubWluWSA9IHRoaXMubWluWSA8IHkwID8gdGhpcy5taW5ZIDogeTA7XG4gICAgdGhpcy5tYXhZID0gdGhpcy5tYXhZID4geTEgPyB0aGlzLm1heFkgOiB5MTtcbn07XG5cbi8vIF90ZW1wRGlzcGxheU9iamVjdFBhcmVudCA9IG5ldyBEaXNwbGF5T2JqZWN0KCk7XG5cbi8qKlxuICogVGhlIGJhc2UgY2xhc3MgZm9yIGFsbCBvYmplY3RzIHRoYXQgYXJlIHJlbmRlcmVkIG9uIHRoZSBzY3JlZW4uXG4gKlxuICogVGhpcyBpcyBhbiBhYnN0cmFjdCBjbGFzcyBhbmQgc2hvdWxkIG5vdCBiZSB1c2VkIG9uIGl0cyBvd247IHJhdGhlciBpdCBzaG91bGQgYmUgZXh0ZW5kZWQuXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLnV0aWxzLkV2ZW50RW1pdHRlclxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIERpc3BsYXlPYmplY3QgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChFdmVudEVtaXR0ZXIpIHtcbiAgICBmdW5jdGlvbiBEaXNwbGF5T2JqZWN0KClcbiAgICB7XG4gICAgICAgIEV2ZW50RW1pdHRlci5jYWxsKHRoaXMpO1xuXG4gICAgICAgIHRoaXMudGVtcERpc3BsYXlPYmplY3RQYXJlbnQgPSBudWxsO1xuXG4gICAgICAgIC8vIFRPRE86IG5lZWQgdG8gY3JlYXRlIFRyYW5zZm9ybSBmcm9tIGZhY3RvcnlcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdvcmxkIHRyYW5zZm9ybSBhbmQgbG9jYWwgdHJhbnNmb3JtIG9mIHRoaXMgb2JqZWN0LlxuICAgICAgICAgKiBUaGlzIHdpbGwgYmVjb21lIHJlYWQtb25seSBsYXRlciwgcGxlYXNlIGRvIG5vdCBhc3NpZ24gYW55dGhpbmcgdGhlcmUgdW5sZXNzIHlvdSBrbm93IHdoYXQgYXJlIHlvdSBkb2luZy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5UcmFuc2Zvcm19XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnRyYW5zZm9ybSA9IG5ldyBUcmFuc2Zvcm0oKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG9wYWNpdHkgb2YgdGhlIG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5hbHBoYSA9IDE7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB2aXNpYmlsaXR5IG9mIHRoZSBvYmplY3QuIElmIGZhbHNlIHRoZSBvYmplY3Qgd2lsbCBub3QgYmUgZHJhd24sIGFuZFxuICAgICAgICAgKiB0aGUgdXBkYXRlVHJhbnNmb3JtIGZ1bmN0aW9uIHdpbGwgbm90IGJlIGNhbGxlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogT25seSBhZmZlY3RzIHJlY3Vyc2l2ZSBjYWxscyBmcm9tIHBhcmVudC4gWW91IGNhbiBhc2sgZm9yIGJvdW5kcyBvciBjYWxsIHVwZGF0ZVRyYW5zZm9ybSBtYW51YWxseS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudmlzaWJsZSA9IHRydWU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIENhbiB0aGlzIG9iamVjdCBiZSByZW5kZXJlZCwgaWYgZmFsc2UgdGhlIG9iamVjdCB3aWxsIG5vdCBiZSBkcmF3biBidXQgdGhlIHVwZGF0ZVRyYW5zZm9ybVxuICAgICAgICAgKiBtZXRob2RzIHdpbGwgc3RpbGwgYmUgY2FsbGVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBPbmx5IGFmZmVjdHMgcmVjdXJzaXZlIGNhbGxzIGZyb20gcGFyZW50LiBZb3UgY2FuIGFzayBmb3IgYm91bmRzIG1hbnVhbGx5LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5yZW5kZXJhYmxlID0gdHJ1ZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGRpc3BsYXkgb2JqZWN0IGNvbnRhaW5lciB0aGF0IGNvbnRhaW5zIHRoaXMgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuQ29udGFpbmVyfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucGFyZW50ID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG11bHRpcGxpZWQgYWxwaGEgb2YgdGhlIGRpc3BsYXlPYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLndvcmxkQWxwaGEgPSAxO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGljaCBpbmRleCBpbiB0aGUgY2hpbGRyZW4gYXJyYXkgdGhlIGRpc3BsYXkgY29tcG9uZW50IHdhcyBiZWZvcmUgdGhlIHByZXZpb3VzIHpJbmRleCBzb3J0LlxuICAgICAgICAgKiBVc2VkIGJ5IGNvbnRhaW5lcnMgdG8gaGVscCBzb3J0IG9iamVjdHMgd2l0aCB0aGUgc2FtZSB6SW5kZXgsIGJ5IHVzaW5nIHByZXZpb3VzIGFycmF5IGluZGV4IGFzIHRoZSBkZWNpZGVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2xhc3RTb3J0ZWRJbmRleCA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB6SW5kZXggb2YgdGhlIGRpc3BsYXlPYmplY3QuXG4gICAgICAgICAqIEEgaGlnaGVyIHZhbHVlIHdpbGwgbWVhbiBpdCB3aWxsIGJlIHJlbmRlcmVkIG9uIHRvcCBvZiBvdGhlciBkaXNwbGF5T2JqZWN0cyB3aXRoaW4gdGhlIHNhbWUgY29udGFpbmVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3pJbmRleCA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBhcmVhIHRoZSBmaWx0ZXIgaXMgYXBwbGllZCB0by4gVGhpcyBpcyB1c2VkIGFzIG1vcmUgb2YgYW4gb3B0aW1pemF0aW9uXG4gICAgICAgICAqIHJhdGhlciB0aGFuIGZpZ3VyaW5nIG91dCB0aGUgZGltZW5zaW9ucyBvZiB0aGUgZGlzcGxheU9iamVjdCBlYWNoIGZyYW1lIHlvdSBjYW4gc2V0IHRoaXMgcmVjdGFuZ2xlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBBbHNvIHdvcmtzIGFzIGFuIGludGVyYWN0aW9uIG1hc2suXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIgez9QSVhJLlJlY3RhbmdsZX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZmlsdGVyQXJlYSA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldHMgdGhlIGZpbHRlcnMgZm9yIHRoZSBkaXNwbGF5T2JqZWN0LlxuICAgICAgICAgKiAqIElNUE9SVEFOVDogVGhpcyBpcyBhIFdlYkdMIG9ubHkgZmVhdHVyZSBhbmQgd2lsbCBiZSBpZ25vcmVkIGJ5IHRoZSBjYW52YXMgcmVuZGVyZXIuXG4gICAgICAgICAqIFRvIHJlbW92ZSBmaWx0ZXJzIHNpbXBseSBzZXQgdGhpcyBwcm9wZXJ0eSB0byBgJ251bGwnYC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7P1BJWEkuRmlsdGVyW119XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmZpbHRlcnMgPSBudWxsO1xuICAgICAgICB0aGlzLl9lbmFibGVkRmlsdGVycyA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBib3VuZHMgb2JqZWN0LCB0aGlzIGlzIHVzZWQgdG8gY2FsY3VsYXRlIGFuZCBzdG9yZSB0aGUgYm91bmRzIG9mIHRoZSBkaXNwbGF5T2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkJvdW5kc31cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fYm91bmRzID0gbmV3IEJvdW5kcygpO1xuICAgICAgICB0aGlzLl9ib3VuZHNJRCA9IDA7XG4gICAgICAgIHRoaXMuX2xhc3RCb3VuZHNJRCA9IC0xO1xuICAgICAgICB0aGlzLl9ib3VuZHNSZWN0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5fbG9jYWxCb3VuZHNSZWN0ID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG9yaWdpbmFsLCBjYWNoZWQgbWFzayBvZiB0aGUgb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkdyYXBoaWNzfFBJWEkuU3ByaXRlfG51bGx9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX21hc2sgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIHRoaXMgRGlzcGxheU9iamVjdCBpcyBhZGRlZCB0byBhIENvbnRhaW5lci5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNhZGRlZFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuQ29udGFpbmVyfSBjb250YWluZXIgLSBUaGUgY29udGFpbmVyIGFkZGVkIHRvLlxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiB0aGlzIERpc3BsYXlPYmplY3QgaXMgcmVtb3ZlZCBmcm9tIGEgQ29udGFpbmVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3JlbW92ZWRcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkNvbnRhaW5lcn0gY29udGFpbmVyIC0gVGhlIGNvbnRhaW5lciByZW1vdmVkIGZyb20uXG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiB0aGUgb2JqZWN0IGhhcyBiZWVuIGRlc3Ryb3llZCB2aWEgZGVzdHJveSgpLiBJZiB0cnVlLCBpdCBzaG91bGQgbm90IGJlIHVzZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2Rlc3Ryb3llZCA9IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiB1c2VkIHRvIGZhc3QgY2hlY2sgaWYgYSBzcHJpdGUgaXMuLiBhIHNwcml0ZSFcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaXNTcHJpdGUgPSBmYWxzZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRG9lcyBhbnkgb3RoZXIgZGlzcGxheU9iamVjdCB1c2UgdGhpcyBvYmplY3QgYXMgYSBtYXNrP1xuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5pc01hc2sgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAoIEV2ZW50RW1pdHRlciApIERpc3BsYXlPYmplY3QuX19wcm90b19fID0gRXZlbnRFbWl0dGVyO1xuICAgIERpc3BsYXlPYmplY3QucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggRXZlbnRFbWl0dGVyICYmIEV2ZW50RW1pdHRlci5wcm90b3R5cGUgKTtcbiAgICBEaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IERpc3BsYXlPYmplY3Q7XG5cbiAgICB2YXIgcHJvdG90eXBlQWNjZXNzb3JzID0geyBfdGVtcERpc3BsYXlPYmplY3RQYXJlbnQ6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0seDogeyBjb25maWd1cmFibGU6IHRydWUgfSx5OiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LHdvcmxkVHJhbnNmb3JtOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LGxvY2FsVHJhbnNmb3JtOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LHBvc2l0aW9uOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LHNjYWxlOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LHBpdm90OiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LHNrZXc6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0scm90YXRpb246IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sYW5nbGU6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sekluZGV4OiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LHdvcmxkVmlzaWJsZTogeyBjb25maWd1cmFibGU6IHRydWUgfSxtYXNrOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH07XG5cbiAgICAvKipcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQG1lbWJlciB7UElYSS5EaXNwbGF5T2JqZWN0fVxuICAgICAqL1xuICAgIERpc3BsYXlPYmplY3QubWl4aW4gPSBmdW5jdGlvbiBtaXhpbiAoc291cmNlKVxuICAgIHtcbiAgICAgICAgLy8gaW4gRVM4L0VTMjAxNywgdGhpcyB3b3VsZCBiZSByZWFsbHkgZWFzeTpcbiAgICAgICAgLy8gT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKTtcblxuICAgICAgICAvLyBnZXQgYWxsIHRoZSBlbnVtZXJhYmxlIHByb3BlcnR5IGtleXNcbiAgICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpO1xuXG4gICAgICAgIC8vIGxvb3AgdGhyb3VnaCBwcm9wZXJ0aWVzXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7ICsraSlcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIHByb3BlcnR5TmFtZSA9IGtleXNbaV07XG5cbiAgICAgICAgICAgIC8vIFNldCB0aGUgcHJvcGVydHkgdXNpbmcgdGhlIHByb3BlcnR5IGRlc2NyaXB0b3IgLSB0aGlzIHdvcmtzIGZvciBhY2Nlc3NvcnMgYW5kIG5vcm1hbCB2YWx1ZSBwcm9wZXJ0aWVzXG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoXG4gICAgICAgICAgICAgICAgRGlzcGxheU9iamVjdC5wcm90b3R5cGUsXG4gICAgICAgICAgICAgICAgcHJvcGVydHlOYW1lLFxuICAgICAgICAgICAgICAgIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBwcm9wZXJ0eU5hbWUpXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5fdGVtcERpc3BsYXlPYmplY3RQYXJlbnQuZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLnRlbXBEaXNwbGF5T2JqZWN0UGFyZW50ID09PSBudWxsKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnRlbXBEaXNwbGF5T2JqZWN0UGFyZW50ID0gbmV3IERpc3BsYXlPYmplY3QoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLnRlbXBEaXNwbGF5T2JqZWN0UGFyZW50O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBvYmplY3QgdHJhbnNmb3JtIGZvciByZW5kZXJpbmcuXG4gICAgICpcbiAgICAgKiBUT0RPIC0gT3B0aW1pemF0aW9uIHBhc3MhXG4gICAgICovXG4gICAgRGlzcGxheU9iamVjdC5wcm90b3R5cGUudXBkYXRlVHJhbnNmb3JtID0gZnVuY3Rpb24gdXBkYXRlVHJhbnNmb3JtICgpXG4gICAge1xuICAgICAgICB0aGlzLnRyYW5zZm9ybS51cGRhdGVUcmFuc2Zvcm0odGhpcy5wYXJlbnQudHJhbnNmb3JtKTtcbiAgICAgICAgLy8gbXVsdGlwbHkgdGhlIGFscGhhcy4uXG4gICAgICAgIHRoaXMud29ybGRBbHBoYSA9IHRoaXMuYWxwaGEgKiB0aGlzLnBhcmVudC53b3JsZEFscGhhO1xuXG4gICAgICAgIHRoaXMuX2JvdW5kcy51cGRhdGVJRCsrO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZWN1cnNpdmVseSB1cGRhdGVzIHRyYW5zZm9ybSBvZiBhbGwgb2JqZWN0cyBmcm9tIHRoZSByb290IHRvIHRoaXMgb25lXG4gICAgICogaW50ZXJuYWwgZnVuY3Rpb24gZm9yIHRvTG9jYWwoKVxuICAgICAqL1xuICAgIERpc3BsYXlPYmplY3QucHJvdG90eXBlLl9yZWN1cnNpdmVQb3N0VXBkYXRlVHJhbnNmb3JtID0gZnVuY3Rpb24gX3JlY3Vyc2l2ZVBvc3RVcGRhdGVUcmFuc2Zvcm0gKClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLnBhcmVudClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5wYXJlbnQuX3JlY3Vyc2l2ZVBvc3RVcGRhdGVUcmFuc2Zvcm0oKTtcbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLnVwZGF0ZVRyYW5zZm9ybSh0aGlzLnBhcmVudC50cmFuc2Zvcm0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0udXBkYXRlVHJhbnNmb3JtKHRoaXMuX3RlbXBEaXNwbGF5T2JqZWN0UGFyZW50LnRyYW5zZm9ybSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmV0cmlldmVzIHRoZSBib3VuZHMgb2YgdGhlIGRpc3BsYXlPYmplY3QgYXMgYSByZWN0YW5nbGUgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbc2tpcFVwZGF0ZV0gLSBTZXR0aW5nIHRvIGB0cnVlYCB3aWxsIHN0b3AgdGhlIHRyYW5zZm9ybXMgb2YgdGhlIHNjZW5lIGdyYXBoIGZyb21cbiAgICAgKiAgYmVpbmcgdXBkYXRlZC4gVGhpcyBtZWFucyB0aGUgY2FsY3VsYXRpb24gcmV0dXJuZWQgTUFZIGJlIG91dCBvZiBkYXRlIEJVVCB3aWxsIGdpdmUgeW91IGFcbiAgICAgKiAgbmljZSBwZXJmb3JtYW5jZSBib29zdC5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSBbcmVjdF0gLSBPcHRpb25hbCByZWN0YW5nbGUgdG8gc3RvcmUgdGhlIHJlc3VsdCBvZiB0aGUgYm91bmRzIGNhbGN1bGF0aW9uLlxuICAgICAqIEByZXR1cm4ge1BJWEkuUmVjdGFuZ2xlfSBUaGUgcmVjdGFuZ3VsYXIgYm91bmRpbmcgYXJlYS5cbiAgICAgKi9cbiAgICBEaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5nZXRCb3VuZHMgPSBmdW5jdGlvbiBnZXRCb3VuZHMgKHNraXBVcGRhdGUsIHJlY3QpXG4gICAge1xuICAgICAgICBpZiAoIXNraXBVcGRhdGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5wYXJlbnQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQgPSB0aGlzLl90ZW1wRGlzcGxheU9iamVjdFBhcmVudDtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgICAgICAgICAgICAgIHRoaXMucGFyZW50ID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9yZWN1cnNpdmVQb3N0VXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVUcmFuc2Zvcm0oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9ib3VuZHNJRCAhPT0gdGhpcy5fbGFzdEJvdW5kc0lEKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmNhbGN1bGF0ZUJvdW5kcygpO1xuICAgICAgICAgICAgdGhpcy5fbGFzdEJvdW5kc0lEID0gdGhpcy5fYm91bmRzSUQ7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXJlY3QpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5fYm91bmRzUmVjdClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9ib3VuZHNSZWN0ID0gbmV3IFJlY3RhbmdsZSgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZWN0ID0gdGhpcy5fYm91bmRzUmVjdDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLl9ib3VuZHMuZ2V0UmVjdGFuZ2xlKHJlY3QpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXRyaWV2ZXMgdGhlIGxvY2FsIGJvdW5kcyBvZiB0aGUgZGlzcGxheU9iamVjdCBhcyBhIHJlY3RhbmdsZSBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSBbcmVjdF0gLSBPcHRpb25hbCByZWN0YW5nbGUgdG8gc3RvcmUgdGhlIHJlc3VsdCBvZiB0aGUgYm91bmRzIGNhbGN1bGF0aW9uLlxuICAgICAqIEByZXR1cm4ge1BJWEkuUmVjdGFuZ2xlfSBUaGUgcmVjdGFuZ3VsYXIgYm91bmRpbmcgYXJlYS5cbiAgICAgKi9cbiAgICBEaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5nZXRMb2NhbEJvdW5kcyA9IGZ1bmN0aW9uIGdldExvY2FsQm91bmRzIChyZWN0KVxuICAgIHtcbiAgICAgICAgdmFyIHRyYW5zZm9ybVJlZiA9IHRoaXMudHJhbnNmb3JtO1xuICAgICAgICB2YXIgcGFyZW50UmVmID0gdGhpcy5wYXJlbnQ7XG5cbiAgICAgICAgdGhpcy5wYXJlbnQgPSBudWxsO1xuICAgICAgICB0aGlzLnRyYW5zZm9ybSA9IHRoaXMuX3RlbXBEaXNwbGF5T2JqZWN0UGFyZW50LnRyYW5zZm9ybTtcblxuICAgICAgICBpZiAoIXJlY3QpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5fbG9jYWxCb3VuZHNSZWN0KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuX2xvY2FsQm91bmRzUmVjdCA9IG5ldyBSZWN0YW5nbGUoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmVjdCA9IHRoaXMuX2xvY2FsQm91bmRzUmVjdDtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBib3VuZHMgPSB0aGlzLmdldEJvdW5kcyhmYWxzZSwgcmVjdCk7XG5cbiAgICAgICAgdGhpcy5wYXJlbnQgPSBwYXJlbnRSZWY7XG4gICAgICAgIHRoaXMudHJhbnNmb3JtID0gdHJhbnNmb3JtUmVmO1xuXG4gICAgICAgIHJldHVybiBib3VuZHM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZXMgdGhlIGdsb2JhbCBwb3NpdGlvbiBvZiB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuSVBvaW50fSBwb3NpdGlvbiAtIFRoZSB3b3JsZCBvcmlnaW4gdG8gY2FsY3VsYXRlIGZyb20uXG4gICAgICogQHBhcmFtIHtQSVhJLklQb2ludH0gW3BvaW50XSAtIEEgUG9pbnQgb2JqZWN0IGluIHdoaWNoIHRvIHN0b3JlIHRoZSB2YWx1ZSwgb3B0aW9uYWxcbiAgICAgKiAgKG90aGVyd2lzZSB3aWxsIGNyZWF0ZSBhIG5ldyBQb2ludCkuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbc2tpcFVwZGF0ZT1mYWxzZV0gLSBTaG91bGQgd2Ugc2tpcCB0aGUgdXBkYXRlIHRyYW5zZm9ybS5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLklQb2ludH0gQSBwb2ludCBvYmplY3QgcmVwcmVzZW50aW5nIHRoZSBwb3NpdGlvbiBvZiB0aGlzIG9iamVjdC5cbiAgICAgKi9cbiAgICBEaXNwbGF5T2JqZWN0LnByb3RvdHlwZS50b0dsb2JhbCA9IGZ1bmN0aW9uIHRvR2xvYmFsIChwb3NpdGlvbiwgcG9pbnQsIHNraXBVcGRhdGUpXG4gICAge1xuICAgICAgICBpZiAoIHNraXBVcGRhdGUgPT09IHZvaWQgMCApIHNraXBVcGRhdGUgPSBmYWxzZTtcblxuICAgICAgICBpZiAoIXNraXBVcGRhdGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX3JlY3Vyc2l2ZVBvc3RVcGRhdGVUcmFuc2Zvcm0oKTtcblxuICAgICAgICAgICAgLy8gdGhpcyBwYXJlbnQgY2hlY2sgaXMgZm9yIGp1c3QgaW4gY2FzZSB0aGUgaXRlbSBpcyBhIHJvb3Qgb2JqZWN0LlxuICAgICAgICAgICAgLy8gSWYgaXQgaXMgd2UgbmVlZCB0byBnaXZlIGl0IGEgdGVtcG9yYXJ5IHBhcmVudCBzbyB0aGF0IGRpc3BsYXlPYmplY3RVcGRhdGVUcmFuc2Zvcm0gd29ya3MgY29ycmVjdGx5XG4gICAgICAgICAgICAvLyB0aGlzIGlzIG1haW5seSB0byBhdm9pZCBhIHBhcmVudCBjaGVjayBpbiB0aGUgbWFpbiBsb29wLiBFdmVyeSBsaXR0bGUgaGVscHMgZm9yIHBlcmZvcm1hbmNlIDopXG4gICAgICAgICAgICBpZiAoIXRoaXMucGFyZW50KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMucGFyZW50ID0gdGhpcy5fdGVtcERpc3BsYXlPYmplY3RQYXJlbnQ7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwbGF5T2JqZWN0VXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGxheU9iamVjdFVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gZG9uJ3QgbmVlZCB0byB1cGRhdGUgdGhlIGxvdFxuICAgICAgICByZXR1cm4gdGhpcy53b3JsZFRyYW5zZm9ybS5hcHBseShwb3NpdGlvbiwgcG9pbnQpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGVzIHRoZSBsb2NhbCBwb3NpdGlvbiBvZiB0aGUgZGlzcGxheSBvYmplY3QgcmVsYXRpdmUgdG8gYW5vdGhlciBwb2ludC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5JUG9pbnR9IHBvc2l0aW9uIC0gVGhlIHdvcmxkIG9yaWdpbiB0byBjYWxjdWxhdGUgZnJvbS5cbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gW2Zyb21dIC0gVGhlIERpc3BsYXlPYmplY3QgdG8gY2FsY3VsYXRlIHRoZSBnbG9iYWwgcG9zaXRpb24gZnJvbS5cbiAgICAgKiBAcGFyYW0ge1BJWEkuSVBvaW50fSBbcG9pbnRdIC0gQSBQb2ludCBvYmplY3QgaW4gd2hpY2ggdG8gc3RvcmUgdGhlIHZhbHVlLCBvcHRpb25hbFxuICAgICAqICAob3RoZXJ3aXNlIHdpbGwgY3JlYXRlIGEgbmV3IFBvaW50KS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtza2lwVXBkYXRlPWZhbHNlXSAtIFNob3VsZCB3ZSBza2lwIHRoZSB1cGRhdGUgdHJhbnNmb3JtXG4gICAgICogQHJldHVybiB7UElYSS5JUG9pbnR9IEEgcG9pbnQgb2JqZWN0IHJlcHJlc2VudGluZyB0aGUgcG9zaXRpb24gb2YgdGhpcyBvYmplY3RcbiAgICAgKi9cbiAgICBEaXNwbGF5T2JqZWN0LnByb3RvdHlwZS50b0xvY2FsID0gZnVuY3Rpb24gdG9Mb2NhbCAocG9zaXRpb24sIGZyb20sIHBvaW50LCBza2lwVXBkYXRlKVxuICAgIHtcbiAgICAgICAgaWYgKGZyb20pXG4gICAgICAgIHtcbiAgICAgICAgICAgIHBvc2l0aW9uID0gZnJvbS50b0dsb2JhbChwb3NpdGlvbiwgcG9pbnQsIHNraXBVcGRhdGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFza2lwVXBkYXRlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9yZWN1cnNpdmVQb3N0VXBkYXRlVHJhbnNmb3JtKCk7XG5cbiAgICAgICAgICAgIC8vIHRoaXMgcGFyZW50IGNoZWNrIGlzIGZvciBqdXN0IGluIGNhc2UgdGhlIGl0ZW0gaXMgYSByb290IG9iamVjdC5cbiAgICAgICAgICAgIC8vIElmIGl0IGlzIHdlIG5lZWQgdG8gZ2l2ZSBpdCBhIHRlbXBvcmFyeSBwYXJlbnQgc28gdGhhdCBkaXNwbGF5T2JqZWN0VXBkYXRlVHJhbnNmb3JtIHdvcmtzIGNvcnJlY3RseVxuICAgICAgICAgICAgLy8gdGhpcyBpcyBtYWlubHkgdG8gYXZvaWQgYSBwYXJlbnQgY2hlY2sgaW4gdGhlIG1haW4gbG9vcC4gRXZlcnkgbGl0dGxlIGhlbHBzIGZvciBwZXJmb3JtYW5jZSA6KVxuICAgICAgICAgICAgaWYgKCF0aGlzLnBhcmVudClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmVudCA9IHRoaXMuX3RlbXBEaXNwbGF5T2JqZWN0UGFyZW50O1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGxheU9iamVjdFVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgICAgICAgICAgICAgIHRoaXMucGFyZW50ID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BsYXlPYmplY3RVcGRhdGVUcmFuc2Zvcm0oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHNpbXBseSBhcHBseSB0aGUgbWF0cml4Li5cbiAgICAgICAgcmV0dXJuIHRoaXMud29ybGRUcmFuc2Zvcm0uYXBwbHlJbnZlcnNlKHBvc2l0aW9uLCBwb2ludCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgdGhlIG9iamVjdCB1c2luZyB0aGUgV2ViR0wgcmVuZGVyZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyLlxuICAgICAqL1xuICAgIERpc3BsYXlPYmplY3QucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlciAocmVuZGVyZXIpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcbiAgICB7XG4gICAgICAgIC8vIE9WRVJXUklURTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBwYXJlbnQgQ29udGFpbmVyIG9mIHRoaXMgRGlzcGxheU9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5Db250YWluZXJ9IGNvbnRhaW5lciAtIFRoZSBDb250YWluZXIgdG8gYWRkIHRoaXMgRGlzcGxheU9iamVjdCB0by5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkNvbnRhaW5lcn0gVGhlIENvbnRhaW5lciB0aGF0IHRoaXMgRGlzcGxheU9iamVjdCB3YXMgYWRkZWQgdG8uXG4gICAgICovXG4gICAgRGlzcGxheU9iamVjdC5wcm90b3R5cGUuc2V0UGFyZW50ID0gZnVuY3Rpb24gc2V0UGFyZW50IChjb250YWluZXIpXG4gICAge1xuICAgICAgICBpZiAoIWNvbnRhaW5lciB8fCAhY29udGFpbmVyLmFkZENoaWxkKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3NldFBhcmVudDogQXJndW1lbnQgbXVzdCBiZSBhIENvbnRhaW5lcicpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29udGFpbmVyLmFkZENoaWxkKHRoaXMpO1xuXG4gICAgICAgIHJldHVybiBjb250YWluZXI7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENvbnZlbmllbmNlIGZ1bmN0aW9uIHRvIHNldCB0aGUgcG9zaXRpb24sIHNjYWxlLCBza2V3IGFuZCBwaXZvdCBhdCBvbmNlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt4PTBdIC0gVGhlIFggcG9zaXRpb25cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3k9MF0gLSBUaGUgWSBwb3NpdGlvblxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc2NhbGVYPTFdIC0gVGhlIFggc2NhbGUgdmFsdWVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3NjYWxlWT0xXSAtIFRoZSBZIHNjYWxlIHZhbHVlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtyb3RhdGlvbj0wXSAtIFRoZSByb3RhdGlvblxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc2tld1g9MF0gLSBUaGUgWCBza2V3IHZhbHVlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtza2V3WT0wXSAtIFRoZSBZIHNrZXcgdmFsdWVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3Bpdm90WD0wXSAtIFRoZSBYIHBpdm90IHZhbHVlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtwaXZvdFk9MF0gLSBUaGUgWSBwaXZvdCB2YWx1ZVxuICAgICAqIEByZXR1cm4ge1BJWEkuRGlzcGxheU9iamVjdH0gVGhlIERpc3BsYXlPYmplY3QgaW5zdGFuY2VcbiAgICAgKi9cbiAgICBEaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5zZXRUcmFuc2Zvcm0gPSBmdW5jdGlvbiBzZXRUcmFuc2Zvcm0gKHgsIHksIHNjYWxlWCwgc2NhbGVZLCByb3RhdGlvbiwgc2tld1gsIHNrZXdZLCBwaXZvdFgsIHBpdm90WSlcbiAgICB7XG4gICAgICAgIGlmICggeCA9PT0gdm9pZCAwICkgeCA9IDA7XG4gICAgICAgIGlmICggeSA9PT0gdm9pZCAwICkgeSA9IDA7XG4gICAgICAgIGlmICggc2NhbGVYID09PSB2b2lkIDAgKSBzY2FsZVggPSAxO1xuICAgICAgICBpZiAoIHNjYWxlWSA9PT0gdm9pZCAwICkgc2NhbGVZID0gMTtcbiAgICAgICAgaWYgKCByb3RhdGlvbiA9PT0gdm9pZCAwICkgcm90YXRpb24gPSAwO1xuICAgICAgICBpZiAoIHNrZXdYID09PSB2b2lkIDAgKSBza2V3WCA9IDA7XG4gICAgICAgIGlmICggc2tld1kgPT09IHZvaWQgMCApIHNrZXdZID0gMDtcbiAgICAgICAgaWYgKCBwaXZvdFggPT09IHZvaWQgMCApIHBpdm90WCA9IDA7XG4gICAgICAgIGlmICggcGl2b3RZID09PSB2b2lkIDAgKSBwaXZvdFkgPSAwO1xuXG4gICAgICAgIHRoaXMucG9zaXRpb24ueCA9IHg7XG4gICAgICAgIHRoaXMucG9zaXRpb24ueSA9IHk7XG4gICAgICAgIHRoaXMuc2NhbGUueCA9ICFzY2FsZVggPyAxIDogc2NhbGVYO1xuICAgICAgICB0aGlzLnNjYWxlLnkgPSAhc2NhbGVZID8gMSA6IHNjYWxlWTtcbiAgICAgICAgdGhpcy5yb3RhdGlvbiA9IHJvdGF0aW9uO1xuICAgICAgICB0aGlzLnNrZXcueCA9IHNrZXdYO1xuICAgICAgICB0aGlzLnNrZXcueSA9IHNrZXdZO1xuICAgICAgICB0aGlzLnBpdm90LnggPSBwaXZvdFg7XG4gICAgICAgIHRoaXMucGl2b3QueSA9IHBpdm90WTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQmFzZSBkZXN0cm95IG1ldGhvZCBmb3IgZ2VuZXJpYyBkaXNwbGF5IG9iamVjdHMuIFRoaXMgd2lsbCBhdXRvbWF0aWNhbGx5XG4gICAgICogcmVtb3ZlIHRoZSBkaXNwbGF5IG9iamVjdCBmcm9tIGl0cyBwYXJlbnQgQ29udGFpbmVyIGFzIHdlbGwgYXMgcmVtb3ZlXG4gICAgICogYWxsIGN1cnJlbnQgZXZlbnQgbGlzdGVuZXJzIGFuZCBpbnRlcm5hbCByZWZlcmVuY2VzLiBEbyBub3QgdXNlIGEgRGlzcGxheU9iamVjdFxuICAgICAqIGFmdGVyIGNhbGxpbmcgYGRlc3Ryb3koKWAuXG4gICAgICpcbiAgICAgKi9cbiAgICBEaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSAoKVxuICAgIHtcbiAgICAgICAgdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcbiAgICAgICAgaWYgKHRoaXMucGFyZW50KVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnBhcmVudC5yZW1vdmVDaGlsZCh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnRyYW5zZm9ybSA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5wYXJlbnQgPSBudWxsO1xuICAgICAgICB0aGlzLl9ib3VuZHMgPSBudWxsO1xuICAgICAgICB0aGlzLl9jdXJyZW50Qm91bmRzID0gbnVsbDtcbiAgICAgICAgdGhpcy5fbWFzayA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5maWx0ZXJzID0gbnVsbDtcbiAgICAgICAgdGhpcy5maWx0ZXJBcmVhID0gbnVsbDtcbiAgICAgICAgdGhpcy5oaXRBcmVhID0gbnVsbDtcblxuICAgICAgICB0aGlzLmludGVyYWN0aXZlID0gZmFsc2U7XG4gICAgICAgIHRoaXMuaW50ZXJhY3RpdmVDaGlsZHJlbiA9IGZhbHNlO1xuXG4gICAgICAgIHRoaXMuX2Rlc3Ryb3llZCA9IHRydWU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBwb3NpdGlvbiBvZiB0aGUgZGlzcGxheU9iamVjdCBvbiB0aGUgeCBheGlzIHJlbGF0aXZlIHRvIHRoZSBsb2NhbCBjb29yZGluYXRlcyBvZiB0aGUgcGFyZW50LlxuICAgICAqIEFuIGFsaWFzIHRvIHBvc2l0aW9uLnhcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMueC5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucG9zaXRpb24ueDtcbiAgICB9O1xuXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLnguc2V0ID0gZnVuY3Rpb24gKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIHRoaXMudHJhbnNmb3JtLnBvc2l0aW9uLnggPSB2YWx1ZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIHBvc2l0aW9uIG9mIHRoZSBkaXNwbGF5T2JqZWN0IG9uIHRoZSB5IGF4aXMgcmVsYXRpdmUgdG8gdGhlIGxvY2FsIGNvb3JkaW5hdGVzIG9mIHRoZSBwYXJlbnQuXG4gICAgICogQW4gYWxpYXMgdG8gcG9zaXRpb24ueVxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy55LmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5wb3NpdGlvbi55O1xuICAgIH07XG5cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMueS5zZXQgPSBmdW5jdGlvbiAodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgdGhpcy50cmFuc2Zvcm0ucG9zaXRpb24ueSA9IHZhbHVlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDdXJyZW50IHRyYW5zZm9ybSBvZiB0aGUgb2JqZWN0IGJhc2VkIG9uIHdvcmxkIChwYXJlbnQpIGZhY3RvcnMuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLk1hdHJpeH1cbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMud29ybGRUcmFuc2Zvcm0uZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ3VycmVudCB0cmFuc2Zvcm0gb2YgdGhlIG9iamVjdCBiYXNlZCBvbiBsb2NhbCBmYWN0b3JzOiBwb3NpdGlvbiwgc2NhbGUsIG90aGVyIHN0dWZmLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5NYXRyaXh9XG4gICAgICogQHJlYWRvbmx5XG4gICAgICovXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLmxvY2FsVHJhbnNmb3JtLmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy50cmFuc2Zvcm0ubG9jYWxUcmFuc2Zvcm07XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBjb29yZGluYXRlIG9mIHRoZSBvYmplY3QgcmVsYXRpdmUgdG8gdGhlIGxvY2FsIGNvb3JkaW5hdGVzIG9mIHRoZSBwYXJlbnQuXG4gICAgICogQXNzaWdubWVudCBieSB2YWx1ZSBzaW5jZSBwaXhpLXY0LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5JUG9pbnR9XG4gICAgICovXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLnBvc2l0aW9uLmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy50cmFuc2Zvcm0ucG9zaXRpb247XG4gICAgfTtcblxuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5wb3NpdGlvbi5zZXQgPSBmdW5jdGlvbiAodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgdGhpcy50cmFuc2Zvcm0ucG9zaXRpb24uY29weUZyb20odmFsdWUpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgc2NhbGUgZmFjdG9yIG9mIHRoZSBvYmplY3QuXG4gICAgICogQXNzaWdubWVudCBieSB2YWx1ZSBzaW5jZSBwaXhpLXY0LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5JUG9pbnR9XG4gICAgICovXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLnNjYWxlLmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy50cmFuc2Zvcm0uc2NhbGU7XG4gICAgfTtcblxuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5zY2FsZS5zZXQgPSBmdW5jdGlvbiAodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgdGhpcy50cmFuc2Zvcm0uc2NhbGUuY29weUZyb20odmFsdWUpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgcGl2b3QgcG9pbnQgb2YgdGhlIGRpc3BsYXlPYmplY3QgdGhhdCBpdCByb3RhdGVzIGFyb3VuZC5cbiAgICAgKiBBc3NpZ25tZW50IGJ5IHZhbHVlIHNpbmNlIHBpeGktdjQuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLklQb2ludH1cbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMucGl2b3QuZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnRyYW5zZm9ybS5waXZvdDtcbiAgICB9O1xuXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLnBpdm90LnNldCA9IGZ1bmN0aW9uICh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICB0aGlzLnRyYW5zZm9ybS5waXZvdC5jb3B5RnJvbSh2YWx1ZSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBza2V3IGZhY3RvciBmb3IgdGhlIG9iamVjdCBpbiByYWRpYW5zLlxuICAgICAqIEFzc2lnbm1lbnQgYnkgdmFsdWUgc2luY2UgcGl4aS12NC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1BJWEkuT2JzZXJ2YWJsZVBvaW50fVxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5za2V3LmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy50cmFuc2Zvcm0uc2tldztcbiAgICB9O1xuXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLnNrZXcuc2V0ID0gZnVuY3Rpb24gKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIHRoaXMudHJhbnNmb3JtLnNrZXcuY29weUZyb20odmFsdWUpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgcm90YXRpb24gb2YgdGhlIG9iamVjdCBpbiByYWRpYW5zLlxuICAgICAqICdyb3RhdGlvbicgYW5kICdhbmdsZScgaGF2ZSB0aGUgc2FtZSBlZmZlY3Qgb24gYSBkaXNwbGF5IG9iamVjdDsgcm90YXRpb24gaXMgaW4gcmFkaWFucywgYW5nbGUgaXMgaW4gZGVncmVlcy5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMucm90YXRpb24uZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnRyYW5zZm9ybS5yb3RhdGlvbjtcbiAgICB9O1xuXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLnJvdGF0aW9uLnNldCA9IGZ1bmN0aW9uICh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICB0aGlzLnRyYW5zZm9ybS5yb3RhdGlvbiA9IHZhbHVlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYW5nbGUgb2YgdGhlIG9iamVjdCBpbiBkZWdyZWVzLlxuICAgICAqICdyb3RhdGlvbicgYW5kICdhbmdsZScgaGF2ZSB0aGUgc2FtZSBlZmZlY3Qgb24gYSBkaXNwbGF5IG9iamVjdDsgcm90YXRpb24gaXMgaW4gcmFkaWFucywgYW5nbGUgaXMgaW4gZGVncmVlcy5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMuYW5nbGUuZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnRyYW5zZm9ybS5yb3RhdGlvbiAqIFJBRF9UT19ERUc7XG4gICAgfTtcblxuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5hbmdsZS5zZXQgPSBmdW5jdGlvbiAodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgdGhpcy50cmFuc2Zvcm0ucm90YXRpb24gPSB2YWx1ZSAqIERFR19UT19SQUQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSB6SW5kZXggb2YgdGhlIGRpc3BsYXlPYmplY3QuXG4gICAgICogSWYgYSBjb250YWluZXIgaGFzIHRoZSBzb3J0YWJsZUNoaWxkcmVuIHByb3BlcnR5IHNldCB0byB0cnVlLCBjaGlsZHJlbiB3aWxsIGJlIGF1dG9tYXRpY2FsbHlcbiAgICAgKiBzb3J0ZWQgYnkgekluZGV4IHZhbHVlOyBhIGhpZ2hlciB2YWx1ZSB3aWxsIG1lYW4gaXQgd2lsbCBiZSBtb3ZlZCB0b3dhcmRzIHRoZSBlbmQgb2YgdGhlIGFycmF5LFxuICAgICAqIGFuZCB0aHVzIHJlbmRlcmVkIG9uIHRvcCBvZiBvdGhlciBkaXNwbGF5T2JqZWN0cyB3aXRoaW4gdGhlIHNhbWUgY29udGFpbmVyLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy56SW5kZXguZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl96SW5kZXg7XG4gICAgfTtcblxuICAgIHByb3RvdHlwZUFjY2Vzc29ycy56SW5kZXguc2V0ID0gZnVuY3Rpb24gKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIHRoaXMuX3pJbmRleCA9IHZhbHVlO1xuICAgICAgICBpZiAodGhpcy5wYXJlbnQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMucGFyZW50LnNvcnREaXJ0eSA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSW5kaWNhdGVzIGlmIHRoZSBvYmplY3QgaXMgZ2xvYmFsbHkgdmlzaWJsZS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICogQHJlYWRvbmx5XG4gICAgICovXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLndvcmxkVmlzaWJsZS5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgdmFyIGl0ZW0gPSB0aGlzO1xuXG4gICAgICAgIGRvXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICghaXRlbS52aXNpYmxlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaXRlbSA9IGl0ZW0ucGFyZW50O1xuICAgICAgICB9IHdoaWxlIChpdGVtKTtcblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0cyBhIG1hc2sgZm9yIHRoZSBkaXNwbGF5T2JqZWN0LiBBIG1hc2sgaXMgYW4gb2JqZWN0IHRoYXQgbGltaXRzIHRoZSB2aXNpYmlsaXR5IG9mIGFuXG4gICAgICogb2JqZWN0IHRvIHRoZSBzaGFwZSBvZiB0aGUgbWFzayBhcHBsaWVkIHRvIGl0LiBJbiBQaXhpSlMgYSByZWd1bGFyIG1hc2sgbXVzdCBiZSBhXG4gICAgICoge0BsaW5rIFBJWEkuR3JhcGhpY3N9IG9yIGEge0BsaW5rIFBJWEkuU3ByaXRlfSBvYmplY3QuIFRoaXMgYWxsb3dzIGZvciBtdWNoIGZhc3RlciBtYXNraW5nIGluIGNhbnZhcyBhcyBpdFxuICAgICAqIHV0aWxpdGllcyBzaGFwZSBjbGlwcGluZy4gVG8gcmVtb3ZlIGEgbWFzaywgc2V0IHRoaXMgcHJvcGVydHkgdG8gYG51bGxgLlxuICAgICAqXG4gICAgICogRm9yIHNwcml0ZSBtYXNrIGJvdGggYWxwaGEgYW5kIHJlZCBjaGFubmVsIGFyZSB1c2VkLiBCbGFjayBtYXNrIGlzIHRoZSBzYW1lIGFzIHRyYW5zcGFyZW50IG1hc2suXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBncmFwaGljcyA9IG5ldyBQSVhJLkdyYXBoaWNzKCk7XG4gICAgICogZ3JhcGhpY3MuYmVnaW5GaWxsKDB4RkYzMzAwKTtcbiAgICAgKiBncmFwaGljcy5kcmF3UmVjdCg1MCwgMjUwLCAxMDAsIDEwMCk7XG4gICAgICogZ3JhcGhpY3MuZW5kRmlsbCgpO1xuICAgICAqXG4gICAgICogY29uc3Qgc3ByaXRlID0gbmV3IFBJWEkuU3ByaXRlKHRleHR1cmUpO1xuICAgICAqIHNwcml0ZS5tYXNrID0gZ3JhcGhpY3M7XG4gICAgICogQHRvZG8gQXQgdGhlIG1vbWVudCwgUElYSS5DYW52YXNSZW5kZXJlciBkb2Vzbid0IHN1cHBvcnQgUElYSS5TcHJpdGUgYXMgbWFzay5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1BJWEkuR3JhcGhpY3N8UElYSS5TcHJpdGV8bnVsbH1cbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMubWFzay5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX21hc2s7XG4gICAgfTtcblxuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5tYXNrLnNldCA9IGZ1bmN0aW9uICh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICBpZiAodGhpcy5fbWFzaylcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIG1hc2tPYmplY3QgPSB0aGlzLl9tYXNrLm1hc2tPYmplY3QgfHwgdGhpcy5fbWFzaztcblxuICAgICAgICAgICAgbWFza09iamVjdC5yZW5kZXJhYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgIG1hc2tPYmplY3QuaXNNYXNrID0gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9tYXNrID0gdmFsdWU7XG5cbiAgICAgICAgaWYgKHRoaXMuX21hc2spXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBtYXNrT2JqZWN0JDEgPSB0aGlzLl9tYXNrLm1hc2tPYmplY3QgfHwgdGhpcy5fbWFzaztcblxuICAgICAgICAgICAgbWFza09iamVjdCQxLnJlbmRlcmFibGUgPSBmYWxzZTtcbiAgICAgICAgICAgIG1hc2tPYmplY3QkMS5pc01hc2sgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKCBEaXNwbGF5T2JqZWN0LnByb3RvdHlwZSwgcHJvdG90eXBlQWNjZXNzb3JzICk7XG5cbiAgICByZXR1cm4gRGlzcGxheU9iamVjdDtcbn0oRXZlbnRFbWl0dGVyKSk7XG5cbi8qKlxuICogRGlzcGxheU9iamVjdCBkZWZhdWx0IHVwZGF0ZVRyYW5zZm9ybSwgZG9lcyBub3QgdXBkYXRlIGNoaWxkcmVuIG9mIGNvbnRhaW5lci5cbiAqIFdpbGwgY3Jhc2ggaWYgdGhlcmUncyBubyBwYXJlbnQgZWxlbWVudC5cbiAqXG4gKiBAbWVtYmVyb2YgUElYSS5EaXNwbGF5T2JqZWN0I1xuICogQGZ1bmN0aW9uIGRpc3BsYXlPYmplY3RVcGRhdGVUcmFuc2Zvcm1cbiAqL1xuRGlzcGxheU9iamVjdC5wcm90b3R5cGUuZGlzcGxheU9iamVjdFVwZGF0ZVRyYW5zZm9ybSA9IERpc3BsYXlPYmplY3QucHJvdG90eXBlLnVwZGF0ZVRyYW5zZm9ybTtcblxuZnVuY3Rpb24gc29ydENoaWxkcmVuKGEsIGIpXG57XG4gICAgaWYgKGEuekluZGV4ID09PSBiLnpJbmRleClcbiAgICB7XG4gICAgICAgIHJldHVybiBhLl9sYXN0U29ydGVkSW5kZXggLSBiLl9sYXN0U29ydGVkSW5kZXg7XG4gICAgfVxuXG4gICAgcmV0dXJuIGEuekluZGV4IC0gYi56SW5kZXg7XG59XG5cbi8qKlxuICogQSBDb250YWluZXIgcmVwcmVzZW50cyBhIGNvbGxlY3Rpb24gb2YgZGlzcGxheSBvYmplY3RzLlxuICpcbiAqIEl0IGlzIHRoZSBiYXNlIGNsYXNzIG9mIGFsbCBkaXNwbGF5IG9iamVjdHMgdGhhdCBhY3QgYXMgYSBjb250YWluZXIgZm9yIG90aGVyIG9iamVjdHMgKGxpa2UgU3ByaXRlcykuXG4gKlxuICpgYGBqc1xuICogbGV0IGNvbnRhaW5lciA9IG5ldyBQSVhJLkNvbnRhaW5lcigpO1xuICogY29udGFpbmVyLmFkZENoaWxkKHNwcml0ZSk7XG4gKiBgYGBcbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuRGlzcGxheU9iamVjdFxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIENvbnRhaW5lciA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKERpc3BsYXlPYmplY3QpIHtcbiAgICBmdW5jdGlvbiBDb250YWluZXIoKVxuICAgIHtcbiAgICAgICAgRGlzcGxheU9iamVjdC5jYWxsKHRoaXMpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYXJyYXkgb2YgY2hpbGRyZW4gb2YgdGhpcyBjb250YWluZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuRGlzcGxheU9iamVjdFtdfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY2hpbGRyZW4gPSBbXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSWYgc2V0IHRvIHRydWUsIHRoZSBjb250YWluZXIgd2lsbCBzb3J0IGl0cyBjaGlsZHJlbiBieSB6SW5kZXggdmFsdWVcbiAgICAgICAgICogd2hlbiB1cGRhdGVUcmFuc2Zvcm0oKSBpcyBjYWxsZWQsIG9yIG1hbnVhbGx5IGlmIHNvcnRDaGlsZHJlbigpIGlzIGNhbGxlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhpcyBhY3R1YWxseSBjaGFuZ2VzIHRoZSBvcmRlciBvZiBlbGVtZW50cyBpbiB0aGUgYXJyYXksIHNvIHNob3VsZCBiZSB0cmVhdGVkXG4gICAgICAgICAqIGFzIGEgYmFzaWMgc29sdXRpb24gdGhhdCBpcyBub3QgcGVyZm9ybWFudCBjb21wYXJlZCB0byBvdGhlciBzb2x1dGlvbnMsXG4gICAgICAgICAqIHN1Y2ggYXMgQGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL3BpeGlqcy9waXhpLWRpc3BsYXlcbiAgICAgICAgICpcbiAgICAgICAgICogQWxzbyBiZSBhd2FyZSBvZiB0aGF0IHRoaXMgbWF5IG5vdCB3b3JrIG5pY2VseSB3aXRoIHRoZSBhZGRDaGlsZEF0KCkgZnVuY3Rpb24sXG4gICAgICAgICAqIGFzIHRoZSB6SW5kZXggc29ydGluZyBtYXkgY2F1c2UgdGhlIGNoaWxkIHRvIGF1dG9tYXRpY2FsbHkgc29ydGVkIHRvIGFub3RoZXIgcG9zaXRpb24uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzZWUgUElYSS5zZXR0aW5ncy5TT1JUQUJMRV9DSElMRFJFTlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zb3J0YWJsZUNoaWxkcmVuID0gc2V0dGluZ3MuU09SVEFCTEVfQ0hJTERSRU47XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNob3VsZCBjaGlsZHJlbiBiZSBzb3J0ZWQgYnkgekluZGV4IGF0IHRoZSBuZXh0IHVwZGF0ZVRyYW5zZm9ybSBjYWxsLlxuICAgICAgICAgKiBXaWxsIGdldCBhdXRvbWF0aWNhbGx5IHNldCB0byB0cnVlIGlmIGEgbmV3IGNoaWxkIGlzIGFkZGVkLCBvciBpZiBhIGNoaWxkJ3MgekluZGV4IGNoYW5nZXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnNvcnREaXJ0eSA9IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgRGlzcGxheU9iamVjdCBpcyBhZGRlZCB0byB0aGlzIENvbnRhaW5lci5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuQ29udGFpbmVyI2NoaWxkQWRkZWRcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IGNoaWxkIC0gVGhlIGNoaWxkIGFkZGVkIHRvIHRoZSBDb250YWluZXIuXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5Db250YWluZXJ9IGNvbnRhaW5lciAtIFRoZSBjb250YWluZXIgdGhhdCBhZGRlZCB0aGUgY2hpbGQuXG4gICAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleCAtIFRoZSBjaGlsZHJlbidzIGluZGV4IG9mIHRoZSBhZGRlZCBjaGlsZC5cbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBEaXNwbGF5T2JqZWN0IGlzIHJlbW92ZWQgZnJvbSB0aGlzIENvbnRhaW5lci5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNyZW1vdmVkRnJvbVxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gY2hpbGQgLSBUaGUgY2hpbGQgcmVtb3ZlZCBmcm9tIHRoZSBDb250YWluZXIuXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5Db250YWluZXJ9IGNvbnRhaW5lciAtIFRoZSBjb250YWluZXIgdGhhdCByZW1vdmVkIHJlbW92ZWQgdGhlIGNoaWxkLlxuICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXggLSBUaGUgZm9ybWVyIGNoaWxkcmVuJ3MgaW5kZXggb2YgdGhlIHJlbW92ZWQgY2hpbGRcbiAgICAgICAgICovXG4gICAgfVxuXG4gICAgaWYgKCBEaXNwbGF5T2JqZWN0ICkgQ29udGFpbmVyLl9fcHJvdG9fXyA9IERpc3BsYXlPYmplY3Q7XG4gICAgQ29udGFpbmVyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIERpc3BsYXlPYmplY3QgJiYgRGlzcGxheU9iamVjdC5wcm90b3R5cGUgKTtcbiAgICBDb250YWluZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQ29udGFpbmVyO1xuXG4gICAgdmFyIHByb3RvdHlwZUFjY2Vzc29ycyA9IHsgd2lkdGg6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0saGVpZ2h0OiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH07XG5cbiAgICAvKipcbiAgICAgKiBPdmVycmlkYWJsZSBtZXRob2QgdGhhdCBjYW4gYmUgdXNlZCBieSBDb250YWluZXIgc3ViY2xhc3NlcyB3aGVuZXZlciB0aGUgY2hpbGRyZW4gYXJyYXkgaXMgbW9kaWZpZWRcbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBDb250YWluZXIucHJvdG90eXBlLm9uQ2hpbGRyZW5DaGFuZ2UgPSBmdW5jdGlvbiBvbkNoaWxkcmVuQ2hhbmdlICgpXG4gICAge1xuICAgICAgICAvKiBlbXB0eSAqL1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIG9uZSBvciBtb3JlIGNoaWxkcmVuIHRvIHRoZSBjb250YWluZXIuXG4gICAgICpcbiAgICAgKiBNdWx0aXBsZSBpdGVtcyBjYW4gYmUgYWRkZWQgbGlrZSBzbzogYG15Q29udGFpbmVyLmFkZENoaWxkKHRoaW5nT25lLCB0aGluZ1R3bywgdGhpbmdUaHJlZSlgXG4gICAgICpcbiAgICAgKiBAcGFyYW0gey4uLlBJWEkuRGlzcGxheU9iamVjdH0gY2hpbGQgLSBUaGUgRGlzcGxheU9iamVjdChzKSB0byBhZGQgdG8gdGhlIGNvbnRhaW5lclxuICAgICAqIEByZXR1cm4ge1BJWEkuRGlzcGxheU9iamVjdH0gVGhlIGZpcnN0IGNoaWxkIHRoYXQgd2FzIGFkZGVkLlxuICAgICAqL1xuICAgIENvbnRhaW5lci5wcm90b3R5cGUuYWRkQ2hpbGQgPSBmdW5jdGlvbiBhZGRDaGlsZCAoY2hpbGQpXG4gICAge1xuICAgICAgICB2YXIgYXJndW1lbnRzJDEgPSBhcmd1bWVudHM7XG5cbiAgICAgICAgdmFyIGFyZ3VtZW50c0xlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGg7XG5cbiAgICAgICAgLy8gaWYgdGhlcmUgaXMgb25seSBvbmUgYXJndW1lbnQgd2UgY2FuIGJ5cGFzcyBsb29waW5nIHRocm91Z2ggdGhlIHRoZW1cbiAgICAgICAgaWYgKGFyZ3VtZW50c0xlbmd0aCA+IDEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIGxvb3AgdGhyb3VnaCB0aGUgYXJndW1lbnRzIHByb3BlcnR5IGFuZCBhZGQgYWxsIGNoaWxkcmVuXG4gICAgICAgICAgICAvLyB1c2UgaXQgdGhlIHJpZ2h0IHdheSAoLmxlbmd0aCBhbmQgW2ldKSBzbyB0aGF0IHRoaXMgZnVuY3Rpb24gY2FuIHN0aWxsIGJlIG9wdGltaXplZCBieSBKUyBydW50aW1lc1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmd1bWVudHNMZW5ndGg7IGkrKylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFkZENoaWxkKGFyZ3VtZW50cyQxW2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIGlmIHRoZSBjaGlsZCBoYXMgYSBwYXJlbnQgdGhlbiBsZXRzIHJlbW92ZSBpdCBhcyBQaXhpSlMgb2JqZWN0cyBjYW4gb25seSBleGlzdCBpbiBvbmUgcGxhY2VcbiAgICAgICAgICAgIGlmIChjaGlsZC5wYXJlbnQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY2hpbGQucGFyZW50LnJlbW92ZUNoaWxkKGNoaWxkKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2hpbGQucGFyZW50ID0gdGhpcztcbiAgICAgICAgICAgIHRoaXMuc29ydERpcnR5ID0gdHJ1ZTtcblxuICAgICAgICAgICAgLy8gZW5zdXJlIGNoaWxkIHRyYW5zZm9ybSB3aWxsIGJlIHJlY2FsY3VsYXRlZFxuICAgICAgICAgICAgY2hpbGQudHJhbnNmb3JtLl9wYXJlbnRJRCA9IC0xO1xuXG4gICAgICAgICAgICB0aGlzLmNoaWxkcmVuLnB1c2goY2hpbGQpO1xuXG4gICAgICAgICAgICAvLyBlbnN1cmUgYm91bmRzIHdpbGwgYmUgcmVjYWxjdWxhdGVkXG4gICAgICAgICAgICB0aGlzLl9ib3VuZHNJRCsrO1xuXG4gICAgICAgICAgICAvLyBUT0RPIC0gbGV0cyBlaXRoZXIgZG8gYWxsIGNhbGxiYWNrcyBvciBhbGwgZXZlbnRzLi4gbm90IGJvdGghXG4gICAgICAgICAgICB0aGlzLm9uQ2hpbGRyZW5DaGFuZ2UodGhpcy5jaGlsZHJlbi5sZW5ndGggLSAxKTtcbiAgICAgICAgICAgIHRoaXMuZW1pdCgnY2hpbGRBZGRlZCcsIGNoaWxkLCB0aGlzLCB0aGlzLmNoaWxkcmVuLmxlbmd0aCAtIDEpO1xuICAgICAgICAgICAgY2hpbGQuZW1pdCgnYWRkZWQnLCB0aGlzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjaGlsZDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQWRkcyBhIGNoaWxkIHRvIHRoZSBjb250YWluZXIgYXQgYSBzcGVjaWZpZWQgaW5kZXguIElmIHRoZSBpbmRleCBpcyBvdXQgb2YgYm91bmRzIGFuIGVycm9yIHdpbGwgYmUgdGhyb3duXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gY2hpbGQgLSBUaGUgY2hpbGQgdG8gYWRkXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IC0gVGhlIGluZGV4IHRvIHBsYWNlIHRoZSBjaGlsZCBpblxuICAgICAqIEByZXR1cm4ge1BJWEkuRGlzcGxheU9iamVjdH0gVGhlIGNoaWxkIHRoYXQgd2FzIGFkZGVkLlxuICAgICAqL1xuICAgIENvbnRhaW5lci5wcm90b3R5cGUuYWRkQ2hpbGRBdCA9IGZ1bmN0aW9uIGFkZENoaWxkQXQgKGNoaWxkLCBpbmRleClcbiAgICB7XG4gICAgICAgIGlmIChpbmRleCA8IDAgfHwgaW5kZXggPiB0aGlzLmNoaWxkcmVuLmxlbmd0aClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKChjaGlsZCArIFwiYWRkQ2hpbGRBdDogVGhlIGluZGV4IFwiICsgaW5kZXggKyBcIiBzdXBwbGllZCBpcyBvdXQgb2YgYm91bmRzIFwiICsgKHRoaXMuY2hpbGRyZW4ubGVuZ3RoKSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNoaWxkLnBhcmVudClcbiAgICAgICAge1xuICAgICAgICAgICAgY2hpbGQucGFyZW50LnJlbW92ZUNoaWxkKGNoaWxkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNoaWxkLnBhcmVudCA9IHRoaXM7XG4gICAgICAgIHRoaXMuc29ydERpcnR5ID0gdHJ1ZTtcblxuICAgICAgICAvLyBlbnN1cmUgY2hpbGQgdHJhbnNmb3JtIHdpbGwgYmUgcmVjYWxjdWxhdGVkXG4gICAgICAgIGNoaWxkLnRyYW5zZm9ybS5fcGFyZW50SUQgPSAtMTtcblxuICAgICAgICB0aGlzLmNoaWxkcmVuLnNwbGljZShpbmRleCwgMCwgY2hpbGQpO1xuXG4gICAgICAgIC8vIGVuc3VyZSBib3VuZHMgd2lsbCBiZSByZWNhbGN1bGF0ZWRcbiAgICAgICAgdGhpcy5fYm91bmRzSUQrKztcblxuICAgICAgICAvLyBUT0RPIC0gbGV0cyBlaXRoZXIgZG8gYWxsIGNhbGxiYWNrcyBvciBhbGwgZXZlbnRzLi4gbm90IGJvdGghXG4gICAgICAgIHRoaXMub25DaGlsZHJlbkNoYW5nZShpbmRleCk7XG4gICAgICAgIGNoaWxkLmVtaXQoJ2FkZGVkJywgdGhpcyk7XG4gICAgICAgIHRoaXMuZW1pdCgnY2hpbGRBZGRlZCcsIGNoaWxkLCB0aGlzLCBpbmRleCk7XG5cbiAgICAgICAgcmV0dXJuIGNoaWxkO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTd2FwcyB0aGUgcG9zaXRpb24gb2YgMiBEaXNwbGF5IE9iamVjdHMgd2l0aGluIHRoaXMgY29udGFpbmVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IGNoaWxkIC0gRmlyc3QgZGlzcGxheSBvYmplY3QgdG8gc3dhcFxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBjaGlsZDIgLSBTZWNvbmQgZGlzcGxheSBvYmplY3QgdG8gc3dhcFxuICAgICAqL1xuICAgIENvbnRhaW5lci5wcm90b3R5cGUuc3dhcENoaWxkcmVuID0gZnVuY3Rpb24gc3dhcENoaWxkcmVuIChjaGlsZCwgY2hpbGQyKVxuICAgIHtcbiAgICAgICAgaWYgKGNoaWxkID09PSBjaGlsZDIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBpbmRleDEgPSB0aGlzLmdldENoaWxkSW5kZXgoY2hpbGQpO1xuICAgICAgICB2YXIgaW5kZXgyID0gdGhpcy5nZXRDaGlsZEluZGV4KGNoaWxkMik7XG5cbiAgICAgICAgdGhpcy5jaGlsZHJlbltpbmRleDFdID0gY2hpbGQyO1xuICAgICAgICB0aGlzLmNoaWxkcmVuW2luZGV4Ml0gPSBjaGlsZDtcbiAgICAgICAgdGhpcy5vbkNoaWxkcmVuQ2hhbmdlKGluZGV4MSA8IGluZGV4MiA/IGluZGV4MSA6IGluZGV4Mik7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGluZGV4IHBvc2l0aW9uIG9mIGEgY2hpbGQgRGlzcGxheU9iamVjdCBpbnN0YW5jZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IGNoaWxkIC0gVGhlIERpc3BsYXlPYmplY3QgaW5zdGFuY2UgdG8gaWRlbnRpZnlcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBpbmRleCBwb3NpdGlvbiBvZiB0aGUgY2hpbGQgZGlzcGxheSBvYmplY3QgdG8gaWRlbnRpZnlcbiAgICAgKi9cbiAgICBDb250YWluZXIucHJvdG90eXBlLmdldENoaWxkSW5kZXggPSBmdW5jdGlvbiBnZXRDaGlsZEluZGV4IChjaGlsZClcbiAgICB7XG4gICAgICAgIHZhciBpbmRleCA9IHRoaXMuY2hpbGRyZW4uaW5kZXhPZihjaGlsZCk7XG5cbiAgICAgICAgaWYgKGluZGV4ID09PSAtMSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGUgc3VwcGxpZWQgRGlzcGxheU9iamVjdCBtdXN0IGJlIGEgY2hpbGQgb2YgdGhlIGNhbGxlcicpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGluZGV4O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDaGFuZ2VzIHRoZSBwb3NpdGlvbiBvZiBhbiBleGlzdGluZyBjaGlsZCBpbiB0aGUgZGlzcGxheSBvYmplY3QgY29udGFpbmVyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gY2hpbGQgLSBUaGUgY2hpbGQgRGlzcGxheU9iamVjdCBpbnN0YW5jZSBmb3Igd2hpY2ggeW91IHdhbnQgdG8gY2hhbmdlIHRoZSBpbmRleCBudW1iZXJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXggLSBUaGUgcmVzdWx0aW5nIGluZGV4IG51bWJlciBmb3IgdGhlIGNoaWxkIGRpc3BsYXkgb2JqZWN0XG4gICAgICovXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS5zZXRDaGlsZEluZGV4ID0gZnVuY3Rpb24gc2V0Q2hpbGRJbmRleCAoY2hpbGQsIGluZGV4KVxuICAgIHtcbiAgICAgICAgaWYgKGluZGV4IDwgMCB8fCBpbmRleCA+PSB0aGlzLmNoaWxkcmVuLmxlbmd0aClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKChcIlRoZSBpbmRleCBcIiArIGluZGV4ICsgXCIgc3VwcGxpZWQgaXMgb3V0IG9mIGJvdW5kcyBcIiArICh0aGlzLmNoaWxkcmVuLmxlbmd0aCkpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBjdXJyZW50SW5kZXggPSB0aGlzLmdldENoaWxkSW5kZXgoY2hpbGQpO1xuXG4gICAgICAgIHJlbW92ZUl0ZW1zKHRoaXMuY2hpbGRyZW4sIGN1cnJlbnRJbmRleCwgMSk7IC8vIHJlbW92ZSBmcm9tIG9sZCBwb3NpdGlvblxuICAgICAgICB0aGlzLmNoaWxkcmVuLnNwbGljZShpbmRleCwgMCwgY2hpbGQpOyAvLyBhZGQgYXQgbmV3IHBvc2l0aW9uXG5cbiAgICAgICAgdGhpcy5vbkNoaWxkcmVuQ2hhbmdlKGluZGV4KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgY2hpbGQgYXQgdGhlIHNwZWNpZmllZCBpbmRleFxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IC0gVGhlIGluZGV4IHRvIGdldCB0aGUgY2hpbGQgYXRcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkRpc3BsYXlPYmplY3R9IFRoZSBjaGlsZCBhdCB0aGUgZ2l2ZW4gaW5kZXgsIGlmIGFueS5cbiAgICAgKi9cbiAgICBDb250YWluZXIucHJvdG90eXBlLmdldENoaWxkQXQgPSBmdW5jdGlvbiBnZXRDaGlsZEF0IChpbmRleClcbiAgICB7XG4gICAgICAgIGlmIChpbmRleCA8IDAgfHwgaW5kZXggPj0gdGhpcy5jaGlsZHJlbi5sZW5ndGgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigoXCJnZXRDaGlsZEF0OiBJbmRleCAoXCIgKyBpbmRleCArIFwiKSBkb2VzIG5vdCBleGlzdC5cIikpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuY2hpbGRyZW5baW5kZXhdO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIG9uZSBvciBtb3JlIGNoaWxkcmVuIGZyb20gdGhlIGNvbnRhaW5lci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Li4uUElYSS5EaXNwbGF5T2JqZWN0fSBjaGlsZCAtIFRoZSBEaXNwbGF5T2JqZWN0KHMpIHRvIHJlbW92ZVxuICAgICAqIEByZXR1cm4ge1BJWEkuRGlzcGxheU9iamVjdH0gVGhlIGZpcnN0IGNoaWxkIHRoYXQgd2FzIHJlbW92ZWQuXG4gICAgICovXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS5yZW1vdmVDaGlsZCA9IGZ1bmN0aW9uIHJlbW92ZUNoaWxkIChjaGlsZClcbiAgICB7XG4gICAgICAgIHZhciBhcmd1bWVudHMkMSA9IGFyZ3VtZW50cztcblxuICAgICAgICB2YXIgYXJndW1lbnRzTGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aDtcblxuICAgICAgICAvLyBpZiB0aGVyZSBpcyBvbmx5IG9uZSBhcmd1bWVudCB3ZSBjYW4gYnlwYXNzIGxvb3BpbmcgdGhyb3VnaCB0aGUgdGhlbVxuICAgICAgICBpZiAoYXJndW1lbnRzTGVuZ3RoID4gMSlcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gbG9vcCB0aHJvdWdoIHRoZSBhcmd1bWVudHMgcHJvcGVydHkgYW5kIGFkZCBhbGwgY2hpbGRyZW5cbiAgICAgICAgICAgIC8vIHVzZSBpdCB0aGUgcmlnaHQgd2F5ICgubGVuZ3RoIGFuZCBbaV0pIHNvIHRoYXQgdGhpcyBmdW5jdGlvbiBjYW4gc3RpbGwgYmUgb3B0aW1pemVkIGJ5IEpTIHJ1bnRpbWVzXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3VtZW50c0xlbmd0aDsgaSsrKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlQ2hpbGQoYXJndW1lbnRzJDFbaV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5jaGlsZHJlbi5pbmRleE9mKGNoaWxkKTtcblxuICAgICAgICAgICAgaWYgKGluZGV4ID09PSAtMSkgeyByZXR1cm4gbnVsbDsgfVxuXG4gICAgICAgICAgICBjaGlsZC5wYXJlbnQgPSBudWxsO1xuICAgICAgICAgICAgLy8gZW5zdXJlIGNoaWxkIHRyYW5zZm9ybSB3aWxsIGJlIHJlY2FsY3VsYXRlZFxuICAgICAgICAgICAgY2hpbGQudHJhbnNmb3JtLl9wYXJlbnRJRCA9IC0xO1xuICAgICAgICAgICAgcmVtb3ZlSXRlbXModGhpcy5jaGlsZHJlbiwgaW5kZXgsIDEpO1xuXG4gICAgICAgICAgICAvLyBlbnN1cmUgYm91bmRzIHdpbGwgYmUgcmVjYWxjdWxhdGVkXG4gICAgICAgICAgICB0aGlzLl9ib3VuZHNJRCsrO1xuXG4gICAgICAgICAgICAvLyBUT0RPIC0gbGV0cyBlaXRoZXIgZG8gYWxsIGNhbGxiYWNrcyBvciBhbGwgZXZlbnRzLi4gbm90IGJvdGghXG4gICAgICAgICAgICB0aGlzLm9uQ2hpbGRyZW5DaGFuZ2UoaW5kZXgpO1xuICAgICAgICAgICAgY2hpbGQuZW1pdCgncmVtb3ZlZCcsIHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5lbWl0KCdjaGlsZFJlbW92ZWQnLCBjaGlsZCwgdGhpcywgaW5kZXgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGNoaWxkO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGEgY2hpbGQgZnJvbSB0aGUgc3BlY2lmaWVkIGluZGV4IHBvc2l0aW9uLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IC0gVGhlIGluZGV4IHRvIGdldCB0aGUgY2hpbGQgZnJvbVxuICAgICAqIEByZXR1cm4ge1BJWEkuRGlzcGxheU9iamVjdH0gVGhlIGNoaWxkIHRoYXQgd2FzIHJlbW92ZWQuXG4gICAgICovXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS5yZW1vdmVDaGlsZEF0ID0gZnVuY3Rpb24gcmVtb3ZlQ2hpbGRBdCAoaW5kZXgpXG4gICAge1xuICAgICAgICB2YXIgY2hpbGQgPSB0aGlzLmdldENoaWxkQXQoaW5kZXgpO1xuXG4gICAgICAgIC8vIGVuc3VyZSBjaGlsZCB0cmFuc2Zvcm0gd2lsbCBiZSByZWNhbGN1bGF0ZWQuLlxuICAgICAgICBjaGlsZC5wYXJlbnQgPSBudWxsO1xuICAgICAgICBjaGlsZC50cmFuc2Zvcm0uX3BhcmVudElEID0gLTE7XG4gICAgICAgIHJlbW92ZUl0ZW1zKHRoaXMuY2hpbGRyZW4sIGluZGV4LCAxKTtcblxuICAgICAgICAvLyBlbnN1cmUgYm91bmRzIHdpbGwgYmUgcmVjYWxjdWxhdGVkXG4gICAgICAgIHRoaXMuX2JvdW5kc0lEKys7XG5cbiAgICAgICAgLy8gVE9ETyAtIGxldHMgZWl0aGVyIGRvIGFsbCBjYWxsYmFja3Mgb3IgYWxsIGV2ZW50cy4uIG5vdCBib3RoIVxuICAgICAgICB0aGlzLm9uQ2hpbGRyZW5DaGFuZ2UoaW5kZXgpO1xuICAgICAgICBjaGlsZC5lbWl0KCdyZW1vdmVkJywgdGhpcyk7XG4gICAgICAgIHRoaXMuZW1pdCgnY2hpbGRSZW1vdmVkJywgY2hpbGQsIHRoaXMsIGluZGV4KTtcblxuICAgICAgICByZXR1cm4gY2hpbGQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYWxsIGNoaWxkcmVuIGZyb20gdGhpcyBjb250YWluZXIgdGhhdCBhcmUgd2l0aGluIHRoZSBiZWdpbiBhbmQgZW5kIGluZGV4ZXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2JlZ2luSW5kZXg9MF0gLSBUaGUgYmVnaW5uaW5nIHBvc2l0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZW5kSW5kZXg9dGhpcy5jaGlsZHJlbi5sZW5ndGhdIC0gVGhlIGVuZGluZyBwb3NpdGlvbi4gRGVmYXVsdCB2YWx1ZSBpcyBzaXplIG9mIHRoZSBjb250YWluZXIuXG4gICAgICogQHJldHVybnMge1BJWEkuRGlzcGxheU9iamVjdFtdfSBMaXN0IG9mIHJlbW92ZWQgY2hpbGRyZW5cbiAgICAgKi9cbiAgICBDb250YWluZXIucHJvdG90eXBlLnJlbW92ZUNoaWxkcmVuID0gZnVuY3Rpb24gcmVtb3ZlQ2hpbGRyZW4gKGJlZ2luSW5kZXgsIGVuZEluZGV4KVxuICAgIHtcbiAgICAgICAgaWYgKCBiZWdpbkluZGV4ID09PSB2b2lkIDAgKSBiZWdpbkluZGV4ID0gMDtcblxuICAgICAgICB2YXIgYmVnaW4gPSBiZWdpbkluZGV4O1xuICAgICAgICB2YXIgZW5kID0gdHlwZW9mIGVuZEluZGV4ID09PSAnbnVtYmVyJyA/IGVuZEluZGV4IDogdGhpcy5jaGlsZHJlbi5sZW5ndGg7XG4gICAgICAgIHZhciByYW5nZSA9IGVuZCAtIGJlZ2luO1xuICAgICAgICB2YXIgcmVtb3ZlZDtcblxuICAgICAgICBpZiAocmFuZ2UgPiAwICYmIHJhbmdlIDw9IGVuZClcbiAgICAgICAge1xuICAgICAgICAgICAgcmVtb3ZlZCA9IHRoaXMuY2hpbGRyZW4uc3BsaWNlKGJlZ2luLCByYW5nZSk7XG5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmVtb3ZlZC5sZW5ndGg7ICsraSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZW1vdmVkW2ldLnBhcmVudCA9IG51bGw7XG4gICAgICAgICAgICAgICAgaWYgKHJlbW92ZWRbaV0udHJhbnNmb3JtKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgcmVtb3ZlZFtpXS50cmFuc2Zvcm0uX3BhcmVudElEID0gLTE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9ib3VuZHNJRCsrO1xuXG4gICAgICAgICAgICB0aGlzLm9uQ2hpbGRyZW5DaGFuZ2UoYmVnaW5JbmRleCk7XG5cbiAgICAgICAgICAgIGZvciAodmFyIGkkMSA9IDA7IGkkMSA8IHJlbW92ZWQubGVuZ3RoOyArK2kkMSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZW1vdmVkW2kkMV0uZW1pdCgncmVtb3ZlZCcsIHRoaXMpO1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgnY2hpbGRSZW1vdmVkJywgcmVtb3ZlZFtpJDFdLCB0aGlzLCBpJDEpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gcmVtb3ZlZDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChyYW5nZSA9PT0gMCAmJiB0aGlzLmNoaWxkcmVuLmxlbmd0aCA9PT0gMClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ3JlbW92ZUNoaWxkcmVuOiBudW1lcmljIHZhbHVlcyBhcmUgb3V0c2lkZSB0aGUgYWNjZXB0YWJsZSByYW5nZS4nKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU29ydHMgY2hpbGRyZW4gYnkgekluZGV4LiBQcmV2aW91cyBvcmRlciBpcyBtYW50YWluZWQgZm9yIDIgY2hpbGRyZW4gd2l0aCB0aGUgc2FtZSB6SW5kZXguXG4gICAgICovXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS5zb3J0Q2hpbGRyZW4gPSBmdW5jdGlvbiBzb3J0Q2hpbGRyZW4kMSAoKVxuICAgIHtcbiAgICAgICAgdmFyIHNvcnRSZXF1aXJlZCA9IGZhbHNlO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBqID0gdGhpcy5jaGlsZHJlbi5sZW5ndGg7IGkgPCBqOyArK2kpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBjaGlsZCA9IHRoaXMuY2hpbGRyZW5baV07XG5cbiAgICAgICAgICAgIGNoaWxkLl9sYXN0U29ydGVkSW5kZXggPSBpO1xuXG4gICAgICAgICAgICBpZiAoIXNvcnRSZXF1aXJlZCAmJiBjaGlsZC56SW5kZXggIT09IDApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc29ydFJlcXVpcmVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzb3J0UmVxdWlyZWQgJiYgdGhpcy5jaGlsZHJlbi5sZW5ndGggPiAxKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmNoaWxkcmVuLnNvcnQoc29ydENoaWxkcmVuKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc29ydERpcnR5ID0gZmFsc2U7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIHRyYW5zZm9ybSBvbiBhbGwgY2hpbGRyZW4gb2YgdGhpcyBjb250YWluZXIgZm9yIHJlbmRlcmluZ1xuICAgICAqL1xuICAgIENvbnRhaW5lci5wcm90b3R5cGUudXBkYXRlVHJhbnNmb3JtID0gZnVuY3Rpb24gdXBkYXRlVHJhbnNmb3JtICgpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5zb3J0YWJsZUNoaWxkcmVuICYmIHRoaXMuc29ydERpcnR5KVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnNvcnRDaGlsZHJlbigpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fYm91bmRzSUQrKztcblxuICAgICAgICB0aGlzLnRyYW5zZm9ybS51cGRhdGVUcmFuc2Zvcm0odGhpcy5wYXJlbnQudHJhbnNmb3JtKTtcblxuICAgICAgICAvLyBUT0RPOiBjaGVjayByZW5kZXIgZmxhZ3MsIGhvdyB0byBwcm9jZXNzIHN0dWZmIGhlcmVcbiAgICAgICAgdGhpcy53b3JsZEFscGhhID0gdGhpcy5hbHBoYSAqIHRoaXMucGFyZW50LndvcmxkQWxwaGE7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGogPSB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgaSA8IGo7ICsraSlcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIGNoaWxkID0gdGhpcy5jaGlsZHJlbltpXTtcblxuICAgICAgICAgICAgaWYgKGNoaWxkLnZpc2libGUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY2hpbGQudXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVjYWxjdWxhdGVzIHRoZSBib3VuZHMgb2YgdGhlIGNvbnRhaW5lci5cbiAgICAgKlxuICAgICAqL1xuICAgIENvbnRhaW5lci5wcm90b3R5cGUuY2FsY3VsYXRlQm91bmRzID0gZnVuY3Rpb24gY2FsY3VsYXRlQm91bmRzICgpXG4gICAge1xuICAgICAgICB0aGlzLl9ib3VuZHMuY2xlYXIoKTtcblxuICAgICAgICB0aGlzLl9jYWxjdWxhdGVCb3VuZHMoKTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBjaGlsZCA9IHRoaXMuY2hpbGRyZW5baV07XG5cbiAgICAgICAgICAgIGlmICghY2hpbGQudmlzaWJsZSB8fCAhY2hpbGQucmVuZGVyYWJsZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2hpbGQuY2FsY3VsYXRlQm91bmRzKCk7XG5cbiAgICAgICAgICAgIC8vIFRPRE86IGZpbHRlcittYXNrLCBuZWVkIHRvIG1hc2sgYm90aCBzb21laG93XG4gICAgICAgICAgICBpZiAoY2hpbGQuX21hc2spXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdmFyIG1hc2tPYmplY3QgPSBjaGlsZC5fbWFzay5tYXNrT2JqZWN0IHx8IGNoaWxkLl9tYXNrO1xuXG4gICAgICAgICAgICAgICAgbWFza09iamVjdC5jYWxjdWxhdGVCb3VuZHMoKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9ib3VuZHMuYWRkQm91bmRzTWFzayhjaGlsZC5fYm91bmRzLCBtYXNrT2JqZWN0Ll9ib3VuZHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hpbGQuZmlsdGVyQXJlYSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9ib3VuZHMuYWRkQm91bmRzQXJlYShjaGlsZC5fYm91bmRzLCBjaGlsZC5maWx0ZXJBcmVhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9ib3VuZHMuYWRkQm91bmRzKGNoaWxkLl9ib3VuZHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fbGFzdEJvdW5kc0lEID0gdGhpcy5fYm91bmRzSUQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlY2FsY3VsYXRlcyB0aGUgYm91bmRzIG9mIHRoZSBvYmplY3QuIE92ZXJyaWRlIHRoaXMgdG9cbiAgICAgKiBjYWxjdWxhdGUgdGhlIGJvdW5kcyBvZiB0aGUgc3BlY2lmaWMgb2JqZWN0IChub3QgaW5jbHVkaW5nIGNoaWxkcmVuKS5cbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBDb250YWluZXIucHJvdG90eXBlLl9jYWxjdWxhdGVCb3VuZHMgPSBmdW5jdGlvbiBfY2FsY3VsYXRlQm91bmRzICgpXG4gICAge1xuICAgICAgICAvLyBGSUxMIElOLy9cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVuZGVycyB0aGUgb2JqZWN0IHVzaW5nIHRoZSBXZWJHTCByZW5kZXJlclxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlclxuICAgICAqL1xuICAgIENvbnRhaW5lci5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyIChyZW5kZXJlcilcbiAgICB7XG4gICAgICAgIC8vIGlmIHRoZSBvYmplY3QgaXMgbm90IHZpc2libGUgb3IgdGhlIGFscGhhIGlzIDAgdGhlbiBubyBuZWVkIHRvIHJlbmRlciB0aGlzIGVsZW1lbnRcbiAgICAgICAgaWYgKCF0aGlzLnZpc2libGUgfHwgdGhpcy53b3JsZEFscGhhIDw9IDAgfHwgIXRoaXMucmVuZGVyYWJsZSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gZG8gYSBxdWljayBjaGVjayB0byBzZWUgaWYgdGhpcyBlbGVtZW50IGhhcyBhIG1hc2sgb3IgYSBmaWx0ZXIuXG4gICAgICAgIGlmICh0aGlzLl9tYXNrIHx8ICh0aGlzLmZpbHRlcnMgJiYgdGhpcy5maWx0ZXJzLmxlbmd0aCkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyQWR2YW5jZWQocmVuZGVyZXIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fcmVuZGVyKHJlbmRlcmVyKTtcblxuICAgICAgICAgICAgLy8gc2ltcGxlIHJlbmRlciBjaGlsZHJlbiFcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBqID0gdGhpcy5jaGlsZHJlbi5sZW5ndGg7IGkgPCBqOyArK2kpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5jaGlsZHJlbltpXS5yZW5kZXIocmVuZGVyZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbmRlciB0aGUgb2JqZWN0IHVzaW5nIHRoZSBXZWJHTCByZW5kZXJlciBhbmQgYWR2YW5jZWQgZmVhdHVyZXMuXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlclxuICAgICAqL1xuICAgIENvbnRhaW5lci5wcm90b3R5cGUucmVuZGVyQWR2YW5jZWQgPSBmdW5jdGlvbiByZW5kZXJBZHZhbmNlZCAocmVuZGVyZXIpXG4gICAge1xuICAgICAgICByZW5kZXJlci5iYXRjaC5mbHVzaCgpO1xuXG4gICAgICAgIHZhciBmaWx0ZXJzID0gdGhpcy5maWx0ZXJzO1xuICAgICAgICB2YXIgbWFzayA9IHRoaXMuX21hc2s7XG5cbiAgICAgICAgLy8gcHVzaCBmaWx0ZXIgZmlyc3QgYXMgd2UgbmVlZCB0byBlbnN1cmUgdGhlIHN0ZW5jaWwgYnVmZmVyIGlzIGNvcnJlY3QgZm9yIGFueSBtYXNraW5nXG4gICAgICAgIGlmIChmaWx0ZXJzKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX2VuYWJsZWRGaWx0ZXJzKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuX2VuYWJsZWRGaWx0ZXJzID0gW107XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX2VuYWJsZWRGaWx0ZXJzLmxlbmd0aCA9IDA7XG5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZmlsdGVycy5sZW5ndGg7IGkrKylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAoZmlsdGVyc1tpXS5lbmFibGVkKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZW5hYmxlZEZpbHRlcnMucHVzaChmaWx0ZXJzW2ldKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0aGlzLl9lbmFibGVkRmlsdGVycy5sZW5ndGgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmVuZGVyZXIuZmlsdGVyLnB1c2godGhpcywgdGhpcy5fZW5hYmxlZEZpbHRlcnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG1hc2spXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJlbmRlcmVyLm1hc2sucHVzaCh0aGlzLCB0aGlzLl9tYXNrKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGFkZCB0aGlzIG9iamVjdCB0byB0aGUgYmF0Y2gsIG9ubHkgcmVuZGVyZWQgaWYgaXQgaGFzIGEgdGV4dHVyZS5cbiAgICAgICAgdGhpcy5fcmVuZGVyKHJlbmRlcmVyKTtcblxuICAgICAgICAvLyBub3cgbG9vcCB0aHJvdWdoIHRoZSBjaGlsZHJlbiBhbmQgbWFrZSBzdXJlIHRoZXkgZ2V0IHJlbmRlcmVkXG4gICAgICAgIGZvciAodmFyIGkkMSA9IDAsIGogPSB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgaSQxIDwgajsgaSQxKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuY2hpbGRyZW5baSQxXS5yZW5kZXIocmVuZGVyZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVuZGVyZXIuYmF0Y2guZmx1c2goKTtcblxuICAgICAgICBpZiAobWFzaylcbiAgICAgICAge1xuICAgICAgICAgICAgcmVuZGVyZXIubWFzay5wb3AodGhpcywgdGhpcy5fbWFzayk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZmlsdGVycyAmJiB0aGlzLl9lbmFibGVkRmlsdGVycyAmJiB0aGlzLl9lbmFibGVkRmlsdGVycy5sZW5ndGgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJlbmRlcmVyLmZpbHRlci5wb3AoKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUbyBiZSBvdmVycmlkZGVuIGJ5IHRoZSBzdWJjbGFzc2VzLlxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXJcbiAgICAgKi9cbiAgICBDb250YWluZXIucHJvdG90eXBlLl9yZW5kZXIgPSBmdW5jdGlvbiBfcmVuZGVyIChyZW5kZXJlcikgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuICAgIHtcbiAgICAgICAgLy8gdGhpcyBpcyB3aGVyZSBjb250ZW50IGl0c2VsZiBnZXRzIHJlbmRlcmVkLi4uXG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYWxsIGludGVybmFsIHJlZmVyZW5jZXMgYW5kIGxpc3RlbmVycyBhcyB3ZWxsIGFzIHJlbW92ZXMgY2hpbGRyZW4gZnJvbSB0aGUgZGlzcGxheSBsaXN0LlxuICAgICAqIERvIG5vdCB1c2UgYSBDb250YWluZXIgYWZ0ZXIgY2FsbGluZyBgZGVzdHJveWAuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge29iamVjdHxib29sZWFufSBbb3B0aW9uc10gLSBPcHRpb25zIHBhcmFtZXRlci4gQSBib29sZWFuIHdpbGwgYWN0IGFzIGlmIGFsbCBvcHRpb25zXG4gICAgICogIGhhdmUgYmVlbiBzZXQgdG8gdGhhdCB2YWx1ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY2hpbGRyZW49ZmFsc2VdIC0gaWYgc2V0IHRvIHRydWUsIGFsbCB0aGUgY2hpbGRyZW4gd2lsbCBoYXZlIHRoZWlyIGRlc3Ryb3lcbiAgICAgKiAgbWV0aG9kIGNhbGxlZCBhcyB3ZWxsLiAnb3B0aW9ucycgd2lsbCBiZSBwYXNzZWQgb24gdG8gdGhvc2UgY2FsbHMuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy50ZXh0dXJlPWZhbHNlXSAtIE9ubHkgdXNlZCBmb3IgY2hpbGQgU3ByaXRlcyBpZiBvcHRpb25zLmNoaWxkcmVuIGlzIHNldCB0byB0cnVlXG4gICAgICogIFNob3VsZCBpdCBkZXN0cm95IHRoZSB0ZXh0dXJlIG9mIHRoZSBjaGlsZCBzcHJpdGVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmJhc2VUZXh0dXJlPWZhbHNlXSAtIE9ubHkgdXNlZCBmb3IgY2hpbGQgU3ByaXRlcyBpZiBvcHRpb25zLmNoaWxkcmVuIGlzIHNldCB0byB0cnVlXG4gICAgICogIFNob3VsZCBpdCBkZXN0cm95IHRoZSBiYXNlIHRleHR1cmUgb2YgdGhlIGNoaWxkIHNwcml0ZVxuICAgICAqL1xuICAgIENvbnRhaW5lci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3kgKG9wdGlvbnMpXG4gICAge1xuICAgICAgICBEaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyk7XG5cbiAgICAgICAgdGhpcy5zb3J0RGlydHkgPSBmYWxzZTtcblxuICAgICAgICB2YXIgZGVzdHJveUNoaWxkcmVuID0gdHlwZW9mIG9wdGlvbnMgPT09ICdib29sZWFuJyA/IG9wdGlvbnMgOiBvcHRpb25zICYmIG9wdGlvbnMuY2hpbGRyZW47XG5cbiAgICAgICAgdmFyIG9sZENoaWxkcmVuID0gdGhpcy5yZW1vdmVDaGlsZHJlbigwLCB0aGlzLmNoaWxkcmVuLmxlbmd0aCk7XG5cbiAgICAgICAgaWYgKGRlc3Ryb3lDaGlsZHJlbilcbiAgICAgICAge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvbGRDaGlsZHJlbi5sZW5ndGg7ICsraSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBvbGRDaGlsZHJlbltpXS5kZXN0cm95KG9wdGlvbnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSB3aWR0aCBvZiB0aGUgQ29udGFpbmVyLCBzZXR0aW5nIHRoaXMgd2lsbCBhY3R1YWxseSBtb2RpZnkgdGhlIHNjYWxlIHRvIGFjaGlldmUgdGhlIHZhbHVlIHNldFxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy53aWR0aC5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2NhbGUueCAqIHRoaXMuZ2V0TG9jYWxCb3VuZHMoKS53aWR0aDtcbiAgICB9O1xuXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLndpZHRoLnNldCA9IGZ1bmN0aW9uICh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICB2YXIgd2lkdGggPSB0aGlzLmdldExvY2FsQm91bmRzKCkud2lkdGg7XG5cbiAgICAgICAgaWYgKHdpZHRoICE9PSAwKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnNjYWxlLnggPSB2YWx1ZSAvIHdpZHRoO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5zY2FsZS54ID0gMTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3dpZHRoID0gdmFsdWU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIENvbnRhaW5lciwgc2V0dGluZyB0aGlzIHdpbGwgYWN0dWFsbHkgbW9kaWZ5IHRoZSBzY2FsZSB0byBhY2hpZXZlIHRoZSB2YWx1ZSBzZXRcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMuaGVpZ2h0LmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5zY2FsZS55ICogdGhpcy5nZXRMb2NhbEJvdW5kcygpLmhlaWdodDtcbiAgICB9O1xuXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLmhlaWdodC5zZXQgPSBmdW5jdGlvbiAodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgdmFyIGhlaWdodCA9IHRoaXMuZ2V0TG9jYWxCb3VuZHMoKS5oZWlnaHQ7XG5cbiAgICAgICAgaWYgKGhlaWdodCAhPT0gMClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5zY2FsZS55ID0gdmFsdWUgLyBoZWlnaHQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnNjYWxlLnkgPSAxO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5faGVpZ2h0ID0gdmFsdWU7XG4gICAgfTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKCBDb250YWluZXIucHJvdG90eXBlLCBwcm90b3R5cGVBY2Nlc3NvcnMgKTtcblxuICAgIHJldHVybiBDb250YWluZXI7XG59KERpc3BsYXlPYmplY3QpKTtcblxuLy8gcGVyZm9ybWFuY2UgaW5jcmVhc2UgdG8gYXZvaWQgdXNpbmcgY2FsbC4uICgxMHggZmFzdGVyKVxuQ29udGFpbmVyLnByb3RvdHlwZS5jb250YWluZXJVcGRhdGVUcmFuc2Zvcm0gPSBDb250YWluZXIucHJvdG90eXBlLnVwZGF0ZVRyYW5zZm9ybTtcblxuZXhwb3J0IHsgQm91bmRzLCBDb250YWluZXIsIERpc3BsYXlPYmplY3QgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRpc3BsYXkuZXMuanMubWFwXG4iLCIvKiFcbiAqIEBwaXhpL2FjY2Vzc2liaWxpdHkgLSB2NS4yLjBcbiAqIENvbXBpbGVkIFdlZCwgMDYgTm92IDIwMTkgMDI6MzI6NDMgVVRDXG4gKlxuICogQHBpeGkvYWNjZXNzaWJpbGl0eSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbmltcG9ydCB7IGlzTW9iaWxlLCByZW1vdmVJdGVtcyB9IGZyb20gJ0BwaXhpL3V0aWxzJztcbmltcG9ydCB7IERpc3BsYXlPYmplY3QgfSBmcm9tICdAcGl4aS9kaXNwbGF5JztcblxuLyoqXG4gKiBEZWZhdWx0IHByb3BlcnR5IHZhbHVlcyBvZiBhY2Nlc3NpYmxlIG9iamVjdHNcbiAqIHVzZWQgYnkge0BsaW5rIFBJWEkuYWNjZXNzaWJpbGl0eS5BY2Nlc3NpYmlsaXR5TWFuYWdlcn0uXG4gKlxuICogQHByaXZhdGVcbiAqIEBmdW5jdGlvbiBhY2Nlc3NpYmxlVGFyZ2V0XG4gKiBAbWVtYmVyb2YgUElYSS5hY2Nlc3NpYmlsaXR5XG4gKiBAdHlwZSB7T2JqZWN0fVxuICogQGV4YW1wbGVcbiAqICAgICAgZnVuY3Rpb24gTXlPYmplY3QoKSB7fVxuICpcbiAqICAgICAgT2JqZWN0LmFzc2lnbihcbiAqICAgICAgICAgIE15T2JqZWN0LnByb3RvdHlwZSxcbiAqICAgICAgICAgIFBJWEkuYWNjZXNzaWJpbGl0eS5hY2Nlc3NpYmxlVGFyZ2V0XG4gKiAgICAgICk7XG4gKi9cbnZhciBhY2Nlc3NpYmxlVGFyZ2V0ID0ge1xuICAgIC8qKlxuICAgICAqICBGbGFnIGZvciBpZiB0aGUgb2JqZWN0IGlzIGFjY2Vzc2libGUuIElmIHRydWUgQWNjZXNzaWJpbGl0eU1hbmFnZXIgd2lsbCBvdmVybGF5IGFcbiAgICAgKiAgIHNoYWRvdyBkaXYgd2l0aCBhdHRyaWJ1dGVzIHNldFxuICAgICAqXG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKiBAbWVtYmVyb2YgUElYSS5EaXNwbGF5T2JqZWN0I1xuICAgICAqL1xuICAgIGFjY2Vzc2libGU6IGZhbHNlLFxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgdGl0bGUgYXR0cmlidXRlIG9mIHRoZSBzaGFkb3cgZGl2XG4gICAgICogSWYgYWNjZXNzaWJsZVRpdGxlIEFORCBhY2Nlc3NpYmxlSGludCBoYXMgbm90IGJlZW4gdGhpcyB3aWxsIGRlZmF1bHQgdG8gJ2Rpc3BsYXlPYmplY3QgW3RhYkluZGV4XSdcbiAgICAgKlxuICAgICAqIEBtZW1iZXIgez9zdHJpbmd9XG4gICAgICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAgICAgKi9cbiAgICBhY2Nlc3NpYmxlVGl0bGU6IG51bGwsXG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBhcmlhLWxhYmVsIGF0dHJpYnV0ZSBvZiB0aGUgc2hhZG93IGRpdlxuICAgICAqXG4gICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkRpc3BsYXlPYmplY3QjXG4gICAgICovXG4gICAgYWNjZXNzaWJsZUhpbnQ6IG51bGwsXG5cbiAgICAvKipcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0b2RvIE5lZWRzIGRvY3MuXG4gICAgICovXG4gICAgdGFiSW5kZXg6IDAsXG5cbiAgICAvKipcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkRpc3BsYXlPYmplY3QjXG4gICAgICogQHRvZG8gTmVlZHMgZG9jcy5cbiAgICAgKi9cbiAgICBfYWNjZXNzaWJsZUFjdGl2ZTogZmFsc2UsXG5cbiAgICAvKipcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkRpc3BsYXlPYmplY3QjXG4gICAgICogQHRvZG8gTmVlZHMgZG9jcy5cbiAgICAgKi9cbiAgICBfYWNjZXNzaWJsZURpdjogZmFsc2UsXG5cbiAgICAvKipcbiAgICAgKiBTcGVjaWZ5IHRoZSB0eXBlIG9mIGRpdiB0aGUgYWNjZXNzaWJsZSBsYXllciBpcy4gU2NyZWVuIHJlYWRlcnMgdHJlYXQgdGhlIGVsZW1lbnQgZGlmZmVyZW50bHlcbiAgICAgKiBkZXBlbmRpbmcgb24gdGhpcyB0eXBlLiBEZWZhdWx0cyB0byBidXR0b24uXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAgICAgKiBAZGVmYXVsdCAnYnV0dG9uJ1xuICAgICAqL1xuICAgIGFjY2Vzc2libGVUeXBlOiAnYnV0dG9uJyxcblxuICAgIC8qKlxuICAgICAqIFNwZWNpZnkgdGhlIHBvaW50ZXItZXZlbnRzIHRoZSBhY2Nlc3NpYmxlIGRpdiB3aWxsIHVzZVxuICAgICAqIERlZmF1bHRzIHRvIGF1dG8uXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAgICAgKiBAZGVmYXVsdCAnYXV0bydcbiAgICAgKi9cbiAgICBhY2Nlc3NpYmxlUG9pbnRlckV2ZW50czogJ2F1dG8nLFxuXG4gICAgLyoqXG4gICAgICogU2V0dGluZyB0byBmYWxzZSB3aWxsIHByZXZlbnQgYW55IGNoaWxkcmVuIGluc2lkZSB0aGlzIGNvbnRhaW5lciB0b1xuICAgICAqIGJlIGFjY2Vzc2libGUuIERlZmF1bHRzIHRvIHRydWUuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkRpc3BsYXlPYmplY3QjXG4gICAgICogQGRlZmF1bHQgdHJ1ZVxuICAgICAqL1xuICAgIGFjY2Vzc2libGVDaGlsZHJlbjogdHJ1ZSxcbn07XG5cbi8vIGFkZCBzb21lIGV4dHJhIHZhcmlhYmxlcyB0byB0aGUgY29udGFpbmVyLi5cbkRpc3BsYXlPYmplY3QubWl4aW4oYWNjZXNzaWJsZVRhcmdldCk7XG5cbnZhciBLRVlfQ09ERV9UQUIgPSA5O1xuXG52YXIgRElWX1RPVUNIX1NJWkUgPSAxMDA7XG52YXIgRElWX1RPVUNIX1BPU19YID0gMDtcbnZhciBESVZfVE9VQ0hfUE9TX1kgPSAwO1xudmFyIERJVl9UT1VDSF9aSU5ERVggPSAyO1xuXG52YXIgRElWX0hPT0tfU0laRSA9IDE7XG52YXIgRElWX0hPT0tfUE9TX1ggPSAtMTAwMDtcbnZhciBESVZfSE9PS19QT1NfWSA9IC0xMDAwO1xudmFyIERJVl9IT09LX1pJTkRFWCA9IDI7XG5cbi8qKlxuICogVGhlIEFjY2Vzc2liaWxpdHkgbWFuYWdlciByZWNyZWF0ZXMgdGhlIGFiaWxpdHkgdG8gdGFiIGFuZCBoYXZlIGNvbnRlbnQgcmVhZCBieSBzY3JlZW4gcmVhZGVycy5cbiAqIFRoaXMgaXMgdmVyeSBpbXBvcnRhbnQgYXMgaXQgY2FuIHBvc3NpYmx5IGhlbHAgcGVvcGxlIHdpdGggZGlzYWJpbGl0aWVzIGFjY2VzcyBQaXhpSlMgY29udGVudC5cbiAqXG4gKiBBIERpc3BsYXlPYmplY3QgY2FuIGJlIG1hZGUgYWNjZXNzaWJsZSBqdXN0IGxpa2UgaXQgY2FuIGJlIG1hZGUgaW50ZXJhY3RpdmUuIFRoaXMgbWFuYWdlciB3aWxsIG1hcCB0aGVcbiAqIGV2ZW50cyBhcyBpZiB0aGUgbW91c2Ugd2FzIGJlaW5nIHVzZWQsIG1pbmltaXppbmcgdGhlIGVmZm9ydCByZXF1aXJlZCB0byBpbXBsZW1lbnQuXG4gKlxuICogQW4gaW5zdGFuY2Ugb2YgdGhpcyBjbGFzcyBpcyBhdXRvbWF0aWNhbGx5IGNyZWF0ZWQgYnkgZGVmYXVsdCwgYW5kIGNhbiBiZSBmb3VuZCBhdCBgcmVuZGVyZXIucGx1Z2lucy5hY2Nlc3NpYmlsaXR5YFxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWEkuYWNjZXNzaWJpbGl0eVxuICovXG52YXIgQWNjZXNzaWJpbGl0eU1hbmFnZXIgPSBmdW5jdGlvbiBBY2Nlc3NpYmlsaXR5TWFuYWdlcihyZW5kZXJlcilcbntcbiAgICAvKipcbiAgICAgKiBAdHlwZSB7P0hUTUxFbGVtZW50fVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5faG9va0RpdiA9IG51bGw7XG4gICAgaWYgKGlzTW9iaWxlLnRhYmxldCB8fCBpc01vYmlsZS5waG9uZSlcbiAgICB7XG4gICAgICAgIHRoaXMuY3JlYXRlVG91Y2hIb29rKCk7XG4gICAgfVxuXG4gICAgLy8gZmlyc3Qgd2UgY3JlYXRlIGEgZGl2IHRoYXQgd2lsbCBzaXQgb3ZlciB0aGUgUGl4aUpTIGVsZW1lbnQuIFRoaXMgaXMgd2hlcmUgdGhlIGRpdiBvdmVybGF5cyB3aWxsIGdvLlxuICAgIHZhciBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblxuICAgIGRpdi5zdHlsZS53aWR0aCA9IERJVl9UT1VDSF9TSVpFICsgXCJweFwiO1xuICAgIGRpdi5zdHlsZS5oZWlnaHQgPSBESVZfVE9VQ0hfU0laRSArIFwicHhcIjtcbiAgICBkaXYuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICAgIGRpdi5zdHlsZS50b3AgPSBESVZfVE9VQ0hfUE9TX1ggKyBcInB4XCI7XG4gICAgZGl2LnN0eWxlLmxlZnQgPSBESVZfVE9VQ0hfUE9TX1kgKyBcInB4XCI7XG4gICAgZGl2LnN0eWxlLnpJbmRleCA9IERJVl9UT1VDSF9aSU5ERVg7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIGlzIHRoZSBkb20gZWxlbWVudCB0aGF0IHdpbGwgc2l0IG92ZXIgdGhlIFBpeGlKUyBlbGVtZW50LiBUaGlzIGlzIHdoZXJlIHRoZSBkaXYgb3ZlcmxheXMgd2lsbCBnby5cbiAgICAgKlxuICAgICAqIEB0eXBlIHtIVE1MRWxlbWVudH1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMuZGl2ID0gZGl2O1xuXG4gICAgLyoqXG4gICAgICogQSBzaW1wbGUgcG9vbCBmb3Igc3RvcmluZyBkaXZzLlxuICAgICAqXG4gICAgICogQHR5cGUgeyp9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLnBvb2wgPSBbXTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgaXMgYSB0aWNrIHVzZWQgdG8gY2hlY2sgaWYgYW4gb2JqZWN0IGlzIG5vIGxvbmdlciBiZWluZyByZW5kZXJlZC5cbiAgICAgKlxuICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLnJlbmRlcklkID0gMDtcblxuICAgIC8qKlxuICAgICAqIFNldHRpbmcgdGhpcyB0byB0cnVlIHdpbGwgdmlzdWFsbHkgc2hvdyB0aGUgZGl2cy5cbiAgICAgKlxuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqL1xuICAgIHRoaXMuZGVidWcgPSBmYWxzZTtcblxuICAgIC8qKlxuICAgICAqIFRoZSByZW5kZXJlciB0aGlzIGFjY2Vzc2liaWxpdHkgbWFuYWdlciB3b3JrcyBmb3IuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLkFic3RyYWN0UmVuZGVyZXJ9XG4gICAgICovXG4gICAgdGhpcy5yZW5kZXJlciA9IHJlbmRlcmVyO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGFycmF5IG9mIGN1cnJlbnRseSBhY3RpdmUgYWNjZXNzaWJsZSBpdGVtcy5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge0FycmF5PCo+fVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5jaGlsZHJlbiA9IFtdO1xuXG4gICAgLyoqXG4gICAgICogcHJlLWJpbmQgdGhlIGZ1bmN0aW9uc1xuICAgICAqXG4gICAgICogQHR5cGUge0Z1bmN0aW9ufVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5fb25LZXlEb3duID0gdGhpcy5fb25LZXlEb3duLmJpbmQodGhpcyk7XG5cbiAgICAvKipcbiAgICAgKiBwcmUtYmluZCB0aGUgZnVuY3Rpb25zXG4gICAgICpcbiAgICAgKiBAdHlwZSB7RnVuY3Rpb259XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLl9vbk1vdXNlTW92ZSA9IHRoaXMuX29uTW91c2VNb3ZlLmJpbmQodGhpcyk7XG5cbiAgICAvKipcbiAgICAgKiBBIGZsYWdcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKi9cbiAgICB0aGlzLmlzQWN0aXZlID0gZmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBBIGZsYWdcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKi9cbiAgICB0aGlzLmlzTW9iaWxlQWNjZXNzaWJpbGl0eSA9IGZhbHNlO1xuXG4gICAgLy8gbGV0IGxpc3RlbiBmb3IgdGFiLi4gb25jZSBwcmVzc2VkIHdlIGNhbiBmaXJlIHVwIGFuZCBzaG93IHRoZSBhY2Nlc3NpYmlsaXR5IGxheWVyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9vbktleURvd24sIGZhbHNlKTtcbn07XG5cbi8qKlxuICogQ3JlYXRlcyB0aGUgdG91Y2ggaG9va3MuXG4gKlxuICogQHByaXZhdGVcbiAqL1xuQWNjZXNzaWJpbGl0eU1hbmFnZXIucHJvdG90eXBlLmNyZWF0ZVRvdWNoSG9vayA9IGZ1bmN0aW9uIGNyZWF0ZVRvdWNoSG9vayAoKVxue1xuICAgICAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICAgIHZhciBob29rRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG5cbiAgICBob29rRGl2LnN0eWxlLndpZHRoID0gRElWX0hPT0tfU0laRSArIFwicHhcIjtcbiAgICBob29rRGl2LnN0eWxlLmhlaWdodCA9IERJVl9IT09LX1NJWkUgKyBcInB4XCI7XG4gICAgaG9va0Rpdi5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gICAgaG9va0Rpdi5zdHlsZS50b3AgPSBESVZfSE9PS19QT1NfWCArIFwicHhcIjtcbiAgICBob29rRGl2LnN0eWxlLmxlZnQgPSBESVZfSE9PS19QT1NfWSArIFwicHhcIjtcbiAgICBob29rRGl2LnN0eWxlLnpJbmRleCA9IERJVl9IT09LX1pJTkRFWDtcbiAgICBob29rRGl2LnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICcjRkYwMDAwJztcbiAgICBob29rRGl2LnRpdGxlID0gJ0hPT0sgRElWJztcblxuICAgIGhvb2tEaXYuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXMnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMkMS5pc01vYmlsZUFjY2Vzc2liaWxpdHkgPSB0cnVlO1xuICAgICAgICB0aGlzJDEuYWN0aXZhdGUoKTtcbiAgICAgICAgdGhpcyQxLmRlc3Ryb3lUb3VjaEhvb2soKTtcbiAgICB9KTtcblxuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoaG9va0Rpdik7XG4gICAgdGhpcy5faG9va0RpdiA9IGhvb2tEaXY7XG59O1xuXG4vKipcbiAqIERlc3Ryb3lzIHRoZSB0b3VjaCBob29rcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5BY2Nlc3NpYmlsaXR5TWFuYWdlci5wcm90b3R5cGUuZGVzdHJveVRvdWNoSG9vayA9IGZ1bmN0aW9uIGRlc3Ryb3lUb3VjaEhvb2sgKClcbntcbiAgICBpZiAoIXRoaXMuX2hvb2tEaXYpXG4gICAge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQodGhpcy5faG9va0Rpdik7XG4gICAgdGhpcy5faG9va0RpdiA9IG51bGw7XG59O1xuXG4vKipcbiAqIEFjdGl2YXRpbmcgd2lsbCBjYXVzZSB0aGUgQWNjZXNzaWJpbGl0eSBsYXllciB0byBiZSBzaG93bi5cbiAqIFRoaXMgaXMgY2FsbGVkIHdoZW4gYSB1c2VyIHByZXNzZXMgdGhlIHRhYiBrZXkuXG4gKlxuICogQHByaXZhdGVcbiAqL1xuQWNjZXNzaWJpbGl0eU1hbmFnZXIucHJvdG90eXBlLmFjdGl2YXRlID0gZnVuY3Rpb24gYWN0aXZhdGUgKClcbntcbiAgICBpZiAodGhpcy5pc0FjdGl2ZSlcbiAgICB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLmlzQWN0aXZlID0gdHJ1ZTtcblxuICAgIHdpbmRvdy5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLl9vbk1vdXNlTW92ZSwgdHJ1ZSk7XG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9vbktleURvd24sIGZhbHNlKTtcblxuICAgIHRoaXMucmVuZGVyZXIub24oJ3Bvc3RyZW5kZXInLCB0aGlzLnVwZGF0ZSwgdGhpcyk7XG5cbiAgICBpZiAodGhpcy5yZW5kZXJlci52aWV3LnBhcmVudE5vZGUpXG4gICAge1xuICAgICAgICB0aGlzLnJlbmRlcmVyLnZpZXcucGFyZW50Tm9kZS5hcHBlbmRDaGlsZCh0aGlzLmRpdik7XG4gICAgfVxufTtcblxuLyoqXG4gKiBEZWFjdGl2YXRpbmcgd2lsbCBjYXVzZSB0aGUgQWNjZXNzaWJpbGl0eSBsYXllciB0byBiZSBoaWRkZW4uXG4gKiBUaGlzIGlzIGNhbGxlZCB3aGVuIGEgdXNlciBtb3ZlcyB0aGUgbW91c2UuXG4gKlxuICogQHByaXZhdGVcbiAqL1xuQWNjZXNzaWJpbGl0eU1hbmFnZXIucHJvdG90eXBlLmRlYWN0aXZhdGUgPSBmdW5jdGlvbiBkZWFjdGl2YXRlICgpXG57XG4gICAgaWYgKCF0aGlzLmlzQWN0aXZlIHx8IHRoaXMuaXNNb2JpbGVBY2Nlc3NpYmlsaXR5KVxuICAgIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuaXNBY3RpdmUgPSBmYWxzZTtcblxuICAgIHdpbmRvdy5kb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLl9vbk1vdXNlTW92ZSwgdHJ1ZSk7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9vbktleURvd24sIGZhbHNlKTtcblxuICAgIHRoaXMucmVuZGVyZXIub2ZmKCdwb3N0cmVuZGVyJywgdGhpcy51cGRhdGUpO1xuXG4gICAgaWYgKHRoaXMuZGl2LnBhcmVudE5vZGUpXG4gICAge1xuICAgICAgICB0aGlzLmRpdi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuZGl2KTtcbiAgICB9XG59O1xuXG4vKipcbiAqIFRoaXMgcmVjdXJzaXZlIGZ1bmN0aW9uIHdpbGwgcnVuIHRocm91Z2ggdGhlIHNjZW5lIGdyYXBoIGFuZCBhZGQgYW55IG5ldyBhY2Nlc3NpYmxlIG9iamVjdHMgdG8gdGhlIERPTSBsYXllci5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtQSVhJLkNvbnRhaW5lcn0gZGlzcGxheU9iamVjdCAtIFRoZSBEaXNwbGF5T2JqZWN0IHRvIGNoZWNrLlxuICovXG5BY2Nlc3NpYmlsaXR5TWFuYWdlci5wcm90b3R5cGUudXBkYXRlQWNjZXNzaWJsZU9iamVjdHMgPSBmdW5jdGlvbiB1cGRhdGVBY2Nlc3NpYmxlT2JqZWN0cyAoZGlzcGxheU9iamVjdClcbntcbiAgICBpZiAoIWRpc3BsYXlPYmplY3QudmlzaWJsZSB8fCAhZGlzcGxheU9iamVjdC5hY2Nlc3NpYmxlQ2hpbGRyZW4pXG4gICAge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGRpc3BsYXlPYmplY3QuYWNjZXNzaWJsZSAmJiBkaXNwbGF5T2JqZWN0LmludGVyYWN0aXZlKVxuICAgIHtcbiAgICAgICAgaWYgKCFkaXNwbGF5T2JqZWN0Ll9hY2Nlc3NpYmxlQWN0aXZlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmFkZENoaWxkKGRpc3BsYXlPYmplY3QpO1xuICAgICAgICB9XG5cbiAgICAgICAgZGlzcGxheU9iamVjdC5yZW5kZXJJZCA9IHRoaXMucmVuZGVySWQ7XG4gICAgfVxuXG4gICAgdmFyIGNoaWxkcmVuID0gZGlzcGxheU9iamVjdC5jaGlsZHJlbjtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspXG4gICAge1xuICAgICAgICB0aGlzLnVwZGF0ZUFjY2Vzc2libGVPYmplY3RzKGNoaWxkcmVuW2ldKTtcbiAgICB9XG59O1xuXG4vKipcbiAqIEJlZm9yZSBlYWNoIHJlbmRlciB0aGlzIGZ1bmN0aW9uIHdpbGwgZW5zdXJlIHRoYXQgYWxsIGRpdnMgYXJlIG1hcHBlZCBjb3JyZWN0bHkgdG8gdGhlaXIgRGlzcGxheU9iamVjdHMuXG4gKlxuICogQHByaXZhdGVcbiAqL1xuQWNjZXNzaWJpbGl0eU1hbmFnZXIucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIHVwZGF0ZSAoKVxue1xuICAgIGlmICghdGhpcy5yZW5kZXJlci5yZW5kZXJpbmdUb1NjcmVlbilcbiAgICB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyB1cGRhdGUgY2hpbGRyZW4uLi5cbiAgICB0aGlzLnVwZGF0ZUFjY2Vzc2libGVPYmplY3RzKHRoaXMucmVuZGVyZXIuX2xhc3RPYmplY3RSZW5kZXJlZCk7XG5cbiAgICB2YXIgcmVjdCA9IHRoaXMucmVuZGVyZXIudmlldy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICB2YXIgc3ggPSByZWN0LndpZHRoIC8gdGhpcy5yZW5kZXJlci53aWR0aDtcbiAgICB2YXIgc3kgPSByZWN0LmhlaWdodCAvIHRoaXMucmVuZGVyZXIuaGVpZ2h0O1xuXG4gICAgdmFyIGRpdiA9IHRoaXMuZGl2O1xuXG4gICAgZGl2LnN0eWxlLmxlZnQgPSAocmVjdC5sZWZ0KSArIFwicHhcIjtcbiAgICBkaXYuc3R5bGUudG9wID0gKHJlY3QudG9wKSArIFwicHhcIjtcbiAgICBkaXYuc3R5bGUud2lkdGggPSAodGhpcy5yZW5kZXJlci53aWR0aCkgKyBcInB4XCI7XG4gICAgZGl2LnN0eWxlLmhlaWdodCA9ICh0aGlzLnJlbmRlcmVyLmhlaWdodCkgKyBcInB4XCI7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBpKyspXG4gICAge1xuICAgICAgICB2YXIgY2hpbGQgPSB0aGlzLmNoaWxkcmVuW2ldO1xuXG4gICAgICAgIGlmIChjaGlsZC5yZW5kZXJJZCAhPT0gdGhpcy5yZW5kZXJJZClcbiAgICAgICAge1xuICAgICAgICAgICAgY2hpbGQuX2FjY2Vzc2libGVBY3RpdmUgPSBmYWxzZTtcblxuICAgICAgICAgICAgcmVtb3ZlSXRlbXModGhpcy5jaGlsZHJlbiwgaSwgMSk7XG4gICAgICAgICAgICB0aGlzLmRpdi5yZW1vdmVDaGlsZChjaGlsZC5fYWNjZXNzaWJsZURpdik7XG4gICAgICAgICAgICB0aGlzLnBvb2wucHVzaChjaGlsZC5fYWNjZXNzaWJsZURpdik7XG4gICAgICAgICAgICBjaGlsZC5fYWNjZXNzaWJsZURpdiA9IG51bGw7XG5cbiAgICAgICAgICAgIGktLTtcblxuICAgICAgICAgICAgaWYgKHRoaXMuY2hpbGRyZW4ubGVuZ3RoID09PSAwKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuZGVhY3RpdmF0ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gbWFwIGRpdiB0byBkaXNwbGF5Li5cbiAgICAgICAgICAgIGRpdiA9IGNoaWxkLl9hY2Nlc3NpYmxlRGl2O1xuICAgICAgICAgICAgdmFyIGhpdEFyZWEgPSBjaGlsZC5oaXRBcmVhO1xuICAgICAgICAgICAgdmFyIHd0ID0gY2hpbGQud29ybGRUcmFuc2Zvcm07XG5cbiAgICAgICAgICAgIGlmIChjaGlsZC5oaXRBcmVhKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRpdi5zdHlsZS5sZWZ0ID0gKCh3dC50eCArIChoaXRBcmVhLnggKiB3dC5hKSkgKiBzeCkgKyBcInB4XCI7XG4gICAgICAgICAgICAgICAgZGl2LnN0eWxlLnRvcCA9ICgod3QudHkgKyAoaGl0QXJlYS55ICogd3QuZCkpICogc3kpICsgXCJweFwiO1xuXG4gICAgICAgICAgICAgICAgZGl2LnN0eWxlLndpZHRoID0gKGhpdEFyZWEud2lkdGggKiB3dC5hICogc3gpICsgXCJweFwiO1xuICAgICAgICAgICAgICAgIGRpdi5zdHlsZS5oZWlnaHQgPSAoaGl0QXJlYS5oZWlnaHQgKiB3dC5kICogc3kpICsgXCJweFwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGhpdEFyZWEgPSBjaGlsZC5nZXRCb3VuZHMoKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuY2FwSGl0QXJlYShoaXRBcmVhKTtcblxuICAgICAgICAgICAgICAgIGRpdi5zdHlsZS5sZWZ0ID0gKGhpdEFyZWEueCAqIHN4KSArIFwicHhcIjtcbiAgICAgICAgICAgICAgICBkaXYuc3R5bGUudG9wID0gKGhpdEFyZWEueSAqIHN5KSArIFwicHhcIjtcblxuICAgICAgICAgICAgICAgIGRpdi5zdHlsZS53aWR0aCA9IChoaXRBcmVhLndpZHRoICogc3gpICsgXCJweFwiO1xuICAgICAgICAgICAgICAgIGRpdi5zdHlsZS5oZWlnaHQgPSAoaGl0QXJlYS5oZWlnaHQgKiBzeSkgKyBcInB4XCI7XG5cbiAgICAgICAgICAgICAgICAvLyB1cGRhdGUgYnV0dG9uIHRpdGxlcyBhbmQgaGludHMgaWYgdGhleSBleGlzdCBhbmQgdGhleSd2ZSBjaGFuZ2VkXG4gICAgICAgICAgICAgICAgaWYgKGRpdi50aXRsZSAhPT0gY2hpbGQuYWNjZXNzaWJsZVRpdGxlICYmIGNoaWxkLmFjY2Vzc2libGVUaXRsZSAhPT0gbnVsbClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGRpdi50aXRsZSA9IGNoaWxkLmFjY2Vzc2libGVUaXRsZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGRpdi5nZXRBdHRyaWJ1dGUoJ2FyaWEtbGFiZWwnKSAhPT0gY2hpbGQuYWNjZXNzaWJsZUhpbnRcbiAgICAgICAgICAgICAgICAgICAgJiYgY2hpbGQuYWNjZXNzaWJsZUhpbnQgIT09IG51bGwpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBkaXYuc2V0QXR0cmlidXRlKCdhcmlhLWxhYmVsJywgY2hpbGQuYWNjZXNzaWJsZUhpbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gdGhlIHRpdGxlIG9yIGluZGV4IG1heSBoYXZlIGNoYW5nZWQsIGlmIHNvIGxldHMgdXBkYXRlIGl0IVxuICAgICAgICAgICAgaWYgKGNoaWxkLmFjY2Vzc2libGVUaXRsZSAhPT0gZGl2LnRpdGxlIHx8IGNoaWxkLnRhYkluZGV4ICE9PSBkaXYudGFiSW5kZXgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGl2LnRpdGxlID0gY2hpbGQuYWNjZXNzaWJsZVRpdGxlO1xuICAgICAgICAgICAgICAgIGRpdi50YWJJbmRleCA9IGNoaWxkLnRhYkluZGV4O1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmRlYnVnKSB7IHRoaXMudXBkYXRlRGVidWdIVE1MKGRpdik7IH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIGluY3JlbWVudCB0aGUgcmVuZGVyIGlkLi5cbiAgICB0aGlzLnJlbmRlcklkKys7XG59O1xuXG4vKipcbiAqIHByaXZhdGUgZnVuY3Rpb24gdGhhdCB3aWxsIHZpc3VhbGx5IGFkZCB0aGUgaW5mb3JtYXRpb24gdG8gdGhlXG4gKiBhY2Nlc3NhYmlsaXR5IGRpdlxuICpcbiAqIEBwYXJhbSB7SFRNTERpdkVsZW1lbnR9IGRpdlxuICovXG5BY2Nlc3NpYmlsaXR5TWFuYWdlci5wcm90b3R5cGUudXBkYXRlRGVidWdIVE1MID0gZnVuY3Rpb24gdXBkYXRlRGVidWdIVE1MIChkaXYpXG57XG4gICAgZGl2LmlubmVySFRNTCA9IFwidHlwZTogXCIgKyAoZGl2LnR5cGUpICsgXCI8L2JyPiB0aXRsZSA6IFwiICsgKGRpdi50aXRsZSkgKyBcIjwvYnI+IHRhYkluZGV4OiBcIiArIChkaXYudGFiSW5kZXgpO1xufTtcblxuLyoqXG4gKiBBZGp1c3QgdGhlIGhpdCBhcmVhIGJhc2VkIG9uIHRoZSBib3VuZHMgb2YgYSBkaXNwbGF5IG9iamVjdFxuICpcbiAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IGhpdEFyZWEgLSBCb3VuZHMgb2YgdGhlIGNoaWxkXG4gKi9cbkFjY2Vzc2liaWxpdHlNYW5hZ2VyLnByb3RvdHlwZS5jYXBIaXRBcmVhID0gZnVuY3Rpb24gY2FwSGl0QXJlYSAoaGl0QXJlYSlcbntcbiAgICBpZiAoaGl0QXJlYS54IDwgMClcbiAgICB7XG4gICAgICAgIGhpdEFyZWEud2lkdGggKz0gaGl0QXJlYS54O1xuICAgICAgICBoaXRBcmVhLnggPSAwO1xuICAgIH1cblxuICAgIGlmIChoaXRBcmVhLnkgPCAwKVxuICAgIHtcbiAgICAgICAgaGl0QXJlYS5oZWlnaHQgKz0gaGl0QXJlYS55O1xuICAgICAgICBoaXRBcmVhLnkgPSAwO1xuICAgIH1cblxuICAgIGlmIChoaXRBcmVhLnggKyBoaXRBcmVhLndpZHRoID4gdGhpcy5yZW5kZXJlci53aWR0aClcbiAgICB7XG4gICAgICAgIGhpdEFyZWEud2lkdGggPSB0aGlzLnJlbmRlcmVyLndpZHRoIC0gaGl0QXJlYS54O1xuICAgIH1cblxuICAgIGlmIChoaXRBcmVhLnkgKyBoaXRBcmVhLmhlaWdodCA+IHRoaXMucmVuZGVyZXIuaGVpZ2h0KVxuICAgIHtcbiAgICAgICAgaGl0QXJlYS5oZWlnaHQgPSB0aGlzLnJlbmRlcmVyLmhlaWdodCAtIGhpdEFyZWEueTtcbiAgICB9XG59O1xuXG4vKipcbiAqIEFkZHMgYSBEaXNwbGF5T2JqZWN0IHRvIHRoZSBhY2Nlc3NpYmlsaXR5IG1hbmFnZXJcbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IGRpc3BsYXlPYmplY3QgLSBUaGUgY2hpbGQgdG8gbWFrZSBhY2Nlc3NpYmxlLlxuICovXG5BY2Nlc3NpYmlsaXR5TWFuYWdlci5wcm90b3R5cGUuYWRkQ2hpbGQgPSBmdW5jdGlvbiBhZGRDaGlsZCAoZGlzcGxheU9iamVjdClcbntcbiAgICAvL3RoaXMuYWN0aXZhdGUoKTtcblxuICAgIHZhciBkaXYgPSB0aGlzLnBvb2wucG9wKCk7XG5cbiAgICBpZiAoIWRpdilcbiAgICB7XG4gICAgICAgIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuXG4gICAgICAgIGRpdi5zdHlsZS53aWR0aCA9IERJVl9UT1VDSF9TSVpFICsgXCJweFwiO1xuICAgICAgICBkaXYuc3R5bGUuaGVpZ2h0ID0gRElWX1RPVUNIX1NJWkUgKyBcInB4XCI7XG4gICAgICAgIGRpdi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSB0aGlzLmRlYnVnID8gJ3JnYmEoMjU1LDI1NSwyNTUsMC41KScgOiAndHJhbnNwYXJlbnQnO1xuICAgICAgICBkaXYuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICAgICAgICBkaXYuc3R5bGUuekluZGV4ID0gRElWX1RPVUNIX1pJTkRFWDtcbiAgICAgICAgZGl2LnN0eWxlLmJvcmRlclN0eWxlID0gJ25vbmUnO1xuXG4gICAgICAgIC8vIEFSSUEgYXR0cmlidXRlcyBlbnN1cmUgdGhhdCBidXR0b24gdGl0bGUgYW5kIGhpbnQgdXBkYXRlcyBhcmUgYW5ub3VuY2VkIHByb3Blcmx5XG4gICAgICAgIGlmIChuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkuaW5kZXhPZignY2hyb21lJykgPiAtMSlcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gQ2hyb21lIGRvZXNuJ3QgbmVlZCBhcmlhLWxpdmUgdG8gd29yayBhcyBpbnRlbmRlZDsgaW4gZmFjdCBpdCBqdXN0IGdldHMgbW9yZSBjb25mdXNlZC5cbiAgICAgICAgICAgIGRpdi5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGl2ZScsICdvZmYnKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIGRpdi5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGl2ZScsICdwb2xpdGUnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9ydjouKkdlY2tvXFwvLykpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIEZpcmVGb3ggbmVlZHMgdGhpcyB0byBhbm5vdW5jZSBvbmx5IHRoZSBuZXcgYnV0dG9uIG5hbWVcbiAgICAgICAgICAgIGRpdi5zZXRBdHRyaWJ1dGUoJ2FyaWEtcmVsZXZhbnQnLCAnYWRkaXRpb25zJyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyByZXF1aXJlZCBieSBJRSwgb3RoZXIgYnJvd3NlcnMgZG9uJ3QgbXVjaCBjYXJlXG4gICAgICAgICAgICBkaXYuc2V0QXR0cmlidXRlKCdhcmlhLXJlbGV2YW50JywgJ3RleHQnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGRpdi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX29uQ2xpY2suYmluZCh0aGlzKSk7XG4gICAgICAgIGRpdi5hZGRFdmVudExpc3RlbmVyKCdmb2N1cycsIHRoaXMuX29uRm9jdXMuYmluZCh0aGlzKSk7XG4gICAgICAgIGRpdi5hZGRFdmVudExpc3RlbmVyKCdmb2N1c291dCcsIHRoaXMuX29uRm9jdXNPdXQuYmluZCh0aGlzKSk7XG4gICAgfVxuXG4gICAgLy8gc2V0IHBvaW50ZXIgZXZlbnRzXG4gICAgZGl2LnN0eWxlLnBvaW50ZXJFdmVudHMgPSBkaXNwbGF5T2JqZWN0LmFjY2Vzc2libGVQb2ludGVyRXZlbnRzO1xuICAgIC8vIHNldCB0aGUgdHlwZSwgdGhpcyBkZWZhdWx0cyB0byBidXR0b24hXG4gICAgZGl2LnR5cGUgPSBkaXNwbGF5T2JqZWN0LmFjY2Vzc2libGVUeXBlO1xuXG4gICAgaWYgKGRpc3BsYXlPYmplY3QuYWNjZXNzaWJsZVRpdGxlICYmIGRpc3BsYXlPYmplY3QuYWNjZXNzaWJsZVRpdGxlICE9PSBudWxsKVxuICAgIHtcbiAgICAgICAgZGl2LnRpdGxlID0gZGlzcGxheU9iamVjdC5hY2Nlc3NpYmxlVGl0bGU7XG4gICAgfVxuICAgIGVsc2UgaWYgKCFkaXNwbGF5T2JqZWN0LmFjY2Vzc2libGVIaW50XG4gICAgICAgICAgICAgfHwgZGlzcGxheU9iamVjdC5hY2Nlc3NpYmxlSGludCA9PT0gbnVsbClcbiAgICB7XG4gICAgICAgIGRpdi50aXRsZSA9IFwiZGlzcGxheU9iamVjdCBcIiArIChkaXNwbGF5T2JqZWN0LnRhYkluZGV4KTtcbiAgICB9XG5cbiAgICBpZiAoZGlzcGxheU9iamVjdC5hY2Nlc3NpYmxlSGludFxuICAgICAgICAmJiBkaXNwbGF5T2JqZWN0LmFjY2Vzc2libGVIaW50ICE9PSBudWxsKVxuICAgIHtcbiAgICAgICAgZGl2LnNldEF0dHJpYnV0ZSgnYXJpYS1sYWJlbCcsIGRpc3BsYXlPYmplY3QuYWNjZXNzaWJsZUhpbnQpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmRlYnVnKSB7IHRoaXMudXBkYXRlRGVidWdIVE1MKGRpdik7IH1cblxuICAgIGRpc3BsYXlPYmplY3QuX2FjY2Vzc2libGVBY3RpdmUgPSB0cnVlO1xuICAgIGRpc3BsYXlPYmplY3QuX2FjY2Vzc2libGVEaXYgPSBkaXY7XG4gICAgZGl2LmRpc3BsYXlPYmplY3QgPSBkaXNwbGF5T2JqZWN0O1xuXG4gICAgdGhpcy5jaGlsZHJlbi5wdXNoKGRpc3BsYXlPYmplY3QpO1xuICAgIHRoaXMuZGl2LmFwcGVuZENoaWxkKGRpc3BsYXlPYmplY3QuX2FjY2Vzc2libGVEaXYpO1xuICAgIGRpc3BsYXlPYmplY3QuX2FjY2Vzc2libGVEaXYudGFiSW5kZXggPSBkaXNwbGF5T2JqZWN0LnRhYkluZGV4O1xufTtcblxuLyoqXG4gKiBNYXBzIHRoZSBkaXYgYnV0dG9uIHByZXNzIHRvIHBpeGkncyBJbnRlcmFjdGlvbk1hbmFnZXIgKGNsaWNrKVxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge01vdXNlRXZlbnR9IGUgLSBUaGUgY2xpY2sgZXZlbnQuXG4gKi9cbkFjY2Vzc2liaWxpdHlNYW5hZ2VyLnByb3RvdHlwZS5fb25DbGljayA9IGZ1bmN0aW9uIF9vbkNsaWNrIChlKVxue1xuICAgIHZhciBpbnRlcmFjdGlvbk1hbmFnZXIgPSB0aGlzLnJlbmRlcmVyLnBsdWdpbnMuaW50ZXJhY3Rpb247XG5cbiAgICBpbnRlcmFjdGlvbk1hbmFnZXIuZGlzcGF0Y2hFdmVudChlLnRhcmdldC5kaXNwbGF5T2JqZWN0LCAnY2xpY2snLCBpbnRlcmFjdGlvbk1hbmFnZXIuZXZlbnREYXRhKTtcbiAgICBpbnRlcmFjdGlvbk1hbmFnZXIuZGlzcGF0Y2hFdmVudChlLnRhcmdldC5kaXNwbGF5T2JqZWN0LCAncG9pbnRlcnRhcCcsIGludGVyYWN0aW9uTWFuYWdlci5ldmVudERhdGEpO1xuICAgIGludGVyYWN0aW9uTWFuYWdlci5kaXNwYXRjaEV2ZW50KGUudGFyZ2V0LmRpc3BsYXlPYmplY3QsICd0YXAnLCBpbnRlcmFjdGlvbk1hbmFnZXIuZXZlbnREYXRhKTtcbn07XG5cbi8qKlxuICogTWFwcyB0aGUgZGl2IGZvY3VzIGV2ZW50cyB0byBwaXhpJ3MgSW50ZXJhY3Rpb25NYW5hZ2VyIChtb3VzZW92ZXIpXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Rm9jdXNFdmVudH0gZSAtIFRoZSBmb2N1cyBldmVudC5cbiAqL1xuQWNjZXNzaWJpbGl0eU1hbmFnZXIucHJvdG90eXBlLl9vbkZvY3VzID0gZnVuY3Rpb24gX29uRm9jdXMgKGUpXG57XG4gICAgaWYgKCFlLnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2FyaWEtbGl2ZScsICdvZmYnKSlcbiAgICB7XG4gICAgICAgIGUudGFyZ2V0LnNldEF0dHJpYnV0ZSgnYXJpYS1saXZlJywgJ2Fzc2VydGl2ZScpO1xuICAgIH1cbiAgICB2YXIgaW50ZXJhY3Rpb25NYW5hZ2VyID0gdGhpcy5yZW5kZXJlci5wbHVnaW5zLmludGVyYWN0aW9uO1xuXG4gICAgaW50ZXJhY3Rpb25NYW5hZ2VyLmRpc3BhdGNoRXZlbnQoZS50YXJnZXQuZGlzcGxheU9iamVjdCwgJ21vdXNlb3ZlcicsIGludGVyYWN0aW9uTWFuYWdlci5ldmVudERhdGEpO1xufTtcblxuLyoqXG4gKiBNYXBzIHRoZSBkaXYgZm9jdXMgZXZlbnRzIHRvIHBpeGkncyBJbnRlcmFjdGlvbk1hbmFnZXIgKG1vdXNlb3V0KVxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0ZvY3VzRXZlbnR9IGUgLSBUaGUgZm9jdXNvdXQgZXZlbnQuXG4gKi9cbkFjY2Vzc2liaWxpdHlNYW5hZ2VyLnByb3RvdHlwZS5fb25Gb2N1c091dCA9IGZ1bmN0aW9uIF9vbkZvY3VzT3V0IChlKVxue1xuICAgIGlmICghZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdhcmlhLWxpdmUnLCAnb2ZmJykpXG4gICAge1xuICAgICAgICBlLnRhcmdldC5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGl2ZScsICdwb2xpdGUnKTtcbiAgICB9XG4gICAgdmFyIGludGVyYWN0aW9uTWFuYWdlciA9IHRoaXMucmVuZGVyZXIucGx1Z2lucy5pbnRlcmFjdGlvbjtcblxuICAgIGludGVyYWN0aW9uTWFuYWdlci5kaXNwYXRjaEV2ZW50KGUudGFyZ2V0LmRpc3BsYXlPYmplY3QsICdtb3VzZW91dCcsIGludGVyYWN0aW9uTWFuYWdlci5ldmVudERhdGEpO1xufTtcblxuLyoqXG4gKiBJcyBjYWxsZWQgd2hlbiBhIGtleSBpcyBwcmVzc2VkXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7S2V5Ym9hcmRFdmVudH0gZSAtIFRoZSBrZXlkb3duIGV2ZW50LlxuICovXG5BY2Nlc3NpYmlsaXR5TWFuYWdlci5wcm90b3R5cGUuX29uS2V5RG93biA9IGZ1bmN0aW9uIF9vbktleURvd24gKGUpXG57XG4gICAgaWYgKGUua2V5Q29kZSAhPT0gS0VZX0NPREVfVEFCKVxuICAgIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuYWN0aXZhdGUoKTtcbn07XG5cbi8qKlxuICogSXMgY2FsbGVkIHdoZW4gdGhlIG1vdXNlIG1vdmVzIGFjcm9zcyB0aGUgcmVuZGVyZXIgZWxlbWVudFxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge01vdXNlRXZlbnR9IGUgLSBUaGUgbW91c2UgZXZlbnQuXG4gKi9cbkFjY2Vzc2liaWxpdHlNYW5hZ2VyLnByb3RvdHlwZS5fb25Nb3VzZU1vdmUgPSBmdW5jdGlvbiBfb25Nb3VzZU1vdmUgKGUpXG57XG4gICAgaWYgKGUubW92ZW1lbnRYID09PSAwICYmIGUubW92ZW1lbnRZID09PSAwKVxuICAgIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuZGVhY3RpdmF0ZSgpO1xufTtcblxuLyoqXG4gKiBEZXN0cm95cyB0aGUgYWNjZXNzaWJpbGl0eSBtYW5hZ2VyXG4gKlxuICovXG5BY2Nlc3NpYmlsaXR5TWFuYWdlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3kgKClcbntcbiAgICB0aGlzLmRlc3Ryb3lUb3VjaEhvb2soKTtcbiAgICB0aGlzLmRpdiA9IG51bGw7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBpKyspXG4gICAge1xuICAgICAgICB0aGlzLmNoaWxkcmVuW2ldLmRpdiA9IG51bGw7XG4gICAgfVxuXG4gICAgd2luZG93LmRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMuX29uTW91c2VNb3ZlLCB0cnVlKTtcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX29uS2V5RG93bik7XG5cbiAgICB0aGlzLnBvb2wgPSBudWxsO1xuICAgIHRoaXMuY2hpbGRyZW4gPSBudWxsO1xuICAgIHRoaXMucmVuZGVyZXIgPSBudWxsO1xufTtcblxuLyoqXG4gKiBUaGlzIG5hbWVzcGFjZSBjb250YWlucyBhbiBhY2Nlc3NpYmlsaXR5IHBsdWdpbiBmb3IgYWxsb3dpbmcgaW50ZXJhY3Rpb24gdmlhIHRoZSBrZXlib2FyZC5cbiAqXG4gKiBEbyBub3QgaW5zdGFudGlhdGUgdGhpcyBwbHVnaW4gZGlyZWN0bHkuIEl0IGlzIGF2YWlsYWJsZSBmcm9tIHRoZSBgcmVuZGVyZXIucGx1Z2luc2AgcHJvcGVydHkuXG4gKiBTZWUge0BsaW5rIFBJWEkuQ2FudmFzUmVuZGVyZXIjcGx1Z2luc30gb3Ige0BsaW5rIFBJWEkuUmVuZGVyZXIjcGx1Z2luc30uXG4gKiBAbmFtZXNwYWNlIFBJWEkuYWNjZXNzaWJpbGl0eVxuICovXG5cbmV4cG9ydCB7IEFjY2Vzc2liaWxpdHlNYW5hZ2VyLCBhY2Nlc3NpYmxlVGFyZ2V0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hY2Nlc3NpYmlsaXR5LmVzLmpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS9ydW5uZXIgLSB2NS4yLjBcbiAqIENvbXBpbGVkIFdlZCwgMDYgTm92IDIwMTkgMDI6MzI6NDMgVVRDXG4gKlxuICogQHBpeGkvcnVubmVyIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuLyoqXG4gKiBBIFJ1bm5lciBpcyBhIGhpZ2hseSBwZXJmb3JtYW50IGFuZCBzaW1wbGUgYWx0ZXJuYXRpdmUgdG8gc2lnbmFscy4gQmVzdCB1c2VkIGluIHNpdHVhdGlvbnNcbiAqIHdoZXJlIGV2ZW50cyBhcmUgZGlzcGF0Y2hlZCB0byBtYW55IG9iamVjdHMgYXQgaGlnaCBmcmVxdWVuY3kgKHNheSBldmVyeSBmcmFtZSEpXG4gKlxuICpcbiAqIGxpa2UgYSBzaWduYWwuLlxuICogYGBgXG4gKiBpbXBvcnQgeyBSdW5uZXIgfSBmcm9tICdAcGl4aS9ydW5uZXInO1xuICpcbiAqIGNvbnN0IG15T2JqZWN0ID0ge1xuICogICAgIGxvYWRlZDogbmV3IFJ1bm5lcignbG9hZGVkJylcbiAqIH1cbiAqXG4gKiBjb25zdCBsaXN0ZW5lciA9IHtcbiAqICAgICBsb2FkZWQ6IGZ1bmN0aW9uKCl7XG4gKiAgICAgICAgIC8vIHRoaW5cbiAqICAgICB9XG4gKiB9XG4gKlxuICogbXlPYmplY3QudXBkYXRlLmFkZChsaXN0ZW5lcik7XG4gKlxuICogbXlPYmplY3QubG9hZGVkLmVtaXQoKTtcbiAqIGBgYFxuICpcbiAqIE9yIGZvciBoYW5kbGluZyBjYWxsaW5nIHRoZSBzYW1lIGZ1bmN0aW9uIG9uIG1hbnkgaXRlbXNcbiAqIGBgYFxuICogaW1wb3J0IHsgUnVubmVyIH0gZnJvbSAnQHBpeGkvcnVubmVyJztcbiAqXG4gKiBjb25zdCBteUdhbWUgPSB7XG4gKiAgICAgdXBkYXRlOiBuZXcgUnVubmVyKCd1cGRhdGUnKVxuICogfVxuICpcbiAqIGNvbnN0IGdhbWVPYmplY3QgPSB7XG4gKiAgICAgdXBkYXRlOiBmdW5jdGlvbih0aW1lKXtcbiAqICAgICAgICAgLy8gdXBkYXRlIG15IGdhbWV5IHN0YXRlXG4gKiAgICAgfVxuICogfVxuICpcbiAqIG15R2FtZS51cGRhdGUuYWRkKGdhbWVPYmplY3QxKTtcbiAqXG4gKiBteUdhbWUudXBkYXRlLmVtaXQodGltZSk7XG4gKiBgYGBcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFJ1bm5lciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiAgQHBhcmFtIHtzdHJpbmd9IG5hbWUgdGhlIGZ1bmN0aW9uIG5hbWUgdGhhdCB3aWxsIGJlIGV4ZWN1dGVkIG9uIHRoZSBsaXN0ZW5lcnMgYWRkZWQgdG8gdGhpcyBSdW5uZXIuXG4gICAgICovXG4gICAgZnVuY3Rpb24gUnVubmVyKG5hbWUpIHtcbiAgICAgICAgdGhpcy5pdGVtcyA9IFtdO1xuICAgICAgICB0aGlzLl9uYW1lID0gbmFtZTtcbiAgICAgICAgdGhpcy5fYWxpYXNDb3VudCA9IDA7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERpc3BhdGNoL0Jyb2FkY2FzdCBSdW5uZXIgdG8gYWxsIGxpc3RlbmVycyBhZGRlZCB0byB0aGUgcXVldWUuXG4gICAgICogQHBhcmFtIHsuLi5hbnl9IHBhcmFtcyAtIG9wdGlvbmFsIHBhcmFtZXRlcnMgdG8gcGFzcyB0byBlYWNoIGxpc3RlbmVyXG4gICAgICogQHJldHVybiB7UElYSS5SdW5uZXJ9XG4gICAgICovXG4gICAgUnVubmVyLnByb3RvdHlwZS5lbWl0ID0gZnVuY3Rpb24gKGEwLCBhMSwgYTIsIGEzLCBhNCwgYTUsIGE2LCBhNykge1xuICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDgpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignbWF4IGFyZ3VtZW50cyByZWFjaGVkJyk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIF9hID0gdGhpcywgbmFtZSA9IF9hLm5hbWUsIGl0ZW1zID0gX2EuaXRlbXM7XG4gICAgICAgIHRoaXMuX2FsaWFzQ291bnQrKztcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGl0ZW1zLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICBpdGVtc1tpXVtuYW1lXShhMCwgYTEsIGEyLCBhMywgYTQsIGE1LCBhNiwgYTcpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpdGVtcyA9PT0gdGhpcy5pdGVtcykge1xuICAgICAgICAgICAgdGhpcy5fYWxpYXNDb3VudC0tO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgUnVubmVyLnByb3RvdHlwZS5lbnN1cmVOb25BbGlhc2VkSXRlbXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLl9hbGlhc0NvdW50ID4gMCAmJiB0aGlzLml0ZW1zLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgIHRoaXMuX2FsaWFzQ291bnQgPSAwO1xuICAgICAgICAgICAgdGhpcy5pdGVtcyA9IHRoaXMuaXRlbXMuc2xpY2UoMCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFkZCBhIGxpc3RlbmVyIHRvIHRoZSBSdW5uZXJcbiAgICAgKlxuICAgICAqIFJ1bm5lcnMgZG8gbm90IG5lZWQgdG8gaGF2ZSBzY29wZSBvciBmdW5jdGlvbnMgcGFzc2VkIHRvIHRoZW0uXG4gICAgICogQWxsIHRoYXQgaXMgcmVxdWlyZWQgaXMgdG8gcGFzcyB0aGUgbGlzdGVuaW5nIG9iamVjdCBhbmQgZW5zdXJlIHRoYXQgaXQgaGFzIGNvbnRhaW5zIGEgZnVuY3Rpb24gdGhhdCBoYXMgdGhlIHNhbWUgbmFtZVxuICAgICAqIGFzIHRoZSBuYW1lIHByb3ZpZGVkIHRvIHRoZSBSdW5uZXIgd2hlbiBpdCB3YXMgY3JlYXRlZC5cbiAgICAgKlxuICAgICAqIEVnIEEgbGlzdGVuZXIgcGFzc2VkIHRvIHRoaXMgUnVubmVyIHdpbGwgcmVxdWlyZSBhICdjb21wbGV0ZScgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBgYGBcbiAgICAgKiBpbXBvcnQgeyBSdW5uZXIgfSBmcm9tICdAcGl4aS9ydW5uZXInO1xuICAgICAqXG4gICAgICogY29uc3QgY29tcGxldGUgPSBuZXcgUnVubmVyKCdjb21wbGV0ZScpO1xuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogVGhlIHNjb3BlIHVzZWQgd2lsbCBiZSB0aGUgb2JqZWN0IGl0c2VsZi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7YW55fSBpdGVtIC0gVGhlIG9iamVjdCB0aGF0IHdpbGwgYmUgbGlzdGVuaW5nLlxuICAgICAqIEByZXR1cm4ge1BJWEkuUnVubmVyfVxuICAgICAqL1xuICAgIFJ1bm5lci5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgaWYgKGl0ZW1bdGhpcy5fbmFtZV0pIHtcbiAgICAgICAgICAgIHRoaXMuZW5zdXJlTm9uQWxpYXNlZEl0ZW1zKCk7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZShpdGVtKTtcbiAgICAgICAgICAgIHRoaXMuaXRlbXMucHVzaChpdGVtKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbW92ZSBhIHNpbmdsZSBsaXN0ZW5lciBmcm9tIHRoZSBkaXNwYXRjaCBxdWV1ZS5cbiAgICAgKiBAcGFyYW0ge2FueX0gaXRlbSAtIFRoZSBsaXN0ZW5yIHRoYXQgeW91IHdvdWxkIGxpa2UgdG8gcmVtb3ZlLlxuICAgICAqIEByZXR1cm4ge1BJWEkuUnVubmVyfVxuICAgICAqL1xuICAgIFJ1bm5lci5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5pdGVtcy5pbmRleE9mKGl0ZW0pO1xuICAgICAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgICB0aGlzLmVuc3VyZU5vbkFsaWFzZWRJdGVtcygpO1xuICAgICAgICAgICAgdGhpcy5pdGVtcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2hlY2sgdG8gc2VlIGlmIHRoZSBsaXN0ZW5lciBpcyBhbHJlYWR5IGluIHRoZSBSdW5uZXJcbiAgICAgKiBAcGFyYW0ge2FueX0gaXRlbSAtIFRoZSBsaXN0ZW5lciB0aGF0IHlvdSB3b3VsZCBsaWtlIHRvIGNoZWNrLlxuICAgICAqL1xuICAgIFJ1bm5lci5wcm90b3R5cGUuY29udGFpbnMgPSBmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICByZXR1cm4gdGhpcy5pdGVtcy5pbmRleE9mKGl0ZW0pICE9PSAtMTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbW92ZSBhbGwgbGlzdGVuZXJzIGZyb20gdGhlIFJ1bm5lclxuICAgICAqIEByZXR1cm4ge1BJWEkuUnVubmVyfVxuICAgICAqL1xuICAgIFJ1bm5lci5wcm90b3R5cGUucmVtb3ZlQWxsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmVuc3VyZU5vbkFsaWFzZWRJdGVtcygpO1xuICAgICAgICB0aGlzLml0ZW1zLmxlbmd0aCA9IDA7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVtb3ZlIGFsbCByZWZlcmVuY2VzLCBkb24ndCB1c2UgYWZ0ZXIgdGhpcy5cbiAgICAgKi9cbiAgICBSdW5uZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMucmVtb3ZlQWxsKCk7XG4gICAgICAgIHRoaXMuaXRlbXMgPSBudWxsO1xuICAgICAgICB0aGlzLl9uYW1lID0gbnVsbDtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShSdW5uZXIucHJvdG90eXBlLCBcImVtcHR5XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIGB0cnVlYCBpZiB0aGVyZSBhcmUgbm8gdGhpcyBSdW5uZXIgY29udGFpbnMgbm8gbGlzdGVuZXJzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5pdGVtcy5sZW5ndGggPT09IDA7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShSdW5uZXIucHJvdG90eXBlLCBcIm5hbWVcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG5hbWUgb2YgdGhlIHJ1bm5lci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX25hbWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBSdW5uZXI7XG59KCkpO1xuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoUnVubmVyLnByb3RvdHlwZSwge1xuICAgIC8qKlxuICAgICAqIEFsaWFzIGZvciBgZW1pdGBcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5SdW5uZXIjXG4gICAgICogQG1ldGhvZCBkaXNwYXRjaFxuICAgICAqIEBzZWUgUElYSS5SdW5uZXIjZW1pdFxuICAgICAqL1xuICAgIGRpc3BhdGNoOiB7IHZhbHVlOiBSdW5uZXIucHJvdG90eXBlLmVtaXQgfSxcbiAgICAvKipcbiAgICAgKiBBbGlhcyBmb3IgYGVtaXRgXG4gICAgICogQG1lbWJlcm9mIFBJWEkuUnVubmVyI1xuICAgICAqIEBtZXRob2QgcnVuXG4gICAgICogQHNlZSBQSVhJLlJ1bm5lciNlbWl0XG4gICAgICovXG4gICAgcnVuOiB7IHZhbHVlOiBSdW5uZXIucHJvdG90eXBlLmVtaXQgfSxcbn0pO1xuXG5leHBvcnQgeyBSdW5uZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJ1bm5lci5lcy5qcy5tYXBcbiIsIi8qIVxuICogQHBpeGkvdGlja2VyIC0gdjUuMi4wXG4gKiBDb21waWxlZCBXZWQsIDA2IE5vdiAyMDE5IDAyOjMyOjQzIFVUQ1xuICpcbiAqIEBwaXhpL3RpY2tlciBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbmltcG9ydCB7IHNldHRpbmdzIH0gZnJvbSAnQHBpeGkvc2V0dGluZ3MnO1xuXG4vKipcbiAqIFRhcmdldCBmcmFtZXMgcGVyIG1pbGxpc2Vjb25kLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBuYW1lIFRBUkdFVF9GUE1TXG4gKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICogQHR5cGUge251bWJlcn1cbiAqIEBkZWZhdWx0IDAuMDZcbiAqL1xuc2V0dGluZ3MuVEFSR0VUX0ZQTVMgPSAwLjA2O1xuXG4vKipcbiAqIFJlcHJlc2VudHMgdGhlIHVwZGF0ZSBwcmlvcml0aWVzIHVzZWQgYnkgaW50ZXJuYWwgUElYSSBjbGFzc2VzIHdoZW4gcmVnaXN0ZXJlZCB3aXRoXG4gKiB0aGUge0BsaW5rIFBJWEkuVGlja2VyfSBvYmplY3QuIEhpZ2hlciBwcmlvcml0eSBpdGVtcyBhcmUgdXBkYXRlZCBmaXJzdCBhbmQgbG93ZXJcbiAqIHByaW9yaXR5IGl0ZW1zLCBzdWNoIGFzIHJlbmRlciwgc2hvdWxkIGdvIGxhdGVyLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBjb25zdGFudFxuICogQG5hbWUgVVBEQVRFX1BSSU9SSVRZXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGVudW0ge251bWJlcn1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBJTlRFUkFDVElPTj01MCBIaWdoZXN0IHByaW9yaXR5LCB1c2VkIGZvciB7QGxpbmsgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXJ9XG4gKiBAcHJvcGVydHkge251bWJlcn0gSElHSD0yNSBIaWdoIHByaW9yaXR5IHVwZGF0aW5nLCB7QGxpbmsgUElYSS5WaWRlb0Jhc2VUZXh0dXJlfSBhbmQge0BsaW5rIFBJWEkuQW5pbWF0ZWRTcHJpdGV9XG4gKiBAcHJvcGVydHkge251bWJlcn0gTk9STUFMPTAgRGVmYXVsdCBwcmlvcml0eSBmb3IgdGlja2VyIGV2ZW50cywgc2VlIHtAbGluayBQSVhJLlRpY2tlciNhZGR9LlxuICogQHByb3BlcnR5IHtudW1iZXJ9IExPVz0tMjUgTG93IHByaW9yaXR5IHVzZWQgZm9yIHtAbGluayBQSVhJLkFwcGxpY2F0aW9ufSByZW5kZXJpbmcuXG4gKiBAcHJvcGVydHkge251bWJlcn0gVVRJTElUWT0tNTAgTG93ZXN0IHByaW9yaXR5IHVzZWQgZm9yIHtAbGluayBQSVhJLnByZXBhcmUuQmFzZVByZXBhcmV9IHV0aWxpdHkuXG4gKi9cbnZhciBVUERBVEVfUFJJT1JJVFk7XG4oZnVuY3Rpb24gKFVQREFURV9QUklPUklUWSkge1xuICAgIFVQREFURV9QUklPUklUWVtVUERBVEVfUFJJT1JJVFlbXCJJTlRFUkFDVElPTlwiXSA9IDUwXSA9IFwiSU5URVJBQ1RJT05cIjtcbiAgICBVUERBVEVfUFJJT1JJVFlbVVBEQVRFX1BSSU9SSVRZW1wiSElHSFwiXSA9IDI1XSA9IFwiSElHSFwiO1xuICAgIFVQREFURV9QUklPUklUWVtVUERBVEVfUFJJT1JJVFlbXCJOT1JNQUxcIl0gPSAwXSA9IFwiTk9STUFMXCI7XG4gICAgVVBEQVRFX1BSSU9SSVRZW1VQREFURV9QUklPUklUWVtcIkxPV1wiXSA9IC0yNV0gPSBcIkxPV1wiO1xuICAgIFVQREFURV9QUklPUklUWVtVUERBVEVfUFJJT1JJVFlbXCJVVElMSVRZXCJdID0gLTUwXSA9IFwiVVRJTElUWVwiO1xufSkoVVBEQVRFX1BSSU9SSVRZIHx8IChVUERBVEVfUFJJT1JJVFkgPSB7fSkpO1xuXG4vKipcbiAqIEludGVybmFsIGNsYXNzIGZvciBoYW5kbGluZyB0aGUgcHJpb3JpdHkgc29ydGluZyBvZiB0aWNrZXIgaGFuZGxlcnMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFRpY2tlckxpc3RlbmVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIENvbnN0cnVjdG9yXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiAtIFRoZSBsaXN0ZW5lciBmdW5jdGlvbiB0byBiZSBhZGRlZCBmb3Igb25lIHVwZGF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gW2NvbnRleHQ9bnVsbF0gLSBUaGUgbGlzdGVuZXIgY29udGV4dFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcHJpb3JpdHk9MF0gLSBUaGUgcHJpb3JpdHkgZm9yIGVtaXR0aW5nXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb25jZT1mYWxzZV0gLSBJZiB0aGUgaGFuZGxlciBzaG91bGQgZmlyZSBvbmNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gVGlja2VyTGlzdGVuZXIoZm4sIGNvbnRleHQsIHByaW9yaXR5LCBvbmNlKSB7XG4gICAgICAgIGlmIChjb250ZXh0ID09PSB2b2lkIDApIHsgY29udGV4dCA9IG51bGw7IH1cbiAgICAgICAgaWYgKHByaW9yaXR5ID09PSB2b2lkIDApIHsgcHJpb3JpdHkgPSAwOyB9XG4gICAgICAgIGlmIChvbmNlID09PSB2b2lkIDApIHsgb25jZSA9IGZhbHNlOyB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgaGFuZGxlciBmdW5jdGlvbiB0byBleGVjdXRlLlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtGdW5jdGlvbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZm4gPSBmbjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjYWxsaW5nIHRvIGV4ZWN1dGUuXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIgeyp9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGN1cnJlbnQgcHJpb3JpdHkuXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucHJpb3JpdHkgPSBwcmlvcml0eTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIHRoaXMgc2hvdWxkIG9ubHkgZXhlY3V0ZSBvbmNlLlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5vbmNlID0gb25jZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBuZXh0IGl0ZW0gaW4gY2hhaW4uXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge1RpY2tlckxpc3RlbmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5uZXh0ID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBwcmV2aW91cyBpdGVtIGluIGNoYWluLlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtUaWNrZXJMaXN0ZW5lcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucHJldmlvdXMgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogYHRydWVgIGlmIHRoaXMgbGlzdGVuZXIgaGFzIGJlZW4gZGVzdHJveWVkIGFscmVhZHkuXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9kZXN0cm95ZWQgPSBmYWxzZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2ltcGxlIGNvbXBhcmUgZnVuY3Rpb24gdG8gZmlndXJlIG91dCBpZiBhIGZ1bmN0aW9uIGFuZCBjb250ZXh0IG1hdGNoLlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gLSBUaGUgbGlzdGVuZXIgZnVuY3Rpb24gdG8gYmUgYWRkZWQgZm9yIG9uZSB1cGRhdGVcbiAgICAgKiBAcGFyYW0ge2FueX0gW2NvbnRleHRdIC0gVGhlIGxpc3RlbmVyIGNvbnRleHRcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBgdHJ1ZWAgaWYgdGhlIGxpc3RlbmVyIG1hdGNoIHRoZSBhcmd1bWVudHNcbiAgICAgKi9cbiAgICBUaWNrZXJMaXN0ZW5lci5wcm90b3R5cGUubWF0Y2ggPSBmdW5jdGlvbiAoZm4sIGNvbnRleHQpIHtcbiAgICAgICAgaWYgKGNvbnRleHQgPT09IHZvaWQgMCkgeyBjb250ZXh0ID0gbnVsbDsgfVxuICAgICAgICByZXR1cm4gdGhpcy5mbiA9PT0gZm4gJiYgdGhpcy5jb250ZXh0ID09PSBjb250ZXh0O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRW1pdCBieSBjYWxsaW5nIHRoZSBjdXJyZW50IGZ1bmN0aW9uLlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGRlbHRhVGltZSAtIHRpbWUgc2luY2UgdGhlIGxhc3QgZW1pdC5cbiAgICAgKiBAcmV0dXJuIHtUaWNrZXJMaXN0ZW5lcn0gTmV4dCB0aWNrZXJcbiAgICAgKi9cbiAgICBUaWNrZXJMaXN0ZW5lci5wcm90b3R5cGUuZW1pdCA9IGZ1bmN0aW9uIChkZWx0YVRpbWUpIHtcbiAgICAgICAgaWYgKHRoaXMuZm4pIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmNvbnRleHQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmZuLmNhbGwodGhpcy5jb250ZXh0LCBkZWx0YVRpbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5mbihkZWx0YVRpbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciByZWRpcmVjdCA9IHRoaXMubmV4dDtcbiAgICAgICAgaWYgKHRoaXMub25jZSkge1xuICAgICAgICAgICAgdGhpcy5kZXN0cm95KHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFNvZnQtZGVzdHJveWluZyBzaG91bGQgcmVtb3ZlXG4gICAgICAgIC8vIHRoZSBuZXh0IHJlZmVyZW5jZVxuICAgICAgICBpZiAodGhpcy5fZGVzdHJveWVkKSB7XG4gICAgICAgICAgICB0aGlzLm5leHQgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZWRpcmVjdDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENvbm5lY3QgdG8gdGhlIGxpc3QuXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1RpY2tlckxpc3RlbmVyfSBwcmV2aW91cyAtIElucHV0IG5vZGUsIHByZXZpb3VzIGxpc3RlbmVyXG4gICAgICovXG4gICAgVGlja2VyTGlzdGVuZXIucHJvdG90eXBlLmNvbm5lY3QgPSBmdW5jdGlvbiAocHJldmlvdXMpIHtcbiAgICAgICAgdGhpcy5wcmV2aW91cyA9IHByZXZpb3VzO1xuICAgICAgICBpZiAocHJldmlvdXMubmV4dCkge1xuICAgICAgICAgICAgcHJldmlvdXMubmV4dC5wcmV2aW91cyA9IHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5uZXh0ID0gcHJldmlvdXMubmV4dDtcbiAgICAgICAgcHJldmlvdXMubmV4dCA9IHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXN0cm95IGFuZCBkb24ndCB1c2UgYWZ0ZXIgdGhpcy5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2hhcmQgPSBmYWxzZV0gYHRydWVgIHRvIHJlbW92ZSB0aGUgYG5leHRgIHJlZmVyZW5jZSwgdGhpc1xuICAgICAqICAgICAgICBpcyBjb25zaWRlcmVkIGEgaGFyZCBkZXN0cm95LiBTb2Z0IGRlc3Ryb3kgbWFpbnRhaW5zIHRoZSBuZXh0IHJlZmVyZW5jZS5cbiAgICAgKiBAcmV0dXJuIHtUaWNrZXJMaXN0ZW5lcn0gVGhlIGxpc3RlbmVyIHRvIHJlZGlyZWN0IHdoaWxlIGVtaXR0aW5nIG9yIHJlbW92aW5nLlxuICAgICAqL1xuICAgIFRpY2tlckxpc3RlbmVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKGhhcmQpIHtcbiAgICAgICAgaWYgKGhhcmQgPT09IHZvaWQgMCkgeyBoYXJkID0gZmFsc2U7IH1cbiAgICAgICAgdGhpcy5fZGVzdHJveWVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5mbiA9IG51bGw7XG4gICAgICAgIHRoaXMuY29udGV4dCA9IG51bGw7XG4gICAgICAgIC8vIERpc2Nvbm5lY3QsIGhvb2sgdXAgbmV4dCBhbmQgcHJldmlvdXNcbiAgICAgICAgaWYgKHRoaXMucHJldmlvdXMpIHtcbiAgICAgICAgICAgIHRoaXMucHJldmlvdXMubmV4dCA9IHRoaXMubmV4dDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5uZXh0KSB7XG4gICAgICAgICAgICB0aGlzLm5leHQucHJldmlvdXMgPSB0aGlzLnByZXZpb3VzO1xuICAgICAgICB9XG4gICAgICAgIC8vIFJlZGlyZWN0IHRvIHRoZSBuZXh0IGl0ZW1cbiAgICAgICAgdmFyIHJlZGlyZWN0ID0gdGhpcy5uZXh0O1xuICAgICAgICAvLyBSZW1vdmUgcmVmZXJlbmNlc1xuICAgICAgICB0aGlzLm5leHQgPSBoYXJkID8gbnVsbCA6IHJlZGlyZWN0O1xuICAgICAgICB0aGlzLnByZXZpb3VzID0gbnVsbDtcbiAgICAgICAgcmV0dXJuIHJlZGlyZWN0O1xuICAgIH07XG4gICAgcmV0dXJuIFRpY2tlckxpc3RlbmVyO1xufSgpKTtcblxuLyoqXG4gKiBBIFRpY2tlciBjbGFzcyB0aGF0IHJ1bnMgYW4gdXBkYXRlIGxvb3AgdGhhdCBvdGhlciBvYmplY3RzIGxpc3RlbiB0by5cbiAqXG4gKiBUaGlzIGNsYXNzIGlzIGNvbXBvc2VkIGFyb3VuZCBsaXN0ZW5lcnMgbWVhbnQgZm9yIGV4ZWN1dGlvbiBvbiB0aGUgbmV4dCByZXF1ZXN0ZWQgYW5pbWF0aW9uIGZyYW1lLlxuICogQW5pbWF0aW9uIGZyYW1lcyBhcmUgcmVxdWVzdGVkIG9ubHkgd2hlbiBuZWNlc3NhcnksIGUuZy4gV2hlbiB0aGUgdGlja2VyIGlzIHN0YXJ0ZWQgYW5kIHRoZSBlbWl0dGVyIGhhcyBsaXN0ZW5lcnMuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgVGlja2VyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFRpY2tlcigpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBmaXJzdCBsaXN0ZW5lci4gQWxsIG5ldyBsaXN0ZW5lcnMgYWRkZWQgYXJlIGNoYWluZWQgb24gdGhpcy5cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge1RpY2tlckxpc3RlbmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5faGVhZCA9IG5ldyBUaWNrZXJMaXN0ZW5lcihudWxsLCBudWxsLCBJbmZpbml0eSk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbnRlcm5hbCBjdXJyZW50IGZyYW1lIHJlcXVlc3QgSURcbiAgICAgICAgICogQHR5cGUgez9udW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9yZXF1ZXN0SWQgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogSW50ZXJuYWwgdmFsdWUgbWFuYWdlZCBieSBtaW5GUFMgcHJvcGVydHkgc2V0dGVyIGFuZCBnZXR0ZXIuXG4gICAgICAgICAqIFRoaXMgaXMgdGhlIG1heGltdW0gYWxsb3dlZCBtaWxsaXNlY29uZHMgYmV0d2VlbiB1cGRhdGVzLlxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fbWF4RWxhcHNlZE1TID0gMTAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogSW50ZXJuYWwgdmFsdWUgbWFuYWdlZCBieSBtYXhGUFMgcHJvcGVydHkgc2V0dGVyIGFuZCBnZXR0ZXIuXG4gICAgICAgICAqIFRoaXMgaXMgdGhlIG1pbmltdW0gYWxsb3dlZCBtaWxsaXNlY29uZHMgYmV0d2VlbiB1cGRhdGVzLlxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fbWluRWxhcHNlZE1TID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZXRoZXIgb3Igbm90IHRoaXMgdGlja2VyIHNob3VsZCBpbnZva2UgdGhlIG1ldGhvZFxuICAgICAgICAgKiB7QGxpbmsgUElYSS5UaWNrZXIjc3RhcnR9IGF1dG9tYXRpY2FsbHlcbiAgICAgICAgICogd2hlbiBhIGxpc3RlbmVyIGlzIGFkZGVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5hdXRvU3RhcnQgPSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNjYWxhciB0aW1lIHZhbHVlIGZyb20gbGFzdCBmcmFtZSB0byB0aGlzIGZyYW1lLlxuICAgICAgICAgKiBUaGlzIHZhbHVlIGlzIGNhcHBlZCBieSBzZXR0aW5nIHtAbGluayBQSVhJLlRpY2tlciNtaW5GUFN9XG4gICAgICAgICAqIGFuZCBpcyBzY2FsZWQgd2l0aCB7QGxpbmsgUElYSS5UaWNrZXIjc3BlZWR9LlxuICAgICAgICAgKiAqKk5vdGU6KiogVGhlIGNhcCBtYXkgYmUgZXhjZWVkZWQgYnkgc2NhbGluZy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAxXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRlbHRhVGltZSA9IDE7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTY2FsZXIgdGltZSBlbGFwc2VkIGluIG1pbGxpc2Vjb25kcyBmcm9tIGxhc3QgZnJhbWUgdG8gdGhpcyBmcmFtZS5cbiAgICAgICAgICogVGhpcyB2YWx1ZSBpcyBjYXBwZWQgYnkgc2V0dGluZyB7QGxpbmsgUElYSS5UaWNrZXIjbWluRlBTfVxuICAgICAgICAgKiBhbmQgaXMgc2NhbGVkIHdpdGgge0BsaW5rIFBJWEkuVGlja2VyI3NwZWVkfS5cbiAgICAgICAgICogKipOb3RlOioqIFRoZSBjYXAgbWF5IGJlIGV4Y2VlZGVkIGJ5IHNjYWxpbmcuXG4gICAgICAgICAqIElmIHRoZSBwbGF0Zm9ybSBzdXBwb3J0cyBET01IaWdoUmVzVGltZVN0YW1wLFxuICAgICAgICAgKiB0aGlzIHZhbHVlIHdpbGwgaGF2ZSBhIHByZWNpc2lvbiBvZiAxIMK1cy5cbiAgICAgICAgICogRGVmYXVsdHMgdG8gdGFyZ2V0IGZyYW1lIHRpbWVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAxNi42NlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kZWx0YU1TID0gMSAvIHNldHRpbmdzLlRBUkdFVF9GUE1TO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGltZSBlbGFwc2VkIGluIG1pbGxpc2Vjb25kcyBmcm9tIGxhc3QgZnJhbWUgdG8gdGhpcyBmcmFtZS5cbiAgICAgICAgICogT3Bwb3NlZCB0byB3aGF0IHRoZSBzY2FsYXIge0BsaW5rIFBJWEkuVGlja2VyI2RlbHRhVGltZX1cbiAgICAgICAgICogaXMgYmFzZWQsIHRoaXMgdmFsdWUgaXMgbmVpdGhlciBjYXBwZWQgbm9yIHNjYWxlZC5cbiAgICAgICAgICogSWYgdGhlIHBsYXRmb3JtIHN1cHBvcnRzIERPTUhpZ2hSZXNUaW1lU3RhbXAsXG4gICAgICAgICAqIHRoaXMgdmFsdWUgd2lsbCBoYXZlIGEgcHJlY2lzaW9uIG9mIDEgwrVzLlxuICAgICAgICAgKiBEZWZhdWx0cyB0byB0YXJnZXQgZnJhbWUgdGltZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDE2LjY2XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmVsYXBzZWRNUyA9IDEgLyBzZXR0aW5ncy5UQVJHRVRfRlBNUztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBsYXN0IHRpbWUge0BsaW5rIFBJWEkuVGlja2VyI3VwZGF0ZX0gd2FzIGludm9rZWQuXG4gICAgICAgICAqIFRoaXMgdmFsdWUgaXMgYWxzbyByZXNldCBpbnRlcm5hbGx5IG91dHNpZGUgb2YgaW52b2tpbmdcbiAgICAgICAgICogdXBkYXRlLCBidXQgb25seSB3aGVuIGEgbmV3IGFuaW1hdGlvbiBmcmFtZSBpcyByZXF1ZXN0ZWQuXG4gICAgICAgICAqIElmIHRoZSBwbGF0Zm9ybSBzdXBwb3J0cyBET01IaWdoUmVzVGltZVN0YW1wLFxuICAgICAgICAgKiB0aGlzIHZhbHVlIHdpbGwgaGF2ZSBhIHByZWNpc2lvbiBvZiAxIMK1cy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAtMVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5sYXN0VGltZSA9IC0xO1xuICAgICAgICAvKipcbiAgICAgICAgICogRmFjdG9yIG9mIGN1cnJlbnQge0BsaW5rIFBJWEkuVGlja2VyI2RlbHRhVGltZX0uXG4gICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAqIC8vIFNjYWxlcyB0aWNrZXIuZGVsdGFUaW1lIHRvIHdoYXQgd291bGQgYmVcbiAgICAgICAgICogLy8gdGhlIGVxdWl2YWxlbnQgb2YgYXBwcm94aW1hdGVseSAxMjAgRlBTXG4gICAgICAgICAqIHRpY2tlci5zcGVlZCA9IDI7XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zcGVlZCA9IDE7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGV0aGVyIG9yIG5vdCB0aGlzIHRpY2tlciBoYXMgYmVlbiBzdGFydGVkLlxuICAgICAgICAgKiBgdHJ1ZWAgaWYge0BsaW5rIFBJWEkuVGlja2VyI3N0YXJ0fSBoYXMgYmVlbiBjYWxsZWQuXG4gICAgICAgICAqIGBmYWxzZWAgaWYge0BsaW5rIFBJWEkuVGlja2VyI3N0b3B9IGhhcyBiZWVuIGNhbGxlZC5cbiAgICAgICAgICogV2hpbGUgYGZhbHNlYCwgdGhpcyB2YWx1ZSBtYXkgY2hhbmdlIHRvIGB0cnVlYCBpbiB0aGVcbiAgICAgICAgICogZXZlbnQgb2Yge0BsaW5rIFBJWEkuVGlja2VyI2F1dG9TdGFydH0gYmVpbmcgYHRydWVgXG4gICAgICAgICAqIGFuZCBhIGxpc3RlbmVyIGlzIGFkZGVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zdGFydGVkID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiBlbmFibGVkLCBkZWxldGluZyBpcyBkaXNhYmxlZC5cbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3Byb3RlY3RlZCA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGxhc3QgdGltZSBrZXlmcmFtZSB3YXMgZXhlY3V0ZWQuXG4gICAgICAgICAqIE1haW50YWlucyBhIHJlbGF0aXZlbHkgZml4ZWQgaW50ZXJ2YWwgd2l0aCB0aGUgcHJldmlvdXMgdmFsdWUuXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgLTFcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2xhc3RGcmFtZSA9IC0xO1xuICAgICAgICAvKipcbiAgICAgICAgICogSW50ZXJuYWwgdGljayBtZXRob2QgYm91bmQgdG8gdGlja2VyIGluc3RhbmNlLlxuICAgICAgICAgKiBUaGlzIGlzIGJlY2F1c2UgaW4gZWFybHkgMjAxNSwgRnVuY3Rpb24uYmluZFxuICAgICAgICAgKiBpcyBzdGlsbCA2MCUgc2xvd2VyIGluIGhpZ2ggcGVyZm9ybWFuY2Ugc2NlbmFyaW9zLlxuICAgICAgICAgKiBBbHNvIHNlcGFyYXRpbmcgZnJhbWUgcmVxdWVzdHMgZnJvbSB1cGRhdGUgbWV0aG9kXG4gICAgICAgICAqIHNvIGxpc3RlbmVycyBtYXkgYmUgY2FsbGVkIGF0IGFueSB0aW1lIGFuZCB3aXRoXG4gICAgICAgICAqIGFueSBhbmltYXRpb24gQVBJLCBqdXN0IGludm9rZSB0aWNrZXIudXBkYXRlKHRpbWUpLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0gdGltZSAtIFRpbWUgc2luY2UgbGFzdCB0aWNrLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fdGljayA9IGZ1bmN0aW9uICh0aW1lKSB7XG4gICAgICAgICAgICBfdGhpcy5fcmVxdWVzdElkID0gbnVsbDtcbiAgICAgICAgICAgIGlmIChfdGhpcy5zdGFydGVkKSB7XG4gICAgICAgICAgICAgICAgLy8gSW52b2tlIGxpc3RlbmVycyBub3dcbiAgICAgICAgICAgICAgICBfdGhpcy51cGRhdGUodGltZSk7XG4gICAgICAgICAgICAgICAgLy8gTGlzdGVuZXIgc2lkZSBlZmZlY3RzIG1heSBoYXZlIG1vZGlmaWVkIHRpY2tlciBzdGF0ZS5cbiAgICAgICAgICAgICAgICBpZiAoX3RoaXMuc3RhcnRlZCAmJiBfdGhpcy5fcmVxdWVzdElkID09PSBudWxsICYmIF90aGlzLl9oZWFkLm5leHQpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuX3JlcXVlc3RJZCA9IHJlcXVlc3RBbmltYXRpb25GcmFtZShfdGhpcy5fdGljayk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDb25kaXRpb25hbGx5IHJlcXVlc3RzIGEgbmV3IGFuaW1hdGlvbiBmcmFtZS5cbiAgICAgKiBJZiBhIGZyYW1lIGhhcyBub3QgYWxyZWFkeSBiZWVuIHJlcXVlc3RlZCwgYW5kIGlmIHRoZSBpbnRlcm5hbFxuICAgICAqIGVtaXR0ZXIgaGFzIGxpc3RlbmVycywgYSBuZXcgZnJhbWUgaXMgcmVxdWVzdGVkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBUaWNrZXIucHJvdG90eXBlLl9yZXF1ZXN0SWZOZWVkZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLl9yZXF1ZXN0SWQgPT09IG51bGwgJiYgdGhpcy5faGVhZC5uZXh0KSB7XG4gICAgICAgICAgICAvLyBlbnN1cmUgY2FsbGJhY2tzIGdldCBjb3JyZWN0IGRlbHRhXG4gICAgICAgICAgICB0aGlzLmxhc3RUaW1lID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgICAgICAgICB0aGlzLl9sYXN0RnJhbWUgPSB0aGlzLmxhc3RUaW1lO1xuICAgICAgICAgICAgdGhpcy5fcmVxdWVzdElkID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMuX3RpY2spO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDb25kaXRpb25hbGx5IGNhbmNlbHMgYSBwZW5kaW5nIGFuaW1hdGlvbiBmcmFtZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgVGlja2VyLnByb3RvdHlwZS5fY2FuY2VsSWZOZWVkZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLl9yZXF1ZXN0SWQgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKHRoaXMuX3JlcXVlc3RJZCk7XG4gICAgICAgICAgICB0aGlzLl9yZXF1ZXN0SWQgPSBudWxsO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDb25kaXRpb25hbGx5IHJlcXVlc3RzIGEgbmV3IGFuaW1hdGlvbiBmcmFtZS5cbiAgICAgKiBJZiB0aGUgdGlja2VyIGhhcyBiZWVuIHN0YXJ0ZWQgaXQgY2hlY2tzIGlmIGEgZnJhbWUgaGFzIG5vdCBhbHJlYWR5XG4gICAgICogYmVlbiByZXF1ZXN0ZWQsIGFuZCBpZiB0aGUgaW50ZXJuYWwgZW1pdHRlciBoYXMgbGlzdGVuZXJzLiBJZiB0aGVzZVxuICAgICAqIGNvbmRpdGlvbnMgYXJlIG1ldCwgYSBuZXcgZnJhbWUgaXMgcmVxdWVzdGVkLiBJZiB0aGUgdGlja2VyIGhhcyBub3RcbiAgICAgKiBiZWVuIHN0YXJ0ZWQsIGJ1dCBhdXRvU3RhcnQgaXMgYHRydWVgLCB0aGVuIHRoZSB0aWNrZXIgc3RhcnRzIG5vdyxcbiAgICAgKiBhbmQgY29udGludWVzIHdpdGggdGhlIHByZXZpb3VzIGNvbmRpdGlvbnMgdG8gcmVxdWVzdCBhIG5ldyBmcmFtZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgVGlja2VyLnByb3RvdHlwZS5fc3RhcnRJZlBvc3NpYmxlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5zdGFydGVkKSB7XG4gICAgICAgICAgICB0aGlzLl9yZXF1ZXN0SWZOZWVkZWQoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLmF1dG9TdGFydCkge1xuICAgICAgICAgICAgdGhpcy5zdGFydCgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZWdpc3RlciBhIGhhbmRsZXIgZm9yIHRpY2sgZXZlbnRzLiBDYWxscyBjb250aW51b3VzbHkgdW5sZXNzXG4gICAgICogaXQgaXMgcmVtb3ZlZCBvciB0aGUgdGlja2VyIGlzIHN0b3BwZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiAtIFRoZSBsaXN0ZW5lciBmdW5jdGlvbiB0byBiZSBhZGRlZCBmb3IgdXBkYXRlc1xuICAgICAqIEBwYXJhbSB7Kn0gW2NvbnRleHRdIC0gVGhlIGxpc3RlbmVyIGNvbnRleHRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3ByaW9yaXR5PVBJWEkuVVBEQVRFX1BSSU9SSVRZLk5PUk1BTF0gLSBUaGUgcHJpb3JpdHkgZm9yIGVtaXR0aW5nXG4gICAgICogQHJldHVybnMge1BJWEkuVGlja2VyfSBUaGlzIGluc3RhbmNlIG9mIGEgdGlja2VyXG4gICAgICovXG4gICAgVGlja2VyLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiAoZm4sIGNvbnRleHQsIHByaW9yaXR5KSB7XG4gICAgICAgIGlmIChwcmlvcml0eSA9PT0gdm9pZCAwKSB7IHByaW9yaXR5ID0gVVBEQVRFX1BSSU9SSVRZLk5PUk1BTDsgfVxuICAgICAgICByZXR1cm4gdGhpcy5fYWRkTGlzdGVuZXIobmV3IFRpY2tlckxpc3RlbmVyKGZuLCBjb250ZXh0LCBwcmlvcml0eSkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQWRkIGEgaGFuZGxlciBmb3IgdGhlIHRpY2sgZXZlbnQgd2hpY2ggaXMgb25seSBleGVjdXRlIG9uY2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiAtIFRoZSBsaXN0ZW5lciBmdW5jdGlvbiB0byBiZSBhZGRlZCBmb3Igb25lIHVwZGF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gW2NvbnRleHRdIC0gVGhlIGxpc3RlbmVyIGNvbnRleHRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3ByaW9yaXR5PVBJWEkuVVBEQVRFX1BSSU9SSVRZLk5PUk1BTF0gLSBUaGUgcHJpb3JpdHkgZm9yIGVtaXR0aW5nXG4gICAgICogQHJldHVybnMge1BJWEkuVGlja2VyfSBUaGlzIGluc3RhbmNlIG9mIGEgdGlja2VyXG4gICAgICovXG4gICAgVGlja2VyLnByb3RvdHlwZS5hZGRPbmNlID0gZnVuY3Rpb24gKGZuLCBjb250ZXh0LCBwcmlvcml0eSkge1xuICAgICAgICBpZiAocHJpb3JpdHkgPT09IHZvaWQgMCkgeyBwcmlvcml0eSA9IFVQREFURV9QUklPUklUWS5OT1JNQUw7IH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZExpc3RlbmVyKG5ldyBUaWNrZXJMaXN0ZW5lcihmbiwgY29udGV4dCwgcHJpb3JpdHksIHRydWUpKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEludGVybmFsbHkgYWRkcyB0aGUgZXZlbnQgaGFuZGxlciBzbyB0aGF0IGl0IGNhbiBiZSBzb3J0ZWQgYnkgcHJpb3JpdHkuXG4gICAgICogUHJpb3JpdHkgYWxsb3dzIGNlcnRhaW4gaGFuZGxlciAodXNlciwgQW5pbWF0ZWRTcHJpdGUsIEludGVyYWN0aW9uKSB0byBiZSBydW5cbiAgICAgKiBiZWZvcmUgdGhlIHJlbmRlcmluZy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtUaWNrZXJMaXN0ZW5lcn0gbGlzdGVuZXIgLSBDdXJyZW50IGxpc3RlbmVyIGJlaW5nIGFkZGVkLlxuICAgICAqIEByZXR1cm5zIHtQSVhJLlRpY2tlcn0gVGhpcyBpbnN0YW5jZSBvZiBhIHRpY2tlclxuICAgICAqL1xuICAgIFRpY2tlci5wcm90b3R5cGUuX2FkZExpc3RlbmVyID0gZnVuY3Rpb24gKGxpc3RlbmVyKSB7XG4gICAgICAgIC8vIEZvciBhdHRhY2hpbmcgdG8gaGVhZFxuICAgICAgICB2YXIgY3VycmVudCA9IHRoaXMuX2hlYWQubmV4dDtcbiAgICAgICAgdmFyIHByZXZpb3VzID0gdGhpcy5faGVhZDtcbiAgICAgICAgLy8gQWRkIHRoZSBmaXJzdCBpdGVtXG4gICAgICAgIGlmICghY3VycmVudCkge1xuICAgICAgICAgICAgbGlzdGVuZXIuY29ubmVjdChwcmV2aW91cyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBHbyBmcm9tIGhpZ2hlc3QgdG8gbG93ZXN0IHByaW9yaXR5XG4gICAgICAgICAgICB3aGlsZSAoY3VycmVudCkge1xuICAgICAgICAgICAgICAgIGlmIChsaXN0ZW5lci5wcmlvcml0eSA+IGN1cnJlbnQucHJpb3JpdHkpIHtcbiAgICAgICAgICAgICAgICAgICAgbGlzdGVuZXIuY29ubmVjdChwcmV2aW91cyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBwcmV2aW91cyA9IGN1cnJlbnQ7XG4gICAgICAgICAgICAgICAgY3VycmVudCA9IGN1cnJlbnQubmV4dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIE5vdCB5ZXQgY29ubmVjdGVkXG4gICAgICAgICAgICBpZiAoIWxpc3RlbmVyLnByZXZpb3VzKSB7XG4gICAgICAgICAgICAgICAgbGlzdGVuZXIuY29ubmVjdChwcmV2aW91cyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fc3RhcnRJZlBvc3NpYmxlKCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhbnkgaGFuZGxlcnMgbWF0Y2hpbmcgdGhlIGZ1bmN0aW9uIGFuZCBjb250ZXh0IHBhcmFtZXRlcnMuXG4gICAgICogSWYgbm8gaGFuZGxlcnMgYXJlIGxlZnQgYWZ0ZXIgcmVtb3ZpbmcsIHRoZW4gaXQgY2FuY2VscyB0aGUgYW5pbWF0aW9uIGZyYW1lLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gLSBUaGUgbGlzdGVuZXIgZnVuY3Rpb24gdG8gYmUgcmVtb3ZlZFxuICAgICAqIEBwYXJhbSB7Kn0gW2NvbnRleHRdIC0gVGhlIGxpc3RlbmVyIGNvbnRleHQgdG8gYmUgcmVtb3ZlZFxuICAgICAqIEByZXR1cm5zIHtQSVhJLlRpY2tlcn0gVGhpcyBpbnN0YW5jZSBvZiBhIHRpY2tlclxuICAgICAqL1xuICAgIFRpY2tlci5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24gKGZuLCBjb250ZXh0KSB7XG4gICAgICAgIHZhciBsaXN0ZW5lciA9IHRoaXMuX2hlYWQubmV4dDtcbiAgICAgICAgd2hpbGUgKGxpc3RlbmVyKSB7XG4gICAgICAgICAgICAvLyBXZSBmb3VuZCBhIG1hdGNoLCBsZXRzIHJlbW92ZSBpdFxuICAgICAgICAgICAgLy8gbm8gYnJlYWsgdG8gZGVsZXRlIGFsbCBwb3NzaWJsZSBtYXRjaGVzXG4gICAgICAgICAgICAvLyBpbmNhc2UgYSBsaXN0ZW5lciB3YXMgYWRkZWQgMisgdGltZXNcbiAgICAgICAgICAgIGlmIChsaXN0ZW5lci5tYXRjaChmbiwgY29udGV4dCkpIHtcbiAgICAgICAgICAgICAgICBsaXN0ZW5lciA9IGxpc3RlbmVyLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGxpc3RlbmVyID0gbGlzdGVuZXIubmV4dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuX2hlYWQubmV4dCkge1xuICAgICAgICAgICAgdGhpcy5fY2FuY2VsSWZOZWVkZWQoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFN0YXJ0cyB0aGUgdGlja2VyLiBJZiB0aGUgdGlja2VyIGhhcyBsaXN0ZW5lcnNcbiAgICAgKiBhIG5ldyBhbmltYXRpb24gZnJhbWUgaXMgcmVxdWVzdGVkIGF0IHRoaXMgcG9pbnQuXG4gICAgICovXG4gICAgVGlja2VyLnByb3RvdHlwZS5zdGFydCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLnN0YXJ0ZWQpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhcnRlZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLl9yZXF1ZXN0SWZOZWVkZWQoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogU3RvcHMgdGhlIHRpY2tlci4gSWYgdGhlIHRpY2tlciBoYXMgcmVxdWVzdGVkXG4gICAgICogYW4gYW5pbWF0aW9uIGZyYW1lIGl0IGlzIGNhbmNlbGVkIGF0IHRoaXMgcG9pbnQuXG4gICAgICovXG4gICAgVGlja2VyLnByb3RvdHlwZS5zdG9wID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5zdGFydGVkKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuX2NhbmNlbElmTmVlZGVkKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERlc3Ryb3kgdGhlIHRpY2tlciBhbmQgZG9uJ3QgdXNlIGFmdGVyIHRoaXMuIENhbGxpbmdcbiAgICAgKiB0aGlzIG1ldGhvZCByZW1vdmVzIGFsbCByZWZlcmVuY2VzIHRvIGludGVybmFsIGV2ZW50cy5cbiAgICAgKi9cbiAgICBUaWNrZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghdGhpcy5fcHJvdGVjdGVkKSB7XG4gICAgICAgICAgICB0aGlzLnN0b3AoKTtcbiAgICAgICAgICAgIHZhciBsaXN0ZW5lciA9IHRoaXMuX2hlYWQubmV4dDtcbiAgICAgICAgICAgIHdoaWxlIChsaXN0ZW5lcikge1xuICAgICAgICAgICAgICAgIGxpc3RlbmVyID0gbGlzdGVuZXIuZGVzdHJveSh0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX2hlYWQuZGVzdHJveSgpO1xuICAgICAgICAgICAgdGhpcy5faGVhZCA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRyaWdnZXJzIGFuIHVwZGF0ZS4gQW4gdXBkYXRlIGVudGFpbHMgc2V0dGluZyB0aGVcbiAgICAgKiBjdXJyZW50IHtAbGluayBQSVhJLlRpY2tlciNlbGFwc2VkTVN9LFxuICAgICAqIHRoZSBjdXJyZW50IHtAbGluayBQSVhJLlRpY2tlciNkZWx0YVRpbWV9LFxuICAgICAqIGludm9raW5nIGFsbCBsaXN0ZW5lcnMgd2l0aCBjdXJyZW50IGRlbHRhVGltZSxcbiAgICAgKiBhbmQgdGhlbiBmaW5hbGx5IHNldHRpbmcge0BsaW5rIFBJWEkuVGlja2VyI2xhc3RUaW1lfVxuICAgICAqIHdpdGggdGhlIHZhbHVlIG9mIGN1cnJlbnRUaW1lIHRoYXQgd2FzIHByb3ZpZGVkLlxuICAgICAqIFRoaXMgbWV0aG9kIHdpbGwgYmUgY2FsbGVkIGF1dG9tYXRpY2FsbHkgYnkgYW5pbWF0aW9uXG4gICAgICogZnJhbWUgY2FsbGJhY2tzIGlmIHRoZSB0aWNrZXIgaW5zdGFuY2UgaGFzIGJlZW4gc3RhcnRlZFxuICAgICAqIGFuZCBsaXN0ZW5lcnMgYXJlIGFkZGVkLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtjdXJyZW50VGltZT1wZXJmb3JtYW5jZS5ub3coKV0gLSB0aGUgY3VycmVudCB0aW1lIG9mIGV4ZWN1dGlvblxuICAgICAqL1xuICAgIFRpY2tlci5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKGN1cnJlbnRUaW1lKSB7XG4gICAgICAgIGlmIChjdXJyZW50VGltZSA9PT0gdm9pZCAwKSB7IGN1cnJlbnRUaW1lID0gcGVyZm9ybWFuY2Uubm93KCk7IH1cbiAgICAgICAgdmFyIGVsYXBzZWRNUztcbiAgICAgICAgLy8gSWYgdGhlIGRpZmZlcmVuY2UgaW4gdGltZSBpcyB6ZXJvIG9yIG5lZ2F0aXZlLCB3ZSBpZ25vcmUgbW9zdCBvZiB0aGUgd29yayBkb25lIGhlcmUuXG4gICAgICAgIC8vIElmIHRoZXJlIGlzIG5vIHZhbGlkIGRpZmZlcmVuY2UsIHRoZW4gc2hvdWxkIGJlIG5vIHJlYXNvbiB0byBsZXQgYW55b25lIGtub3cgYWJvdXQgaXQuXG4gICAgICAgIC8vIEEgemVybyBkZWx0YSwgaXMgZXhhY3RseSB0aGF0LCBub3RoaW5nIHNob3VsZCB1cGRhdGUuXG4gICAgICAgIC8vXG4gICAgICAgIC8vIFRoZSBkaWZmZXJlbmNlIGluIHRpbWUgY2FuIGJlIG5lZ2F0aXZlLCBhbmQgbm8gdGhpcyBkb2VzIG5vdCBtZWFuIHRpbWUgdHJhdmVsaW5nLlxuICAgICAgICAvLyBUaGlzIGNhbiBiZSB0aGUgcmVzdWx0IG9mIGEgcmFjZSBjb25kaXRpb24gYmV0d2VlbiB3aGVuIGFuIGFuaW1hdGlvbiBmcmFtZSBpcyByZXF1ZXN0ZWRcbiAgICAgICAgLy8gb24gdGhlIGN1cnJlbnQgSmF2YVNjcmlwdCBlbmdpbmUgZXZlbnQgbG9vcCwgYW5kIHdoZW4gdGhlIHRpY2tlcidzIHN0YXJ0IG1ldGhvZCBpcyBpbnZva2VkXG4gICAgICAgIC8vICh3aGljaCBpbnZva2VzIHRoZSBpbnRlcm5hbCBfcmVxdWVzdElmTmVlZGVkIG1ldGhvZCkuIElmIGEgZnJhbWUgaXMgcmVxdWVzdGVkIGJlZm9yZVxuICAgICAgICAvLyBfcmVxdWVzdElmTmVlZGVkIGlzIGludm9rZWQsIHRoZW4gdGhlIGNhbGxiYWNrIGZvciB0aGUgYW5pbWF0aW9uIGZyYW1lIHRoZSB0aWNrZXIgcmVxdWVzdHMsXG4gICAgICAgIC8vIGNhbiByZWNlaXZlIGEgdGltZSBhcmd1bWVudCB0aGF0IGNhbiBiZSBsZXNzIHRoYW4gdGhlIGxhc3RUaW1lIHZhbHVlIHRoYXQgd2FzIHNldCB3aXRoaW5cbiAgICAgICAgLy8gX3JlcXVlc3RJZk5lZWRlZC4gVGhpcyBkaWZmZXJlbmNlIGlzIGluIG1pY3Jvc2Vjb25kcywgYnV0IHRoaXMgaXMgZW5vdWdoIHRvIGNhdXNlIHByb2JsZW1zLlxuICAgICAgICAvL1xuICAgICAgICAvLyBUaGlzIGNoZWNrIGNvdmVycyB0aGlzIGJyb3dzZXIgZW5naW5lIHRpbWluZyBpc3N1ZSwgYXMgd2VsbCBhcyBpZiBjb25zdW1lcnMgcGFzcyBhbiBpbnZhbGlkXG4gICAgICAgIC8vIGN1cnJlbnRUaW1lIHZhbHVlLiBUaGlzIG1heSBoYXBwZW4gaWYgY29uc3VtZXJzIG9wdC1vdXQgb2YgdGhlIGF1dG9TdGFydCwgYW5kIHVwZGF0ZSB0aGVtc2VsdmVzLlxuICAgICAgICBpZiAoY3VycmVudFRpbWUgPiB0aGlzLmxhc3RUaW1lKSB7XG4gICAgICAgICAgICAvLyBTYXZlIHVuY2FwcGVkIGVsYXBzZWRNUyBmb3IgbWVhc3VyZW1lbnRcbiAgICAgICAgICAgIGVsYXBzZWRNUyA9IHRoaXMuZWxhcHNlZE1TID0gY3VycmVudFRpbWUgLSB0aGlzLmxhc3RUaW1lO1xuICAgICAgICAgICAgLy8gY2FwIHRoZSBtaWxsaXNlY29uZHMgZWxhcHNlZCB1c2VkIGZvciBkZWx0YVRpbWVcbiAgICAgICAgICAgIGlmIChlbGFwc2VkTVMgPiB0aGlzLl9tYXhFbGFwc2VkTVMpIHtcbiAgICAgICAgICAgICAgICBlbGFwc2VkTVMgPSB0aGlzLl9tYXhFbGFwc2VkTVM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbGFwc2VkTVMgKj0gdGhpcy5zcGVlZDtcbiAgICAgICAgICAgIC8vIElmIG5vdCBlbm91Z2ggdGltZSBoYXMgcGFzc2VkLCBleGl0IHRoZSBmdW5jdGlvbi5cbiAgICAgICAgICAgIC8vIEdldCByZWFkeSBmb3IgbmV4dCBmcmFtZSBieSBzZXR0aW5nIF9sYXN0RnJhbWUsIGJ1dCBiYXNlZCBvbiBfbWluRWxhcHNlZE1TXG4gICAgICAgICAgICAvLyBhZGp1c3RtZW50IHRvIGVuc3VyZSBhIHJlbGF0aXZlbHkgc3RhYmxlIGludGVydmFsLlxuICAgICAgICAgICAgaWYgKHRoaXMuX21pbkVsYXBzZWRNUykge1xuICAgICAgICAgICAgICAgIHZhciBkZWx0YSA9IGN1cnJlbnRUaW1lIC0gdGhpcy5fbGFzdEZyYW1lIHwgMDtcbiAgICAgICAgICAgICAgICBpZiAoZGVsdGEgPCB0aGlzLl9taW5FbGFwc2VkTVMpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLl9sYXN0RnJhbWUgPSBjdXJyZW50VGltZSAtIChkZWx0YSAlIHRoaXMuX21pbkVsYXBzZWRNUyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmRlbHRhTVMgPSBlbGFwc2VkTVM7XG4gICAgICAgICAgICB0aGlzLmRlbHRhVGltZSA9IHRoaXMuZGVsdGFNUyAqIHNldHRpbmdzLlRBUkdFVF9GUE1TO1xuICAgICAgICAgICAgLy8gQ2FjaGUgYSBsb2NhbCByZWZlcmVuY2UsIGluLWNhc2UgdGlja2VyIGlzIGRlc3Ryb3llZFxuICAgICAgICAgICAgLy8gZHVyaW5nIHRoZSBlbWl0LCB3ZSBjYW4gc3RpbGwgY2hlY2sgZm9yIGhlYWQubmV4dFxuICAgICAgICAgICAgdmFyIGhlYWQgPSB0aGlzLl9oZWFkO1xuICAgICAgICAgICAgLy8gSW52b2tlIGxpc3RlbmVycyBhZGRlZCB0byBpbnRlcm5hbCBlbWl0dGVyXG4gICAgICAgICAgICB2YXIgbGlzdGVuZXIgPSBoZWFkLm5leHQ7XG4gICAgICAgICAgICB3aGlsZSAobGlzdGVuZXIpIHtcbiAgICAgICAgICAgICAgICBsaXN0ZW5lciA9IGxpc3RlbmVyLmVtaXQodGhpcy5kZWx0YVRpbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFoZWFkLm5leHQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9jYW5jZWxJZk5lZWRlZCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5kZWx0YVRpbWUgPSB0aGlzLmRlbHRhTVMgPSB0aGlzLmVsYXBzZWRNUyA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5sYXN0VGltZSA9IGN1cnJlbnRUaW1lO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRpY2tlci5wcm90b3R5cGUsIFwiRlBTXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBmcmFtZXMgcGVyIHNlY29uZCBhdCB3aGljaCB0aGlzIHRpY2tlciBpcyBydW5uaW5nLlxuICAgICAgICAgKiBUaGUgZGVmYXVsdCBpcyBhcHByb3hpbWF0ZWx5IDYwIGluIG1vc3QgbW9kZXJuIGJyb3dzZXJzLlxuICAgICAgICAgKiAqKk5vdGU6KiogVGhpcyBkb2VzIG5vdCBmYWN0b3IgaW4gdGhlIHZhbHVlIG9mXG4gICAgICAgICAqIHtAbGluayBQSVhJLlRpY2tlciNzcGVlZH0sIHdoaWNoIGlzIHNwZWNpZmljXG4gICAgICAgICAqIHRvIHNjYWxpbmcge0BsaW5rIFBJWEkuVGlja2VyI2RlbHRhVGltZX0uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiAxMDAwIC8gdGhpcy5lbGFwc2VkTVM7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUaWNrZXIucHJvdG90eXBlLCBcIm1pbkZQU1wiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNYW5hZ2VzIHRoZSBtYXhpbXVtIGFtb3VudCBvZiBtaWxsaXNlY29uZHMgYWxsb3dlZCB0b1xuICAgICAgICAgKiBlbGFwc2UgYmV0d2VlbiBpbnZva2luZyB7QGxpbmsgUElYSS5UaWNrZXIjdXBkYXRlfS5cbiAgICAgICAgICogVGhpcyB2YWx1ZSBpcyB1c2VkIHRvIGNhcCB7QGxpbmsgUElYSS5UaWNrZXIjZGVsdGFUaW1lfSxcbiAgICAgICAgICogYnV0IGRvZXMgbm90IGVmZmVjdCB0aGUgbWVhc3VyZWQgdmFsdWUgb2Yge0BsaW5rIFBJWEkuVGlja2VyI0ZQU30uXG4gICAgICAgICAqIFdoZW4gc2V0dGluZyB0aGlzIHByb3BlcnR5IGl0IGlzIGNsYW1wZWQgdG8gYSB2YWx1ZSBiZXR3ZWVuXG4gICAgICAgICAqIGAwYCBhbmQgYFBJWEkuc2V0dGluZ3MuVEFSR0VUX0ZQTVMgKiAxMDAwYC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAxMFxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gMTAwMCAvIHRoaXMuX21heEVsYXBzZWRNUztcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAoZnBzKSB7XG4gICAgICAgICAgICAvLyBNaW5pbXVtIG11c3QgYmUgYmVsb3cgdGhlIG1heEZQU1xuICAgICAgICAgICAgdmFyIG1pbkZQUyA9IE1hdGgubWluKHRoaXMubWF4RlBTLCBmcHMpO1xuICAgICAgICAgICAgLy8gTXVzdCBiZSBhdCBsZWFzdCAwLCBidXQgYmVsb3cgMSAvIHNldHRpbmdzLlRBUkdFVF9GUE1TXG4gICAgICAgICAgICB2YXIgbWluRlBNUyA9IE1hdGgubWluKE1hdGgubWF4KDAsIG1pbkZQUykgLyAxMDAwLCBzZXR0aW5ncy5UQVJHRVRfRlBNUyk7XG4gICAgICAgICAgICB0aGlzLl9tYXhFbGFwc2VkTVMgPSAxIC8gbWluRlBNUztcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRpY2tlci5wcm90b3R5cGUsIFwibWF4RlBTXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1hbmFnZXMgdGhlIG1pbmltdW0gYW1vdW50IG9mIG1pbGxpc2Vjb25kcyByZXF1aXJlZCB0b1xuICAgICAgICAgKiBlbGFwc2UgYmV0d2VlbiBpbnZva2luZyB7QGxpbmsgUElYSS5UaWNrZXIjdXBkYXRlfS5cbiAgICAgICAgICogVGhpcyB3aWxsIGVmZmVjdCB0aGUgbWVhc3VyZWQgdmFsdWUgb2Yge0BsaW5rIFBJWEkuVGlja2VyI0ZQU30uXG4gICAgICAgICAqIElmIGl0IGlzIHNldCB0byBgMGAsIHRoZW4gdGhlcmUgaXMgbm8gbGltaXQ7IFBpeGlKUyB3aWxsIHJlbmRlciBhcyBtYW55IGZyYW1lcyBhcyBpdCBjYW4uXG4gICAgICAgICAqIE90aGVyd2lzZSBpdCB3aWxsIGJlIGF0IGxlYXN0IGBtaW5GUFNgXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fbWluRWxhcHNlZE1TKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIE1hdGgucm91bmQoMTAwMCAvIHRoaXMuX21pbkVsYXBzZWRNUyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAoZnBzKSB7XG4gICAgICAgICAgICBpZiAoZnBzID09PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbWluRWxhcHNlZE1TID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIE1heCBtdXN0IGJlIGF0IGxlYXN0IHRoZSBtaW5GUFNcbiAgICAgICAgICAgICAgICB2YXIgbWF4RlBTID0gTWF0aC5tYXgodGhpcy5taW5GUFMsIGZwcyk7XG4gICAgICAgICAgICAgICAgdGhpcy5fbWluRWxhcHNlZE1TID0gMSAvIChtYXhGUFMgLyAxMDAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRpY2tlciwgXCJzaGFyZWRcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHNoYXJlZCB0aWNrZXIgaW5zdGFuY2UgdXNlZCBieSB7QGxpbmsgUElYSS5BbmltYXRlZFNwcml0ZX0gYW5kIGJ5XG4gICAgICAgICAqIHtAbGluayBQSVhJLlZpZGVvUmVzb3VyY2V9IHRvIHVwZGF0ZSBhbmltYXRpb24gZnJhbWVzIC8gdmlkZW8gdGV4dHVyZXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEl0IG1heSBhbHNvIGJlIHVzZWQgYnkge0BsaW5rIFBJWEkuQXBwbGljYXRpb259IGlmIGNyZWF0ZWQgd2l0aCB0aGUgYHNoYXJlZFRpY2tlcmAgb3B0aW9uIHByb3BlcnR5IHNldCB0byB0cnVlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBUaGUgcHJvcGVydHkge0BsaW5rIFBJWEkuVGlja2VyI2F1dG9TdGFydH0gaXMgc2V0IHRvIGB0cnVlYCBmb3IgdGhpcyBpbnN0YW5jZS5cbiAgICAgICAgICogUGxlYXNlIGZvbGxvdyB0aGUgZXhhbXBsZXMgZm9yIHVzYWdlLCBpbmNsdWRpbmcgaG93IHRvIG9wdC1vdXQgb2YgYXV0by1zdGFydGluZyB0aGUgc2hhcmVkIHRpY2tlci5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICogbGV0IHRpY2tlciA9IFBJWEkuVGlja2VyLnNoYXJlZDtcbiAgICAgICAgICogLy8gU2V0IHRoaXMgdG8gcHJldmVudCBzdGFydGluZyB0aGlzIHRpY2tlciB3aGVuIGxpc3RlbmVycyBhcmUgYWRkZWQuXG4gICAgICAgICAqIC8vIEJ5IGRlZmF1bHQgdGhpcyBpcyB0cnVlIG9ubHkgZm9yIHRoZSBQSVhJLlRpY2tlci5zaGFyZWQgaW5zdGFuY2UuXG4gICAgICAgICAqIHRpY2tlci5hdXRvU3RhcnQgPSBmYWxzZTtcbiAgICAgICAgICogLy8gRllJLCBjYWxsIHRoaXMgdG8gZW5zdXJlIHRoZSB0aWNrZXIgaXMgc3RvcHBlZC4gSXQgc2hvdWxkIGJlIHN0b3BwZWRcbiAgICAgICAgICogLy8gaWYgeW91IGhhdmUgbm90IGF0dGVtcHRlZCB0byByZW5kZXIgYW55dGhpbmcgeWV0LlxuICAgICAgICAgKiB0aWNrZXIuc3RvcCgpO1xuICAgICAgICAgKiAvLyBDYWxsIHRoaXMgd2hlbiB5b3UgYXJlIHJlYWR5IGZvciBhIHJ1bm5pbmcgc2hhcmVkIHRpY2tlci5cbiAgICAgICAgICogdGlja2VyLnN0YXJ0KCk7XG4gICAgICAgICAqXG4gICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAqIC8vIFlvdSBtYXkgdXNlIHRoZSBzaGFyZWQgdGlja2VyIHRvIHJlbmRlci4uLlxuICAgICAgICAgKiBsZXQgcmVuZGVyZXIgPSBQSVhJLmF1dG9EZXRlY3RSZW5kZXJlcigpO1xuICAgICAgICAgKiBsZXQgc3RhZ2UgPSBuZXcgUElYSS5Db250YWluZXIoKTtcbiAgICAgICAgICogZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChyZW5kZXJlci52aWV3KTtcbiAgICAgICAgICogdGlja2VyLmFkZChmdW5jdGlvbiAodGltZSkge1xuICAgICAgICAgKiAgICAgcmVuZGVyZXIucmVuZGVyKHN0YWdlKTtcbiAgICAgICAgICogfSk7XG4gICAgICAgICAqXG4gICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAqIC8vIE9yIHlvdSBjYW4ganVzdCB1cGRhdGUgaXQgbWFudWFsbHkuXG4gICAgICAgICAqIHRpY2tlci5hdXRvU3RhcnQgPSBmYWxzZTtcbiAgICAgICAgICogdGlja2VyLnN0b3AoKTtcbiAgICAgICAgICogZnVuY3Rpb24gYW5pbWF0ZSh0aW1lKSB7XG4gICAgICAgICAqICAgICB0aWNrZXIudXBkYXRlKHRpbWUpO1xuICAgICAgICAgKiAgICAgcmVuZGVyZXIucmVuZGVyKHN0YWdlKTtcbiAgICAgICAgICogICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShhbmltYXRlKTtcbiAgICAgICAgICogfVxuICAgICAgICAgKiBhbmltYXRlKHBlcmZvcm1hbmNlLm5vdygpKTtcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5UaWNrZXJ9XG4gICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKCFUaWNrZXIuX3NoYXJlZCkge1xuICAgICAgICAgICAgICAgIHZhciBzaGFyZWQgPSBUaWNrZXIuX3NoYXJlZCA9IG5ldyBUaWNrZXIoKTtcbiAgICAgICAgICAgICAgICBzaGFyZWQuYXV0b1N0YXJ0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBzaGFyZWQuX3Byb3RlY3RlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gVGlja2VyLl9zaGFyZWQ7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUaWNrZXIsIFwic3lzdGVtXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBzeXN0ZW0gdGlja2VyIGluc3RhbmNlIHVzZWQgYnkge0BsaW5rIFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyfSBhbmQgYnlcbiAgICAgICAgICoge0BsaW5rIFBJWEkuQmFzZVByZXBhcmV9IGZvciBjb3JlIHRpbWluZyBmdW5jdGlvbmFsaXR5IHRoYXQgc2hvdWxkbid0IHVzdWFsbHkgbmVlZCB0byBiZSBwYXVzZWQsXG4gICAgICAgICAqIHVubGlrZSB0aGUgYHNoYXJlZGAgdGlja2VyIHdoaWNoIGRyaXZlcyB2aXN1YWwgYW5pbWF0aW9ucyBhbmQgcmVuZGVyaW5nIHdoaWNoIG1heSB3YW50IHRvIGJlIHBhdXNlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhlIHByb3BlcnR5IHtAbGluayBQSVhJLlRpY2tlciNhdXRvU3RhcnR9IGlzIHNldCB0byBgdHJ1ZWAgZm9yIHRoaXMgaW5zdGFuY2UuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuVGlja2VyfVxuICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICghVGlja2VyLl9zeXN0ZW0pIHtcbiAgICAgICAgICAgICAgICB2YXIgc3lzdGVtID0gVGlja2VyLl9zeXN0ZW0gPSBuZXcgVGlja2VyKCk7XG4gICAgICAgICAgICAgICAgc3lzdGVtLmF1dG9TdGFydCA9IHRydWU7XG4gICAgICAgICAgICAgICAgc3lzdGVtLl9wcm90ZWN0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIFRpY2tlci5fc3lzdGVtO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICByZXR1cm4gVGlja2VyO1xufSgpKTtcblxuLyoqXG4gKiBNaWRkbGV3YXJlIGZvciBmb3IgQXBwbGljYXRpb24gVGlja2VyLlxuICpcbiAqIEBleGFtcGxlXG4gKiBpbXBvcnQge1RpY2tlclBsdWdpbn0gZnJvbSAnQHBpeGkvdGlja2VyJztcbiAqIGltcG9ydCB7QXBwbGljYXRpb259IGZyb20gJ0BwaXhpL2FwcCc7XG4gKiBBcHBsaWNhdGlvbi5yZWdpc3RlclBsdWdpbihUaWNrZXJQbHVnaW4pO1xuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFRpY2tlclBsdWdpbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBUaWNrZXJQbHVnaW4oKSB7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemUgdGhlIHBsdWdpbiB3aXRoIHNjb3BlIG9mIGFwcGxpY2F0aW9uIGluc3RhbmNlXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIC0gU2VlIGFwcGxpY2F0aW9uIG9wdGlvbnNcbiAgICAgKi9cbiAgICBUaWNrZXJQbHVnaW4uaW5pdCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIC8vIFNldCBkZWZhdWx0XG4gICAgICAgIG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgICAgIGF1dG9TdGFydDogdHJ1ZSxcbiAgICAgICAgICAgIHNoYXJlZFRpY2tlcjogZmFsc2UsXG4gICAgICAgIH0sIG9wdGlvbnMpO1xuICAgICAgICAvLyBDcmVhdGUgdGlja2VyIHNldHRlclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJ3RpY2tlcicsIHtcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKHRpY2tlcikge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl90aWNrZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdGlja2VyLnJlbW92ZSh0aGlzLnJlbmRlciwgdGhpcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuX3RpY2tlciA9IHRpY2tlcjtcbiAgICAgICAgICAgICAgICBpZiAodGlja2VyKSB7XG4gICAgICAgICAgICAgICAgICAgIHRpY2tlci5hZGQodGhpcy5yZW5kZXIsIHRoaXMsIFVQREFURV9QUklPUklUWS5MT1cpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fdGlja2VyO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb252ZW5pZW5jZSBtZXRob2QgZm9yIHN0b3BwaW5nIHRoZSByZW5kZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZXRob2QgUElYSS5BcHBsaWNhdGlvbiNzdG9wXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnN0b3AgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpcy5fdGlja2VyLnN0b3AoKTtcbiAgICAgICAgfTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvbnZlbmllbmNlIG1ldGhvZCBmb3Igc3RhcnRpbmcgdGhlIHJlbmRlci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1ldGhvZCBQSVhJLkFwcGxpY2F0aW9uI3N0YXJ0XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnN0YXJ0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXMuX3RpY2tlci5zdGFydCgpO1xuICAgICAgICB9O1xuICAgICAgICAvKipcbiAgICAgICAgICogSW50ZXJuYWwgcmVmZXJlbmNlIHRvIHRoZSB0aWNrZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEB0eXBlIHtQSVhJLlRpY2tlcn1cbiAgICAgICAgICogQG5hbWUgX3RpY2tlclxuICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5BcHBsaWNhdGlvbiNcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3RpY2tlciA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaWNrZXIgZm9yIGRvaW5nIHJlbmRlciB1cGRhdGVzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAdHlwZSB7UElYSS5UaWNrZXJ9XG4gICAgICAgICAqIEBuYW1lIHRpY2tlclxuICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5BcHBsaWNhdGlvbiNcbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5UaWNrZXIuc2hhcmVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnRpY2tlciA9IG9wdGlvbnMuc2hhcmVkVGlja2VyID8gVGlja2VyLnNoYXJlZCA6IG5ldyBUaWNrZXIoKTtcbiAgICAgICAgLy8gU3RhcnQgdGhlIHJlbmRlcmluZ1xuICAgICAgICBpZiAob3B0aW9ucy5hdXRvU3RhcnQpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhcnQoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2xlYW4gdXAgdGhlIHRpY2tlciwgc2NvcGVkIHRvIGFwcGxpY2F0aW9uLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgVGlja2VyUGx1Z2luLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLl90aWNrZXIpIHtcbiAgICAgICAgICAgIHZhciBvbGRUaWNrZXIgPSB0aGlzLl90aWNrZXI7XG4gICAgICAgICAgICB0aGlzLnRpY2tlciA9IG51bGw7XG4gICAgICAgICAgICBvbGRUaWNrZXIuZGVzdHJveSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gVGlja2VyUGx1Z2luO1xufSgpKTtcblxuZXhwb3J0IHsgVGlja2VyLCBUaWNrZXJQbHVnaW4sIFVQREFURV9QUklPUklUWSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGlja2VyLmVzLmpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS9jb3JlIC0gdjUuMi4wXG4gKiBDb21waWxlZCBXZWQsIDA2IE5vdiAyMDE5IDAyOjMyOjQzIFVUQ1xuICpcbiAqIEBwaXhpL2NvcmUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5pbXBvcnQgeyBSdW5uZXIgfSBmcm9tICdAcGl4aS9ydW5uZXInO1xuaW1wb3J0IHsgZGV0ZXJtaW5lQ3Jvc3NPcmlnaW4sIGlzUG93MiwgQmFzZVRleHR1cmVDYWNoZSwgVGV4dHVyZUNhY2hlLCB1aWQsIEV2ZW50RW1pdHRlciwgZ2V0UmVzb2x1dGlvbk9mVXJsLCBuZXh0UG93MiwgaXNNb2JpbGUsIFByb2dyYW1DYWNoZSwgcmVtb3ZlSXRlbXMsIGhleDJzdHJpbmcsIGhleDJyZ2IsIGRlcHJlY2F0aW9uLCBpc1dlYkdMU3VwcG9ydGVkLCBzYXlIZWxsbywgcHJlbXVsdGlwbHlCbGVuZE1vZGUsIGxvZzIsIHByZW11bHRpcGx5VGludCB9IGZyb20gJ0BwaXhpL3V0aWxzJztcbmltcG9ydCB7IEFMUEhBX01PREVTLCBTQ0FMRV9NT0RFUywgRk9STUFUUywgVFlQRVMsIFRBUkdFVFMsIERSQVdfTU9ERVMsIEVOViwgTUFTS19UWVBFUywgUFJFQ0lTSU9OLCBCTEVORF9NT0RFUywgR0NfTU9ERVMsIE1JUE1BUF9NT0RFUywgV1JBUF9NT0RFUywgUkVOREVSRVJfVFlQRSB9IGZyb20gJ0BwaXhpL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBzZXR0aW5ncyB9IGZyb20gJ0BwaXhpL3NldHRpbmdzJztcbmltcG9ydCB7IFRpY2tlciB9IGZyb20gJ0BwaXhpL3RpY2tlcic7XG5pbXBvcnQgeyBncm91cEQ4LCBSZWN0YW5nbGUsIFBvaW50LCBNYXRyaXggfSBmcm9tICdAcGl4aS9tYXRoJztcbmltcG9ydCB7IENvbnRhaW5lciB9IGZyb20gJ0BwaXhpL2Rpc3BsYXknO1xuXG4vKipcbiAqIEJhc2UgcmVzb3VyY2UgY2xhc3MgZm9yIHRleHR1cmVzIHRoYXQgbWFuYWdlcyB2YWxpZGF0aW9uIGFuZCB1cGxvYWRpbmcsIGRlcGVuZGluZyBvbiBpdHMgdHlwZS5cbiAqXG4gKiBVcGxvYWRpbmcgb2YgYSBiYXNlIHRleHR1cmUgdG8gdGhlIEdQVSBpcyByZXF1aXJlZC5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJLnJlc291cmNlc1xuICovXG52YXIgUmVzb3VyY2UgPSBmdW5jdGlvbiBSZXNvdXJjZSh3aWR0aCwgaGVpZ2h0KVxue1xuICAgIGlmICggd2lkdGggPT09IHZvaWQgMCApIHdpZHRoID0gMDtcbiAgICBpZiAoIGhlaWdodCA9PT0gdm9pZCAwICkgaGVpZ2h0ID0gMDtcblxuICAgIC8qKlxuICAgICAqIEludGVybmFsIHdpZHRoIG9mIHRoZSByZXNvdXJjZVxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgdGhpcy5fd2lkdGggPSB3aWR0aDtcblxuICAgIC8qKlxuICAgICAqIEludGVybmFsIGhlaWdodCBvZiB0aGUgcmVzb3VyY2VcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIHRoaXMuX2hlaWdodCA9IGhlaWdodDtcblxuICAgIC8qKlxuICAgICAqIElmIHJlc291cmNlIGhhcyBiZWVuIGRlc3Ryb3llZFxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICogQHJlYWRvbmx5XG4gICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgKi9cbiAgICB0aGlzLmRlc3Ryb3llZCA9IGZhbHNlO1xuXG4gICAgLyoqXG4gICAgICogYHRydWVgIGlmIHJlc291cmNlIGlzIGNyZWF0ZWQgYnkgQmFzZVRleHR1cmVcbiAgICAgKiB1c2VmdWwgZm9yIGRvaW5nIGNsZWFudXAgd2l0aCBCYXNlVGV4dHVyZSBkZXN0cm95XG4gICAgICogYW5kIG5vdCBjbGVhbmluZyB1cCByZXNvdXJjZXMgdGhhdCB3ZXJlIGNyZWF0ZWRcbiAgICAgKiBleHRlcm5hbGx5LlxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIHRoaXMuaW50ZXJuYWwgPSBmYWxzZTtcblxuICAgIC8qKlxuICAgICAqIE1pbmktcnVubmVyIGZvciBoYW5kbGluZyByZXNpemUgZXZlbnRzXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtSdW5uZXJ9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLm9uUmVzaXplID0gbmV3IFJ1bm5lcignc2V0UmVhbFNpemUnLCAyKTtcblxuICAgIC8qKlxuICAgICAqIE1pbmktcnVubmVyIGZvciBoYW5kbGluZyB1cGRhdGUgZXZlbnRzXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtSdW5uZXJ9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLm9uVXBkYXRlID0gbmV3IFJ1bm5lcigndXBkYXRlJyk7XG5cbiAgICAvKipcbiAgICAgKiBIYW5kbGUgaW50ZXJuYWwgZXJyb3JzLCBzdWNoIGFzIGxvYWRpbmcgZXJyb3JzXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtSdW5uZXJ9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLm9uRXJyb3IgPSBuZXcgUnVubmVyKCdvbkVycm9yJywgMSk7XG59O1xuXG52YXIgcHJvdG90eXBlQWNjZXNzb3JzID0geyB2YWxpZDogeyBjb25maWd1cmFibGU6IHRydWUgfSx3aWR0aDogeyBjb25maWd1cmFibGU6IHRydWUgfSxoZWlnaHQ6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0gfTtcblxuLyoqXG4gKiBCaW5kIHRvIGEgcGFyZW50IEJhc2VUZXh0dXJlXG4gKlxuICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSBiYXNlVGV4dHVyZSAtIFBhcmVudCB0ZXh0dXJlXG4gKi9cblJlc291cmNlLnByb3RvdHlwZS5iaW5kID0gZnVuY3Rpb24gYmluZCAoYmFzZVRleHR1cmUpXG57XG4gICAgdGhpcy5vblJlc2l6ZS5hZGQoYmFzZVRleHR1cmUpO1xuICAgIHRoaXMub25VcGRhdGUuYWRkKGJhc2VUZXh0dXJlKTtcbiAgICB0aGlzLm9uRXJyb3IuYWRkKGJhc2VUZXh0dXJlKTtcblxuICAgIC8vIENhbGwgYSByZXNpemUgaW1tZWRpYXRlIGlmIHdlIGFscmVhZHlcbiAgICAvLyBoYXZlIHRoZSB3aWR0aCBhbmQgaGVpZ2h0IG9mIHRoZSByZXNvdXJjZVxuICAgIGlmICh0aGlzLl93aWR0aCB8fCB0aGlzLl9oZWlnaHQpXG4gICAge1xuICAgICAgICB0aGlzLm9uUmVzaXplLnJ1bih0aGlzLl93aWR0aCwgdGhpcy5faGVpZ2h0KTtcbiAgICB9XG59O1xuXG4vKipcbiAqIFVuYmluZCB0byBhIHBhcmVudCBCYXNlVGV4dHVyZVxuICpcbiAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gYmFzZVRleHR1cmUgLSBQYXJlbnQgdGV4dHVyZVxuICovXG5SZXNvdXJjZS5wcm90b3R5cGUudW5iaW5kID0gZnVuY3Rpb24gdW5iaW5kIChiYXNlVGV4dHVyZSlcbntcbiAgICB0aGlzLm9uUmVzaXplLnJlbW92ZShiYXNlVGV4dHVyZSk7XG4gICAgdGhpcy5vblVwZGF0ZS5yZW1vdmUoYmFzZVRleHR1cmUpO1xuICAgIHRoaXMub25FcnJvci5yZW1vdmUoYmFzZVRleHR1cmUpO1xufTtcblxuLyoqXG4gKiBUcmlnZ2VyIGEgcmVzaXplIGV2ZW50XG4gKiBAcGFyYW0ge251bWJlcn0gd2lkdGggWCBkaW1lbnNpb25cbiAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHQgWSBkaW1lbnNpb25cbiAqL1xuUmVzb3VyY2UucHJvdG90eXBlLnJlc2l6ZSA9IGZ1bmN0aW9uIHJlc2l6ZSAod2lkdGgsIGhlaWdodClcbntcbiAgICBpZiAod2lkdGggIT09IHRoaXMuX3dpZHRoIHx8IGhlaWdodCAhPT0gdGhpcy5faGVpZ2h0KVxuICAgIHtcbiAgICAgICAgdGhpcy5fd2lkdGggPSB3aWR0aDtcbiAgICAgICAgdGhpcy5faGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICB0aGlzLm9uUmVzaXplLnJ1bih3aWR0aCwgaGVpZ2h0KTtcbiAgICB9XG59O1xuXG4vKipcbiAqIEhhcyBiZWVuIHZhbGlkYXRlZFxuICogQHJlYWRvbmx5XG4gKiBAbWVtYmVyIHtib29sZWFufVxuICovXG5wcm90b3R5cGVBY2Nlc3NvcnMudmFsaWQuZ2V0ID0gZnVuY3Rpb24gKClcbntcbiAgICByZXR1cm4gISF0aGlzLl93aWR0aCAmJiAhIXRoaXMuX2hlaWdodDtcbn07XG5cbi8qKlxuICogSGFzIGJlZW4gdXBkYXRlZCB0cmlnZ2VyIGV2ZW50XG4gKi9cblJlc291cmNlLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiB1cGRhdGUgKClcbntcbiAgICBpZiAoIXRoaXMuZGVzdHJveWVkKVxuICAgIHtcbiAgICAgICAgdGhpcy5vblVwZGF0ZS5ydW4oKTtcbiAgICB9XG59O1xuXG4vKipcbiAqIFRoaXMgY2FuIGJlIG92ZXJyaWRkZW4gdG8gc3RhcnQgcHJlbG9hZGluZyBhIHJlc291cmNlXG4gKiBvciBkbyBhbnkgb3RoZXIgcHJlcGFyZSBzdGVwLlxuICogQHByb3RlY3RlZFxuICogQHJldHVybiB7UHJvbWlzZTx2b2lkPn0gSGFuZGxlIHRoZSB2YWxpZGF0ZSBldmVudFxuICovXG5SZXNvdXJjZS5wcm90b3R5cGUubG9hZCA9IGZ1bmN0aW9uIGxvYWQgKClcbntcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG59O1xuXG4vKipcbiAqIFRoZSB3aWR0aCBvZiB0aGUgcmVzb3VyY2UuXG4gKlxuICogQG1lbWJlciB7bnVtYmVyfVxuICogQHJlYWRvbmx5XG4gKi9cbnByb3RvdHlwZUFjY2Vzc29ycy53aWR0aC5nZXQgPSBmdW5jdGlvbiAoKVxue1xuICAgIHJldHVybiB0aGlzLl93aWR0aDtcbn07XG5cbi8qKlxuICogVGhlIGhlaWdodCBvZiB0aGUgcmVzb3VyY2UuXG4gKlxuICogQG1lbWJlciB7bnVtYmVyfVxuICogQHJlYWRvbmx5XG4gKi9cbnByb3RvdHlwZUFjY2Vzc29ycy5oZWlnaHQuZ2V0ID0gZnVuY3Rpb24gKClcbntcbiAgICByZXR1cm4gdGhpcy5faGVpZ2h0O1xufTtcblxuLyoqXG4gKiBVcGxvYWRzIHRoZSB0ZXh0dXJlIG9yIHJldHVybnMgZmFsc2UgaWYgaXQgY2FudCBmb3Igc29tZSByZWFzb24uIE92ZXJyaWRlIHRoaXMuXG4gKlxuICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIHllYWgsIHJlbmRlcmVyIVxuICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSBiYXNlVGV4dHVyZSAtIHRoZSB0ZXh0dXJlXG4gKiBAcGFyYW0ge1BJWEkuR0xUZXh0dXJlfSBnbFRleHR1cmUgLSB0ZXh0dXJlIGluc3RhbmNlIGZvciB0aGlzIHdlYmdsIGNvbnRleHRcbiAqIEByZXR1cm5zIHtib29sZWFufSB0cnVlIGlzIHN1Y2Nlc3NcbiAqL1xuUmVzb3VyY2UucHJvdG90eXBlLnVwbG9hZCA9IGZ1bmN0aW9uIHVwbG9hZCAocmVuZGVyZXIsIGJhc2VUZXh0dXJlLCBnbFRleHR1cmUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcbntcbiAgICByZXR1cm4gZmFsc2U7XG59O1xuXG4vKipcbiAqIFNldCB0aGUgc3R5bGUsIG9wdGlvbmFsIHRvIG92ZXJyaWRlXG4gKlxuICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIHllYWgsIHJlbmRlcmVyIVxuICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSBiYXNlVGV4dHVyZSAtIHRoZSB0ZXh0dXJlXG4gKiBAcGFyYW0ge1BJWEkuR0xUZXh0dXJlfSBnbFRleHR1cmUgLSB0ZXh0dXJlIGluc3RhbmNlIGZvciB0aGlzIHdlYmdsIGNvbnRleHRcbiAqIEByZXR1cm5zIHtib29sZWFufSBgdHJ1ZWAgaXMgc3VjY2Vzc1xuICovXG5SZXNvdXJjZS5wcm90b3R5cGUuc3R5bGUgPSBmdW5jdGlvbiBzdHlsZSAocmVuZGVyZXIsIGJhc2VUZXh0dXJlLCBnbFRleHR1cmUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcbntcbiAgICByZXR1cm4gZmFsc2U7XG59O1xuXG4vKipcbiAqIENsZWFuIHVwIGFueXRoaW5nLCB0aGlzIGhhcHBlbnMgd2hlbiBkZXN0cm95aW5nIGlzIHJlYWR5LlxuICpcbiAqIEBwcm90ZWN0ZWRcbiAqL1xuUmVzb3VyY2UucHJvdG90eXBlLmRpc3Bvc2UgPSBmdW5jdGlvbiBkaXNwb3NlICgpXG57XG4gICAgLy8gb3ZlcnJpZGVcbn07XG5cbi8qKlxuICogQ2FsbCB3aGVuIGRlc3Ryb3lpbmcgcmVzb3VyY2UsIHVuYmluZCBhbnkgQmFzZVRleHR1cmUgb2JqZWN0XG4gKiBiZWZvcmUgY2FsbGluZyB0aGlzIG1ldGhvZCwgYXMgcmVmZXJlbmNlIGNvdW50cyBhcmUgbWFpbnRhaW5lZFxuICogaW50ZXJuYWxseS5cbiAqL1xuUmVzb3VyY2UucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95ICgpXG57XG4gICAgaWYgKCF0aGlzLmRlc3Ryb3llZClcbiAgICB7XG4gICAgICAgIHRoaXMuZGVzdHJveWVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5kaXNwb3NlKCk7XG4gICAgICAgIHRoaXMub25FcnJvci5yZW1vdmVBbGwoKTtcbiAgICAgICAgdGhpcy5vbkVycm9yID0gbnVsbDtcbiAgICAgICAgdGhpcy5vblJlc2l6ZS5yZW1vdmVBbGwoKTtcbiAgICAgICAgdGhpcy5vblJlc2l6ZSA9IG51bGw7XG4gICAgICAgIHRoaXMub25VcGRhdGUucmVtb3ZlQWxsKCk7XG4gICAgICAgIHRoaXMub25VcGRhdGUgPSBudWxsO1xuICAgIH1cbn07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKCBSZXNvdXJjZS5wcm90b3R5cGUsIHByb3RvdHlwZUFjY2Vzc29ycyApO1xuXG4vKipcbiAqIEJhc2UgZm9yIGFsbCB0aGUgaW1hZ2UvY2FudmFzIHJlc291cmNlc1xuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLnJlc291cmNlcy5SZXNvdXJjZVxuICogQG1lbWJlcm9mIFBJWEkucmVzb3VyY2VzXG4gKi9cbnZhciBCYXNlSW1hZ2VSZXNvdXJjZSA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKFJlc291cmNlKSB7XG4gICAgZnVuY3Rpb24gQmFzZUltYWdlUmVzb3VyY2Uoc291cmNlKVxuICAgIHtcbiAgICAgICAgdmFyIHdpZHRoID0gc291cmNlLm5hdHVyYWxXaWR0aCB8fCBzb3VyY2UudmlkZW9XaWR0aCB8fCBzb3VyY2Uud2lkdGg7XG4gICAgICAgIHZhciBoZWlnaHQgPSBzb3VyY2UubmF0dXJhbEhlaWdodCB8fCBzb3VyY2UudmlkZW9IZWlnaHQgfHwgc291cmNlLmhlaWdodDtcblxuICAgICAgICBSZXNvdXJjZS5jYWxsKHRoaXMsIHdpZHRoLCBoZWlnaHQpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgc291cmNlIGVsZW1lbnRcbiAgICAgICAgICogQG1lbWJlciB7SFRNTEltYWdlRWxlbWVudHxIVE1MQ2FudmFzRWxlbWVudHxIVE1MVmlkZW9FbGVtZW50fFNWR0VsZW1lbnR9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zb3VyY2UgPSBzb3VyY2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIHNldCB0byBgdHJ1ZWAsIHdpbGwgZm9yY2UgYHRleEltYWdlMkRgIG92ZXIgYHRleFN1YkltYWdlMkRgIGZvciB1cGxvYWRpbmcuXG4gICAgICAgICAqIENlcnRhaW4gdHlwZXMgb2YgbWVkaWEgKGUuZy4gdmlkZW8pIHVzaW5nIGB0ZXhJbWFnZTJEYCBpcyBtb3JlIHBlcmZvcm1hbnQuXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm5vU3ViSW1hZ2UgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAoIFJlc291cmNlICkgQmFzZUltYWdlUmVzb3VyY2UuX19wcm90b19fID0gUmVzb3VyY2U7XG4gICAgQmFzZUltYWdlUmVzb3VyY2UucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggUmVzb3VyY2UgJiYgUmVzb3VyY2UucHJvdG90eXBlICk7XG4gICAgQmFzZUltYWdlUmVzb3VyY2UucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQmFzZUltYWdlUmVzb3VyY2U7XG5cbiAgICAvKipcbiAgICAgKiBTZXQgY3Jvc3Mgb3JpZ2luIGJhc2VkIGRldGVjdGluZyB0aGUgdXJsIGFuZCB0aGUgY3Jvc3NvcmlnaW5cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudCAtIEVsZW1lbnQgdG8gYXBwbHkgY3Jvc3NPcmlnaW5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIC0gVVJMIHRvIGNoZWNrXG4gICAgICogQHBhcmFtIHtib29sZWFufHN0cmluZ30gW2Nyb3Nzb3JpZ2luPXRydWVdIC0gQ3Jvc3Mgb3JpZ2luIHZhbHVlIHRvIHVzZVxuICAgICAqL1xuICAgIEJhc2VJbWFnZVJlc291cmNlLmNyb3NzT3JpZ2luID0gZnVuY3Rpb24gY3Jvc3NPcmlnaW4gKGVsZW1lbnQsIHVybCwgY3Jvc3NvcmlnaW4pXG4gICAge1xuICAgICAgICBpZiAoY3Jvc3NvcmlnaW4gPT09IHVuZGVmaW5lZCAmJiB1cmwuaW5kZXhPZignZGF0YTonKSAhPT0gMClcbiAgICAgICAge1xuICAgICAgICAgICAgZWxlbWVudC5jcm9zc09yaWdpbiA9IGRldGVybWluZUNyb3NzT3JpZ2luKHVybCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoY3Jvc3NvcmlnaW4gIT09IGZhbHNlKVxuICAgICAgICB7XG4gICAgICAgICAgICBlbGVtZW50LmNyb3NzT3JpZ2luID0gdHlwZW9mIGNyb3Nzb3JpZ2luID09PSAnc3RyaW5nJyA/IGNyb3Nzb3JpZ2luIDogJ2Fub255bW91cyc7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVXBsb2FkIHRoZSB0ZXh0dXJlIHRvIHRoZSBHUFUuXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciBVcGxvYWQgdG8gdGhlIHJlbmRlcmVyXG4gICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSBiYXNlVGV4dHVyZSBSZWZlcmVuY2UgdG8gcGFyZW50IHRleHR1cmVcbiAgICAgKiBAcGFyYW0ge1BJWEkuR0xUZXh0dXJlfSBnbFRleHR1cmVcbiAgICAgKiBAcGFyYW0ge0hUTUxJbWFnZUVsZW1lbnR8SFRNTENhbnZhc0VsZW1lbnR8SFRNTFZpZGVvRWxlbWVudHxTVkdFbGVtZW50fSBbc291cmNlXSAob3B0aW9uYWwpXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IHRydWUgaXMgc3VjY2Vzc1xuICAgICAqL1xuICAgIEJhc2VJbWFnZVJlc291cmNlLnByb3RvdHlwZS51cGxvYWQgPSBmdW5jdGlvbiB1cGxvYWQgKHJlbmRlcmVyLCBiYXNlVGV4dHVyZSwgZ2xUZXh0dXJlLCBzb3VyY2UpXG4gICAge1xuICAgICAgICB2YXIgZ2wgPSByZW5kZXJlci5nbDtcbiAgICAgICAgdmFyIHdpZHRoID0gYmFzZVRleHR1cmUucmVhbFdpZHRoO1xuICAgICAgICB2YXIgaGVpZ2h0ID0gYmFzZVRleHR1cmUucmVhbEhlaWdodDtcblxuICAgICAgICBzb3VyY2UgPSBzb3VyY2UgfHwgdGhpcy5zb3VyY2U7XG5cbiAgICAgICAgZ2wucGl4ZWxTdG9yZWkoZ2wuVU5QQUNLX1BSRU1VTFRJUExZX0FMUEhBX1dFQkdMLCBiYXNlVGV4dHVyZS5hbHBoYU1vZGUgPT09IEFMUEhBX01PREVTLlVOUEFDSyk7XG5cbiAgICAgICAgaWYgKCF0aGlzLm5vU3ViSW1hZ2VcbiAgICAgICAgICAgICYmIGJhc2VUZXh0dXJlLnRhcmdldCA9PT0gZ2wuVEVYVFVSRV8yRFxuICAgICAgICAgICAgJiYgZ2xUZXh0dXJlLndpZHRoID09PSB3aWR0aFxuICAgICAgICAgICAgJiYgZ2xUZXh0dXJlLmhlaWdodCA9PT0gaGVpZ2h0KVxuICAgICAgICB7XG4gICAgICAgICAgICBnbC50ZXhTdWJJbWFnZTJEKGdsLlRFWFRVUkVfMkQsIDAsIDAsIDAsIGJhc2VUZXh0dXJlLmZvcm1hdCwgYmFzZVRleHR1cmUudHlwZSwgc291cmNlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIGdsVGV4dHVyZS53aWR0aCA9IHdpZHRoO1xuICAgICAgICAgICAgZ2xUZXh0dXJlLmhlaWdodCA9IGhlaWdodDtcblxuICAgICAgICAgICAgZ2wudGV4SW1hZ2UyRChiYXNlVGV4dHVyZS50YXJnZXQsIDAsIGJhc2VUZXh0dXJlLmZvcm1hdCwgYmFzZVRleHR1cmUuZm9ybWF0LCBiYXNlVGV4dHVyZS50eXBlLCBzb3VyY2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBzb3VyY2Ugd2lkdGgvaGVpZ2h0IHdhcyBjaGFuZ2VkLCByZXNpemUgY2FuIGNhdXNlIGV4dHJhIGJhc2VUZXh0dXJlIHVwZGF0ZS5cbiAgICAgKiBUcmlnZ2VycyBvbmUgdXBkYXRlIGluIGFueSBjYXNlLlxuICAgICAqL1xuICAgIEJhc2VJbWFnZVJlc291cmNlLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiB1cGRhdGUgKClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLmRlc3Ryb3llZClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHdpZHRoID0gdGhpcy5zb3VyY2UubmF0dXJhbFdpZHRoIHx8IHRoaXMuc291cmNlLnZpZGVvV2lkdGggfHwgdGhpcy5zb3VyY2Uud2lkdGg7XG4gICAgICAgIHZhciBoZWlnaHQgPSB0aGlzLnNvdXJjZS5uYXR1cmFsSGVpZ2h0IHx8IHRoaXMuc291cmNlLnZpZGVvSGVpZ2h0IHx8IHRoaXMuc291cmNlLmhlaWdodDtcblxuICAgICAgICB0aGlzLnJlc2l6ZSh3aWR0aCwgaGVpZ2h0KTtcblxuICAgICAgICBSZXNvdXJjZS5wcm90b3R5cGUudXBkYXRlLmNhbGwodGhpcyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3kgdGhpcyBCYXNlSW1hZ2VSZXNvdXJjZVxuICAgICAqIEBvdmVycmlkZVxuICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gW2Zyb21UZXh0dXJlXSBPcHRpb25hbCBiYXNlIHRleHR1cmVcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBEZXN0cm95IHdhcyBzdWNjZXNzZnVsXG4gICAgICovXG4gICAgQmFzZUltYWdlUmVzb3VyY2UucHJvdG90eXBlLmRpc3Bvc2UgPSBmdW5jdGlvbiBkaXNwb3NlICgpXG4gICAge1xuICAgICAgICB0aGlzLnNvdXJjZSA9IG51bGw7XG4gICAgfTtcblxuICAgIHJldHVybiBCYXNlSW1hZ2VSZXNvdXJjZTtcbn0oUmVzb3VyY2UpKTtcblxuLyoqXG4gKiBSZXNvdXJjZSB0eXBlIGZvciBIVE1MSW1hZ2VFbGVtZW50LlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLnJlc291cmNlcy5CYXNlSW1hZ2VSZXNvdXJjZVxuICogQG1lbWJlcm9mIFBJWEkucmVzb3VyY2VzXG4gKi9cbnZhciBJbWFnZVJlc291cmNlID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoQmFzZUltYWdlUmVzb3VyY2UpIHtcbiAgICBmdW5jdGlvbiBJbWFnZVJlc291cmNlKHNvdXJjZSwgb3B0aW9ucylcbiAgICB7XG4gICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gICAgICAgIGlmICghKHNvdXJjZSBpbnN0YW5jZW9mIEhUTUxJbWFnZUVsZW1lbnQpKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgaW1hZ2VFbGVtZW50ID0gbmV3IEltYWdlKCk7XG5cbiAgICAgICAgICAgIEJhc2VJbWFnZVJlc291cmNlLmNyb3NzT3JpZ2luKGltYWdlRWxlbWVudCwgc291cmNlLCBvcHRpb25zLmNyb3Nzb3JpZ2luKTtcblxuICAgICAgICAgICAgaW1hZ2VFbGVtZW50LnNyYyA9IHNvdXJjZTtcbiAgICAgICAgICAgIHNvdXJjZSA9IGltYWdlRWxlbWVudDtcbiAgICAgICAgfVxuXG4gICAgICAgIEJhc2VJbWFnZVJlc291cmNlLmNhbGwodGhpcywgc291cmNlKTtcblxuICAgICAgICAvLyBGaXJlRm94IDY4LCBhbmQgcG9zc2libHkgb3RoZXIgdmVyc2lvbnMsIHNlZW1zIGxpa2Ugc2V0dGluZyB0aGUgSFRNTEltYWdlRWxlbWVudCN3aWR0aCBhbmQgI2hlaWdodFxuICAgICAgICAvLyB0byBub24temVybyB2YWx1ZXMgYmVmb3JlIGl0cyBsb2FkaW5nIGNvbXBsZXRlcyBpZiBpbWFnZXMgYXJlIGluIGEgY2FjaGUuXG4gICAgICAgIC8vIEJlY2F1c2Ugb2YgdGhpcywgbmVlZCB0byBzZXQgdGhlIGBfd2lkdGhgIGFuZCB0aGUgYF9oZWlnaHRgIHRvIHplcm8gdG8gYXZvaWQgdXBsb2FkaW5nIGluY29tcGxldGUgaW1hZ2VzLlxuICAgICAgICAvLyBQbGVhc2UgcmVmZXIgdG8gdGhlIGlzc3VlICM1OTY4IChodHRwczovL2dpdGh1Yi5jb20vcGl4aWpzL3BpeGkuanMvaXNzdWVzLzU5NjgpLlxuICAgICAgICBpZiAoIXNvdXJjZS5jb21wbGV0ZSAmJiAhIXRoaXMuX3dpZHRoICYmICEhdGhpcy5faGVpZ2h0KVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl93aWR0aCA9IDA7XG4gICAgICAgICAgICB0aGlzLl9oZWlnaHQgPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVSTCBvZiB0aGUgaW1hZ2Ugc291cmNlXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudXJsID0gc291cmNlLnNyYztcblxuICAgICAgICAvKipcbiAgICAgICAgICogV2hlbiBwcm9jZXNzIGlzIGNvbXBsZXRlZFxuICAgICAgICAgKiBAbWVtYmVyIHtQcm9taXNlPHZvaWQ+fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fcHJvY2VzcyA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIHRoZSBpbWFnZSBzaG91bGQgYmUgZGlzcG9zZWQgYWZ0ZXIgdXBsb2FkXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnByZXNlcnZlQml0bWFwID0gZmFsc2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIGNhcGFibGUsIGNvbnZlcnQgdGhlIGltYWdlIHVzaW5nIGNyZWF0ZUltYWdlQml0bWFwIEFQSVxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLnNldHRpbmdzLkNSRUFURV9JTUFHRV9CSVRNQVBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY3JlYXRlQml0bWFwID0gKG9wdGlvbnMuY3JlYXRlQml0bWFwICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgID8gb3B0aW9ucy5jcmVhdGVCaXRtYXAgOiBzZXR0aW5ncy5DUkVBVEVfSU1BR0VfQklUTUFQKSAmJiAhIXdpbmRvdy5jcmVhdGVJbWFnZUJpdG1hcDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ29udHJvbHMgdGV4dHVyZSBhbHBoYU1vZGUgZmllbGRcbiAgICAgICAgICogQ29waWVzIGZyb20gb3B0aW9uc1xuICAgICAgICAgKiBEZWZhdWx0IGlzIGBudWxsYCwgY29waWVzIG9wdGlvbiBmcm9tIGJhc2VUZXh0dXJlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuQUxQSEFfTU9ERVN8bnVsbH1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmFscGhhTW9kZSA9IHR5cGVvZiBvcHRpb25zLmFscGhhTW9kZSA9PT0gJ251bWJlcicgPyBvcHRpb25zLmFscGhhTW9kZSA6IG51bGw7XG5cbiAgICAgICAgaWYgKG9wdGlvbnMucHJlbXVsdGlwbHlBbHBoYSAhPT0gdW5kZWZpbmVkKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyB0cmlnZ2VycyBkZXByZWNhdGlvblxuICAgICAgICAgICAgdGhpcy5wcmVtdWx0aXBseUFscGhhID0gb3B0aW9ucy5wcmVtdWx0aXBseUFscGhhO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBJbWFnZUJpdG1hcCBlbGVtZW50IGNyZWF0ZWQgZm9yIEhUTUxJbWFnZUVsZW1lbnRcbiAgICAgICAgICogQG1lbWJlciB7SW1hZ2VCaXRtYXB9XG4gICAgICAgICAqIEBkZWZhdWx0IG51bGxcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYml0bWFwID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUHJvbWlzZSB3aGVuIGxvYWRpbmdcbiAgICAgICAgICogQG1lbWJlciB7UHJvbWlzZTx2b2lkPn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQGRlZmF1bHQgbnVsbFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fbG9hZCA9IG51bGw7XG5cbiAgICAgICAgaWYgKG9wdGlvbnMuYXV0b0xvYWQgIT09IGZhbHNlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmxvYWQoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmICggQmFzZUltYWdlUmVzb3VyY2UgKSBJbWFnZVJlc291cmNlLl9fcHJvdG9fXyA9IEJhc2VJbWFnZVJlc291cmNlO1xuICAgIEltYWdlUmVzb3VyY2UucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggQmFzZUltYWdlUmVzb3VyY2UgJiYgQmFzZUltYWdlUmVzb3VyY2UucHJvdG90eXBlICk7XG4gICAgSW1hZ2VSZXNvdXJjZS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBJbWFnZVJlc291cmNlO1xuXG4gICAgLyoqXG4gICAgICogcmV0dXJucyBhIHByb21pc2Ugd2hlbiBpbWFnZSB3aWxsIGJlIGxvYWRlZCBhbmQgcHJvY2Vzc2VkXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtjcmVhdGVCaXRtYXA9dHJ1ZV0gd2hldGhlciBwcm9jZXNzIGltYWdlIGludG8gYml0bWFwXG4gICAgICogQHJldHVybnMge1Byb21pc2U8dm9pZD59XG4gICAgICovXG4gICAgSW1hZ2VSZXNvdXJjZS5wcm90b3R5cGUubG9hZCA9IGZ1bmN0aW9uIGxvYWQgKGNyZWF0ZUJpdG1hcClcbiAgICB7XG4gICAgICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gICAgICAgIGlmIChjcmVhdGVCaXRtYXAgIT09IHVuZGVmaW5lZClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5jcmVhdGVCaXRtYXAgPSBjcmVhdGVCaXRtYXA7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fbG9hZClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2xvYWQ7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9sb2FkID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHtcbiAgICAgICAgICAgIHRoaXMkMS51cmwgPSB0aGlzJDEuc291cmNlLnNyYztcbiAgICAgICAgICAgIHZhciByZWYgPSB0aGlzJDE7XG4gICAgICAgICAgICB2YXIgc291cmNlID0gcmVmLnNvdXJjZTtcblxuICAgICAgICAgICAgdmFyIGNvbXBsZXRlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcyQxLmRlc3Ryb3llZClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc291cmNlLm9ubG9hZCA9IG51bGw7XG4gICAgICAgICAgICAgICAgc291cmNlLm9uZXJyb3IgPSBudWxsO1xuXG4gICAgICAgICAgICAgICAgdGhpcyQxLnJlc2l6ZShzb3VyY2Uud2lkdGgsIHNvdXJjZS5oZWlnaHQpO1xuICAgICAgICAgICAgICAgIHRoaXMkMS5fbG9hZCA9IG51bGw7XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcyQxLmNyZWF0ZUJpdG1hcClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUodGhpcyQxLnByb2Nlc3MoKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUodGhpcyQxKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBpZiAoc291cmNlLmNvbXBsZXRlICYmIHNvdXJjZS5zcmMpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29tcGxldGVkKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc291cmNlLm9ubG9hZCA9IGNvbXBsZXRlZDtcbiAgICAgICAgICAgICAgICBzb3VyY2Uub25lcnJvciA9IGZ1bmN0aW9uIChldmVudCkgeyByZXR1cm4gdGhpcyQxLm9uRXJyb3IucnVuKGV2ZW50KTsgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX2xvYWQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENhbGxlZCB3aGVuIHdlIG5lZWQgdG8gY29udmVydCBpbWFnZSBpbnRvIEJpdG1hcEltYWdlLlxuICAgICAqIENhbiBiZSBjYWxsZWQgbXVsdGlwbGUgdGltZXMsIHJlYWwgcHJvbWlzZSBpcyBjYWNoZWQgaW5zaWRlLlxuICAgICAqXG4gICAgICogQHJldHVybnMge1Byb21pc2U8dm9pZD59IGNhY2hlZCBwcm9taXNlIHRvIGZpbGwgdGhhdCBiaXRtYXBcbiAgICAgKi9cbiAgICBJbWFnZVJlc291cmNlLnByb3RvdHlwZS5wcm9jZXNzID0gZnVuY3Rpb24gcHJvY2VzcyAoKVxuICAgIHtcbiAgICAgICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgICAgICAgaWYgKHRoaXMuX3Byb2Nlc3MgIT09IG51bGwpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9wcm9jZXNzO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmJpdG1hcCAhPT0gbnVsbCB8fCAhd2luZG93LmNyZWF0ZUltYWdlQml0bWFwKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fcHJvY2VzcyA9IHdpbmRvdy5jcmVhdGVJbWFnZUJpdG1hcCh0aGlzLnNvdXJjZSxcbiAgICAgICAgICAgIDAsIDAsIHRoaXMuc291cmNlLndpZHRoLCB0aGlzLnNvdXJjZS5oZWlnaHQsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcHJlbXVsdGlwbHlBbHBoYTogdGhpcy5wcmVtdWx0aXBseUFscGhhID09PSBBTFBIQV9NT0RFUy5VTlBBQ0sgPyAncHJlbXVsdGlwbHknIDogJ25vbmUnLFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChiaXRtYXApIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcyQxLmRlc3Ryb3llZClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzJDEuYml0bWFwID0gYml0bWFwO1xuICAgICAgICAgICAgICAgIHRoaXMkMS51cGRhdGUoKTtcbiAgICAgICAgICAgICAgICB0aGlzJDEuX3Byb2Nlc3MgPSBudWxsO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzJDEpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX3Byb2Nlc3M7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFVwbG9hZCB0aGUgaW1hZ2UgcmVzb3VyY2UgdG8gR1BVLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIFJlbmRlcmVyIHRvIHVwbG9hZCB0b1xuICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gYmFzZVRleHR1cmUgLSBCYXNlVGV4dHVyZSBmb3IgdGhpcyByZXNvdXJjZVxuICAgICAqIEBwYXJhbSB7UElYSS5HTFRleHR1cmV9IGdsVGV4dHVyZSAtIEdMVGV4dHVyZSB0byB1c2VcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gdHJ1ZSBpcyBzdWNjZXNzXG4gICAgICovXG4gICAgSW1hZ2VSZXNvdXJjZS5wcm90b3R5cGUudXBsb2FkID0gZnVuY3Rpb24gdXBsb2FkIChyZW5kZXJlciwgYmFzZVRleHR1cmUsIGdsVGV4dHVyZSlcbiAgICB7XG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5hbHBoYU1vZGUgPT09ICdudW1iZXInKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBiaXRtYXAgc3RvcmVzIHVucGFjayBwcmVtdWx0aXBseSBmbGFnLCB3ZSBkb250IGhhdmUgdG8gbm90aWZ5IHRleEltYWdlMkQgYWJvdXQgaXRcblxuICAgICAgICAgICAgYmFzZVRleHR1cmUuYWxwaGFNb2RlID0gdGhpcy5hbHBoYU1vZGU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMuY3JlYXRlQml0bWFwKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gQmFzZUltYWdlUmVzb3VyY2UucHJvdG90eXBlLnVwbG9hZC5jYWxsKHRoaXMsIHJlbmRlcmVyLCBiYXNlVGV4dHVyZSwgZ2xUZXh0dXJlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuYml0bWFwKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyB5ZWFoLCBpZ25vcmUgdGhlIG91dHB1dFxuICAgICAgICAgICAgdGhpcy5wcm9jZXNzKCk7XG4gICAgICAgICAgICBpZiAoIXRoaXMuYml0bWFwKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIEJhc2VJbWFnZVJlc291cmNlLnByb3RvdHlwZS51cGxvYWQuY2FsbCh0aGlzLCByZW5kZXJlciwgYmFzZVRleHR1cmUsIGdsVGV4dHVyZSwgdGhpcy5iaXRtYXApO1xuXG4gICAgICAgIGlmICghdGhpcy5wcmVzZXJ2ZUJpdG1hcClcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gY2hlY2tzIGlmIHRoZXJlIGFyZSBvdGhlciByZW5kZXJlcnMgdGhhdCBwb3NzaWJseSBuZWVkIHRoaXMgYml0bWFwXG5cbiAgICAgICAgICAgIHZhciBmbGFnID0gdHJ1ZTtcblxuICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIGJhc2VUZXh0dXJlLl9nbFRleHR1cmVzKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHZhciBvdGhlclRleCA9IGJhc2VUZXh0dXJlLl9nbFRleHR1cmVzW2tleV07XG5cbiAgICAgICAgICAgICAgICBpZiAob3RoZXJUZXggIT09IGdsVGV4dHVyZSAmJiBvdGhlclRleC5kaXJ0eUlkICE9PSBiYXNlVGV4dHVyZS5kaXJ0eUlkKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgZmxhZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChmbGFnKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmJpdG1hcC5jbG9zZSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYml0bWFwLmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5iaXRtYXAgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoaXMgdGV4dHVyZVxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIEltYWdlUmVzb3VyY2UucHJvdG90eXBlLmRpc3Bvc2UgPSBmdW5jdGlvbiBkaXNwb3NlICgpXG4gICAge1xuICAgICAgICB0aGlzLnNvdXJjZS5vbmxvYWQgPSBudWxsO1xuICAgICAgICB0aGlzLnNvdXJjZS5vbmVycm9yID0gbnVsbDtcblxuICAgICAgICBCYXNlSW1hZ2VSZXNvdXJjZS5wcm90b3R5cGUuZGlzcG9zZS5jYWxsKHRoaXMpO1xuXG4gICAgICAgIGlmICh0aGlzLmJpdG1hcClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5iaXRtYXAuY2xvc2UoKTtcbiAgICAgICAgICAgIHRoaXMuYml0bWFwID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9wcm9jZXNzID0gbnVsbDtcbiAgICAgICAgdGhpcy5fbG9hZCA9IG51bGw7XG4gICAgfTtcblxuICAgIHJldHVybiBJbWFnZVJlc291cmNlO1xufShCYXNlSW1hZ2VSZXNvdXJjZSkpO1xuXG4vKipcbiAqIENvbGxlY3Rpb24gb2YgaW5zdGFsbGVkIHJlc291cmNlIHR5cGVzLCBjbGFzcyBtdXN0IGV4dGVuZCB7QGxpbmsgUElYSS5yZXNvdXJjZXMuUmVzb3VyY2V9LlxuICogQGV4YW1wbGVcbiAqIGNsYXNzIEN1c3RvbVJlc291cmNlIGV4dGVuZHMgUElYSS5yZXNvdXJjZXMuUmVzb3VyY2Uge1xuICogICAvLyBNVVNUIGhhdmUgc291cmNlLCBvcHRpb25zIGNvbnN0cnVjdG9yIHNpZ25hdHVyZVxuICogICAvLyBmb3IgYXV0by1kZXRlY3RlZCByZXNvdXJjZXMgdG8gYmUgY3JlYXRlZC5cbiAqICAgY29uc3RydWN0b3Ioc291cmNlLCBvcHRpb25zKSB7XG4gKiAgICAgc3VwZXIoKTtcbiAqICAgfVxuICogICB1cGxvYWQocmVuZGVyZXIsIGJhc2VUZXh0dXJlLCBnbFRleHR1cmUpIHtcbiAqICAgICAvLyB1cGxvYWQgd2l0aCBHTFxuICogICAgIHJldHVybiB0cnVlO1xuICogICB9XG4gKiAgIC8vIHVzZWQgdG8gYXV0by1kZXRlY3QgcmVzb3VyY2VcbiAqICAgc3RhdGljIHRlc3Qoc291cmNlLCBleHRlbnNpb24pIHtcbiAqICAgICByZXR1cm4gZXh0ZW5zaW9uID09PSAneHl6J3x8IHNvdXJjZSBpbnN0YW5jZW9mIFNvbWVDbGFzcztcbiAqICAgfVxuICogfVxuICogLy8gSW5zdGFsbCB0aGUgbmV3IHJlc291cmNlIHR5cGVcbiAqIFBJWEkucmVzb3VyY2VzLklOU1RBTExFRC5wdXNoKEN1c3RvbVJlc291cmNlKTtcbiAqXG4gKiBAbmFtZSBQSVhJLnJlc291cmNlcy5JTlNUQUxMRURcbiAqIEB0eXBlIHtBcnJheTwqPn1cbiAqIEBzdGF0aWNcbiAqIEByZWFkb25seVxuICovXG52YXIgSU5TVEFMTEVEID0gW107XG5cbi8qKlxuICogQ3JlYXRlIGEgcmVzb3VyY2UgZWxlbWVudCBmcm9tIGEgc2luZ2xlIHNvdXJjZSBlbGVtZW50LiBUaGlzXG4gKiBhdXRvLWRldGVjdHMgd2hpY2ggdHlwZSBvZiByZXNvdXJjZSB0byBjcmVhdGUuIEFsbCByZXNvdXJjZXMgdGhhdFxuICogYXJlIGF1dG8tZGV0ZWN0YWJsZSBtdXN0IGhhdmUgYSBzdGF0aWMgYHRlc3RgIG1ldGhvZCBhbmQgYSBjb25zdHJ1Y3RvclxuICogd2l0aCB0aGUgYXJndW1lbnRzIGAoc291cmNlLCBvcHRpb25zPylgLiBDdXJyZW50bHksIHRoZSBzdXBwb3J0ZWRcbiAqIHJlc291cmNlcyBmb3IgYXV0by1kZXRlY3Rpb24gaW5jbHVkZTpcbiAqICAtIHtAbGluayBQSVhJLnJlc291cmNlcy5JbWFnZVJlc291cmNlfVxuICogIC0ge0BsaW5rIFBJWEkucmVzb3VyY2VzLkNhbnZhc1Jlc291cmNlfVxuICogIC0ge0BsaW5rIFBJWEkucmVzb3VyY2VzLlZpZGVvUmVzb3VyY2V9XG4gKiAgLSB7QGxpbmsgUElYSS5yZXNvdXJjZXMuU1ZHUmVzb3VyY2V9XG4gKiAgLSB7QGxpbmsgUElYSS5yZXNvdXJjZXMuQnVmZmVyUmVzb3VyY2V9XG4gKiBAc3RhdGljXG4gKiBAZnVuY3Rpb24gUElYSS5yZXNvdXJjZXMuYXV0b0RldGVjdFJlc291cmNlXG4gKiBAcGFyYW0ge3N0cmluZ3wqfSBzb3VyY2UgLSBSZXNvdXJjZSBzb3VyY2UsIHRoaXMgY2FuIGJlIHRoZSBVUkwgdG8gdGhlIHJlc291cmNlLFxuICogICAgICAgIGEgdHlwZWQtYXJyYXkgKGZvciBCdWZmZXJSZXNvdXJjZSksIEhUTUxWaWRlb0VsZW1lbnQsIFNWRyBkYXRhLXVyaVxuICogICAgICAgIG9yIGFueSBvdGhlciByZXNvdXJjZSB0aGF0IGNhbiBiZSBhdXRvLWRldGVjdGVkLiBJZiBub3QgcmVzb3VyY2UgaXNcbiAqICAgICAgICBkZXRlY3RlZCwgaXQncyBhc3N1bWVkIHRvIGJlIGFuIEltYWdlUmVzb3VyY2UuXG4gKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIC0gUGFzcy10aHJvdWdoIG9wdGlvbnMgdG8gdXNlIGZvciBSZXNvdXJjZVxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLndpZHRoXSAtIFdpZHRoIG9mIEJ1ZmZlclJlc291cmNlIG9yIFNWRyByYXN0ZXJpemF0aW9uXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuaGVpZ2h0XSAtIEhlaWdodCBvZiBCdWZmZXJSZXNvdXJjZSBvciBTVkcgcmFzdGVyaXphdGlvblxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5hdXRvTG9hZD10cnVlXSAtIEltYWdlLCBTVkcgYW5kIFZpZGVvIGZsYWcgdG8gc3RhcnQgbG9hZGluZ1xuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnNjYWxlPTFdIC0gU1ZHIHNvdXJjZSBzY2FsZS4gT3ZlcnJpZGRlbiBieSB3aWR0aCwgaGVpZ2h0XG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNyZWF0ZUJpdG1hcD1QSVhJLnNldHRpbmdzLkNSRUFURV9JTUFHRV9CSVRNQVBdIC0gSW1hZ2Ugb3B0aW9uIHRvIGNyZWF0ZSBCaXRtYXAgb2JqZWN0XG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNyb3Nzb3JpZ2luPXRydWVdIC0gSW1hZ2UgYW5kIFZpZGVvIG9wdGlvbiB0byBzZXQgY3Jvc3NPcmlnaW5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYXV0b1BsYXk9dHJ1ZV0gLSBWaWRlbyBvcHRpb24gdG8gc3RhcnQgcGxheWluZyB2aWRlbyBpbW1lZGlhdGVseVxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnVwZGF0ZUZQUz0wXSAtIFZpZGVvIG9wdGlvbiB0byB1cGRhdGUgaG93IG1hbnkgdGltZXMgYSBzZWNvbmQgdGhlXG4gKiAgICAgICAgdGV4dHVyZSBzaG91bGQgYmUgdXBkYXRlZCBmcm9tIHRoZSB2aWRlby4gTGVhdmUgYXQgMCB0byB1cGRhdGUgYXQgZXZlcnkgcmVuZGVyXG4gKiBAcmV0dXJuIHtQSVhJLnJlc291cmNlcy5SZXNvdXJjZX0gVGhlIGNyZWF0ZWQgcmVzb3VyY2UuXG4gKi9cbmZ1bmN0aW9uIGF1dG9EZXRlY3RSZXNvdXJjZShzb3VyY2UsIG9wdGlvbnMpXG57XG4gICAgaWYgKCFzb3VyY2UpXG4gICAge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICB2YXIgZXh0ZW5zaW9uID0gJyc7XG5cbiAgICBpZiAodHlwZW9mIHNvdXJjZSA9PT0gJ3N0cmluZycpXG4gICAge1xuICAgICAgICAvLyBzZWFyY2ggZm9yIGZpbGUgZXh0ZW5zaW9uOiBwZXJpb2QsIDMtNCBjaGFycywgdGhlbiA/LCAjIG9yIEVPTFxuICAgICAgICB2YXIgcmVzdWx0ID0gKC9cXC4oXFx3ezMsNH0pKD86JHxcXD98IykvaSkuZXhlYyhzb3VyY2UpO1xuXG4gICAgICAgIGlmIChyZXN1bHQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGV4dGVuc2lvbiA9IHJlc3VsdFsxXS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IElOU1RBTExFRC5sZW5ndGggLSAxOyBpID49IDA7IC0taSlcbiAgICB7XG4gICAgICAgIHZhciBSZXNvdXJjZVBsdWdpbiA9IElOU1RBTExFRFtpXTtcblxuICAgICAgICBpZiAoUmVzb3VyY2VQbHVnaW4udGVzdCAmJiBSZXNvdXJjZVBsdWdpbi50ZXN0KHNvdXJjZSwgZXh0ZW5zaW9uKSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBSZXNvdXJjZVBsdWdpbihzb3VyY2UsIG9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gV2hlbiBpbiBkb3VidDogcHJvYmFibHkgYW4gaW1hZ2VcbiAgICAvLyBtaWdodCBiZSBhcHByb3ByaWF0ZSB0byB0aHJvdyBhbiBlcnJvciBvciByZXR1cm4gbnVsbFxuICAgIHJldHVybiBuZXcgSW1hZ2VSZXNvdXJjZShzb3VyY2UsIG9wdGlvbnMpO1xufVxuXG4vKipcbiAqIEBpbnRlcmZhY2UgU2hhcmVkQXJyYXlCdWZmZXJcbiAqL1xuXG4vKipcbiAqIEJ1ZmZlciByZXNvdXJjZSB3aXRoIGRhdGEgb2YgdHlwZWQgYXJyYXkuXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkucmVzb3VyY2VzLlJlc291cmNlXG4gKiBAbWVtYmVyb2YgUElYSS5yZXNvdXJjZXNcbiAqL1xudmFyIEJ1ZmZlclJlc291cmNlID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoUmVzb3VyY2UpIHtcbiAgICBmdW5jdGlvbiBCdWZmZXJSZXNvdXJjZShzb3VyY2UsIG9wdGlvbnMpXG4gICAge1xuICAgICAgICB2YXIgcmVmID0gb3B0aW9ucyB8fCB7fTtcbiAgICAgICAgdmFyIHdpZHRoID0gcmVmLndpZHRoO1xuICAgICAgICB2YXIgaGVpZ2h0ID0gcmVmLmhlaWdodDtcblxuICAgICAgICBpZiAoIXdpZHRoIHx8ICFoZWlnaHQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQnVmZmVyUmVzb3VyY2Ugd2lkdGggb3IgaGVpZ2h0IGludmFsaWQnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIFJlc291cmNlLmNhbGwodGhpcywgd2lkdGgsIGhlaWdodCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNvdXJjZSBhcnJheVxuICAgICAgICAgKiBDYW5ub3QgYmUgQ2xhbXBlZFVpbnQ4QXJyYXkgYmVjYXVzZSBpdCBjYW50IGJlIHVwbG9hZGVkIHRvIFdlYkdMXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge0Zsb2F0MzJBcnJheXxVaW50OEFycmF5fFVpbnQzMkFycmF5fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kYXRhID0gc291cmNlO1xuICAgIH1cblxuICAgIGlmICggUmVzb3VyY2UgKSBCdWZmZXJSZXNvdXJjZS5fX3Byb3RvX18gPSBSZXNvdXJjZTtcbiAgICBCdWZmZXJSZXNvdXJjZS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBSZXNvdXJjZSAmJiBSZXNvdXJjZS5wcm90b3R5cGUgKTtcbiAgICBCdWZmZXJSZXNvdXJjZS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBCdWZmZXJSZXNvdXJjZTtcblxuICAgIC8qKlxuICAgICAqIFVwbG9hZCB0aGUgdGV4dHVyZSB0byB0aGUgR1BVLlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgVXBsb2FkIHRvIHRoZSByZW5kZXJlclxuICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gYmFzZVRleHR1cmUgUmVmZXJlbmNlIHRvIHBhcmVudCB0ZXh0dXJlXG4gICAgICogQHBhcmFtIHtQSVhJLkdMVGV4dHVyZX0gZ2xUZXh0dXJlIGdsVGV4dHVyZVxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSB0cnVlIGlzIHN1Y2Nlc3NcbiAgICAgKi9cbiAgICBCdWZmZXJSZXNvdXJjZS5wcm90b3R5cGUudXBsb2FkID0gZnVuY3Rpb24gdXBsb2FkIChyZW5kZXJlciwgYmFzZVRleHR1cmUsIGdsVGV4dHVyZSlcbiAgICB7XG4gICAgICAgIHZhciBnbCA9IHJlbmRlcmVyLmdsO1xuXG4gICAgICAgIGdsLnBpeGVsU3RvcmVpKGdsLlVOUEFDS19QUkVNVUxUSVBMWV9BTFBIQV9XRUJHTCwgYmFzZVRleHR1cmUuYWxwaGFNb2RlID09PSBBTFBIQV9NT0RFUy5VTlBBQ0spO1xuXG4gICAgICAgIGlmIChnbFRleHR1cmUud2lkdGggPT09IGJhc2VUZXh0dXJlLndpZHRoICYmIGdsVGV4dHVyZS5oZWlnaHQgPT09IGJhc2VUZXh0dXJlLmhlaWdodClcbiAgICAgICAge1xuICAgICAgICAgICAgZ2wudGV4U3ViSW1hZ2UyRChcbiAgICAgICAgICAgICAgICBiYXNlVGV4dHVyZS50YXJnZXQsXG4gICAgICAgICAgICAgICAgMCxcbiAgICAgICAgICAgICAgICAwLFxuICAgICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAgICAgYmFzZVRleHR1cmUud2lkdGgsXG4gICAgICAgICAgICAgICAgYmFzZVRleHR1cmUuaGVpZ2h0LFxuICAgICAgICAgICAgICAgIGJhc2VUZXh0dXJlLmZvcm1hdCxcbiAgICAgICAgICAgICAgICBiYXNlVGV4dHVyZS50eXBlLFxuICAgICAgICAgICAgICAgIHRoaXMuZGF0YVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIGdsVGV4dHVyZS53aWR0aCA9IGJhc2VUZXh0dXJlLndpZHRoO1xuICAgICAgICAgICAgZ2xUZXh0dXJlLmhlaWdodCA9IGJhc2VUZXh0dXJlLmhlaWdodDtcblxuICAgICAgICAgICAgZ2wudGV4SW1hZ2UyRChcbiAgICAgICAgICAgICAgICBiYXNlVGV4dHVyZS50YXJnZXQsXG4gICAgICAgICAgICAgICAgMCxcbiAgICAgICAgICAgICAgICBnbFRleHR1cmUuaW50ZXJuYWxGb3JtYXQsXG4gICAgICAgICAgICAgICAgYmFzZVRleHR1cmUud2lkdGgsXG4gICAgICAgICAgICAgICAgYmFzZVRleHR1cmUuaGVpZ2h0LFxuICAgICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAgICAgYmFzZVRleHR1cmUuZm9ybWF0LFxuICAgICAgICAgICAgICAgIGdsVGV4dHVyZS50eXBlLFxuICAgICAgICAgICAgICAgIHRoaXMuZGF0YVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95IGFuZCBkb24ndCB1c2UgYWZ0ZXIgdGhpc1xuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIEJ1ZmZlclJlc291cmNlLnByb3RvdHlwZS5kaXNwb3NlID0gZnVuY3Rpb24gZGlzcG9zZSAoKVxuICAgIHtcbiAgICAgICAgdGhpcy5kYXRhID0gbnVsbDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVXNlZCB0byBhdXRvLWRldGVjdCB0aGUgdHlwZSBvZiByZXNvdXJjZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0geyp9IHNvdXJjZSAtIFRoZSBzb3VyY2Ugb2JqZWN0XG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gYHRydWVgIGlmIDxjYW52YXM+XG4gICAgICovXG4gICAgQnVmZmVyUmVzb3VyY2UudGVzdCA9IGZ1bmN0aW9uIHRlc3QgKHNvdXJjZSlcbiAgICB7XG4gICAgICAgIHJldHVybiBzb3VyY2UgaW5zdGFuY2VvZiBGbG9hdDMyQXJyYXlcbiAgICAgICAgICAgIHx8IHNvdXJjZSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXlcbiAgICAgICAgICAgIHx8IHNvdXJjZSBpbnN0YW5jZW9mIFVpbnQzMkFycmF5O1xuICAgIH07XG5cbiAgICByZXR1cm4gQnVmZmVyUmVzb3VyY2U7XG59KFJlc291cmNlKSk7XG5cbnZhciBkZWZhdWx0QnVmZmVyT3B0aW9ucyA9IHtcbiAgICBzY2FsZU1vZGU6IFNDQUxFX01PREVTLk5FQVJFU1QsXG4gICAgZm9ybWF0OiBGT1JNQVRTLlJHQkEsXG4gICAgYWxwaGFNb2RlOiBBTFBIQV9NT0RFUy5OUE0sXG59O1xuXG4vKipcbiAqIEEgVGV4dHVyZSBzdG9yZXMgdGhlIGluZm9ybWF0aW9uIHRoYXQgcmVwcmVzZW50cyBhbiBpbWFnZS5cbiAqIEFsbCB0ZXh0dXJlcyBoYXZlIGEgYmFzZSB0ZXh0dXJlLCB3aGljaCBjb250YWlucyBpbmZvcm1hdGlvbiBhYm91dCB0aGUgc291cmNlLlxuICogVGhlcmVmb3JlIHlvdSBjYW4gaGF2ZSBtYW55IHRleHR1cmVzIGFsbCB1c2luZyBhIHNpbmdsZSBCYXNlVGV4dHVyZVxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS51dGlscy5FdmVudEVtaXR0ZXJcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAcGFyYW0ge1BJWEkucmVzb3VyY2VzLlJlc291cmNlfHN0cmluZ3xIVE1MSW1hZ2VFbGVtZW50fEhUTUxDYW52YXNFbGVtZW50fEhUTUxWaWRlb0VsZW1lbnR9IFtyZXNvdXJjZT1udWxsXVxuICogICAgICAgIFRoZSBjdXJyZW50IHJlc291cmNlIHRvIHVzZSwgZm9yIHRoaW5ncyB0aGF0IGFyZW4ndCBSZXNvdXJjZSBvYmplY3RzLCB3aWxsIGJlIGNvbnZlcnRlZFxuICogICAgICAgIGludG8gYSBSZXNvdXJjZS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gLSBDb2xsZWN0aW9uIG9mIG9wdGlvbnNcbiAqIEBwYXJhbSB7UElYSS5NSVBNQVBfTU9ERVN9IFtvcHRpb25zLm1pcG1hcD1QSVhJLnNldHRpbmdzLk1JUE1BUF9URVhUVVJFU10gLSBJZiBtaXBtYXBwaW5nIGlzIGVuYWJsZWQgZm9yIHRleHR1cmVcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5hbmlzb3Ryb3BpY0xldmVsPVBJWEkuc2V0dGluZ3MuQU5JU09UUk9QSUNfTEVWRUxdIC0gQW5pc290cm9waWMgZmlsdGVyaW5nIGxldmVsIG9mIHRleHR1cmVcbiAqIEBwYXJhbSB7UElYSS5XUkFQX01PREVTfSBbb3B0aW9ucy53cmFwTW9kZT1QSVhJLnNldHRpbmdzLldSQVBfTU9ERV0gLSBXcmFwIG1vZGUgZm9yIHRleHR1cmVzXG4gKiBAcGFyYW0ge1BJWEkuU0NBTEVfTU9ERVN9IFtvcHRpb25zLnNjYWxlTW9kZT1QSVhJLnNldHRpbmdzLlNDQUxFX01PREVdIC0gRGVmYXVsdCBzY2FsZSBtb2RlLCBsaW5lYXIsIG5lYXJlc3RcbiAqIEBwYXJhbSB7UElYSS5GT1JNQVRTfSBbb3B0aW9ucy5mb3JtYXQ9UElYSS5GT1JNQVRTLlJHQkFdIC0gR0wgZm9ybWF0IHR5cGVcbiAqIEBwYXJhbSB7UElYSS5UWVBFU30gW29wdGlvbnMudHlwZT1QSVhJLlRZUEVTLlVOU0lHTkVEX0JZVEVdIC0gR0wgZGF0YSB0eXBlXG4gKiBAcGFyYW0ge1BJWEkuVEFSR0VUU30gW29wdGlvbnMudGFyZ2V0PVBJWEkuVEFSR0VUUy5URVhUVVJFXzJEXSAtIEdMIHRleHR1cmUgdGFyZ2V0XG4gKiBAcGFyYW0ge1BJWEkuQUxQSEFfTU9ERVN9IFtvcHRpb25zLmFscGhhTW9kZT1QSVhJLkFMUEhBX01PREVTLlVOUEFDS10gLSBQcmUgbXVsdGlwbHkgdGhlIGltYWdlIGFscGhhXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMud2lkdGg9MF0gLSBXaWR0aCBvZiB0aGUgdGV4dHVyZVxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmhlaWdodD0wXSAtIEhlaWdodCBvZiB0aGUgdGV4dHVyZVxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnJlc29sdXRpb25dIC0gUmVzb2x1dGlvbiBvZiB0aGUgYmFzZSB0ZXh0dXJlXG4gKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnMucmVzb3VyY2VPcHRpb25zXSAtIE9wdGlvbmFsIHJlc291cmNlIG9wdGlvbnMsXG4gKiAgICAgICAgc2VlIHtAbGluayBQSVhJLnJlc291cmNlcy5hdXRvRGV0ZWN0UmVzb3VyY2UgYXV0b0RldGVjdFJlc291cmNlfVxuICovXG52YXIgQmFzZVRleHR1cmUgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChFdmVudEVtaXR0ZXIpIHtcbiAgICBmdW5jdGlvbiBCYXNlVGV4dHVyZShyZXNvdXJjZSwgb3B0aW9ucylcbiAgICB7XG4gICAgICAgIGlmICggcmVzb3VyY2UgPT09IHZvaWQgMCApIHJlc291cmNlID0gbnVsbDtcbiAgICAgICAgaWYgKCBvcHRpb25zID09PSB2b2lkIDAgKSBvcHRpb25zID0gbnVsbDtcblxuICAgICAgICBFdmVudEVtaXR0ZXIuY2FsbCh0aGlzKTtcblxuICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuICAgICAgICB2YXIgYWxwaGFNb2RlID0gb3B0aW9ucy5hbHBoYU1vZGU7XG4gICAgICAgIHZhciBtaXBtYXAgPSBvcHRpb25zLm1pcG1hcDtcbiAgICAgICAgdmFyIGFuaXNvdHJvcGljTGV2ZWwgPSBvcHRpb25zLmFuaXNvdHJvcGljTGV2ZWw7XG4gICAgICAgIHZhciBzY2FsZU1vZGUgPSBvcHRpb25zLnNjYWxlTW9kZTtcbiAgICAgICAgdmFyIHdpZHRoID0gb3B0aW9ucy53aWR0aDtcbiAgICAgICAgdmFyIGhlaWdodCA9IG9wdGlvbnMuaGVpZ2h0O1xuICAgICAgICB2YXIgd3JhcE1vZGUgPSBvcHRpb25zLndyYXBNb2RlO1xuICAgICAgICB2YXIgZm9ybWF0ID0gb3B0aW9ucy5mb3JtYXQ7XG4gICAgICAgIHZhciB0eXBlID0gb3B0aW9ucy50eXBlO1xuICAgICAgICB2YXIgdGFyZ2V0ID0gb3B0aW9ucy50YXJnZXQ7XG4gICAgICAgIHZhciByZXNvbHV0aW9uID0gb3B0aW9ucy5yZXNvbHV0aW9uO1xuICAgICAgICB2YXIgcmVzb3VyY2VPcHRpb25zID0gb3B0aW9ucy5yZXNvdXJjZU9wdGlvbnM7XG5cbiAgICAgICAgLy8gQ29udmVydCB0aGUgcmVzb3VyY2UgdG8gYSBSZXNvdXJjZSBvYmplY3RcbiAgICAgICAgaWYgKHJlc291cmNlICYmICEocmVzb3VyY2UgaW5zdGFuY2VvZiBSZXNvdXJjZSkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJlc291cmNlID0gYXV0b0RldGVjdFJlc291cmNlKHJlc291cmNlLCByZXNvdXJjZU9wdGlvbnMpO1xuICAgICAgICAgICAgcmVzb3VyY2UuaW50ZXJuYWwgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB3aWR0aCBvZiB0aGUgYmFzZSB0ZXh0dXJlIHNldCB3aGVuIHRoZSBpbWFnZSBoYXMgbG9hZGVkXG4gICAgICAgICAqXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLndpZHRoID0gd2lkdGggfHwgMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGhlaWdodCBvZiB0aGUgYmFzZSB0ZXh0dXJlIHNldCB3aGVuIHRoZSBpbWFnZSBoYXMgbG9hZGVkXG4gICAgICAgICAqXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmhlaWdodCA9IGhlaWdodCB8fCAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcmVzb2x1dGlvbiAvIGRldmljZSBwaXhlbCByYXRpbyBvZiB0aGUgdGV4dHVyZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IFBJWEkuc2V0dGluZ3MuUkVTT0xVVElPTlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5yZXNvbHV0aW9uID0gcmVzb2x1dGlvbiB8fCBzZXR0aW5ncy5SRVNPTFVUSU9OO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNaXBtYXAgbW9kZSBvZiB0aGUgdGV4dHVyZSwgYWZmZWN0cyBkb3duc2NhbGVkIGltYWdlc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk1JUE1BUF9NT0RFU31cbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5zZXR0aW5ncy5NSVBNQVBfVEVYVFVSRVNcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubWlwbWFwID0gbWlwbWFwICE9PSB1bmRlZmluZWQgPyBtaXBtYXAgOiBzZXR0aW5ncy5NSVBNQVBfVEVYVFVSRVM7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFuaXNvdHJvcGljIGZpbHRlcmluZyBsZXZlbCBvZiB0ZXh0dXJlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5zZXR0aW5ncy5BTklTT1RST1BJQ19MRVZFTFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5hbmlzb3Ryb3BpY0xldmVsID0gYW5pc290cm9waWNMZXZlbCAhPT0gdW5kZWZpbmVkID8gYW5pc290cm9waWNMZXZlbCA6IHNldHRpbmdzLkFOSVNPVFJPUElDX0xFVkVMO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBIb3cgdGhlIHRleHR1cmUgd3JhcHNcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy53cmFwTW9kZSA9IHdyYXBNb2RlIHx8IHNldHRpbmdzLldSQVBfTU9ERTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHNjYWxlIG1vZGUgdG8gYXBwbHkgd2hlbiBzY2FsaW5nIHRoaXMgdGV4dHVyZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlNDQUxFX01PREVTfVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLnNldHRpbmdzLlNDQUxFX01PREVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc2NhbGVNb2RlID0gc2NhbGVNb2RlICE9PSB1bmRlZmluZWQgPyBzY2FsZU1vZGUgOiBzZXR0aW5ncy5TQ0FMRV9NT0RFO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcGl4ZWwgZm9ybWF0IG9mIHRoZSB0ZXh0dXJlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuRk9STUFUU31cbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5GT1JNQVRTLlJHQkFcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZm9ybWF0ID0gZm9ybWF0IHx8IEZPUk1BVFMuUkdCQTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHR5cGUgb2YgcmVzb3VyY2UgZGF0YVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlRZUEVTfVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLlRZUEVTLlVOU0lHTkVEX0JZVEVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudHlwZSA9IHR5cGUgfHwgVFlQRVMuVU5TSUdORURfQllURTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHRhcmdldCB0eXBlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuVEFSR0VUU31cbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5UQVJHRVRTLlRFWFRVUkVfMkRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudGFyZ2V0ID0gdGFyZ2V0IHx8IFRBUkdFVFMuVEVYVFVSRV8yRDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSG93IHRvIHRyZWF0IHByZW11bHRpcGxpZWQgYWxwaGEsIHNlZSB7QGxpbmsgUElYSS5BTFBIQV9NT0RFU30uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuQUxQSEFfTU9ERVN9XG4gICAgICAgICAqIEBkZWZhdWx0IFBJWEkuQUxQSEFfTU9ERVMuVU5QQUNLXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmFscGhhTW9kZSA9IGFscGhhTW9kZSAhPT0gdW5kZWZpbmVkID8gYWxwaGFNb2RlIDogQUxQSEFfTU9ERVMuVU5QQUNLO1xuXG4gICAgICAgIGlmIChvcHRpb25zLnByZW11bHRpcGx5QWxwaGEgIT09IHVuZGVmaW5lZClcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gdHJpZ2dlcnMgZGVwcmVjYXRpb25cbiAgICAgICAgICAgIHRoaXMucHJlbXVsdGlwbHlBbHBoYSA9IG9wdGlvbnMucHJlbXVsdGlwbHlBbHBoYTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHbG9iYWwgdW5pcXVlIGlkZW50aWZpZXIgZm9yIHRoaXMgQmFzZVRleHR1cmVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnVpZCA9IHVpZCgpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVc2VkIGJ5IGF1dG9tYXRpYyB0ZXh0dXJlIEdhcmJhZ2UgQ29sbGVjdGlvbiwgc3RvcmVzIGxhc3QgR0MgdGljayB3aGVuIGl0IHdhcyBib3VuZFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudG91Y2hlZCA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZXRoZXIgb3Igbm90IHRoZSB0ZXh0dXJlIGlzIGEgcG93ZXIgb2YgdHdvLCB0cnkgdG8gdXNlIHBvd2VyIG9mIHR3byB0ZXh0dXJlcyBhcyBtdWNoXG4gICAgICAgICAqIGFzIHlvdSBjYW5cbiAgICAgICAgICpcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmlzUG93ZXJPZlR3byA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9yZWZyZXNoUE9UKCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBtYXAgb2YgcmVuZGVyIGNvbnRleHQgdGV4dHVyZXMgd2hlcmUgdGhpcyBpcyBib3VuZFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtPYmplY3R9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9nbFRleHR1cmVzID0ge307XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVzZWQgYnkgVGV4dHVyZVN5c3RlbSB0byBvbmx5IHVwZGF0ZSB0ZXh0dXJlIHRvIHRoZSBHUFUgd2hlbiBuZWVkZWQuXG4gICAgICAgICAqIFBsZWFzZSBjYWxsIGB1cGRhdGUoKWAgdG8gaW5jcmVtZW50IGl0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kaXJ0eUlkID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVXNlZCBieSBUZXh0dXJlU3lzdGVtIHRvIG9ubHkgdXBkYXRlIHRleHR1cmUgc3R5bGUgd2hlbiBuZWVkZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kaXJ0eVN0eWxlSWQgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDdXJyZW50bHkgZGVmYXVsdCBjYWNoZSBJRC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jYWNoZUlkID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogR2VuZXJhbGx5IHNwZWFraW5nIG1lYW5zIHdoZW4gcmVzb3VyY2UgaXMgbG9hZGVkLlxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudmFsaWQgPSB3aWR0aCA+IDAgJiYgaGVpZ2h0ID4gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGNvbGxlY3Rpb24gb2YgYWx0ZXJuYXRpdmUgY2FjaGUgaWRzLCBzaW5jZSBzb21lIEJhc2VUZXh0dXJlc1xuICAgICAgICAgKiBjYW4gaGF2ZSBtb3JlIHRoYW4gb25lIElELCBzaG9ydCBuYW1lIGFuZCBsb25nZXIgZnVsbCBVUkxcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7QXJyYXk8c3RyaW5nPn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnRleHR1cmVDYWNoZUlkcyA9IFtdO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGbGFnIGlmIEJhc2VUZXh0dXJlIGhhcyBiZWVuIGRlc3Ryb3llZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRlc3Ryb3llZCA9IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcmVzb3VyY2UgdXNlZCBieSB0aGlzIEJhc2VUZXh0dXJlLCB0aGVyZSBjYW4gb25seVxuICAgICAgICAgKiBiZSBvbmUgcmVzb3VyY2UgcGVyIEJhc2VUZXh0dXJlLCBidXQgdGV4dHVyZXMgY2FuIHNoYXJlXG4gICAgICAgICAqIHJlc291cmNlcy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5yZXNvdXJjZXMuUmVzb3VyY2V9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5yZXNvdXJjZSA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIE51bWJlciBvZiB0aGUgdGV4dHVyZSBiYXRjaCwgdXNlZCBieSBtdWx0aS10ZXh0dXJlIHJlbmRlcmVyc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9iYXRjaEVuYWJsZWQgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBMb2NhdGlvbiBpbnNpZGUgdGV4dHVyZSBiYXRjaCwgdXNlZCBieSBtdWx0aS10ZXh0dXJlIHJlbmRlcmVyc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9iYXRjaExvY2F0aW9uID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIG5vdC1pbW1lZGlhdGVseS1hdmFpbGFibGUgc291cmNlIGZpbmlzaGVzIGxvYWRpbmcuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQGV2ZW50IFBJWEkuQmFzZVRleHR1cmUjbG9hZGVkXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gYmFzZVRleHR1cmUgLSBSZXNvdXJjZSBsb2FkZWQuXG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgbm90LWltbWVkaWF0ZWx5LWF2YWlsYWJsZSBzb3VyY2UgZmFpbHMgdG8gbG9hZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAZXZlbnQgUElYSS5CYXNlVGV4dHVyZSNlcnJvclxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IGJhc2VUZXh0dXJlIC0gUmVzb3VyY2UgZXJyb3JlZC5cbiAgICAgICAgICogQHBhcmFtIHtFcnJvckV2ZW50fSBldmVudCAtIExvYWQgZXJyb3IgZXZlbnQuXG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIEJhc2VUZXh0dXJlIGlzIHVwZGF0ZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQGV2ZW50IFBJWEkuQmFzZVRleHR1cmUjbG9hZGVkXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gYmFzZVRleHR1cmUgLSBSZXNvdXJjZSBsb2FkZWQuXG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIEJhc2VUZXh0dXJlIGlzIHVwZGF0ZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQGV2ZW50IFBJWEkuQmFzZVRleHR1cmUjdXBkYXRlXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gYmFzZVRleHR1cmUgLSBJbnN0YW5jZSBvZiB0ZXh0dXJlIGJlaW5nIHVwZGF0ZWQuXG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIEJhc2VUZXh0dXJlIGlzIGRlc3Ryb3llZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAZXZlbnQgUElYSS5CYXNlVGV4dHVyZSNkaXNwb3NlXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gYmFzZVRleHR1cmUgLSBJbnN0YW5jZSBvZiB0ZXh0dXJlIGJlaW5nIGRlc3Ryb3llZC5cbiAgICAgICAgICovXG5cbiAgICAgICAgLy8gU2V0IHRoZSByZXNvdXJjZVxuICAgICAgICB0aGlzLnNldFJlc291cmNlKHJlc291cmNlKTtcbiAgICB9XG5cbiAgICBpZiAoIEV2ZW50RW1pdHRlciApIEJhc2VUZXh0dXJlLl9fcHJvdG9fXyA9IEV2ZW50RW1pdHRlcjtcbiAgICBCYXNlVGV4dHVyZS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBFdmVudEVtaXR0ZXIgJiYgRXZlbnRFbWl0dGVyLnByb3RvdHlwZSApO1xuICAgIEJhc2VUZXh0dXJlLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEJhc2VUZXh0dXJlO1xuXG4gICAgdmFyIHByb3RvdHlwZUFjY2Vzc29ycyA9IHsgcmVhbFdpZHRoOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LHJlYWxIZWlnaHQ6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0gfTtcblxuICAgIC8qKlxuICAgICAqIFBpeGVsIHdpZHRoIG9mIHRoZSBzb3VyY2Ugb2YgdGhpcyB0ZXh0dXJlXG4gICAgICpcbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLnJlYWxXaWR0aC5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIE1hdGguY2VpbCgodGhpcy53aWR0aCAqIHRoaXMucmVzb2x1dGlvbikgLSAxZS00KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUGl4ZWwgaGVpZ2h0IG9mIHRoZSBzb3VyY2Ugb2YgdGhpcyB0ZXh0dXJlXG4gICAgICpcbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLnJlYWxIZWlnaHQuZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHJldHVybiBNYXRoLmNlaWwoKHRoaXMuaGVpZ2h0ICogdGhpcy5yZXNvbHV0aW9uKSAtIDFlLTQpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDaGFuZ2VzIHN0eWxlIG9wdGlvbnMgb2YgQmFzZVRleHR1cmVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5TQ0FMRV9NT0RFU30gW3NjYWxlTW9kZV0gLSBQaXhpIHNjYWxlbW9kZVxuICAgICAqIEBwYXJhbSB7UElYSS5NSVBNQVBfTU9ERVN9IFttaXBtYXBdIC0gZW5hYmxlIG1pcG1hcHNcbiAgICAgKiBAcmV0dXJucyB7UElYSS5CYXNlVGV4dHVyZX0gdGhpc1xuICAgICAqL1xuICAgIEJhc2VUZXh0dXJlLnByb3RvdHlwZS5zZXRTdHlsZSA9IGZ1bmN0aW9uIHNldFN0eWxlIChzY2FsZU1vZGUsIG1pcG1hcClcbiAgICB7XG4gICAgICAgIHZhciBkaXJ0eTtcblxuICAgICAgICBpZiAoc2NhbGVNb2RlICE9PSB1bmRlZmluZWQgJiYgc2NhbGVNb2RlICE9PSB0aGlzLnNjYWxlTW9kZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5zY2FsZU1vZGUgPSBzY2FsZU1vZGU7XG4gICAgICAgICAgICBkaXJ0eSA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobWlwbWFwICE9PSB1bmRlZmluZWQgJiYgbWlwbWFwICE9PSB0aGlzLm1pcG1hcClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5taXBtYXAgPSBtaXBtYXA7XG4gICAgICAgICAgICBkaXJ0eSA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZGlydHkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuZGlydHlTdHlsZUlkKys7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2hhbmdlcyB3L2gvcmVzb2x1dGlvbi4gVGV4dHVyZSBiZWNvbWVzIHZhbGlkIGlmIHdpZHRoIGFuZCBoZWlnaHQgYXJlIGdyZWF0ZXIgdGhhbiB6ZXJvLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIFZpc3VhbCB3aWR0aFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHQgVmlzdWFsIGhlaWdodFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcmVzb2x1dGlvbl0gT3B0aW9uYWxseSBzZXQgcmVzb2x1dGlvblxuICAgICAqIEByZXR1cm5zIHtQSVhJLkJhc2VUZXh0dXJlfSB0aGlzXG4gICAgICovXG4gICAgQmFzZVRleHR1cmUucHJvdG90eXBlLnNldFNpemUgPSBmdW5jdGlvbiBzZXRTaXplICh3aWR0aCwgaGVpZ2h0LCByZXNvbHV0aW9uKVxuICAgIHtcbiAgICAgICAgdGhpcy5yZXNvbHV0aW9uID0gcmVzb2x1dGlvbiB8fCB0aGlzLnJlc29sdXRpb247XG4gICAgICAgIHRoaXMud2lkdGggPSB3aWR0aDtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgIHRoaXMuX3JlZnJlc2hQT1QoKTtcbiAgICAgICAgdGhpcy51cGRhdGUoKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0cyByZWFsIHNpemUgb2YgYmFzZVRleHR1cmUsIHByZXNlcnZlcyBjdXJyZW50IHJlc29sdXRpb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmVhbFdpZHRoIEZ1bGwgcmVuZGVyZWQgd2lkdGhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmVhbEhlaWdodCBGdWxsIHJlbmRlcmVkIGhlaWdodFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcmVzb2x1dGlvbl0gT3B0aW9uYWxseSBzZXQgcmVzb2x1dGlvblxuICAgICAqIEByZXR1cm5zIHtQSVhJLkJhc2VUZXh0dXJlfSB0aGlzXG4gICAgICovXG4gICAgQmFzZVRleHR1cmUucHJvdG90eXBlLnNldFJlYWxTaXplID0gZnVuY3Rpb24gc2V0UmVhbFNpemUgKHJlYWxXaWR0aCwgcmVhbEhlaWdodCwgcmVzb2x1dGlvbilcbiAgICB7XG4gICAgICAgIHRoaXMucmVzb2x1dGlvbiA9IHJlc29sdXRpb24gfHwgdGhpcy5yZXNvbHV0aW9uO1xuICAgICAgICB0aGlzLndpZHRoID0gcmVhbFdpZHRoIC8gdGhpcy5yZXNvbHV0aW9uO1xuICAgICAgICB0aGlzLmhlaWdodCA9IHJlYWxIZWlnaHQgLyB0aGlzLnJlc29sdXRpb247XG4gICAgICAgIHRoaXMuX3JlZnJlc2hQT1QoKTtcbiAgICAgICAgdGhpcy51cGRhdGUoKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVmcmVzaCBjaGVjayBmb3IgaXNQb3dlck9mVHdvIHRleHR1cmUgYmFzZWQgb24gc2l6ZVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBCYXNlVGV4dHVyZS5wcm90b3R5cGUuX3JlZnJlc2hQT1QgPSBmdW5jdGlvbiBfcmVmcmVzaFBPVCAoKVxuICAgIHtcbiAgICAgICAgdGhpcy5pc1Bvd2VyT2ZUd28gPSBpc1BvdzIodGhpcy5yZWFsV2lkdGgpICYmIGlzUG93Mih0aGlzLnJlYWxIZWlnaHQpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDaGFuZ2VzIHJlc29sdXRpb25cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcmVzb2x1dGlvbl0gcmVzXG4gICAgICogQHJldHVybnMge1BJWEkuQmFzZVRleHR1cmV9IHRoaXNcbiAgICAgKi9cbiAgICBCYXNlVGV4dHVyZS5wcm90b3R5cGUuc2V0UmVzb2x1dGlvbiA9IGZ1bmN0aW9uIHNldFJlc29sdXRpb24gKHJlc29sdXRpb24pXG4gICAge1xuICAgICAgICB2YXIgb2xkUmVzb2x1dGlvbiA9IHRoaXMucmVzb2x1dGlvbjtcblxuICAgICAgICBpZiAob2xkUmVzb2x1dGlvbiA9PT0gcmVzb2x1dGlvbilcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnJlc29sdXRpb24gPSByZXNvbHV0aW9uO1xuXG4gICAgICAgIGlmICh0aGlzLnZhbGlkKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLndpZHRoID0gdGhpcy53aWR0aCAqIG9sZFJlc29sdXRpb24gLyByZXNvbHV0aW9uO1xuICAgICAgICAgICAgdGhpcy5oZWlnaHQgPSB0aGlzLmhlaWdodCAqIG9sZFJlc29sdXRpb24gLyByZXNvbHV0aW9uO1xuICAgICAgICAgICAgdGhpcy5lbWl0KCd1cGRhdGUnLCB0aGlzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3JlZnJlc2hQT1QoKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgcmVzb3VyY2UgaWYgaXQgd2Fzbid0IHNldC4gVGhyb3dzIGVycm9yIGlmIHJlc291cmNlIGFscmVhZHkgcHJlc2VudFxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLnJlc291cmNlcy5SZXNvdXJjZX0gcmVzb3VyY2UgLSB0aGF0IGlzIG1hbmFnaW5nIHRoaXMgQmFzZVRleHR1cmVcbiAgICAgKiBAcmV0dXJucyB7UElYSS5CYXNlVGV4dHVyZX0gdGhpc1xuICAgICAqL1xuICAgIEJhc2VUZXh0dXJlLnByb3RvdHlwZS5zZXRSZXNvdXJjZSA9IGZ1bmN0aW9uIHNldFJlc291cmNlIChyZXNvdXJjZSlcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLnJlc291cmNlID09PSByZXNvdXJjZSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5yZXNvdXJjZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXNvdXJjZSBjYW4gYmUgc2V0IG9ubHkgb25jZScpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVzb3VyY2UuYmluZCh0aGlzKTtcblxuICAgICAgICB0aGlzLnJlc291cmNlID0gcmVzb3VyY2U7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEludmFsaWRhdGVzIHRoZSBvYmplY3QuIFRleHR1cmUgYmVjb21lcyB2YWxpZCBpZiB3aWR0aCBhbmQgaGVpZ2h0IGFyZSBncmVhdGVyIHRoYW4gemVyby5cbiAgICAgKi9cbiAgICBCYXNlVGV4dHVyZS5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gdXBkYXRlICgpXG4gICAge1xuICAgICAgICBpZiAoIXRoaXMudmFsaWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLndpZHRoID4gMCAmJiB0aGlzLmhlaWdodCA+IDApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy52YWxpZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KCdsb2FkZWQnLCB0aGlzKTtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ3VwZGF0ZScsIHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5kaXJ0eUlkKys7XG4gICAgICAgICAgICB0aGlzLmRpcnR5U3R5bGVJZCsrO1xuICAgICAgICAgICAgdGhpcy5lbWl0KCd1cGRhdGUnLCB0aGlzKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBIYW5kbGUgZXJyb3JzIHdpdGggcmVzb3VyY2VzLlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtFcnJvckV2ZW50fSBldmVudCAtIEVycm9yIGV2ZW50IGVtaXR0ZWQuXG4gICAgICovXG4gICAgQmFzZVRleHR1cmUucHJvdG90eXBlLm9uRXJyb3IgPSBmdW5jdGlvbiBvbkVycm9yIChldmVudClcbiAgICB7XG4gICAgICAgIHRoaXMuZW1pdCgnZXJyb3InLCB0aGlzLCBldmVudCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoaXMgYmFzZSB0ZXh0dXJlLlxuICAgICAqIFRoZSBtZXRob2Qgc3RvcHMgaWYgcmVzb3VyY2UgZG9lc24ndCB3YW50IHRoaXMgdGV4dHVyZSB0byBiZSBkZXN0cm95ZWQuXG4gICAgICogUmVtb3ZlcyB0ZXh0dXJlIGZyb20gYWxsIGNhY2hlcy5cbiAgICAgKi9cbiAgICBCYXNlVGV4dHVyZS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3kgKClcbiAgICB7XG4gICAgICAgIC8vIHJlbW92ZSBhbmQgZGVzdHJveSB0aGUgcmVzb3VyY2VcbiAgICAgICAgaWYgKHRoaXMucmVzb3VyY2UpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMucmVzb3VyY2UudW5iaW5kKHRoaXMpO1xuICAgICAgICAgICAgLy8gb25seSBkZXN0cm95IHJlc291cmNlZCBjcmVhdGVkIGludGVybmFsbHlcbiAgICAgICAgICAgIGlmICh0aGlzLnJlc291cmNlLmludGVybmFsKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMucmVzb3VyY2UuZGVzdHJveSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5yZXNvdXJjZSA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5jYWNoZUlkKVxuICAgICAgICB7XG4gICAgICAgICAgICBkZWxldGUgQmFzZVRleHR1cmVDYWNoZVt0aGlzLmNhY2hlSWRdO1xuICAgICAgICAgICAgZGVsZXRlIFRleHR1cmVDYWNoZVt0aGlzLmNhY2hlSWRdO1xuXG4gICAgICAgICAgICB0aGlzLmNhY2hlSWQgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gZmluYWxseSBsZXQgdGhlIFdlYkdMIHJlbmRlcmVyIGtub3cuLlxuICAgICAgICB0aGlzLmRpc3Bvc2UoKTtcblxuICAgICAgICBCYXNlVGV4dHVyZS5yZW1vdmVGcm9tQ2FjaGUodGhpcyk7XG4gICAgICAgIHRoaXMudGV4dHVyZUNhY2hlSWRzID0gbnVsbDtcblxuICAgICAgICB0aGlzLmRlc3Ryb3llZCA9IHRydWU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEZyZWVzIHRoZSB0ZXh0dXJlIGZyb20gV2ViR0wgbWVtb3J5IHdpdGhvdXQgZGVzdHJveWluZyB0aGlzIHRleHR1cmUgb2JqZWN0LlxuICAgICAqIFRoaXMgbWVhbnMgeW91IGNhbiBzdGlsbCB1c2UgdGhlIHRleHR1cmUgbGF0ZXIgd2hpY2ggd2lsbCB1cGxvYWQgaXQgdG8gR1BVXG4gICAgICogbWVtb3J5IGFnYWluLlxuICAgICAqXG4gICAgICogQGZpcmVzIFBJWEkuQmFzZVRleHR1cmUjZGlzcG9zZVxuICAgICAqL1xuICAgIEJhc2VUZXh0dXJlLnByb3RvdHlwZS5kaXNwb3NlID0gZnVuY3Rpb24gZGlzcG9zZSAoKVxuICAgIHtcbiAgICAgICAgdGhpcy5lbWl0KCdkaXNwb3NlJywgdGhpcyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEhlbHBlciBmdW5jdGlvbiB0aGF0IGNyZWF0ZXMgYSBiYXNlIHRleHR1cmUgYmFzZWQgb24gdGhlIHNvdXJjZSB5b3UgcHJvdmlkZS5cbiAgICAgKiBUaGUgc291cmNlIGNhbiBiZSAtIGltYWdlIHVybCwgaW1hZ2UgZWxlbWVudCwgY2FudmFzIGVsZW1lbnQuIElmIHRoZVxuICAgICAqIHNvdXJjZSBpcyBhbiBpbWFnZSB1cmwgb3IgYW4gaW1hZ2UgZWxlbWVudCBhbmQgbm90IGluIHRoZSBiYXNlIHRleHR1cmVcbiAgICAgKiBjYWNoZSwgaXQgd2lsbCBiZSBjcmVhdGVkIGFuZCBsb2FkZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtzdHJpbmd8SFRNTEltYWdlRWxlbWVudHxIVE1MQ2FudmFzRWxlbWVudHxTVkdFbGVtZW50fEhUTUxWaWRlb0VsZW1lbnR9IHNvdXJjZSAtIFRoZVxuICAgICAqICAgICAgICBzb3VyY2UgdG8gY3JlYXRlIGJhc2UgdGV4dHVyZSBmcm9tLlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gU2VlIHtAbGluayBQSVhJLkJhc2VUZXh0dXJlfSdzIGNvbnN0cnVjdG9yIGZvciBvcHRpb25zLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3N0cmljdF0gRW5mb3JjZSBzdHJpY3QtbW9kZSwgc2VlIHtAbGluayBQSVhJLnNldHRpbmdzLlNUUklDVF9URVhUVVJFX0NBQ0hFfS5cbiAgICAgKiBAcmV0dXJucyB7UElYSS5CYXNlVGV4dHVyZX0gVGhlIG5ldyBiYXNlIHRleHR1cmUuXG4gICAgICovXG4gICAgQmFzZVRleHR1cmUuZnJvbSA9IGZ1bmN0aW9uIGZyb20gKHNvdXJjZSwgb3B0aW9ucywgc3RyaWN0KVxuICAgIHtcbiAgICAgICAgaWYgKCBzdHJpY3QgPT09IHZvaWQgMCApIHN0cmljdCA9IHNldHRpbmdzLlNUUklDVF9URVhUVVJFX0NBQ0hFO1xuXG4gICAgICAgIHZhciBpc0ZyYW1lID0gdHlwZW9mIHNvdXJjZSA9PT0gJ3N0cmluZyc7XG4gICAgICAgIHZhciBjYWNoZUlkID0gbnVsbDtcblxuICAgICAgICBpZiAoaXNGcmFtZSlcbiAgICAgICAge1xuICAgICAgICAgICAgY2FjaGVJZCA9IHNvdXJjZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICghc291cmNlLl9waXhpSWQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc291cmNlLl9waXhpSWQgPSBcInBpeGlpZF9cIiArICh1aWQoKSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNhY2hlSWQgPSBzb3VyY2UuX3BpeGlJZDtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBiYXNlVGV4dHVyZSA9IEJhc2VUZXh0dXJlQ2FjaGVbY2FjaGVJZF07XG5cbiAgICAgICAgLy8gU3RyaWN0LW1vZGUgcmVqZWN0cyBpbnZhbGlkIGNhY2hlSWRzXG4gICAgICAgIGlmIChpc0ZyYW1lICYmIHN0cmljdCAmJiAhYmFzZVRleHR1cmUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigoXCJUaGUgY2FjaGVJZCBcXFwiXCIgKyBjYWNoZUlkICsgXCJcXFwiIGRvZXMgbm90IGV4aXN0IGluIEJhc2VUZXh0dXJlQ2FjaGUuXCIpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghYmFzZVRleHR1cmUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGJhc2VUZXh0dXJlID0gbmV3IEJhc2VUZXh0dXJlKHNvdXJjZSwgb3B0aW9ucyk7XG4gICAgICAgICAgICBiYXNlVGV4dHVyZS5jYWNoZUlkID0gY2FjaGVJZDtcbiAgICAgICAgICAgIEJhc2VUZXh0dXJlLmFkZFRvQ2FjaGUoYmFzZVRleHR1cmUsIGNhY2hlSWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGJhc2VUZXh0dXJlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBuZXcgQmFzZVRleHR1cmUgd2l0aCBhIEJ1ZmZlclJlc291cmNlIGZyb20gYSBGbG9hdDMyQXJyYXkuXG4gICAgICogUkdCQSB2YWx1ZXMgYXJlIGZsb2F0cyBmcm9tIDAgdG8gMS5cbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtGbG9hdDMyQXJyYXl8VWludDhBcnJheX0gYnVmZmVyIFRoZSBvcHRpb25hbCBhcnJheSB0byB1c2UsIGlmIG5vIGRhdGFcbiAgICAgKiAgICAgICAgaXMgcHJvdmlkZWQsIGEgbmV3IEZsb2F0MzJBcnJheSBpcyBjcmVhdGVkLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB3aWR0aCAtIFdpZHRoIG9mIHRoZSByZXNvdXJjZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHQgLSBIZWlnaHQgb2YgdGhlIHJlc291cmNlXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSBTZWUge0BsaW5rIFBJWEkuQmFzZVRleHR1cmV9J3MgY29uc3RydWN0b3IgZm9yIG9wdGlvbnMuXG4gICAgICogQHJldHVybiB7UElYSS5CYXNlVGV4dHVyZX0gVGhlIHJlc3VsdGluZyBuZXcgQmFzZVRleHR1cmVcbiAgICAgKi9cbiAgICBCYXNlVGV4dHVyZS5mcm9tQnVmZmVyID0gZnVuY3Rpb24gZnJvbUJ1ZmZlciAoYnVmZmVyLCB3aWR0aCwgaGVpZ2h0LCBvcHRpb25zKVxuICAgIHtcbiAgICAgICAgYnVmZmVyID0gYnVmZmVyIHx8IG5ldyBGbG9hdDMyQXJyYXkod2lkdGggKiBoZWlnaHQgKiA0KTtcblxuICAgICAgICB2YXIgcmVzb3VyY2UgPSBuZXcgQnVmZmVyUmVzb3VyY2UoYnVmZmVyLCB7IHdpZHRoOiB3aWR0aCwgaGVpZ2h0OiBoZWlnaHQgfSk7XG4gICAgICAgIHZhciB0eXBlID0gYnVmZmVyIGluc3RhbmNlb2YgRmxvYXQzMkFycmF5ID8gVFlQRVMuRkxPQVQgOiBUWVBFUy5VTlNJR05FRF9CWVRFO1xuXG4gICAgICAgIHJldHVybiBuZXcgQmFzZVRleHR1cmUocmVzb3VyY2UsIE9iamVjdC5hc3NpZ24oZGVmYXVsdEJ1ZmZlck9wdGlvbnMsIG9wdGlvbnMgfHwgeyB3aWR0aDogd2lkdGgsIGhlaWdodDogaGVpZ2h0LCB0eXBlOiB0eXBlIH0pKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQWRkcyBhIEJhc2VUZXh0dXJlIHRvIHRoZSBnbG9iYWwgQmFzZVRleHR1cmVDYWNoZS4gVGhpcyBjYWNoZSBpcyBzaGFyZWQgYWNyb3NzIHRoZSB3aG9sZSBQSVhJIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IGJhc2VUZXh0dXJlIC0gVGhlIEJhc2VUZXh0dXJlIHRvIGFkZCB0byB0aGUgY2FjaGUuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGlkIC0gVGhlIGlkIHRoYXQgdGhlIEJhc2VUZXh0dXJlIHdpbGwgYmUgc3RvcmVkIGFnYWluc3QuXG4gICAgICovXG4gICAgQmFzZVRleHR1cmUuYWRkVG9DYWNoZSA9IGZ1bmN0aW9uIGFkZFRvQ2FjaGUgKGJhc2VUZXh0dXJlLCBpZClcbiAgICB7XG4gICAgICAgIGlmIChpZClcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKGJhc2VUZXh0dXJlLnRleHR1cmVDYWNoZUlkcy5pbmRleE9mKGlkKSA9PT0gLTEpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYmFzZVRleHR1cmUudGV4dHVyZUNhY2hlSWRzLnB1c2goaWQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoQmFzZVRleHR1cmVDYWNoZVtpZF0pXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oKFwiQmFzZVRleHR1cmUgYWRkZWQgdG8gdGhlIGNhY2hlIHdpdGggYW4gaWQgW1wiICsgaWQgKyBcIl0gdGhhdCBhbHJlYWR5IGhhZCBhbiBlbnRyeVwiKSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIEJhc2VUZXh0dXJlQ2FjaGVbaWRdID0gYmFzZVRleHR1cmU7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlIGEgQmFzZVRleHR1cmUgZnJvbSB0aGUgZ2xvYmFsIEJhc2VUZXh0dXJlQ2FjaGUuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtzdHJpbmd8UElYSS5CYXNlVGV4dHVyZX0gYmFzZVRleHR1cmUgLSBpZCBvZiBhIEJhc2VUZXh0dXJlIHRvIGJlIHJlbW92ZWQsIG9yIGEgQmFzZVRleHR1cmUgaW5zdGFuY2UgaXRzZWxmLlxuICAgICAqIEByZXR1cm4ge1BJWEkuQmFzZVRleHR1cmV8bnVsbH0gVGhlIEJhc2VUZXh0dXJlIHRoYXQgd2FzIHJlbW92ZWQuXG4gICAgICovXG4gICAgQmFzZVRleHR1cmUucmVtb3ZlRnJvbUNhY2hlID0gZnVuY3Rpb24gcmVtb3ZlRnJvbUNhY2hlIChiYXNlVGV4dHVyZSlcbiAgICB7XG4gICAgICAgIGlmICh0eXBlb2YgYmFzZVRleHR1cmUgPT09ICdzdHJpbmcnKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgYmFzZVRleHR1cmVGcm9tQ2FjaGUgPSBCYXNlVGV4dHVyZUNhY2hlW2Jhc2VUZXh0dXJlXTtcblxuICAgICAgICAgICAgaWYgKGJhc2VUZXh0dXJlRnJvbUNhY2hlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IGJhc2VUZXh0dXJlRnJvbUNhY2hlLnRleHR1cmVDYWNoZUlkcy5pbmRleE9mKGJhc2VUZXh0dXJlKTtcblxuICAgICAgICAgICAgICAgIGlmIChpbmRleCA+IC0xKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgYmFzZVRleHR1cmVGcm9tQ2FjaGUudGV4dHVyZUNhY2hlSWRzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZGVsZXRlIEJhc2VUZXh0dXJlQ2FjaGVbYmFzZVRleHR1cmVdO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGJhc2VUZXh0dXJlRnJvbUNhY2hlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGJhc2VUZXh0dXJlICYmIGJhc2VUZXh0dXJlLnRleHR1cmVDYWNoZUlkcylcbiAgICAgICAge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBiYXNlVGV4dHVyZS50ZXh0dXJlQ2FjaGVJZHMubGVuZ3RoOyArK2kpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGVsZXRlIEJhc2VUZXh0dXJlQ2FjaGVbYmFzZVRleHR1cmUudGV4dHVyZUNhY2hlSWRzW2ldXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYmFzZVRleHR1cmUudGV4dHVyZUNhY2hlSWRzLmxlbmd0aCA9IDA7XG5cbiAgICAgICAgICAgIHJldHVybiBiYXNlVGV4dHVyZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyggQmFzZVRleHR1cmUucHJvdG90eXBlLCBwcm90b3R5cGVBY2Nlc3NvcnMgKTtcblxuICAgIHJldHVybiBCYXNlVGV4dHVyZTtcbn0oRXZlbnRFbWl0dGVyKSk7XG5cbi8qKlxuICogR2xvYmFsIG51bWJlciBvZiB0aGUgdGV4dHVyZSBiYXRjaCwgdXNlZCBieSBtdWx0aS10ZXh0dXJlIHJlbmRlcmVyc1xuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXIge251bWJlcn1cbiAqL1xuQmFzZVRleHR1cmUuX2dsb2JhbEJhdGNoID0gMDtcblxuLyoqXG4gKiBBIHJlc291cmNlIHRoYXQgY29udGFpbnMgYSBudW1iZXIgb2Ygc291cmNlcy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkucmVzb3VyY2VzLlJlc291cmNlXG4gKiBAbWVtYmVyb2YgUElYSS5yZXNvdXJjZXNcbiAqIEBwYXJhbSB7bnVtYmVyfEFycmF5PCo+fSBzb3VyY2UgLSBOdW1iZXIgb2YgaXRlbXMgaW4gYXJyYXkgb3IgdGhlIGNvbGxlY3Rpb25cbiAqICAgICAgICBvZiBpbWFnZSBVUkxzIHRvIHVzZS4gQ2FuIGFsc28gYmUgcmVzb3VyY2VzLCBpbWFnZSBlbGVtZW50cywgY2FudmFzLCBldGMuXG4gKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIE9wdGlvbnMgdG8gYXBwbHkgdG8ge0BsaW5rIFBJWEkucmVzb3VyY2VzLmF1dG9EZXRlY3RSZXNvdXJjZX1cbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy53aWR0aF0gLSBXaWR0aCBvZiB0aGUgcmVzb3VyY2VcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5oZWlnaHRdIC0gSGVpZ2h0IG9mIHRoZSByZXNvdXJjZVxuICovXG52YXIgQXJyYXlSZXNvdXJjZSA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKFJlc291cmNlKSB7XG4gICAgZnVuY3Rpb24gQXJyYXlSZXNvdXJjZShzb3VyY2UsIG9wdGlvbnMpXG4gICAge1xuICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuICAgICAgICB2YXIgdXJscztcbiAgICAgICAgdmFyIGxlbmd0aCA9IHNvdXJjZTtcblxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShzb3VyY2UpKVxuICAgICAgICB7XG4gICAgICAgICAgICB1cmxzID0gc291cmNlO1xuICAgICAgICAgICAgbGVuZ3RoID0gc291cmNlLmxlbmd0aDtcbiAgICAgICAgfVxuXG4gICAgICAgIFJlc291cmNlLmNhbGwodGhpcywgb3B0aW9ucy53aWR0aCwgb3B0aW9ucy5oZWlnaHQpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb2xsZWN0aW9uIG9mIHJlc291cmNlcy5cbiAgICAgICAgICogQG1lbWJlciB7QXJyYXk8UElYSS5CYXNlVGV4dHVyZT59XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5pdGVtcyA9IFtdO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEaXJ0eSBJRHMgZm9yIGVhY2ggcGFydFxuICAgICAgICAgKiBAbWVtYmVyIHtBcnJheTxudW1iZXI+fVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaXRlbURpcnR5SWRzID0gW107XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIHBhcnRUZXh0dXJlID0gbmV3IEJhc2VUZXh0dXJlKCk7XG5cbiAgICAgICAgICAgIHRoaXMuaXRlbXMucHVzaChwYXJ0VGV4dHVyZSk7XG4gICAgICAgICAgICB0aGlzLml0ZW1EaXJ0eUlkcy5wdXNoKC0xKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBOdW1iZXIgb2YgZWxlbWVudHMgaW4gYXJyYXlcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubGVuZ3RoID0gbGVuZ3RoO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcm9taXNlIHdoZW4gbG9hZGluZ1xuICAgICAgICAgKiBAbWVtYmVyIHtQcm9taXNlfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAZGVmYXVsdCBudWxsXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9sb2FkID0gbnVsbDtcblxuICAgICAgICBpZiAodXJscylcbiAgICAgICAge1xuICAgICAgICAgICAgZm9yICh2YXIgaSQxID0gMDsgaSQxIDwgbGVuZ3RoOyBpJDErKylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFkZFJlc291cmNlQXQoYXV0b0RldGVjdFJlc291cmNlKHVybHNbaSQxXSwgb3B0aW9ucyksIGkkMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoIFJlc291cmNlICkgQXJyYXlSZXNvdXJjZS5fX3Byb3RvX18gPSBSZXNvdXJjZTtcbiAgICBBcnJheVJlc291cmNlLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIFJlc291cmNlICYmIFJlc291cmNlLnByb3RvdHlwZSApO1xuICAgIEFycmF5UmVzb3VyY2UucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQXJyYXlSZXNvdXJjZTtcblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3kgdGhpcyBCYXNlSW1hZ2VSZXNvdXJjZVxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIEFycmF5UmVzb3VyY2UucHJvdG90eXBlLmRpc3Bvc2UgPSBmdW5jdGlvbiBkaXNwb3NlICgpXG4gICAge1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gdGhpcy5sZW5ndGg7IGkgPCBsZW47IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5pdGVtc1tpXS5kZXN0cm95KCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pdGVtcyA9IG51bGw7XG4gICAgICAgIHRoaXMuaXRlbURpcnR5SWRzID0gbnVsbDtcbiAgICAgICAgdGhpcy5fbG9hZCA9IG51bGw7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldCBhIHJlc291cmNlIGJ5IElEXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkucmVzb3VyY2VzLlJlc291cmNlfSByZXNvdXJjZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleCAtIFplcm8tYmFzZWQgaW5kZXggb2YgcmVzb3VyY2UgdG8gc2V0XG4gICAgICogQHJldHVybiB7UElYSS5yZXNvdXJjZXMuQXJyYXlSZXNvdXJjZX0gSW5zdGFuY2UgZm9yIGNoYWluaW5nXG4gICAgICovXG4gICAgQXJyYXlSZXNvdXJjZS5wcm90b3R5cGUuYWRkUmVzb3VyY2VBdCA9IGZ1bmN0aW9uIGFkZFJlc291cmNlQXQgKHJlc291cmNlLCBpbmRleClcbiAgICB7XG4gICAgICAgIHZhciBiYXNlVGV4dHVyZSA9IHRoaXMuaXRlbXNbaW5kZXhdO1xuXG4gICAgICAgIGlmICghYmFzZVRleHR1cmUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigoXCJJbmRleCBcIiArIGluZGV4ICsgXCIgaXMgb3V0IG9mIGJvdW5kc1wiKSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJbmhlcml0IHRoZSBmaXJzdCByZXNvdXJjZSBkaW1lbnNpb25zXG4gICAgICAgIGlmIChyZXNvdXJjZS52YWxpZCAmJiAhdGhpcy52YWxpZClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5yZXNpemUocmVzb3VyY2Uud2lkdGgsIHJlc291cmNlLmhlaWdodCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLml0ZW1zW2luZGV4XS5zZXRSZXNvdXJjZShyZXNvdXJjZSk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgcGFyZW50IGJhc2UgdGV4dHVyZVxuICAgICAqIEBtZW1iZXIge1BJWEkuQmFzZVRleHR1cmV9XG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgQXJyYXlSZXNvdXJjZS5wcm90b3R5cGUuYmluZCA9IGZ1bmN0aW9uIGJpbmQgKGJhc2VUZXh0dXJlKVxuICAgIHtcbiAgICAgICAgUmVzb3VyY2UucHJvdG90eXBlLmJpbmQuY2FsbCh0aGlzLCBiYXNlVGV4dHVyZSk7XG5cbiAgICAgICAgYmFzZVRleHR1cmUudGFyZ2V0ID0gVEFSR0VUUy5URVhUVVJFXzJEX0FSUkFZO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5pdGVtc1tpXS5vbigndXBkYXRlJywgYmFzZVRleHR1cmUudXBkYXRlLCBiYXNlVGV4dHVyZSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVW5zZXQgdGhlIHBhcmVudCBiYXNlIHRleHR1cmVcbiAgICAgKiBAbWVtYmVyIHtQSVhJLkJhc2VUZXh0dXJlfVxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIEFycmF5UmVzb3VyY2UucHJvdG90eXBlLnVuYmluZCA9IGZ1bmN0aW9uIHVuYmluZCAoYmFzZVRleHR1cmUpXG4gICAge1xuICAgICAgICBSZXNvdXJjZS5wcm90b3R5cGUudW5iaW5kLmNhbGwodGhpcywgYmFzZVRleHR1cmUpO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5pdGVtc1tpXS5vZmYoJ3VwZGF0ZScsIGJhc2VUZXh0dXJlLnVwZGF0ZSwgYmFzZVRleHR1cmUpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIExvYWQgYWxsIHRoZSByZXNvdXJjZXMgc2ltdWx0YW5lb3VzbHlcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlPHZvaWQ+fSBXaGVuIGxvYWQgaXMgcmVzb2x2ZWRcbiAgICAgKi9cbiAgICBBcnJheVJlc291cmNlLnByb3RvdHlwZS5sb2FkID0gZnVuY3Rpb24gbG9hZCAoKVxuICAgIHtcbiAgICAgICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgICAgICAgaWYgKHRoaXMuX2xvYWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9sb2FkO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHJlc291cmNlcyA9IHRoaXMuaXRlbXMubWFwKGZ1bmN0aW9uIChpdGVtKSB7IHJldHVybiBpdGVtLnJlc291cmNlOyB9KTtcblxuICAgICAgICAvLyBUT0RPOiBhbHNvIGltcGxlbWVudCBsb2FkIHBhcnQtYnktcGFydCBzdHJhdGVneVxuICAgICAgICB2YXIgcHJvbWlzZXMgPSByZXNvdXJjZXMubWFwKGZ1bmN0aW9uIChpdGVtKSB7IHJldHVybiBpdGVtLmxvYWQoKTsgfSk7XG5cbiAgICAgICAgdGhpcy5fbG9hZCA9IFByb21pc2UuYWxsKHByb21pc2VzKVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciByZWYgPSByZXNvdXJjZXNbMF07XG4gICAgICAgICAgICAgICAgdmFyIHdpZHRoID0gcmVmLndpZHRoO1xuICAgICAgICAgICAgICAgIHZhciBoZWlnaHQgPSByZWYuaGVpZ2h0O1xuXG4gICAgICAgICAgICAgICAgdGhpcyQxLnJlc2l6ZSh3aWR0aCwgaGVpZ2h0KTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcyQxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX2xvYWQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFVwbG9hZCB0aGUgcmVzb3VyY2VzIHRvIHRoZSBHUFUuXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlclxuICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gdGV4dHVyZVxuICAgICAqIEBwYXJhbSB7UElYSS5HTFRleHR1cmV9IGdsVGV4dHVyZVxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSB3aGV0aGVyIHRleHR1cmUgd2FzIHVwbG9hZGVkXG4gICAgICovXG4gICAgQXJyYXlSZXNvdXJjZS5wcm90b3R5cGUudXBsb2FkID0gZnVuY3Rpb24gdXBsb2FkIChyZW5kZXJlciwgdGV4dHVyZSwgZ2xUZXh0dXJlKVxuICAgIHtcbiAgICAgICAgdmFyIHJlZiA9IHRoaXM7XG4gICAgICAgIHZhciBsZW5ndGggPSByZWYubGVuZ3RoO1xuICAgICAgICB2YXIgaXRlbURpcnR5SWRzID0gcmVmLml0ZW1EaXJ0eUlkcztcbiAgICAgICAgdmFyIGl0ZW1zID0gcmVmLml0ZW1zO1xuICAgICAgICB2YXIgZ2wgPSByZW5kZXJlci5nbDtcblxuICAgICAgICBpZiAoZ2xUZXh0dXJlLmRpcnR5SWQgPCAwKVxuICAgICAgICB7XG4gICAgICAgICAgICBnbC50ZXhJbWFnZTNEKFxuICAgICAgICAgICAgICAgIGdsLlRFWFRVUkVfMkRfQVJSQVksXG4gICAgICAgICAgICAgICAgMCxcbiAgICAgICAgICAgICAgICB0ZXh0dXJlLmZvcm1hdCxcbiAgICAgICAgICAgICAgICB0aGlzLl93aWR0aCxcbiAgICAgICAgICAgICAgICB0aGlzLl9oZWlnaHQsXG4gICAgICAgICAgICAgICAgbGVuZ3RoLFxuICAgICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAgICAgdGV4dHVyZS5mb3JtYXQsXG4gICAgICAgICAgICAgICAgdGV4dHVyZS50eXBlLFxuICAgICAgICAgICAgICAgIG51bGxcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgaXRlbSA9IGl0ZW1zW2ldO1xuXG4gICAgICAgICAgICBpZiAoaXRlbURpcnR5SWRzW2ldIDwgaXRlbS5kaXJ0eUlkKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGl0ZW1EaXJ0eUlkc1tpXSA9IGl0ZW0uZGlydHlJZDtcbiAgICAgICAgICAgICAgICBpZiAoaXRlbS52YWxpZClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGdsLnRleFN1YkltYWdlM0QoXG4gICAgICAgICAgICAgICAgICAgICAgICBnbC5URVhUVVJFXzJEX0FSUkFZLFxuICAgICAgICAgICAgICAgICAgICAgICAgMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIDAsIC8vIHhvZmZzZXRcbiAgICAgICAgICAgICAgICAgICAgICAgIDAsIC8vIHlvZmZzZXRcbiAgICAgICAgICAgICAgICAgICAgICAgIGksIC8vIHpvZmZzZXRcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0ucmVzb3VyY2Uud2lkdGgsXG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtLnJlc291cmNlLmhlaWdodCxcbiAgICAgICAgICAgICAgICAgICAgICAgIDEsXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0dXJlLmZvcm1hdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHR1cmUudHlwZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0ucmVzb3VyY2Uuc291cmNlXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcblxuICAgIHJldHVybiBBcnJheVJlc291cmNlO1xufShSZXNvdXJjZSkpO1xuXG4vKipcbiAqIEBpbnRlcmZhY2UgT2Zmc2NyZWVuQ2FudmFzXG4gKi9cblxuLyoqXG4gKiBSZXNvdXJjZSB0eXBlIGZvciBIVE1MQ2FudmFzRWxlbWVudC5cbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5yZXNvdXJjZXMuQmFzZUltYWdlUmVzb3VyY2VcbiAqIEBtZW1iZXJvZiBQSVhJLnJlc291cmNlc1xuICogQHBhcmFtIHtIVE1MQ2FudmFzRWxlbWVudH0gc291cmNlIC0gQ2FudmFzIGVsZW1lbnQgdG8gdXNlXG4gKi9cbnZhciBDYW52YXNSZXNvdXJjZSA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKEJhc2VJbWFnZVJlc291cmNlKSB7XG4gICAgZnVuY3Rpb24gQ2FudmFzUmVzb3VyY2UgKCkge1xuICAgICAgICBCYXNlSW1hZ2VSZXNvdXJjZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH1cblxuICAgIGlmICggQmFzZUltYWdlUmVzb3VyY2UgKSBDYW52YXNSZXNvdXJjZS5fX3Byb3RvX18gPSBCYXNlSW1hZ2VSZXNvdXJjZTtcbiAgICBDYW52YXNSZXNvdXJjZS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBCYXNlSW1hZ2VSZXNvdXJjZSAmJiBCYXNlSW1hZ2VSZXNvdXJjZS5wcm90b3R5cGUgKTtcbiAgICBDYW52YXNSZXNvdXJjZS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBDYW52YXNSZXNvdXJjZTtcblxuICAgIENhbnZhc1Jlc291cmNlLnRlc3QgPSBmdW5jdGlvbiB0ZXN0IChzb3VyY2UpXG4gICAge1xuICAgICAgICB2YXIgT2Zmc2NyZWVuQ2FudmFzID0gd2luZG93Lk9mZnNjcmVlbkNhbnZhcztcblxuICAgICAgICAvLyBDaGVjayBmb3IgYnJvd3NlcnMgdGhhdCBkb24ndCB5ZXQgc3VwcG9ydCBPZmZzY3JlZW5DYW52YXNcbiAgICAgICAgaWYgKE9mZnNjcmVlbkNhbnZhcyAmJiBzb3VyY2UgaW5zdGFuY2VvZiBPZmZzY3JlZW5DYW52YXMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHNvdXJjZSBpbnN0YW5jZW9mIEhUTUxDYW52YXNFbGVtZW50O1xuICAgIH07XG5cbiAgICByZXR1cm4gQ2FudmFzUmVzb3VyY2U7XG59KEJhc2VJbWFnZVJlc291cmNlKSk7XG5cbi8qKlxuICogUmVzb3VyY2UgZm9yIGEgQ3ViZVRleHR1cmUgd2hpY2ggY29udGFpbnMgc2l4IHJlc291cmNlcy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkucmVzb3VyY2VzLkFycmF5UmVzb3VyY2VcbiAqIEBtZW1iZXJvZiBQSVhJLnJlc291cmNlc1xuICogQHBhcmFtIHtBcnJheTxzdHJpbmd8UElYSS5yZXNvdXJjZXMuUmVzb3VyY2U+fSBbc291cmNlXSBDb2xsZWN0aW9uIG9mIFVSTHMgb3IgcmVzb3VyY2VzXG4gKiAgICAgICAgdG8gdXNlIGFzIHRoZSBzaWRlcyBvZiB0aGUgY3ViZS5cbiAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gLSBJbWFnZVJlc291cmNlIG9wdGlvbnNcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy53aWR0aF0gLSBXaWR0aCBvZiByZXNvdXJjZVxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmhlaWdodF0gLSBIZWlnaHQgb2YgcmVzb3VyY2VcbiAqL1xudmFyIEN1YmVSZXNvdXJjZSA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKEFycmF5UmVzb3VyY2UpIHtcbiAgICBmdW5jdGlvbiBDdWJlUmVzb3VyY2Uoc291cmNlLCBvcHRpb25zKVxuICAgIHtcbiAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgICAgICAgQXJyYXlSZXNvdXJjZS5jYWxsKHRoaXMsIHNvdXJjZSwgb3B0aW9ucyk7XG5cbiAgICAgICAgaWYgKHRoaXMubGVuZ3RoICE9PSBDdWJlUmVzb3VyY2UuU0lERVMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigoXCJJbnZhbGlkIGxlbmd0aC4gR290IFwiICsgKHRoaXMubGVuZ3RoKSArIFwiLCBleHBlY3RlZCA2XCIpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgQ3ViZVJlc291cmNlLlNJREVTOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuaXRlbXNbaV0udGFyZ2V0ID0gVEFSR0VUUy5URVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1ggKyBpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG9wdGlvbnMuYXV0b0xvYWQgIT09IGZhbHNlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmxvYWQoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmICggQXJyYXlSZXNvdXJjZSApIEN1YmVSZXNvdXJjZS5fX3Byb3RvX18gPSBBcnJheVJlc291cmNlO1xuICAgIEN1YmVSZXNvdXJjZS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBBcnJheVJlc291cmNlICYmIEFycmF5UmVzb3VyY2UucHJvdG90eXBlICk7XG4gICAgQ3ViZVJlc291cmNlLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEN1YmVSZXNvdXJjZTtcblxuICAgIC8qKlxuICAgICAqIEFkZCBiaW5kaW5nXG4gICAgICpcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IGJhc2VUZXh0dXJlIC0gcGFyZW50IGJhc2UgdGV4dHVyZVxuICAgICAqL1xuICAgIEN1YmVSZXNvdXJjZS5wcm90b3R5cGUuYmluZCA9IGZ1bmN0aW9uIGJpbmQgKGJhc2VUZXh0dXJlKVxuICAgIHtcbiAgICAgICAgQXJyYXlSZXNvdXJjZS5wcm90b3R5cGUuYmluZC5jYWxsKHRoaXMsIGJhc2VUZXh0dXJlKTtcblxuICAgICAgICBiYXNlVGV4dHVyZS50YXJnZXQgPSBUQVJHRVRTLlRFWFRVUkVfQ1VCRV9NQVA7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFVwbG9hZCB0aGUgcmVzb3VyY2VcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSB0cnVlIGlzIHN1Y2Nlc3NcbiAgICAgKi9cbiAgICBDdWJlUmVzb3VyY2UucHJvdG90eXBlLnVwbG9hZCA9IGZ1bmN0aW9uIHVwbG9hZCAocmVuZGVyZXIsIGJhc2VUZXh0dXJlLCBnbFRleHR1cmUpXG4gICAge1xuICAgICAgICB2YXIgZGlydHkgPSB0aGlzLml0ZW1EaXJ0eUlkcztcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IEN1YmVSZXNvdXJjZS5TSURFUzsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgc2lkZSA9IHRoaXMuaXRlbXNbaV07XG5cbiAgICAgICAgICAgIGlmIChkaXJ0eVtpXSA8IHNpZGUuZGlydHlJZClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkaXJ0eVtpXSA9IHNpZGUuZGlydHlJZDtcbiAgICAgICAgICAgICAgICBpZiAoc2lkZS52YWxpZClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHNpZGUucmVzb3VyY2UudXBsb2FkKHJlbmRlcmVyLCBzaWRlLCBnbFRleHR1cmUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG5cbiAgICByZXR1cm4gQ3ViZVJlc291cmNlO1xufShBcnJheVJlc291cmNlKSk7XG5cbi8qKlxuICogTnVtYmVyIG9mIHRleHR1cmUgc2lkZXMgdG8gc3RvcmUgZm9yIEN1YmVSZXNvdXJjZXNcbiAqXG4gKiBAbmFtZSBQSVhJLnJlc291cmNlcy5DdWJlUmVzb3VyY2UuU0lERVNcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXIge251bWJlcn1cbiAqIEBkZWZhdWx0IDZcbiAqL1xuQ3ViZVJlc291cmNlLlNJREVTID0gNjtcblxuLyoqXG4gKiBSZXNvdXJjZSB0eXBlIGZvciBTVkcgZWxlbWVudHMgYW5kIGdyYXBoaWNzLlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLnJlc291cmNlcy5CYXNlSW1hZ2VSZXNvdXJjZVxuICogQG1lbWJlcm9mIFBJWEkucmVzb3VyY2VzXG4gKiBAcGFyYW0ge3N0cmluZ30gc291cmNlIC0gQmFzZTY0IGVuY29kZWQgU1ZHIGVsZW1lbnQgb3IgVVJMIGZvciBTVkcgZmlsZS5cbiAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gLSBPcHRpb25zIHRvIHVzZVxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnNjYWxlPTFdIFNjYWxlIHRvIGFwcGx5IHRvIFNWRy4gT3ZlcnJpZGRlbiBieS4uLlxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLndpZHRoXSBSYXN0ZXJpemUgU1ZHIHRoaXMgd2lkZS4gQXNwZWN0IHJhdGlvIHByZXNlcnZlZCBpZiBoZWlnaHQgbm90IHNwZWNpZmllZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5oZWlnaHRdIFJhc3Rlcml6ZSBTVkcgdGhpcyBoaWdoLiBBc3BlY3QgcmF0aW8gcHJlc2VydmVkIGlmIHdpZHRoIG5vdCBzcGVjaWZpZWQuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmF1dG9Mb2FkPXRydWVdIFN0YXJ0IGxvYWRpbmcgcmlnaHQgYXdheS5cbiAqL1xudmFyIFNWR1Jlc291cmNlID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoQmFzZUltYWdlUmVzb3VyY2UpIHtcbiAgICBmdW5jdGlvbiBTVkdSZXNvdXJjZShzb3VyY2UsIG9wdGlvbnMpXG4gICAge1xuICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuICAgICAgICBCYXNlSW1hZ2VSZXNvdXJjZS5jYWxsKHRoaXMsIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpKTtcbiAgICAgICAgdGhpcy5fd2lkdGggPSAwO1xuICAgICAgICB0aGlzLl9oZWlnaHQgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBCYXNlNjQgZW5jb2RlZCBTVkcgZWxlbWVudCBvciBVUkwgZm9yIFNWRyBmaWxlXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnN2ZyA9IHNvdXJjZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHNvdXJjZSBzY2FsZSB0byBhcHBseSB3aGVuIHJhc3Rlcml6aW5nIG9uIGxvYWRcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc2NhbGUgPSBvcHRpb25zLnNjYWxlIHx8IDE7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgd2lkdGggb3ZlcnJpZGUgZm9yIHJhc3Rlcml6YXRpb24gb24gbG9hZFxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fb3ZlcnJpZGVXaWR0aCA9IG9wdGlvbnMud2lkdGg7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgaGVpZ2h0IG92ZXJyaWRlIGZvciByYXN0ZXJpemF0aW9uIG9uIGxvYWRcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX292ZXJyaWRlSGVpZ2h0ID0gb3B0aW9ucy5oZWlnaHQ7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIENhbGwgd2hlbiBjb21wbGV0ZWx5IGxvYWRlZFxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtmdW5jdGlvbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3Jlc29sdmUgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDcm9zcyBvcmlnaW4gdmFsdWUgdG8gdXNlXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW58c3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fY3Jvc3NvcmlnaW4gPSBvcHRpb25zLmNyb3Nzb3JpZ2luO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcm9taXNlIHdoZW4gbG9hZGluZ1xuICAgICAgICAgKiBAbWVtYmVyIHtQcm9taXNlPHZvaWQ+fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAZGVmYXVsdCBudWxsXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9sb2FkID0gbnVsbDtcblxuICAgICAgICBpZiAob3B0aW9ucy5hdXRvTG9hZCAhPT0gZmFsc2UpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMubG9hZCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYgKCBCYXNlSW1hZ2VSZXNvdXJjZSApIFNWR1Jlc291cmNlLl9fcHJvdG9fXyA9IEJhc2VJbWFnZVJlc291cmNlO1xuICAgIFNWR1Jlc291cmNlLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIEJhc2VJbWFnZVJlc291cmNlICYmIEJhc2VJbWFnZVJlc291cmNlLnByb3RvdHlwZSApO1xuICAgIFNWR1Jlc291cmNlLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFNWR1Jlc291cmNlO1xuXG4gICAgU1ZHUmVzb3VyY2UucHJvdG90eXBlLmxvYWQgPSBmdW5jdGlvbiBsb2FkICgpXG4gICAge1xuICAgICAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICAgICAgICBpZiAodGhpcy5fbG9hZClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2xvYWQ7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9sb2FkID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHtcbiAgICAgICAgICAgIC8vIFNhdmUgdGhpcyB1bnRpbCBhZnRlciBsb2FkIGlzIGZpbmlzaGVkXG4gICAgICAgICAgICB0aGlzJDEuX3Jlc29sdmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdGhpcyQxLnJlc2l6ZSh0aGlzJDEuc291cmNlLndpZHRoLCB0aGlzJDEuc291cmNlLmhlaWdodCk7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSh0aGlzJDEpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgLy8gQ29udmVydCBTVkcgaW5saW5lIHN0cmluZyB0byBkYXRhLXVyaVxuICAgICAgICAgICAgaWYgKCgvXlxcPHN2Zy8pLnRlc3QodGhpcyQxLnN2Zy50cmltKCkpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmICghYnRvYSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignWW91ciBicm93c2VyIGRvZXNuXFwndCBzdXBwb3J0IGJhc2U2NCBjb252ZXJzaW9ucy4nKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcyQxLnN2ZyA9IFwiZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCxcIiArIChidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudCh0aGlzJDEuc3ZnKSkpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcyQxLl9sb2FkU3ZnKCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiB0aGlzLl9sb2FkO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBMb2FkcyBhbiBTVkcgaW1hZ2UgZnJvbSBgaW1hZ2VVcmxgIG9yIGBkYXRhIFVSTGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFNWR1Jlc291cmNlLnByb3RvdHlwZS5fbG9hZFN2ZyA9IGZ1bmN0aW9uIF9sb2FkU3ZnICgpXG4gICAge1xuICAgICAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICAgICAgICB2YXIgdGVtcEltYWdlID0gbmV3IEltYWdlKCk7XG5cbiAgICAgICAgQmFzZUltYWdlUmVzb3VyY2UuY3Jvc3NPcmlnaW4odGVtcEltYWdlLCB0aGlzLnN2ZywgdGhpcy5fY3Jvc3NvcmlnaW4pO1xuICAgICAgICB0ZW1wSW1hZ2Uuc3JjID0gdGhpcy5zdmc7XG5cbiAgICAgICAgdGVtcEltYWdlLm9uZXJyb3IgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgIHRlbXBJbWFnZS5vbmVycm9yID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMkMS5vbkVycm9yLnJ1bihldmVudCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgdGVtcEltYWdlLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBzdmdXaWR0aCA9IHRlbXBJbWFnZS53aWR0aDtcbiAgICAgICAgICAgIHZhciBzdmdIZWlnaHQgPSB0ZW1wSW1hZ2UuaGVpZ2h0O1xuXG4gICAgICAgICAgICBpZiAoIXN2Z1dpZHRoIHx8ICFzdmdIZWlnaHQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGUgU1ZHIGltYWdlIG11c3QgaGF2ZSB3aWR0aCBhbmQgaGVpZ2h0IGRlZmluZWQgKGluIHBpeGVscyksIGNhbnZhcyBBUEkgbmVlZHMgdGhlbS4nKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gU2V0IHJlbmRlciBzaXplXG4gICAgICAgICAgICB2YXIgd2lkdGggPSBzdmdXaWR0aCAqIHRoaXMkMS5zY2FsZTtcbiAgICAgICAgICAgIHZhciBoZWlnaHQgPSBzdmdIZWlnaHQgKiB0aGlzJDEuc2NhbGU7XG5cbiAgICAgICAgICAgIGlmICh0aGlzJDEuX292ZXJyaWRlV2lkdGggfHwgdGhpcyQxLl9vdmVycmlkZUhlaWdodClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB3aWR0aCA9IHRoaXMkMS5fb3ZlcnJpZGVXaWR0aCB8fCB0aGlzJDEuX292ZXJyaWRlSGVpZ2h0IC8gc3ZnSGVpZ2h0ICogc3ZnV2lkdGg7XG4gICAgICAgICAgICAgICAgaGVpZ2h0ID0gdGhpcyQxLl9vdmVycmlkZUhlaWdodCB8fCB0aGlzJDEuX292ZXJyaWRlV2lkdGggLyBzdmdXaWR0aCAqIHN2Z0hlaWdodDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHdpZHRoID0gTWF0aC5yb3VuZCh3aWR0aCk7XG4gICAgICAgICAgICBoZWlnaHQgPSBNYXRoLnJvdW5kKGhlaWdodCk7XG5cbiAgICAgICAgICAgIC8vIENyZWF0ZSBhIGNhbnZhcyBlbGVtZW50XG4gICAgICAgICAgICB2YXIgY2FudmFzID0gdGhpcyQxLnNvdXJjZTtcblxuICAgICAgICAgICAgY2FudmFzLndpZHRoID0gd2lkdGg7XG4gICAgICAgICAgICBjYW52YXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICAgICAgY2FudmFzLl9waXhpSWQgPSBcImNhbnZhc19cIiArICh1aWQoKSk7XG5cbiAgICAgICAgICAgIC8vIERyYXcgdGhlIFN2ZyB0byB0aGUgY2FudmFzXG4gICAgICAgICAgICBjYW52YXNcbiAgICAgICAgICAgICAgICAuZ2V0Q29udGV4dCgnMmQnKVxuICAgICAgICAgICAgICAgIC5kcmF3SW1hZ2UodGVtcEltYWdlLCAwLCAwLCBzdmdXaWR0aCwgc3ZnSGVpZ2h0LCAwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcblxuICAgICAgICAgICAgdGhpcyQxLl9yZXNvbHZlKCk7XG4gICAgICAgICAgICB0aGlzJDEuX3Jlc29sdmUgPSBudWxsO1xuICAgICAgICB9O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBHZXQgc2l6ZSBmcm9tIGFuIHN2ZyBzdHJpbmcgdXNpbmcgcmVnZXhwLlxuICAgICAqXG4gICAgICogQG1ldGhvZFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzdmdTdHJpbmcgLSBhIHNlcmlhbGl6ZWQgc3ZnIGVsZW1lbnRcbiAgICAgKiBAcmV0dXJuIHtQSVhJLklTaXplfSBpbWFnZSBleHRlbnNpb25cbiAgICAgKi9cbiAgICBTVkdSZXNvdXJjZS5nZXRTaXplID0gZnVuY3Rpb24gZ2V0U2l6ZSAoc3ZnU3RyaW5nKVxuICAgIHtcbiAgICAgICAgdmFyIHNpemVNYXRjaCA9IFNWR1Jlc291cmNlLlNWR19TSVpFLmV4ZWMoc3ZnU3RyaW5nKTtcbiAgICAgICAgdmFyIHNpemUgPSB7fTtcblxuICAgICAgICBpZiAoc2l6ZU1hdGNoKVxuICAgICAgICB7XG4gICAgICAgICAgICBzaXplW3NpemVNYXRjaFsxXV0gPSBNYXRoLnJvdW5kKHBhcnNlRmxvYXQoc2l6ZU1hdGNoWzNdKSk7XG4gICAgICAgICAgICBzaXplW3NpemVNYXRjaFs1XV0gPSBNYXRoLnJvdW5kKHBhcnNlRmxvYXQoc2l6ZU1hdGNoWzddKSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc2l6ZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhpcyB0ZXh0dXJlXG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgU1ZHUmVzb3VyY2UucHJvdG90eXBlLmRpc3Bvc2UgPSBmdW5jdGlvbiBkaXNwb3NlICgpXG4gICAge1xuICAgICAgICBCYXNlSW1hZ2VSZXNvdXJjZS5wcm90b3R5cGUuZGlzcG9zZS5jYWxsKHRoaXMpO1xuICAgICAgICB0aGlzLl9yZXNvbHZlID0gbnVsbDtcbiAgICAgICAgdGhpcy5fY3Jvc3NvcmlnaW4gPSBudWxsO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVc2VkIHRvIGF1dG8tZGV0ZWN0IHRoZSB0eXBlIG9mIHJlc291cmNlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7Kn0gc291cmNlIC0gVGhlIHNvdXJjZSBvYmplY3RcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXh0ZW5zaW9uIC0gVGhlIGV4dGVuc2lvbiBvZiBzb3VyY2UsIGlmIHNldFxuICAgICAqL1xuICAgIFNWR1Jlc291cmNlLnRlc3QgPSBmdW5jdGlvbiB0ZXN0IChzb3VyY2UsIGV4dGVuc2lvbilcbiAgICB7XG4gICAgICAgIC8vIHVybCBmaWxlIGV4dGVuc2lvbiBpcyBTVkdcbiAgICAgICAgcmV0dXJuIGV4dGVuc2lvbiA9PT0gJ3N2ZydcbiAgICAgICAgICAgIC8vIHNvdXJjZSBpcyBTVkcgZGF0YS11cmlcbiAgICAgICAgICAgIHx8ICh0eXBlb2Ygc291cmNlID09PSAnc3RyaW5nJyAmJiBzb3VyY2UuaW5kZXhPZignZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCcpID09PSAwKVxuICAgICAgICAgICAgLy8gc291cmNlIGlzIFNWRyBpbmxpbmVcbiAgICAgICAgICAgIHx8ICh0eXBlb2Ygc291cmNlID09PSAnc3RyaW5nJyAmJiBzb3VyY2UuaW5kZXhPZignPHN2ZycpID09PSAwKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIFNWR1Jlc291cmNlO1xufShCYXNlSW1hZ2VSZXNvdXJjZSkpO1xuXG4vKipcbiAqIFJlZ0V4cCBmb3IgU1ZHIHNpemUuXG4gKlxuICogQHN0YXRpY1xuICogQGNvbnN0YW50IHtSZWdFeHB8c3RyaW5nfSBTVkdfU0laRVxuICogQG1lbWJlcm9mIFBJWEkucmVzb3VyY2VzLlNWR1Jlc291cmNlXG4gKiBAZXhhbXBsZSAmbHQ7c3ZnIHdpZHRoPVwiMTAwXCIgaGVpZ2h0PVwiMTAwXCImZ3Q7Jmx0Oy9zdmcmZ3Q7XG4gKi9cblNWR1Jlc291cmNlLlNWR19TSVpFID0gLzxzdmdbXj5dKig/Olxccyh3aWR0aHxoZWlnaHQpPSgnfFwiKShcXGQqKD86XFwuXFxkKyk/KSg/OnB4KT8oJ3xcIikpW14+XSooPzpcXHMod2lkdGh8aGVpZ2h0KT0oJ3xcIikoXFxkKig/OlxcLlxcZCspPykoPzpweCk/KCd8XCIpKVtePl0qPi9pOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG1heC1sZW5cblxuLyoqXG4gKiBSZXNvdXJjZSB0eXBlIGZvciBIVE1MVmlkZW9FbGVtZW50LlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLnJlc291cmNlcy5CYXNlSW1hZ2VSZXNvdXJjZVxuICogQG1lbWJlcm9mIFBJWEkucmVzb3VyY2VzXG4gKiBAcGFyYW0ge0hUTUxWaWRlb0VsZW1lbnR8b2JqZWN0fHN0cmluZ3xBcnJheTxzdHJpbmd8b2JqZWN0Pn0gc291cmNlIC0gVmlkZW8gZWxlbWVudCB0byB1c2UuXG4gKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIC0gT3B0aW9ucyB0byB1c2VcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYXV0b0xvYWQ9dHJ1ZV0gLSBTdGFydCBsb2FkaW5nIHRoZSB2aWRlbyBpbW1lZGlhdGVseVxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5hdXRvUGxheT10cnVlXSAtIFN0YXJ0IHBsYXlpbmcgdmlkZW8gaW1tZWRpYXRlbHlcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy51cGRhdGVGUFM9MF0gLSBIb3cgbWFueSB0aW1lcyBhIHNlY29uZCB0byB1cGRhdGUgdGhlIHRleHR1cmUgZnJvbSB0aGUgdmlkZW8uXG4gKiBMZWF2ZSBhdCAwIHRvIHVwZGF0ZSBhdCBldmVyeSByZW5kZXIuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNyb3Nzb3JpZ2luPXRydWVdIC0gTG9hZCBpbWFnZSB1c2luZyBjcm9zcyBvcmlnaW5cbiAqL1xudmFyIFZpZGVvUmVzb3VyY2UgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChCYXNlSW1hZ2VSZXNvdXJjZSkge1xuICAgIGZ1bmN0aW9uIFZpZGVvUmVzb3VyY2Uoc291cmNlLCBvcHRpb25zKVxuICAgIHtcbiAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgICAgICAgaWYgKCEoc291cmNlIGluc3RhbmNlb2YgSFRNTFZpZGVvRWxlbWVudCkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciB2aWRlb0VsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd2aWRlbycpO1xuXG4gICAgICAgICAgICAvLyB3b3JrYXJvdW5kIGZvciBodHRwczovL2dpdGh1Yi5jb20vcGl4aWpzL3BpeGkuanMvaXNzdWVzLzU5OTZcbiAgICAgICAgICAgIHZpZGVvRWxlbWVudC5zZXRBdHRyaWJ1dGUoJ3ByZWxvYWQnLCAnYXV0bycpO1xuICAgICAgICAgICAgdmlkZW9FbGVtZW50LnNldEF0dHJpYnV0ZSgnd2Via2l0LXBsYXlzaW5saW5lJywgJycpO1xuICAgICAgICAgICAgdmlkZW9FbGVtZW50LnNldEF0dHJpYnV0ZSgncGxheXNpbmxpbmUnLCAnJyk7XG5cbiAgICAgICAgICAgIGlmICh0eXBlb2Ygc291cmNlID09PSAnc3RyaW5nJylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzb3VyY2UgPSBbc291cmNlXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgQmFzZUltYWdlUmVzb3VyY2UuY3Jvc3NPcmlnaW4odmlkZW9FbGVtZW50LCAoc291cmNlWzBdLnNyYyB8fCBzb3VyY2VbMF0pLCBvcHRpb25zLmNyb3Nzb3JpZ2luKTtcblxuICAgICAgICAgICAgLy8gYXJyYXkgb2Ygb2JqZWN0cyBvciBzdHJpbmdzXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNvdXJjZS5sZW5ndGg7ICsraSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB2YXIgc291cmNlRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NvdXJjZScpO1xuXG4gICAgICAgICAgICAgICAgdmFyIHJlZiA9IHNvdXJjZVtpXTtcbiAgICAgICAgICAgICAgICB2YXIgc3JjID0gcmVmLnNyYztcbiAgICAgICAgICAgICAgICB2YXIgbWltZSA9IHJlZi5taW1lO1xuXG4gICAgICAgICAgICAgICAgc3JjID0gc3JjIHx8IHNvdXJjZVtpXTtcblxuICAgICAgICAgICAgICAgIHZhciBiYXNlU3JjID0gc3JjLnNwbGl0KCc/Jykuc2hpZnQoKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgICAgIHZhciBleHQgPSBiYXNlU3JjLnN1YnN0cihiYXNlU3JjLmxhc3RJbmRleE9mKCcuJykgKyAxKTtcblxuICAgICAgICAgICAgICAgIG1pbWUgPSBtaW1lIHx8IChcInZpZGVvL1wiICsgZXh0KTtcblxuICAgICAgICAgICAgICAgIHNvdXJjZUVsZW1lbnQuc3JjID0gc3JjO1xuICAgICAgICAgICAgICAgIHNvdXJjZUVsZW1lbnQudHlwZSA9IG1pbWU7XG5cbiAgICAgICAgICAgICAgICB2aWRlb0VsZW1lbnQuYXBwZW5kQ2hpbGQoc291cmNlRWxlbWVudCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIE92ZXJyaWRlIHRoZSBzb3VyY2VcbiAgICAgICAgICAgIHNvdXJjZSA9IHZpZGVvRWxlbWVudDtcbiAgICAgICAgfVxuXG4gICAgICAgIEJhc2VJbWFnZVJlc291cmNlLmNhbGwodGhpcywgc291cmNlKTtcblxuICAgICAgICB0aGlzLm5vU3ViSW1hZ2UgPSB0cnVlO1xuICAgICAgICB0aGlzLl9hdXRvVXBkYXRlID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5faXNBdXRvVXBkYXRpbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fdXBkYXRlRlBTID0gb3B0aW9ucy51cGRhdGVGUFMgfHwgMDtcbiAgICAgICAgdGhpcy5fbXNUb05leHRVcGRhdGUgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGVuIHNldCB0byB0cnVlIHdpbGwgYXV0b21hdGljYWxseSBwbGF5IHZpZGVvcyB1c2VkIGJ5IHRoaXMgdGV4dHVyZSBvbmNlXG4gICAgICAgICAqIHRoZXkgYXJlIGxvYWRlZC4gSWYgZmFsc2UsIGl0IHdpbGwgbm90IG1vZGlmeSB0aGUgcGxheWluZyBzdGF0ZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgdHJ1ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5hdXRvUGxheSA9IG9wdGlvbnMuYXV0b1BsYXkgIT09IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcm9taXNlIHdoZW4gbG9hZGluZ1xuICAgICAgICAgKiBAbWVtYmVyIHtQcm9taXNlPHZvaWQ+fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAZGVmYXVsdCBudWxsXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9sb2FkID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ2FsbGJhY2sgd2hlbiBjb21wbGV0ZWQgd2l0aCBsb2FkLlxuICAgICAgICAgKiBAbWVtYmVyIHtmdW5jdGlvbn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3Jlc29sdmUgPSBudWxsO1xuXG4gICAgICAgIC8vIEJpbmQgZm9yIGxpc3RlbmVyc1xuICAgICAgICB0aGlzLl9vbkNhblBsYXkgPSB0aGlzLl9vbkNhblBsYXkuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5fb25FcnJvciA9IHRoaXMuX29uRXJyb3IuYmluZCh0aGlzKTtcblxuICAgICAgICBpZiAob3B0aW9ucy5hdXRvTG9hZCAhPT0gZmFsc2UpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMubG9hZCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYgKCBCYXNlSW1hZ2VSZXNvdXJjZSApIFZpZGVvUmVzb3VyY2UuX19wcm90b19fID0gQmFzZUltYWdlUmVzb3VyY2U7XG4gICAgVmlkZW9SZXNvdXJjZS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBCYXNlSW1hZ2VSZXNvdXJjZSAmJiBCYXNlSW1hZ2VSZXNvdXJjZS5wcm90b3R5cGUgKTtcbiAgICBWaWRlb1Jlc291cmNlLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFZpZGVvUmVzb3VyY2U7XG5cbiAgICB2YXIgcHJvdG90eXBlQWNjZXNzb3JzID0geyBhdXRvVXBkYXRlOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LHVwZGF0ZUZQUzogeyBjb25maWd1cmFibGU6IHRydWUgfSB9O1xuXG4gICAgLyoqXG4gICAgICogVHJpZ2dlciB1cGRhdGluZyBvZiB0aGUgdGV4dHVyZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtkZWx0YVRpbWU9MF0gLSB0aW1lIGRlbHRhIHNpbmNlIGxhc3QgdGlja1xuICAgICAqL1xuICAgIFZpZGVvUmVzb3VyY2UucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIHVwZGF0ZSAoZGVsdGFUaW1lKVxuICAgIHtcbiAgICAgICAgaWYgKCBkZWx0YVRpbWUgPT09IHZvaWQgMCApIGRlbHRhVGltZSA9IDA7XG5cbiAgICAgICAgaWYgKCF0aGlzLmRlc3Ryb3llZClcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gYWNjb3VudCBmb3IgaWYgdmlkZW8gaGFzIGhhZCBpdHMgcGxheWJhY2tSYXRlIGNoYW5nZWRcbiAgICAgICAgICAgIHZhciBlbGFwc2VkTVMgPSBUaWNrZXIuc2hhcmVkLmVsYXBzZWRNUyAqIHRoaXMuc291cmNlLnBsYXliYWNrUmF0ZTtcblxuICAgICAgICAgICAgdGhpcy5fbXNUb05leHRVcGRhdGUgPSBNYXRoLmZsb29yKHRoaXMuX21zVG9OZXh0VXBkYXRlIC0gZWxhcHNlZE1TKTtcbiAgICAgICAgICAgIGlmICghdGhpcy5fdXBkYXRlRlBTIHx8IHRoaXMuX21zVG9OZXh0VXBkYXRlIDw9IDApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgQmFzZUltYWdlUmVzb3VyY2UucHJvdG90eXBlLnVwZGF0ZS5jYWxsKHRoaXMsIGRlbHRhVGltZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5fbXNUb05leHRVcGRhdGUgPSB0aGlzLl91cGRhdGVGUFMgPyBNYXRoLmZsb29yKDEwMDAgLyB0aGlzLl91cGRhdGVGUFMpIDogMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTdGFydCBwcmVsb2FkaW5nIHRoZSB2aWRlbyByZXNvdXJjZS5cbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlPHZvaWQ+fSBIYW5kbGUgdGhlIHZhbGlkYXRlIGV2ZW50XG4gICAgICovXG4gICAgVmlkZW9SZXNvdXJjZS5wcm90b3R5cGUubG9hZCA9IGZ1bmN0aW9uIGxvYWQgKClcbiAgICB7XG4gICAgICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gICAgICAgIGlmICh0aGlzLl9sb2FkKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbG9hZDtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBzb3VyY2UgPSB0aGlzLnNvdXJjZTtcblxuICAgICAgICBpZiAoKHNvdXJjZS5yZWFkeVN0YXRlID09PSBzb3VyY2UuSEFWRV9FTk9VR0hfREFUQSB8fCBzb3VyY2UucmVhZHlTdGF0ZSA9PT0gc291cmNlLkhBVkVfRlVUVVJFX0RBVEEpXG4gICAgICAgICAgICAmJiBzb3VyY2Uud2lkdGggJiYgc291cmNlLmhlaWdodClcbiAgICAgICAge1xuICAgICAgICAgICAgc291cmNlLmNvbXBsZXRlID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHNvdXJjZS5hZGRFdmVudExpc3RlbmVyKCdwbGF5JywgdGhpcy5fb25QbGF5U3RhcnQuYmluZCh0aGlzKSk7XG4gICAgICAgIHNvdXJjZS5hZGRFdmVudExpc3RlbmVyKCdwYXVzZScsIHRoaXMuX29uUGxheVN0b3AuYmluZCh0aGlzKSk7XG5cbiAgICAgICAgaWYgKCF0aGlzLl9pc1NvdXJjZVJlYWR5KCkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHNvdXJjZS5hZGRFdmVudExpc3RlbmVyKCdjYW5wbGF5JywgdGhpcy5fb25DYW5QbGF5KTtcbiAgICAgICAgICAgIHNvdXJjZS5hZGRFdmVudExpc3RlbmVyKCdjYW5wbGF5dGhyb3VnaCcsIHRoaXMuX29uQ2FuUGxheSk7XG4gICAgICAgICAgICBzb3VyY2UuYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCB0aGlzLl9vbkVycm9yLCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX29uQ2FuUGxheSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fbG9hZCA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7XG4gICAgICAgICAgICBpZiAodGhpcyQxLnZhbGlkKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJlc29sdmUodGhpcyQxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzJDEuX3Jlc29sdmUgPSByZXNvbHZlO1xuXG4gICAgICAgICAgICAgICAgc291cmNlLmxvYWQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX2xvYWQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEhhbmRsZSB2aWRlbyBlcnJvciBldmVudHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFZpZGVvUmVzb3VyY2UucHJvdG90eXBlLl9vbkVycm9yID0gZnVuY3Rpb24gX29uRXJyb3IgKClcbiAgICB7XG4gICAgICAgIHRoaXMuc291cmNlLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgdGhpcy5fb25FcnJvciwgdHJ1ZSk7XG4gICAgICAgIHRoaXMub25FcnJvci5ydW4oZXZlbnQpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIHVuZGVybHlpbmcgc291cmNlIGlzIHBsYXlpbmcuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgcGxheWluZy5cbiAgICAgKi9cbiAgICBWaWRlb1Jlc291cmNlLnByb3RvdHlwZS5faXNTb3VyY2VQbGF5aW5nID0gZnVuY3Rpb24gX2lzU291cmNlUGxheWluZyAoKVxuICAgIHtcbiAgICAgICAgdmFyIHNvdXJjZSA9IHRoaXMuc291cmNlO1xuXG4gICAgICAgIHJldHVybiAoc291cmNlLmN1cnJlbnRUaW1lID4gMCAmJiBzb3VyY2UucGF1c2VkID09PSBmYWxzZSAmJiBzb3VyY2UuZW5kZWQgPT09IGZhbHNlICYmIHNvdXJjZS5yZWFkeVN0YXRlID4gMik7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgdW5kZXJseWluZyBzb3VyY2UgaXMgcmVhZHkgZm9yIHBsYXlpbmcuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgcmVhZHkuXG4gICAgICovXG4gICAgVmlkZW9SZXNvdXJjZS5wcm90b3R5cGUuX2lzU291cmNlUmVhZHkgPSBmdW5jdGlvbiBfaXNTb3VyY2VSZWFkeSAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc291cmNlLnJlYWR5U3RhdGUgPT09IDMgfHwgdGhpcy5zb3VyY2UucmVhZHlTdGF0ZSA9PT0gNDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUnVucyB0aGUgdXBkYXRlIGxvb3Agd2hlbiB0aGUgdmlkZW8gaXMgcmVhZHkgdG8gcGxheVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBWaWRlb1Jlc291cmNlLnByb3RvdHlwZS5fb25QbGF5U3RhcnQgPSBmdW5jdGlvbiBfb25QbGF5U3RhcnQgKClcbiAgICB7XG4gICAgICAgIC8vIEp1c3QgaW4gY2FzZSB0aGUgdmlkZW8gaGFzIG5vdCByZWNlaXZlZCBpdHMgY2FuIHBsYXkgZXZlbiB5ZXQuLlxuICAgICAgICBpZiAoIXRoaXMudmFsaWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX29uQ2FuUGxheSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLl9pc0F1dG9VcGRhdGluZyAmJiB0aGlzLmF1dG9VcGRhdGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIFRpY2tlci5zaGFyZWQuYWRkKHRoaXMudXBkYXRlLCB0aGlzKTtcbiAgICAgICAgICAgIHRoaXMuX2lzQXV0b1VwZGF0aW5nID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBGaXJlZCB3aGVuIGEgcGF1c2UgZXZlbnQgaXMgdHJpZ2dlcmVkLCBzdG9wcyB0aGUgdXBkYXRlIGxvb3BcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgVmlkZW9SZXNvdXJjZS5wcm90b3R5cGUuX29uUGxheVN0b3AgPSBmdW5jdGlvbiBfb25QbGF5U3RvcCAoKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuX2lzQXV0b1VwZGF0aW5nKVxuICAgICAgICB7XG4gICAgICAgICAgICBUaWNrZXIuc2hhcmVkLnJlbW92ZSh0aGlzLnVwZGF0ZSwgdGhpcyk7XG4gICAgICAgICAgICB0aGlzLl9pc0F1dG9VcGRhdGluZyA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEZpcmVkIHdoZW4gdGhlIHZpZGVvIGlzIGxvYWRlZCBhbmQgcmVhZHkgdG8gcGxheVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBWaWRlb1Jlc291cmNlLnByb3RvdHlwZS5fb25DYW5QbGF5ID0gZnVuY3Rpb24gX29uQ2FuUGxheSAoKVxuICAgIHtcbiAgICAgICAgdmFyIHJlZiA9IHRoaXM7XG4gICAgICAgIHZhciBzb3VyY2UgPSByZWYuc291cmNlO1xuXG4gICAgICAgIHNvdXJjZS5yZW1vdmVFdmVudExpc3RlbmVyKCdjYW5wbGF5JywgdGhpcy5fb25DYW5QbGF5KTtcbiAgICAgICAgc291cmNlLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NhbnBsYXl0aHJvdWdoJywgdGhpcy5fb25DYW5QbGF5KTtcblxuICAgICAgICB2YXIgdmFsaWQgPSB0aGlzLnZhbGlkO1xuXG4gICAgICAgIHRoaXMucmVzaXplKHNvdXJjZS52aWRlb1dpZHRoLCBzb3VyY2UudmlkZW9IZWlnaHQpO1xuXG4gICAgICAgIC8vIHByZXZlbnQgbXVsdGlwbGUgbG9hZGVkIGRpc3BhdGNoZXMuLlxuICAgICAgICBpZiAoIXZhbGlkICYmIHRoaXMuX3Jlc29sdmUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX3Jlc29sdmUodGhpcyk7XG4gICAgICAgICAgICB0aGlzLl9yZXNvbHZlID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9pc1NvdXJjZVBsYXlpbmcoKSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fb25QbGF5U3RhcnQoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLmF1dG9QbGF5KVxuICAgICAgICB7XG4gICAgICAgICAgICBzb3VyY2UucGxheSgpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoaXMgdGV4dHVyZVxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIFZpZGVvUmVzb3VyY2UucHJvdG90eXBlLmRpc3Bvc2UgPSBmdW5jdGlvbiBkaXNwb3NlICgpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5faXNBdXRvVXBkYXRpbmcpXG4gICAgICAgIHtcbiAgICAgICAgICAgIFRpY2tlci5zaGFyZWQucmVtb3ZlKHRoaXMudXBkYXRlLCB0aGlzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLnNvdXJjZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5zb3VyY2UucmVtb3ZlRXZlbnRMaXN0ZW5lcignZXJyb3InLCB0aGlzLl9vbkVycm9yLCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuc291cmNlLnBhdXNlKCk7XG4gICAgICAgICAgICB0aGlzLnNvdXJjZS5zcmMgPSAnJztcbiAgICAgICAgICAgIHRoaXMuc291cmNlLmxvYWQoKTtcbiAgICAgICAgfVxuICAgICAgICBCYXNlSW1hZ2VSZXNvdXJjZS5wcm90b3R5cGUuZGlzcG9zZS5jYWxsKHRoaXMpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTaG91bGQgdGhlIGJhc2UgdGV4dHVyZSBhdXRvbWF0aWNhbGx5IHVwZGF0ZSBpdHNlbGYsIHNldCB0byB0cnVlIGJ5IGRlZmF1bHRcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICovXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLmF1dG9VcGRhdGUuZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hdXRvVXBkYXRlO1xuICAgIH07XG5cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMuYXV0b1VwZGF0ZS5zZXQgPSBmdW5jdGlvbiAodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgaWYgKHZhbHVlICE9PSB0aGlzLl9hdXRvVXBkYXRlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9hdXRvVXBkYXRlID0gdmFsdWU7XG5cbiAgICAgICAgICAgIGlmICghdGhpcy5fYXV0b1VwZGF0ZSAmJiB0aGlzLl9pc0F1dG9VcGRhdGluZylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBUaWNrZXIuc2hhcmVkLnJlbW92ZSh0aGlzLnVwZGF0ZSwgdGhpcyk7XG4gICAgICAgICAgICAgICAgdGhpcy5faXNBdXRvVXBkYXRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuX2F1dG9VcGRhdGUgJiYgIXRoaXMuX2lzQXV0b1VwZGF0aW5nKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIFRpY2tlci5zaGFyZWQuYWRkKHRoaXMudXBkYXRlLCB0aGlzKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9pc0F1dG9VcGRhdGluZyA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSG93IG1hbnkgdGltZXMgYSBzZWNvbmQgdG8gdXBkYXRlIHRoZSB0ZXh0dXJlIGZyb20gdGhlIHZpZGVvLiBMZWF2ZSBhdCAwIHRvIHVwZGF0ZSBhdCBldmVyeSByZW5kZXIuXG4gICAgICogQSBsb3dlciBmcHMgY2FuIGhlbHAgcGVyZm9ybWFuY2UsIGFzIHVwZGF0aW5nIHRoZSB0ZXh0dXJlIGF0IDYwZnBzIG9uIGEgMzBwcyB2aWRlbyBtYXkgbm90IGJlIGVmZmljaWVudC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMudXBkYXRlRlBTLmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fdXBkYXRlRlBTO1xuICAgIH07XG5cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMudXBkYXRlRlBTLnNldCA9IGZ1bmN0aW9uICh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICBpZiAodmFsdWUgIT09IHRoaXMuX3VwZGF0ZUZQUylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fdXBkYXRlRlBTID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVXNlZCB0byBhdXRvLWRldGVjdCB0aGUgdHlwZSBvZiByZXNvdXJjZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0geyp9IHNvdXJjZSAtIFRoZSBzb3VyY2Ugb2JqZWN0XG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGV4dGVuc2lvbiAtIFRoZSBleHRlbnNpb24gb2Ygc291cmNlLCBpZiBzZXRcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBgdHJ1ZWAgaWYgdmlkZW8gc291cmNlXG4gICAgICovXG4gICAgVmlkZW9SZXNvdXJjZS50ZXN0ID0gZnVuY3Rpb24gdGVzdCAoc291cmNlLCBleHRlbnNpb24pXG4gICAge1xuICAgICAgICByZXR1cm4gKHNvdXJjZSBpbnN0YW5jZW9mIEhUTUxWaWRlb0VsZW1lbnQpXG4gICAgICAgICAgICB8fCBWaWRlb1Jlc291cmNlLlRZUEVTLmluZGV4T2YoZXh0ZW5zaW9uKSA+IC0xO1xuICAgIH07XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyggVmlkZW9SZXNvdXJjZS5wcm90b3R5cGUsIHByb3RvdHlwZUFjY2Vzc29ycyApO1xuXG4gICAgcmV0dXJuIFZpZGVvUmVzb3VyY2U7XG59KEJhc2VJbWFnZVJlc291cmNlKSk7XG5cbi8qKlxuICogTGlzdCBvZiBjb21tb24gdmlkZW8gZmlsZSBleHRlbnNpb25zIHN1cHBvcnRlZCBieSBWaWRlb1Jlc291cmNlLlxuICogQGNvbnN0YW50XG4gKiBAbWVtYmVyIHtBcnJheTxzdHJpbmc+fVxuICogQHN0YXRpY1xuICogQHJlYWRvbmx5XG4gKi9cblZpZGVvUmVzb3VyY2UuVFlQRVMgPSBbJ21wNCcsICdtNHYnLCAnd2VibScsICdvZ2cnLCAnb2d2JywgJ2gyNjQnLCAnYXZpJywgJ21vdiddO1xuXG4vKipcbiAqIFJlc291cmNlIHR5cGUgZm9yIEltYWdlQml0bWFwLlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLnJlc291cmNlcy5CYXNlSW1hZ2VSZXNvdXJjZVxuICogQG1lbWJlcm9mIFBJWEkucmVzb3VyY2VzXG4gKiBAcGFyYW0ge0ltYWdlQml0bWFwfSBzb3VyY2UgLSBJbWFnZSBlbGVtZW50IHRvIHVzZVxuICovXG52YXIgSW1hZ2VCaXRtYXBSZXNvdXJjZSA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKEJhc2VJbWFnZVJlc291cmNlKSB7XG4gICAgZnVuY3Rpb24gSW1hZ2VCaXRtYXBSZXNvdXJjZSAoKSB7XG4gICAgICAgIEJhc2VJbWFnZVJlc291cmNlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfVxuXG4gICAgaWYgKCBCYXNlSW1hZ2VSZXNvdXJjZSApIEltYWdlQml0bWFwUmVzb3VyY2UuX19wcm90b19fID0gQmFzZUltYWdlUmVzb3VyY2U7XG4gICAgSW1hZ2VCaXRtYXBSZXNvdXJjZS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBCYXNlSW1hZ2VSZXNvdXJjZSAmJiBCYXNlSW1hZ2VSZXNvdXJjZS5wcm90b3R5cGUgKTtcbiAgICBJbWFnZUJpdG1hcFJlc291cmNlLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEltYWdlQml0bWFwUmVzb3VyY2U7XG5cbiAgICBJbWFnZUJpdG1hcFJlc291cmNlLnRlc3QgPSBmdW5jdGlvbiB0ZXN0IChzb3VyY2UpXG4gICAge1xuICAgICAgICByZXR1cm4gISF3aW5kb3cuY3JlYXRlSW1hZ2VCaXRtYXAgJiYgc291cmNlIGluc3RhbmNlb2YgSW1hZ2VCaXRtYXA7XG4gICAgfTtcblxuICAgIHJldHVybiBJbWFnZUJpdG1hcFJlc291cmNlO1xufShCYXNlSW1hZ2VSZXNvdXJjZSkpO1xuXG5JTlNUQUxMRUQucHVzaChcbiAgICBJbWFnZVJlc291cmNlLFxuICAgIEltYWdlQml0bWFwUmVzb3VyY2UsXG4gICAgQ2FudmFzUmVzb3VyY2UsXG4gICAgVmlkZW9SZXNvdXJjZSxcbiAgICBTVkdSZXNvdXJjZSxcbiAgICBCdWZmZXJSZXNvdXJjZSxcbiAgICBDdWJlUmVzb3VyY2UsXG4gICAgQXJyYXlSZXNvdXJjZVxuKTtcblxudmFyIGluZGV4ID0gKHtcbiAgICBJTlNUQUxMRUQ6IElOU1RBTExFRCxcbiAgICBhdXRvRGV0ZWN0UmVzb3VyY2U6IGF1dG9EZXRlY3RSZXNvdXJjZSxcbiAgICBBcnJheVJlc291cmNlOiBBcnJheVJlc291cmNlLFxuICAgIEJ1ZmZlclJlc291cmNlOiBCdWZmZXJSZXNvdXJjZSxcbiAgICBDYW52YXNSZXNvdXJjZTogQ2FudmFzUmVzb3VyY2UsXG4gICAgQ3ViZVJlc291cmNlOiBDdWJlUmVzb3VyY2UsXG4gICAgSW1hZ2VSZXNvdXJjZTogSW1hZ2VSZXNvdXJjZSxcbiAgICBJbWFnZUJpdG1hcFJlc291cmNlOiBJbWFnZUJpdG1hcFJlc291cmNlLFxuICAgIFNWR1Jlc291cmNlOiBTVkdSZXNvdXJjZSxcbiAgICBWaWRlb1Jlc291cmNlOiBWaWRlb1Jlc291cmNlLFxuICAgIFJlc291cmNlOiBSZXNvdXJjZSxcbiAgICBCYXNlSW1hZ2VSZXNvdXJjZTogQmFzZUltYWdlUmVzb3VyY2Vcbn0pO1xuXG4vKipcbiAqIFN5c3RlbSBpcyBhIGJhc2UgY2xhc3MgdXNlZCBmb3IgZXh0ZW5kaW5nIHN5c3RlbXMgdXNlZCBieSB0aGUge0BsaW5rIFBJWEkuUmVuZGVyZXJ9XG4gKlxuICogQHNlZSBQSVhJLlJlbmRlcmVyI2FkZFN5c3RlbVxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgU3lzdGVtID0gZnVuY3Rpb24gU3lzdGVtKHJlbmRlcmVyKVxue1xuICAgIC8qKlxuICAgICAqIFRoZSByZW5kZXJlciB0aGlzIG1hbmFnZXIgd29ya3MgZm9yLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5SZW5kZXJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnJlbmRlcmVyID0gcmVuZGVyZXI7XG59O1xuXG4vKipcbiAqIEdlbmVyaWMgZGVzdHJveSBtZXRob2RzIHRvIGJlIG92ZXJyaWRkZW4gYnkgdGhlIHN1YmNsYXNzXG4gKi9cblN5c3RlbS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3kgKClcbntcbiAgICB0aGlzLnJlbmRlcmVyID0gbnVsbDtcbn07XG5cbi8qKlxuICogUmVzb3VyY2UgdHlwZSBmb3IgRGVwdGhUZXh0dXJlLlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLnJlc291cmNlcy5CdWZmZXJSZXNvdXJjZVxuICogQG1lbWJlcm9mIFBJWEkucmVzb3VyY2VzXG4gKi9cbnZhciBEZXB0aFJlc291cmNlID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoQnVmZmVyUmVzb3VyY2UpIHtcbiAgICBmdW5jdGlvbiBEZXB0aFJlc291cmNlICgpIHtcbiAgICAgICAgQnVmZmVyUmVzb3VyY2UuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9XG5cbiAgICBpZiAoIEJ1ZmZlclJlc291cmNlICkgRGVwdGhSZXNvdXJjZS5fX3Byb3RvX18gPSBCdWZmZXJSZXNvdXJjZTtcbiAgICBEZXB0aFJlc291cmNlLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIEJ1ZmZlclJlc291cmNlICYmIEJ1ZmZlclJlc291cmNlLnByb3RvdHlwZSApO1xuICAgIERlcHRoUmVzb3VyY2UucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gRGVwdGhSZXNvdXJjZTtcblxuICAgIERlcHRoUmVzb3VyY2UucHJvdG90eXBlLnVwbG9hZCA9IGZ1bmN0aW9uIHVwbG9hZCAocmVuZGVyZXIsIGJhc2VUZXh0dXJlLCBnbFRleHR1cmUpXG4gICAge1xuICAgICAgICB2YXIgZ2wgPSByZW5kZXJlci5nbDtcblxuICAgICAgICBnbC5waXhlbFN0b3JlaShnbC5VTlBBQ0tfUFJFTVVMVElQTFlfQUxQSEFfV0VCR0wsIGJhc2VUZXh0dXJlLmFscGhhTW9kZSA9PT0gQUxQSEFfTU9ERVMuVU5QQUNLKTtcblxuICAgICAgICBpZiAoZ2xUZXh0dXJlLndpZHRoID09PSBiYXNlVGV4dHVyZS53aWR0aCAmJiBnbFRleHR1cmUuaGVpZ2h0ID09PSBiYXNlVGV4dHVyZS5oZWlnaHQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGdsLnRleFN1YkltYWdlMkQoXG4gICAgICAgICAgICAgICAgYmFzZVRleHR1cmUudGFyZ2V0LFxuICAgICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAgICAgMCxcbiAgICAgICAgICAgICAgICAwLFxuICAgICAgICAgICAgICAgIGJhc2VUZXh0dXJlLndpZHRoLFxuICAgICAgICAgICAgICAgIGJhc2VUZXh0dXJlLmhlaWdodCxcbiAgICAgICAgICAgICAgICBiYXNlVGV4dHVyZS5mb3JtYXQsXG4gICAgICAgICAgICAgICAgYmFzZVRleHR1cmUudHlwZSxcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGFcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBnbFRleHR1cmUud2lkdGggPSBiYXNlVGV4dHVyZS53aWR0aDtcbiAgICAgICAgICAgIGdsVGV4dHVyZS5oZWlnaHQgPSBiYXNlVGV4dHVyZS5oZWlnaHQ7XG5cbiAgICAgICAgICAgIGdsLnRleEltYWdlMkQoXG4gICAgICAgICAgICAgICAgYmFzZVRleHR1cmUudGFyZ2V0LFxuICAgICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAgICAgZ2wuREVQVEhfQ09NUE9ORU5UMTYsIC8vIE5lZWRlZCBmb3IgZGVwdGggdG8gcmVuZGVyIHByb3Blcmx5IGluIHdlYmdsMi4wXG4gICAgICAgICAgICAgICAgYmFzZVRleHR1cmUud2lkdGgsXG4gICAgICAgICAgICAgICAgYmFzZVRleHR1cmUuaGVpZ2h0LFxuICAgICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAgICAgYmFzZVRleHR1cmUuZm9ybWF0LFxuICAgICAgICAgICAgICAgIGJhc2VUZXh0dXJlLnR5cGUsXG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcblxuICAgIHJldHVybiBEZXB0aFJlc291cmNlO1xufShCdWZmZXJSZXNvdXJjZSkpO1xuXG4vKipcbiAqIEZyYW1lIGJ1ZmZlciB1c2VkIGJ5IHRoZSBCYXNlUmVuZGVyVGV4dHVyZVxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEZyYW1lYnVmZmVyID0gZnVuY3Rpb24gRnJhbWVidWZmZXIod2lkdGgsIGhlaWdodClcbntcbiAgICB0aGlzLndpZHRoID0gTWF0aC5jZWlsKHdpZHRoIHx8IDEwMCk7XG4gICAgdGhpcy5oZWlnaHQgPSBNYXRoLmNlaWwoaGVpZ2h0IHx8IDEwMCk7XG5cbiAgICB0aGlzLnN0ZW5jaWwgPSBmYWxzZTtcbiAgICB0aGlzLmRlcHRoID0gZmFsc2U7XG5cbiAgICB0aGlzLmRpcnR5SWQgPSAwO1xuICAgIHRoaXMuZGlydHlGb3JtYXQgPSAwO1xuICAgIHRoaXMuZGlydHlTaXplID0gMDtcblxuICAgIHRoaXMuZGVwdGhUZXh0dXJlID0gbnVsbDtcbiAgICB0aGlzLmNvbG9yVGV4dHVyZXMgPSBbXTtcblxuICAgIHRoaXMuZ2xGcmFtZWJ1ZmZlcnMgPSB7fTtcblxuICAgIHRoaXMuZGlzcG9zZVJ1bm5lciA9IG5ldyBSdW5uZXIoJ2Rpc3Bvc2VGcmFtZWJ1ZmZlcicsIDIpO1xufTtcblxudmFyIHByb3RvdHlwZUFjY2Vzc29ycyQxID0geyBjb2xvclRleHR1cmU6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0gfTtcblxuLyoqXG4gKiBSZWZlcmVuY2UgdG8gdGhlIGNvbG9yVGV4dHVyZS5cbiAqXG4gKiBAbWVtYmVyIHtQSVhJLlRleHR1cmVbXX1cbiAqIEByZWFkb25seVxuICovXG5wcm90b3R5cGVBY2Nlc3NvcnMkMS5jb2xvclRleHR1cmUuZ2V0ID0gZnVuY3Rpb24gKClcbntcbiAgICByZXR1cm4gdGhpcy5jb2xvclRleHR1cmVzWzBdO1xufTtcblxuLyoqXG4gKiBBZGQgdGV4dHVyZSB0byB0aGUgY29sb3JUZXh0dXJlIGFycmF5XG4gKlxuICogQHBhcmFtIHtudW1iZXJ9IFtpbmRleD0wXSAtIEluZGV4IG9mIHRoZSBhcnJheSB0byBhZGQgdGhlIHRleHR1cmUgdG9cbiAqIEBwYXJhbSB7UElYSS5UZXh0dXJlfSBbdGV4dHVyZV0gLSBUZXh0dXJlIHRvIGFkZCB0byB0aGUgYXJyYXlcbiAqL1xuRnJhbWVidWZmZXIucHJvdG90eXBlLmFkZENvbG9yVGV4dHVyZSA9IGZ1bmN0aW9uIGFkZENvbG9yVGV4dHVyZSAoaW5kZXgsIHRleHR1cmUpXG57XG4gICAgICAgIGlmICggaW5kZXggPT09IHZvaWQgMCApIGluZGV4ID0gMDtcblxuICAgIC8vIFRPRE8gYWRkIHNvbWUgdmFsaWRhdGlvbiB0byB0aGUgdGV4dHVyZSAtIHNhbWUgd2lkdGggLyBoZWlnaHQgZXRjP1xuICAgIHRoaXMuY29sb3JUZXh0dXJlc1tpbmRleF0gPSB0ZXh0dXJlIHx8IG5ldyBCYXNlVGV4dHVyZShudWxsLCB7IHNjYWxlTW9kZTogMCxcbiAgICAgICAgcmVzb2x1dGlvbjogMSxcbiAgICAgICAgbWlwbWFwOiBmYWxzZSxcbiAgICAgICAgd2lkdGg6IHRoaXMud2lkdGgsXG4gICAgICAgIGhlaWdodDogdGhpcy5oZWlnaHQgfSk7XG5cbiAgICB0aGlzLmRpcnR5SWQrKztcbiAgICB0aGlzLmRpcnR5Rm9ybWF0Kys7XG5cbiAgICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogQWRkIGEgZGVwdGggdGV4dHVyZSB0byB0aGUgZnJhbWUgYnVmZmVyXG4gKlxuICogQHBhcmFtIHtQSVhJLlRleHR1cmV9IFt0ZXh0dXJlXSAtIFRleHR1cmUgdG8gYWRkXG4gKi9cbkZyYW1lYnVmZmVyLnByb3RvdHlwZS5hZGREZXB0aFRleHR1cmUgPSBmdW5jdGlvbiBhZGREZXB0aFRleHR1cmUgKHRleHR1cmUpXG57XG4gICAgLyogZXNsaW50LWRpc2FibGUgbWF4LWxlbiAqL1xuICAgIHRoaXMuZGVwdGhUZXh0dXJlID0gdGV4dHVyZSB8fCBuZXcgQmFzZVRleHR1cmUobmV3IERlcHRoUmVzb3VyY2UobnVsbCwgeyB3aWR0aDogdGhpcy53aWR0aCwgaGVpZ2h0OiB0aGlzLmhlaWdodCB9KSwgeyBzY2FsZU1vZGU6IDAsXG4gICAgICAgIHJlc29sdXRpb246IDEsXG4gICAgICAgIHdpZHRoOiB0aGlzLndpZHRoLFxuICAgICAgICBoZWlnaHQ6IHRoaXMuaGVpZ2h0LFxuICAgICAgICBtaXBtYXA6IGZhbHNlLFxuICAgICAgICBmb3JtYXQ6IEZPUk1BVFMuREVQVEhfQ09NUE9ORU5ULFxuICAgICAgICB0eXBlOiBUWVBFUy5VTlNJR05FRF9TSE9SVCB9KTtcbiAgICAvKiBlc2xpbnQtZGlzYWJsZSBtYXgtbGVuICovXG4gICAgdGhpcy5kaXJ0eUlkKys7XG4gICAgdGhpcy5kaXJ0eUZvcm1hdCsrO1xuXG4gICAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIEVuYWJsZSBkZXB0aCBvbiB0aGUgZnJhbWUgYnVmZmVyXG4gKi9cbkZyYW1lYnVmZmVyLnByb3RvdHlwZS5lbmFibGVEZXB0aCA9IGZ1bmN0aW9uIGVuYWJsZURlcHRoICgpXG57XG4gICAgdGhpcy5kZXB0aCA9IHRydWU7XG5cbiAgICB0aGlzLmRpcnR5SWQrKztcbiAgICB0aGlzLmRpcnR5Rm9ybWF0Kys7XG5cbiAgICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogRW5hYmxlIHN0ZW5jaWwgb24gdGhlIGZyYW1lIGJ1ZmZlclxuICovXG5GcmFtZWJ1ZmZlci5wcm90b3R5cGUuZW5hYmxlU3RlbmNpbCA9IGZ1bmN0aW9uIGVuYWJsZVN0ZW5jaWwgKClcbntcbiAgICB0aGlzLnN0ZW5jaWwgPSB0cnVlO1xuXG4gICAgdGhpcy5kaXJ0eUlkKys7XG4gICAgdGhpcy5kaXJ0eUZvcm1hdCsrO1xuXG4gICAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIFJlc2l6ZSB0aGUgZnJhbWUgYnVmZmVyXG4gKlxuICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIC0gV2lkdGggb2YgdGhlIGZyYW1lIGJ1ZmZlciB0byByZXNpemUgdG9cbiAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHQgLSBIZWlnaHQgb2YgdGhlIGZyYW1lIGJ1ZmZlciB0byByZXNpemUgdG9cbiAqL1xuRnJhbWVidWZmZXIucHJvdG90eXBlLnJlc2l6ZSA9IGZ1bmN0aW9uIHJlc2l6ZSAod2lkdGgsIGhlaWdodClcbntcbiAgICB3aWR0aCA9IE1hdGguY2VpbCh3aWR0aCk7XG4gICAgaGVpZ2h0ID0gTWF0aC5jZWlsKGhlaWdodCk7XG5cbiAgICBpZiAod2lkdGggPT09IHRoaXMud2lkdGggJiYgaGVpZ2h0ID09PSB0aGlzLmhlaWdodCkgeyByZXR1cm47IH1cblxuICAgIHRoaXMud2lkdGggPSB3aWR0aDtcbiAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcblxuICAgIHRoaXMuZGlydHlJZCsrO1xuICAgIHRoaXMuZGlydHlTaXplKys7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuY29sb3JUZXh0dXJlcy5sZW5ndGg7IGkrKylcbiAgICB7XG4gICAgICAgIHZhciB0ZXh0dXJlID0gdGhpcy5jb2xvclRleHR1cmVzW2ldO1xuICAgICAgICB2YXIgcmVzb2x1dGlvbiA9IHRleHR1cmUucmVzb2x1dGlvbjtcblxuICAgICAgICAvLyB0YWtlIGludG8gYWNvdW50IHRoZSBmYWN0IHRoZSB0ZXh0dXJlIG1heSBoYXZlIGEgZGlmZmVyZW50IHJlc29sdXRpb24uLlxuICAgICAgICB0ZXh0dXJlLnNldFNpemUod2lkdGggLyByZXNvbHV0aW9uLCBoZWlnaHQgLyByZXNvbHV0aW9uKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5kZXB0aFRleHR1cmUpXG4gICAge1xuICAgICAgICB2YXIgcmVzb2x1dGlvbiQxID0gdGhpcy5kZXB0aFRleHR1cmUucmVzb2x1dGlvbjtcblxuICAgICAgICB0aGlzLmRlcHRoVGV4dHVyZS5zZXRTaXplKHdpZHRoIC8gcmVzb2x1dGlvbiQxLCBoZWlnaHQgLyByZXNvbHV0aW9uJDEpO1xuICAgIH1cbn07XG5cbi8qKlxuICogZGlzcG9zZXMgV2ViR0wgcmVzb3VyY2VzIHRoYXQgYXJlIGNvbm5lY3RlZCB0byB0aGlzIGdlb21ldHJ5XG4gKi9cbkZyYW1lYnVmZmVyLnByb3RvdHlwZS5kaXNwb3NlID0gZnVuY3Rpb24gZGlzcG9zZSAoKVxue1xuICAgIHRoaXMuZGlzcG9zZVJ1bm5lci5ydW4odGhpcywgZmFsc2UpO1xufTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoIEZyYW1lYnVmZmVyLnByb3RvdHlwZSwgcHJvdG90eXBlQWNjZXNzb3JzJDEgKTtcblxuLyoqXG4gKiBBIEJhc2VSZW5kZXJUZXh0dXJlIGlzIGEgc3BlY2lhbCB0ZXh0dXJlIHRoYXQgYWxsb3dzIGFueSBQaXhpSlMgZGlzcGxheSBvYmplY3QgdG8gYmUgcmVuZGVyZWQgdG8gaXQuXG4gKlxuICogX19IaW50X186IEFsbCBEaXNwbGF5T2JqZWN0cyAoaS5lLiBTcHJpdGVzKSB0aGF0IHJlbmRlciB0byBhIEJhc2VSZW5kZXJUZXh0dXJlIHNob3VsZCBiZSBwcmVsb2FkZWRcbiAqIG90aGVyd2lzZSBibGFjayByZWN0YW5nbGVzIHdpbGwgYmUgZHJhd24gaW5zdGVhZC5cbiAqXG4gKiBBIEJhc2VSZW5kZXJUZXh0dXJlIHRha2VzIGEgc25hcHNob3Qgb2YgYW55IERpc3BsYXkgT2JqZWN0IGdpdmVuIHRvIGl0cyByZW5kZXIgbWV0aG9kLiBUaGUgcG9zaXRpb25cbiAqIGFuZCByb3RhdGlvbiBvZiB0aGUgZ2l2ZW4gRGlzcGxheSBPYmplY3RzIGlzIGlnbm9yZWQuIEZvciBleGFtcGxlOlxuICpcbiAqIGBgYGpzXG4gKiBsZXQgcmVuZGVyZXIgPSBQSVhJLmF1dG9EZXRlY3RSZW5kZXJlcigpO1xuICogbGV0IGJhc2VSZW5kZXJUZXh0dXJlID0gbmV3IFBJWEkuQmFzZVJlbmRlclRleHR1cmUoeyB3aWR0aDogODAwLCBoZWlnaHQ6IDYwMCB9KTtcbiAqIGxldCByZW5kZXJUZXh0dXJlID0gbmV3IFBJWEkuUmVuZGVyVGV4dHVyZShiYXNlUmVuZGVyVGV4dHVyZSk7XG4gKiBsZXQgc3ByaXRlID0gUElYSS5TcHJpdGUuZnJvbShcInNwaW5PYmpfMDEucG5nXCIpO1xuICpcbiAqIHNwcml0ZS5wb3NpdGlvbi54ID0gODAwLzI7XG4gKiBzcHJpdGUucG9zaXRpb24ueSA9IDYwMC8yO1xuICogc3ByaXRlLmFuY2hvci54ID0gMC41O1xuICogc3ByaXRlLmFuY2hvci55ID0gMC41O1xuICpcbiAqIHJlbmRlcmVyLnJlbmRlcihzcHJpdGUsIHJlbmRlclRleHR1cmUpO1xuICogYGBgXG4gKlxuICogVGhlIFNwcml0ZSBpbiB0aGlzIGNhc2Ugd2lsbCBiZSByZW5kZXJlZCB1c2luZyBpdHMgbG9jYWwgdHJhbnNmb3JtLiBUbyByZW5kZXIgdGhpcyBzcHJpdGUgYXQgMCwwXG4gKiB5b3UgY2FuIGNsZWFyIHRoZSB0cmFuc2Zvcm1cbiAqXG4gKiBgYGBqc1xuICpcbiAqIHNwcml0ZS5zZXRUcmFuc2Zvcm0oKVxuICpcbiAqIGxldCBiYXNlUmVuZGVyVGV4dHVyZSA9IG5ldyBQSVhJLkJhc2VSZW5kZXJUZXh0dXJlKHsgd2lkdGg6IDEwMCwgaGVpZ2h0OiAxMDAgfSk7XG4gKiBsZXQgcmVuZGVyVGV4dHVyZSA9IG5ldyBQSVhJLlJlbmRlclRleHR1cmUoYmFzZVJlbmRlclRleHR1cmUpO1xuICpcbiAqIHJlbmRlcmVyLnJlbmRlcihzcHJpdGUsIHJlbmRlclRleHR1cmUpOyAgLy8gUmVuZGVycyB0byBjZW50ZXIgb2YgUmVuZGVyVGV4dHVyZVxuICogYGBgXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkJhc2VUZXh0dXJlXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgQmFzZVJlbmRlclRleHR1cmUgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChCYXNlVGV4dHVyZSkge1xuICAgIGZ1bmN0aW9uIEJhc2VSZW5kZXJUZXh0dXJlKG9wdGlvbnMpXG4gICAge1xuICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdudW1iZXInKVxuICAgICAgICB7XG4gICAgICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBwcmVmZXItcmVzdC1wYXJhbXMgKi9cbiAgICAgICAgICAgIC8vIEJhY2t3YXJkIGNvbXBhdGliaWxpdHkgb2Ygc2lnbmF0dXJlXG4gICAgICAgICAgICB2YXIgd2lkdGgkMSA9IGFyZ3VtZW50c1swXTtcbiAgICAgICAgICAgIHZhciBoZWlnaHQkMSA9IGFyZ3VtZW50c1sxXTtcbiAgICAgICAgICAgIHZhciBzY2FsZU1vZGUgPSBhcmd1bWVudHNbMl07XG4gICAgICAgICAgICB2YXIgcmVzb2x1dGlvbiA9IGFyZ3VtZW50c1szXTtcblxuICAgICAgICAgICAgb3B0aW9ucyA9IHsgd2lkdGg6IHdpZHRoJDEsIGhlaWdodDogaGVpZ2h0JDEsIHNjYWxlTW9kZTogc2NhbGVNb2RlLCByZXNvbHV0aW9uOiByZXNvbHV0aW9uIH07XG4gICAgICAgICAgICAvKiBlc2xpbnQtZW5hYmxlIHByZWZlci1yZXN0LXBhcmFtcyAqL1xuICAgICAgICB9XG5cbiAgICAgICAgQmFzZVRleHR1cmUuY2FsbCh0aGlzLCBudWxsLCBvcHRpb25zKTtcblxuICAgICAgICB2YXIgcmVmID0gb3B0aW9ucyB8fCB7fTtcbiAgICAgICAgdmFyIHdpZHRoID0gcmVmLndpZHRoO1xuICAgICAgICB2YXIgaGVpZ2h0ID0gcmVmLmhlaWdodDtcblxuICAgICAgICAvLyBTZXQgZGVmYXVsdHNcbiAgICAgICAgdGhpcy5taXBtYXAgPSBmYWxzZTtcbiAgICAgICAgdGhpcy53aWR0aCA9IE1hdGguY2VpbCh3aWR0aCkgfHwgMTAwO1xuICAgICAgICB0aGlzLmhlaWdodCA9IE1hdGguY2VpbChoZWlnaHQpIHx8IDEwMDtcbiAgICAgICAgdGhpcy52YWxpZCA9IHRydWU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgcmVmZXJlbmNlIHRvIHRoZSBjYW52YXMgcmVuZGVyIHRhcmdldCAod2Ugb25seSBuZWVkIG9uZSBhcyB0aGlzIGNhbiBiZSBzaGFyZWQgYWNyb3NzIHJlbmRlcmVycylcbiAgICAgICAgICpcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAbWVtYmVyIHtvYmplY3R9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9jYW52YXNSZW5kZXJUYXJnZXQgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuY2xlYXJDb2xvciA9IFswLCAwLCAwLCAwXTtcblxuICAgICAgICB0aGlzLmZyYW1lYnVmZmVyID0gbmV3IEZyYW1lYnVmZmVyKHRoaXMud2lkdGggKiB0aGlzLnJlc29sdXRpb24sIHRoaXMuaGVpZ2h0ICogdGhpcy5yZXNvbHV0aW9uKVxuICAgICAgICAgICAgLmFkZENvbG9yVGV4dHVyZSgwLCB0aGlzKTtcblxuICAgICAgICAvLyBUT0RPIC0gY291bGQgdGhpcyBiZSBhZGRlZCB0aGUgc3lzdGVtcz9cblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGRhdGEgc3RydWN0dXJlIGZvciB0aGUgc3RlbmNpbCBtYXNrcy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5NYXNrRGF0YVtdfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5tYXNrU3RhY2sgPSBbXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGRhdGEgc3RydWN0dXJlIGZvciB0aGUgZmlsdGVycy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7T2JqZWN0W119XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmZpbHRlclN0YWNrID0gW3t9XTtcbiAgICB9XG5cbiAgICBpZiAoIEJhc2VUZXh0dXJlICkgQmFzZVJlbmRlclRleHR1cmUuX19wcm90b19fID0gQmFzZVRleHR1cmU7XG4gICAgQmFzZVJlbmRlclRleHR1cmUucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggQmFzZVRleHR1cmUgJiYgQmFzZVRleHR1cmUucHJvdG90eXBlICk7XG4gICAgQmFzZVJlbmRlclRleHR1cmUucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQmFzZVJlbmRlclRleHR1cmU7XG5cbiAgICAvKipcbiAgICAgKiBSZXNpemVzIHRoZSBCYXNlUmVuZGVyVGV4dHVyZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB3aWR0aCAtIFRoZSB3aWR0aCB0byByZXNpemUgdG8uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodCAtIFRoZSBoZWlnaHQgdG8gcmVzaXplIHRvLlxuICAgICAqL1xuICAgIEJhc2VSZW5kZXJUZXh0dXJlLnByb3RvdHlwZS5yZXNpemUgPSBmdW5jdGlvbiByZXNpemUgKHdpZHRoLCBoZWlnaHQpXG4gICAge1xuICAgICAgICB3aWR0aCA9IE1hdGguY2VpbCh3aWR0aCk7XG4gICAgICAgIGhlaWdodCA9IE1hdGguY2VpbChoZWlnaHQpO1xuICAgICAgICB0aGlzLmZyYW1lYnVmZmVyLnJlc2l6ZSh3aWR0aCAqIHRoaXMucmVzb2x1dGlvbiwgaGVpZ2h0ICogdGhpcy5yZXNvbHV0aW9uKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRnJlZXMgdGhlIHRleHR1cmUgYW5kIGZyYW1lYnVmZmVyIGZyb20gV2ViR0wgbWVtb3J5IHdpdGhvdXQgZGVzdHJveWluZyB0aGlzIHRleHR1cmUgb2JqZWN0LlxuICAgICAqIFRoaXMgbWVhbnMgeW91IGNhbiBzdGlsbCB1c2UgdGhlIHRleHR1cmUgbGF0ZXIgd2hpY2ggd2lsbCB1cGxvYWQgaXQgdG8gR1BVXG4gICAgICogbWVtb3J5IGFnYWluLlxuICAgICAqXG4gICAgICogQGZpcmVzIFBJWEkuQmFzZVRleHR1cmUjZGlzcG9zZVxuICAgICAqL1xuICAgIEJhc2VSZW5kZXJUZXh0dXJlLnByb3RvdHlwZS5kaXNwb3NlID0gZnVuY3Rpb24gZGlzcG9zZSAoKVxuICAgIHtcbiAgICAgICAgdGhpcy5mcmFtZWJ1ZmZlci5kaXNwb3NlKCk7XG5cbiAgICAgICAgQmFzZVRleHR1cmUucHJvdG90eXBlLmRpc3Bvc2UuY2FsbCh0aGlzKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhpcyB0ZXh0dXJlLlxuICAgICAqXG4gICAgICovXG4gICAgQmFzZVJlbmRlclRleHR1cmUucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95ICgpXG4gICAge1xuICAgICAgICBCYXNlVGV4dHVyZS5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMsIHRydWUpO1xuXG4gICAgICAgIHRoaXMuZnJhbWVidWZmZXIgPSBudWxsO1xuICAgIH07XG5cbiAgICByZXR1cm4gQmFzZVJlbmRlclRleHR1cmU7XG59KEJhc2VUZXh0dXJlKSk7XG5cbi8qKlxuICogU3RvcmVzIGEgdGV4dHVyZSdzIGZyYW1lIGluIFVWIGNvb3JkaW5hdGVzLCBpblxuICogd2hpY2ggZXZlcnl0aGluZyBsaWVzIGluIHRoZSByZWN0YW5nbGUgYFsoMCwwKSwgKDEsMCksXG4gKiAoMSwxKSwgKDAsMSldYC5cbiAqXG4gKiB8IENvcm5lciAgICAgICB8IENvb3JkaW5hdGVzIHxcbiAqIHwtLS0tLS0tLS0tLS0tLXwtLS0tLS0tLS0tLS0tfFxuICogfCBUb3AtTGVmdCAgICAgfCBgKHgwLHkwKWAgICB8XG4gKiB8IFRvcC1SaWdodCAgICB8IGAoeDEseTEpYCAgIHxcbiAqIHwgQm90dG9tLVJpZ2h0IHwgYCh4Mix5MilgICAgfFxuICogfCBCb3R0b20tTGVmdCAgfCBgKHgzLHkzKWAgICB8XG4gKlxuICogQGNsYXNzXG4gKiBAcHJvdGVjdGVkXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgVGV4dHVyZVV2cyA9IGZ1bmN0aW9uIFRleHR1cmVVdnMoKVxue1xuICAgIC8qKlxuICAgICAqIFgtY29tcG9uZW50IG9mIHRvcC1sZWZ0IGNvcm5lciBgKHgwLHkwKWAuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy54MCA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBZLWNvbXBvbmVudCBvZiB0b3AtbGVmdCBjb3JuZXIgYCh4MCx5MClgLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMueTAgPSAwO1xuXG4gICAgLyoqXG4gICAgICogWC1jb21wb25lbnQgb2YgdG9wLXJpZ2h0IGNvcm5lciBgKHgxLHkxKWAuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy54MSA9IDE7XG5cbiAgICAvKipcbiAgICAgKiBZLWNvbXBvbmVudCBvZiB0b3AtcmlnaHQgY29ybmVyIGAoeDEseTEpYC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnkxID0gMDtcblxuICAgIC8qKlxuICAgICAqIFgtY29tcG9uZW50IG9mIGJvdHRvbS1yaWdodCBjb3JuZXIgYCh4Mix5MilgLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMueDIgPSAxO1xuXG4gICAgLyoqXG4gICAgICogWS1jb21wb25lbnQgb2YgYm90dG9tLXJpZ2h0IGNvcm5lciBgKHgyLHkyKWAuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy55MiA9IDE7XG5cbiAgICAvKipcbiAgICAgKiBYLWNvbXBvbmVudCBvZiBib3R0b20tbGVmdCBjb3JuZXIgYCh4Myx5MylgLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMueDMgPSAwO1xuXG4gICAgLyoqXG4gICAgICogWS1jb21wb25lbnQgb2YgYm90dG9tLXJpZ2h0IGNvcm5lciBgKHgzLHkzKWAuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy55MyA9IDE7XG5cbiAgICB0aGlzLnV2c0Zsb2F0MzIgPSBuZXcgRmxvYXQzMkFycmF5KDgpO1xufTtcblxuLyoqXG4gKiBTZXRzIHRoZSB0ZXh0dXJlIFV2cyBiYXNlZCBvbiB0aGUgZ2l2ZW4gZnJhbWUgaW5mb3JtYXRpb24uXG4gKlxuICogQHByb3RlY3RlZFxuICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gZnJhbWUgLSBUaGUgZnJhbWUgb2YgdGhlIHRleHR1cmVcbiAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IGJhc2VGcmFtZSAtIFRoZSBiYXNlIGZyYW1lIG9mIHRoZSB0ZXh0dXJlXG4gKiBAcGFyYW0ge251bWJlcn0gcm90YXRlIC0gUm90YXRpb24gb2YgZnJhbWUsIHNlZSB7QGxpbmsgUElYSS5ncm91cEQ4fVxuICovXG5UZXh0dXJlVXZzLnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbiBzZXQgKGZyYW1lLCBiYXNlRnJhbWUsIHJvdGF0ZSlcbntcbiAgICB2YXIgdHcgPSBiYXNlRnJhbWUud2lkdGg7XG4gICAgdmFyIHRoID0gYmFzZUZyYW1lLmhlaWdodDtcblxuICAgIGlmIChyb3RhdGUpXG4gICAge1xuICAgICAgICAvLyB3aWR0aCBhbmQgaGVpZ2h0IGRpdiAyIGRpdiBiYXNlRnJhbWUgc2l6ZVxuICAgICAgICB2YXIgdzIgPSBmcmFtZS53aWR0aCAvIDIgLyB0dztcbiAgICAgICAgdmFyIGgyID0gZnJhbWUuaGVpZ2h0IC8gMiAvIHRoO1xuXG4gICAgICAgIC8vIGNvb3JkaW5hdGVzIG9mIGNlbnRlclxuICAgICAgICB2YXIgY1ggPSAoZnJhbWUueCAvIHR3KSArIHcyO1xuICAgICAgICB2YXIgY1kgPSAoZnJhbWUueSAvIHRoKSArIGgyO1xuXG4gICAgICAgIHJvdGF0ZSA9IGdyb3VwRDguYWRkKHJvdGF0ZSwgZ3JvdXBEOC5OVyk7IC8vIE5XIGlzIHRvcC1sZWZ0IGNvcm5lclxuICAgICAgICB0aGlzLngwID0gY1ggKyAodzIgKiBncm91cEQ4LnVYKHJvdGF0ZSkpO1xuICAgICAgICB0aGlzLnkwID0gY1kgKyAoaDIgKiBncm91cEQ4LnVZKHJvdGF0ZSkpO1xuXG4gICAgICAgIHJvdGF0ZSA9IGdyb3VwRDguYWRkKHJvdGF0ZSwgMik7IC8vIHJvdGF0ZSA5MCBkZWdyZWVzIGNsb2Nrd2lzZVxuICAgICAgICB0aGlzLngxID0gY1ggKyAodzIgKiBncm91cEQ4LnVYKHJvdGF0ZSkpO1xuICAgICAgICB0aGlzLnkxID0gY1kgKyAoaDIgKiBncm91cEQ4LnVZKHJvdGF0ZSkpO1xuXG4gICAgICAgIHJvdGF0ZSA9IGdyb3VwRDguYWRkKHJvdGF0ZSwgMik7XG4gICAgICAgIHRoaXMueDIgPSBjWCArICh3MiAqIGdyb3VwRDgudVgocm90YXRlKSk7XG4gICAgICAgIHRoaXMueTIgPSBjWSArIChoMiAqIGdyb3VwRDgudVkocm90YXRlKSk7XG5cbiAgICAgICAgcm90YXRlID0gZ3JvdXBEOC5hZGQocm90YXRlLCAyKTtcbiAgICAgICAgdGhpcy54MyA9IGNYICsgKHcyICogZ3JvdXBEOC51WChyb3RhdGUpKTtcbiAgICAgICAgdGhpcy55MyA9IGNZICsgKGgyICogZ3JvdXBEOC51WShyb3RhdGUpKTtcbiAgICB9XG4gICAgZWxzZVxuICAgIHtcbiAgICAgICAgdGhpcy54MCA9IGZyYW1lLnggLyB0dztcbiAgICAgICAgdGhpcy55MCA9IGZyYW1lLnkgLyB0aDtcblxuICAgICAgICB0aGlzLngxID0gKGZyYW1lLnggKyBmcmFtZS53aWR0aCkgLyB0dztcbiAgICAgICAgdGhpcy55MSA9IGZyYW1lLnkgLyB0aDtcblxuICAgICAgICB0aGlzLngyID0gKGZyYW1lLnggKyBmcmFtZS53aWR0aCkgLyB0dztcbiAgICAgICAgdGhpcy55MiA9IChmcmFtZS55ICsgZnJhbWUuaGVpZ2h0KSAvIHRoO1xuXG4gICAgICAgIHRoaXMueDMgPSBmcmFtZS54IC8gdHc7XG4gICAgICAgIHRoaXMueTMgPSAoZnJhbWUueSArIGZyYW1lLmhlaWdodCkgLyB0aDtcbiAgICB9XG5cbiAgICB0aGlzLnV2c0Zsb2F0MzJbMF0gPSB0aGlzLngwO1xuICAgIHRoaXMudXZzRmxvYXQzMlsxXSA9IHRoaXMueTA7XG4gICAgdGhpcy51dnNGbG9hdDMyWzJdID0gdGhpcy54MTtcbiAgICB0aGlzLnV2c0Zsb2F0MzJbM10gPSB0aGlzLnkxO1xuICAgIHRoaXMudXZzRmxvYXQzMls0XSA9IHRoaXMueDI7XG4gICAgdGhpcy51dnNGbG9hdDMyWzVdID0gdGhpcy55MjtcbiAgICB0aGlzLnV2c0Zsb2F0MzJbNl0gPSB0aGlzLngzO1xuICAgIHRoaXMudXZzRmxvYXQzMls3XSA9IHRoaXMueTM7XG59O1xuXG52YXIgREVGQVVMVF9VVlMgPSBuZXcgVGV4dHVyZVV2cygpO1xuXG4vKipcbiAqIEEgdGV4dHVyZSBzdG9yZXMgdGhlIGluZm9ybWF0aW9uIHRoYXQgcmVwcmVzZW50cyBhbiBpbWFnZSBvciBwYXJ0IG9mIGFuIGltYWdlLlxuICpcbiAqIEl0IGNhbm5vdCBiZSBhZGRlZCB0byB0aGUgZGlzcGxheSBsaXN0IGRpcmVjdGx5OyBpbnN0ZWFkIHVzZSBpdCBhcyB0aGUgdGV4dHVyZSBmb3IgYSBTcHJpdGUuXG4gKiBJZiBubyBmcmFtZSBpcyBwcm92aWRlZCBmb3IgYSB0ZXh0dXJlLCB0aGVuIHRoZSB3aG9sZSBpbWFnZSBpcyB1c2VkLlxuICpcbiAqIFlvdSBjYW4gZGlyZWN0bHkgY3JlYXRlIGEgdGV4dHVyZSBmcm9tIGFuIGltYWdlIGFuZCB0aGVuIHJldXNlIGl0IG11bHRpcGxlIHRpbWVzIGxpa2UgdGhpcyA6XG4gKlxuICogYGBganNcbiAqIGxldCB0ZXh0dXJlID0gUElYSS5UZXh0dXJlLmZyb20oJ2Fzc2V0cy9pbWFnZS5wbmcnKTtcbiAqIGxldCBzcHJpdGUxID0gbmV3IFBJWEkuU3ByaXRlKHRleHR1cmUpO1xuICogbGV0IHNwcml0ZTIgPSBuZXcgUElYSS5TcHJpdGUodGV4dHVyZSk7XG4gKiBgYGBcbiAqXG4gKiBJZiB5b3UgZGlkbnQgcGFzcyB0aGUgdGV4dHVyZSBmcmFtZSB0byBjb25zdHJ1Y3RvciwgaXQgZW5hYmxlcyBgbm9GcmFtZWAgbW9kZTpcbiAqIGl0IHN1YnNjcmliZXMgb24gYmFzZVRleHR1cmUgZXZlbnRzLCBpdCBhdXRvbWF0aWNhbGx5IHJlc2l6ZXMgYXQgdGhlIHNhbWUgdGltZSBhcyBiYXNlVGV4dHVyZS5cbiAqXG4gKiBUZXh0dXJlcyBtYWRlIGZyb20gU1ZHcywgbG9hZGVkIG9yIG5vdCwgY2Fubm90IGJlIHVzZWQgYmVmb3JlIHRoZSBmaWxlIGZpbmlzaGVzIHByb2Nlc3NpbmcuXG4gKiBZb3UgY2FuIGNoZWNrIGZvciB0aGlzIGJ5IGNoZWNraW5nIHRoZSBzcHJpdGUncyBfdGV4dHVyZUlEIHByb3BlcnR5LlxuICogYGBganNcbiAqIHZhciB0ZXh0dXJlID0gUElYSS5UZXh0dXJlLmZyb20oJ2Fzc2V0cy9pbWFnZS5zdmcnKTtcbiAqIHZhciBzcHJpdGUxID0gbmV3IFBJWEkuU3ByaXRlKHRleHR1cmUpO1xuICogLy9zcHJpdGUxLl90ZXh0dXJlSUQgc2hvdWxkIG5vdCBiZSB1bmRlZmluZWQgaWYgdGhlIHRleHR1cmUgaGFzIGZpbmlzaGVkIHByb2Nlc3NpbmcgdGhlIFNWRyBmaWxlXG4gKiBgYGBcbiAqIFlvdSBjYW4gdXNlIGEgdGlja2VyIG9yIHJBRiB0byBlbnN1cmUgeW91ciBzcHJpdGVzIGxvYWQgdGhlIGZpbmlzaGVkIHRleHR1cmVzIGFmdGVyIHByb2Nlc3NpbmcuIFNlZSBpc3N1ZSAjMzA2OC5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkudXRpbHMuRXZlbnRFbWl0dGVyXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgVGV4dHVyZSA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKEV2ZW50RW1pdHRlcikge1xuICAgIGZ1bmN0aW9uIFRleHR1cmUoYmFzZVRleHR1cmUsIGZyYW1lLCBvcmlnLCB0cmltLCByb3RhdGUsIGFuY2hvcilcbiAgICB7XG4gICAgICAgIEV2ZW50RW1pdHRlci5jYWxsKHRoaXMpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEb2VzIHRoaXMgVGV4dHVyZSBoYXZlIGFueSBmcmFtZSBkYXRhIGFzc2lnbmVkIHRvIGl0P1xuICAgICAgICAgKlxuICAgICAgICAgKiBUaGlzIG1vZGUgaXMgZW5hYmxlZCBhdXRvbWF0aWNhbGx5IGlmIG5vIGZyYW1lIHdhcyBwYXNzZWQgaW5zaWRlIGNvbnN0cnVjdG9yLlxuICAgICAgICAgKlxuICAgICAgICAgKiBJbiB0aGlzIG1vZGUgdGV4dHVyZSBpcyBzdWJzY3JpYmVkIHRvIGJhc2VUZXh0dXJlIGV2ZW50cywgYW5kIGZpcmVzIGB1cGRhdGVgIG9uIGFueSBjaGFuZ2UuXG4gICAgICAgICAqXG4gICAgICAgICAqIEJld2FyZSwgYWZ0ZXIgbG9hZGluZyBvciByZXNpemUgb2YgYmFzZVRleHR1cmUgZXZlbnQgY2FuIGZpcmVkIHR3byB0aW1lcyFcbiAgICAgICAgICogSWYgeW91IHdhbnQgbW9yZSBjb250cm9sLCBzdWJzY3JpYmUgb24gYmFzZVRleHR1cmUgaXRzZWxmLlxuICAgICAgICAgKlxuICAgICAgICAgKiBgYGBqc1xuICAgICAgICAgKiB0ZXh0dXJlLm9uKCd1cGRhdGUnLCAoKSA9PiB7fSk7XG4gICAgICAgICAqIGBgYFxuICAgICAgICAgKlxuICAgICAgICAgKiBBbnkgYXNzaWdubWVudCBvZiBgZnJhbWVgIHN3aXRjaGVzIG9mZiBgbm9GcmFtZWAgbW9kZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubm9GcmFtZSA9IGZhbHNlO1xuXG4gICAgICAgIGlmICghZnJhbWUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMubm9GcmFtZSA9IHRydWU7XG4gICAgICAgICAgICBmcmFtZSA9IG5ldyBSZWN0YW5nbGUoMCwgMCwgMSwgMSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYmFzZVRleHR1cmUgaW5zdGFuY2VvZiBUZXh0dXJlKVxuICAgICAgICB7XG4gICAgICAgICAgICBiYXNlVGV4dHVyZSA9IGJhc2VUZXh0dXJlLmJhc2VUZXh0dXJlO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBiYXNlIHRleHR1cmUgdGhhdCB0aGlzIHRleHR1cmUgdXNlcy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5CYXNlVGV4dHVyZX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYmFzZVRleHR1cmUgPSBiYXNlVGV4dHVyZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhpcyBpcyB0aGUgYXJlYSBvZiB0aGUgQmFzZVRleHR1cmUgaW1hZ2UgdG8gYWN0dWFsbHkgY29weSB0byB0aGUgQ2FudmFzIC8gV2ViR0wgd2hlbiByZW5kZXJpbmcsXG4gICAgICAgICAqIGlycmVzcGVjdGl2ZSBvZiB0aGUgYWN0dWFsIGZyYW1lIHNpemUgb3IgcGxhY2VtZW50ICh3aGljaCBjYW4gYmUgaW5mbHVlbmNlZCBieSB0cmltbWVkIHRleHR1cmUgYXRsYXNlcylcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5SZWN0YW5nbGV9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9mcmFtZSA9IGZyYW1lO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGlzIGlzIHRoZSB0cmltbWVkIGFyZWEgb2Ygb3JpZ2luYWwgdGV4dHVyZSwgYmVmb3JlIGl0IHdhcyBwdXQgaW4gYXRsYXNcbiAgICAgICAgICogUGxlYXNlIGNhbGwgYHVwZGF0ZVV2cygpYCBhZnRlciB5b3UgY2hhbmdlIGNvb3JkaW5hdGVzIG9mIGB0cmltYCBtYW51YWxseS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5SZWN0YW5nbGV9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnRyaW0gPSB0cmltO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGlzIHdpbGwgbGV0IHRoZSByZW5kZXJlciBrbm93IGlmIHRoZSB0ZXh0dXJlIGlzIHZhbGlkLiBJZiBpdCdzIG5vdCB0aGVuIGl0IGNhbm5vdCBiZSByZW5kZXJlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudmFsaWQgPSBmYWxzZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhpcyB3aWxsIGxldCBhIHJlbmRlcmVyIGtub3cgdGhhdCBhIHRleHR1cmUgaGFzIGJlZW4gdXBkYXRlZCAodXNlZCBtYWlubHkgZm9yIFdlYkdMIHV2IHVwZGF0ZXMpXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJlcXVpcmVzVXBkYXRlID0gZmFsc2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBXZWJHTCBVViBkYXRhIGNhY2hlLiBDYW4gYmUgdXNlZCBhcyBxdWFkIFVWXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuVGV4dHVyZVV2c31cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fdXZzID0gREVGQVVMVF9VVlM7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERlZmF1bHQgVGV4dHVyZU1hdHJpeCBpbnN0YW5jZSBmb3IgdGhpcyB0ZXh0dXJlXG4gICAgICAgICAqIEJ5IGRlZmF1bHQgdGhhdCBvYmplY3QgaXMgbm90IGNyZWF0ZWQgYmVjYXVzZSBpdHMgaGVhdnlcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5UZXh0dXJlTWF0cml4fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy51dk1hdHJpeCA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoaXMgaXMgdGhlIGFyZWEgb2Ygb3JpZ2luYWwgdGV4dHVyZSwgYmVmb3JlIGl0IHdhcyBwdXQgaW4gYXRsYXNcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5SZWN0YW5nbGV9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm9yaWcgPSBvcmlnIHx8IGZyYW1lOy8vIG5ldyBSZWN0YW5nbGUoMCwgMCwgMSwgMSk7XG5cbiAgICAgICAgdGhpcy5fcm90YXRlID0gTnVtYmVyKHJvdGF0ZSB8fCAwKTtcblxuICAgICAgICBpZiAocm90YXRlID09PSB0cnVlKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyB0aGlzIGlzIG9sZCB0ZXh0dXJlcGFja2VyIGxlZ2FjeSwgc29tZSBnYW1lcy9saWJyYXJpZXMgYXJlIHBhc3NpbmcgXCJ0cnVlXCIgZm9yIHJvdGF0ZWQgdGV4dHVyZXNcbiAgICAgICAgICAgIHRoaXMuX3JvdGF0ZSA9IDI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5fcm90YXRlICUgMiAhPT0gMClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdhdHRlbXB0IHRvIHVzZSBkaWFtb25kLXNoYXBlZCBVVnMuIElmIHlvdSBhcmUgc3VyZSwgc2V0IHJvdGF0aW9uIG1hbnVhbGx5Jyk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQW5jaG9yIHBvaW50IHRoYXQgaXMgdXNlZCBhcyBkZWZhdWx0IGlmIHNwcml0ZSBpcyBjcmVhdGVkIHdpdGggdGhpcyB0ZXh0dXJlLlxuICAgICAgICAgKiBDaGFuZ2luZyB0aGUgYGRlZmF1bHRBbmNob3JgIGF0IGEgbGF0ZXIgcG9pbnQgb2YgdGltZSB3aWxsIG5vdCB1cGRhdGUgU3ByaXRlJ3MgYW5jaG9yIHBvaW50LlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlBvaW50fVxuICAgICAgICAgKiBAZGVmYXVsdCB7MCwwfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kZWZhdWx0QW5jaG9yID0gYW5jaG9yID8gbmV3IFBvaW50KGFuY2hvci54LCBhbmNob3IueSkgOiBuZXcgUG9pbnQoMCwgMCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVwZGF0ZSBJRCBpcyBvYnNlcnZlZCBieSBzcHJpdGVzIGFuZCBUZXh0dXJlTWF0cml4IGluc3RhbmNlcy5cbiAgICAgICAgICogQ2FsbCB1cGRhdGVVdnMoKSB0byBpbmNyZW1lbnQgaXQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cblxuICAgICAgICB0aGlzLl91cGRhdGVJRCA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBpZHMgdW5kZXIgd2hpY2ggdGhpcyBUZXh0dXJlIGhhcyBiZWVuIGFkZGVkIHRvIHRoZSB0ZXh0dXJlIGNhY2hlLiBUaGlzIGlzXG4gICAgICAgICAqIGF1dG9tYXRpY2FsbHkgc2V0IGFzIGxvbmcgYXMgVGV4dHVyZS5hZGRUb0NhY2hlIGlzIHVzZWQsIGJ1dCBtYXkgbm90IGJlIHNldCBpZiBhXG4gICAgICAgICAqIFRleHR1cmUgaXMgYWRkZWQgZGlyZWN0bHkgdG8gdGhlIFRleHR1cmVDYWNoZSBhcnJheS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nW119XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnRleHR1cmVDYWNoZUlkcyA9IFtdO1xuXG4gICAgICAgIGlmICghYmFzZVRleHR1cmUudmFsaWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGJhc2VUZXh0dXJlLm9uY2UoJ2xvYWRlZCcsIHRoaXMub25CYXNlVGV4dHVyZVVwZGF0ZWQsIHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMubm9GcmFtZSlcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gaWYgdGhlcmUgaXMgbm8gZnJhbWUgd2Ugc2hvdWxkIG1vbml0b3IgZm9yIGFueSBiYXNlIHRleHR1cmUgY2hhbmdlcy4uXG4gICAgICAgICAgICBpZiAoYmFzZVRleHR1cmUudmFsaWQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5vbkJhc2VUZXh0dXJlVXBkYXRlZChiYXNlVGV4dHVyZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmZyYW1lID0gZnJhbWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5ub0ZyYW1lKVxuICAgICAgICB7XG4gICAgICAgICAgICBiYXNlVGV4dHVyZS5vbigndXBkYXRlJywgdGhpcy5vbkJhc2VUZXh0dXJlVXBkYXRlZCwgdGhpcyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoIEV2ZW50RW1pdHRlciApIFRleHR1cmUuX19wcm90b19fID0gRXZlbnRFbWl0dGVyO1xuICAgIFRleHR1cmUucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggRXZlbnRFbWl0dGVyICYmIEV2ZW50RW1pdHRlci5wcm90b3R5cGUgKTtcbiAgICBUZXh0dXJlLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFRleHR1cmU7XG5cbiAgICB2YXIgcHJvdG90eXBlQWNjZXNzb3JzID0geyByZXNvbHV0aW9uOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LGZyYW1lOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LHJvdGF0ZTogeyBjb25maWd1cmFibGU6IHRydWUgfSx3aWR0aDogeyBjb25maWd1cmFibGU6IHRydWUgfSxoZWlnaHQ6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0gfTtcblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhpcyB0ZXh0dXJlIG9uIHRoZSBncHUuXG4gICAgICpcbiAgICAgKiBDYWxscyB0aGUgVGV4dHVyZVJlc291cmNlIHVwZGF0ZS5cbiAgICAgKlxuICAgICAqIElmIHlvdSBhZGp1c3RlZCBgZnJhbWVgIG1hbnVhbGx5LCBwbGVhc2UgY2FsbCBgdXBkYXRlVXZzKClgIGluc3RlYWQuXG4gICAgICpcbiAgICAgKi9cbiAgICBUZXh0dXJlLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiB1cGRhdGUgKClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLmJhc2VUZXh0dXJlLnJlc291cmNlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmJhc2VUZXh0dXJlLnJlc291cmNlLnVwZGF0ZSgpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENhbGxlZCB3aGVuIHRoZSBiYXNlIHRleHR1cmUgaXMgdXBkYXRlZFxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gYmFzZVRleHR1cmUgLSBUaGUgYmFzZSB0ZXh0dXJlLlxuICAgICAqL1xuICAgIFRleHR1cmUucHJvdG90eXBlLm9uQmFzZVRleHR1cmVVcGRhdGVkID0gZnVuY3Rpb24gb25CYXNlVGV4dHVyZVVwZGF0ZWQgKGJhc2VUZXh0dXJlKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMubm9GcmFtZSlcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmJhc2VUZXh0dXJlLnZhbGlkKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fZnJhbWUud2lkdGggPSBiYXNlVGV4dHVyZS53aWR0aDtcbiAgICAgICAgICAgIHRoaXMuX2ZyYW1lLmhlaWdodCA9IGJhc2VUZXh0dXJlLmhlaWdodDtcbiAgICAgICAgICAgIHRoaXMudmFsaWQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVVdnMoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIFRPRE8gdGhpcyBjb2RlIGxvb2tzIGNvbmZ1c2luZy4uIGJvbyB0byBhYnVzaW5nIGdldHRlcnMgYW5kIHNldHRlcnMhXG4gICAgICAgICAgICAvLyBpZiB1c2VyIGdhdmUgdXMgZnJhbWUgdGhhdCBoYXMgYmlnZ2VyIHNpemUgdGhhbiByZXNpemVkIHRleHR1cmUgaXQgY2FuIGJlIGEgcHJvYmxlbVxuICAgICAgICAgICAgdGhpcy5mcmFtZSA9IHRoaXMuX2ZyYW1lO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5lbWl0KCd1cGRhdGUnLCB0aGlzKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhpcyB0ZXh0dXJlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtkZXN0cm95QmFzZT1mYWxzZV0gV2hldGhlciB0byBkZXN0cm95IHRoZSBiYXNlIHRleHR1cmUgYXMgd2VsbFxuICAgICAqL1xuICAgIFRleHR1cmUucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95IChkZXN0cm95QmFzZSlcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLmJhc2VUZXh0dXJlKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoZGVzdHJveUJhc2UpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdmFyIHJlZiA9IHRoaXMuYmFzZVRleHR1cmU7XG4gICAgICAgICAgICAgICAgdmFyIHJlc291cmNlID0gcmVmLnJlc291cmNlO1xuXG4gICAgICAgICAgICAgICAgLy8gZGVsZXRlIHRoZSB0ZXh0dXJlIGlmIGl0IGV4aXN0cyBpbiB0aGUgdGV4dHVyZSBjYWNoZS4uXG4gICAgICAgICAgICAgICAgLy8gdGhpcyBvbmx5IG5lZWRzIHRvIGJlIHJlbW92ZWQgaWYgdGhlIGJhc2UgdGV4dHVyZSBpcyBhY3R1YWxseSBkZXN0cm95ZWQgdG9vLi5cbiAgICAgICAgICAgICAgICBpZiAocmVzb3VyY2UgJiYgVGV4dHVyZUNhY2hlW3Jlc291cmNlLnVybF0pXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBUZXh0dXJlLnJlbW92ZUZyb21DYWNoZShyZXNvdXJjZS51cmwpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMuYmFzZVRleHR1cmUuZGVzdHJveSgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmJhc2VUZXh0dXJlLm9mZigndXBkYXRlJywgdGhpcy5vbkJhc2VUZXh0dXJlVXBkYXRlZCwgdGhpcyk7XG5cbiAgICAgICAgICAgIHRoaXMuYmFzZVRleHR1cmUgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fZnJhbWUgPSBudWxsO1xuICAgICAgICB0aGlzLl91dnMgPSBudWxsO1xuICAgICAgICB0aGlzLnRyaW0gPSBudWxsO1xuICAgICAgICB0aGlzLm9yaWcgPSBudWxsO1xuXG4gICAgICAgIHRoaXMudmFsaWQgPSBmYWxzZTtcblxuICAgICAgICBUZXh0dXJlLnJlbW92ZUZyb21DYWNoZSh0aGlzKTtcbiAgICAgICAgdGhpcy50ZXh0dXJlQ2FjaGVJZHMgPSBudWxsO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IHRleHR1cmUgb2JqZWN0IHRoYXQgYWN0cyB0aGUgc2FtZSBhcyB0aGlzIG9uZS5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuVGV4dHVyZX0gVGhlIG5ldyB0ZXh0dXJlXG4gICAgICovXG4gICAgVGV4dHVyZS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiBjbG9uZSAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIG5ldyBUZXh0dXJlKHRoaXMuYmFzZVRleHR1cmUsIHRoaXMuZnJhbWUsIHRoaXMub3JpZywgdGhpcy50cmltLCB0aGlzLnJvdGF0ZSwgdGhpcy5kZWZhdWx0QW5jaG9yKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgaW50ZXJuYWwgV2ViR0wgVVYgY2FjaGUuIFVzZSBpdCBhZnRlciB5b3UgY2hhbmdlIGBmcmFtZWAgb3IgYHRyaW1gIG9mIHRoZSB0ZXh0dXJlLlxuICAgICAqIENhbGwgaXQgYWZ0ZXIgY2hhbmdpbmcgdGhlIGZyYW1lXG4gICAgICovXG4gICAgVGV4dHVyZS5wcm90b3R5cGUudXBkYXRlVXZzID0gZnVuY3Rpb24gdXBkYXRlVXZzICgpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5fdXZzID09PSBERUZBVUxUX1VWUylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fdXZzID0gbmV3IFRleHR1cmVVdnMoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3V2cy5zZXQodGhpcy5fZnJhbWUsIHRoaXMuYmFzZVRleHR1cmUsIHRoaXMucm90YXRlKTtcblxuICAgICAgICB0aGlzLl91cGRhdGVJRCsrO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBIZWxwZXIgZnVuY3Rpb24gdGhhdCBjcmVhdGVzIGEgbmV3IFRleHR1cmUgYmFzZWQgb24gdGhlIHNvdXJjZSB5b3UgcHJvdmlkZS5cbiAgICAgKiBUaGUgc291cmNlIGNhbiBiZSAtIGZyYW1lIGlkLCBpbWFnZSB1cmwsIHZpZGVvIHVybCwgY2FudmFzIGVsZW1lbnQsIHZpZGVvIGVsZW1lbnQsIGJhc2UgdGV4dHVyZVxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfEhUTUxJbWFnZUVsZW1lbnR8SFRNTENhbnZhc0VsZW1lbnR8SFRNTFZpZGVvRWxlbWVudHxQSVhJLkJhc2VUZXh0dXJlfSBzb3VyY2VcbiAgICAgKiAgICAgICAgU291cmNlIHRvIGNyZWF0ZSB0ZXh0dXJlIGZyb21cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIFNlZSB7QGxpbmsgUElYSS5CYXNlVGV4dHVyZX0ncyBjb25zdHJ1Y3RvciBmb3Igb3B0aW9ucy5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtzdHJpY3RdIEVuZm9yY2Ugc3RyaWN0LW1vZGUsIHNlZSB7QGxpbmsgUElYSS5zZXR0aW5ncy5TVFJJQ1RfVEVYVFVSRV9DQUNIRX0uXG4gICAgICogQHJldHVybiB7UElYSS5UZXh0dXJlfSBUaGUgbmV3bHkgY3JlYXRlZCB0ZXh0dXJlXG4gICAgICovXG4gICAgVGV4dHVyZS5mcm9tID0gZnVuY3Rpb24gZnJvbSAoc291cmNlLCBvcHRpb25zLCBzdHJpY3QpXG4gICAge1xuICAgICAgICBpZiAoIG9wdGlvbnMgPT09IHZvaWQgMCApIG9wdGlvbnMgPSB7fTtcbiAgICAgICAgaWYgKCBzdHJpY3QgPT09IHZvaWQgMCApIHN0cmljdCA9IHNldHRpbmdzLlNUUklDVF9URVhUVVJFX0NBQ0hFO1xuXG4gICAgICAgIHZhciBpc0ZyYW1lID0gdHlwZW9mIHNvdXJjZSA9PT0gJ3N0cmluZyc7XG4gICAgICAgIHZhciBjYWNoZUlkID0gbnVsbDtcblxuICAgICAgICBpZiAoaXNGcmFtZSlcbiAgICAgICAge1xuICAgICAgICAgICAgY2FjaGVJZCA9IHNvdXJjZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICghc291cmNlLl9waXhpSWQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc291cmNlLl9waXhpSWQgPSBcInBpeGlpZF9cIiArICh1aWQoKSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNhY2hlSWQgPSBzb3VyY2UuX3BpeGlJZDtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB0ZXh0dXJlID0gVGV4dHVyZUNhY2hlW2NhY2hlSWRdO1xuXG4gICAgICAgIC8vIFN0cmljdC1tb2RlIHJlamVjdHMgaW52YWxpZCBjYWNoZUlkc1xuICAgICAgICBpZiAoaXNGcmFtZSAmJiBzdHJpY3QgJiYgIXRleHR1cmUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigoXCJUaGUgY2FjaGVJZCBcXFwiXCIgKyBjYWNoZUlkICsgXCJcXFwiIGRvZXMgbm90IGV4aXN0IGluIFRleHR1cmVDYWNoZS5cIikpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0ZXh0dXJlKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoIW9wdGlvbnMucmVzb2x1dGlvbilcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBvcHRpb25zLnJlc29sdXRpb24gPSBnZXRSZXNvbHV0aW9uT2ZVcmwoc291cmNlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGV4dHVyZSA9IG5ldyBUZXh0dXJlKG5ldyBCYXNlVGV4dHVyZShzb3VyY2UsIG9wdGlvbnMpKTtcbiAgICAgICAgICAgIHRleHR1cmUuYmFzZVRleHR1cmUuY2FjaGVJZCA9IGNhY2hlSWQ7XG5cbiAgICAgICAgICAgIEJhc2VUZXh0dXJlLmFkZFRvQ2FjaGUodGV4dHVyZS5iYXNlVGV4dHVyZSwgY2FjaGVJZCk7XG4gICAgICAgICAgICBUZXh0dXJlLmFkZFRvQ2FjaGUodGV4dHVyZSwgY2FjaGVJZCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBsZXRzIGFzc3VtZSBpdHMgYSBiYXNlIHRleHR1cmUhXG4gICAgICAgIHJldHVybiB0ZXh0dXJlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBuZXcgVGV4dHVyZSB3aXRoIGEgQnVmZmVyUmVzb3VyY2UgZnJvbSBhIEZsb2F0MzJBcnJheS5cbiAgICAgKiBSR0JBIHZhbHVlcyBhcmUgZmxvYXRzIGZyb20gMCB0byAxLlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge0Zsb2F0MzJBcnJheXxVaW50OEFycmF5fSBidWZmZXIgVGhlIG9wdGlvbmFsIGFycmF5IHRvIHVzZSwgaWYgbm8gZGF0YVxuICAgICAqICAgICAgICBpcyBwcm92aWRlZCwgYSBuZXcgRmxvYXQzMkFycmF5IGlzIGNyZWF0ZWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIC0gV2lkdGggb2YgdGhlIHJlc291cmNlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodCAtIEhlaWdodCBvZiB0aGUgcmVzb3VyY2VcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIFNlZSB7QGxpbmsgUElYSS5CYXNlVGV4dHVyZX0ncyBjb25zdHJ1Y3RvciBmb3Igb3B0aW9ucy5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlRleHR1cmV9IFRoZSByZXN1bHRpbmcgbmV3IEJhc2VUZXh0dXJlXG4gICAgICovXG4gICAgVGV4dHVyZS5mcm9tQnVmZmVyID0gZnVuY3Rpb24gZnJvbUJ1ZmZlciAoYnVmZmVyLCB3aWR0aCwgaGVpZ2h0LCBvcHRpb25zKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIG5ldyBUZXh0dXJlKEJhc2VUZXh0dXJlLmZyb21CdWZmZXIoYnVmZmVyLCB3aWR0aCwgaGVpZ2h0LCBvcHRpb25zKSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIHRleHR1cmUgZnJvbSBhIHNvdXJjZSBhbmQgYWRkIHRvIHRoZSBjYWNoZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge0hUTUxJbWFnZUVsZW1lbnR8SFRNTENhbnZhc0VsZW1lbnR9IHNvdXJjZSAtIFRoZSBpbnB1dCBzb3VyY2UuXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGltYWdlVXJsIC0gRmlsZSBuYW1lIG9mIHRleHR1cmUsIGZvciBjYWNoZSBhbmQgcmVzb2x2aW5nIHJlc29sdXRpb24uXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtuYW1lXSAtIEh1bWFuIHJlYWRhYmxlIG5hbWUgZm9yIHRoZSB0ZXh0dXJlIGNhY2hlLiBJZiBubyBuYW1lIGlzXG4gICAgICogICAgICAgIHNwZWNpZmllZCwgb25seSBgaW1hZ2VVcmxgIHdpbGwgYmUgdXNlZCBhcyB0aGUgY2FjaGUgSUQuXG4gICAgICogQHJldHVybiB7UElYSS5UZXh0dXJlfSBPdXRwdXQgdGV4dHVyZVxuICAgICAqL1xuICAgIFRleHR1cmUuZnJvbUxvYWRlciA9IGZ1bmN0aW9uIGZyb21Mb2FkZXIgKHNvdXJjZSwgaW1hZ2VVcmwsIG5hbWUpXG4gICAge1xuICAgICAgICB2YXIgcmVzb3VyY2UgPSBuZXcgSW1hZ2VSZXNvdXJjZShzb3VyY2UpO1xuXG4gICAgICAgIHJlc291cmNlLnVybCA9IGltYWdlVXJsO1xuXG4gICAgICAgIHZhciBiYXNlVGV4dHVyZSA9IG5ldyBCYXNlVGV4dHVyZShyZXNvdXJjZSwge1xuICAgICAgICAgICAgc2NhbGVNb2RlOiBzZXR0aW5ncy5TQ0FMRV9NT0RFLFxuICAgICAgICAgICAgcmVzb2x1dGlvbjogZ2V0UmVzb2x1dGlvbk9mVXJsKGltYWdlVXJsKSxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdmFyIHRleHR1cmUgPSBuZXcgVGV4dHVyZShiYXNlVGV4dHVyZSk7XG5cbiAgICAgICAgLy8gTm8gbmFtZSwgdXNlIGltYWdlVXJsIGluc3RlYWRcbiAgICAgICAgaWYgKCFuYW1lKVxuICAgICAgICB7XG4gICAgICAgICAgICBuYW1lID0gaW1hZ2VVcmw7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBsZXRzIGFsc28gYWRkIHRoZSBmcmFtZSB0byBwaXhpJ3MgZ2xvYmFsIGNhY2hlIGZvciAnZnJvbUxvYWRlcicgZnVuY3Rpb25cbiAgICAgICAgQmFzZVRleHR1cmUuYWRkVG9DYWNoZSh0ZXh0dXJlLmJhc2VUZXh0dXJlLCBuYW1lKTtcbiAgICAgICAgVGV4dHVyZS5hZGRUb0NhY2hlKHRleHR1cmUsIG5hbWUpO1xuXG4gICAgICAgIC8vIGFsc28gYWRkIHJlZmVyZW5jZXMgYnkgdXJsIGlmIHRoZXkgYXJlIGRpZmZlcmVudC5cbiAgICAgICAgaWYgKG5hbWUgIT09IGltYWdlVXJsKVxuICAgICAgICB7XG4gICAgICAgICAgICBCYXNlVGV4dHVyZS5hZGRUb0NhY2hlKHRleHR1cmUuYmFzZVRleHR1cmUsIGltYWdlVXJsKTtcbiAgICAgICAgICAgIFRleHR1cmUuYWRkVG9DYWNoZSh0ZXh0dXJlLCBpbWFnZVVybCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGV4dHVyZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQWRkcyBhIFRleHR1cmUgdG8gdGhlIGdsb2JhbCBUZXh0dXJlQ2FjaGUuIFRoaXMgY2FjaGUgaXMgc2hhcmVkIGFjcm9zcyB0aGUgd2hvbGUgUElYSSBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtQSVhJLlRleHR1cmV9IHRleHR1cmUgLSBUaGUgVGV4dHVyZSB0byBhZGQgdG8gdGhlIGNhY2hlLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpZCAtIFRoZSBpZCB0aGF0IHRoZSBUZXh0dXJlIHdpbGwgYmUgc3RvcmVkIGFnYWluc3QuXG4gICAgICovXG4gICAgVGV4dHVyZS5hZGRUb0NhY2hlID0gZnVuY3Rpb24gYWRkVG9DYWNoZSAodGV4dHVyZSwgaWQpXG4gICAge1xuICAgICAgICBpZiAoaWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0ZXh0dXJlLnRleHR1cmVDYWNoZUlkcy5pbmRleE9mKGlkKSA9PT0gLTEpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGV4dHVyZS50ZXh0dXJlQ2FjaGVJZHMucHVzaChpZCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChUZXh0dXJlQ2FjaGVbaWRdKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKChcIlRleHR1cmUgYWRkZWQgdG8gdGhlIGNhY2hlIHdpdGggYW4gaWQgW1wiICsgaWQgKyBcIl0gdGhhdCBhbHJlYWR5IGhhZCBhbiBlbnRyeVwiKSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIFRleHR1cmVDYWNoZVtpZF0gPSB0ZXh0dXJlO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZSBhIFRleHR1cmUgZnJvbSB0aGUgZ2xvYmFsIFRleHR1cmVDYWNoZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xQSVhJLlRleHR1cmV9IHRleHR1cmUgLSBpZCBvZiBhIFRleHR1cmUgdG8gYmUgcmVtb3ZlZCwgb3IgYSBUZXh0dXJlIGluc3RhbmNlIGl0c2VsZlxuICAgICAqIEByZXR1cm4ge1BJWEkuVGV4dHVyZXxudWxsfSBUaGUgVGV4dHVyZSB0aGF0IHdhcyByZW1vdmVkXG4gICAgICovXG4gICAgVGV4dHVyZS5yZW1vdmVGcm9tQ2FjaGUgPSBmdW5jdGlvbiByZW1vdmVGcm9tQ2FjaGUgKHRleHR1cmUpXG4gICAge1xuICAgICAgICBpZiAodHlwZW9mIHRleHR1cmUgPT09ICdzdHJpbmcnKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgdGV4dHVyZUZyb21DYWNoZSA9IFRleHR1cmVDYWNoZVt0ZXh0dXJlXTtcblxuICAgICAgICAgICAgaWYgKHRleHR1cmVGcm9tQ2FjaGUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gdGV4dHVyZUZyb21DYWNoZS50ZXh0dXJlQ2FjaGVJZHMuaW5kZXhPZih0ZXh0dXJlKTtcblxuICAgICAgICAgICAgICAgIGlmIChpbmRleCA+IC0xKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdGV4dHVyZUZyb21DYWNoZS50ZXh0dXJlQ2FjaGVJZHMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBkZWxldGUgVGV4dHVyZUNhY2hlW3RleHR1cmVdO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRleHR1cmVGcm9tQ2FjaGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGV4dHVyZSAmJiB0ZXh0dXJlLnRleHR1cmVDYWNoZUlkcylcbiAgICAgICAge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0ZXh0dXJlLnRleHR1cmVDYWNoZUlkcy5sZW5ndGg7ICsraSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAvLyBDaGVjayB0aGF0IHRleHR1cmUgbWF0Y2hlcyB0aGUgb25lIGJlaW5nIHBhc3NlZCBpbiBiZWZvcmUgZGVsZXRpbmcgaXQgZnJvbSB0aGUgY2FjaGUuXG4gICAgICAgICAgICAgICAgaWYgKFRleHR1cmVDYWNoZVt0ZXh0dXJlLnRleHR1cmVDYWNoZUlkc1tpXV0gPT09IHRleHR1cmUpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBkZWxldGUgVGV4dHVyZUNhY2hlW3RleHR1cmUudGV4dHVyZUNhY2hlSWRzW2ldXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRleHR1cmUudGV4dHVyZUNhY2hlSWRzLmxlbmd0aCA9IDA7XG5cbiAgICAgICAgICAgIHJldHVybiB0ZXh0dXJlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgcmVzb2x1dGlvbiBvZiBiYXNlVGV4dHVyZVxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEByZWFkb25seVxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5yZXNvbHV0aW9uLmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5iYXNlVGV4dHVyZS5yZXNvbHV0aW9uO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgZnJhbWUgc3BlY2lmaWVzIHRoZSByZWdpb24gb2YgdGhlIGJhc2UgdGV4dHVyZSB0aGF0IHRoaXMgdGV4dHVyZSB1c2VzLlxuICAgICAqIFBsZWFzZSBjYWxsIGB1cGRhdGVVdnMoKWAgYWZ0ZXIgeW91IGNoYW5nZSBjb29yZGluYXRlcyBvZiBgZnJhbWVgIG1hbnVhbGx5LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5SZWN0YW5nbGV9XG4gICAgICovXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLmZyYW1lLmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fZnJhbWU7XG4gICAgfTtcblxuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5mcmFtZS5zZXQgPSBmdW5jdGlvbiAoZnJhbWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgdGhpcy5fZnJhbWUgPSBmcmFtZTtcblxuICAgICAgICB0aGlzLm5vRnJhbWUgPSBmYWxzZTtcblxuICAgICAgICB2YXIgeCA9IGZyYW1lLng7XG4gICAgICAgIHZhciB5ID0gZnJhbWUueTtcbiAgICAgICAgdmFyIHdpZHRoID0gZnJhbWUud2lkdGg7XG4gICAgICAgIHZhciBoZWlnaHQgPSBmcmFtZS5oZWlnaHQ7XG4gICAgICAgIHZhciB4Tm90Rml0ID0geCArIHdpZHRoID4gdGhpcy5iYXNlVGV4dHVyZS53aWR0aDtcbiAgICAgICAgdmFyIHlOb3RGaXQgPSB5ICsgaGVpZ2h0ID4gdGhpcy5iYXNlVGV4dHVyZS5oZWlnaHQ7XG5cbiAgICAgICAgaWYgKHhOb3RGaXQgfHwgeU5vdEZpdClcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIHJlbGF0aW9uc2hpcCA9IHhOb3RGaXQgJiYgeU5vdEZpdCA/ICdhbmQnIDogJ29yJztcbiAgICAgICAgICAgIHZhciBlcnJvclggPSBcIlg6IFwiICsgeCArIFwiICsgXCIgKyB3aWR0aCArIFwiID0gXCIgKyAoeCArIHdpZHRoKSArIFwiID4gXCIgKyAodGhpcy5iYXNlVGV4dHVyZS53aWR0aCk7XG4gICAgICAgICAgICB2YXIgZXJyb3JZID0gXCJZOiBcIiArIHkgKyBcIiArIFwiICsgaGVpZ2h0ICsgXCIgPSBcIiArICh5ICsgaGVpZ2h0KSArIFwiID4gXCIgKyAodGhpcy5iYXNlVGV4dHVyZS5oZWlnaHQpO1xuXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RleHR1cmUgRXJyb3I6IGZyYW1lIGRvZXMgbm90IGZpdCBpbnNpZGUgdGhlIGJhc2UgVGV4dHVyZSBkaW1lbnNpb25zOiAnXG4gICAgICAgICAgICAgICAgKyBlcnJvclggKyBcIiBcIiArIHJlbGF0aW9uc2hpcCArIFwiIFwiICsgZXJyb3JZKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMudmFsaWQgPSB3aWR0aCAmJiBoZWlnaHQgJiYgdGhpcy5iYXNlVGV4dHVyZS52YWxpZDtcblxuICAgICAgICBpZiAoIXRoaXMudHJpbSAmJiAhdGhpcy5yb3RhdGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMub3JpZyA9IGZyYW1lO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMudmFsaWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlVXZzKCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSW5kaWNhdGVzIHdoZXRoZXIgdGhlIHRleHR1cmUgaXMgcm90YXRlZCBpbnNpZGUgdGhlIGF0bGFzXG4gICAgICogc2V0IHRvIDIgdG8gY29tcGVuc2F0ZSBmb3IgdGV4dHVyZSBwYWNrZXIgcm90YXRpb25cbiAgICAgKiBzZXQgdG8gNiB0byBjb21wZW5zYXRlIGZvciBzcGluZSBwYWNrZXIgcm90YXRpb25cbiAgICAgKiBjYW4gYmUgdXNlZCB0byByb3RhdGUgb3IgbWlycm9yIHNwcml0ZXNcbiAgICAgKiBTZWUge0BsaW5rIFBJWEkuZ3JvdXBEOH0gZm9yIGV4cGxhbmF0aW9uXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLnJvdGF0ZS5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JvdGF0ZTtcbiAgICB9O1xuXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLnJvdGF0ZS5zZXQgPSBmdW5jdGlvbiAocm90YXRlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIHRoaXMuX3JvdGF0ZSA9IHJvdGF0ZTtcbiAgICAgICAgaWYgKHRoaXMudmFsaWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlVXZzKCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIHdpZHRoIG9mIHRoZSBUZXh0dXJlIGluIHBpeGVscy5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMud2lkdGguZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLm9yaWcud2lkdGg7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIFRleHR1cmUgaW4gcGl4ZWxzLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5oZWlnaHQuZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLm9yaWcuaGVpZ2h0O1xuICAgIH07XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyggVGV4dHVyZS5wcm90b3R5cGUsIHByb3RvdHlwZUFjY2Vzc29ycyApO1xuXG4gICAgcmV0dXJuIFRleHR1cmU7XG59KEV2ZW50RW1pdHRlcikpO1xuXG5mdW5jdGlvbiBjcmVhdGVXaGl0ZVRleHR1cmUoKVxue1xuICAgIHZhciBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcblxuICAgIGNhbnZhcy53aWR0aCA9IDE2O1xuICAgIGNhbnZhcy5oZWlnaHQgPSAxNjtcblxuICAgIHZhciBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG5cbiAgICBjb250ZXh0LmZpbGxTdHlsZSA9ICd3aGl0ZSc7XG4gICAgY29udGV4dC5maWxsUmVjdCgwLCAwLCAxNiwgMTYpO1xuXG4gICAgcmV0dXJuIG5ldyBUZXh0dXJlKG5ldyBCYXNlVGV4dHVyZShuZXcgQ2FudmFzUmVzb3VyY2UoY2FudmFzKSkpO1xufVxuXG5mdW5jdGlvbiByZW1vdmVBbGxIYW5kbGVycyh0ZXgpXG57XG4gICAgdGV4LmRlc3Ryb3kgPSBmdW5jdGlvbiBfZW1wdHlEZXN0cm95KCkgeyAvKiBlbXB0eSAqLyB9O1xuICAgIHRleC5vbiA9IGZ1bmN0aW9uIF9lbXB0eU9uKCkgeyAvKiBlbXB0eSAqLyB9O1xuICAgIHRleC5vbmNlID0gZnVuY3Rpb24gX2VtcHR5T25jZSgpIHsgLyogZW1wdHkgKi8gfTtcbiAgICB0ZXguZW1pdCA9IGZ1bmN0aW9uIF9lbXB0eUVtaXQoKSB7IC8qIGVtcHR5ICovIH07XG59XG5cbi8qKlxuICogQW4gZW1wdHkgdGV4dHVyZSwgdXNlZCBvZnRlbiB0byBub3QgaGF2ZSB0byBjcmVhdGUgbXVsdGlwbGUgZW1wdHkgdGV4dHVyZXMuXG4gKiBDYW4gbm90IGJlIGRlc3Ryb3llZC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAY29uc3RhbnRcbiAqIEBtZW1iZXIge1BJWEkuVGV4dHVyZX1cbiAqL1xuVGV4dHVyZS5FTVBUWSA9IG5ldyBUZXh0dXJlKG5ldyBCYXNlVGV4dHVyZSgpKTtcbnJlbW92ZUFsbEhhbmRsZXJzKFRleHR1cmUuRU1QVFkpO1xucmVtb3ZlQWxsSGFuZGxlcnMoVGV4dHVyZS5FTVBUWS5iYXNlVGV4dHVyZSk7XG5cbi8qKlxuICogQSB3aGl0ZSB0ZXh0dXJlIG9mIDE2eDE2IHNpemUsIHVzZWQgZm9yIGdyYXBoaWNzIGFuZCBvdGhlciB0aGluZ3NcbiAqIENhbiBub3QgYmUgZGVzdHJveWVkLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBjb25zdGFudFxuICogQG1lbWJlciB7UElYSS5UZXh0dXJlfVxuICovXG5UZXh0dXJlLldISVRFID0gY3JlYXRlV2hpdGVUZXh0dXJlKCk7XG5yZW1vdmVBbGxIYW5kbGVycyhUZXh0dXJlLldISVRFKTtcbnJlbW92ZUFsbEhhbmRsZXJzKFRleHR1cmUuV0hJVEUuYmFzZVRleHR1cmUpO1xuXG4vKipcbiAqIEEgUmVuZGVyVGV4dHVyZSBpcyBhIHNwZWNpYWwgdGV4dHVyZSB0aGF0IGFsbG93cyBhbnkgUGl4aUpTIGRpc3BsYXkgb2JqZWN0IHRvIGJlIHJlbmRlcmVkIHRvIGl0LlxuICpcbiAqIF9fSGludF9fOiBBbGwgRGlzcGxheU9iamVjdHMgKGkuZS4gU3ByaXRlcykgdGhhdCByZW5kZXIgdG8gYSBSZW5kZXJUZXh0dXJlIHNob3VsZCBiZSBwcmVsb2FkZWRcbiAqIG90aGVyd2lzZSBibGFjayByZWN0YW5nbGVzIHdpbGwgYmUgZHJhd24gaW5zdGVhZC5cbiAqXG4gKiBfX0hpbnQtMl9fOiBUaGUgYWN0dWFsIG1lbW9yeSBhbGxvY2F0aW9uIHdpbGwgaGFwcGVuIG9uIGZpcnN0IHJlbmRlci5cbiAqIFlvdSBzaG91bGRuJ3QgY3JlYXRlIHJlbmRlclRleHR1cmVzIGVhY2ggZnJhbWUganVzdCB0byBkZWxldGUgdGhlbSBhZnRlciwgdHJ5IHRvIHJldXNlIHRoZW0uXG4gKlxuICogQSBSZW5kZXJUZXh0dXJlIHRha2VzIGEgc25hcHNob3Qgb2YgYW55IERpc3BsYXkgT2JqZWN0IGdpdmVuIHRvIGl0cyByZW5kZXIgbWV0aG9kLiBGb3IgZXhhbXBsZTpcbiAqXG4gKiBgYGBqc1xuICogbGV0IHJlbmRlcmVyID0gUElYSS5hdXRvRGV0ZWN0UmVuZGVyZXIoKTtcbiAqIGxldCByZW5kZXJUZXh0dXJlID0gUElYSS5SZW5kZXJUZXh0dXJlLmNyZWF0ZSg4MDAsIDYwMCk7XG4gKiBsZXQgc3ByaXRlID0gUElYSS5TcHJpdGUuZnJvbShcInNwaW5PYmpfMDEucG5nXCIpO1xuICpcbiAqIHNwcml0ZS5wb3NpdGlvbi54ID0gODAwLzI7XG4gKiBzcHJpdGUucG9zaXRpb24ueSA9IDYwMC8yO1xuICogc3ByaXRlLmFuY2hvci54ID0gMC41O1xuICogc3ByaXRlLmFuY2hvci55ID0gMC41O1xuICpcbiAqIHJlbmRlcmVyLnJlbmRlcihzcHJpdGUsIHJlbmRlclRleHR1cmUpO1xuICogYGBgXG4gKlxuICogVGhlIFNwcml0ZSBpbiB0aGlzIGNhc2Ugd2lsbCBiZSByZW5kZXJlZCB1c2luZyBpdHMgbG9jYWwgdHJhbnNmb3JtLiBUbyByZW5kZXIgdGhpcyBzcHJpdGUgYXQgMCwwXG4gKiB5b3UgY2FuIGNsZWFyIHRoZSB0cmFuc2Zvcm1cbiAqXG4gKiBgYGBqc1xuICpcbiAqIHNwcml0ZS5zZXRUcmFuc2Zvcm0oKVxuICpcbiAqIGxldCByZW5kZXJUZXh0dXJlID0gbmV3IFBJWEkuUmVuZGVyVGV4dHVyZS5jcmVhdGUoMTAwLCAxMDApO1xuICpcbiAqIHJlbmRlcmVyLnJlbmRlcihzcHJpdGUsIHJlbmRlclRleHR1cmUpOyAgLy8gUmVuZGVycyB0byBjZW50ZXIgb2YgUmVuZGVyVGV4dHVyZVxuICogYGBgXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLlRleHR1cmVcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBSZW5kZXJUZXh0dXJlID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoVGV4dHVyZSkge1xuICAgIGZ1bmN0aW9uIFJlbmRlclRleHR1cmUoYmFzZVJlbmRlclRleHR1cmUsIGZyYW1lKVxuICAgIHtcbiAgICAgICAgLy8gc3VwcG9ydCBmb3IgbGVnYWN5Li5cbiAgICAgICAgdmFyIF9sZWdhY3lSZW5kZXJlciA9IG51bGw7XG5cbiAgICAgICAgaWYgKCEoYmFzZVJlbmRlclRleHR1cmUgaW5zdGFuY2VvZiBCYXNlUmVuZGVyVGV4dHVyZSkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8qIGVzbGludC1kaXNhYmxlIHByZWZlci1yZXN0LXBhcmFtcywgbm8tY29uc29sZSAqL1xuICAgICAgICAgICAgdmFyIHdpZHRoID0gYXJndW1lbnRzWzFdO1xuICAgICAgICAgICAgdmFyIGhlaWdodCA9IGFyZ3VtZW50c1syXTtcbiAgICAgICAgICAgIHZhciBzY2FsZU1vZGUgPSBhcmd1bWVudHNbM107XG4gICAgICAgICAgICB2YXIgcmVzb2x1dGlvbiA9IGFyZ3VtZW50c1s0XTtcblxuICAgICAgICAgICAgLy8gd2UgaGF2ZSBhbiBvbGQgcmVuZGVyIHRleHR1cmUuLlxuICAgICAgICAgICAgY29uc29sZS53YXJuKChcIlBsZWFzZSB1c2UgUmVuZGVyVGV4dHVyZS5jcmVhdGUoXCIgKyB3aWR0aCArIFwiLCBcIiArIGhlaWdodCArIFwiKSBpbnN0ZWFkIG9mIHRoZSBjdG9yIGRpcmVjdGx5LlwiKSk7XG4gICAgICAgICAgICBfbGVnYWN5UmVuZGVyZXIgPSBhcmd1bWVudHNbMF07XG4gICAgICAgICAgICAvKiBlc2xpbnQtZW5hYmxlIHByZWZlci1yZXN0LXBhcmFtcywgbm8tY29uc29sZSAqL1xuXG4gICAgICAgICAgICBmcmFtZSA9IG51bGw7XG4gICAgICAgICAgICBiYXNlUmVuZGVyVGV4dHVyZSA9IG5ldyBCYXNlUmVuZGVyVGV4dHVyZSh7XG4gICAgICAgICAgICAgICAgd2lkdGg6IHdpZHRoLFxuICAgICAgICAgICAgICAgIGhlaWdodDogaGVpZ2h0LFxuICAgICAgICAgICAgICAgIHNjYWxlTW9kZTogc2NhbGVNb2RlLFxuICAgICAgICAgICAgICAgIHJlc29sdXRpb246IHJlc29sdXRpb24sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYmFzZSB0ZXh0dXJlIG9iamVjdCB0aGF0IHRoaXMgdGV4dHVyZSB1c2VzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuQmFzZVRleHR1cmV9XG4gICAgICAgICAqL1xuICAgICAgICBUZXh0dXJlLmNhbGwodGhpcywgYmFzZVJlbmRlclRleHR1cmUsIGZyYW1lKTtcblxuICAgICAgICB0aGlzLmxlZ2FjeVJlbmRlcmVyID0gX2xlZ2FjeVJlbmRlcmVyO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGlzIHdpbGwgbGV0IHRoZSByZW5kZXJlciBrbm93IGlmIHRoZSB0ZXh0dXJlIGlzIHZhbGlkLiBJZiBpdCdzIG5vdCB0aGVuIGl0IGNhbm5vdCBiZSByZW5kZXJlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudmFsaWQgPSB0cnVlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTdG9yZXMgYHNvdXJjZUZyYW1lYCB3aGVuIHRoaXMgdGV4dHVyZSBpcyBpbnNpZGUgY3VycmVudCBmaWx0ZXIgc3RhY2suXG4gICAgICAgICAqIFlvdSBjYW4gcmVhZCBpdCBpbnNpZGUgZmlsdGVycy5cbiAgICAgICAgICpcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUmVjdGFuZ2xlfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5maWx0ZXJGcmFtZSA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBrZXkgZm9yIHBvb2xlZCB0ZXh0dXJlIG9mIEZpbHRlclN5c3RlbVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZmlsdGVyUG9vbEtleSA9IG51bGw7XG5cbiAgICAgICAgdGhpcy51cGRhdGVVdnMoKTtcbiAgICB9XG5cbiAgICBpZiAoIFRleHR1cmUgKSBSZW5kZXJUZXh0dXJlLl9fcHJvdG9fXyA9IFRleHR1cmU7XG4gICAgUmVuZGVyVGV4dHVyZS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBUZXh0dXJlICYmIFRleHR1cmUucHJvdG90eXBlICk7XG4gICAgUmVuZGVyVGV4dHVyZS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBSZW5kZXJUZXh0dXJlO1xuXG4gICAgLyoqXG4gICAgICogUmVzaXplcyB0aGUgUmVuZGVyVGV4dHVyZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB3aWR0aCAtIFRoZSB3aWR0aCB0byByZXNpemUgdG8uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodCAtIFRoZSBoZWlnaHQgdG8gcmVzaXplIHRvLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3Jlc2l6ZUJhc2VUZXh0dXJlPXRydWVdIC0gU2hvdWxkIHRoZSBiYXNlVGV4dHVyZS53aWR0aCBhbmQgaGVpZ2h0IHZhbHVlcyBiZSByZXNpemVkIGFzIHdlbGw/XG4gICAgICovXG4gICAgUmVuZGVyVGV4dHVyZS5wcm90b3R5cGUucmVzaXplID0gZnVuY3Rpb24gcmVzaXplICh3aWR0aCwgaGVpZ2h0LCByZXNpemVCYXNlVGV4dHVyZSlcbiAgICB7XG4gICAgICAgIGlmICggcmVzaXplQmFzZVRleHR1cmUgPT09IHZvaWQgMCApIHJlc2l6ZUJhc2VUZXh0dXJlID0gdHJ1ZTtcblxuICAgICAgICB3aWR0aCA9IE1hdGguY2VpbCh3aWR0aCk7XG4gICAgICAgIGhlaWdodCA9IE1hdGguY2VpbChoZWlnaHQpO1xuXG4gICAgICAgIC8vIFRPRE8gLSBjb3VsZCBiZSBub3QgcmVxdWlyZWQuLlxuICAgICAgICB0aGlzLnZhbGlkID0gKHdpZHRoID4gMCAmJiBoZWlnaHQgPiAwKTtcblxuICAgICAgICB0aGlzLl9mcmFtZS53aWR0aCA9IHRoaXMub3JpZy53aWR0aCA9IHdpZHRoO1xuICAgICAgICB0aGlzLl9mcmFtZS5oZWlnaHQgPSB0aGlzLm9yaWcuaGVpZ2h0ID0gaGVpZ2h0O1xuXG4gICAgICAgIGlmIChyZXNpemVCYXNlVGV4dHVyZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5iYXNlVGV4dHVyZS5yZXNpemUod2lkdGgsIGhlaWdodCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnVwZGF0ZVV2cygpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDaGFuZ2VzIHRoZSByZXNvbHV0aW9uIG9mIGJhc2VUZXh0dXJlLCBidXQgZG9lcyBub3QgY2hhbmdlIGZyYW1lYnVmZmVyIHNpemUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmVzb2x1dGlvbiAtIFRoZSBuZXcgcmVzb2x1dGlvbiB0byBhcHBseSB0byBSZW5kZXJUZXh0dXJlXG4gICAgICovXG4gICAgUmVuZGVyVGV4dHVyZS5wcm90b3R5cGUuc2V0UmVzb2x1dGlvbiA9IGZ1bmN0aW9uIHNldFJlc29sdXRpb24gKHJlc29sdXRpb24pXG4gICAge1xuICAgICAgICB2YXIgcmVmID0gdGhpcztcbiAgICAgICAgdmFyIGJhc2VUZXh0dXJlID0gcmVmLmJhc2VUZXh0dXJlO1xuXG4gICAgICAgIGlmIChiYXNlVGV4dHVyZS5yZXNvbHV0aW9uID09PSByZXNvbHV0aW9uKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBiYXNlVGV4dHVyZS5zZXRSZXNvbHV0aW9uKHJlc29sdXRpb24pO1xuICAgICAgICB0aGlzLnJlc2l6ZShiYXNlVGV4dHVyZS53aWR0aCwgYmFzZVRleHR1cmUuaGVpZ2h0LCBmYWxzZSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEEgc2hvcnQgaGFuZCB3YXkgb2YgY3JlYXRpbmcgYSByZW5kZXIgdGV4dHVyZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gLSBPcHRpb25zXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLndpZHRoPTEwMF0gLSBUaGUgd2lkdGggb2YgdGhlIHJlbmRlciB0ZXh0dXJlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmhlaWdodD0xMDBdIC0gVGhlIGhlaWdodCBvZiB0aGUgcmVuZGVyIHRleHR1cmVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuc2NhbGVNb2RlPVBJWEkuc2V0dGluZ3MuU0NBTEVfTU9ERV0gLSBTZWUge0BsaW5rIFBJWEkuU0NBTEVfTU9ERVN9IGZvciBwb3NzaWJsZSB2YWx1ZXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMucmVzb2x1dGlvbj0xXSAtIFRoZSByZXNvbHV0aW9uIC8gZGV2aWNlIHBpeGVsIHJhdGlvIG9mIHRoZSB0ZXh0dXJlIGJlaW5nIGdlbmVyYXRlZFxuICAgICAqIEByZXR1cm4ge1BJWEkuUmVuZGVyVGV4dHVyZX0gVGhlIG5ldyByZW5kZXIgdGV4dHVyZVxuICAgICAqL1xuICAgIFJlbmRlclRleHR1cmUuY3JlYXRlID0gZnVuY3Rpb24gY3JlYXRlIChvcHRpb25zKVxuICAgIHtcbiAgICAgICAgLy8gZmFsbGJhY2ssIG9sZC1zdHlsZTogY3JlYXRlKHdpZHRoLCBoZWlnaHQsIHNjYWxlTW9kZSwgcmVzb2x1dGlvbilcbiAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zID09PSAnbnVtYmVyJylcbiAgICAgICAge1xuICAgICAgICAgICAgLyogZXNsaW50LWRpc2FibGUgcHJlZmVyLXJlc3QtcGFyYW1zICovXG4gICAgICAgICAgICBvcHRpb25zID0ge1xuICAgICAgICAgICAgICAgIHdpZHRoOiBvcHRpb25zLFxuICAgICAgICAgICAgICAgIGhlaWdodDogYXJndW1lbnRzWzFdLFxuICAgICAgICAgICAgICAgIHNjYWxlTW9kZTogYXJndW1lbnRzWzJdLFxuICAgICAgICAgICAgICAgIHJlc29sdXRpb246IGFyZ3VtZW50c1szXSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICAvKiBlc2xpbnQtZW5hYmxlIHByZWZlci1yZXN0LXBhcmFtcyAqL1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5ldyBSZW5kZXJUZXh0dXJlKG5ldyBCYXNlUmVuZGVyVGV4dHVyZShvcHRpb25zKSk7XG4gICAgfTtcblxuICAgIHJldHVybiBSZW5kZXJUZXh0dXJlO1xufShUZXh0dXJlKSk7XG5cbi8qKlxuICogRXhwZXJpbWVudGFsIVxuICpcbiAqIFRleHR1cmUgcG9vbCwgdXNlZCBieSBGaWx0ZXJTeXN0ZW0gYW5kIHBsdWdpbnNcbiAqIFN0b3JlcyBjb2xsZWN0aW9uIG9mIHRlbXBvcmFyeSBwb3cyIG9yIHNjcmVlbi1zaXplZCByZW5kZXJUZXh0dXJlc1xuICpcbiAqIElmIHlvdSB1c2UgY3VzdG9tIFJlbmRlclRleHR1cmVQb29sIGZvciB5b3VyIGZpbHRlcnMsIHlvdSBjYW4gdXNlIG1ldGhvZHNcbiAqIGBnZXRGaWx0ZXJUZXh0dXJlYCBhbmQgYHJldHVybkZpbHRlclRleHR1cmVgIHNhbWUgYXMgaW5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBSZW5kZXJUZXh0dXJlUG9vbCA9IGZ1bmN0aW9uIFJlbmRlclRleHR1cmVQb29sKHRleHR1cmVPcHRpb25zKVxue1xuICAgIHRoaXMudGV4dHVyZVBvb2wgPSB7fTtcbiAgICB0aGlzLnRleHR1cmVPcHRpb25zID0gdGV4dHVyZU9wdGlvbnMgfHwge307XG4gICAgLyoqXG4gICAgICogQWxsb3cgcmVuZGVyVGV4dHVyZXMgb2YgdGhlIHNhbWUgc2l6ZSBhcyBzY3JlZW4sIG5vdCBqdXN0IHBvdzJcbiAgICAgKlxuICAgICAqIEF1dG9tYXRpY2FsbHkgc2V0cyB0byB0cnVlIGFmdGVyIGBzZXRTY3JlZW5TaXplYFxuICAgICAqXG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAqL1xuICAgIHRoaXMuZW5hYmxlRnVsbFNjcmVlbiA9IGZhbHNlO1xuXG4gICAgdGhpcy5fcGl4ZWxzV2lkdGggPSAwO1xuICAgIHRoaXMuX3BpeGVsc0hlaWdodCA9IDA7XG59O1xuXG4vKipcbiAqIGNyZWF0ZXMgb2YgdGV4dHVyZSB3aXRoIHBhcmFtcyB0aGF0IHdlcmUgc3BlY2lmaWVkIGluIHBvb2wgY29uc3RydWN0b3JcbiAqXG4gKiBAcGFyYW0ge251bWJlcn0gcmVhbFdpZHRoIHdpZHRoIG9mIHRleHR1cmUgaW4gcGl4ZWxzXG4gKiBAcGFyYW0ge251bWJlcn0gcmVhbEhlaWdodCBoZWlnaHQgb2YgdGV4dHVyZSBpbiBwaXhlbHNcbiAqIEByZXR1cm5zIHtSZW5kZXJUZXh0dXJlfVxuICovXG5SZW5kZXJUZXh0dXJlUG9vbC5wcm90b3R5cGUuY3JlYXRlVGV4dHVyZSA9IGZ1bmN0aW9uIGNyZWF0ZVRleHR1cmUgKHJlYWxXaWR0aCwgcmVhbEhlaWdodClcbntcbiAgICB2YXIgYmFzZVJlbmRlclRleHR1cmUgPSBuZXcgQmFzZVJlbmRlclRleHR1cmUoT2JqZWN0LmFzc2lnbih7XG4gICAgICAgIHdpZHRoOiByZWFsV2lkdGgsXG4gICAgICAgIGhlaWdodDogcmVhbEhlaWdodCxcbiAgICAgICAgcmVzb2x1dGlvbjogMSxcbiAgICB9LCB0aGlzLnRleHR1cmVPcHRpb25zKSk7XG5cbiAgICByZXR1cm4gbmV3IFJlbmRlclRleHR1cmUoYmFzZVJlbmRlclRleHR1cmUpO1xufTtcblxuLyoqXG4gKiBHZXRzIGEgUG93ZXItb2YtVHdvIHJlbmRlciB0ZXh0dXJlIG9yIGZ1bGxTY3JlZW4gdGV4dHVyZVxuICpcbiAqIEBwcm90ZWN0ZWRcbiAqIEBwYXJhbSB7bnVtYmVyfSBtaW5XaWR0aCAtIFRoZSBtaW5pbXVtIHdpZHRoIG9mIHRoZSByZW5kZXIgdGV4dHVyZSBpbiByZWFsIHBpeGVscy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBtaW5IZWlnaHQgLSBUaGUgbWluaW11bSBoZWlnaHQgb2YgdGhlIHJlbmRlciB0ZXh0dXJlIGluIHJlYWwgcGl4ZWxzLlxuICogQHBhcmFtIHtudW1iZXJ9IFtyZXNvbHV0aW9uPTFdIC0gVGhlIHJlc29sdXRpb24gb2YgdGhlIHJlbmRlciB0ZXh0dXJlLlxuICogQHJldHVybiB7UElYSS5SZW5kZXJUZXh0dXJlfSBUaGUgbmV3IHJlbmRlciB0ZXh0dXJlLlxuICovXG5SZW5kZXJUZXh0dXJlUG9vbC5wcm90b3R5cGUuZ2V0T3B0aW1hbFRleHR1cmUgPSBmdW5jdGlvbiBnZXRPcHRpbWFsVGV4dHVyZSAobWluV2lkdGgsIG1pbkhlaWdodCwgcmVzb2x1dGlvbilcbntcbiAgICAgICAgaWYgKCByZXNvbHV0aW9uID09PSB2b2lkIDAgKSByZXNvbHV0aW9uID0gMTtcblxuICAgIHZhciBrZXkgPSBSZW5kZXJUZXh0dXJlUG9vbC5TQ1JFRU5fS0VZO1xuXG4gICAgbWluV2lkdGggKj0gcmVzb2x1dGlvbjtcbiAgICBtaW5IZWlnaHQgKj0gcmVzb2x1dGlvbjtcblxuICAgIGlmICghdGhpcy5lbmFibGVGdWxsU2NyZWVuIHx8IG1pbldpZHRoICE9PSB0aGlzLl9waXhlbHNXaWR0aCB8fCBtaW5IZWlnaHQgIT09IHRoaXMuX3BpeGVsc0hlaWdodClcbiAgICB7XG4gICAgICAgIG1pbldpZHRoID0gbmV4dFBvdzIobWluV2lkdGgpO1xuICAgICAgICBtaW5IZWlnaHQgPSBuZXh0UG93MihtaW5IZWlnaHQpO1xuICAgICAgICBrZXkgPSAoKG1pbldpZHRoICYgMHhGRkZGKSA8PCAxNikgfCAobWluSGVpZ2h0ICYgMHhGRkZGKTtcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMudGV4dHVyZVBvb2xba2V5XSlcbiAgICB7XG4gICAgICAgIHRoaXMudGV4dHVyZVBvb2xba2V5XSA9IFtdO1xuICAgIH1cblxuICAgIHZhciByZW5kZXJUZXh0dXJlID0gdGhpcy50ZXh0dXJlUG9vbFtrZXldLnBvcCgpO1xuXG4gICAgaWYgKCFyZW5kZXJUZXh0dXJlKVxuICAgIHtcbiAgICAgICAgcmVuZGVyVGV4dHVyZSA9IHRoaXMuY3JlYXRlVGV4dHVyZShtaW5XaWR0aCwgbWluSGVpZ2h0KTtcbiAgICB9XG5cbiAgICByZW5kZXJUZXh0dXJlLmZpbHRlclBvb2xLZXkgPSBrZXk7XG4gICAgcmVuZGVyVGV4dHVyZS5zZXRSZXNvbHV0aW9uKHJlc29sdXRpb24pO1xuXG4gICAgcmV0dXJuIHJlbmRlclRleHR1cmU7XG59O1xuXG4vKipcbiAqIEdldHMgZXh0cmEgdGV4dHVyZSBvZiB0aGUgc2FtZSBzaXplIGFzIGlucHV0IHJlbmRlclRleHR1cmVcbiAqXG4gKiBgZ2V0RmlsdGVyVGV4dHVyZShpbnB1dCwgMC41KWAgb3IgYGdldEZpbHRlclRleHR1cmUoMC41LCBpbnB1dClgXG4gKlxuICogQHBhcmFtIHtQSVhJLlJlbmRlclRleHR1cmV9IGlucHV0IHJlbmRlclRleHR1cmUgZnJvbSB3aGljaCBzaXplIGFuZCByZXNvbHV0aW9uIHdpbGwgYmUgY29waWVkXG4gKiBAcGFyYW0ge251bWJlcn0gW3Jlc29sdXRpb25dIG92ZXJyaWRlIHJlc29sdXRpb24gb2YgdGhlIHJlbmRlclRleHR1cmVcbiAqICBJdCBvdmVycmlkZXMsIGl0IGRvZXMgbm90IG11bHRpcGx5XG4gKiBAcmV0dXJucyB7UElYSS5SZW5kZXJUZXh0dXJlfVxuICovXG5SZW5kZXJUZXh0dXJlUG9vbC5wcm90b3R5cGUuZ2V0RmlsdGVyVGV4dHVyZSA9IGZ1bmN0aW9uIGdldEZpbHRlclRleHR1cmUgKGlucHV0LCByZXNvbHV0aW9uKVxue1xuICAgIHZhciBmaWx0ZXJUZXh0dXJlID0gdGhpcy5nZXRPcHRpbWFsVGV4dHVyZShpbnB1dC53aWR0aCwgaW5wdXQuaGVpZ2h0LCByZXNvbHV0aW9uIHx8IGlucHV0LnJlc29sdXRpb24pO1xuXG4gICAgZmlsdGVyVGV4dHVyZS5maWx0ZXJGcmFtZSA9IGlucHV0LmZpbHRlckZyYW1lO1xuXG4gICAgcmV0dXJuIGZpbHRlclRleHR1cmU7XG59O1xuXG4vKipcbiAqIFBsYWNlIGEgcmVuZGVyIHRleHR1cmUgYmFjayBpbnRvIHRoZSBwb29sLlxuICogQHBhcmFtIHtQSVhJLlJlbmRlclRleHR1cmV9IHJlbmRlclRleHR1cmUgLSBUaGUgcmVuZGVyVGV4dHVyZSB0byBmcmVlXG4gKi9cblJlbmRlclRleHR1cmVQb29sLnByb3RvdHlwZS5yZXR1cm5UZXh0dXJlID0gZnVuY3Rpb24gcmV0dXJuVGV4dHVyZSAocmVuZGVyVGV4dHVyZSlcbntcbiAgICB2YXIga2V5ID0gcmVuZGVyVGV4dHVyZS5maWx0ZXJQb29sS2V5O1xuXG4gICAgcmVuZGVyVGV4dHVyZS5maWx0ZXJGcmFtZSA9IG51bGw7XG4gICAgdGhpcy50ZXh0dXJlUG9vbFtrZXldLnB1c2gocmVuZGVyVGV4dHVyZSk7XG59O1xuXG4vKipcbiAqIEFsaWFzIGZvciByZXR1cm5UZXh0dXJlLCB0byBiZSBjb21wbGlhbnQgd2l0aCBGaWx0ZXJTeXN0ZW0gaW50ZXJmYWNlXG4gKiBAcGFyYW0ge1BJWEkuUmVuZGVyVGV4dHVyZX0gcmVuZGVyVGV4dHVyZSAtIFRoZSByZW5kZXJUZXh0dXJlIHRvIGZyZWVcbiAqL1xuUmVuZGVyVGV4dHVyZVBvb2wucHJvdG90eXBlLnJldHVybkZpbHRlclRleHR1cmUgPSBmdW5jdGlvbiByZXR1cm5GaWx0ZXJUZXh0dXJlIChyZW5kZXJUZXh0dXJlKVxue1xuICAgIHRoaXMucmV0dXJuVGV4dHVyZShyZW5kZXJUZXh0dXJlKTtcbn07XG5cbi8qKlxuICogQ2xlYXJzIHRoZSBwb29sXG4gKlxuICogQHBhcmFtIHtib29sZWFufSBbZGVzdHJveVRleHR1cmVzPXRydWVdIGRlc3Ryb3kgYWxsIHN0b3JlZCB0ZXh0dXJlc1xuICovXG5SZW5kZXJUZXh0dXJlUG9vbC5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiBjbGVhciAoZGVzdHJveVRleHR1cmVzKVxue1xuICAgIGRlc3Ryb3lUZXh0dXJlcyA9IGRlc3Ryb3lUZXh0dXJlcyAhPT0gZmFsc2U7XG4gICAgaWYgKGRlc3Ryb3lUZXh0dXJlcylcbiAgICB7XG4gICAgICAgIGZvciAodmFyIGkgaW4gdGhpcy50ZXh0dXJlUG9vbClcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIHRleHR1cmVzID0gdGhpcy50ZXh0dXJlUG9vbFtpXTtcblxuICAgICAgICAgICAgaWYgKHRleHR1cmVzKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgdGV4dHVyZXMubGVuZ3RoOyBqKyspXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0ZXh0dXJlc1tqXS5kZXN0cm95KHRydWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMudGV4dHVyZVBvb2wgPSB7fTtcbn07XG5cbi8qKlxuICogSWYgc2NyZWVuIHNpemUgd2FzIGNoYW5nZWQsIGRyb3BzIGFsbCBzY3JlZW4tc2l6ZWQgdGV4dHVyZXMsXG4gKiBzZXRzIG5ldyBzY3JlZW4gc2l6ZSwgc2V0cyBgZW5hYmxlRnVsbFNjcmVlbmAgdG8gdHJ1ZVxuICpcbiAqIFNpemUgaXMgbWVhc3VyZWQgaW4gcGl4ZWxzLCBgcmVuZGVyZXIudmlld2AgY2FuIGJlIHBhc3NlZCBoZXJlLCBub3QgYHJlbmRlcmVyLnNjcmVlbmBcbiAqXG4gKiBAcGFyYW0ge1BJWEkuSVNpemV9IHNpemUgLSBJbml0aWFsIHNpemUgb2Ygc2NyZWVuXG4gKi9cblJlbmRlclRleHR1cmVQb29sLnByb3RvdHlwZS5zZXRTY3JlZW5TaXplID0gZnVuY3Rpb24gc2V0U2NyZWVuU2l6ZSAoc2l6ZSlcbntcbiAgICBpZiAoc2l6ZS53aWR0aCA9PT0gdGhpcy5fcGl4ZWxzV2lkdGhcbiAgICAgICAgJiYgc2l6ZS5oZWlnaHQgPT09IHRoaXMuX3BpeGVsc0hlaWdodClcbiAgICB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgc2NyZWVuS2V5ID0gUmVuZGVyVGV4dHVyZVBvb2wuU0NSRUVOX0tFWTtcbiAgICB2YXIgdGV4dHVyZXMgPSB0aGlzLnRleHR1cmVQb29sW3NjcmVlbktleV07XG5cbiAgICB0aGlzLmVuYWJsZUZ1bGxTY3JlZW4gPSBzaXplLndpZHRoID4gMCAmJiBzaXplLmhlaWdodCA+IDA7XG5cbiAgICBpZiAodGV4dHVyZXMpXG4gICAge1xuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHRleHR1cmVzLmxlbmd0aDsgaisrKVxuICAgICAgICB7XG4gICAgICAgICAgICB0ZXh0dXJlc1tqXS5kZXN0cm95KHRydWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHRoaXMudGV4dHVyZVBvb2xbc2NyZWVuS2V5XSA9IFtdO1xuXG4gICAgdGhpcy5fcGl4ZWxzV2lkdGggPSBzaXplLndpZHRoO1xuICAgIHRoaXMuX3BpeGVsc0hlaWdodCA9IHNpemUuaGVpZ2h0O1xufTtcblxuLyoqXG4gKiBLZXkgdGhhdCBpcyB1c2VkIHRvIHN0b3JlIGZ1bGxzY3JlZW4gcmVuZGVyVGV4dHVyZXMgaW4gYSBwb29sXG4gKlxuICogQHN0YXRpY1xuICogQGNvbnN0IHtzdHJpbmd9XG4gKi9cblJlbmRlclRleHR1cmVQb29sLlNDUkVFTl9LRVkgPSAnc2NyZWVuJztcblxuLyogZXNsaW50LWRpc2FibGUgbWF4LWxlbiAqL1xuXG4vKipcbiAqIEhvbGRzIHRoZSBpbmZvcm1hdGlvbiBmb3IgYSBzaW5nbGUgYXR0cmlidXRlIHN0cnVjdHVyZSByZXF1aXJlZCB0byByZW5kZXIgZ2VvbWV0cnkuXG4gKlxuICogVGhpcyBkb2VzIG5vdCBjb250YWluIHRoZSBhY3R1YWwgZGF0YSwgYnV0IGluc3RlYWQgaGFzIGEgYnVmZmVyIGlkIHRoYXQgbWFwcyB0byBhIHtAbGluayBQSVhJLkJ1ZmZlcn1cbiAqIFRoaXMgY2FuIGluY2x1ZGUgYW55dGhpbmcgZnJvbSBwb3NpdGlvbnMsIHV2cywgbm9ybWFscywgY29sb3JzIGV0Yy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBBdHRyaWJ1dGUgPSBmdW5jdGlvbiBBdHRyaWJ1dGUoYnVmZmVyLCBzaXplLCBub3JtYWxpemVkLCB0eXBlLCBzdHJpZGUsIHN0YXJ0LCBpbnN0YW5jZSlcbntcbiAgICBpZiAoIG5vcm1hbGl6ZWQgPT09IHZvaWQgMCApIG5vcm1hbGl6ZWQgPSBmYWxzZTtcbiAgICBpZiAoIHR5cGUgPT09IHZvaWQgMCApIHR5cGUgPSA1MTI2O1xuXG4gICAgdGhpcy5idWZmZXIgPSBidWZmZXI7XG4gICAgdGhpcy5zaXplID0gc2l6ZTtcbiAgICB0aGlzLm5vcm1hbGl6ZWQgPSBub3JtYWxpemVkO1xuICAgIHRoaXMudHlwZSA9IHR5cGU7XG4gICAgdGhpcy5zdHJpZGUgPSBzdHJpZGU7XG4gICAgdGhpcy5zdGFydCA9IHN0YXJ0O1xuICAgIHRoaXMuaW5zdGFuY2UgPSBpbnN0YW5jZTtcbn07XG5cbi8qKlxuICogRGVzdHJveXMgdGhlIEF0dHJpYnV0ZS5cbiAqL1xuQXR0cmlidXRlLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSAoKVxue1xuICAgIHRoaXMuYnVmZmVyID0gbnVsbDtcbn07XG5cbi8qKlxuICogSGVscGVyIGZ1bmN0aW9uIHRoYXQgY3JlYXRlcyBhbiBBdHRyaWJ1dGUgYmFzZWQgb24gdGhlIGluZm9ybWF0aW9uIHByb3ZpZGVkXG4gKlxuICogQHN0YXRpY1xuICogQHBhcmFtIHtzdHJpbmd9IGJ1ZmZlciAgdGhlIGlkIG9mIHRoZSBidWZmZXIgdGhhdCB0aGlzIGF0dHJpYnV0ZSB3aWxsIGxvb2sgZm9yXG4gKiBAcGFyYW0ge051bWJlcn0gW3NpemU9MF0gdGhlIHNpemUgb2YgdGhlIGF0dHJpYnV0ZS4gSWYgeW91IGhhdmUgMiBmbG9hdHMgcGVyIHZlcnRleCAoZWcgcG9zaXRpb24geCBhbmQgeSkgdGhpcyB3b3VsZCBiZSAyXG4gKiBAcGFyYW0ge0Jvb2xlYW59IFtub3JtYWxpemVkPWZhbHNlXSBzaG91bGQgdGhlIGRhdGEgYmUgbm9ybWFsaXplZC5cbiAqIEBwYXJhbSB7TnVtYmVyfSBbc3RhcnQ9MF0gSG93IGZhciBpbnRvIHRoZSBhcnJheSB0byBzdGFydCByZWFkaW5nIHZhbHVlcyAodXNlZCBmb3IgaW50ZXJsZWF2aW5nIGRhdGEpXG4gKiBAcGFyYW0ge051bWJlcn0gW3R5cGU9UElYSS5UWVBFUy5GTE9BVF0gd2hhdCB0eXBlIG9mIG51bWJlciBpcyB0aGUgYXR0cmlidXRlLiBDaGVjayB7QGxpbmsgUElYSS5UWVBFU30gdG8gc2VlIHRoZSBvbmVzIGF2YWlsYWJsZVxuICogQHBhcmFtIHtOdW1iZXJ9IFtzdHJpZGU9MF0gSG93IGZhciBhcGFydCAoaW4gZmxvYXRzKSB0aGUgc3RhcnQgb2YgZWFjaCB2YWx1ZSBpcy4gKHVzZWQgZm9yIGludGVybGVhdmluZyBkYXRhKVxuICpcbiAqIEByZXR1cm5zIHtQSVhJLkF0dHJpYnV0ZX0gQSBuZXcge0BsaW5rIFBJWEkuQXR0cmlidXRlfSBiYXNlZCBvbiB0aGUgaW5mb3JtYXRpb24gcHJvdmlkZWRcbiAqL1xuQXR0cmlidXRlLmZyb20gPSBmdW5jdGlvbiBmcm9tIChidWZmZXIsIHNpemUsIG5vcm1hbGl6ZWQsIHR5cGUsIHN0cmlkZSlcbntcbiAgICByZXR1cm4gbmV3IEF0dHJpYnV0ZShidWZmZXIsIHNpemUsIG5vcm1hbGl6ZWQsIHR5cGUsIHN0cmlkZSk7XG59O1xuXG52YXIgVUlEID0gMDtcbi8qIGVzbGludC1kaXNhYmxlIG1heC1sZW4gKi9cblxuLyoqXG4gKiBBIHdyYXBwZXIgZm9yIGRhdGEgc28gdGhhdCBpdCBjYW4gYmUgdXNlZCBhbmQgdXBsb2FkZWQgYnkgV2ViR0xcbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBCdWZmZXIgPSBmdW5jdGlvbiBCdWZmZXIoZGF0YSwgX3N0YXRpYywgaW5kZXgpXG57XG4gICAgaWYgKCBfc3RhdGljID09PSB2b2lkIDAgKSBfc3RhdGljID0gdHJ1ZTtcbiAgICBpZiAoIGluZGV4ID09PSB2b2lkIDAgKSBpbmRleCA9IGZhbHNlO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGRhdGEgaW4gdGhlIGJ1ZmZlciwgYXMgYSB0eXBlZCBhcnJheVxuICAgICAqXG4gICAgICogQG1lbWJlciB7QXJyYXlCdWZmZXJ8IFNoYXJlZEFycmF5QnVmZmVyfEFycmF5QnVmZmVyVmlld31cbiAgICAgKi9cbiAgICB0aGlzLmRhdGEgPSBkYXRhIHx8IG5ldyBGbG9hdDMyQXJyYXkoMSk7XG5cbiAgICAvKipcbiAgICAgKiBBIG1hcCBvZiByZW5kZXJlciBJRHMgdG8gd2ViZ2wgYnVmZmVyXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBtZW1iZXIge29iamVjdDxudW1iZXIsIEdMQnVmZmVyPn1cbiAgICAgKi9cbiAgICB0aGlzLl9nbEJ1ZmZlcnMgPSB7fTtcblxuICAgIHRoaXMuX3VwZGF0ZUlEID0gMDtcblxuICAgIHRoaXMuaW5kZXggPSBpbmRleDtcblxuICAgIHRoaXMuc3RhdGljID0gX3N0YXRpYztcblxuICAgIHRoaXMuaWQgPSBVSUQrKztcblxuICAgIHRoaXMuZGlzcG9zZVJ1bm5lciA9IG5ldyBSdW5uZXIoJ2Rpc3Bvc2VCdWZmZXInLCAyKTtcbn07XG5cbi8vIFRPRE8gY291bGQgZXhwbG9yZSBmbGFnZ2luZyBvbmx5IGEgcGFydGlhbCB1cGxvYWQ/XG4vKipcbiAqIGZsYWdzIHRoaXMgYnVmZmVyIGFzIHJlcXVpcmluZyBhbiB1cGxvYWQgdG8gdGhlIEdQVVxuICogQHBhcmFtIHtBcnJheUJ1ZmZlcnxTaGFyZWRBcnJheUJ1ZmZlcnxBcnJheUJ1ZmZlclZpZXd9IFtkYXRhXSB0aGUgZGF0YSB0byB1cGRhdGUgaW4gdGhlIGJ1ZmZlci5cbiAqL1xuQnVmZmVyLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiB1cGRhdGUgKGRhdGEpXG57XG4gICAgdGhpcy5kYXRhID0gZGF0YSB8fCB0aGlzLmRhdGE7XG4gICAgdGhpcy5fdXBkYXRlSUQrKztcbn07XG5cbi8qKlxuICogZGlzcG9zZXMgV2ViR0wgcmVzb3VyY2VzIHRoYXQgYXJlIGNvbm5lY3RlZCB0byB0aGlzIGdlb21ldHJ5XG4gKi9cbkJ1ZmZlci5wcm90b3R5cGUuZGlzcG9zZSA9IGZ1bmN0aW9uIGRpc3Bvc2UgKClcbntcbiAgICB0aGlzLmRpc3Bvc2VSdW5uZXIucnVuKHRoaXMsIGZhbHNlKTtcbn07XG5cbi8qKlxuICogRGVzdHJveXMgdGhlIGJ1ZmZlclxuICovXG5CdWZmZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95ICgpXG57XG4gICAgdGhpcy5kaXNwb3NlKCk7XG5cbiAgICB0aGlzLmRhdGEgPSBudWxsO1xufTtcblxuLyoqXG4gKiBIZWxwZXIgZnVuY3Rpb24gdGhhdCBjcmVhdGVzIGEgYnVmZmVyIGJhc2VkIG9uIGFuIGFycmF5IG9yIFR5cGVkQXJyYXlcbiAqXG4gKiBAc3RhdGljXG4gKiBAcGFyYW0ge0FycmF5QnVmZmVyVmlldyB8IG51bWJlcltdfSBkYXRhIHRoZSBUeXBlZEFycmF5IHRoYXQgdGhlIGJ1ZmZlciB3aWxsIHN0b3JlLiBJZiB0aGlzIGlzIGEgcmVndWxhciBBcnJheSBpdCB3aWxsIGJlIGNvbnZlcnRlZCB0byBhIEZsb2F0MzJBcnJheS5cbiAqIEByZXR1cm4ge1BJWEkuQnVmZmVyfSBBIG5ldyBCdWZmZXIgYmFzZWQgb24gdGhlIGRhdGEgcHJvdmlkZWQuXG4gKi9cbkJ1ZmZlci5mcm9tID0gZnVuY3Rpb24gZnJvbSAoZGF0YSlcbntcbiAgICBpZiAoZGF0YSBpbnN0YW5jZW9mIEFycmF5KVxuICAgIHtcbiAgICAgICAgZGF0YSA9IG5ldyBGbG9hdDMyQXJyYXkoZGF0YSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBCdWZmZXIoZGF0YSk7XG59O1xuXG5mdW5jdGlvbiBnZXRCdWZmZXJUeXBlKGFycmF5KVxue1xuICAgIGlmIChhcnJheS5CWVRFU19QRVJfRUxFTUVOVCA9PT0gNClcbiAgICB7XG4gICAgICAgIGlmIChhcnJheSBpbnN0YW5jZW9mIEZsb2F0MzJBcnJheSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuICdGbG9hdDMyQXJyYXknO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGFycmF5IGluc3RhbmNlb2YgVWludDMyQXJyYXkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiAnVWludDMyQXJyYXknO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuICdJbnQzMkFycmF5JztcbiAgICB9XG4gICAgZWxzZSBpZiAoYXJyYXkuQllURVNfUEVSX0VMRU1FTlQgPT09IDIpXG4gICAge1xuICAgICAgICBpZiAoYXJyYXkgaW5zdGFuY2VvZiBVaW50MTZBcnJheSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuICdVaW50MTZBcnJheSc7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAoYXJyYXkuQllURVNfUEVSX0VMRU1FTlQgPT09IDEpXG4gICAge1xuICAgICAgICBpZiAoYXJyYXkgaW5zdGFuY2VvZiBVaW50OEFycmF5KVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gJ1VpbnQ4QXJyYXknO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gVE9ETyBtYXAgb3V0IHRoZSByZXN0IG9mIHRoZSBhcnJheSBlbGVtZW50cyFcbiAgICByZXR1cm4gbnVsbDtcbn1cblxuLyogZXNsaW50LWRpc2FibGUgb2JqZWN0LXNob3J0aGFuZCAqL1xudmFyIG1hcCA9IHtcbiAgICBGbG9hdDMyQXJyYXk6IEZsb2F0MzJBcnJheSxcbiAgICBVaW50MzJBcnJheTogVWludDMyQXJyYXksXG4gICAgSW50MzJBcnJheTogSW50MzJBcnJheSxcbiAgICBVaW50OEFycmF5OiBVaW50OEFycmF5LFxufTtcblxuZnVuY3Rpb24gaW50ZXJsZWF2ZVR5cGVkQXJyYXlzKGFycmF5cywgc2l6ZXMpXG57XG4gICAgdmFyIG91dFNpemUgPSAwO1xuICAgIHZhciBzdHJpZGUgPSAwO1xuICAgIHZhciB2aWV3cyA9IHt9O1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheXMubGVuZ3RoOyBpKyspXG4gICAge1xuICAgICAgICBzdHJpZGUgKz0gc2l6ZXNbaV07XG4gICAgICAgIG91dFNpemUgKz0gYXJyYXlzW2ldLmxlbmd0aDtcbiAgICB9XG5cbiAgICB2YXIgYnVmZmVyID0gbmV3IEFycmF5QnVmZmVyKG91dFNpemUgKiA0KTtcblxuICAgIHZhciBvdXQgPSBudWxsO1xuICAgIHZhciBsaXR0bGVPZmZzZXQgPSAwO1xuXG4gICAgZm9yICh2YXIgaSQxID0gMDsgaSQxIDwgYXJyYXlzLmxlbmd0aDsgaSQxKyspXG4gICAge1xuICAgICAgICB2YXIgc2l6ZSA9IHNpemVzW2kkMV07XG4gICAgICAgIHZhciBhcnJheSA9IGFycmF5c1tpJDFdO1xuXG4gICAgICAgIHZhciB0eXBlID0gZ2V0QnVmZmVyVHlwZShhcnJheSk7XG5cbiAgICAgICAgaWYgKCF2aWV3c1t0eXBlXSlcbiAgICAgICAge1xuICAgICAgICAgICAgdmlld3NbdHlwZV0gPSBuZXcgbWFwW3R5cGVdKGJ1ZmZlcik7XG4gICAgICAgIH1cblxuICAgICAgICBvdXQgPSB2aWV3c1t0eXBlXTtcblxuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGFycmF5Lmxlbmd0aDsgaisrKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgaW5kZXhTdGFydCA9ICgoaiAvIHNpemUgfCAwKSAqIHN0cmlkZSkgKyBsaXR0bGVPZmZzZXQ7XG4gICAgICAgICAgICB2YXIgaW5kZXggPSBqICUgc2l6ZTtcblxuICAgICAgICAgICAgb3V0W2luZGV4U3RhcnQgKyBpbmRleF0gPSBhcnJheVtqXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxpdHRsZU9mZnNldCArPSBzaXplO1xuICAgIH1cblxuICAgIHJldHVybiBuZXcgRmxvYXQzMkFycmF5KGJ1ZmZlcik7XG59XG5cbnZhciBieXRlU2l6ZU1hcCA9IHsgNTEyNjogNCwgNTEyMzogMiwgNTEyMTogMSB9O1xudmFyIFVJRCQxID0gMDtcblxuLyogZXNsaW50LWRpc2FibGUgb2JqZWN0LXNob3J0aGFuZCAqL1xudmFyIG1hcCQxID0ge1xuICAgIEZsb2F0MzJBcnJheTogRmxvYXQzMkFycmF5LFxuICAgIFVpbnQzMkFycmF5OiBVaW50MzJBcnJheSxcbiAgICBJbnQzMkFycmF5OiBJbnQzMkFycmF5LFxuICAgIFVpbnQ4QXJyYXk6IFVpbnQ4QXJyYXksXG4gICAgVWludDE2QXJyYXk6IFVpbnQxNkFycmF5LFxufTtcblxuLyogZXNsaW50LWRpc2FibGUgbWF4LWxlbiAqL1xuXG4vKipcbiAqIFRoZSBHZW9tZXRyeSByZXByZXNlbnRzIGEgbW9kZWwuIEl0IGNvbnNpc3RzIG9mIHR3byBjb21wb25lbnRzOlxuICogLSBHZW9tZXRyeVN0eWxlIC0gVGhlIHN0cnVjdHVyZSBvZiB0aGUgbW9kZWwgc3VjaCBhcyB0aGUgYXR0cmlidXRlcyBsYXlvdXRcbiAqIC0gR2VvbWV0cnlEYXRhIC0gdGhlIGRhdGEgb2YgdGhlIG1vZGVsIC0gdGhpcyBjb25zaXN0cyBvZiBidWZmZXJzLlxuICogVGhpcyBjYW4gaW5jbHVkZSBhbnl0aGluZyBmcm9tIHBvc2l0aW9ucywgdXZzLCBub3JtYWxzLCBjb2xvcnMgZXRjLlxuICpcbiAqIEdlb21ldHJ5IGNhbiBiZSBkZWZpbmVkIHdpdGhvdXQgcGFzc2luZyBpbiBhIHN0eWxlIG9yIGRhdGEgaWYgcmVxdWlyZWQgKHRoYXRzIGhvdyBJIHByZWZlciEpXG4gKlxuICogYGBganNcbiAqIGxldCBnZW9tZXRyeSA9IG5ldyBQSVhJLkdlb21ldHJ5KCk7XG4gKlxuICogZ2VvbWV0cnkuYWRkQXR0cmlidXRlKCdwb3NpdGlvbnMnLCBbMCwgMCwgMTAwLCAwLCAxMDAsIDEwMCwgMCwgMTAwXSwgMik7XG4gKiBnZW9tZXRyeS5hZGRBdHRyaWJ1dGUoJ3V2cycsIFswLDAsMSwwLDEsMSwwLDFdLDIpXG4gKiBnZW9tZXRyeS5hZGRJbmRleChbMCwxLDIsMSwzLDJdKVxuICpcbiAqIGBgYFxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgR2VvbWV0cnkgPSBmdW5jdGlvbiBHZW9tZXRyeShidWZmZXJzLCBhdHRyaWJ1dGVzKVxue1xuICAgIGlmICggYnVmZmVycyA9PT0gdm9pZCAwICkgYnVmZmVycyA9IFtdO1xuICAgIGlmICggYXR0cmlidXRlcyA9PT0gdm9pZCAwICkgYXR0cmlidXRlcyA9IHt9O1xuXG4gICAgdGhpcy5idWZmZXJzID0gYnVmZmVycztcblxuICAgIHRoaXMuaW5kZXhCdWZmZXIgPSBudWxsO1xuXG4gICAgdGhpcy5hdHRyaWJ1dGVzID0gYXR0cmlidXRlcztcblxuICAgIC8qKlxuICAgICAqIEEgbWFwIG9mIHJlbmRlcmVyIElEcyB0byB3ZWJnbCBWQU9zXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHR5cGUge29iamVjdH1cbiAgICAgKi9cbiAgICB0aGlzLmdsVmVydGV4QXJyYXlPYmplY3RzID0ge307XG5cbiAgICB0aGlzLmlkID0gVUlEJDErKztcblxuICAgIHRoaXMuaW5zdGFuY2VkID0gZmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBOdW1iZXIgb2YgaW5zdGFuY2VzIGluIHRoaXMgZ2VvbWV0cnksIHBhc3MgaXQgdG8gYEdlb21ldHJ5U3lzdGVtLmRyYXcoKWBcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMVxuICAgICAqL1xuICAgIHRoaXMuaW5zdGFuY2VDb3VudCA9IDE7XG5cbiAgICB0aGlzLmRpc3Bvc2VSdW5uZXIgPSBuZXcgUnVubmVyKCdkaXNwb3NlR2VvbWV0cnknLCAyKTtcblxuICAgIC8qKlxuICAgICAqIENvdW50IG9mIGV4aXN0aW5nIChub3QgZGVzdHJveWVkKSBtZXNoZXMgdGhhdCByZWZlcmVuY2UgdGhpcyBnZW9tZXRyeVxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnJlZkNvdW50ID0gMDtcbn07XG5cbi8qKlxuKlxuKiBBZGRzIGFuIGF0dHJpYnV0ZSB0byB0aGUgZ2VvbWV0cnlcbipcbiogQHBhcmFtIHtTdHJpbmd9IGlkIC0gdGhlIG5hbWUgb2YgdGhlIGF0dHJpYnV0ZSAobWF0Y2hpbmcgdXAgdG8gYSBzaGFkZXIpXG4qIEBwYXJhbSB7UElYSS5CdWZmZXJ8bnVtYmVyW119IFtidWZmZXJdIHRoZSBidWZmZXIgdGhhdCBob2xkcyB0aGUgZGF0YSBvZiB0aGUgYXR0cmlidXRlIC4gWW91IGNhbiBhbHNvIHByb3ZpZGUgYW4gQXJyYXkgYW5kIGEgYnVmZmVyIHdpbGwgYmUgY3JlYXRlZCBmcm9tIGl0LlxuKiBAcGFyYW0ge051bWJlcn0gW3NpemU9MF0gdGhlIHNpemUgb2YgdGhlIGF0dHJpYnV0ZS4gSWYgeW91IGhhdmUgMiBmbG9hdHMgcGVyIHZlcnRleCAoZWcgcG9zaXRpb24geCBhbmQgeSkgdGhpcyB3b3VsZCBiZSAyXG4qIEBwYXJhbSB7Qm9vbGVhbn0gW25vcm1hbGl6ZWQ9ZmFsc2VdIHNob3VsZCB0aGUgZGF0YSBiZSBub3JtYWxpemVkLlxuKiBAcGFyYW0ge051bWJlcn0gW3R5cGU9UElYSS5UWVBFUy5GTE9BVF0gd2hhdCB0eXBlIG9mIG51bWJlciBpcyB0aGUgYXR0cmlidXRlLiBDaGVjayB7UElYSS5UWVBFU30gdG8gc2VlIHRoZSBvbmVzIGF2YWlsYWJsZVxuKiBAcGFyYW0ge051bWJlcn0gW3N0cmlkZT0wXSBIb3cgZmFyIGFwYXJ0IChpbiBmbG9hdHMpIHRoZSBzdGFydCBvZiBlYWNoIHZhbHVlIGlzLiAodXNlZCBmb3IgaW50ZXJsZWF2aW5nIGRhdGEpXG4qIEBwYXJhbSB7TnVtYmVyfSBbc3RhcnQ9MF0gSG93IGZhciBpbnRvIHRoZSBhcnJheSB0byBzdGFydCByZWFkaW5nIHZhbHVlcyAodXNlZCBmb3IgaW50ZXJsZWF2aW5nIGRhdGEpXG4qXG4qIEByZXR1cm4ge1BJWEkuR2VvbWV0cnl9IHJldHVybnMgc2VsZiwgdXNlZnVsIGZvciBjaGFpbmluZy5cbiovXG5HZW9tZXRyeS5wcm90b3R5cGUuYWRkQXR0cmlidXRlID0gZnVuY3Rpb24gYWRkQXR0cmlidXRlIChpZCwgYnVmZmVyLCBzaXplLCBub3JtYWxpemVkLCB0eXBlLCBzdHJpZGUsIHN0YXJ0LCBpbnN0YW5jZSlcbntcbiAgICAgICAgaWYgKCBub3JtYWxpemVkID09PSB2b2lkIDAgKSBub3JtYWxpemVkID0gZmFsc2U7XG4gICAgICAgIGlmICggaW5zdGFuY2UgPT09IHZvaWQgMCApIGluc3RhbmNlID0gZmFsc2U7XG5cbiAgICBpZiAoIWJ1ZmZlcilcbiAgICB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignWW91IG11c3QgcGFzcyBhIGJ1ZmZlciB3aGVuIGNyZWF0aW5nIGFuIGF0dHJpYnV0ZScpO1xuICAgIH1cblxuICAgIC8vIGNoZWNrIGlmIHRoaXMgaXMgYSBidWZmZXIhXG4gICAgaWYgKCFidWZmZXIuZGF0YSlcbiAgICB7XG4gICAgICAgIC8vIGl0cyBhbiBhcnJheSFcbiAgICAgICAgaWYgKGJ1ZmZlciBpbnN0YW5jZW9mIEFycmF5KVxuICAgICAgICB7XG4gICAgICAgICAgICBidWZmZXIgPSBuZXcgRmxvYXQzMkFycmF5KGJ1ZmZlcik7XG4gICAgICAgIH1cblxuICAgICAgICBidWZmZXIgPSBuZXcgQnVmZmVyKGJ1ZmZlcik7XG4gICAgfVxuXG4gICAgdmFyIGlkcyA9IGlkLnNwbGl0KCd8Jyk7XG5cbiAgICBpZiAoaWRzLmxlbmd0aCA+IDEpXG4gICAge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGlkcy5sZW5ndGg7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5hZGRBdHRyaWJ1dGUoaWRzW2ldLCBidWZmZXIsIHNpemUsIG5vcm1hbGl6ZWQsIHR5cGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgdmFyIGJ1ZmZlckluZGV4ID0gdGhpcy5idWZmZXJzLmluZGV4T2YoYnVmZmVyKTtcblxuICAgIGlmIChidWZmZXJJbmRleCA9PT0gLTEpXG4gICAge1xuICAgICAgICB0aGlzLmJ1ZmZlcnMucHVzaChidWZmZXIpO1xuICAgICAgICBidWZmZXJJbmRleCA9IHRoaXMuYnVmZmVycy5sZW5ndGggLSAxO1xuICAgIH1cblxuICAgIHRoaXMuYXR0cmlidXRlc1tpZF0gPSBuZXcgQXR0cmlidXRlKGJ1ZmZlckluZGV4LCBzaXplLCBub3JtYWxpemVkLCB0eXBlLCBzdHJpZGUsIHN0YXJ0LCBpbnN0YW5jZSk7XG5cbiAgICAvLyBhc3N1bWluZyB0aGF0IGlmIHRoZXJlIGlzIGluc3RhbmNlZCBkYXRhIHRoZW4gdGhpcyB3aWxsIGJlIGRyYXduIHdpdGggaW5zdGFuY2luZyFcbiAgICB0aGlzLmluc3RhbmNlZCA9IHRoaXMuaW5zdGFuY2VkIHx8IGluc3RhbmNlO1xuXG4gICAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIHJldHVybnMgdGhlIHJlcXVlc3RlZCBhdHRyaWJ1dGVcbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gaWQgIHRoZSBuYW1lIG9mIHRoZSBhdHRyaWJ1dGUgcmVxdWlyZWRcbiAqIEByZXR1cm4ge1BJWEkuQXR0cmlidXRlfSB0aGUgYXR0cmlidXRlIHJlcXVlc3RlZC5cbiAqL1xuR2VvbWV0cnkucHJvdG90eXBlLmdldEF0dHJpYnV0ZSA9IGZ1bmN0aW9uIGdldEF0dHJpYnV0ZSAoaWQpXG57XG4gICAgcmV0dXJuIHRoaXMuYXR0cmlidXRlc1tpZF07XG59O1xuXG4vKipcbiAqIHJldHVybnMgdGhlIHJlcXVlc3RlZCBidWZmZXJcbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gaWQgIHRoZSBuYW1lIG9mIHRoZSBidWZmZXIgcmVxdWlyZWRcbiAqIEByZXR1cm4ge1BJWEkuQnVmZmVyfSB0aGUgYnVmZmVyIHJlcXVlc3RlZC5cbiAqL1xuR2VvbWV0cnkucHJvdG90eXBlLmdldEJ1ZmZlciA9IGZ1bmN0aW9uIGdldEJ1ZmZlciAoaWQpXG57XG4gICAgcmV0dXJuIHRoaXMuYnVmZmVyc1t0aGlzLmdldEF0dHJpYnV0ZShpZCkuYnVmZmVyXTtcbn07XG5cbi8qKlxuKlxuKiBBZGRzIGFuIGluZGV4IGJ1ZmZlciB0byB0aGUgZ2VvbWV0cnlcbiogVGhlIGluZGV4IGJ1ZmZlciBjb250YWlucyBpbnRlZ2VycywgdGhyZWUgZm9yIGVhY2ggdHJpYW5nbGUgaW4gdGhlIGdlb21ldHJ5LCB3aGljaCByZWZlcmVuY2UgdGhlIHZhcmlvdXMgYXR0cmlidXRlIGJ1ZmZlcnMgKHBvc2l0aW9uLCBjb2xvdXIsIFVWIGNvb3JkaW5hdGVzLCBvdGhlciBVViBjb29yZGluYXRlcywgbm9ybWFsLCDigKYpLiBUaGVyZSBpcyBvbmx5IE9ORSBpbmRleCBidWZmZXIuXG4qXG4qIEBwYXJhbSB7UElYSS5CdWZmZXJ8bnVtYmVyW119IFtidWZmZXJdIHRoZSBidWZmZXIgdGhhdCBob2xkcyB0aGUgZGF0YSBvZiB0aGUgaW5kZXggYnVmZmVyLiBZb3UgY2FuIGFsc28gcHJvdmlkZSBhbiBBcnJheSBhbmQgYSBidWZmZXIgd2lsbCBiZSBjcmVhdGVkIGZyb20gaXQuXG4qIEByZXR1cm4ge1BJWEkuR2VvbWV0cnl9IHJldHVybnMgc2VsZiwgdXNlZnVsIGZvciBjaGFpbmluZy5cbiovXG5HZW9tZXRyeS5wcm90b3R5cGUuYWRkSW5kZXggPSBmdW5jdGlvbiBhZGRJbmRleCAoYnVmZmVyKVxue1xuICAgIGlmICghYnVmZmVyLmRhdGEpXG4gICAge1xuICAgICAgICAvLyBpdHMgYW4gYXJyYXkhXG4gICAgICAgIGlmIChidWZmZXIgaW5zdGFuY2VvZiBBcnJheSlcbiAgICAgICAge1xuICAgICAgICAgICAgYnVmZmVyID0gbmV3IFVpbnQxNkFycmF5KGJ1ZmZlcik7XG4gICAgICAgIH1cblxuICAgICAgICBidWZmZXIgPSBuZXcgQnVmZmVyKGJ1ZmZlcik7XG4gICAgfVxuXG4gICAgYnVmZmVyLmluZGV4ID0gdHJ1ZTtcbiAgICB0aGlzLmluZGV4QnVmZmVyID0gYnVmZmVyO1xuXG4gICAgaWYgKHRoaXMuYnVmZmVycy5pbmRleE9mKGJ1ZmZlcikgPT09IC0xKVxuICAgIHtcbiAgICAgICAgdGhpcy5idWZmZXJzLnB1c2goYnVmZmVyKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogcmV0dXJucyB0aGUgaW5kZXggYnVmZmVyXG4gKlxuICogQHJldHVybiB7UElYSS5CdWZmZXJ9IHRoZSBpbmRleCBidWZmZXIuXG4gKi9cbkdlb21ldHJ5LnByb3RvdHlwZS5nZXRJbmRleCA9IGZ1bmN0aW9uIGdldEluZGV4ICgpXG57XG4gICAgcmV0dXJuIHRoaXMuaW5kZXhCdWZmZXI7XG59O1xuXG4vKipcbiAqIHRoaXMgZnVuY3Rpb24gbW9kaWZpZXMgdGhlIHN0cnVjdHVyZSBzbyB0aGF0IGFsbCBjdXJyZW50IGF0dHJpYnV0ZXMgYmVjb21lIGludGVybGVhdmVkIGludG8gYSBzaW5nbGUgYnVmZmVyXG4gKiBUaGlzIGNhbiBiZSB1c2VmdWwgaWYgeW91ciBtb2RlbCByZW1haW5zIHN0YXRpYyBhcyBpdCBvZmZlcnMgYSBsaXR0bGUgcGVyZm9ybWFuY2UgYm9vc3RcbiAqXG4gKiBAcmV0dXJuIHtQSVhJLkdlb21ldHJ5fSByZXR1cm5zIHNlbGYsIHVzZWZ1bCBmb3IgY2hhaW5pbmcuXG4gKi9cbkdlb21ldHJ5LnByb3RvdHlwZS5pbnRlcmxlYXZlID0gZnVuY3Rpb24gaW50ZXJsZWF2ZSAoKVxue1xuICAgIC8vIGEgc2ltcGxlIGNoZWNrIHRvIHNlZSBpZiBidWZmZXJzIGFyZSBhbHJlYWR5IGludGVybGVhdmVkLi5cbiAgICBpZiAodGhpcy5idWZmZXJzLmxlbmd0aCA9PT0gMSB8fCAodGhpcy5idWZmZXJzLmxlbmd0aCA9PT0gMiAmJiB0aGlzLmluZGV4QnVmZmVyKSkgeyByZXR1cm4gdGhpczsgfVxuXG4gICAgLy8gYXNzdW1lIGFscmVhZHkgdGhhdCBubyBidWZmZXJzIGFyZSBpbnRlcmxlYXZlZFxuICAgIHZhciBhcnJheXMgPSBbXTtcbiAgICB2YXIgc2l6ZXMgPSBbXTtcbiAgICB2YXIgaW50ZXJsZWF2ZWRCdWZmZXIgPSBuZXcgQnVmZmVyKCk7XG4gICAgdmFyIGk7XG5cbiAgICBmb3IgKGkgaW4gdGhpcy5hdHRyaWJ1dGVzKVxuICAgIHtcbiAgICAgICAgdmFyIGF0dHJpYnV0ZSA9IHRoaXMuYXR0cmlidXRlc1tpXTtcblxuICAgICAgICB2YXIgYnVmZmVyID0gdGhpcy5idWZmZXJzW2F0dHJpYnV0ZS5idWZmZXJdO1xuXG4gICAgICAgIGFycmF5cy5wdXNoKGJ1ZmZlci5kYXRhKTtcblxuICAgICAgICBzaXplcy5wdXNoKChhdHRyaWJ1dGUuc2l6ZSAqIGJ5dGVTaXplTWFwW2F0dHJpYnV0ZS50eXBlXSkgLyA0KTtcblxuICAgICAgICBhdHRyaWJ1dGUuYnVmZmVyID0gMDtcbiAgICB9XG5cbiAgICBpbnRlcmxlYXZlZEJ1ZmZlci5kYXRhID0gaW50ZXJsZWF2ZVR5cGVkQXJyYXlzKGFycmF5cywgc2l6ZXMpO1xuXG4gICAgZm9yIChpID0gMDsgaSA8IHRoaXMuYnVmZmVycy5sZW5ndGg7IGkrKylcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLmJ1ZmZlcnNbaV0gIT09IHRoaXMuaW5kZXhCdWZmZXIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuYnVmZmVyc1tpXS5kZXN0cm95KCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLmJ1ZmZlcnMgPSBbaW50ZXJsZWF2ZWRCdWZmZXJdO1xuXG4gICAgaWYgKHRoaXMuaW5kZXhCdWZmZXIpXG4gICAge1xuICAgICAgICB0aGlzLmJ1ZmZlcnMucHVzaCh0aGlzLmluZGV4QnVmZmVyKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbn07XG5cbkdlb21ldHJ5LnByb3RvdHlwZS5nZXRTaXplID0gZnVuY3Rpb24gZ2V0U2l6ZSAoKVxue1xuICAgIGZvciAodmFyIGkgaW4gdGhpcy5hdHRyaWJ1dGVzKVxuICAgIHtcbiAgICAgICAgdmFyIGF0dHJpYnV0ZSA9IHRoaXMuYXR0cmlidXRlc1tpXTtcbiAgICAgICAgdmFyIGJ1ZmZlciA9IHRoaXMuYnVmZmVyc1thdHRyaWJ1dGUuYnVmZmVyXTtcblxuICAgICAgICByZXR1cm4gYnVmZmVyLmRhdGEubGVuZ3RoIC8gKChhdHRyaWJ1dGUuc3RyaWRlIC8gNCkgfHwgYXR0cmlidXRlLnNpemUpO1xuICAgIH1cblxuICAgIHJldHVybiAwO1xufTtcblxuLyoqXG4gKiBkaXNwb3NlcyBXZWJHTCByZXNvdXJjZXMgdGhhdCBhcmUgY29ubmVjdGVkIHRvIHRoaXMgZ2VvbWV0cnlcbiAqL1xuR2VvbWV0cnkucHJvdG90eXBlLmRpc3Bvc2UgPSBmdW5jdGlvbiBkaXNwb3NlICgpXG57XG4gICAgdGhpcy5kaXNwb3NlUnVubmVyLnJ1bih0aGlzLCBmYWxzZSk7XG59O1xuXG4vKipcbiAqIERlc3Ryb3lzIHRoZSBnZW9tZXRyeS5cbiAqL1xuR2VvbWV0cnkucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95ICgpXG57XG4gICAgdGhpcy5kaXNwb3NlKCk7XG5cbiAgICB0aGlzLmJ1ZmZlcnMgPSBudWxsO1xuICAgIHRoaXMuaW5kZXhCdWZmZXIgPSBudWxsO1xuICAgIHRoaXMuYXR0cmlidXRlcyA9IG51bGw7XG59O1xuXG4vKipcbiAqIHJldHVybnMgYSBjbG9uZSBvZiB0aGUgZ2VvbWV0cnlcbiAqXG4gKiBAcmV0dXJucyB7UElYSS5HZW9tZXRyeX0gYSBuZXcgY2xvbmUgb2YgdGhpcyBnZW9tZXRyeVxuICovXG5HZW9tZXRyeS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiBjbG9uZSAoKVxue1xuICAgIHZhciBnZW9tZXRyeSA9IG5ldyBHZW9tZXRyeSgpO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmJ1ZmZlcnMubGVuZ3RoOyBpKyspXG4gICAge1xuICAgICAgICBnZW9tZXRyeS5idWZmZXJzW2ldID0gbmV3IEJ1ZmZlcih0aGlzLmJ1ZmZlcnNbaV0uZGF0YS5zbGljZSgpKTtcbiAgICB9XG5cbiAgICBmb3IgKHZhciBpJDEgaW4gdGhpcy5hdHRyaWJ1dGVzKVxuICAgIHtcbiAgICAgICAgdmFyIGF0dHJpYiA9IHRoaXMuYXR0cmlidXRlc1tpJDFdO1xuXG4gICAgICAgIGdlb21ldHJ5LmF0dHJpYnV0ZXNbaSQxXSA9IG5ldyBBdHRyaWJ1dGUoXG4gICAgICAgICAgICBhdHRyaWIuYnVmZmVyLFxuICAgICAgICAgICAgYXR0cmliLnNpemUsXG4gICAgICAgICAgICBhdHRyaWIubm9ybWFsaXplZCxcbiAgICAgICAgICAgIGF0dHJpYi50eXBlLFxuICAgICAgICAgICAgYXR0cmliLnN0cmlkZSxcbiAgICAgICAgICAgIGF0dHJpYi5zdGFydCxcbiAgICAgICAgICAgIGF0dHJpYi5pbnN0YW5jZVxuICAgICAgICApO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmluZGV4QnVmZmVyKVxuICAgIHtcbiAgICAgICAgZ2VvbWV0cnkuaW5kZXhCdWZmZXIgPSBnZW9tZXRyeS5idWZmZXJzW3RoaXMuYnVmZmVycy5pbmRleE9mKHRoaXMuaW5kZXhCdWZmZXIpXTtcbiAgICAgICAgZ2VvbWV0cnkuaW5kZXhCdWZmZXIuaW5kZXggPSB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBnZW9tZXRyeTtcbn07XG5cbi8qKlxuICogbWVyZ2VzIGFuIGFycmF5IG9mIGdlb21ldHJpZXMgaW50byBhIG5ldyBzaW5nbGUgb25lXG4gKiBnZW9tZXRyeSBhdHRyaWJ1dGUgc3R5bGVzIG11c3QgbWF0Y2ggZm9yIHRoaXMgb3BlcmF0aW9uIHRvIHdvcmtcbiAqXG4gKiBAcGFyYW0ge1BJWEkuR2VvbWV0cnlbXX0gZ2VvbWV0cmllcyBhcnJheSBvZiBnZW9tZXRyaWVzIHRvIG1lcmdlXG4gKiBAcmV0dXJucyB7UElYSS5HZW9tZXRyeX0gc2hpbnkgbmV3IGdlb21ldHJ5IVxuICovXG5HZW9tZXRyeS5tZXJnZSA9IGZ1bmN0aW9uIG1lcmdlIChnZW9tZXRyaWVzKVxue1xuICAgIC8vIHRvZG8gYWRkIGEgZ2VvbWV0cnkgY2hlY2shXG4gICAgLy8gYWxzbyBhIHNpemUgY2hlY2suLiBjYW50IGJlIHRvbyBiaWchXVxuXG4gICAgdmFyIGdlb21ldHJ5T3V0ID0gbmV3IEdlb21ldHJ5KCk7XG5cbiAgICB2YXIgYXJyYXlzID0gW107XG4gICAgdmFyIHNpemVzID0gW107XG4gICAgdmFyIG9mZnNldHMgPSBbXTtcblxuICAgIHZhciBnZW9tZXRyeTtcblxuICAgIC8vIHBhc3Mgb25lLi4gZ2V0IHNpemVzLi5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGdlb21ldHJpZXMubGVuZ3RoOyBpKyspXG4gICAge1xuICAgICAgICBnZW9tZXRyeSA9IGdlb21ldHJpZXNbaV07XG5cbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBnZW9tZXRyeS5idWZmZXJzLmxlbmd0aDsgaisrKVxuICAgICAgICB7XG4gICAgICAgICAgICBzaXplc1tqXSA9IHNpemVzW2pdIHx8IDA7XG4gICAgICAgICAgICBzaXplc1tqXSArPSBnZW9tZXRyeS5idWZmZXJzW2pdLmRhdGEubGVuZ3RoO1xuICAgICAgICAgICAgb2Zmc2V0c1tqXSA9IDA7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBidWlsZCB0aGUgY29ycmVjdCBzaXplIGFycmF5cy4uXG4gICAgZm9yICh2YXIgaSQxID0gMDsgaSQxIDwgZ2VvbWV0cnkuYnVmZmVycy5sZW5ndGg7IGkkMSsrKVxuICAgIHtcbiAgICAgICAgLy8gVE9ETyB0eXBlcyFcbiAgICAgICAgYXJyYXlzW2kkMV0gPSBuZXcgbWFwJDFbZ2V0QnVmZmVyVHlwZShnZW9tZXRyeS5idWZmZXJzW2kkMV0uZGF0YSldKHNpemVzW2kkMV0pO1xuICAgICAgICBnZW9tZXRyeU91dC5idWZmZXJzW2kkMV0gPSBuZXcgQnVmZmVyKGFycmF5c1tpJDFdKTtcbiAgICB9XG5cbiAgICAvLyBwYXNzIHRvIHNldCBkYXRhLi5cbiAgICBmb3IgKHZhciBpJDIgPSAwOyBpJDIgPCBnZW9tZXRyaWVzLmxlbmd0aDsgaSQyKyspXG4gICAge1xuICAgICAgICBnZW9tZXRyeSA9IGdlb21ldHJpZXNbaSQyXTtcblxuICAgICAgICBmb3IgKHZhciBqJDEgPSAwOyBqJDEgPCBnZW9tZXRyeS5idWZmZXJzLmxlbmd0aDsgaiQxKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIGFycmF5c1tqJDFdLnNldChnZW9tZXRyeS5idWZmZXJzW2okMV0uZGF0YSwgb2Zmc2V0c1tqJDFdKTtcbiAgICAgICAgICAgIG9mZnNldHNbaiQxXSArPSBnZW9tZXRyeS5idWZmZXJzW2okMV0uZGF0YS5sZW5ndGg7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZW9tZXRyeU91dC5hdHRyaWJ1dGVzID0gZ2VvbWV0cnkuYXR0cmlidXRlcztcblxuICAgIGlmIChnZW9tZXRyeS5pbmRleEJ1ZmZlcilcbiAgICB7XG4gICAgICAgIGdlb21ldHJ5T3V0LmluZGV4QnVmZmVyID0gZ2VvbWV0cnlPdXQuYnVmZmVyc1tnZW9tZXRyeS5idWZmZXJzLmluZGV4T2YoZ2VvbWV0cnkuaW5kZXhCdWZmZXIpXTtcbiAgICAgICAgZ2VvbWV0cnlPdXQuaW5kZXhCdWZmZXIuaW5kZXggPSB0cnVlO1xuXG4gICAgICAgIHZhciBvZmZzZXQgPSAwO1xuICAgICAgICB2YXIgc3RyaWRlID0gMDtcbiAgICAgICAgdmFyIG9mZnNldDIgPSAwO1xuICAgICAgICB2YXIgYnVmZmVySW5kZXhUb0NvdW50ID0gMDtcblxuICAgICAgICAvLyBnZXQgYSBidWZmZXJcbiAgICAgICAgZm9yICh2YXIgaSQzID0gMDsgaSQzIDwgZ2VvbWV0cnkuYnVmZmVycy5sZW5ndGg7IGkkMysrKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoZ2VvbWV0cnkuYnVmZmVyc1tpJDNdICE9PSBnZW9tZXRyeS5pbmRleEJ1ZmZlcilcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBidWZmZXJJbmRleFRvQ291bnQgPSBpJDM7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBmaWd1cmUgb3V0IHRoZSBzdHJpZGUgb2Ygb25lIGJ1ZmZlci4uXG4gICAgICAgIGZvciAodmFyIGkkNCBpbiBnZW9tZXRyeS5hdHRyaWJ1dGVzKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgYXR0cmlidXRlID0gZ2VvbWV0cnkuYXR0cmlidXRlc1tpJDRdO1xuXG4gICAgICAgICAgICBpZiAoKGF0dHJpYnV0ZS5idWZmZXIgfCAwKSA9PT0gYnVmZmVySW5kZXhUb0NvdW50KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0cmlkZSArPSAoKGF0dHJpYnV0ZS5zaXplICogYnl0ZVNpemVNYXBbYXR0cmlidXRlLnR5cGVdKSAvIDQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gdGltZSB0byBvZmYgc2V0IGFsbCBpbmRleGVzLi5cbiAgICAgICAgZm9yICh2YXIgaSQ1ID0gMDsgaSQ1IDwgZ2VvbWV0cmllcy5sZW5ndGg7IGkkNSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgaW5kZXhCdWZmZXJEYXRhID0gZ2VvbWV0cmllc1tpJDVdLmluZGV4QnVmZmVyLmRhdGE7XG5cbiAgICAgICAgICAgIGZvciAodmFyIGokMiA9IDA7IGokMiA8IGluZGV4QnVmZmVyRGF0YS5sZW5ndGg7IGokMisrKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGdlb21ldHJ5T3V0LmluZGV4QnVmZmVyLmRhdGFbaiQyICsgb2Zmc2V0Ml0gKz0gb2Zmc2V0O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBvZmZzZXQgKz0gZ2VvbWV0cnkuYnVmZmVyc1tidWZmZXJJbmRleFRvQ291bnRdLmRhdGEubGVuZ3RoIC8gKHN0cmlkZSk7XG4gICAgICAgICAgICBvZmZzZXQyICs9IGluZGV4QnVmZmVyRGF0YS5sZW5ndGg7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZ2VvbWV0cnlPdXQ7XG59O1xuXG4vKipcbiAqIEhlbHBlciBjbGFzcyB0byBjcmVhdGUgYSBxdWFkXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgUXVhZCA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKEdlb21ldHJ5KSB7XG4gICAgZnVuY3Rpb24gUXVhZCgpXG4gICAge1xuICAgICAgICBHZW9tZXRyeS5jYWxsKHRoaXMpO1xuXG4gICAgICAgIHRoaXMuYWRkQXR0cmlidXRlKCdhVmVydGV4UG9zaXRpb24nLCBbXG4gICAgICAgICAgICAwLCAwLFxuICAgICAgICAgICAgMSwgMCxcbiAgICAgICAgICAgIDEsIDEsXG4gICAgICAgICAgICAwLCAxIF0pXG4gICAgICAgICAgICAuYWRkSW5kZXgoWzAsIDEsIDMsIDJdKTtcbiAgICB9XG5cbiAgICBpZiAoIEdlb21ldHJ5ICkgUXVhZC5fX3Byb3RvX18gPSBHZW9tZXRyeTtcbiAgICBRdWFkLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIEdlb21ldHJ5ICYmIEdlb21ldHJ5LnByb3RvdHlwZSApO1xuICAgIFF1YWQucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gUXVhZDtcblxuICAgIHJldHVybiBRdWFkO1xufShHZW9tZXRyeSkpO1xuXG4vKipcbiAqIEhlbHBlciBjbGFzcyB0byBjcmVhdGUgYSBxdWFkIHdpdGggdXZzIGxpa2UgaW4gdjRcbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAZXh0ZW5kcyBQSVhJLkdlb21ldHJ5XG4gKi9cbnZhciBRdWFkVXYgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChHZW9tZXRyeSkge1xuICAgIGZ1bmN0aW9uIFF1YWRVdigpXG4gICAge1xuICAgICAgICBHZW9tZXRyeS5jYWxsKHRoaXMpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBbiBhcnJheSBvZiB2ZXJ0aWNlc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtGbG9hdDMyQXJyYXl9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnZlcnRpY2VzID0gbmV3IEZsb2F0MzJBcnJheShbXG4gICAgICAgICAgICAtMSwgLTEsXG4gICAgICAgICAgICAxLCAtMSxcbiAgICAgICAgICAgIDEsIDEsXG4gICAgICAgICAgICAtMSwgMSBdKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIFV2cyBvZiB0aGUgcXVhZFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtGbG9hdDMyQXJyYXl9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnV2cyA9IG5ldyBGbG9hdDMyQXJyYXkoW1xuICAgICAgICAgICAgMCwgMCxcbiAgICAgICAgICAgIDEsIDAsXG4gICAgICAgICAgICAxLCAxLFxuICAgICAgICAgICAgMCwgMSBdKTtcblxuICAgICAgICB0aGlzLnZlcnRleEJ1ZmZlciA9IG5ldyBCdWZmZXIodGhpcy52ZXJ0aWNlcyk7XG4gICAgICAgIHRoaXMudXZCdWZmZXIgPSBuZXcgQnVmZmVyKHRoaXMudXZzKTtcblxuICAgICAgICB0aGlzLmFkZEF0dHJpYnV0ZSgnYVZlcnRleFBvc2l0aW9uJywgdGhpcy52ZXJ0ZXhCdWZmZXIpXG4gICAgICAgICAgICAuYWRkQXR0cmlidXRlKCdhVGV4dHVyZUNvb3JkJywgdGhpcy51dkJ1ZmZlcilcbiAgICAgICAgICAgIC5hZGRJbmRleChbMCwgMSwgMiwgMCwgMiwgM10pO1xuICAgIH1cblxuICAgIGlmICggR2VvbWV0cnkgKSBRdWFkVXYuX19wcm90b19fID0gR2VvbWV0cnk7XG4gICAgUXVhZFV2LnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIEdlb21ldHJ5ICYmIEdlb21ldHJ5LnByb3RvdHlwZSApO1xuICAgIFF1YWRVdi5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBRdWFkVXY7XG5cbiAgICAvKipcbiAgICAgKiBNYXBzIHR3byBSZWN0YW5nbGUgdG8gdGhlIHF1YWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSB0YXJnZXRUZXh0dXJlRnJhbWUgLSB0aGUgZmlyc3QgcmVjdGFuZ2xlXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gZGVzdGluYXRpb25GcmFtZSAtIHRoZSBzZWNvbmQgcmVjdGFuZ2xlXG4gICAgICogQHJldHVybiB7UElYSS5RdWFkfSBSZXR1cm5zIGl0c2VsZi5cbiAgICAgKi9cbiAgICBRdWFkVXYucHJvdG90eXBlLm1hcCA9IGZ1bmN0aW9uIG1hcCAodGFyZ2V0VGV4dHVyZUZyYW1lLCBkZXN0aW5hdGlvbkZyYW1lKVxuICAgIHtcbiAgICAgICAgdmFyIHggPSAwOyAvLyBkZXN0aW5hdGlvbkZyYW1lLnggLyB0YXJnZXRUZXh0dXJlRnJhbWUud2lkdGg7XG4gICAgICAgIHZhciB5ID0gMDsgLy8gZGVzdGluYXRpb25GcmFtZS55IC8gdGFyZ2V0VGV4dHVyZUZyYW1lLmhlaWdodDtcblxuICAgICAgICB0aGlzLnV2c1swXSA9IHg7XG4gICAgICAgIHRoaXMudXZzWzFdID0geTtcblxuICAgICAgICB0aGlzLnV2c1syXSA9IHggKyAoZGVzdGluYXRpb25GcmFtZS53aWR0aCAvIHRhcmdldFRleHR1cmVGcmFtZS53aWR0aCk7XG4gICAgICAgIHRoaXMudXZzWzNdID0geTtcblxuICAgICAgICB0aGlzLnV2c1s0XSA9IHggKyAoZGVzdGluYXRpb25GcmFtZS53aWR0aCAvIHRhcmdldFRleHR1cmVGcmFtZS53aWR0aCk7XG4gICAgICAgIHRoaXMudXZzWzVdID0geSArIChkZXN0aW5hdGlvbkZyYW1lLmhlaWdodCAvIHRhcmdldFRleHR1cmVGcmFtZS5oZWlnaHQpO1xuXG4gICAgICAgIHRoaXMudXZzWzZdID0geDtcbiAgICAgICAgdGhpcy51dnNbN10gPSB5ICsgKGRlc3RpbmF0aW9uRnJhbWUuaGVpZ2h0IC8gdGFyZ2V0VGV4dHVyZUZyYW1lLmhlaWdodCk7XG5cbiAgICAgICAgeCA9IGRlc3RpbmF0aW9uRnJhbWUueDtcbiAgICAgICAgeSA9IGRlc3RpbmF0aW9uRnJhbWUueTtcblxuICAgICAgICB0aGlzLnZlcnRpY2VzWzBdID0geDtcbiAgICAgICAgdGhpcy52ZXJ0aWNlc1sxXSA9IHk7XG5cbiAgICAgICAgdGhpcy52ZXJ0aWNlc1syXSA9IHggKyBkZXN0aW5hdGlvbkZyYW1lLndpZHRoO1xuICAgICAgICB0aGlzLnZlcnRpY2VzWzNdID0geTtcblxuICAgICAgICB0aGlzLnZlcnRpY2VzWzRdID0geCArIGRlc3RpbmF0aW9uRnJhbWUud2lkdGg7XG4gICAgICAgIHRoaXMudmVydGljZXNbNV0gPSB5ICsgZGVzdGluYXRpb25GcmFtZS5oZWlnaHQ7XG5cbiAgICAgICAgdGhpcy52ZXJ0aWNlc1s2XSA9IHg7XG4gICAgICAgIHRoaXMudmVydGljZXNbN10gPSB5ICsgZGVzdGluYXRpb25GcmFtZS5oZWlnaHQ7XG5cbiAgICAgICAgdGhpcy5pbnZhbGlkYXRlKCk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIGxlZ2FjeSB1cGxvYWQgbWV0aG9kLCBqdXN0IG1hcmtzIGJ1ZmZlcnMgZGlydHlcbiAgICAgKiBAcmV0dXJucyB7UElYSS5RdWFkVXZ9IFJldHVybnMgaXRzZWxmLlxuICAgICAqL1xuICAgIFF1YWRVdi5wcm90b3R5cGUuaW52YWxpZGF0ZSA9IGZ1bmN0aW9uIGludmFsaWRhdGUgKClcbiAgICB7XG4gICAgICAgIHRoaXMudmVydGV4QnVmZmVyLl91cGRhdGVJRCsrO1xuICAgICAgICB0aGlzLnV2QnVmZmVyLl91cGRhdGVJRCsrO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICByZXR1cm4gUXVhZFV2O1xufShHZW9tZXRyeSkpO1xuXG52YXIgVUlEJDIgPSAwO1xuXG4vKipcbiAqIFVuaWZvcm0gZ3JvdXAgaG9sZHMgdW5pZm9ybSBtYXAgYW5kIHNvbWUgSUQncyBmb3Igd29ya1xuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFVuaWZvcm1Hcm91cCA9IGZ1bmN0aW9uIFVuaWZvcm1Hcm91cCh1bmlmb3JtcywgX3N0YXRpYylcbntcbiAgICAvKipcbiAgICAgKiB1bmlmb3JtIHZhbHVlc1xuICAgICAqIEBtZW1iZXIge29iamVjdH1cbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKi9cbiAgICB0aGlzLnVuaWZvcm1zID0gdW5pZm9ybXM7XG5cbiAgICAvKipcbiAgICAgKiBJdHMgYSBncm91cCBhbmQgbm90IGEgc2luZ2xlIHVuaWZvcm1zXG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKiBAZGVmYXVsdCB0cnVlXG4gICAgICovXG4gICAgdGhpcy5ncm91cCA9IHRydWU7XG5cbiAgICAvLyBsZXRzIGdlbmVyYXRlIHRoaXMgd2hlbiB0aGUgc2hhZGVyID9cbiAgICB0aGlzLnN5bmNVbmlmb3JtcyA9IHt9O1xuXG4gICAgLyoqXG4gICAgICogZGlydHkgdmVyc2lvblxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5kaXJ0eUlkID0gMDtcblxuICAgIC8qKlxuICAgICAqIHVuaXF1ZSBpZFxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5pZCA9IFVJRCQyKys7XG5cbiAgICAvKipcbiAgICAgKiBVbmlmb3JtcyB3b250IGJlIGNoYW5nZWQgYWZ0ZXIgY3JlYXRpb25cbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqL1xuICAgIHRoaXMuc3RhdGljID0gISFfc3RhdGljO1xufTtcblxuVW5pZm9ybUdyb3VwLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiB1cGRhdGUgKClcbntcbiAgICB0aGlzLmRpcnR5SWQrKztcbn07XG5cblVuaWZvcm1Hcm91cC5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24gYWRkIChuYW1lLCB1bmlmb3JtcywgX3N0YXRpYylcbntcbiAgICB0aGlzLnVuaWZvcm1zW25hbWVdID0gbmV3IFVuaWZvcm1Hcm91cCh1bmlmb3JtcywgX3N0YXRpYyk7XG59O1xuXG5Vbmlmb3JtR3JvdXAuZnJvbSA9IGZ1bmN0aW9uIGZyb20gKHVuaWZvcm1zLCBfc3RhdGljKVxue1xuICAgIHJldHVybiBuZXcgVW5pZm9ybUdyb3VwKHVuaWZvcm1zLCBfc3RhdGljKTtcbn07XG5cbi8qKlxuICogU3lzdGVtIHBsdWdpbiB0byB0aGUgcmVuZGVyZXIgdG8gbWFuYWdlIGZpbHRlciBzdGF0ZXMuXG4gKlxuICogQGNsYXNzXG4gKiBAcHJpdmF0ZVxuICovXG52YXIgRmlsdGVyU3RhdGUgPSBmdW5jdGlvbiBGaWx0ZXJTdGF0ZSgpXG57XG4gICAgdGhpcy5yZW5kZXJUZXh0dXJlID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIFRhcmdldCBvZiB0aGUgZmlsdGVyc1xuICAgICAqIFdlIHN0b3JlIGZvciBjYXNlIHdoZW4gY3VzdG9tIGZpbHRlciB3YW50cyB0byBrbm93IHRoZSBlbGVtZW50IGl0IHdhcyBhcHBsaWVkIG9uXG4gICAgICogQG1lbWJlciB7UElYSS5EaXNwbGF5T2JqZWN0fVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy50YXJnZXQgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQ29tcGF0aWJpbGl0eSB3aXRoIFBpeGlKUyB2NCBmaWx0ZXJzXG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5sZWdhY3kgPSBmYWxzZTtcblxuICAgIC8qKlxuICAgICAqIFJlc29sdXRpb24gb2YgZmlsdGVyc1xuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAxXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLnJlc29sdXRpb24gPSAxO1xuXG4gICAgLy8gbmV4dCB0aHJlZSBmaWVsZHMgYXJlIGNyZWF0ZWQgb25seSBmb3Igcm9vdFxuICAgIC8vIHJlLWFzc2lnbmVkIGZvciBldmVyeXRoaW5nIGVsc2VcblxuICAgIC8qKlxuICAgICAqIFNvdXJjZSBmcmFtZVxuICAgICAqIEBtZW1iZXIge1BJWEkuUmVjdGFuZ2xlfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5zb3VyY2VGcmFtZSA9IG5ldyBSZWN0YW5nbGUoKTtcblxuICAgIC8qKlxuICAgICAqIERlc3RpbmF0aW9uIGZyYW1lXG4gICAgICogQG1lbWJlciB7UElYSS5SZWN0YW5nbGV9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLmRlc3RpbmF0aW9uRnJhbWUgPSBuZXcgUmVjdGFuZ2xlKCk7XG5cbiAgICAvKipcbiAgICAgKiBDb2xsZWN0aW9uIG9mIGZpbHRlcnNcbiAgICAgKiBAbWVtYmVyIHtQSVhJLkZpbHRlcltdfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5maWx0ZXJzID0gW107XG59O1xuXG4vKipcbiAqIGNsZWFycyB0aGUgc3RhdGVcbiAqIEBwcml2YXRlXG4gKi9cbkZpbHRlclN0YXRlLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uIGNsZWFyICgpXG57XG4gICAgdGhpcy50YXJnZXQgPSBudWxsO1xuICAgIHRoaXMuZmlsdGVycyA9IG51bGw7XG4gICAgdGhpcy5yZW5kZXJUZXh0dXJlID0gbnVsbDtcbn07XG5cbi8qKlxuICogU3lzdGVtIHBsdWdpbiB0byB0aGUgcmVuZGVyZXIgdG8gbWFuYWdlIHRoZSBmaWx0ZXJzLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWEkuc3lzdGVtc1xuICogQGV4dGVuZHMgUElYSS5TeXN0ZW1cbiAqL1xudmFyIEZpbHRlclN5c3RlbSA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKFN5c3RlbSkge1xuICAgIGZ1bmN0aW9uIEZpbHRlclN5c3RlbShyZW5kZXJlcilcbiAgICB7XG4gICAgICAgIFN5c3RlbS5jYWxsKHRoaXMsIHJlbmRlcmVyKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogTGlzdCBvZiBmaWx0ZXJzIGZvciB0aGUgRmlsdGVyU3lzdGVtXG4gICAgICAgICAqIEBtZW1iZXIge09iamVjdFtdfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGVmYXVsdEZpbHRlclN0YWNrID0gW3t9XTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogc3RvcmVzIGEgYnVuY2ggb2YgUE8yIHRleHR1cmVzIHVzZWQgZm9yIGZpbHRlcmluZ1xuICAgICAgICAgKiBAbWVtYmVyIHtPYmplY3R9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnRleHR1cmVQb29sID0gbmV3IFJlbmRlclRleHR1cmVQb29sKCk7XG5cbiAgICAgICAgdGhpcy50ZXh0dXJlUG9vbC5zZXRTY3JlZW5TaXplKHJlbmRlcmVyLnZpZXcpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBhIHBvb2wgZm9yIHN0b3JpbmcgZmlsdGVyIHN0YXRlcywgc2F2ZSB1cyBjcmVhdGluZyBuZXcgb25lcyBlYWNoIHRpY2tcbiAgICAgICAgICogQG1lbWJlciB7T2JqZWN0W119XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnN0YXRlUG9vbCA9IFtdO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIHZlcnkgc2ltcGxlIGdlb21ldHJ5IHVzZWQgd2hlbiBkcmF3aW5nIGEgZmlsdGVyIGVmZmVjdCB0byB0aGUgc2NyZWVuXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUXVhZH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucXVhZCA9IG5ldyBRdWFkKCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFF1YWQgVVZzXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUXVhZFV2fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5xdWFkVXYgPSBuZXcgUXVhZFV2KCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRlbXBvcmFyeSByZWN0IGZvciBtYXRoc1xuICAgICAgICAgKiBAdHlwZSB7UElYSS5SZWN0YW5nbGV9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnRlbXBSZWN0ID0gbmV3IFJlY3RhbmdsZSgpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBY3RpdmUgc3RhdGVcbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5hY3RpdmVTdGF0ZSA9IHt9O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGlzIHVuaWZvcm0gZ3JvdXAgaXMgYXR0YWNoZWQgdG8gZmlsdGVyIHVuaWZvcm1zIHdoZW4gdXNlZFxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlVuaWZvcm1Hcm91cH1cbiAgICAgICAgICogQHByb3BlcnR5IHtQSVhJLlJlY3RhbmdsZX0gb3V0cHV0RnJhbWVcbiAgICAgICAgICogQHByb3BlcnR5IHtGbG9hdDMyQXJyYXl9IGlucHV0U2l6ZVxuICAgICAgICAgKiBAcHJvcGVydHkge0Zsb2F0MzJBcnJheX0gaW5wdXRQaXhlbFxuICAgICAgICAgKiBAcHJvcGVydHkge0Zsb2F0MzJBcnJheX0gaW5wdXRDbGFtcFxuICAgICAgICAgKiBAcHJvcGVydHkge051bWJlcn0gcmVzb2x1dGlvblxuICAgICAgICAgKiBAcHJvcGVydHkge0Zsb2F0MzJBcnJheX0gZmlsdGVyQXJlYVxuICAgICAgICAgKiBAcHJvcGVydHkge0Zsb2FkMzJBcnJheX0gZmlsdGVyQ2xhbXBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZ2xvYmFsVW5pZm9ybXMgPSBuZXcgVW5pZm9ybUdyb3VwKHtcbiAgICAgICAgICAgIG91dHB1dEZyYW1lOiB0aGlzLnRlbXBSZWN0LFxuICAgICAgICAgICAgaW5wdXRTaXplOiBuZXcgRmxvYXQzMkFycmF5KDQpLFxuICAgICAgICAgICAgaW5wdXRQaXhlbDogbmV3IEZsb2F0MzJBcnJheSg0KSxcbiAgICAgICAgICAgIGlucHV0Q2xhbXA6IG5ldyBGbG9hdDMyQXJyYXkoNCksXG4gICAgICAgICAgICByZXNvbHV0aW9uOiAxLFxuXG4gICAgICAgICAgICAvLyBsZWdhY3kgdmFyaWFibGVzXG4gICAgICAgICAgICBmaWx0ZXJBcmVhOiBuZXcgRmxvYXQzMkFycmF5KDQpLFxuICAgICAgICAgICAgZmlsdGVyQ2xhbXA6IG5ldyBGbG9hdDMyQXJyYXkoNCksXG4gICAgICAgIH0sIHRydWUpO1xuXG4gICAgICAgIHRoaXMuX3BpeGVsc1dpZHRoID0gcmVuZGVyZXIudmlldy53aWR0aDtcbiAgICAgICAgdGhpcy5fcGl4ZWxzSGVpZ2h0ID0gcmVuZGVyZXIudmlldy5oZWlnaHQ7XG4gICAgfVxuXG4gICAgaWYgKCBTeXN0ZW0gKSBGaWx0ZXJTeXN0ZW0uX19wcm90b19fID0gU3lzdGVtO1xuICAgIEZpbHRlclN5c3RlbS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBTeXN0ZW0gJiYgU3lzdGVtLnByb3RvdHlwZSApO1xuICAgIEZpbHRlclN5c3RlbS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBGaWx0ZXJTeXN0ZW07XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIGEgbmV3IGZpbHRlciB0byB0aGUgU3lzdGVtLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IHRhcmdldCAtIFRoZSB0YXJnZXQgb2YgdGhlIGZpbHRlciB0byByZW5kZXIuXG4gICAgICogQHBhcmFtIHtQSVhJLkZpbHRlcltdfSBmaWx0ZXJzIC0gVGhlIGZpbHRlcnMgdG8gYXBwbHkuXG4gICAgICovXG4gICAgRmlsdGVyU3lzdGVtLnByb3RvdHlwZS5wdXNoID0gZnVuY3Rpb24gcHVzaCAodGFyZ2V0LCBmaWx0ZXJzKVxuICAgIHtcbiAgICAgICAgdmFyIHJlbmRlcmVyID0gdGhpcy5yZW5kZXJlcjtcbiAgICAgICAgdmFyIGZpbHRlclN0YWNrID0gdGhpcy5kZWZhdWx0RmlsdGVyU3RhY2s7XG4gICAgICAgIHZhciBzdGF0ZSA9IHRoaXMuc3RhdGVQb29sLnBvcCgpIHx8IG5ldyBGaWx0ZXJTdGF0ZSgpO1xuXG4gICAgICAgIHZhciByZXNvbHV0aW9uID0gZmlsdGVyc1swXS5yZXNvbHV0aW9uO1xuICAgICAgICB2YXIgcGFkZGluZyA9IGZpbHRlcnNbMF0ucGFkZGluZztcbiAgICAgICAgdmFyIGF1dG9GaXQgPSBmaWx0ZXJzWzBdLmF1dG9GaXQ7XG4gICAgICAgIHZhciBsZWdhY3kgPSBmaWx0ZXJzWzBdLmxlZ2FjeTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGZpbHRlcnMubGVuZ3RoOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBmaWx0ZXIgPSAgZmlsdGVyc1tpXTtcblxuICAgICAgICAgICAgLy8gbGV0cyB1c2UgdGhlIGxvd2VzdCByZXNvbHV0aW9uLi5cbiAgICAgICAgICAgIHJlc29sdXRpb24gPSBNYXRoLm1pbihyZXNvbHV0aW9uLCBmaWx0ZXIucmVzb2x1dGlvbik7XG4gICAgICAgICAgICAvLyBhbmQgdGhlIGxhcmdlc3QgYW1vdW50IG9mIHBhZGRpbmchXG4gICAgICAgICAgICBwYWRkaW5nID0gTWF0aC5tYXgocGFkZGluZywgZmlsdGVyLnBhZGRpbmcpO1xuICAgICAgICAgICAgLy8gb25seSBhdXRvIGZpdCBpZiBhbGwgZmlsdGVycyBhcmUgYXV0b2ZpdFxuICAgICAgICAgICAgYXV0b0ZpdCA9IGF1dG9GaXQgfHwgZmlsdGVyLmF1dG9GaXQ7XG5cbiAgICAgICAgICAgIGxlZ2FjeSA9IGxlZ2FjeSB8fCBmaWx0ZXIubGVnYWN5O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGZpbHRlclN0YWNrLmxlbmd0aCA9PT0gMSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5kZWZhdWx0RmlsdGVyU3RhY2tbMF0ucmVuZGVyVGV4dHVyZSA9IHJlbmRlcmVyLnJlbmRlclRleHR1cmUuY3VycmVudDtcbiAgICAgICAgfVxuXG4gICAgICAgIGZpbHRlclN0YWNrLnB1c2goc3RhdGUpO1xuXG4gICAgICAgIHN0YXRlLnJlc29sdXRpb24gPSByZXNvbHV0aW9uO1xuXG4gICAgICAgIHN0YXRlLmxlZ2FjeSA9IGxlZ2FjeTtcblxuICAgICAgICBzdGF0ZS50YXJnZXQgPSB0YXJnZXQ7XG5cbiAgICAgICAgc3RhdGUuc291cmNlRnJhbWUuY29weUZyb20odGFyZ2V0LmZpbHRlckFyZWEgfHwgdGFyZ2V0LmdldEJvdW5kcyh0cnVlKSk7XG5cbiAgICAgICAgc3RhdGUuc291cmNlRnJhbWUucGFkKHBhZGRpbmcpO1xuICAgICAgICBpZiAoYXV0b0ZpdClcbiAgICAgICAge1xuICAgICAgICAgICAgc3RhdGUuc291cmNlRnJhbWUuZml0KHRoaXMucmVuZGVyZXIucmVuZGVyVGV4dHVyZS5zb3VyY2VGcmFtZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyByb3VuZCB0byB3aG9sZSBudW1iZXIgYmFzZWQgb24gcmVzb2x1dGlvblxuICAgICAgICBzdGF0ZS5zb3VyY2VGcmFtZS5jZWlsKHJlc29sdXRpb24pO1xuXG4gICAgICAgIHN0YXRlLnJlbmRlclRleHR1cmUgPSB0aGlzLmdldE9wdGltYWxGaWx0ZXJUZXh0dXJlKHN0YXRlLnNvdXJjZUZyYW1lLndpZHRoLCBzdGF0ZS5zb3VyY2VGcmFtZS5oZWlnaHQsIHJlc29sdXRpb24pO1xuICAgICAgICBzdGF0ZS5maWx0ZXJzID0gZmlsdGVycztcblxuICAgICAgICBzdGF0ZS5kZXN0aW5hdGlvbkZyYW1lLndpZHRoID0gc3RhdGUucmVuZGVyVGV4dHVyZS53aWR0aDtcbiAgICAgICAgc3RhdGUuZGVzdGluYXRpb25GcmFtZS5oZWlnaHQgPSBzdGF0ZS5yZW5kZXJUZXh0dXJlLmhlaWdodDtcblxuICAgICAgICBzdGF0ZS5yZW5kZXJUZXh0dXJlLmZpbHRlckZyYW1lID0gc3RhdGUuc291cmNlRnJhbWU7XG5cbiAgICAgICAgcmVuZGVyZXIucmVuZGVyVGV4dHVyZS5iaW5kKHN0YXRlLnJlbmRlclRleHR1cmUsIHN0YXRlLnNvdXJjZUZyYW1lKTsvLyAvLCBzdGF0ZS5kZXN0aW5hdGlvbkZyYW1lKTtcbiAgICAgICAgcmVuZGVyZXIucmVuZGVyVGV4dHVyZS5jbGVhcigpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBQb3BzIG9mZiB0aGUgZmlsdGVyIGFuZCBhcHBsaWVzIGl0LlxuICAgICAqXG4gICAgICovXG4gICAgRmlsdGVyU3lzdGVtLnByb3RvdHlwZS5wb3AgPSBmdW5jdGlvbiBwb3AgKClcbiAgICB7XG4gICAgICAgIHZhciBmaWx0ZXJTdGFjayA9IHRoaXMuZGVmYXVsdEZpbHRlclN0YWNrO1xuICAgICAgICB2YXIgc3RhdGUgPSBmaWx0ZXJTdGFjay5wb3AoKTtcbiAgICAgICAgdmFyIGZpbHRlcnMgPSBzdGF0ZS5maWx0ZXJzO1xuXG4gICAgICAgIHRoaXMuYWN0aXZlU3RhdGUgPSBzdGF0ZTtcblxuICAgICAgICB2YXIgZ2xvYmFsVW5pZm9ybXMgPSB0aGlzLmdsb2JhbFVuaWZvcm1zLnVuaWZvcm1zO1xuXG4gICAgICAgIGdsb2JhbFVuaWZvcm1zLm91dHB1dEZyYW1lID0gc3RhdGUuc291cmNlRnJhbWU7XG4gICAgICAgIGdsb2JhbFVuaWZvcm1zLnJlc29sdXRpb24gPSBzdGF0ZS5yZXNvbHV0aW9uO1xuXG4gICAgICAgIHZhciBpbnB1dFNpemUgPSBnbG9iYWxVbmlmb3Jtcy5pbnB1dFNpemU7XG4gICAgICAgIHZhciBpbnB1dFBpeGVsID0gZ2xvYmFsVW5pZm9ybXMuaW5wdXRQaXhlbDtcbiAgICAgICAgdmFyIGlucHV0Q2xhbXAgPSBnbG9iYWxVbmlmb3Jtcy5pbnB1dENsYW1wO1xuXG4gICAgICAgIGlucHV0U2l6ZVswXSA9IHN0YXRlLmRlc3RpbmF0aW9uRnJhbWUud2lkdGg7XG4gICAgICAgIGlucHV0U2l6ZVsxXSA9IHN0YXRlLmRlc3RpbmF0aW9uRnJhbWUuaGVpZ2h0O1xuICAgICAgICBpbnB1dFNpemVbMl0gPSAxLjAgLyBpbnB1dFNpemVbMF07XG4gICAgICAgIGlucHV0U2l6ZVszXSA9IDEuMCAvIGlucHV0U2l6ZVsxXTtcblxuICAgICAgICBpbnB1dFBpeGVsWzBdID0gaW5wdXRTaXplWzBdICogc3RhdGUucmVzb2x1dGlvbjtcbiAgICAgICAgaW5wdXRQaXhlbFsxXSA9IGlucHV0U2l6ZVsxXSAqIHN0YXRlLnJlc29sdXRpb247XG4gICAgICAgIGlucHV0UGl4ZWxbMl0gPSAxLjAgLyBpbnB1dFBpeGVsWzBdO1xuICAgICAgICBpbnB1dFBpeGVsWzNdID0gMS4wIC8gaW5wdXRQaXhlbFsxXTtcblxuICAgICAgICBpbnB1dENsYW1wWzBdID0gMC41ICogaW5wdXRQaXhlbFsyXTtcbiAgICAgICAgaW5wdXRDbGFtcFsxXSA9IDAuNSAqIGlucHV0UGl4ZWxbM107XG4gICAgICAgIGlucHV0Q2xhbXBbMl0gPSAoc3RhdGUuc291cmNlRnJhbWUud2lkdGggKiBpbnB1dFNpemVbMl0pIC0gKDAuNSAqIGlucHV0UGl4ZWxbMl0pO1xuICAgICAgICBpbnB1dENsYW1wWzNdID0gKHN0YXRlLnNvdXJjZUZyYW1lLmhlaWdodCAqIGlucHV0U2l6ZVszXSkgLSAoMC41ICogaW5wdXRQaXhlbFszXSk7XG5cbiAgICAgICAgLy8gb25seSB1cGRhdGUgdGhlIHJlY3QgaWYgaXRzIGxlZ2FjeS4uXG4gICAgICAgIGlmIChzdGF0ZS5sZWdhY3kpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBmaWx0ZXJBcmVhID0gZ2xvYmFsVW5pZm9ybXMuZmlsdGVyQXJlYTtcblxuICAgICAgICAgICAgZmlsdGVyQXJlYVswXSA9IHN0YXRlLmRlc3RpbmF0aW9uRnJhbWUud2lkdGg7XG4gICAgICAgICAgICBmaWx0ZXJBcmVhWzFdID0gc3RhdGUuZGVzdGluYXRpb25GcmFtZS5oZWlnaHQ7XG4gICAgICAgICAgICBmaWx0ZXJBcmVhWzJdID0gc3RhdGUuc291cmNlRnJhbWUueDtcbiAgICAgICAgICAgIGZpbHRlckFyZWFbM10gPSBzdGF0ZS5zb3VyY2VGcmFtZS55O1xuXG4gICAgICAgICAgICBnbG9iYWxVbmlmb3Jtcy5maWx0ZXJDbGFtcCA9IGdsb2JhbFVuaWZvcm1zLmlucHV0Q2xhbXA7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmdsb2JhbFVuaWZvcm1zLnVwZGF0ZSgpO1xuXG4gICAgICAgIHZhciBsYXN0U3RhdGUgPSBmaWx0ZXJTdGFja1tmaWx0ZXJTdGFjay5sZW5ndGggLSAxXTtcblxuICAgICAgICBpZiAoZmlsdGVycy5sZW5ndGggPT09IDEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGZpbHRlcnNbMF0uYXBwbHkodGhpcywgc3RhdGUucmVuZGVyVGV4dHVyZSwgbGFzdFN0YXRlLnJlbmRlclRleHR1cmUsIGZhbHNlLCBzdGF0ZSk7XG5cbiAgICAgICAgICAgIHRoaXMucmV0dXJuRmlsdGVyVGV4dHVyZShzdGF0ZS5yZW5kZXJUZXh0dXJlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBmbGlwID0gc3RhdGUucmVuZGVyVGV4dHVyZTtcbiAgICAgICAgICAgIHZhciBmbG9wID0gdGhpcy5nZXRPcHRpbWFsRmlsdGVyVGV4dHVyZShcbiAgICAgICAgICAgICAgICBmbGlwLndpZHRoLFxuICAgICAgICAgICAgICAgIGZsaXAuaGVpZ2h0LFxuICAgICAgICAgICAgICAgIHN0YXRlLnJlc29sdXRpb25cbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIGZsb3AuZmlsdGVyRnJhbWUgPSBmbGlwLmZpbHRlckZyYW1lO1xuXG4gICAgICAgICAgICB2YXIgaSA9IDA7XG5cbiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBmaWx0ZXJzLmxlbmd0aCAtIDE7ICsraSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBmaWx0ZXJzW2ldLmFwcGx5KHRoaXMsIGZsaXAsIGZsb3AsIHRydWUsIHN0YXRlKTtcblxuICAgICAgICAgICAgICAgIHZhciB0ID0gZmxpcDtcblxuICAgICAgICAgICAgICAgIGZsaXAgPSBmbG9wO1xuICAgICAgICAgICAgICAgIGZsb3AgPSB0O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmaWx0ZXJzW2ldLmFwcGx5KHRoaXMsIGZsaXAsIGxhc3RTdGF0ZS5yZW5kZXJUZXh0dXJlLCBmYWxzZSwgc3RhdGUpO1xuXG4gICAgICAgICAgICB0aGlzLnJldHVybkZpbHRlclRleHR1cmUoZmxpcCk7XG4gICAgICAgICAgICB0aGlzLnJldHVybkZpbHRlclRleHR1cmUoZmxvcCk7XG4gICAgICAgIH1cblxuICAgICAgICBzdGF0ZS5jbGVhcigpO1xuICAgICAgICB0aGlzLnN0YXRlUG9vbC5wdXNoKHN0YXRlKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRHJhd3MgYSBmaWx0ZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRmlsdGVyfSBmaWx0ZXIgLSBUaGUgZmlsdGVyIHRvIGRyYXcuXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlclRleHR1cmV9IGlucHV0IC0gVGhlIGlucHV0IHJlbmRlciB0YXJnZXQuXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlclRleHR1cmV9IG91dHB1dCAtIFRoZSB0YXJnZXQgdG8gb3V0cHV0IHRvLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gY2xlYXIgLSBTaG91bGQgdGhlIG91dHB1dCBiZSBjbGVhcmVkIGJlZm9yZSByZW5kZXJpbmcgdG8gaXRcbiAgICAgKi9cbiAgICBGaWx0ZXJTeXN0ZW0ucHJvdG90eXBlLmFwcGx5RmlsdGVyID0gZnVuY3Rpb24gYXBwbHlGaWx0ZXIgKGZpbHRlciwgaW5wdXQsIG91dHB1dCwgY2xlYXIpXG4gICAge1xuICAgICAgICB2YXIgcmVuZGVyZXIgPSB0aGlzLnJlbmRlcmVyO1xuXG4gICAgICAgIHJlbmRlcmVyLnJlbmRlclRleHR1cmUuYmluZChvdXRwdXQsIG91dHB1dCA/IG91dHB1dC5maWx0ZXJGcmFtZSA6IG51bGwpO1xuXG4gICAgICAgIGlmIChjbGVhcilcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gZ2wuZGlzYWJsZShnbC5TQ0lTU09SX1RFU1QpO1xuICAgICAgICAgICAgcmVuZGVyZXIucmVuZGVyVGV4dHVyZS5jbGVhcigpO1xuICAgICAgICAgICAgLy8gZ2wuZW5hYmxlKGdsLlNDSVNTT1JfVEVTVCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBzZXQgdGhlIHVuaWZvcm1zLi5cbiAgICAgICAgZmlsdGVyLnVuaWZvcm1zLnVTYW1wbGVyID0gaW5wdXQ7XG4gICAgICAgIGZpbHRlci51bmlmb3Jtcy5maWx0ZXJHbG9iYWxzID0gdGhpcy5nbG9iYWxVbmlmb3JtcztcblxuICAgICAgICAvLyBUT0RPIG1ha2UgaXQgc28gdGhhdCB0aGUgb3JkZXIgb2YgdGhpcyBkb2VzIG5vdCBtYXR0ZXIuLlxuICAgICAgICAvLyBiZWNhdXNlIGl0IGRvZXMgYXQgdGhlIG1vbWVudCBjb3Mgb2YgZ2xvYmFsIHVuaWZvcm1zLlxuICAgICAgICAvLyB0aGV5IG5lZWQgdG8gZ2V0IHJlc3luY2VkXG5cbiAgICAgICAgcmVuZGVyZXIuc3RhdGUuc2V0KGZpbHRlci5zdGF0ZSk7XG4gICAgICAgIHJlbmRlcmVyLnNoYWRlci5iaW5kKGZpbHRlcik7XG5cbiAgICAgICAgaWYgKGZpbHRlci5sZWdhY3kpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMucXVhZFV2Lm1hcChpbnB1dC5fZnJhbWUsIGlucHV0LmZpbHRlckZyYW1lKTtcblxuICAgICAgICAgICAgcmVuZGVyZXIuZ2VvbWV0cnkuYmluZCh0aGlzLnF1YWRVdik7XG4gICAgICAgICAgICByZW5kZXJlci5nZW9tZXRyeS5kcmF3KERSQVdfTU9ERVMuVFJJQU5HTEVTKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJlbmRlcmVyLmdlb21ldHJ5LmJpbmQodGhpcy5xdWFkKTtcbiAgICAgICAgICAgIHJlbmRlcmVyLmdlb21ldHJ5LmRyYXcoRFJBV19NT0RFUy5UUklBTkdMRV9TVFJJUCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogTXVsdGlwbHkgX2lucHV0IG5vcm1hbGl6ZWQgY29vcmRpbmF0ZXNfIHRvIHRoaXMgbWF0cml4IHRvIGdldCBfc3ByaXRlIHRleHR1cmUgbm9ybWFsaXplZCBjb29yZGluYXRlc18uXG4gICAgICpcbiAgICAgKiBVc2UgYG91dHB1dE1hdHJpeCAqIHZUZXh0dXJlQ29vcmRgIGluIHRoZSBzaGFkZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuTWF0cml4fSBvdXRwdXRNYXRyaXggLSBUaGUgbWF0cml4IHRvIG91dHB1dCB0by5cbiAgICAgKiBAcGFyYW0ge1BJWEkuU3ByaXRlfSBzcHJpdGUgLSBUaGUgc3ByaXRlIHRvIG1hcCB0by5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLk1hdHJpeH0gVGhlIG1hcHBlZCBtYXRyaXguXG4gICAgICovXG4gICAgRmlsdGVyU3lzdGVtLnByb3RvdHlwZS5jYWxjdWxhdGVTcHJpdGVNYXRyaXggPSBmdW5jdGlvbiBjYWxjdWxhdGVTcHJpdGVNYXRyaXggKG91dHB1dE1hdHJpeCwgc3ByaXRlKVxuICAgIHtcbiAgICAgICAgdmFyIHJlZiA9IHRoaXMuYWN0aXZlU3RhdGU7XG4gICAgICAgIHZhciBzb3VyY2VGcmFtZSA9IHJlZi5zb3VyY2VGcmFtZTtcbiAgICAgICAgdmFyIGRlc3RpbmF0aW9uRnJhbWUgPSByZWYuZGVzdGluYXRpb25GcmFtZTtcbiAgICAgICAgdmFyIHJlZiQxID0gc3ByaXRlLl90ZXh0dXJlO1xuICAgICAgICB2YXIgb3JpZyA9IHJlZiQxLm9yaWc7XG4gICAgICAgIHZhciBtYXBwZWRNYXRyaXggPSBvdXRwdXRNYXRyaXguc2V0KGRlc3RpbmF0aW9uRnJhbWUud2lkdGgsIDAsIDAsXG4gICAgICAgICAgICBkZXN0aW5hdGlvbkZyYW1lLmhlaWdodCwgc291cmNlRnJhbWUueCwgc291cmNlRnJhbWUueSk7XG4gICAgICAgIHZhciB3b3JsZFRyYW5zZm9ybSA9IHNwcml0ZS53b3JsZFRyYW5zZm9ybS5jb3B5VG8oTWF0cml4LlRFTVBfTUFUUklYKTtcblxuICAgICAgICB3b3JsZFRyYW5zZm9ybS5pbnZlcnQoKTtcbiAgICAgICAgbWFwcGVkTWF0cml4LnByZXBlbmQod29ybGRUcmFuc2Zvcm0pO1xuICAgICAgICBtYXBwZWRNYXRyaXguc2NhbGUoMS4wIC8gb3JpZy53aWR0aCwgMS4wIC8gb3JpZy5oZWlnaHQpO1xuICAgICAgICBtYXBwZWRNYXRyaXgudHJhbnNsYXRlKHNwcml0ZS5hbmNob3IueCwgc3ByaXRlLmFuY2hvci55KTtcblxuICAgICAgICByZXR1cm4gbWFwcGVkTWF0cml4O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGlzIEZpbHRlciBTeXN0ZW0uXG4gICAgICovXG4gICAgRmlsdGVyU3lzdGVtLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSAoKVxuICAgIHtcbiAgICAgICAgLy8gVGhvc2UgdGV4dHVyZXMgaGFzIHRvIGJlIGRlc3Ryb3llZCBieSBSZW5kZXJUZXh0dXJlU3lzdGVtIG9yIEZyYW1lYnVmZmVyU3lzdGVtXG4gICAgICAgIHRoaXMudGV4dHVyZVBvb2wuY2xlYXIoZmFsc2UpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIGEgUG93ZXItb2YtVHdvIHJlbmRlciB0ZXh0dXJlIG9yIGZ1bGxTY3JlZW4gdGV4dHVyZVxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBtaW5XaWR0aCAtIFRoZSBtaW5pbXVtIHdpZHRoIG9mIHRoZSByZW5kZXIgdGV4dHVyZSBpbiByZWFsIHBpeGVscy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbWluSGVpZ2h0IC0gVGhlIG1pbmltdW0gaGVpZ2h0IG9mIHRoZSByZW5kZXIgdGV4dHVyZSBpbiByZWFsIHBpeGVscy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3Jlc29sdXRpb249MV0gLSBUaGUgcmVzb2x1dGlvbiBvZiB0aGUgcmVuZGVyIHRleHR1cmUuXG4gICAgICogQHJldHVybiB7UElYSS5SZW5kZXJUZXh0dXJlfSBUaGUgbmV3IHJlbmRlciB0ZXh0dXJlLlxuICAgICAqL1xuICAgIEZpbHRlclN5c3RlbS5wcm90b3R5cGUuZ2V0T3B0aW1hbEZpbHRlclRleHR1cmUgPSBmdW5jdGlvbiBnZXRPcHRpbWFsRmlsdGVyVGV4dHVyZSAobWluV2lkdGgsIG1pbkhlaWdodCwgcmVzb2x1dGlvbilcbiAgICB7XG4gICAgICAgIGlmICggcmVzb2x1dGlvbiA9PT0gdm9pZCAwICkgcmVzb2x1dGlvbiA9IDE7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMudGV4dHVyZVBvb2wuZ2V0T3B0aW1hbFRleHR1cmUobWluV2lkdGgsIG1pbkhlaWdodCwgcmVzb2x1dGlvbik7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEdldHMgZXh0cmEgcmVuZGVyIHRleHR1cmUgdG8gdXNlIGluc2lkZSBjdXJyZW50IGZpbHRlclxuICAgICAqIFRvIGJlIGNvbXBsaWFudCB3aXRoIG9sZGVyIGZpbHRlcnMsIHlvdSBjYW4gdXNlIHBhcmFtcyBpbiBhbnkgb3JkZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUZXh0dXJlfSBbaW5wdXRdIHJlbmRlclRleHR1cmUgZnJvbSB3aGljaCBzaXplIGFuZCByZXNvbHV0aW9uIHdpbGwgYmUgY29waWVkXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtyZXNvbHV0aW9uXSBvdmVycmlkZSByZXNvbHV0aW9uIG9mIHRoZSByZW5kZXJUZXh0dXJlXG4gICAgICogQHJldHVybnMge1BJWEkuUmVuZGVyVGV4dHVyZX1cbiAgICAgKi9cbiAgICBGaWx0ZXJTeXN0ZW0ucHJvdG90eXBlLmdldEZpbHRlclRleHR1cmUgPSBmdW5jdGlvbiBnZXRGaWx0ZXJUZXh0dXJlIChpbnB1dCwgcmVzb2x1dGlvbilcbiAgICB7XG4gICAgICAgIGlmICh0eXBlb2YgaW5wdXQgPT09ICdudW1iZXInKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgc3dhcCA9IGlucHV0O1xuXG4gICAgICAgICAgICBpbnB1dCA9IHJlc29sdXRpb247XG4gICAgICAgICAgICByZXNvbHV0aW9uID0gc3dhcDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlucHV0ID0gaW5wdXQgfHwgdGhpcy5hY3RpdmVTdGF0ZS5yZW5kZXJUZXh0dXJlO1xuXG4gICAgICAgIHZhciBmaWx0ZXJUZXh0dXJlID0gdGhpcy50ZXh0dXJlUG9vbC5nZXRPcHRpbWFsVGV4dHVyZShpbnB1dC53aWR0aCwgaW5wdXQuaGVpZ2h0LCByZXNvbHV0aW9uIHx8IGlucHV0LnJlc29sdXRpb24pO1xuXG4gICAgICAgIGZpbHRlclRleHR1cmUuZmlsdGVyRnJhbWUgPSBpbnB1dC5maWx0ZXJGcmFtZTtcblxuICAgICAgICByZXR1cm4gZmlsdGVyVGV4dHVyZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRnJlZXMgYSByZW5kZXIgdGV4dHVyZSBiYWNrIGludG8gdGhlIHBvb2wuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyVGV4dHVyZX0gcmVuZGVyVGV4dHVyZSAtIFRoZSByZW5kZXJUYXJnZXQgdG8gZnJlZVxuICAgICAqL1xuICAgIEZpbHRlclN5c3RlbS5wcm90b3R5cGUucmV0dXJuRmlsdGVyVGV4dHVyZSA9IGZ1bmN0aW9uIHJldHVybkZpbHRlclRleHR1cmUgKHJlbmRlclRleHR1cmUpXG4gICAge1xuICAgICAgICB0aGlzLnRleHR1cmVQb29sLnJldHVyblRleHR1cmUocmVuZGVyVGV4dHVyZSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEVtcHRpZXMgdGhlIHRleHR1cmUgcG9vbC5cbiAgICAgKi9cbiAgICBGaWx0ZXJTeXN0ZW0ucHJvdG90eXBlLmVtcHR5UG9vbCA9IGZ1bmN0aW9uIGVtcHR5UG9vbCAoKVxuICAgIHtcbiAgICAgICAgdGhpcy50ZXh0dXJlUG9vbC5jbGVhcih0cnVlKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogY2FsbHMgYHRleHR1cmVQb29sLnJlc2l6ZSgpYCwgYWZmZWN0cyBmdWxsU2NyZWVuIHJlbmRlclRleHR1cmVzXG4gICAgICovXG4gICAgRmlsdGVyU3lzdGVtLnByb3RvdHlwZS5yZXNpemUgPSBmdW5jdGlvbiByZXNpemUgKClcbiAgICB7XG4gICAgICAgIHRoaXMudGV4dHVyZVBvb2wuc2V0U2NyZWVuU2l6ZSh0aGlzLnJlbmRlcmVyLnZpZXcpO1xuICAgIH07XG5cbiAgICByZXR1cm4gRmlsdGVyU3lzdGVtO1xufShTeXN0ZW0pKTtcblxuLyoqXG4gKiBCYXNlIGZvciBhIGNvbW1vbiBvYmplY3QgcmVuZGVyZXIgdGhhdCBjYW4gYmUgdXNlZCBhcyBhXG4gKiBzeXN0ZW0gcmVuZGVyZXIgcGx1Z2luLlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5TeXN0ZW1cbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBPYmplY3RSZW5kZXJlciA9IGZ1bmN0aW9uIE9iamVjdFJlbmRlcmVyKHJlbmRlcmVyKVxue1xuICAgIC8qKlxuICAgICAqIFRoZSByZW5kZXJlciB0aGlzIG1hbmFnZXIgd29ya3MgZm9yLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5SZW5kZXJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnJlbmRlcmVyID0gcmVuZGVyZXI7XG59O1xuXG4vKipcbiAqIFN0dWIgbWV0aG9kIHRoYXQgc2hvdWxkIGJlIHVzZWQgdG8gZW1wdHkgdGhlIGN1cnJlbnRcbiAqIGJhdGNoIGJ5IHJlbmRlcmluZyBvYmplY3RzIG5vdy5cbiAqL1xuT2JqZWN0UmVuZGVyZXIucHJvdG90eXBlLmZsdXNoID0gZnVuY3Rpb24gZmx1c2ggKClcbntcbiAgICAvLyBmbHVzaCFcbn07XG5cbi8qKlxuICogR2VuZXJpYyBkZXN0cnVjdGlvbiBtZXRob2QgdGhhdCBmcmVlcyBhbGwgcmVzb3VyY2VzLiBUaGlzXG4gKiBzaG91bGQgYmUgY2FsbGVkIGJ5IHN1YmNsYXNzZXMuXG4gKi9cbk9iamVjdFJlbmRlcmVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSAoKVxue1xuICAgIHRoaXMucmVuZGVyZXIgPSBudWxsO1xufTtcblxuLyoqXG4gKiBTdHViIG1ldGhvZCB0aGF0IGluaXRpYWxpemVzIGFueSBzdGF0ZSByZXF1aXJlZCBiZWZvcmVcbiAqIHJlbmRlcmluZyBzdGFydHMuIEl0IGlzIGRpZmZlcmVudCBmcm9tIHRoZSBgcHJlcmVuZGVyYFxuICogc2lnbmFsLCB3aGljaCBvY2N1cnMgZXZlcnkgZnJhbWUsIGluIHRoYXQgaXQgaXMgY2FsbGVkXG4gKiB3aGVuZXZlciBhbiBvYmplY3QgcmVxdWVzdHMgX3RoaXNfIHJlbmRlcmVyIHNwZWNpZmljYWxseS5cbiAqL1xuT2JqZWN0UmVuZGVyZXIucHJvdG90eXBlLnN0YXJ0ID0gZnVuY3Rpb24gc3RhcnQgKClcbntcbiAgICAvLyBzZXQgdGhlIHNoYWRlci4uXG59O1xuXG4vKipcbiAqIFN0b3BzIHRoZSByZW5kZXJlci4gSXQgc2hvdWxkIGZyZWUgdXAgYW55IHN0YXRlIGFuZFxuICogYmVjb21lIGRvcm1hbnQuXG4gKi9cbk9iamVjdFJlbmRlcmVyLnByb3RvdHlwZS5zdG9wID0gZnVuY3Rpb24gc3RvcCAoKVxue1xuICAgIHRoaXMuZmx1c2goKTtcbn07XG5cbi8qKlxuICogS2VlcHMgdGhlIG9iamVjdCB0byByZW5kZXIuIEl0IGRvZXNuJ3QgaGF2ZSB0byBiZVxuICogcmVuZGVyZWQgaW1tZWRpYXRlbHkuXG4gKlxuICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IG9iamVjdCAtIFRoZSBvYmplY3QgdG8gcmVuZGVyLlxuICovXG5PYmplY3RSZW5kZXJlci5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyIChvYmplY3QpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcbntcbiAgICAvLyByZW5kZXIgdGhlIG9iamVjdFxufTtcblxuLyoqXG4gKiBTeXN0ZW0gcGx1Z2luIHRvIHRoZSByZW5kZXJlciB0byBtYW5hZ2UgYmF0Y2hpbmcuXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLlN5c3RlbVxuICogQG1lbWJlcm9mIFBJWEkuc3lzdGVtc1xuICovXG52YXIgQmF0Y2hTeXN0ZW0gPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChTeXN0ZW0pIHtcbiAgICBmdW5jdGlvbiBCYXRjaFN5c3RlbShyZW5kZXJlcilcbiAgICB7XG4gICAgICAgIFN5c3RlbS5jYWxsKHRoaXMsIHJlbmRlcmVyKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQW4gZW1wdHkgcmVuZGVyZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuT2JqZWN0UmVuZGVyZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmVtcHR5UmVuZGVyZXIgPSBuZXcgT2JqZWN0UmVuZGVyZXIocmVuZGVyZXIpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY3VycmVudGx5IGFjdGl2ZSBPYmplY3RSZW5kZXJlci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5PYmplY3RSZW5kZXJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY3VycmVudFJlbmRlcmVyID0gdGhpcy5lbXB0eVJlbmRlcmVyO1xuICAgIH1cblxuICAgIGlmICggU3lzdGVtICkgQmF0Y2hTeXN0ZW0uX19wcm90b19fID0gU3lzdGVtO1xuICAgIEJhdGNoU3lzdGVtLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIFN5c3RlbSAmJiBTeXN0ZW0ucHJvdG90eXBlICk7XG4gICAgQmF0Y2hTeXN0ZW0ucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQmF0Y2hTeXN0ZW07XG5cbiAgICAvKipcbiAgICAgKiBDaGFuZ2VzIHRoZSBjdXJyZW50IHJlbmRlcmVyIHRvIHRoZSBvbmUgZ2l2ZW4gaW4gcGFyYW1ldGVyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuT2JqZWN0UmVuZGVyZXJ9IG9iamVjdFJlbmRlcmVyIC0gVGhlIG9iamVjdCByZW5kZXJlciB0byB1c2UuXG4gICAgICovXG4gICAgQmF0Y2hTeXN0ZW0ucHJvdG90eXBlLnNldE9iamVjdFJlbmRlcmVyID0gZnVuY3Rpb24gc2V0T2JqZWN0UmVuZGVyZXIgKG9iamVjdFJlbmRlcmVyKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudFJlbmRlcmVyID09PSBvYmplY3RSZW5kZXJlcilcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jdXJyZW50UmVuZGVyZXIuc3RvcCgpO1xuICAgICAgICB0aGlzLmN1cnJlbnRSZW5kZXJlciA9IG9iamVjdFJlbmRlcmVyO1xuXG4gICAgICAgIHRoaXMuY3VycmVudFJlbmRlcmVyLnN0YXJ0KCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgc2hvdWxkIGJlIGNhbGxlZCBpZiB5b3Ugd2lzaCB0byBkbyBzb21lIGN1c3RvbSByZW5kZXJpbmdcbiAgICAgKiBJdCB3aWxsIGJhc2ljYWxseSByZW5kZXIgYW55dGhpbmcgdGhhdCBtYXkgYmUgYmF0Y2hlZCB1cCBzdWNoIGFzIHNwcml0ZXNcbiAgICAgKi9cbiAgICBCYXRjaFN5c3RlbS5wcm90b3R5cGUuZmx1c2ggPSBmdW5jdGlvbiBmbHVzaCAoKVxuICAgIHtcbiAgICAgICAgdGhpcy5zZXRPYmplY3RSZW5kZXJlcih0aGlzLmVtcHR5UmVuZGVyZXIpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXNldCB0aGUgc3lzdGVtIHRvIGFuIGVtcHR5IHJlbmRlcmVyXG4gICAgICovXG4gICAgQmF0Y2hTeXN0ZW0ucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gcmVzZXQgKClcbiAgICB7XG4gICAgICAgIHRoaXMuc2V0T2JqZWN0UmVuZGVyZXIodGhpcy5lbXB0eVJlbmRlcmVyKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSGFuZHkgZnVuY3Rpb24gZm9yIGJhdGNoIHJlbmRlcmVyczogY29waWVzIGJvdW5kIHRleHR1cmVzIGluIGZpcnN0IG1heFRleHR1cmVzIGxvY2F0aW9ucyB0byBhcnJheVxuICAgICAqIHNldHMgYWN0dWFsIF9iYXRjaExvY2F0aW9uIGZvciB0aGVtXG4gICAgICpcbiAgICAgKiBAcGFyYW0gYXJyXG4gICAgICogQHBhcmFtIG1heFRleHR1cmVzXG4gICAgICovXG4gICAgQmF0Y2hTeXN0ZW0ucHJvdG90eXBlLmNvcHlCb3VuZFRleHR1cmVzID0gZnVuY3Rpb24gY29weUJvdW5kVGV4dHVyZXMgKGFyciwgbWF4VGV4dHVyZXMpXG4gICAge1xuICAgICAgICB2YXIgcmVmID0gdGhpcy5yZW5kZXJlci50ZXh0dXJlO1xuICAgICAgICB2YXIgYm91bmRUZXh0dXJlcyA9IHJlZi5ib3VuZFRleHR1cmVzO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSBtYXhUZXh0dXJlcyAtIDE7IGkgPj0gMDsgLS1pKVxuICAgICAgICB7XG4gICAgICAgICAgICBhcnJbaV0gPSBib3VuZFRleHR1cmVzW2ldIHx8IG51bGw7XG4gICAgICAgICAgICBpZiAoYXJyW2ldKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGFycltpXS5fYmF0Y2hMb2NhdGlvbiA9IGk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQXNzaWducyBiYXRjaCBsb2NhdGlvbnMgdG8gdGV4dHVyZXMgaW4gYXJyYXkgYmFzZWQgb24gYm91bmRUZXh0dXJlcyBzdGF0ZS5cbiAgICAgKiBBbGwgdGV4dHVyZXMgaW4gdGV4QXJyYXkgc2hvdWxkIGhhdmUgYF9iYXRjaEVuYWJsZWQgPSBfYmF0Y2hJZGAsXG4gICAgICogYW5kIHRoZWlyIGNvdW50IHNob3VsZCBiZSBsZXNzIHRoYW4gYG1heFRleHR1cmVzYC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5CYXRjaFRleHR1cmVBcnJheX0gdGV4QXJyYXkgdGV4dHVyZXMgdG8gYm91bmRcbiAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmVbXX0gYm91bmRUZXh0dXJlcyBjdXJyZW50IHN0YXRlIG9mIGJvdW5kIHRleHR1cmVzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJhdGNoSWQgbWFya2VyIGZvciBfYmF0Y2hFbmFibGVkIHBhcmFtIG9mIHRleHR1cmVzIGluIHRleEFycmF5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG1heFRleHR1cmVzIG51bWJlciBvZiB0ZXh0dXJlIGxvY2F0aW9ucyB0byBtYW5pcHVsYXRlXG4gICAgICovXG4gICAgQmF0Y2hTeXN0ZW0ucHJvdG90eXBlLmJvdW5kQXJyYXkgPSBmdW5jdGlvbiBib3VuZEFycmF5ICh0ZXhBcnJheSwgYm91bmRUZXh0dXJlcywgYmF0Y2hJZCwgbWF4VGV4dHVyZXMpXG4gICAge1xuICAgICAgICB2YXIgZWxlbWVudHMgPSB0ZXhBcnJheS5lbGVtZW50cztcbiAgICAgICAgdmFyIGlkcyA9IHRleEFycmF5LmlkcztcbiAgICAgICAgdmFyIGNvdW50ID0gdGV4QXJyYXkuY291bnQ7XG4gICAgICAgIHZhciBqID0gMDtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvdW50OyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciB0ZXggPSBlbGVtZW50c1tpXTtcbiAgICAgICAgICAgIHZhciBsb2MgPSB0ZXguX2JhdGNoTG9jYXRpb247XG5cbiAgICAgICAgICAgIGlmIChsb2MgPj0gMCAmJiBsb2MgPCBtYXhUZXh0dXJlc1xuICAgICAgICAgICAgICAgICYmIGJvdW5kVGV4dHVyZXNbbG9jXSA9PT0gdGV4KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlkc1tpXSA9IGxvYztcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgd2hpbGUgKGogPCBtYXhUZXh0dXJlcylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB2YXIgYm91bmQgPSBib3VuZFRleHR1cmVzW2pdO1xuXG4gICAgICAgICAgICAgICAgaWYgKGJvdW5kICYmIGJvdW5kLl9iYXRjaEVuYWJsZWQgPT09IGJhdGNoSWRcbiAgICAgICAgICAgICAgICAgICAgJiYgYm91bmQuX2JhdGNoTG9jYXRpb24gPT09IGopXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBqKys7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlkc1tpXSA9IGo7XG4gICAgICAgICAgICAgICAgdGV4Ll9iYXRjaExvY2F0aW9uID0gajtcbiAgICAgICAgICAgICAgICBib3VuZFRleHR1cmVzW2pdID0gdGV4O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIHJldHVybiBCYXRjaFN5c3RlbTtcbn0oU3lzdGVtKSk7XG5cbi8qKlxuICogVGhlIG1heGltdW0gc3VwcG9ydCBmb3IgdXNpbmcgV2ViR0wuIElmIGEgZGV2aWNlIGRvZXMgbm90XG4gKiBzdXBwb3J0IFdlYkdMIHZlcnNpb24sIGZvciBpbnN0YW5jZSBXZWJHTCAyLCBpdCB3aWxsIHN0aWxsXG4gKiBhdHRlbXB0IHRvIGZhbGxiYWNrIHN1cHBvcnQgdG8gV2ViR0wgMS4gSWYgeW91IHdhbnQgdG9cbiAqIGV4cGxpY2l0bHkgcmVtb3ZlIGZlYXR1cmUgc3VwcG9ydCB0byB0YXJnZXQgYSBtb3JlIHN0YWJsZVxuICogYmFzZWxpbmUsIHByZWZlciBhIGxvd2VyIGVudmlyb25tZW50LlxuICpcbiAqIER1ZSB0byB7QGxpbmsgaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9OTM0ODIzfGJ1ZyBpbiBjaHJvbWl1bX1cbiAqIHdlIGRpc2FibGUgd2ViZ2wyIGJ5IGRlZmF1bHQgZm9yIGFsbCBub24tYXBwbGUgbW9iaWxlIGRldmljZXMuXG4gKlxuICogQHN0YXRpY1xuICogQG5hbWUgUFJFRkVSX0VOVlxuICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAqIEB0eXBlIHtudW1iZXJ9XG4gKiBAZGVmYXVsdCBQSVhJLkVOVi5XRUJHTDJcbiAqL1xuc2V0dGluZ3MuUFJFRkVSX0VOViA9IGlzTW9iaWxlLmFueSA/IEVOVi5XRUJHTCA6IEVOVi5XRUJHTDI7XG5cbi8qKlxuICogSWYgc2V0IHRvIGB0cnVlYCwgVGV4dHVyZXMgYW5kIEJhc2VUZXh0dXJlIG9iamVjdHMgc3RvcmVkXG4gKiBpbiB0aGUgY2FjaGVzICh7QGxpbmsgUElYSS51dGlscy5UZXh0dXJlQ2FjaGUgVGV4dHVyZUNhY2hlfSBhbmRcbiAqIHtAbGluayBQSVhJLnV0aWxzLkJhc2VUZXh0dXJlQ2FjaGUgQmFzZVRleHR1cmVDYWNoZX0pIGNhbiAqb25seSogYmVcbiAqIHVzZWQgd2hlbiBjYWxsaW5nIHtAbGluayBQSVhJLlRleHR1cmUuZnJvbSBUZXh0dXJlLmZyb219IG9yXG4gKiB7QGxpbmsgUElYSS5CYXNlVGV4dHVyZS5mcm9tIEJhc2VUZXh0dXJlLmZyb219LlxuICogT3RoZXJ3aXNlLCB0aGVzZSBgZnJvbWAgY2FsbHMgdGhyb3cgYW4gZXhjZXB0aW9uLiBVc2luZyB0aGlzIHByb3BlcnR5XG4gKiBjYW4gYmUgdXNlZnVsIGlmIHlvdSB3YW50IHRvIGVuZm9yY2UgcHJlbG9hZGluZyBhbGwgYXNzZXRzIHdpdGhcbiAqIHtAbGluayBQSVhJLkxvYWRlciBMb2FkZXJ9LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBuYW1lIFNUUklDVF9URVhUVVJFX0NBQ0hFXG4gKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICogQHR5cGUge2Jvb2xlYW59XG4gKiBAZGVmYXVsdCBmYWxzZVxuICovXG5zZXR0aW5ncy5TVFJJQ1RfVEVYVFVSRV9DQUNIRSA9IGZhbHNlO1xuXG52YXIgQ09OVEVYVF9VSUQgPSAwO1xuXG4vKipcbiAqIFN5c3RlbSBwbHVnaW4gdG8gdGhlIHJlbmRlcmVyIHRvIG1hbmFnZSB0aGUgY29udGV4dC5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuU3lzdGVtXG4gKiBAbWVtYmVyb2YgUElYSS5zeXN0ZW1zXG4gKi9cbnZhciBDb250ZXh0U3lzdGVtID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoU3lzdGVtKSB7XG4gICAgZnVuY3Rpb24gQ29udGV4dFN5c3RlbShyZW5kZXJlcilcbiAgICB7XG4gICAgICAgIFN5c3RlbS5jYWxsKHRoaXMsIHJlbmRlcmVyKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRWl0aGVyIDEgb3IgMiB0byByZWZsZWN0IHRoZSBXZWJHTCB2ZXJzaW9uIGJlaW5nIHVzZWRcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMud2ViR0xWZXJzaW9uID0gMTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRXh0ZW5zaW9ucyBiZWluZyB1c2VkXG4gICAgICAgICAqIEBtZW1iZXIge29iamVjdH1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBwcm9wZXJ0eSB7V0VCR0xfZHJhd19idWZmZXJzfSBkcmF3QnVmZmVycyAtIFdlYkdMIHYxIGV4dGVuc2lvblxuICAgICAgICAgKiBAcHJvcGVydHkge1dFQkdMX2RlcHRoX3RleHR1cmV9IGRlcHRoVGV4dHVyZSAtIFdlYkdMIHYxIGV4dGVuc2lvblxuICAgICAgICAgKiBAcHJvcGVydHkge09FU190ZXh0dXJlX2Zsb2F0fSBmbG9hdFRleHR1cmUgLSBXZWJHTCB2MSBleHRlbnNpb25cbiAgICAgICAgICogQHByb3BlcnR5IHtXRUJHTF9sb3NlX2NvbnRleHR9IGxvc2VDb250ZXh0IC0gV2ViR0wgdjEgZXh0ZW5zaW9uXG4gICAgICAgICAqIEBwcm9wZXJ0eSB7T0VTX3ZlcnRleF9hcnJheV9vYmplY3R9IHZlcnRleEFycmF5T2JqZWN0IC0gV2ViR0wgdjEgZXh0ZW5zaW9uXG4gICAgICAgICAqIEBwcm9wZXJ0eSB7RVhUX3RleHR1cmVfZmlsdGVyX2FuaXNvdHJvcGljfSBhbmlzb3Ryb3BpY0ZpbHRlcmluZyAtIFdlYkdMIHYxIGFuZCB2MiBleHRlbnNpb25cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZXh0ZW5zaW9ucyA9IHt9O1xuXG4gICAgICAgIC8vIEJpbmQgZnVuY3Rpb25zXG4gICAgICAgIHRoaXMuaGFuZGxlQ29udGV4dExvc3QgPSB0aGlzLmhhbmRsZUNvbnRleHRMb3N0LmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuaGFuZGxlQ29udGV4dFJlc3RvcmVkID0gdGhpcy5oYW5kbGVDb250ZXh0UmVzdG9yZWQuYmluZCh0aGlzKTtcblxuICAgICAgICByZW5kZXJlci52aWV3LmFkZEV2ZW50TGlzdGVuZXIoJ3dlYmdsY29udGV4dGxvc3QnLCB0aGlzLmhhbmRsZUNvbnRleHRMb3N0LCBmYWxzZSk7XG4gICAgICAgIHJlbmRlcmVyLnZpZXcuYWRkRXZlbnRMaXN0ZW5lcignd2ViZ2xjb250ZXh0cmVzdG9yZWQnLCB0aGlzLmhhbmRsZUNvbnRleHRSZXN0b3JlZCwgZmFsc2UpO1xuICAgIH1cblxuICAgIGlmICggU3lzdGVtICkgQ29udGV4dFN5c3RlbS5fX3Byb3RvX18gPSBTeXN0ZW07XG4gICAgQ29udGV4dFN5c3RlbS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBTeXN0ZW0gJiYgU3lzdGVtLnByb3RvdHlwZSApO1xuICAgIENvbnRleHRTeXN0ZW0ucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQ29udGV4dFN5c3RlbTtcblxuICAgIHZhciBwcm90b3R5cGVBY2Nlc3NvcnMgPSB7IGlzTG9zdDogeyBjb25maWd1cmFibGU6IHRydWUgfSB9O1xuXG4gICAgLyoqXG4gICAgICogYHRydWVgIGlmIHRoZSBjb250ZXh0IGlzIGxvc3RcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqIEByZWFkb25seVxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5pc0xvc3QuZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHJldHVybiAoIXRoaXMuZ2wgfHwgdGhpcy5nbC5pc0NvbnRleHRMb3N0KCkpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBIYW5kbGUgdGhlIGNvbnRleHQgY2hhbmdlIGV2ZW50XG4gICAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIG5ldyB3ZWJnbCBjb250ZXh0XG4gICAgICovXG4gICAgQ29udGV4dFN5c3RlbS5wcm90b3R5cGUuY29udGV4dENoYW5nZSA9IGZ1bmN0aW9uIGNvbnRleHRDaGFuZ2UgKGdsKVxuICAgIHtcbiAgICAgICAgdGhpcy5nbCA9IGdsO1xuICAgICAgICB0aGlzLnJlbmRlcmVyLmdsID0gZ2w7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuQ09OVEVYVF9VSUQgPSBDT05URVhUX1VJRCsrO1xuXG4gICAgICAgIC8vIHJlc3RvcmUgYSBjb250ZXh0IGlmIGl0IHdhcyBwcmV2aW91c2x5IGxvc3RcbiAgICAgICAgaWYgKGdsLmlzQ29udGV4dExvc3QoKSAmJiBnbC5nZXRFeHRlbnNpb24oJ1dFQkdMX2xvc2VfY29udGV4dCcpKVxuICAgICAgICB7XG4gICAgICAgICAgICBnbC5nZXRFeHRlbnNpb24oJ1dFQkdMX2xvc2VfY29udGV4dCcpLnJlc3RvcmVDb250ZXh0KCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZSB0aGUgY29udGV4dFxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbCAtIFdlYkdMIGNvbnRleHRcbiAgICAgKi9cbiAgICBDb250ZXh0U3lzdGVtLnByb3RvdHlwZS5pbml0RnJvbUNvbnRleHQgPSBmdW5jdGlvbiBpbml0RnJvbUNvbnRleHQgKGdsKVxuICAgIHtcbiAgICAgICAgdGhpcy5nbCA9IGdsO1xuICAgICAgICB0aGlzLnZhbGlkYXRlQ29udGV4dChnbCk7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuZ2wgPSBnbDtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5DT05URVhUX1VJRCA9IENPTlRFWFRfVUlEKys7XG4gICAgICAgIHRoaXMucmVuZGVyZXIucnVubmVycy5jb250ZXh0Q2hhbmdlLnJ1bihnbCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemUgZnJvbSBjb250ZXh0IG9wdGlvbnNcbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9IVE1MQ2FudmFzRWxlbWVudC9nZXRDb250ZXh0XG4gICAgICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnMgLSBjb250ZXh0IGF0dHJpYnV0ZXNcbiAgICAgKi9cbiAgICBDb250ZXh0U3lzdGVtLnByb3RvdHlwZS5pbml0RnJvbU9wdGlvbnMgPSBmdW5jdGlvbiBpbml0RnJvbU9wdGlvbnMgKG9wdGlvbnMpXG4gICAge1xuICAgICAgICB2YXIgZ2wgPSB0aGlzLmNyZWF0ZUNvbnRleHQodGhpcy5yZW5kZXJlci52aWV3LCBvcHRpb25zKTtcblxuICAgICAgICB0aGlzLmluaXRGcm9tQ29udGV4dChnbCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEhlbHBlciBjbGFzcyB0byBjcmVhdGUgYSBXZWJHTCBDb250ZXh0XG4gICAgICpcbiAgICAgKiBAcGFyYW0gY2FudmFzIHtIVE1MQ2FudmFzRWxlbWVudH0gdGhlIGNhbnZhcyBlbGVtZW50IHRoYXQgd2Ugd2lsbCBnZXQgdGhlIGNvbnRleHQgZnJvbVxuICAgICAqIEBwYXJhbSBvcHRpb25zIHtvYmplY3R9IEFuIG9wdGlvbnMgb2JqZWN0IHRoYXQgZ2V0cyBwYXNzZWQgaW4gdG8gdGhlIGNhbnZhcyBlbGVtZW50IGNvbnRhaW5pbmcgdGhlIGNvbnRleHQgYXR0cmlidXRlc1xuICAgICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvQVBJL0hUTUxDYW52YXNFbGVtZW50L2dldENvbnRleHRcbiAgICAgKiBAcmV0dXJuIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IHRoZSBXZWJHTCBjb250ZXh0XG4gICAgICovXG4gICAgQ29udGV4dFN5c3RlbS5wcm90b3R5cGUuY3JlYXRlQ29udGV4dCA9IGZ1bmN0aW9uIGNyZWF0ZUNvbnRleHQgKGNhbnZhcywgb3B0aW9ucylcbiAgICB7XG4gICAgICAgIHZhciBnbDtcblxuICAgICAgICBpZiAoc2V0dGluZ3MuUFJFRkVSX0VOViA+PSBFTlYuV0VCR0wyKVxuICAgICAgICB7XG4gICAgICAgICAgICBnbCA9IGNhbnZhcy5nZXRDb250ZXh0KCd3ZWJnbDInLCBvcHRpb25zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChnbClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy53ZWJHTFZlcnNpb24gPSAyO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy53ZWJHTFZlcnNpb24gPSAxO1xuXG4gICAgICAgICAgICBnbCA9IGNhbnZhcy5nZXRDb250ZXh0KCd3ZWJnbCcsIG9wdGlvbnMpXG4gICAgICAgICAgICB8fCBjYW52YXMuZ2V0Q29udGV4dCgnZXhwZXJpbWVudGFsLXdlYmdsJywgb3B0aW9ucyk7XG5cbiAgICAgICAgICAgIGlmICghZ2wpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgLy8gZmFpbCwgbm90IGFibGUgdG8gZ2V0IGEgY29udGV4dFxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVGhpcyBicm93c2VyIGRvZXMgbm90IHN1cHBvcnQgV2ViR0wuIFRyeSB1c2luZyB0aGUgY2FudmFzIHJlbmRlcmVyJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmdsID0gZ2w7XG5cbiAgICAgICAgdGhpcy5nZXRFeHRlbnNpb25zKCk7XG5cbiAgICAgICAgcmV0dXJuIGdsO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBdXRvLXBvcHVsYXRlIHRoZSBleHRlbnNpb25zXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgQ29udGV4dFN5c3RlbS5wcm90b3R5cGUuZ2V0RXh0ZW5zaW9ucyA9IGZ1bmN0aW9uIGdldEV4dGVuc2lvbnMgKClcbiAgICB7XG4gICAgICAgIC8vIHRpbWUgdG8gc2V0IHVwIGRlZmF1bHQgZXh0ZW5zaW9ucyB0aGF0IFBpeGkgdXNlcy5cbiAgICAgICAgdmFyIHJlZiA9IHRoaXM7XG4gICAgICAgIHZhciBnbCA9IHJlZi5nbDtcblxuICAgICAgICBpZiAodGhpcy53ZWJHTFZlcnNpb24gPT09IDEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24odGhpcy5leHRlbnNpb25zLCB7XG4gICAgICAgICAgICAgICAgZHJhd0J1ZmZlcnM6IGdsLmdldEV4dGVuc2lvbignV0VCR0xfZHJhd19idWZmZXJzJyksXG4gICAgICAgICAgICAgICAgZGVwdGhUZXh0dXJlOiBnbC5nZXRFeHRlbnNpb24oJ1dFQktJVF9XRUJHTF9kZXB0aF90ZXh0dXJlJyksXG4gICAgICAgICAgICAgICAgbG9zZUNvbnRleHQ6IGdsLmdldEV4dGVuc2lvbignV0VCR0xfbG9zZV9jb250ZXh0JyksXG4gICAgICAgICAgICAgICAgdmVydGV4QXJyYXlPYmplY3Q6IGdsLmdldEV4dGVuc2lvbignT0VTX3ZlcnRleF9hcnJheV9vYmplY3QnKVxuICAgICAgICAgICAgICAgICAgICB8fCBnbC5nZXRFeHRlbnNpb24oJ01PWl9PRVNfdmVydGV4X2FycmF5X29iamVjdCcpXG4gICAgICAgICAgICAgICAgICAgIHx8IGdsLmdldEV4dGVuc2lvbignV0VCS0lUX09FU192ZXJ0ZXhfYXJyYXlfb2JqZWN0JyksXG4gICAgICAgICAgICAgICAgYW5pc290cm9waWNGaWx0ZXJpbmc6IGdsLmdldEV4dGVuc2lvbignRVhUX3RleHR1cmVfZmlsdGVyX2FuaXNvdHJvcGljJyksXG4gICAgICAgICAgICAgICAgdWludDMyRWxlbWVudEluZGV4OiBnbC5nZXRFeHRlbnNpb24oJ09FU19lbGVtZW50X2luZGV4X3VpbnQnKSxcbiAgICAgICAgICAgICAgICAvLyBGbG9hdHMgYW5kIGhhbGYtZmxvYXRzXG4gICAgICAgICAgICAgICAgZmxvYXRUZXh0dXJlOiBnbC5nZXRFeHRlbnNpb24oJ09FU190ZXh0dXJlX2Zsb2F0JyksXG4gICAgICAgICAgICAgICAgZmxvYXRUZXh0dXJlTGluZWFyOiBnbC5nZXRFeHRlbnNpb24oJ09FU190ZXh0dXJlX2Zsb2F0X2xpbmVhcicpLFxuICAgICAgICAgICAgICAgIHRleHR1cmVIYWxmRmxvYXQ6IGdsLmdldEV4dGVuc2lvbignT0VTX3RleHR1cmVfaGFsZl9mbG9hdCcpLFxuICAgICAgICAgICAgICAgIHRleHR1cmVIYWxmRmxvYXRMaW5lYXI6IGdsLmdldEV4dGVuc2lvbignT0VTX3RleHR1cmVfaGFsZl9mbG9hdF9saW5lYXInKSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMud2ViR0xWZXJzaW9uID09PSAyKVxuICAgICAgICB7XG4gICAgICAgICAgICBPYmplY3QuYXNzaWduKHRoaXMuZXh0ZW5zaW9ucywge1xuICAgICAgICAgICAgICAgIGFuaXNvdHJvcGljRmlsdGVyaW5nOiBnbC5nZXRFeHRlbnNpb24oJ0VYVF90ZXh0dXJlX2ZpbHRlcl9hbmlzb3Ryb3BpYycpLFxuICAgICAgICAgICAgICAgIC8vIEZsb2F0cyBhbmQgaGFsZi1mbG9hdHNcbiAgICAgICAgICAgICAgICBjb2xvckJ1ZmZlckZsb2F0OiBnbC5nZXRFeHRlbnNpb24oJ0VYVF9jb2xvcl9idWZmZXJfZmxvYXQnKSxcbiAgICAgICAgICAgICAgICBmbG9hdFRleHR1cmVMaW5lYXI6IGdsLmdldEV4dGVuc2lvbignT0VTX3RleHR1cmVfZmxvYXRfbGluZWFyJyksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBIYW5kbGVzIGEgbG9zdCB3ZWJnbCBjb250ZXh0XG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtXZWJHTENvbnRleHRFdmVudH0gZXZlbnQgLSBUaGUgY29udGV4dCBsb3N0IGV2ZW50LlxuICAgICAqL1xuICAgIENvbnRleHRTeXN0ZW0ucHJvdG90eXBlLmhhbmRsZUNvbnRleHRMb3N0ID0gZnVuY3Rpb24gaGFuZGxlQ29udGV4dExvc3QgKGV2ZW50KVxuICAgIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSGFuZGxlcyBhIHJlc3RvcmVkIHdlYmdsIGNvbnRleHRcbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBDb250ZXh0U3lzdGVtLnByb3RvdHlwZS5oYW5kbGVDb250ZXh0UmVzdG9yZWQgPSBmdW5jdGlvbiBoYW5kbGVDb250ZXh0UmVzdG9yZWQgKClcbiAgICB7XG4gICAgICAgIHRoaXMucmVuZGVyZXIucnVubmVycy5jb250ZXh0Q2hhbmdlLnJ1bih0aGlzLmdsKTtcbiAgICB9O1xuXG4gICAgQ29udGV4dFN5c3RlbS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3kgKClcbiAgICB7XG4gICAgICAgIHZhciB2aWV3ID0gdGhpcy5yZW5kZXJlci52aWV3O1xuXG4gICAgICAgIC8vIHJlbW92ZSBsaXN0ZW5lcnNcbiAgICAgICAgdmlldy5yZW1vdmVFdmVudExpc3RlbmVyKCd3ZWJnbGNvbnRleHRsb3N0JywgdGhpcy5oYW5kbGVDb250ZXh0TG9zdCk7XG4gICAgICAgIHZpZXcucmVtb3ZlRXZlbnRMaXN0ZW5lcignd2ViZ2xjb250ZXh0cmVzdG9yZWQnLCB0aGlzLmhhbmRsZUNvbnRleHRSZXN0b3JlZCk7XG5cbiAgICAgICAgdGhpcy5nbC51c2VQcm9ncmFtKG51bGwpO1xuXG4gICAgICAgIGlmICh0aGlzLmV4dGVuc2lvbnMubG9zZUNvbnRleHQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuZXh0ZW5zaW9ucy5sb3NlQ29udGV4dC5sb3NlQ29udGV4dCgpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEhhbmRsZSB0aGUgcG9zdC1yZW5kZXIgcnVubmVyIGV2ZW50XG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgQ29udGV4dFN5c3RlbS5wcm90b3R5cGUucG9zdHJlbmRlciA9IGZ1bmN0aW9uIHBvc3RyZW5kZXIgKClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLnJlbmRlcmVyLnJlbmRlcmluZ1RvU2NyZWVuKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmdsLmZsdXNoKCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVmFsaWRhdGUgY29udGV4dFxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbCAtIFJlbmRlciBjb250ZXh0XG4gICAgICovXG4gICAgQ29udGV4dFN5c3RlbS5wcm90b3R5cGUudmFsaWRhdGVDb250ZXh0ID0gZnVuY3Rpb24gdmFsaWRhdGVDb250ZXh0IChnbClcbiAgICB7XG4gICAgICAgIHZhciBhdHRyaWJ1dGVzID0gZ2wuZ2V0Q29udGV4dEF0dHJpYnV0ZXMoKTtcblxuICAgICAgICAvLyB0aGlzIGlzIGdvaW5nIHRvIGJlIGZhaXJseSBzaW1wbGUgZm9yIG5vdy4uIGJ1dCBhdCBsZWFzdCB3ZSBoYXZlIHJvb20gdG8gZ3JvdyFcbiAgICAgICAgaWYgKCFhdHRyaWJ1dGVzLnN0ZW5jaWwpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8qIGVzbGludC1kaXNhYmxlIG1heC1sZW4gKi9cblxuICAgICAgICAgICAgLyogZXNsaW50LWRpc2FibGUgbm8tY29uc29sZSAqL1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCdQcm92aWRlZCBXZWJHTCBjb250ZXh0IGRvZXMgbm90IGhhdmUgYSBzdGVuY2lsIGJ1ZmZlciwgbWFza3MgbWF5IG5vdCByZW5kZXIgY29ycmVjdGx5Jyk7XG4gICAgICAgICAgICAvKiBlc2xpbnQtZW5hYmxlIG5vLWNvbnNvbGUgKi9cblxuICAgICAgICAgICAgLyogZXNsaW50LWVuYWJsZSBtYXgtbGVuICovXG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoIENvbnRleHRTeXN0ZW0ucHJvdG90eXBlLCBwcm90b3R5cGVBY2Nlc3NvcnMgKTtcblxuICAgIHJldHVybiBDb250ZXh0U3lzdGVtO1xufShTeXN0ZW0pKTtcblxuLyoqXG4gKiBTeXN0ZW0gcGx1Z2luIHRvIHRoZSByZW5kZXJlciB0byBtYW5hZ2UgZnJhbWVidWZmZXJzLlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5TeXN0ZW1cbiAqIEBtZW1iZXJvZiBQSVhJLnN5c3RlbXNcbiAqL1xudmFyIEZyYW1lYnVmZmVyU3lzdGVtID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoU3lzdGVtKSB7XG4gICAgZnVuY3Rpb24gRnJhbWVidWZmZXJTeXN0ZW0ocmVuZGVyZXIpXG4gICAge1xuICAgICAgICBTeXN0ZW0uY2FsbCh0aGlzLCByZW5kZXJlcik7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgbGlzdCBvZiBtYW5hZ2VkIGZyYW1lYnVmZmVyc1xuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkZyYW1lYnVmZmVyW119XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5tYW5hZ2VkRnJhbWVidWZmZXJzID0gW107XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZyYW1lYnVmZmVyIHZhbHVlIHRoYXQgc2hvd3MgdGhhdCB3ZSBkb24ndCBrbm93IHdoYXQgaXMgYm91bmRcbiAgICAgICAgICogQG1lbWJlciB7RnJhbWVidWZmZXJ9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy51bmtub3duRnJhbWVidWZmZXIgPSBuZXcgRnJhbWVidWZmZXIoMTAsIDEwKTtcbiAgICB9XG5cbiAgICBpZiAoIFN5c3RlbSApIEZyYW1lYnVmZmVyU3lzdGVtLl9fcHJvdG9fXyA9IFN5c3RlbTtcbiAgICBGcmFtZWJ1ZmZlclN5c3RlbS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBTeXN0ZW0gJiYgU3lzdGVtLnByb3RvdHlwZSApO1xuICAgIEZyYW1lYnVmZmVyU3lzdGVtLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEZyYW1lYnVmZmVyU3lzdGVtO1xuXG4gICAgdmFyIHByb3RvdHlwZUFjY2Vzc29ycyA9IHsgc2l6ZTogeyBjb25maWd1cmFibGU6IHRydWUgfSB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0cyB1cCB0aGUgcmVuZGVyZXIgY29udGV4dCBhbmQgbmVjZXNzYXJ5IGJ1ZmZlcnMuXG4gICAgICovXG4gICAgRnJhbWVidWZmZXJTeXN0ZW0ucHJvdG90eXBlLmNvbnRleHRDaGFuZ2UgPSBmdW5jdGlvbiBjb250ZXh0Q2hhbmdlICgpXG4gICAge1xuICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsID0gdGhpcy5yZW5kZXJlci5nbDtcblxuICAgICAgICB0aGlzLkNPTlRFWFRfVUlEID0gdGhpcy5yZW5kZXJlci5DT05URVhUX1VJRDtcbiAgICAgICAgdGhpcy5jdXJyZW50ID0gdGhpcy51bmtub3duRnJhbWVidWZmZXI7XG4gICAgICAgIHRoaXMudmlld3BvcnQgPSBuZXcgUmVjdGFuZ2xlKCk7XG4gICAgICAgIHRoaXMuaGFzTVJUID0gdHJ1ZTtcbiAgICAgICAgdGhpcy53cml0ZURlcHRoVGV4dHVyZSA9IHRydWU7XG5cbiAgICAgICAgdGhpcy5kaXNwb3NlQWxsKHRydWUpO1xuXG4gICAgICAgIC8vIHdlYmdsMlxuICAgICAgICBpZiAodGhpcy5yZW5kZXJlci5jb250ZXh0LndlYkdMVmVyc2lvbiA9PT0gMSlcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gd2ViZ2wgMSFcbiAgICAgICAgICAgIHZhciBuYXRpdmVEcmF3QnVmZmVyc0V4dGVuc2lvbiA9IHRoaXMucmVuZGVyZXIuY29udGV4dC5leHRlbnNpb25zLmRyYXdCdWZmZXJzO1xuICAgICAgICAgICAgdmFyIG5hdGl2ZURlcHRoVGV4dHVyZUV4dGVuc2lvbiA9IHRoaXMucmVuZGVyZXIuY29udGV4dC5leHRlbnNpb25zLmRlcHRoVGV4dHVyZTtcblxuICAgICAgICAgICAgaWYgKHNldHRpbmdzLlBSRUZFUl9FTlYgPT09IEVOVi5XRUJHTF9MRUdBQ1kpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmF0aXZlRHJhd0J1ZmZlcnNFeHRlbnNpb24gPSBudWxsO1xuICAgICAgICAgICAgICAgIG5hdGl2ZURlcHRoVGV4dHVyZUV4dGVuc2lvbiA9IG51bGw7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChuYXRpdmVEcmF3QnVmZmVyc0V4dGVuc2lvbilcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBnbC5kcmF3QnVmZmVycyA9IGZ1bmN0aW9uIChhY3RpdmVUZXh0dXJlcykgeyByZXR1cm4gbmF0aXZlRHJhd0J1ZmZlcnNFeHRlbnNpb24uZHJhd0J1ZmZlcnNXRUJHTChhY3RpdmVUZXh0dXJlcyk7IH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5oYXNNUlQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBnbC5kcmF3QnVmZmVycyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gZW1wdHlcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIW5hdGl2ZURlcHRoVGV4dHVyZUV4dGVuc2lvbilcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLndyaXRlRGVwdGhUZXh0dXJlID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQmluZCBhIGZyYW1lYnVmZmVyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRnJhbWVidWZmZXJ9IGZyYW1lYnVmZmVyXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gW2ZyYW1lXSBmcmFtZSwgZGVmYXVsdCBpcyBmcmFtZWJ1ZmZlciBzaXplXG4gICAgICovXG4gICAgRnJhbWVidWZmZXJTeXN0ZW0ucHJvdG90eXBlLmJpbmQgPSBmdW5jdGlvbiBiaW5kIChmcmFtZWJ1ZmZlciwgZnJhbWUpXG4gICAge1xuICAgICAgICB2YXIgcmVmID0gdGhpcztcbiAgICAgICAgdmFyIGdsID0gcmVmLmdsO1xuXG4gICAgICAgIGlmIChmcmFtZWJ1ZmZlcilcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gVE9ETyBjYWNoaW5nIGxheWVyIVxuXG4gICAgICAgICAgICB2YXIgZmJvID0gZnJhbWVidWZmZXIuZ2xGcmFtZWJ1ZmZlcnNbdGhpcy5DT05URVhUX1VJRF0gfHwgdGhpcy5pbml0RnJhbWVidWZmZXIoZnJhbWVidWZmZXIpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50ICE9PSBmcmFtZWJ1ZmZlcilcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnQgPSBmcmFtZWJ1ZmZlcjtcbiAgICAgICAgICAgICAgICBnbC5iaW5kRnJhbWVidWZmZXIoZ2wuRlJBTUVCVUZGRVIsIGZiby5mcmFtZWJ1ZmZlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBtYWtlIHN1cmUgYWxsIHRleHR1cmVzIGFyZSB1bmJvdW5kLi5cblxuICAgICAgICAgICAgLy8gbm93IGNoZWNrIGZvciB1cGRhdGVzLi4uXG4gICAgICAgICAgICBpZiAoZmJvLmRpcnR5SWQgIT09IGZyYW1lYnVmZmVyLmRpcnR5SWQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZmJvLmRpcnR5SWQgPSBmcmFtZWJ1ZmZlci5kaXJ0eUlkO1xuXG4gICAgICAgICAgICAgICAgaWYgKGZiby5kaXJ0eUZvcm1hdCAhPT0gZnJhbWVidWZmZXIuZGlydHlGb3JtYXQpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBmYm8uZGlydHlGb3JtYXQgPSBmcmFtZWJ1ZmZlci5kaXJ0eUZvcm1hdDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVGcmFtZWJ1ZmZlcihmcmFtZWJ1ZmZlcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGZiby5kaXJ0eVNpemUgIT09IGZyYW1lYnVmZmVyLmRpcnR5U2l6ZSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGZiby5kaXJ0eVNpemUgPSBmcmFtZWJ1ZmZlci5kaXJ0eVNpemU7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVzaXplRnJhbWVidWZmZXIoZnJhbWVidWZmZXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBmcmFtZWJ1ZmZlci5jb2xvclRleHR1cmVzLmxlbmd0aDsgaSsrKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmIChmcmFtZWJ1ZmZlci5jb2xvclRleHR1cmVzW2ldLnRleHR1cmVQYXJ0KVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJlci50ZXh0dXJlLnVuYmluZChmcmFtZWJ1ZmZlci5jb2xvclRleHR1cmVzW2ldLnRleHR1cmUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnRleHR1cmUudW5iaW5kKGZyYW1lYnVmZmVyLmNvbG9yVGV4dHVyZXNbaV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGZyYW1lYnVmZmVyLmRlcHRoVGV4dHVyZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnRleHR1cmUudW5iaW5kKGZyYW1lYnVmZmVyLmRlcHRoVGV4dHVyZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChmcmFtZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldFZpZXdwb3J0KGZyYW1lLngsIGZyYW1lLnksIGZyYW1lLndpZHRoLCBmcmFtZS5oZWlnaHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0Vmlld3BvcnQoMCwgMCwgZnJhbWVidWZmZXIud2lkdGgsIGZyYW1lYnVmZmVyLmhlaWdodCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudCA9IG51bGw7XG4gICAgICAgICAgICAgICAgZ2wuYmluZEZyYW1lYnVmZmVyKGdsLkZSQU1FQlVGRkVSLCBudWxsKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGZyYW1lKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0Vmlld3BvcnQoZnJhbWUueCwgZnJhbWUueSwgZnJhbWUud2lkdGgsIGZyYW1lLmhlaWdodCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRWaWV3cG9ydCgwLCAwLCB0aGlzLnJlbmRlcmVyLndpZHRoLCB0aGlzLnJlbmRlcmVyLmhlaWdodCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBXZWJHTFJlbmRlcmluZ0NvbnRleHQncyB2aWV3cG9ydC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB4IC0gWCBwb3NpdGlvbiBvZiB2aWV3cG9ydFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB5IC0gWSBwb3NpdGlvbiBvZiB2aWV3cG9ydFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB3aWR0aCAtIFdpZHRoIG9mIHZpZXdwb3J0XG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGhlaWdodCAtIEhlaWdodCBvZiB2aWV3cG9ydFxuICAgICAqL1xuICAgIEZyYW1lYnVmZmVyU3lzdGVtLnByb3RvdHlwZS5zZXRWaWV3cG9ydCA9IGZ1bmN0aW9uIHNldFZpZXdwb3J0ICh4LCB5LCB3aWR0aCwgaGVpZ2h0KVxuICAgIHtcbiAgICAgICAgdmFyIHYgPSB0aGlzLnZpZXdwb3J0O1xuXG4gICAgICAgIGlmICh2LndpZHRoICE9PSB3aWR0aCB8fCB2LmhlaWdodCAhPT0gaGVpZ2h0IHx8IHYueCAhPT0geCB8fCB2LnkgIT09IHkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHYueCA9IHg7XG4gICAgICAgICAgICB2LnkgPSB5O1xuICAgICAgICAgICAgdi53aWR0aCA9IHdpZHRoO1xuICAgICAgICAgICAgdi5oZWlnaHQgPSBoZWlnaHQ7XG5cbiAgICAgICAgICAgIHRoaXMuZ2wudmlld3BvcnQoeCwgeSwgd2lkdGgsIGhlaWdodCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBzaXplIG9mIHRoZSBjdXJyZW50IHdpZHRoIGFuZCBoZWlnaHQuIFJldHVybnMgb2JqZWN0IHdpdGggYHdpZHRoYCBhbmQgYGhlaWdodGAgdmFsdWVzLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7b2JqZWN0fVxuICAgICAqIEByZWFkb25seVxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5zaXplLmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5jdXJyZW50KVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBUT0RPIHN0b3JlIHRlbXBcbiAgICAgICAgICAgIHJldHVybiB7IHg6IDAsIHk6IDAsIHdpZHRoOiB0aGlzLmN1cnJlbnQud2lkdGgsIGhlaWdodDogdGhpcy5jdXJyZW50LmhlaWdodCB9O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHsgeDogMCwgeTogMCwgd2lkdGg6IHRoaXMucmVuZGVyZXIud2lkdGgsIGhlaWdodDogdGhpcy5yZW5kZXJlci5oZWlnaHQgfTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2xlYXIgdGhlIGNvbG9yIG9mIHRoZSBjb250ZXh0XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gciAtIFJlZCB2YWx1ZSBmcm9tIDAgdG8gMVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBnIC0gR3JlZW4gdmFsdWUgZnJvbSAwIHRvIDFcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gYiAtIEJsdWUgdmFsdWUgZnJvbSAwIHRvIDFcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gYSAtIEFscGhhIHZhbHVlIGZyb20gMCB0byAxXG4gICAgICovXG4gICAgRnJhbWVidWZmZXJTeXN0ZW0ucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gY2xlYXIgKHIsIGcsIGIsIGEpXG4gICAge1xuICAgICAgICB2YXIgcmVmID0gdGhpcztcbiAgICAgICAgdmFyIGdsID0gcmVmLmdsO1xuXG4gICAgICAgIC8vIFRPRE8gY2xlYXIgY29sb3IgY2FuIGJlIHNldCBvbmx5IG9uZSByaWdodD9cbiAgICAgICAgZ2wuY2xlYXJDb2xvcihyLCBnLCBiLCBhKTtcbiAgICAgICAgZ2wuY2xlYXIoZ2wuQ09MT1JfQlVGRkVSX0JJVCB8IGdsLkRFUFRIX0JVRkZFUl9CSVQpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplIGZyYW1lYnVmZmVyXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtQSVhJLkZyYW1lYnVmZmVyfSBmcmFtZWJ1ZmZlclxuICAgICAqL1xuICAgIEZyYW1lYnVmZmVyU3lzdGVtLnByb3RvdHlwZS5pbml0RnJhbWVidWZmZXIgPSBmdW5jdGlvbiBpbml0RnJhbWVidWZmZXIgKGZyYW1lYnVmZmVyKVxuICAgIHtcbiAgICAgICAgdmFyIHJlZiA9IHRoaXM7XG4gICAgICAgIHZhciBnbCA9IHJlZi5nbDtcblxuICAgICAgICAvLyBUT0RPIC0gbWFrZSB0aGlzIGEgY2xhc3M/XG4gICAgICAgIHZhciBmYm8gPSB7XG4gICAgICAgICAgICBmcmFtZWJ1ZmZlcjogZ2wuY3JlYXRlRnJhbWVidWZmZXIoKSxcbiAgICAgICAgICAgIHN0ZW5jaWw6IG51bGwsXG4gICAgICAgICAgICBkaXJ0eUlkOiAwLFxuICAgICAgICAgICAgZGlydHlGb3JtYXQ6IDAsXG4gICAgICAgICAgICBkaXJ0eVNpemU6IDAsXG4gICAgICAgIH07XG5cbiAgICAgICAgZnJhbWVidWZmZXIuZ2xGcmFtZWJ1ZmZlcnNbdGhpcy5DT05URVhUX1VJRF0gPSBmYm87XG5cbiAgICAgICAgdGhpcy5tYW5hZ2VkRnJhbWVidWZmZXJzLnB1c2goZnJhbWVidWZmZXIpO1xuICAgICAgICBmcmFtZWJ1ZmZlci5kaXNwb3NlUnVubmVyLmFkZCh0aGlzKTtcblxuICAgICAgICByZXR1cm4gZmJvO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXNpemUgdGhlIGZyYW1lYnVmZmVyXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtQSVhJLkZyYW1lYnVmZmVyfSBmcmFtZWJ1ZmZlclxuICAgICAqL1xuICAgIEZyYW1lYnVmZmVyU3lzdGVtLnByb3RvdHlwZS5yZXNpemVGcmFtZWJ1ZmZlciA9IGZ1bmN0aW9uIHJlc2l6ZUZyYW1lYnVmZmVyIChmcmFtZWJ1ZmZlcilcbiAgICB7XG4gICAgICAgIHZhciByZWYgPSB0aGlzO1xuICAgICAgICB2YXIgZ2wgPSByZWYuZ2w7XG5cbiAgICAgICAgdmFyIGZibyA9IGZyYW1lYnVmZmVyLmdsRnJhbWVidWZmZXJzW3RoaXMuQ09OVEVYVF9VSURdO1xuXG4gICAgICAgIGlmIChmYm8uc3RlbmNpbClcbiAgICAgICAge1xuICAgICAgICAgICAgZ2wuYmluZFJlbmRlcmJ1ZmZlcihnbC5SRU5ERVJCVUZGRVIsIGZiby5zdGVuY2lsKTtcbiAgICAgICAgICAgIGdsLnJlbmRlcmJ1ZmZlclN0b3JhZ2UoZ2wuUkVOREVSQlVGRkVSLCBnbC5ERVBUSF9TVEVOQ0lMLCBmcmFtZWJ1ZmZlci53aWR0aCwgZnJhbWVidWZmZXIuaGVpZ2h0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBjb2xvclRleHR1cmVzID0gZnJhbWVidWZmZXIuY29sb3JUZXh0dXJlcztcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvbG9yVGV4dHVyZXMubGVuZ3RoOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIudGV4dHVyZS5iaW5kKGNvbG9yVGV4dHVyZXNbaV0sIDApO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGZyYW1lYnVmZmVyLmRlcHRoVGV4dHVyZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJlci50ZXh0dXJlLmJpbmQoZnJhbWVidWZmZXIuZGVwdGhUZXh0dXJlLCAwKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGUgdGhlIGZyYW1lYnVmZmVyXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtQSVhJLkZyYW1lYnVmZmVyfSBmcmFtZWJ1ZmZlclxuICAgICAqL1xuICAgIEZyYW1lYnVmZmVyU3lzdGVtLnByb3RvdHlwZS51cGRhdGVGcmFtZWJ1ZmZlciA9IGZ1bmN0aW9uIHVwZGF0ZUZyYW1lYnVmZmVyIChmcmFtZWJ1ZmZlcilcbiAgICB7XG4gICAgICAgIHZhciByZWYgPSB0aGlzO1xuICAgICAgICB2YXIgZ2wgPSByZWYuZ2w7XG5cbiAgICAgICAgdmFyIGZibyA9IGZyYW1lYnVmZmVyLmdsRnJhbWVidWZmZXJzW3RoaXMuQ09OVEVYVF9VSURdO1xuXG4gICAgICAgIC8vIGJpbmQgdGhlIGNvbG9yIHRleHR1cmVcbiAgICAgICAgdmFyIGNvbG9yVGV4dHVyZXMgPSBmcmFtZWJ1ZmZlci5jb2xvclRleHR1cmVzO1xuXG4gICAgICAgIHZhciBjb3VudCA9IGNvbG9yVGV4dHVyZXMubGVuZ3RoO1xuXG4gICAgICAgIGlmICghZ2wuZHJhd0J1ZmZlcnMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvdW50ID0gTWF0aC5taW4oY291bnQsIDEpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGFjdGl2ZVRleHR1cmVzID0gW107XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb3VudDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgdGV4dHVyZSA9IGZyYW1lYnVmZmVyLmNvbG9yVGV4dHVyZXNbaV07XG5cbiAgICAgICAgICAgIGlmICh0ZXh0dXJlLnRleHR1cmVQYXJ0KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyZXIudGV4dHVyZS5iaW5kKHRleHR1cmUudGV4dHVyZSwgMCk7XG5cbiAgICAgICAgICAgICAgICBnbC5mcmFtZWJ1ZmZlclRleHR1cmUyRChnbC5GUkFNRUJVRkZFUixcbiAgICAgICAgICAgICAgICAgICAgZ2wuQ09MT1JfQVRUQUNITUVOVDAgKyBpLFxuICAgICAgICAgICAgICAgICAgICBnbC5URVhUVVJFX0NVQkVfTUFQX05FR0FUSVZFX1ggKyB0ZXh0dXJlLnNpZGUsXG4gICAgICAgICAgICAgICAgICAgIHRleHR1cmUudGV4dHVyZS5fZ2xUZXh0dXJlc1t0aGlzLkNPTlRFWFRfVUlEXS50ZXh0dXJlLFxuICAgICAgICAgICAgICAgICAgICAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnRleHR1cmUuYmluZCh0ZXh0dXJlLCAwKTtcblxuICAgICAgICAgICAgICAgIGdsLmZyYW1lYnVmZmVyVGV4dHVyZTJEKGdsLkZSQU1FQlVGRkVSLFxuICAgICAgICAgICAgICAgICAgICBnbC5DT0xPUl9BVFRBQ0hNRU5UMCArIGksXG4gICAgICAgICAgICAgICAgICAgIGdsLlRFWFRVUkVfMkQsXG4gICAgICAgICAgICAgICAgICAgIHRleHR1cmUuX2dsVGV4dHVyZXNbdGhpcy5DT05URVhUX1VJRF0udGV4dHVyZSxcbiAgICAgICAgICAgICAgICAgICAgMCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGFjdGl2ZVRleHR1cmVzLnB1c2goZ2wuQ09MT1JfQVRUQUNITUVOVDAgKyBpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChhY3RpdmVUZXh0dXJlcy5sZW5ndGggPiAxKVxuICAgICAgICB7XG4gICAgICAgICAgICBnbC5kcmF3QnVmZmVycyhhY3RpdmVUZXh0dXJlcyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZnJhbWVidWZmZXIuZGVwdGhUZXh0dXJlKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgd3JpdGVEZXB0aFRleHR1cmUgPSB0aGlzLndyaXRlRGVwdGhUZXh0dXJlO1xuXG4gICAgICAgICAgICBpZiAod3JpdGVEZXB0aFRleHR1cmUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdmFyIGRlcHRoVGV4dHVyZSA9IGZyYW1lYnVmZmVyLmRlcHRoVGV4dHVyZTtcblxuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyZXIudGV4dHVyZS5iaW5kKGRlcHRoVGV4dHVyZSwgMCk7XG5cbiAgICAgICAgICAgICAgICBnbC5mcmFtZWJ1ZmZlclRleHR1cmUyRChnbC5GUkFNRUJVRkZFUixcbiAgICAgICAgICAgICAgICAgICAgZ2wuREVQVEhfQVRUQUNITUVOVCxcbiAgICAgICAgICAgICAgICAgICAgZ2wuVEVYVFVSRV8yRCxcbiAgICAgICAgICAgICAgICAgICAgZGVwdGhUZXh0dXJlLl9nbFRleHR1cmVzW3RoaXMuQ09OVEVYVF9VSURdLnRleHR1cmUsXG4gICAgICAgICAgICAgICAgICAgIDApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFmYm8uc3RlbmNpbCAmJiAoZnJhbWVidWZmZXIuc3RlbmNpbCB8fCBmcmFtZWJ1ZmZlci5kZXB0aCkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGZiby5zdGVuY2lsID0gZ2wuY3JlYXRlUmVuZGVyYnVmZmVyKCk7XG5cbiAgICAgICAgICAgIGdsLmJpbmRSZW5kZXJidWZmZXIoZ2wuUkVOREVSQlVGRkVSLCBmYm8uc3RlbmNpbCk7XG5cbiAgICAgICAgICAgIGdsLnJlbmRlcmJ1ZmZlclN0b3JhZ2UoZ2wuUkVOREVSQlVGRkVSLCBnbC5ERVBUSF9TVEVOQ0lMLCBmcmFtZWJ1ZmZlci53aWR0aCwgZnJhbWVidWZmZXIuaGVpZ2h0KTtcbiAgICAgICAgICAgIC8vIFRPRE8uLiB0aGlzIGlzIGRlcHRoIEFORCBzdGVuY2lsP1xuICAgICAgICAgICAgaWYgKCFmcmFtZWJ1ZmZlci5kZXB0aFRleHR1cmUpXG4gICAgICAgICAgICB7IC8vIHlvdSBjYW4ndCBoYXZlIGJvdGgsIHNvIG9uZSBzaG91bGQgdGFrZSBwcmlvcml0eSBpZiBlbmFibGVkXG4gICAgICAgICAgICAgICAgZ2wuZnJhbWVidWZmZXJSZW5kZXJidWZmZXIoZ2wuRlJBTUVCVUZGRVIsIGdsLkRFUFRIX1NURU5DSUxfQVRUQUNITUVOVCwgZ2wuUkVOREVSQlVGRkVSLCBmYm8uc3RlbmNpbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGlzcG9zZXMgZnJhbWVidWZmZXJcbiAgICAgKiBAcGFyYW0ge1BJWEkuRnJhbWVidWZmZXJ9IGZyYW1lYnVmZmVyIGZyYW1lYnVmZmVyIHRoYXQgaGFzIHRvIGJlIGRpc3Bvc2VkIG9mXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbY29udGV4dExvc3Q9ZmFsc2VdIElmIGNvbnRleHQgd2FzIGxvc3QsIHdlIHN1cHByZXNzIGFsbCBkZWxldGUgZnVuY3Rpb24gY2FsbHNcbiAgICAgKi9cbiAgICBGcmFtZWJ1ZmZlclN5c3RlbS5wcm90b3R5cGUuZGlzcG9zZUZyYW1lYnVmZmVyID0gZnVuY3Rpb24gZGlzcG9zZUZyYW1lYnVmZmVyIChmcmFtZWJ1ZmZlciwgY29udGV4dExvc3QpXG4gICAge1xuICAgICAgICB2YXIgZmJvID0gZnJhbWVidWZmZXIuZ2xGcmFtZWJ1ZmZlcnNbdGhpcy5DT05URVhUX1VJRF07XG4gICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XG5cbiAgICAgICAgaWYgKCFmYm8pXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGRlbGV0ZSBmcmFtZWJ1ZmZlci5nbEZyYW1lYnVmZmVyc1t0aGlzLkNPTlRFWFRfVUlEXTtcblxuICAgICAgICB2YXIgaW5kZXggPSB0aGlzLm1hbmFnZWRGcmFtZWJ1ZmZlcnMuaW5kZXhPZihmcmFtZWJ1ZmZlcik7XG5cbiAgICAgICAgaWYgKGluZGV4ID49IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMubWFuYWdlZEZyYW1lYnVmZmVycy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICB9XG5cbiAgICAgICAgZnJhbWVidWZmZXIuZGlzcG9zZVJ1bm5lci5yZW1vdmUodGhpcyk7XG5cbiAgICAgICAgaWYgKCFjb250ZXh0TG9zdClcbiAgICAgICAge1xuICAgICAgICAgICAgZ2wuZGVsZXRlRnJhbWVidWZmZXIoZmJvLmZyYW1lYnVmZmVyKTtcbiAgICAgICAgICAgIGlmIChmYm8uc3RlbmNpbClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBnbC5kZWxldGVSZW5kZXJidWZmZXIoZmJvLnN0ZW5jaWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERpc3Bvc2VzIGFsbCBmcmFtZWJ1ZmZlcnMsIGJ1dCBub3QgdGV4dHVyZXMgYm91bmQgdG8gdGhlbVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2NvbnRleHRMb3N0PWZhbHNlXSBJZiBjb250ZXh0IHdhcyBsb3N0LCB3ZSBzdXBwcmVzcyBhbGwgZGVsZXRlIGZ1bmN0aW9uIGNhbGxzXG4gICAgICovXG4gICAgRnJhbWVidWZmZXJTeXN0ZW0ucHJvdG90eXBlLmRpc3Bvc2VBbGwgPSBmdW5jdGlvbiBkaXNwb3NlQWxsIChjb250ZXh0TG9zdClcbiAgICB7XG4gICAgICAgIHZhciBsaXN0ID0gdGhpcy5tYW5hZ2VkRnJhbWVidWZmZXJzO1xuXG4gICAgICAgIHRoaXMubWFuYWdlZEZyYW1lYnVmZmVycyA9IFtdO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5kaXNwb3NlRnJhbWVidWZmZXIobGlzdFtpXSwgY29udGV4dExvc3QpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEZvcmNpbmcgY3JlYXRpb24gb2Ygc3RlbmNpbCBidWZmZXIgZm9yIGN1cnJlbnQgZnJhbWVidWZmZXIsIGlmIGl0IHdhc24ndCBkb25lIGJlZm9yZS5cbiAgICAgKiBVc2VkIGJ5IE1hc2tTeXN0ZW0sIHdoZW4gaXRzIHRpbWUgdG8gdXNlIHN0ZW5jaWwgbWFzayBmb3IgR3JhcGhpY3MgZWxlbWVudC5cbiAgICAgKlxuICAgICAqIEl0cyBhbiBhbHRlcm5hdGl2ZSBmb3IgcHVibGljIGxhenkgYGZyYW1lYnVmZmVyLmVuYWJsZVN0ZW5jaWxgLCBpbiBjYXNlIHdlIG5lZWQgc3RlbmNpbCB3aXRob3V0IHJlYmluZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgRnJhbWVidWZmZXJTeXN0ZW0ucHJvdG90eXBlLmZvcmNlU3RlbmNpbCA9IGZ1bmN0aW9uIGZvcmNlU3RlbmNpbCAoKVxuICAgIHtcbiAgICAgICAgdmFyIGZyYW1lYnVmZmVyID0gdGhpcy5jdXJyZW50O1xuXG4gICAgICAgIGlmICghZnJhbWVidWZmZXIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBmYm8gPSBmcmFtZWJ1ZmZlci5nbEZyYW1lYnVmZmVyc1t0aGlzLkNPTlRFWFRfVUlEXTtcblxuICAgICAgICBpZiAoIWZibyB8fCBmYm8uc3RlbmNpbClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGZyYW1lYnVmZmVyLmVuYWJsZVN0ZW5jaWwoKTtcblxuICAgICAgICB2YXIgdyA9IGZyYW1lYnVmZmVyLndpZHRoO1xuICAgICAgICB2YXIgaCA9IGZyYW1lYnVmZmVyLmhlaWdodDtcbiAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcbiAgICAgICAgdmFyIHN0ZW5jaWwgPSBnbC5jcmVhdGVSZW5kZXJidWZmZXIoKTtcblxuICAgICAgICBnbC5iaW5kUmVuZGVyYnVmZmVyKGdsLlJFTkRFUkJVRkZFUiwgc3RlbmNpbCk7XG4gICAgICAgIGdsLnJlbmRlcmJ1ZmZlclN0b3JhZ2UoZ2wuUkVOREVSQlVGRkVSLCBnbC5ERVBUSF9TVEVOQ0lMLCB3LCBoKTtcblxuICAgICAgICBmYm8uc3RlbmNpbCA9IHN0ZW5jaWw7XG4gICAgICAgIGdsLmZyYW1lYnVmZmVyUmVuZGVyYnVmZmVyKGdsLkZSQU1FQlVGRkVSLCBnbC5ERVBUSF9TVEVOQ0lMX0FUVEFDSE1FTlQsIGdsLlJFTkRFUkJVRkZFUiwgc3RlbmNpbCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIHJlc2V0cyBmcmFtZWJ1ZmZlciBzdG9yZWQgc3RhdGUsIGJpbmRzIHNjcmVlbiBmcmFtZWJ1ZmZlclxuICAgICAqXG4gICAgICogc2hvdWxkIGJlIGNhbGxlZCBiZWZvcmUgcmVuZGVyVGV4dHVyZSByZXNldCgpXG4gICAgICovXG4gICAgRnJhbWVidWZmZXJTeXN0ZW0ucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gcmVzZXQgKClcbiAgICB7XG4gICAgICAgIHRoaXMuY3VycmVudCA9IHRoaXMudW5rbm93bkZyYW1lYnVmZmVyO1xuICAgICAgICB0aGlzLnZpZXdwb3J0ID0gbmV3IFJlY3RhbmdsZSgpO1xuICAgIH07XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyggRnJhbWVidWZmZXJTeXN0ZW0ucHJvdG90eXBlLCBwcm90b3R5cGVBY2Nlc3NvcnMgKTtcblxuICAgIHJldHVybiBGcmFtZWJ1ZmZlclN5c3RlbTtcbn0oU3lzdGVtKSk7XG5cbnZhciBHTEJ1ZmZlciA9IGZ1bmN0aW9uIEdMQnVmZmVyKGJ1ZmZlcilcbntcbiAgICB0aGlzLmJ1ZmZlciA9IGJ1ZmZlcjtcbiAgICB0aGlzLnVwZGF0ZUlEID0gLTE7XG4gICAgdGhpcy5ieXRlTGVuZ3RoID0gLTE7XG4gICAgdGhpcy5yZWZDb3VudCA9IDA7XG59O1xuXG52YXIgYnl0ZVNpemVNYXAkMSA9IHsgNTEyNjogNCwgNTEyMzogMiwgNTEyMTogMSB9O1xuXG4vKipcbiAqIFN5c3RlbSBwbHVnaW4gdG8gdGhlIHJlbmRlcmVyIHRvIG1hbmFnZSBnZW9tZXRyeS5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuU3lzdGVtXG4gKiBAbWVtYmVyb2YgUElYSS5zeXN0ZW1zXG4gKi9cbnZhciBHZW9tZXRyeVN5c3RlbSA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKFN5c3RlbSkge1xuICAgIGZ1bmN0aW9uIEdlb21ldHJ5U3lzdGVtKHJlbmRlcmVyKVxuICAgIHtcbiAgICAgICAgU3lzdGVtLmNhbGwodGhpcywgcmVuZGVyZXIpO1xuXG4gICAgICAgIHRoaXMuX2FjdGl2ZUdlb21ldHJ5ID0gbnVsbDtcbiAgICAgICAgdGhpcy5fYWN0aXZlVmFvID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogYHRydWVgIGlmIHdlIGhhcyBgKl92ZXJ0ZXhfYXJyYXlfb2JqZWN0YCBleHRlbnNpb25cbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmhhc1ZhbyA9IHRydWU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIGB0cnVlYCBpZiBoYXMgYEFOR0xFX2luc3RhbmNlZF9hcnJheXNgIGV4dGVuc2lvblxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaGFzSW5zdGFuY2UgPSB0cnVlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBgdHJ1ZWAgaWYgc3VwcG9ydCBgZ2wuVU5TSUdORURfSU5UYCBpbiBgZ2wuZHJhd0VsZW1lbnRzYCBvciBgZ2wuZHJhd0VsZW1lbnRzSW5zdGFuY2VkYFxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY2FuVXNlVUludDMyRWxlbWVudEluZGV4ID0gZmFsc2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgY2FjaGUgb2YgY3VycmVudGx5IGJvdW5kIGJ1ZmZlcixcbiAgICAgICAgICogY29udGFpbnMgb25seSB0d28gbWVtYmVycyB3aXRoIGtleXMgQVJSQVlfQlVGRkVSIGFuZCBFTEVNRU5UX0FSUkFZX0JVRkZFUlxuICAgICAgICAgKiBAbWVtYmVyIHtPYmplY3QuPG51bWJlciwgUElYSS5CdWZmZXI+fVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYm91bmRCdWZmZXJzID0ge307XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIENhY2hlIGZvciBhbGwgZ2VvbWV0cmllcyBieSBpZCwgdXNlZCBpbiBjYXNlIHJlbmRlcmVyIGdldHMgZGVzdHJveWVkIG9yIGZvciBwcm9maWxpbmdcbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0fVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubWFuYWdlZEdlb21ldHJpZXMgPSB7fTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ2FjaGUgZm9yIGFsbCBidWZmZXJzIGJ5IGlkLCB1c2VkIGluIGNhc2UgcmVuZGVyZXIgZ2V0cyBkZXN0cm95ZWQgb3IgZm9yIHByb2ZpbGluZ1xuICAgICAgICAgKiBAbWVtYmVyIHtvYmplY3R9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5tYW5hZ2VkQnVmZmVycyA9IHt9O1xuICAgIH1cblxuICAgIGlmICggU3lzdGVtICkgR2VvbWV0cnlTeXN0ZW0uX19wcm90b19fID0gU3lzdGVtO1xuICAgIEdlb21ldHJ5U3lzdGVtLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIFN5c3RlbSAmJiBTeXN0ZW0ucHJvdG90eXBlICk7XG4gICAgR2VvbWV0cnlTeXN0ZW0ucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gR2VvbWV0cnlTeXN0ZW07XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHVwIHRoZSByZW5kZXJlciBjb250ZXh0IGFuZCBuZWNlc3NhcnkgYnVmZmVycy5cbiAgICAgKi9cbiAgICBHZW9tZXRyeVN5c3RlbS5wcm90b3R5cGUuY29udGV4dENoYW5nZSA9IGZ1bmN0aW9uIGNvbnRleHRDaGFuZ2UgKClcbiAgICB7XG4gICAgICAgIHRoaXMuZGlzcG9zZUFsbCh0cnVlKTtcblxuICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsID0gdGhpcy5yZW5kZXJlci5nbDtcbiAgICAgICAgdmFyIGNvbnRleHQgPSB0aGlzLnJlbmRlcmVyLmNvbnRleHQ7XG5cbiAgICAgICAgdGhpcy5DT05URVhUX1VJRCA9IHRoaXMucmVuZGVyZXIuQ09OVEVYVF9VSUQ7XG5cbiAgICAgICAgLy8gd2ViZ2wyXG4gICAgICAgIGlmICghZ2wuY3JlYXRlVmVydGV4QXJyYXkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIHdlYmdsIDEhXG4gICAgICAgICAgICB2YXIgbmF0aXZlVmFvRXh0ZW5zaW9uID0gdGhpcy5yZW5kZXJlci5jb250ZXh0LmV4dGVuc2lvbnMudmVydGV4QXJyYXlPYmplY3Q7XG5cbiAgICAgICAgICAgIGlmIChzZXR0aW5ncy5QUkVGRVJfRU5WID09PSBFTlYuV0VCR0xfTEVHQUNZKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hdGl2ZVZhb0V4dGVuc2lvbiA9IG51bGw7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChuYXRpdmVWYW9FeHRlbnNpb24pXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZ2wuY3JlYXRlVmVydGV4QXJyYXkgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBuYXRpdmVWYW9FeHRlbnNpb24uY3JlYXRlVmVydGV4QXJyYXlPRVMoKTsgfTtcblxuICAgICAgICAgICAgICAgIGdsLmJpbmRWZXJ0ZXhBcnJheSA9IGZ1bmN0aW9uICh2YW8pIHsgcmV0dXJuIG5hdGl2ZVZhb0V4dGVuc2lvbi5iaW5kVmVydGV4QXJyYXlPRVModmFvKTsgfTtcblxuICAgICAgICAgICAgICAgIGdsLmRlbGV0ZVZlcnRleEFycmF5ID0gZnVuY3Rpb24gKHZhbykgeyByZXR1cm4gbmF0aXZlVmFvRXh0ZW5zaW9uLmRlbGV0ZVZlcnRleEFycmF5T0VTKHZhbyk7IH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5oYXNWYW8gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBnbC5jcmVhdGVWZXJ0ZXhBcnJheSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gZW1wdHlcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgZ2wuYmluZFZlcnRleEFycmF5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBlbXB0eVxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBnbC5kZWxldGVWZXJ0ZXhBcnJheSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gZW1wdHlcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFnbC52ZXJ0ZXhBdHRyaWJEaXZpc29yKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgaW5zdGFuY2VFeHQgPSBnbC5nZXRFeHRlbnNpb24oJ0FOR0xFX2luc3RhbmNlZF9hcnJheXMnKTtcblxuICAgICAgICAgICAgaWYgKGluc3RhbmNlRXh0KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGdsLnZlcnRleEF0dHJpYkRpdmlzb3IgPSBmdW5jdGlvbiAoYSwgYikgeyByZXR1cm4gaW5zdGFuY2VFeHQudmVydGV4QXR0cmliRGl2aXNvckFOR0xFKGEsIGIpOyB9O1xuXG4gICAgICAgICAgICAgICAgZ2wuZHJhd0VsZW1lbnRzSW5zdGFuY2VkID0gZnVuY3Rpb24gKGEsIGIsIGMsIGQsIGUpIHsgcmV0dXJuIGluc3RhbmNlRXh0LmRyYXdFbGVtZW50c0luc3RhbmNlZEFOR0xFKGEsIGIsIGMsIGQsIGUpOyB9O1xuXG4gICAgICAgICAgICAgICAgZ2wuZHJhd0FycmF5c0luc3RhbmNlZCA9IGZ1bmN0aW9uIChhLCBiLCBjLCBkKSB7IHJldHVybiBpbnN0YW5jZUV4dC5kcmF3QXJyYXlzSW5zdGFuY2VkQU5HTEUoYSwgYiwgYywgZCk7IH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5oYXNJbnN0YW5jZSA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jYW5Vc2VVSW50MzJFbGVtZW50SW5kZXggPSBjb250ZXh0LndlYkdMVmVyc2lvbiA9PT0gMiB8fCAhIWNvbnRleHQuZXh0ZW5zaW9ucy51aW50MzJFbGVtZW50SW5kZXg7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEJpbmRzIGdlb21ldHJ5IHNvIHRoYXQgaXMgY2FuIGJlIGRyYXduLiBDcmVhdGluZyBhIFZhbyBpZiByZXF1aXJlZFxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkdlb21ldHJ5fSBnZW9tZXRyeSBpbnN0YW5jZSBvZiBnZW9tZXRyeSB0byBiaW5kXG4gICAgICogQHBhcmFtIHtQSVhJLlNoYWRlcn0gW3NoYWRlcl0gaW5zdGFuY2Ugb2Ygc2hhZGVyIHRvIHVzZSB2YW8gZm9yXG4gICAgICovXG4gICAgR2VvbWV0cnlTeXN0ZW0ucHJvdG90eXBlLmJpbmQgPSBmdW5jdGlvbiBiaW5kIChnZW9tZXRyeSwgc2hhZGVyKVxuICAgIHtcbiAgICAgICAgc2hhZGVyID0gc2hhZGVyIHx8IHRoaXMucmVuZGVyZXIuc2hhZGVyLnNoYWRlcjtcblxuICAgICAgICB2YXIgcmVmID0gdGhpcztcbiAgICAgICAgdmFyIGdsID0gcmVmLmdsO1xuXG4gICAgICAgIC8vIG5vdCBzdXJlIHRoZSBiZXN0IHdheSB0byBhZGRyZXNzIHRoaXMuLlxuICAgICAgICAvLyBjdXJyZW50bHkgZGlmZmVyZW50IHNoYWRlcnMgcmVxdWlyZSBkaWZmZXJlbnQgVkFPcyBmb3IgdGhlIHNhbWUgZ2VvbWV0cnlcbiAgICAgICAgLy8gU3RpbGwgbXVsbGluZyBvdmVyIHRoZSBiZXN0IHdheSB0byBzb2x2ZSB0aGlzIG9uZS4uXG4gICAgICAgIC8vIHdpbGwgbGlrZWx5IG5lZWQgdG8gbW9kaWZ5IHRoZSBzaGFkZXIgYXR0cmlidXRlIGxvY2F0aW9ucyBhdCBydW4gdGltZSFcbiAgICAgICAgdmFyIHZhb3MgPSBnZW9tZXRyeS5nbFZlcnRleEFycmF5T2JqZWN0c1t0aGlzLkNPTlRFWFRfVUlEXTtcblxuICAgICAgICBpZiAoIXZhb3MpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMubWFuYWdlZEdlb21ldHJpZXNbZ2VvbWV0cnkuaWRdID0gZ2VvbWV0cnk7XG4gICAgICAgICAgICBnZW9tZXRyeS5kaXNwb3NlUnVubmVyLmFkZCh0aGlzKTtcbiAgICAgICAgICAgIGdlb21ldHJ5LmdsVmVydGV4QXJyYXlPYmplY3RzW3RoaXMuQ09OVEVYVF9VSURdID0gdmFvcyA9IHt9O1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHZhbyA9IHZhb3Nbc2hhZGVyLnByb2dyYW0uaWRdIHx8IHRoaXMuaW5pdEdlb21ldHJ5VmFvKGdlb21ldHJ5LCBzaGFkZXIucHJvZ3JhbSk7XG5cbiAgICAgICAgdGhpcy5fYWN0aXZlR2VvbWV0cnkgPSBnZW9tZXRyeTtcblxuICAgICAgICBpZiAodGhpcy5fYWN0aXZlVmFvICE9PSB2YW8pXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2FjdGl2ZVZhbyA9IHZhbztcblxuICAgICAgICAgICAgaWYgKHRoaXMuaGFzVmFvKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGdsLmJpbmRWZXJ0ZXhBcnJheSh2YW8pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuYWN0aXZhdGVWYW8oZ2VvbWV0cnksIHNoYWRlci5wcm9ncmFtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFRPRE8gLSBvcHRpbWlzZSBsYXRlciFcbiAgICAgICAgLy8gZG9uJ3QgbmVlZCB0byBsb29wIHRocm91Z2ggaWYgbm90aGluZyBjaGFuZ2VkIVxuICAgICAgICAvLyBtYXliZSBsb29rIHRvIGFkZCBhbiAnYXV0b3VwZGF0ZScgdG8gZ2VvbWV0cnk/XG4gICAgICAgIHRoaXMudXBkYXRlQnVmZmVycygpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXNldCBhbmQgdW5iaW5kIGFueSBhY3RpdmUgVkFPIGFuZCBnZW9tZXRyeVxuICAgICAqL1xuICAgIEdlb21ldHJ5U3lzdGVtLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uIHJlc2V0ICgpXG4gICAge1xuICAgICAgICB0aGlzLnVuYmluZCgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGUgYnVmZmVyc1xuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBHZW9tZXRyeVN5c3RlbS5wcm90b3R5cGUudXBkYXRlQnVmZmVycyA9IGZ1bmN0aW9uIHVwZGF0ZUJ1ZmZlcnMgKClcbiAgICB7XG4gICAgICAgIHZhciBnZW9tZXRyeSA9IHRoaXMuX2FjdGl2ZUdlb21ldHJ5O1xuICAgICAgICB2YXIgcmVmID0gdGhpcztcbiAgICAgICAgdmFyIGdsID0gcmVmLmdsO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZ2VvbWV0cnkuYnVmZmVycy5sZW5ndGg7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIGJ1ZmZlciA9IGdlb21ldHJ5LmJ1ZmZlcnNbaV07XG5cbiAgICAgICAgICAgIHZhciBnbEJ1ZmZlciA9IGJ1ZmZlci5fZ2xCdWZmZXJzW3RoaXMuQ09OVEVYVF9VSURdO1xuXG4gICAgICAgICAgICBpZiAoYnVmZmVyLl91cGRhdGVJRCAhPT0gZ2xCdWZmZXIudXBkYXRlSUQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZ2xCdWZmZXIudXBkYXRlSUQgPSBidWZmZXIuX3VwZGF0ZUlEO1xuXG4gICAgICAgICAgICAgICAgLy8gVE9ETyBjYW4gY2FjaGUgdGhpcyBvbiBidWZmZXIhIG1heWJlIGFkZGVkIGEgZ2V0dGVyIC8gc2V0dGVyP1xuICAgICAgICAgICAgICAgIHZhciB0eXBlID0gYnVmZmVyLmluZGV4ID8gZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIgOiBnbC5BUlJBWV9CVUZGRVI7XG5cbiAgICAgICAgICAgICAgICAvLyBUT0RPIHRoaXMgY291bGQgY2hhbmdlIGlmIHRoZSBWQU8gY2hhbmdlcy4uLlxuICAgICAgICAgICAgICAgIC8vIG5lZWQgdG8gY29tZSB1cCB3aXRoIGEgYmV0dGVyIHdheSB0byBjYWNoZS4uXG4gICAgICAgICAgICAgICAgLy8gaWYgKHRoaXMuYm91bmRCdWZmZXJzW3R5cGVdICE9PSBnbEJ1ZmZlcilcbiAgICAgICAgICAgICAgICAvLyB7XG4gICAgICAgICAgICAgICAgLy8gdGhpcy5ib3VuZEJ1ZmZlcnNbdHlwZV0gPSBnbEJ1ZmZlcjtcbiAgICAgICAgICAgICAgICBnbC5iaW5kQnVmZmVyKHR5cGUsIGdsQnVmZmVyLmJ1ZmZlcik7XG4gICAgICAgICAgICAgICAgLy8gfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5fYm91bmRCdWZmZXIgPSBnbEJ1ZmZlcjtcblxuICAgICAgICAgICAgICAgIGlmIChnbEJ1ZmZlci5ieXRlTGVuZ3RoID49IGJ1ZmZlci5kYXRhLmJ5dGVMZW5ndGgpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAvLyBvZmZzZXQgaXMgYWx3YXlzIHplcm8gZm9yIG5vdyFcbiAgICAgICAgICAgICAgICAgICAgZ2wuYnVmZmVyU3ViRGF0YSh0eXBlLCAwLCBidWZmZXIuZGF0YSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBkcmF3VHlwZSA9IGJ1ZmZlci5zdGF0aWMgPyBnbC5TVEFUSUNfRFJBVyA6IGdsLkRZTkFNSUNfRFJBVztcblxuICAgICAgICAgICAgICAgICAgICBnbEJ1ZmZlci5ieXRlTGVuZ3RoID0gYnVmZmVyLmRhdGEuYnl0ZUxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgZ2wuYnVmZmVyRGF0YSh0eXBlLCBidWZmZXIuZGF0YSwgZHJhd1R5cGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDaGVjayBjb21wYWJpbGl0eSBiZXR3ZWVuIGEgZ2VvbWV0cnkgYW5kIGEgcHJvZ3JhbVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge1BJWEkuR2VvbWV0cnl9IGdlb21ldHJ5IC0gR2VvbWV0cnkgaW5zdGFuY2VcbiAgICAgKiBAcGFyYW0ge1BJWEkuUHJvZ3JhbX0gcHJvZ3JhbSAtIFByb2dyYW0gaW5zdGFuY2VcbiAgICAgKi9cbiAgICBHZW9tZXRyeVN5c3RlbS5wcm90b3R5cGUuY2hlY2tDb21wYXRpYmlsaXR5ID0gZnVuY3Rpb24gY2hlY2tDb21wYXRpYmlsaXR5IChnZW9tZXRyeSwgcHJvZ3JhbSlcbiAgICB7XG4gICAgICAgIC8vIGdlb21ldHJ5IG11c3QgaGF2ZSBhdCBsZWFzdCBhbGwgdGhlIGF0dHJpYnV0ZXMgdGhhdCB0aGUgc2hhZGVyIHJlcXVpcmVzLlxuICAgICAgICB2YXIgZ2VvbWV0cnlBdHRyaWJ1dGVzID0gZ2VvbWV0cnkuYXR0cmlidXRlcztcbiAgICAgICAgdmFyIHNoYWRlckF0dHJpYnV0ZXMgPSBwcm9ncmFtLmF0dHJpYnV0ZURhdGE7XG5cbiAgICAgICAgZm9yICh2YXIgaiBpbiBzaGFkZXJBdHRyaWJ1dGVzKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoIWdlb21ldHJ5QXR0cmlidXRlc1tqXSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoKFwic2hhZGVyIGFuZCBnZW9tZXRyeSBpbmNvbXBhdGlibGUsIGdlb21ldHJ5IG1pc3NpbmcgdGhlIFxcXCJcIiArIGogKyBcIlxcXCIgYXR0cmlidXRlXCIpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUYWtlcyBhIGdlb21ldHJ5IGFuZCBwcm9ncmFtIGFuZCBnZW5lcmF0ZXMgYSB1bmlxdWUgc2lnbmF0dXJlIGZvciB0aGVtLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkdlb21ldHJ5fSBnZW9tZXRyeSB0byBnZXQgc2lnbmF0dXJlIGZyb21cbiAgICAgKiBAcGFyYW0ge1BJWEkuUHJvZ3JhbX0gcHJvZ3JhbSB0byB0ZXN0IGdlb21ldHJ5IGFnYWluc3RcbiAgICAgKiBAcmV0dXJucyB7U3RyaW5nfSBVbmlxdWUgc2lnbmF0dXJlIG9mIHRoZSBnZW9tZXRyeSBhbmQgcHJvZ3JhbVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBHZW9tZXRyeVN5c3RlbS5wcm90b3R5cGUuZ2V0U2lnbmF0dXJlID0gZnVuY3Rpb24gZ2V0U2lnbmF0dXJlIChnZW9tZXRyeSwgcHJvZ3JhbSlcbiAgICB7XG4gICAgICAgIHZhciBhdHRyaWJzID0gZ2VvbWV0cnkuYXR0cmlidXRlcztcbiAgICAgICAgdmFyIHNoYWRlckF0dHJpYnV0ZXMgPSBwcm9ncmFtLmF0dHJpYnV0ZURhdGE7XG5cbiAgICAgICAgdmFyIHN0cmluZ3MgPSBbJ2cnLCBnZW9tZXRyeS5pZF07XG5cbiAgICAgICAgZm9yICh2YXIgaSBpbiBhdHRyaWJzKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoc2hhZGVyQXR0cmlidXRlc1tpXSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdHJpbmdzLnB1c2goaSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc3RyaW5ncy5qb2luKCctJyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgb3IgZ2V0cyBWYW8gd2l0aCB0aGUgc2FtZSBzdHJ1Y3R1cmUgYXMgdGhlIGdlb21ldHJ5IGFuZCBzdG9yZXMgaXQgb24gdGhlIGdlb21ldHJ5LlxuICAgICAqIElmIHZhbyBpcyBjcmVhdGVkLCBpdCBpcyBib3VuZCBhdXRvbWF0aWNhbGx5LlxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7UElYSS5HZW9tZXRyeX0gZ2VvbWV0cnkgLSBJbnN0YW5jZSBvZiBnZW9tZXRyeSB0byB0byBnZW5lcmF0ZSBWYW8gZm9yXG4gICAgICogQHBhcmFtIHtQSVhJLlByb2dyYW19IHByb2dyYW0gLSBJbnN0YW5jZSBvZiBwcm9ncmFtXG4gICAgICovXG4gICAgR2VvbWV0cnlTeXN0ZW0ucHJvdG90eXBlLmluaXRHZW9tZXRyeVZhbyA9IGZ1bmN0aW9uIGluaXRHZW9tZXRyeVZhbyAoZ2VvbWV0cnksIHByb2dyYW0pXG4gICAge1xuICAgICAgICB0aGlzLmNoZWNrQ29tcGF0aWJpbGl0eShnZW9tZXRyeSwgcHJvZ3JhbSk7XG5cbiAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcbiAgICAgICAgdmFyIENPTlRFWFRfVUlEID0gdGhpcy5DT05URVhUX1VJRDtcblxuICAgICAgICB2YXIgc2lnbmF0dXJlID0gdGhpcy5nZXRTaWduYXR1cmUoZ2VvbWV0cnksIHByb2dyYW0pO1xuXG4gICAgICAgIHZhciB2YW9PYmplY3RIYXNoID0gZ2VvbWV0cnkuZ2xWZXJ0ZXhBcnJheU9iamVjdHNbdGhpcy5DT05URVhUX1VJRF07XG5cbiAgICAgICAgdmFyIHZhbyA9IHZhb09iamVjdEhhc2hbc2lnbmF0dXJlXTtcblxuICAgICAgICBpZiAodmFvKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyB0aGlzIHdpbGwgZ2l2ZSB1cyBlYXN5IGFjY2VzcyB0byB0aGUgdmFvXG4gICAgICAgICAgICB2YW9PYmplY3RIYXNoW3Byb2dyYW0uaWRdID0gdmFvO1xuXG4gICAgICAgICAgICByZXR1cm4gdmFvO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGJ1ZmZlcnMgPSBnZW9tZXRyeS5idWZmZXJzO1xuICAgICAgICB2YXIgYXR0cmlidXRlcyA9IGdlb21ldHJ5LmF0dHJpYnV0ZXM7XG4gICAgICAgIHZhciB0ZW1wU3RyaWRlID0ge307XG4gICAgICAgIHZhciB0ZW1wU3RhcnQgPSB7fTtcblxuICAgICAgICBmb3IgKHZhciBqIGluIGJ1ZmZlcnMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRlbXBTdHJpZGVbal0gPSAwO1xuICAgICAgICAgICAgdGVtcFN0YXJ0W2pdID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAodmFyIGokMSBpbiBhdHRyaWJ1dGVzKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoIWF0dHJpYnV0ZXNbaiQxXS5zaXplICYmIHByb2dyYW0uYXR0cmlidXRlRGF0YVtqJDFdKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXNbaiQxXS5zaXplID0gcHJvZ3JhbS5hdHRyaWJ1dGVEYXRhW2okMV0uc2l6ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKCFhdHRyaWJ1dGVzW2okMV0uc2l6ZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oKFwiUElYSSBHZW9tZXRyeSBhdHRyaWJ1dGUgJ1wiICsgaiQxICsgXCInIHNpemUgY2Fubm90IGJlIGRldGVybWluZWQgKGxpa2VseSB0aGUgYm91bmQgc2hhZGVyIGRvZXMgbm90IGhhdmUgdGhlIGF0dHJpYnV0ZSlcIikpOyAgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0ZW1wU3RyaWRlW2F0dHJpYnV0ZXNbaiQxXS5idWZmZXJdICs9IGF0dHJpYnV0ZXNbaiQxXS5zaXplICogYnl0ZVNpemVNYXAkMVthdHRyaWJ1dGVzW2okMV0udHlwZV07XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKHZhciBqJDIgaW4gYXR0cmlidXRlcylcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIGF0dHJpYnV0ZSA9IGF0dHJpYnV0ZXNbaiQyXTtcbiAgICAgICAgICAgIHZhciBhdHRyaWJTaXplID0gYXR0cmlidXRlLnNpemU7XG5cbiAgICAgICAgICAgIGlmIChhdHRyaWJ1dGUuc3RyaWRlID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKHRlbXBTdHJpZGVbYXR0cmlidXRlLmJ1ZmZlcl0gPT09IGF0dHJpYlNpemUgKiBieXRlU2l6ZU1hcCQxW2F0dHJpYnV0ZS50eXBlXSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZS5zdHJpZGUgPSAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGUuc3RyaWRlID0gdGVtcFN0cmlkZVthdHRyaWJ1dGUuYnVmZmVyXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChhdHRyaWJ1dGUuc3RhcnQgPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBhdHRyaWJ1dGUuc3RhcnQgPSB0ZW1wU3RhcnRbYXR0cmlidXRlLmJ1ZmZlcl07XG5cbiAgICAgICAgICAgICAgICB0ZW1wU3RhcnRbYXR0cmlidXRlLmJ1ZmZlcl0gKz0gYXR0cmliU2l6ZSAqIGJ5dGVTaXplTWFwJDFbYXR0cmlidXRlLnR5cGVdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdmFvID0gZ2wuY3JlYXRlVmVydGV4QXJyYXkoKTtcblxuICAgICAgICBnbC5iaW5kVmVydGV4QXJyYXkodmFvKTtcblxuICAgICAgICAvLyBmaXJzdCB1cGRhdGUgLSBhbmQgY3JlYXRlIHRoZSBidWZmZXJzIVxuICAgICAgICAvLyBvbmx5IGNyZWF0ZSBhIGdsIGJ1ZmZlciBpZiBpdCBhY3R1YWxseSBnZXRzXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYnVmZmVycy5sZW5ndGg7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIGJ1ZmZlciA9IGJ1ZmZlcnNbaV07XG5cbiAgICAgICAgICAgIGlmICghYnVmZmVyLl9nbEJ1ZmZlcnNbQ09OVEVYVF9VSURdKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGJ1ZmZlci5fZ2xCdWZmZXJzW0NPTlRFWFRfVUlEXSA9IG5ldyBHTEJ1ZmZlcihnbC5jcmVhdGVCdWZmZXIoKSk7XG4gICAgICAgICAgICAgICAgdGhpcy5tYW5hZ2VkQnVmZmVyc1tidWZmZXIuaWRdID0gYnVmZmVyO1xuICAgICAgICAgICAgICAgIGJ1ZmZlci5kaXNwb3NlUnVubmVyLmFkZCh0aGlzKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYnVmZmVyLl9nbEJ1ZmZlcnNbQ09OVEVYVF9VSURdLnJlZkNvdW50Kys7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUT0RPIC0gbWF5YmUgbWFrZSB0aGlzIGEgZGF0YSBvYmplY3Q/XG4gICAgICAgIC8vIGxldHMgd2FpdCB0byBzZWUgaWYgd2UgbmVlZCB0byBmaXJzdCFcblxuICAgICAgICB0aGlzLmFjdGl2YXRlVmFvKGdlb21ldHJ5LCBwcm9ncmFtKTtcblxuICAgICAgICB0aGlzLl9hY3RpdmVWYW8gPSB2YW87XG5cbiAgICAgICAgLy8gYWRkIGl0IHRvIHRoZSBjYWNoZSFcbiAgICAgICAgdmFvT2JqZWN0SGFzaFtwcm9ncmFtLmlkXSA9IHZhbztcbiAgICAgICAgdmFvT2JqZWN0SGFzaFtzaWduYXR1cmVdID0gdmFvO1xuXG4gICAgICAgIHJldHVybiB2YW87XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERpc3Bvc2VzIGJ1ZmZlclxuICAgICAqIEBwYXJhbSB7UElYSS5CdWZmZXJ9IGJ1ZmZlciBidWZmZXIgd2l0aCBkYXRhXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbY29udGV4dExvc3Q9ZmFsc2VdIElmIGNvbnRleHQgd2FzIGxvc3QsIHdlIHN1cHByZXNzIGRlbGV0ZVZlcnRleEFycmF5XG4gICAgICovXG4gICAgR2VvbWV0cnlTeXN0ZW0ucHJvdG90eXBlLmRpc3Bvc2VCdWZmZXIgPSBmdW5jdGlvbiBkaXNwb3NlQnVmZmVyIChidWZmZXIsIGNvbnRleHRMb3N0KVxuICAgIHtcbiAgICAgICAgaWYgKCF0aGlzLm1hbmFnZWRCdWZmZXJzW2J1ZmZlci5pZF0pXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGRlbGV0ZSB0aGlzLm1hbmFnZWRCdWZmZXJzW2J1ZmZlci5pZF07XG5cbiAgICAgICAgdmFyIGdsQnVmZmVyID0gYnVmZmVyLl9nbEJ1ZmZlcnNbdGhpcy5DT05URVhUX1VJRF07XG4gICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XG5cbiAgICAgICAgYnVmZmVyLmRpc3Bvc2VSdW5uZXIucmVtb3ZlKHRoaXMpO1xuXG4gICAgICAgIGlmICghZ2xCdWZmZXIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghY29udGV4dExvc3QpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGdsLmRlbGV0ZUJ1ZmZlcihnbEJ1ZmZlci5idWZmZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgZGVsZXRlIGJ1ZmZlci5fZ2xCdWZmZXJzW3RoaXMuQ09OVEVYVF9VSURdO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEaXNwb3NlcyBnZW9tZXRyeVxuICAgICAqIEBwYXJhbSB7UElYSS5HZW9tZXRyeX0gZ2VvbWV0cnkgR2VvbWV0cnkgd2l0aCBidWZmZXJzLiBPbmx5IFZBTyB3aWxsIGJlIGRpc3Bvc2VkXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbY29udGV4dExvc3Q9ZmFsc2VdIElmIGNvbnRleHQgd2FzIGxvc3QsIHdlIHN1cHByZXNzIGRlbGV0ZVZlcnRleEFycmF5XG4gICAgICovXG4gICAgR2VvbWV0cnlTeXN0ZW0ucHJvdG90eXBlLmRpc3Bvc2VHZW9tZXRyeSA9IGZ1bmN0aW9uIGRpc3Bvc2VHZW9tZXRyeSAoZ2VvbWV0cnksIGNvbnRleHRMb3N0KVxuICAgIHtcbiAgICAgICAgaWYgKCF0aGlzLm1hbmFnZWRHZW9tZXRyaWVzW2dlb21ldHJ5LmlkXSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgZGVsZXRlIHRoaXMubWFuYWdlZEdlb21ldHJpZXNbZ2VvbWV0cnkuaWRdO1xuXG4gICAgICAgIHZhciB2YW9zID0gZ2VvbWV0cnkuZ2xWZXJ0ZXhBcnJheU9iamVjdHNbdGhpcy5DT05URVhUX1VJRF07XG4gICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XG4gICAgICAgIHZhciBidWZmZXJzID0gZ2VvbWV0cnkuYnVmZmVycztcblxuICAgICAgICBnZW9tZXRyeS5kaXNwb3NlUnVubmVyLnJlbW92ZSh0aGlzKTtcblxuICAgICAgICBpZiAoIXZhb3MpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYnVmZmVycy5sZW5ndGg7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIGJ1ZiA9IGJ1ZmZlcnNbaV0uX2dsQnVmZmVyc1t0aGlzLkNPTlRFWFRfVUlEXTtcblxuICAgICAgICAgICAgYnVmLnJlZkNvdW50LS07XG4gICAgICAgICAgICBpZiAoYnVmLnJlZkNvdW50ID09PSAwICYmICFjb250ZXh0TG9zdClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3Bvc2VCdWZmZXIoYnVmZmVyc1tpXSwgY29udGV4dExvc3QpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFjb250ZXh0TG9zdClcbiAgICAgICAge1xuICAgICAgICAgICAgZm9yICh2YXIgdmFvSWQgaW4gdmFvcylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAvLyBkZWxldGUgb25seSBzaWduYXR1cmVzLCBldmVyeXRoaW5nIGVsc2UgYXJlIGNvcGllc1xuICAgICAgICAgICAgICAgIGlmICh2YW9JZFswXSA9PT0gJ2cnKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHZhbyA9IHZhb3NbdmFvSWRdO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9hY3RpdmVWYW8gPT09IHZhbylcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy51bmJpbmQoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBnbC5kZWxldGVWZXJ0ZXhBcnJheSh2YW8pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGRlbGV0ZSBnZW9tZXRyeS5nbFZlcnRleEFycmF5T2JqZWN0c1t0aGlzLkNPTlRFWFRfVUlEXTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogZGlzcG9zZSBhbGwgV2ViR0wgcmVzb3VyY2VzIG9mIGFsbCBtYW5hZ2VkIGdlb21ldHJpZXMgYW5kIGJ1ZmZlcnNcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtjb250ZXh0TG9zdD1mYWxzZV0gSWYgY29udGV4dCB3YXMgbG9zdCwgd2Ugc3VwcHJlc3MgYGdsLmRlbGV0ZWAgY2FsbHNcbiAgICAgKi9cbiAgICBHZW9tZXRyeVN5c3RlbS5wcm90b3R5cGUuZGlzcG9zZUFsbCA9IGZ1bmN0aW9uIGRpc3Bvc2VBbGwgKGNvbnRleHRMb3N0KVxuICAgIHtcbiAgICAgICAgdmFyIGFsbCA9IE9iamVjdC5rZXlzKHRoaXMubWFuYWdlZEdlb21ldHJpZXMpO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYWxsLmxlbmd0aDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmRpc3Bvc2VHZW9tZXRyeSh0aGlzLm1hbmFnZWRHZW9tZXRyaWVzW2FsbFtpXV0sIGNvbnRleHRMb3N0KTtcbiAgICAgICAgfVxuICAgICAgICBhbGwgPSBPYmplY3Qua2V5cyh0aGlzLm1hbmFnZWRCdWZmZXJzKTtcbiAgICAgICAgZm9yICh2YXIgaSQxID0gMDsgaSQxIDwgYWxsLmxlbmd0aDsgaSQxKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuZGlzcG9zZUJ1ZmZlcih0aGlzLm1hbmFnZWRCdWZmZXJzW2FsbFtpJDFdXSwgY29udGV4dExvc3QpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEFjdGl2YXRlIHZlcnRleCBhcnJheSBvYmplY3RcbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge1BJWEkuR2VvbWV0cnl9IGdlb21ldHJ5IC0gR2VvbWV0cnkgaW5zdGFuY2VcbiAgICAgKiBAcGFyYW0ge1BJWEkuUHJvZ3JhbX0gcHJvZ3JhbSAtIFNoYWRlciBwcm9ncmFtIGluc3RhbmNlXG4gICAgICovXG4gICAgR2VvbWV0cnlTeXN0ZW0ucHJvdG90eXBlLmFjdGl2YXRlVmFvID0gZnVuY3Rpb24gYWN0aXZhdGVWYW8gKGdlb21ldHJ5LCBwcm9ncmFtKVxuICAgIHtcbiAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcbiAgICAgICAgdmFyIENPTlRFWFRfVUlEID0gdGhpcy5DT05URVhUX1VJRDtcbiAgICAgICAgdmFyIGJ1ZmZlcnMgPSBnZW9tZXRyeS5idWZmZXJzO1xuICAgICAgICB2YXIgYXR0cmlidXRlcyA9IGdlb21ldHJ5LmF0dHJpYnV0ZXM7XG5cbiAgICAgICAgaWYgKGdlb21ldHJ5LmluZGV4QnVmZmVyKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBmaXJzdCB1cGRhdGUgdGhlIGluZGV4IGJ1ZmZlciBpZiB3ZSBoYXZlIG9uZS4uXG4gICAgICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLCBnZW9tZXRyeS5pbmRleEJ1ZmZlci5fZ2xCdWZmZXJzW0NPTlRFWFRfVUlEXS5idWZmZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGxhc3RCdWZmZXIgPSBudWxsO1xuXG4gICAgICAgIC8vIGFkZCBhIG5ldyBvbmUhXG4gICAgICAgIGZvciAodmFyIGogaW4gYXR0cmlidXRlcylcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIGF0dHJpYnV0ZSA9IGF0dHJpYnV0ZXNbal07XG4gICAgICAgICAgICB2YXIgYnVmZmVyID0gYnVmZmVyc1thdHRyaWJ1dGUuYnVmZmVyXTtcbiAgICAgICAgICAgIHZhciBnbEJ1ZmZlciA9IGJ1ZmZlci5fZ2xCdWZmZXJzW0NPTlRFWFRfVUlEXTtcblxuICAgICAgICAgICAgaWYgKHByb2dyYW0uYXR0cmlidXRlRGF0YVtqXSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAobGFzdEJ1ZmZlciAhPT0gZ2xCdWZmZXIpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgZ2xCdWZmZXIuYnVmZmVyKTtcblxuICAgICAgICAgICAgICAgICAgICBsYXN0QnVmZmVyID0gZ2xCdWZmZXI7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdmFyIGxvY2F0aW9uID0gcHJvZ3JhbS5hdHRyaWJ1dGVEYXRhW2pdLmxvY2F0aW9uO1xuXG4gICAgICAgICAgICAgICAgLy8gVE9ETyBpbnRyb2R1Y2Ugc3RhdGUgYWdhaW5cbiAgICAgICAgICAgICAgICAvLyB3ZSBjYW4gb3B0aW1pc2UgdGhpcyBmb3Igb2xkZXIgZGV2aWNlcyB0aGF0IGhhdmUgbm8gVkFPc1xuICAgICAgICAgICAgICAgIGdsLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KGxvY2F0aW9uKTtcblxuICAgICAgICAgICAgICAgIGdsLnZlcnRleEF0dHJpYlBvaW50ZXIobG9jYXRpb24sXG4gICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZS5zaXplLFxuICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGUudHlwZSB8fCBnbC5GTE9BVCxcbiAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlLm5vcm1hbGl6ZWQsXG4gICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZS5zdHJpZGUsXG4gICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZS5zdGFydCk7XG5cbiAgICAgICAgICAgICAgICBpZiAoYXR0cmlidXRlLmluc3RhbmNlKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gVE9ETyBjYWxjdWxhdGUgaW5zdGFuY2UgY291bnQgYmFzZWQgb2YgdGhpcy4uLlxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5oYXNJbnN0YW5jZSlcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgZ2wudmVydGV4QXR0cmliRGl2aXNvcihsb2NhdGlvbiwgMSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2dlb21ldHJ5IGVycm9yLCBHUFUgSW5zdGFuY2luZyBpcyBub3Qgc3VwcG9ydGVkIG9uIHRoaXMgZGV2aWNlJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRHJhdyB0aGUgZ2VvbWV0cnlcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB0eXBlIC0gdGhlIHR5cGUgcHJpbWl0aXZlIHRvIHJlbmRlclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbc2l6ZV0gLSB0aGUgbnVtYmVyIG9mIGVsZW1lbnRzIHRvIGJlIHJlbmRlcmVkXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtzdGFydF0gLSBTdGFydGluZyBpbmRleFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbaW5zdGFuY2VDb3VudF0gLSB0aGUgbnVtYmVyIG9mIGluc3RhbmNlcyBvZiB0aGUgc2V0IG9mIGVsZW1lbnRzIHRvIGV4ZWN1dGVcbiAgICAgKi9cbiAgICBHZW9tZXRyeVN5c3RlbS5wcm90b3R5cGUuZHJhdyA9IGZ1bmN0aW9uIGRyYXcgKHR5cGUsIHNpemUsIHN0YXJ0LCBpbnN0YW5jZUNvdW50KVxuICAgIHtcbiAgICAgICAgdmFyIHJlZiA9IHRoaXM7XG4gICAgICAgIHZhciBnbCA9IHJlZi5nbDtcbiAgICAgICAgdmFyIGdlb21ldHJ5ID0gdGhpcy5fYWN0aXZlR2VvbWV0cnk7XG5cbiAgICAgICAgLy8gVE9ETy4uIHRoaXMgc2hvdWxkIG5vdCBjaGFuZ2Ugc28gbWF5YmUgY2FjaGUgdGhlIGZ1bmN0aW9uP1xuXG4gICAgICAgIGlmIChnZW9tZXRyeS5pbmRleEJ1ZmZlcilcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIGJ5dGVTaXplID0gZ2VvbWV0cnkuaW5kZXhCdWZmZXIuZGF0YS5CWVRFU19QRVJfRUxFTUVOVDtcbiAgICAgICAgICAgIHZhciBnbFR5cGUgPSBieXRlU2l6ZSA9PT0gMiA/IGdsLlVOU0lHTkVEX1NIT1JUIDogZ2wuVU5TSUdORURfSU5UO1xuXG4gICAgICAgICAgICBpZiAoYnl0ZVNpemUgPT09IDIgfHwgKGJ5dGVTaXplID09PSA0ICYmIHRoaXMuY2FuVXNlVUludDMyRWxlbWVudEluZGV4KSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAoZ2VvbWV0cnkuaW5zdGFuY2VkKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgLyogZXNsaW50LWRpc2FibGUgbWF4LWxlbiAqL1xuICAgICAgICAgICAgICAgICAgICBnbC5kcmF3RWxlbWVudHNJbnN0YW5jZWQodHlwZSwgc2l6ZSB8fCBnZW9tZXRyeS5pbmRleEJ1ZmZlci5kYXRhLmxlbmd0aCwgZ2xUeXBlLCAoc3RhcnQgfHwgMCkgKiBieXRlU2l6ZSwgaW5zdGFuY2VDb3VudCB8fCAxKTtcbiAgICAgICAgICAgICAgICAgICAgLyogZXNsaW50LWVuYWJsZSBtYXgtbGVuICovXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIC8qIGVzbGludC1kaXNhYmxlIG1heC1sZW4gKi9cbiAgICAgICAgICAgICAgICAgICAgZ2wuZHJhd0VsZW1lbnRzKHR5cGUsIHNpemUgfHwgZ2VvbWV0cnkuaW5kZXhCdWZmZXIuZGF0YS5sZW5ndGgsIGdsVHlwZSwgKHN0YXJ0IHx8IDApICogYnl0ZVNpemUpO1xuICAgICAgICAgICAgICAgICAgICAvKiBlc2xpbnQtZW5hYmxlIG1heC1sZW4gKi9cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCd1bnN1cHBvcnRlZCBpbmRleCBidWZmZXIgdHlwZTogdWludDMyJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZ2VvbWV0cnkuaW5zdGFuY2VkKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBUT0RPIG5lZWQgYSBiZXR0ZXIgd2F5IHRvIGNhbGN1bGF0ZSBzaXplLi5cbiAgICAgICAgICAgIGdsLmRyYXdBcnJheXNJbnN0YW5jZWQodHlwZSwgc3RhcnQsIHNpemUgfHwgZ2VvbWV0cnkuZ2V0U2l6ZSgpLCBpbnN0YW5jZUNvdW50IHx8IDEpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgZ2wuZHJhd0FycmF5cyh0eXBlLCBzdGFydCwgc2l6ZSB8fCBnZW9tZXRyeS5nZXRTaXplKCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFVuYmluZC9yZXNldCBldmVyeXRoaW5nXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIEdlb21ldHJ5U3lzdGVtLnByb3RvdHlwZS51bmJpbmQgPSBmdW5jdGlvbiB1bmJpbmQgKClcbiAgICB7XG4gICAgICAgIHRoaXMuZ2wuYmluZFZlcnRleEFycmF5KG51bGwpO1xuICAgICAgICB0aGlzLl9hY3RpdmVWYW8gPSBudWxsO1xuICAgICAgICB0aGlzLl9hY3RpdmVHZW9tZXRyeSA9IG51bGw7XG4gICAgfTtcblxuICAgIHJldHVybiBHZW9tZXRyeVN5c3RlbTtcbn0oU3lzdGVtKSk7XG5cbi8qKlxuICogQ29tcG9uZW50IGZvciBtYXNrZWQgZWxlbWVudHNcbiAqXG4gKiBIb2xkcyBtYXNrIG1vZGUgYW5kIHRlbXBvcmFyeSBkYXRhIGFib3V0IGN1cnJlbnQgbWFza1xuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIE1hc2tEYXRhID0gZnVuY3Rpb24gTWFza0RhdGEobWFza09iamVjdClcbntcbiAgICAvKipcbiAgICAgKiBNYXNrIHR5cGVcbiAgICAgKiBAbWVtYmVyIHtQSVhJLk1BU0tfVFlQRVN9XG4gICAgICovXG4gICAgdGhpcy50eXBlID0gTUFTS19UWVBFUy5OT05FO1xuXG4gICAgLyoqXG4gICAgICogV2hldGhlciB3ZSBrbm93IHRoZSBtYXNrIHR5cGUgYmVmb3JlaGFuZFxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICogQGRlZmF1bHQgdHJ1ZVxuICAgICAqL1xuICAgIHRoaXMuYXV0b0RldGVjdCA9IHRydWU7XG5cbiAgICAvKipcbiAgICAgKiBXaGljaCBlbGVtZW50IHdlIHVzZSB0byBtYXNrXG4gICAgICogQG1lbWJlciB7UElYSS5EaXNwbGF5T2JqZWN0fVxuICAgICAqL1xuICAgIHRoaXMubWFza09iamVjdCA9IG1hc2tPYmplY3QgfHwgbnVsbDtcblxuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgaXQgYmVsb25ncyB0byBNYXNrU3lzdGVtIHBvb2xcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqL1xuICAgIHRoaXMucG9vbGVkID0gZmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBJbmRpY2F0b3Igb2YgdGhlIHR5cGVcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqL1xuICAgIHRoaXMuaXNNYXNrRGF0YSA9IHRydWU7XG5cbiAgICAvKipcbiAgICAgKiBTdGVuY2lsIGNvdW50ZXIgYWJvdmUgdGhlIG1hc2sgaW4gc3RhY2tcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLl9zdGVuY2lsQ291bnRlciA9IDA7XG4gICAgLyoqXG4gICAgICogU2Npc3NvciBjb3VudGVyIGFib3ZlIHRoZSBtYXNrIGluIHN0YWNrXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5fc2Npc3NvckNvdW50ZXIgPSAwO1xuXG4gICAgLyoqXG4gICAgICogU2Npc3NvciBvcGVyYXRpb24gYWJvdmUgdGhlIG1hc2sgaW4gc3RhY2suXG4gICAgICogTnVsbCBpZiBfc2Npc3NvckNvdW50ZXIgaXMgemVybywgcmVjdGFuZ2xlIGluc3RhbmNlIGlmIHBvc2l0aXZlLlxuICAgICAqIEBtZW1iZXIge1BJWEkuUmVjdGFuZ2xlfVxuICAgICAqL1xuICAgIHRoaXMuX3NjaXNzb3JSZWN0ID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIFRhcmdldGVkIGVsZW1lbnQuIFRlbXBvcmFyeSB2YXJpYWJsZSBzZXQgYnkgTWFza1N5c3RlbVxuICAgICAqIEBtZW1iZXIge1BJWEkuRGlzcGxheU9iamVjdH1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMuX3RhcmdldCA9IG51bGw7XG59O1xuXG4vKipcbiAqIHJlc2V0cyB0aGUgbWFzayBkYXRhIGFmdGVyIHBvcE1hc2soKVxuICovXG5NYXNrRGF0YS5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiByZXNldCAoKVxue1xuICAgIGlmICh0aGlzLnBvb2xlZClcbiAgICB7XG4gICAgICAgIHRoaXMubWFza09iamVjdCA9IG51bGw7XG5cbiAgICAgICAgdGhpcy50eXBlID0gTUFTS19UWVBFUy5OT05FO1xuXG4gICAgICAgIHRoaXMuYXV0b0RldGVjdCA9IHRydWU7XG4gICAgfVxuXG4gICAgdGhpcy5fdGFyZ2V0ID0gbnVsbDtcbn07XG5cbi8qKlxuICogY29waWVzIGNvdW50ZXJzIGZyb20gbWFza0RhdGEgYWJvdmUsIGNhbGxlZCBmcm9tIHB1c2hNYXNrKClcbiAqIEBwYXJhbSB7UElYSS5NYXNrRGF0YXxudWxsfSBtYXNrQWJvdmVcbiAqL1xuTWFza0RhdGEucHJvdG90eXBlLmNvcHlDb3VudGVyc09yUmVzZXQgPSBmdW5jdGlvbiBjb3B5Q291bnRlcnNPclJlc2V0IChtYXNrQWJvdmUpXG57XG4gICAgaWYgKG1hc2tBYm92ZSlcbiAgICB7XG4gICAgICAgIHRoaXMuX3N0ZW5jaWxDb3VudGVyID0gbWFza0Fib3ZlLl9zdGVuY2lsQ291bnRlcjtcbiAgICAgICAgdGhpcy5fc2Npc3NvckNvdW50ZXIgPSBtYXNrQWJvdmUuX3NjaXNzb3JDb3VudGVyO1xuICAgICAgICB0aGlzLl9zY2lzc29yUmVjdCA9IG1hc2tBYm92ZS5fc2Npc3NvclJlY3Q7XG4gICAgfVxuICAgIGVsc2VcbiAgICB7XG4gICAgICAgIHRoaXMuX3N0ZW5jaWxDb3VudGVyID0gMDtcbiAgICAgICAgdGhpcy5fc2Npc3NvckNvdW50ZXIgPSAwO1xuICAgICAgICB0aGlzLl9zY2lzc29yUmVjdCA9IG51bGw7XG4gICAgfVxufTtcblxuLyoqXG4gKiBAbWV0aG9kIGNvbXBpbGVQcm9ncmFtXG4gKiBAcHJpdmF0ZVxuICogQG1lbWJlcm9mIFBJWEkuZ2xDb3JlLnNoYWRlclxuICogQHBhcmFtIGdsIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IFRoZSBjdXJyZW50IFdlYkdMIGNvbnRleHQge1dlYkdMUHJvZ3JhbX1cbiAqIEBwYXJhbSB2ZXJ0ZXhTcmMge3N0cmluZ3xzdHJpbmdbXX0gVGhlIHZlcnRleCBzaGFkZXIgc291cmNlIGFzIGFuIGFycmF5IG9mIHN0cmluZ3MuXG4gKiBAcGFyYW0gZnJhZ21lbnRTcmMge3N0cmluZ3xzdHJpbmdbXX0gVGhlIGZyYWdtZW50IHNoYWRlciBzb3VyY2UgYXMgYW4gYXJyYXkgb2Ygc3RyaW5ncy5cbiAqIEBwYXJhbSBhdHRyaWJ1dGVMb2NhdGlvbnMge09iamVjdH0gQW4gYXR0cmlidXRlIGxvY2F0aW9uIG1hcCB0aGF0IGxldHMgeW91IG1hbnVhbGx5IHNldCB0aGUgYXR0cmlidXRlIGxvY2F0aW9uc1xuICogQHJldHVybiB7V2ViR0xQcm9ncmFtfSB0aGUgc2hhZGVyIHByb2dyYW1cbiAqL1xuZnVuY3Rpb24gY29tcGlsZVByb2dyYW0oZ2wsIHZlcnRleFNyYywgZnJhZ21lbnRTcmMsIGF0dHJpYnV0ZUxvY2F0aW9ucylcbntcbiAgICB2YXIgZ2xWZXJ0U2hhZGVyID0gY29tcGlsZVNoYWRlcihnbCwgZ2wuVkVSVEVYX1NIQURFUiwgdmVydGV4U3JjKTtcbiAgICB2YXIgZ2xGcmFnU2hhZGVyID0gY29tcGlsZVNoYWRlcihnbCwgZ2wuRlJBR01FTlRfU0hBREVSLCBmcmFnbWVudFNyYyk7XG5cbiAgICB2YXIgcHJvZ3JhbSA9IGdsLmNyZWF0ZVByb2dyYW0oKTtcblxuICAgIGdsLmF0dGFjaFNoYWRlcihwcm9ncmFtLCBnbFZlcnRTaGFkZXIpO1xuICAgIGdsLmF0dGFjaFNoYWRlcihwcm9ncmFtLCBnbEZyYWdTaGFkZXIpO1xuXG4gICAgLy8gb3B0aW9uYWxseSwgc2V0IHRoZSBhdHRyaWJ1dGVzIG1hbnVhbGx5IGZvciB0aGUgcHJvZ3JhbSByYXRoZXIgdGhhbiBsZXR0aW5nIFdlYkdMIGRlY2lkZS4uXG4gICAgaWYgKGF0dHJpYnV0ZUxvY2F0aW9ucylcbiAgICB7XG4gICAgICAgIGZvciAodmFyIGkgaW4gYXR0cmlidXRlTG9jYXRpb25zKVxuICAgICAgICB7XG4gICAgICAgICAgICBnbC5iaW5kQXR0cmliTG9jYXRpb24ocHJvZ3JhbSwgYXR0cmlidXRlTG9jYXRpb25zW2ldLCBpKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdsLmxpbmtQcm9ncmFtKHByb2dyYW0pO1xuXG4gICAgLy8gaWYgbGlua2luZyBmYWlscywgdGhlbiBsb2cgYW5kIGNsZWFudXBcbiAgICBpZiAoIWdsLmdldFByb2dyYW1QYXJhbWV0ZXIocHJvZ3JhbSwgZ2wuTElOS19TVEFUVVMpKVxuICAgIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignUGl4aS5qcyBFcnJvcjogQ291bGQgbm90IGluaXRpYWxpemUgc2hhZGVyLicpO1xuICAgICAgICBjb25zb2xlLmVycm9yKCdnbC5WQUxJREFURV9TVEFUVVMnLCBnbC5nZXRQcm9ncmFtUGFyYW1ldGVyKHByb2dyYW0sIGdsLlZBTElEQVRFX1NUQVRVUykpO1xuICAgICAgICBjb25zb2xlLmVycm9yKCdnbC5nZXRFcnJvcigpJywgZ2wuZ2V0RXJyb3IoKSk7XG5cbiAgICAgICAgLy8gaWYgdGhlcmUgaXMgYSBwcm9ncmFtIGluZm8gbG9nLCBsb2cgaXRcbiAgICAgICAgaWYgKGdsLmdldFByb2dyYW1JbmZvTG9nKHByb2dyYW0pICE9PSAnJylcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCdQaXhpLmpzIFdhcm5pbmc6IGdsLmdldFByb2dyYW1JbmZvTG9nKCknLCBnbC5nZXRQcm9ncmFtSW5mb0xvZyhwcm9ncmFtKSk7XG4gICAgICAgIH1cblxuICAgICAgICBnbC5kZWxldGVQcm9ncmFtKHByb2dyYW0pO1xuICAgICAgICBwcm9ncmFtID0gbnVsbDtcbiAgICB9XG5cbiAgICAvLyBjbGVhbiB1cCBzb21lIHNoYWRlcnNcbiAgICBnbC5kZWxldGVTaGFkZXIoZ2xWZXJ0U2hhZGVyKTtcbiAgICBnbC5kZWxldGVTaGFkZXIoZ2xGcmFnU2hhZGVyKTtcblxuICAgIHJldHVybiBwcm9ncmFtO1xufVxuXG4vKipcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0gZ2wge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gVGhlIGN1cnJlbnQgV2ViR0wgY29udGV4dCB7V2ViR0xQcm9ncmFtfVxuICogQHBhcmFtIHR5cGUge051bWJlcn0gdGhlIHR5cGUsIGNhbiBiZSBlaXRoZXIgVkVSVEVYX1NIQURFUiBvciBGUkFHTUVOVF9TSEFERVJcbiAqIEBwYXJhbSB2ZXJ0ZXhTcmMge3N0cmluZ3xzdHJpbmdbXX0gVGhlIHZlcnRleCBzaGFkZXIgc291cmNlIGFzIGFuIGFycmF5IG9mIHN0cmluZ3MuXG4gKiBAcmV0dXJuIHtXZWJHTFNoYWRlcn0gdGhlIHNoYWRlclxuICovXG5mdW5jdGlvbiBjb21waWxlU2hhZGVyKGdsLCB0eXBlLCBzcmMpXG57XG4gICAgdmFyIHNoYWRlciA9IGdsLmNyZWF0ZVNoYWRlcih0eXBlKTtcblxuICAgIGdsLnNoYWRlclNvdXJjZShzaGFkZXIsIHNyYyk7XG4gICAgZ2wuY29tcGlsZVNoYWRlcihzaGFkZXIpO1xuXG4gICAgaWYgKCFnbC5nZXRTaGFkZXJQYXJhbWV0ZXIoc2hhZGVyLCBnbC5DT01QSUxFX1NUQVRVUykpXG4gICAge1xuICAgICAgICBjb25zb2xlLndhcm4oc3JjKTtcbiAgICAgICAgY29uc29sZS5lcnJvcihnbC5nZXRTaGFkZXJJbmZvTG9nKHNoYWRlcikpO1xuXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHJldHVybiBzaGFkZXI7XG59XG5cbi8qKlxuICogQG1ldGhvZCBkZWZhdWx0VmFsdWVcbiAqIEBtZW1iZXJvZiBQSVhJLmdsQ29yZS5zaGFkZXJcbiAqIEBwYXJhbSB0eXBlIHtTdHJpbmd9IFR5cGUgb2YgdmFsdWVcbiAqIEBwYXJhbSBzaXplIHtOdW1iZXJ9XG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBkZWZhdWx0VmFsdWUodHlwZSwgc2l6ZSlcbntcbiAgICBzd2l0Y2ggKHR5cGUpXG4gICAge1xuICAgICAgICBjYXNlICdmbG9hdCc6XG4gICAgICAgICAgICByZXR1cm4gMDtcblxuICAgICAgICBjYXNlICd2ZWMyJzpcbiAgICAgICAgICAgIHJldHVybiBuZXcgRmxvYXQzMkFycmF5KDIgKiBzaXplKTtcblxuICAgICAgICBjYXNlICd2ZWMzJzpcbiAgICAgICAgICAgIHJldHVybiBuZXcgRmxvYXQzMkFycmF5KDMgKiBzaXplKTtcblxuICAgICAgICBjYXNlICd2ZWM0JzpcbiAgICAgICAgICAgIHJldHVybiBuZXcgRmxvYXQzMkFycmF5KDQgKiBzaXplKTtcblxuICAgICAgICBjYXNlICdpbnQnOlxuICAgICAgICBjYXNlICdzYW1wbGVyMkQnOlxuICAgICAgICBjYXNlICdzYW1wbGVyMkRBcnJheSc6XG4gICAgICAgICAgICByZXR1cm4gMDtcblxuICAgICAgICBjYXNlICdpdmVjMic6XG4gICAgICAgICAgICByZXR1cm4gbmV3IEludDMyQXJyYXkoMiAqIHNpemUpO1xuXG4gICAgICAgIGNhc2UgJ2l2ZWMzJzpcbiAgICAgICAgICAgIHJldHVybiBuZXcgSW50MzJBcnJheSgzICogc2l6ZSk7XG5cbiAgICAgICAgY2FzZSAnaXZlYzQnOlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBJbnQzMkFycmF5KDQgKiBzaXplKTtcblxuICAgICAgICBjYXNlICdib29sJzpcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblxuICAgICAgICBjYXNlICdidmVjMic6XG5cbiAgICAgICAgICAgIHJldHVybiBib29sZWFuQXJyYXkoMiAqIHNpemUpO1xuXG4gICAgICAgIGNhc2UgJ2J2ZWMzJzpcbiAgICAgICAgICAgIHJldHVybiBib29sZWFuQXJyYXkoMyAqIHNpemUpO1xuXG4gICAgICAgIGNhc2UgJ2J2ZWM0JzpcbiAgICAgICAgICAgIHJldHVybiBib29sZWFuQXJyYXkoNCAqIHNpemUpO1xuXG4gICAgICAgIGNhc2UgJ21hdDInOlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBGbG9hdDMyQXJyYXkoWzEsIDAsXG4gICAgICAgICAgICAgICAgMCwgMV0pO1xuXG4gICAgICAgIGNhc2UgJ21hdDMnOlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBGbG9hdDMyQXJyYXkoWzEsIDAsIDAsXG4gICAgICAgICAgICAgICAgMCwgMSwgMCxcbiAgICAgICAgICAgICAgICAwLCAwLCAxXSk7XG5cbiAgICAgICAgY2FzZSAnbWF0NCc6XG4gICAgICAgICAgICByZXR1cm4gbmV3IEZsb2F0MzJBcnJheShbMSwgMCwgMCwgMCxcbiAgICAgICAgICAgICAgICAwLCAxLCAwLCAwLFxuICAgICAgICAgICAgICAgIDAsIDAsIDEsIDAsXG4gICAgICAgICAgICAgICAgMCwgMCwgMCwgMV0pO1xuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xufVxuXG5mdW5jdGlvbiBib29sZWFuQXJyYXkoc2l6ZSlcbntcbiAgICB2YXIgYXJyYXkgPSBuZXcgQXJyYXkoc2l6ZSk7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKVxuICAgIHtcbiAgICAgICAgYXJyYXlbaV0gPSBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gYXJyYXk7XG59XG5cbnZhciB1bmtub3duQ29udGV4dCA9IHt9O1xudmFyIGNvbnRleHQgPSB1bmtub3duQ29udGV4dDtcblxuLyoqXG4gKiByZXR1cm5zIGEgbGl0dGxlIFdlYkdMIGNvbnRleHQgdG8gdXNlIGZvciBwcm9ncmFtIGluc3BlY3Rpb24uXG4gKlxuICogQHN0YXRpY1xuICogQHByaXZhdGVcbiAqIEByZXR1cm5zIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGEgZ2wgY29udGV4dCB0byB0ZXN0IHdpdGhcbiAqL1xuZnVuY3Rpb24gZ2V0VGVzdENvbnRleHQoKVxue1xuICAgIGlmIChjb250ZXh0ID09PSB1bmtub3duQ29udGV4dCB8fCAoY29udGV4dCAmJiBjb250ZXh0LmlzQ29udGV4dExvc3QoKSkpXG4gICAge1xuICAgICAgICB2YXIgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG5cbiAgICAgICAgdmFyIGdsO1xuXG4gICAgICAgIGlmIChzZXR0aW5ncy5QUkVGRVJfRU5WID49IEVOVi5XRUJHTDIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGdsID0gY2FudmFzLmdldENvbnRleHQoJ3dlYmdsMicsIHt9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghZ2wpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGdsID0gY2FudmFzLmdldENvbnRleHQoJ3dlYmdsJywge30pXG4gICAgICAgICAgICB8fCBjYW52YXMuZ2V0Q29udGV4dCgnZXhwZXJpbWVudGFsLXdlYmdsJywge30pO1xuXG4gICAgICAgICAgICBpZiAoIWdsKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIC8vIGZhaWwsIG5vdCBhYmxlIHRvIGdldCBhIGNvbnRleHRcbiAgICAgICAgICAgICAgICBnbCA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgLy8gZm9yIHNoYWRlciB0ZXN0aW5nLi5cbiAgICAgICAgICAgICAgICBnbC5nZXRFeHRlbnNpb24oJ1dFQkdMX2RyYXdfYnVmZmVycycpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29udGV4dCA9IGdsO1xuICAgIH1cblxuICAgIHJldHVybiBjb250ZXh0O1xufVxuXG52YXIgbWF4RnJhZ21lbnRQcmVjaXNpb247XG5cbmZ1bmN0aW9uIGdldE1heEZyYWdtZW50UHJlY2lzaW9uKClcbntcbiAgICBpZiAoIW1heEZyYWdtZW50UHJlY2lzaW9uKVxuICAgIHtcbiAgICAgICAgbWF4RnJhZ21lbnRQcmVjaXNpb24gPSBQUkVDSVNJT04uTUVESVVNO1xuICAgICAgICB2YXIgZ2wgPSBnZXRUZXN0Q29udGV4dCgpO1xuXG4gICAgICAgIGlmIChnbClcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKGdsLmdldFNoYWRlclByZWNpc2lvbkZvcm1hdClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB2YXIgc2hhZGVyRnJhZ21lbnQgPSBnbC5nZXRTaGFkZXJQcmVjaXNpb25Gb3JtYXQoZ2wuRlJBR01FTlRfU0hBREVSLCBnbC5ISUdIX0ZMT0FUKTtcblxuICAgICAgICAgICAgICAgIG1heEZyYWdtZW50UHJlY2lzaW9uID0gc2hhZGVyRnJhZ21lbnQucHJlY2lzaW9uID8gUFJFQ0lTSU9OLkhJR0ggOiBQUkVDSVNJT04uTUVESVVNO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG1heEZyYWdtZW50UHJlY2lzaW9uO1xufVxuXG4vKipcbiAqIFNldHMgdGhlIGZsb2F0IHByZWNpc2lvbiBvbiB0aGUgc2hhZGVyLCBlbnN1cmluZyB0aGUgZGV2aWNlIHN1cHBvcnRzIHRoZSByZXF1ZXN0IHByZWNpc2lvbi5cbiAqIElmIHRoZSBwcmVjaXNpb24gaXMgYWxyZWFkeSBwcmVzZW50LCBpdCBqdXN0IGVuc3VyZXMgdGhhdCB0aGUgZGV2aWNlIGlzIGFibGUgdG8gaGFuZGxlIGl0LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge3N0cmluZ30gc3JjIC0gVGhlIHNoYWRlciBzb3VyY2VcbiAqIEBwYXJhbSB7c3RyaW5nfSByZXF1ZXN0ZWRQcmVjaXNpb24gLSBUaGUgcmVxdWVzdCBmbG9hdCBwcmVjaXNpb24gb2YgdGhlIHNoYWRlci4gT3B0aW9ucyBhcmUgJ2xvd3AnLCAnbWVkaXVtcCcgb3IgJ2hpZ2hwJy5cbiAqIEBwYXJhbSB7c3RyaW5nfSBtYXhTdXBwb3J0ZWRQcmVjaXNpb24gLSBUaGUgbWF4aW11bSBwcmVjaXNpb24gdGhlIHNoYWRlciBzdXBwb3J0cy5cbiAqXG4gKiBAcmV0dXJuIHtzdHJpbmd9IG1vZGlmaWVkIHNoYWRlciBzb3VyY2VcbiAqL1xuZnVuY3Rpb24gc2V0UHJlY2lzaW9uKHNyYywgcmVxdWVzdGVkUHJlY2lzaW9uLCBtYXhTdXBwb3J0ZWRQcmVjaXNpb24pXG57XG4gICAgaWYgKHNyYy5zdWJzdHJpbmcoMCwgOSkgIT09ICdwcmVjaXNpb24nKVxuICAgIHtcbiAgICAgICAgLy8gbm8gcHJlY2lzaW9uIHN1cHBsaWVkLCBzbyBQaXhpSlMgd2lsbCBhZGQgdGhlIHJlcXVlc3RlZCBsZXZlbC5cbiAgICAgICAgdmFyIHByZWNpc2lvbiA9IHJlcXVlc3RlZFByZWNpc2lvbjtcblxuICAgICAgICAvLyBJZiBoaWdocCBpcyByZXF1ZXN0ZWQgYnV0IG5vdCBzdXBwb3J0ZWQsIGRvd25ncmFkZSBwcmVjaXNpb24gdG8gYSBsZXZlbCBhbGwgZGV2aWNlcyBzdXBwb3J0LlxuICAgICAgICBpZiAocmVxdWVzdGVkUHJlY2lzaW9uID09PSBQUkVDSVNJT04uSElHSCAmJiBtYXhTdXBwb3J0ZWRQcmVjaXNpb24gIT09IFBSRUNJU0lPTi5ISUdIKVxuICAgICAgICB7XG4gICAgICAgICAgICBwcmVjaXNpb24gPSBQUkVDSVNJT04uTUVESVVNO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIChcInByZWNpc2lvbiBcIiArIHByZWNpc2lvbiArIFwiIGZsb2F0O1xcblwiICsgc3JjKTtcbiAgICB9XG4gICAgZWxzZSBpZiAobWF4U3VwcG9ydGVkUHJlY2lzaW9uICE9PSBQUkVDSVNJT04uSElHSCAmJiBzcmMuc3Vic3RyaW5nKDAsIDE1KSA9PT0gJ3ByZWNpc2lvbiBoaWdocCcpXG4gICAge1xuICAgICAgICAvLyBwcmVjaXNpb24gd2FzIHN1cHBsaWVkLCBidXQgYXQgYSBsZXZlbCB0aGlzIGRldmljZSBkb2VzIG5vdCBzdXBwb3J0LCBzbyBkb3duZ3JhZGluZyB0byBtZWRpdW1wLlxuICAgICAgICByZXR1cm4gc3JjLnJlcGxhY2UoJ3ByZWNpc2lvbiBoaWdocCcsICdwcmVjaXNpb24gbWVkaXVtcCcpO1xuICAgIH1cblxuICAgIHJldHVybiBzcmM7XG59XG5cbnZhciBHTFNMX1RPX1NJWkUgPSB7XG4gICAgZmxvYXQ6ICAgIDEsXG4gICAgdmVjMjogICAgIDIsXG4gICAgdmVjMzogICAgIDMsXG4gICAgdmVjNDogICAgIDQsXG5cbiAgICBpbnQ6ICAgICAgMSxcbiAgICBpdmVjMjogICAgMixcbiAgICBpdmVjMzogICAgMyxcbiAgICBpdmVjNDogICAgNCxcblxuICAgIGJvb2w6ICAgICAxLFxuICAgIGJ2ZWMyOiAgICAyLFxuICAgIGJ2ZWMzOiAgICAzLFxuICAgIGJ2ZWM0OiAgICA0LFxuXG4gICAgbWF0MjogICAgIDQsXG4gICAgbWF0MzogICAgIDksXG4gICAgbWF0NDogICAgIDE2LFxuXG4gICAgc2FtcGxlcjJEOiAgMSxcbn07XG5cbi8qKlxuICogQHByaXZhdGVcbiAqIEBtZXRob2QgbWFwU2l6ZVxuICogQG1lbWJlcm9mIFBJWEkuZ2xDb3JlLnNoYWRlclxuICogQHBhcmFtIHR5cGUge1N0cmluZ31cbiAqIEByZXR1cm4ge051bWJlcn1cbiAqL1xuZnVuY3Rpb24gbWFwU2l6ZSh0eXBlKVxue1xuICAgIHJldHVybiBHTFNMX1RPX1NJWkVbdHlwZV07XG59XG5cbnZhciBHTF9UQUJMRSA9IG51bGw7XG5cbnZhciBHTF9UT19HTFNMX1RZUEVTID0ge1xuICAgIEZMT0FUOiAgICAgICAnZmxvYXQnLFxuICAgIEZMT0FUX1ZFQzI6ICAndmVjMicsXG4gICAgRkxPQVRfVkVDMzogICd2ZWMzJyxcbiAgICBGTE9BVF9WRUM0OiAgJ3ZlYzQnLFxuXG4gICAgSU5UOiAgICAgICAgICdpbnQnLFxuICAgIElOVF9WRUMyOiAgICAnaXZlYzInLFxuICAgIElOVF9WRUMzOiAgICAnaXZlYzMnLFxuICAgIElOVF9WRUM0OiAgICAnaXZlYzQnLFxuXG4gICAgQk9PTDogICAgICAgICdib29sJyxcbiAgICBCT09MX1ZFQzI6ICAgJ2J2ZWMyJyxcbiAgICBCT09MX1ZFQzM6ICAgJ2J2ZWMzJyxcbiAgICBCT09MX1ZFQzQ6ICAgJ2J2ZWM0JyxcblxuICAgIEZMT0FUX01BVDI6ICAnbWF0MicsXG4gICAgRkxPQVRfTUFUMzogICdtYXQzJyxcbiAgICBGTE9BVF9NQVQ0OiAgJ21hdDQnLFxuXG4gICAgU0FNUExFUl8yRDogICdzYW1wbGVyMkQnLFxuICAgIFNBTVBMRVJfQ1VCRTogICdzYW1wbGVyQ3ViZScsXG4gICAgU0FNUExFUl8yRF9BUlJBWTogICdzYW1wbGVyMkRBcnJheScsXG59O1xuXG5mdW5jdGlvbiBtYXBUeXBlKGdsLCB0eXBlKVxue1xuICAgIGlmICghR0xfVEFCTEUpXG4gICAge1xuICAgICAgICB2YXIgdHlwZU5hbWVzID0gT2JqZWN0LmtleXMoR0xfVE9fR0xTTF9UWVBFUyk7XG5cbiAgICAgICAgR0xfVEFCTEUgPSB7fTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHR5cGVOYW1lcy5sZW5ndGg7ICsraSlcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIHRuID0gdHlwZU5hbWVzW2ldO1xuXG4gICAgICAgICAgICBHTF9UQUJMRVtnbFt0bl1dID0gR0xfVE9fR0xTTF9UWVBFU1t0bl07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gR0xfVEFCTEVbdHlwZV07XG59XG5cbi8vIGN2ID0gQ2FjaGVkVmFsdWVcbi8vIHYgPSB2YWx1ZVxuLy8gdWQgPSB1bmlmb3JtRGF0YVxuLy8gdXYgPSB1bmlmb3JtVmFsdWVcbi8vIGwgPSBsb2NhdGlvblxudmFyIEdMU0xfVE9fU0lOR0xFX1NFVFRFUlNfQ0FDSEVEID0ge1xuXG4gICAgZmxvYXQ6IFwiXFxuICAgIGlmKGN2ICE9PSB2KVxcbiAgICB7XFxuICAgICAgICBjdi52ID0gdjtcXG4gICAgICAgIGdsLnVuaWZvcm0xZihsb2NhdGlvbiwgdilcXG4gICAgfVwiLFxuXG4gICAgdmVjMjogXCJcXG4gICAgaWYoY3ZbMF0gIT09IHZbMF0gfHwgY3ZbMV0gIT09IHZbMV0pXFxuICAgIHtcXG4gICAgICAgIGN2WzBdID0gdlswXTtcXG4gICAgICAgIGN2WzFdID0gdlsxXTtcXG4gICAgICAgIGdsLnVuaWZvcm0yZihsb2NhdGlvbiwgdlswXSwgdlsxXSlcXG4gICAgfVwiLFxuXG4gICAgdmVjMzogXCJcXG4gICAgaWYoY3ZbMF0gIT09IHZbMF0gfHwgY3ZbMV0gIT09IHZbMV0gfHwgY3ZbMl0gIT09IHZbMl0pXFxuICAgIHtcXG4gICAgICAgIGN2WzBdID0gdlswXTtcXG4gICAgICAgIGN2WzFdID0gdlsxXTtcXG4gICAgICAgIGN2WzJdID0gdlsyXTtcXG5cXG4gICAgICAgIGdsLnVuaWZvcm0zZihsb2NhdGlvbiwgdlswXSwgdlsxXSwgdlsyXSlcXG4gICAgfVwiLFxuXG4gICAgdmVjNDogICAgICdnbC51bmlmb3JtNGYobG9jYXRpb24sIHZbMF0sIHZbMV0sIHZbMl0sIHZbM10pJyxcblxuICAgIGludDogICAgICAnZ2wudW5pZm9ybTFpKGxvY2F0aW9uLCB2KScsXG4gICAgaXZlYzI6ICAgICdnbC51bmlmb3JtMmkobG9jYXRpb24sIHZbMF0sIHZbMV0pJyxcbiAgICBpdmVjMzogICAgJ2dsLnVuaWZvcm0zaShsb2NhdGlvbiwgdlswXSwgdlsxXSwgdlsyXSknLFxuICAgIGl2ZWM0OiAgICAnZ2wudW5pZm9ybTRpKGxvY2F0aW9uLCB2WzBdLCB2WzFdLCB2WzJdLCB2WzNdKScsXG5cbiAgICBib29sOiAgICAgJ2dsLnVuaWZvcm0xaShsb2NhdGlvbiwgdiknLFxuICAgIGJ2ZWMyOiAgICAnZ2wudW5pZm9ybTJpKGxvY2F0aW9uLCB2WzBdLCB2WzFdKScsXG4gICAgYnZlYzM6ICAgICdnbC51bmlmb3JtM2kobG9jYXRpb24sIHZbMF0sIHZbMV0sIHZbMl0pJyxcbiAgICBidmVjNDogICAgJ2dsLnVuaWZvcm00aShsb2NhdGlvbiwgdlswXSwgdlsxXSwgdlsyXSwgdlszXSknLFxuXG4gICAgbWF0MjogICAgICdnbC51bmlmb3JtTWF0cml4MmZ2KGxvY2F0aW9uLCBmYWxzZSwgdiknLFxuICAgIG1hdDM6ICAgICAnZ2wudW5pZm9ybU1hdHJpeDNmdihsb2NhdGlvbiwgZmFsc2UsIHYpJyxcbiAgICBtYXQ0OiAgICAgJ2dsLnVuaWZvcm1NYXRyaXg0ZnYobG9jYXRpb24sIGZhbHNlLCB2KScsXG5cbiAgICBzYW1wbGVyMkQ6ICAgICAgJ2dsLnVuaWZvcm0xaShsb2NhdGlvbiwgdiknLFxuICAgIHNhbXBsZXJDdWJlOiAgICAnZ2wudW5pZm9ybTFpKGxvY2F0aW9uLCB2KScsXG4gICAgc2FtcGxlcjJEQXJyYXk6ICdnbC51bmlmb3JtMWkobG9jYXRpb24sIHYpJyxcbn07XG5cbnZhciBHTFNMX1RPX0FSUkFZX1NFVFRFUlMgPSB7XG5cbiAgICBmbG9hdDogICAgXCJnbC51bmlmb3JtMWZ2KGxvY2F0aW9uLCB2KVwiLFxuXG4gICAgdmVjMjogICAgIFwiZ2wudW5pZm9ybTJmdihsb2NhdGlvbiwgdilcIixcbiAgICB2ZWMzOiAgICAgXCJnbC51bmlmb3JtM2Z2KGxvY2F0aW9uLCB2KVwiLFxuICAgIHZlYzQ6ICAgICAnZ2wudW5pZm9ybTRmdihsb2NhdGlvbiwgdiknLFxuXG4gICAgbWF0NDogICAgICdnbC51bmlmb3JtTWF0cml4NGZ2KGxvY2F0aW9uLCBmYWxzZSwgdiknLFxuICAgIG1hdDM6ICAgICAnZ2wudW5pZm9ybU1hdHJpeDNmdihsb2NhdGlvbiwgZmFsc2UsIHYpJyxcbiAgICBtYXQyOiAgICAgJ2dsLnVuaWZvcm1NYXRyaXgyZnYobG9jYXRpb24sIGZhbHNlLCB2KScsXG5cbiAgICBpbnQ6ICAgICAgJ2dsLnVuaWZvcm0xaXYobG9jYXRpb24sIHYpJyxcbiAgICBpdmVjMjogICAgJ2dsLnVuaWZvcm0yaXYobG9jYXRpb24sIHYpJyxcbiAgICBpdmVjMzogICAgJ2dsLnVuaWZvcm0zaXYobG9jYXRpb24sIHYpJyxcbiAgICBpdmVjNDogICAgJ2dsLnVuaWZvcm00aXYobG9jYXRpb24sIHYpJyxcblxuICAgIGJvb2w6ICAgICAnZ2wudW5pZm9ybTFpdihsb2NhdGlvbiwgdiknLFxuICAgIGJ2ZWMyOiAgICAnZ2wudW5pZm9ybTJpdihsb2NhdGlvbiwgdiknLFxuICAgIGJ2ZWMzOiAgICAnZ2wudW5pZm9ybTNpdihsb2NhdGlvbiwgdiknLFxuICAgIGJ2ZWM0OiAgICAnZ2wudW5pZm9ybTRpdihsb2NhdGlvbiwgdiknLFxuXG4gICAgc2FtcGxlcjJEOiAgICAgICdnbC51bmlmb3JtMWl2KGxvY2F0aW9uLCB2KScsXG4gICAgc2FtcGxlckN1YmU6ICAgICdnbC51bmlmb3JtMWl2KGxvY2F0aW9uLCB2KScsXG4gICAgc2FtcGxlcjJEQXJyYXk6ICdnbC51bmlmb3JtMWl2KGxvY2F0aW9uLCB2KScsXG59O1xuXG5mdW5jdGlvbiBnZW5lcmF0ZVVuaWZvcm1zU3luYyhncm91cCwgdW5pZm9ybURhdGEpXG57XG4gICAgdmFyIHRleHR1cmVDb3VudCA9IDA7XG4gICAgdmFyIGZ1bmMgPSBcInZhciB2ID0gbnVsbDtcXG4gICAgdmFyIGN2ID0gbnVsbFxcbiAgICB2YXIgZ2wgPSByZW5kZXJlci5nbFwiO1xuXG4gICAgZm9yICh2YXIgaSBpbiBncm91cC51bmlmb3JtcylcbiAgICB7XG4gICAgICAgIHZhciBkYXRhID0gdW5pZm9ybURhdGFbaV07XG5cbiAgICAgICAgaWYgKCFkYXRhKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoZ3JvdXAudW5pZm9ybXNbaV0uZ3JvdXApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZnVuYyArPSBcIlxcbiAgICAgICAgICAgICAgICAgICAgcmVuZGVyZXIuc2hhZGVyLnN5bmNVbmlmb3JtR3JvdXAodXYuXCIgKyBpICsgXCIpO1xcbiAgICAgICAgICAgICAgICBcIjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUT0RPICYmIHVuaWZvcm1EYXRhW2ldLnZhbHVlICE9PSAwIDwtLSBkbyB3ZSBzdGlsbCBuZWVkIHRoaXM/XG4gICAgICAgIGlmIChkYXRhLnR5cGUgPT09ICdmbG9hdCcgJiYgZGF0YS5zaXplID09PSAxKVxuICAgICAgICB7XG4gICAgICAgICAgICBmdW5jICs9IFwiXFxuICAgICAgICAgICAgaWYodXYuXCIgKyBpICsgXCIgIT09IHVkLlwiICsgaSArIFwiLnZhbHVlKVxcbiAgICAgICAgICAgIHtcXG4gICAgICAgICAgICAgICAgdWQuXCIgKyBpICsgXCIudmFsdWUgPSB1di5cIiArIGkgKyBcIlxcbiAgICAgICAgICAgICAgICBnbC51bmlmb3JtMWYodWQuXCIgKyBpICsgXCIubG9jYXRpb24sIHV2LlwiICsgaSArIFwiKVxcbiAgICAgICAgICAgIH1cXG5cIjtcbiAgICAgICAgfVxuICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBtYXgtbGVuICovXG4gICAgICAgIGVsc2UgaWYgKChkYXRhLnR5cGUgPT09ICdzYW1wbGVyMkQnIHx8IGRhdGEudHlwZSA9PT0gJ3NhbXBsZXJDdWJlJyB8fCBkYXRhLnR5cGUgPT09ICdzYW1wbGVyMkRBcnJheScpICYmIGRhdGEuc2l6ZSA9PT0gMSAmJiAhZGF0YS5pc0FycmF5KVxuICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBtYXgtbGVuICovXG4gICAgICAgIHtcbiAgICAgICAgICAgIGZ1bmMgKz0gXCJcXG4gICAgICAgICAgICByZW5kZXJlci50ZXh0dXJlLmJpbmQodXYuXCIgKyBpICsgXCIsIFwiICsgdGV4dHVyZUNvdW50ICsgXCIpO1xcblxcbiAgICAgICAgICAgIGlmKHVkLlwiICsgaSArIFwiLnZhbHVlICE9PSBcIiArIHRleHR1cmVDb3VudCArIFwiKVxcbiAgICAgICAgICAgIHtcXG4gICAgICAgICAgICAgICAgdWQuXCIgKyBpICsgXCIudmFsdWUgPSBcIiArIHRleHR1cmVDb3VudCArIFwiO1xcbiAgICAgICAgICAgICAgICBnbC51bmlmb3JtMWkodWQuXCIgKyBpICsgXCIubG9jYXRpb24sIFwiICsgdGV4dHVyZUNvdW50ICsgXCIpO1xcbjsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBtYXgtbGVuXFxuICAgICAgICAgICAgfVxcblwiO1xuXG4gICAgICAgICAgICB0ZXh0dXJlQ291bnQrKztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChkYXRhLnR5cGUgPT09ICdtYXQzJyAmJiBkYXRhLnNpemUgPT09IDEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmIChncm91cC51bmlmb3Jtc1tpXS5hICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgLy8gVE9ETyBhbmQgc29tZSBzbWFydCBjYWNoaW5nIGRpcnR5IGlkcyBoZXJlIVxuICAgICAgICAgICAgICAgIGZ1bmMgKz0gXCJcXG4gICAgICAgICAgICAgICAgZ2wudW5pZm9ybU1hdHJpeDNmdih1ZC5cIiArIGkgKyBcIi5sb2NhdGlvbiwgZmFsc2UsIHV2LlwiICsgaSArIFwiLnRvQXJyYXkodHJ1ZSkpO1xcbiAgICAgICAgICAgICAgICBcXG5cIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBmdW5jICs9IFwiXFxuICAgICAgICAgICAgICAgIGdsLnVuaWZvcm1NYXRyaXgzZnYodWQuXCIgKyBpICsgXCIubG9jYXRpb24sIGZhbHNlLCB1di5cIiArIGkgKyBcIik7XFxuICAgICAgICAgICAgICAgIFxcblwiO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGRhdGEudHlwZSA9PT0gJ3ZlYzInICYmIGRhdGEuc2l6ZSA9PT0gMSlcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gVE9ETyAtIGRvIHdlIG5lZWQgYm90aCBoZXJlP1xuICAgICAgICAgICAgLy8gbWF5YmUgd2UgY2FuIGdldCBhd2F5IHdpdGggb25seSB1c2luZyBwb2ludHM/XG4gICAgICAgICAgICBpZiAoZ3JvdXAudW5pZm9ybXNbaV0ueCAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGZ1bmMgKz0gXCJcXG4gICAgICAgICAgICAgICAgY3YgPSB1ZC5cIiArIGkgKyBcIi52YWx1ZTtcXG4gICAgICAgICAgICAgICAgdiA9IHV2LlwiICsgaSArIFwiO1xcblxcbiAgICAgICAgICAgICAgICBpZihjdlswXSAhPT0gdi54IHx8IGN2WzFdICE9PSB2LnkpXFxuICAgICAgICAgICAgICAgIHtcXG4gICAgICAgICAgICAgICAgICAgIGN2WzBdID0gdi54O1xcbiAgICAgICAgICAgICAgICAgICAgY3ZbMV0gPSB2Lnk7XFxuICAgICAgICAgICAgICAgICAgICBnbC51bmlmb3JtMmYodWQuXCIgKyBpICsgXCIubG9jYXRpb24sIHYueCwgdi55KTtcXG4gICAgICAgICAgICAgICAgfVxcblwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGZ1bmMgKz0gXCJcXG4gICAgICAgICAgICAgICAgY3YgPSB1ZC5cIiArIGkgKyBcIi52YWx1ZTtcXG4gICAgICAgICAgICAgICAgdiA9IHV2LlwiICsgaSArIFwiO1xcblxcbiAgICAgICAgICAgICAgICBpZihjdlswXSAhPT0gdlswXSB8fCBjdlsxXSAhPT0gdlsxXSlcXG4gICAgICAgICAgICAgICAge1xcbiAgICAgICAgICAgICAgICAgICAgY3ZbMF0gPSB2WzBdO1xcbiAgICAgICAgICAgICAgICAgICAgY3ZbMV0gPSB2WzFdO1xcbiAgICAgICAgICAgICAgICAgICAgZ2wudW5pZm9ybTJmKHVkLlwiICsgaSArIFwiLmxvY2F0aW9uLCB2WzBdLCB2WzFdKTtcXG4gICAgICAgICAgICAgICAgfVxcbiAgICAgICAgICAgICAgICBcXG5cIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChkYXRhLnR5cGUgPT09ICd2ZWM0JyAmJiBkYXRhLnNpemUgPT09IDEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIFRPRE8gLSBkbyB3ZSBuZWVkIGJvdGggaGVyZT9cbiAgICAgICAgICAgIC8vIG1heWJlIHdlIGNhbiBnZXQgYXdheSB3aXRoIG9ubHkgdXNpbmcgcG9pbnRzP1xuICAgICAgICAgICAgaWYgKGdyb3VwLnVuaWZvcm1zW2ldLndpZHRoICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZnVuYyArPSBcIlxcbiAgICAgICAgICAgICAgICBjdiA9IHVkLlwiICsgaSArIFwiLnZhbHVlO1xcbiAgICAgICAgICAgICAgICB2ID0gdXYuXCIgKyBpICsgXCI7XFxuXFxuICAgICAgICAgICAgICAgIGlmKGN2WzBdICE9PSB2LnggfHwgY3ZbMV0gIT09IHYueSB8fCBjdlsyXSAhPT0gdi53aWR0aCB8fCBjdlszXSAhPT0gdi5oZWlnaHQpXFxuICAgICAgICAgICAgICAgIHtcXG4gICAgICAgICAgICAgICAgICAgIGN2WzBdID0gdi54O1xcbiAgICAgICAgICAgICAgICAgICAgY3ZbMV0gPSB2Lnk7XFxuICAgICAgICAgICAgICAgICAgICBjdlsyXSA9IHYud2lkdGg7XFxuICAgICAgICAgICAgICAgICAgICBjdlszXSA9IHYuaGVpZ2h0O1xcbiAgICAgICAgICAgICAgICAgICAgZ2wudW5pZm9ybTRmKHVkLlwiICsgaSArIFwiLmxvY2F0aW9uLCB2LngsIHYueSwgdi53aWR0aCwgdi5oZWlnaHQpXFxuICAgICAgICAgICAgICAgIH1cXG5cIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBmdW5jICs9IFwiXFxuICAgICAgICAgICAgICAgIGN2ID0gdWQuXCIgKyBpICsgXCIudmFsdWU7XFxuICAgICAgICAgICAgICAgIHYgPSB1di5cIiArIGkgKyBcIjtcXG5cXG4gICAgICAgICAgICAgICAgaWYoY3ZbMF0gIT09IHZbMF0gfHwgY3ZbMV0gIT09IHZbMV0gfHwgY3ZbMl0gIT09IHZbMl0gfHwgY3ZbM10gIT09IHZbM10pXFxuICAgICAgICAgICAgICAgIHtcXG4gICAgICAgICAgICAgICAgICAgIGN2WzBdID0gdlswXTtcXG4gICAgICAgICAgICAgICAgICAgIGN2WzFdID0gdlsxXTtcXG4gICAgICAgICAgICAgICAgICAgIGN2WzJdID0gdlsyXTtcXG4gICAgICAgICAgICAgICAgICAgIGN2WzNdID0gdlszXTtcXG5cXG4gICAgICAgICAgICAgICAgICAgIGdsLnVuaWZvcm00Zih1ZC5cIiArIGkgKyBcIi5sb2NhdGlvbiwgdlswXSwgdlsxXSwgdlsyXSwgdlszXSlcXG4gICAgICAgICAgICAgICAgfVxcbiAgICAgICAgICAgICAgICBcXG5cIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciB0ZW1wbGF0ZVR5cGUgPSAoZGF0YS5zaXplID09PSAxKSA/IEdMU0xfVE9fU0lOR0xFX1NFVFRFUlNfQ0FDSEVEIDogR0xTTF9UT19BUlJBWV9TRVRURVJTO1xuXG4gICAgICAgICAgICB2YXIgdGVtcGxhdGUgPSAgdGVtcGxhdGVUeXBlW2RhdGEudHlwZV0ucmVwbGFjZSgnbG9jYXRpb24nLCAoXCJ1ZC5cIiArIGkgKyBcIi5sb2NhdGlvblwiKSk7XG5cbiAgICAgICAgICAgIGZ1bmMgKz0gXCJcXG4gICAgICAgICAgICBjdiA9IHVkLlwiICsgaSArIFwiLnZhbHVlO1xcbiAgICAgICAgICAgIHYgPSB1di5cIiArIGkgKyBcIjtcXG4gICAgICAgICAgICBcIiArIHRlbXBsYXRlICsgXCI7XFxuXCI7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IEZ1bmN0aW9uKCd1ZCcsICd1dicsICdyZW5kZXJlcicsIGZ1bmMpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLW5ldy1mdW5jXG59XG5cbnZhciBmcmFnVGVtcGxhdGUgPSBbXG4gICAgJ3ByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OycsXG4gICAgJ3ZvaWQgbWFpbih2b2lkKXsnLFxuICAgICdmbG9hdCB0ZXN0ID0gMC4xOycsXG4gICAgJyVmb3Jsb29wJScsXG4gICAgJ2dsX0ZyYWdDb2xvciA9IHZlYzQoMC4wKTsnLFxuICAgICd9JyBdLmpvaW4oJ1xcbicpO1xuXG5mdW5jdGlvbiBjaGVja01heElmU3RhdGVtZW50c0luU2hhZGVyKG1heElmcywgZ2wpXG57XG4gICAgaWYgKG1heElmcyA9PT0gMClcbiAgICB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCB2YWx1ZSBvZiBgMGAgcGFzc2VkIHRvIGBjaGVja01heElmU3RhdGVtZW50c0luU2hhZGVyYCcpO1xuICAgIH1cblxuICAgIHZhciBzaGFkZXIgPSBnbC5jcmVhdGVTaGFkZXIoZ2wuRlJBR01FTlRfU0hBREVSKTtcblxuICAgIHdoaWxlICh0cnVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWNvbnN0YW50LWNvbmRpdGlvblxuICAgIHtcbiAgICAgICAgdmFyIGZyYWdtZW50U3JjID0gZnJhZ1RlbXBsYXRlLnJlcGxhY2UoLyVmb3Jsb29wJS9naSwgZ2VuZXJhdGVJZlRlc3RTcmMobWF4SWZzKSk7XG5cbiAgICAgICAgZ2wuc2hhZGVyU291cmNlKHNoYWRlciwgZnJhZ21lbnRTcmMpO1xuICAgICAgICBnbC5jb21waWxlU2hhZGVyKHNoYWRlcik7XG5cbiAgICAgICAgaWYgKCFnbC5nZXRTaGFkZXJQYXJhbWV0ZXIoc2hhZGVyLCBnbC5DT01QSUxFX1NUQVRVUykpXG4gICAgICAgIHtcbiAgICAgICAgICAgIG1heElmcyA9IChtYXhJZnMgLyAyKSB8IDA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyB2YWxpZCFcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG1heElmcztcbn1cblxuZnVuY3Rpb24gZ2VuZXJhdGVJZlRlc3RTcmMobWF4SWZzKVxue1xuICAgIHZhciBzcmMgPSAnJztcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWF4SWZzOyArK2kpXG4gICAge1xuICAgICAgICBpZiAoaSA+IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIHNyYyArPSAnXFxuZWxzZSAnO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGkgPCBtYXhJZnMgLSAxKVxuICAgICAgICB7XG4gICAgICAgICAgICBzcmMgKz0gXCJpZih0ZXN0ID09IFwiICsgaSArIFwiLjApe31cIjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBzcmM7XG59XG5cbi8vIENhY2hlIHRoZSByZXN1bHQgdG8gcHJldmVudCBydW5uaW5nIHRoaXMgb3ZlciBhbmQgb3ZlclxudmFyIHVuc2FmZUV2YWw7XG5cbi8qKlxuICogTm90IGFsbCBwbGF0Zm9ybXMgYWxsb3cgdG8gZ2VuZXJhdGUgZnVuY3Rpb24gY29kZSAoZS5nLiwgYG5ldyBGdW5jdGlvbmApLlxuICogdGhpcyBwcm92aWRlcyB0aGUgcGxhdGZvcm0tbGV2ZWwgZGV0ZWN0aW9uLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gdW5zYWZlRXZhbFN1cHBvcnRlZCgpXG57XG4gICAgaWYgKHR5cGVvZiB1bnNhZmVFdmFsID09PSAnYm9vbGVhbicpXG4gICAge1xuICAgICAgICByZXR1cm4gdW5zYWZlRXZhbDtcbiAgICB9XG5cbiAgICB0cnlcbiAgICB7XG4gICAgICAgIC8qIGVzbGludC1kaXNhYmxlIG5vLW5ldy1mdW5jICovXG4gICAgICAgIHZhciBmdW5jID0gbmV3IEZ1bmN0aW9uKCdwYXJhbTEnLCAncGFyYW0yJywgJ3BhcmFtMycsICdyZXR1cm4gcGFyYW0xW3BhcmFtMl0gPT09IHBhcmFtMzsnKTtcbiAgICAgICAgLyogZXNsaW50LWVuYWJsZSBuby1uZXctZnVuYyAqL1xuXG4gICAgICAgIHVuc2FmZUV2YWwgPSBmdW5jKHsgYTogJ2InIH0sICdhJywgJ2InKSA9PT0gdHJ1ZTtcbiAgICB9XG4gICAgY2F0Y2ggKGUpXG4gICAge1xuICAgICAgICB1bnNhZmVFdmFsID0gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIHVuc2FmZUV2YWw7XG59XG5cbnZhciBkZWZhdWx0RnJhZ21lbnQgPSBcInZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcblxcbnVuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyO1xcblxcbnZvaWQgbWFpbih2b2lkKXtcXG4gICBnbF9GcmFnQ29sb3IgKj0gdGV4dHVyZTJEKHVTYW1wbGVyLCB2VGV4dHVyZUNvb3JkKTtcXG59XCI7XG5cbnZhciBkZWZhdWx0VmVydGV4ID0gXCJhdHRyaWJ1dGUgdmVjMiBhVmVydGV4UG9zaXRpb247XFxuYXR0cmlidXRlIHZlYzIgYVRleHR1cmVDb29yZDtcXG5cXG51bmlmb3JtIG1hdDMgcHJvamVjdGlvbk1hdHJpeDtcXG5cXG52YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG5cXG52b2lkIG1haW4odm9pZCl7XFxuICAgZ2xfUG9zaXRpb24gPSB2ZWM0KChwcm9qZWN0aW9uTWF0cml4ICogdmVjMyhhVmVydGV4UG9zaXRpb24sIDEuMCkpLnh5LCAwLjAsIDEuMCk7XFxuICAgdlRleHR1cmVDb29yZCA9IGFUZXh0dXJlQ29vcmQ7XFxufVxcblwiO1xuXG4vLyBpbXBvcnQgKiBhcyBmcm9tICcuLi9zeXN0ZW1zL3NoYWRlci9zaGFkZXInO1xuXG52YXIgVUlEJDMgPSAwO1xuXG52YXIgbmFtZUNhY2hlID0ge307XG5cbi8qKlxuICogSGVscGVyIGNsYXNzIHRvIGNyZWF0ZSBhIHNoYWRlciBwcm9ncmFtLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFByb2dyYW0gPSBmdW5jdGlvbiBQcm9ncmFtKHZlcnRleFNyYywgZnJhZ21lbnRTcmMsIG5hbWUpXG57XG4gICAgaWYgKCBuYW1lID09PSB2b2lkIDAgKSBuYW1lID0gJ3BpeGktc2hhZGVyJztcblxuICAgIHRoaXMuaWQgPSBVSUQkMysrO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHZlcnRleCBzaGFkZXIuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICovXG4gICAgdGhpcy52ZXJ0ZXhTcmMgPSB2ZXJ0ZXhTcmMgfHwgUHJvZ3JhbS5kZWZhdWx0VmVydGV4U3JjO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGZyYWdtZW50IHNoYWRlci5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgKi9cbiAgICB0aGlzLmZyYWdtZW50U3JjID0gZnJhZ21lbnRTcmMgfHwgUHJvZ3JhbS5kZWZhdWx0RnJhZ21lbnRTcmM7XG5cbiAgICB0aGlzLnZlcnRleFNyYyA9IHRoaXMudmVydGV4U3JjLnRyaW0oKTtcbiAgICB0aGlzLmZyYWdtZW50U3JjID0gdGhpcy5mcmFnbWVudFNyYy50cmltKCk7XG5cbiAgICBpZiAodGhpcy52ZXJ0ZXhTcmMuc3Vic3RyaW5nKDAsIDgpICE9PSAnI3ZlcnNpb24nKVxuICAgIHtcbiAgICAgICAgbmFtZSA9IG5hbWUucmVwbGFjZSgvXFxzKy9nLCAnLScpO1xuXG4gICAgICAgIGlmIChuYW1lQ2FjaGVbbmFtZV0pXG4gICAgICAgIHtcbiAgICAgICAgICAgIG5hbWVDYWNoZVtuYW1lXSsrO1xuICAgICAgICAgICAgbmFtZSArPSBcIi1cIiArIChuYW1lQ2FjaGVbbmFtZV0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgbmFtZUNhY2hlW25hbWVdID0gMTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMudmVydGV4U3JjID0gXCIjZGVmaW5lIFNIQURFUl9OQU1FIFwiICsgbmFtZSArIFwiXFxuXCIgKyAodGhpcy52ZXJ0ZXhTcmMpO1xuICAgICAgICB0aGlzLmZyYWdtZW50U3JjID0gXCIjZGVmaW5lIFNIQURFUl9OQU1FIFwiICsgbmFtZSArIFwiXFxuXCIgKyAodGhpcy5mcmFnbWVudFNyYyk7XG5cbiAgICAgICAgdGhpcy52ZXJ0ZXhTcmMgPSBzZXRQcmVjaXNpb24odGhpcy52ZXJ0ZXhTcmMsIHNldHRpbmdzLlBSRUNJU0lPTl9WRVJURVgsIFBSRUNJU0lPTi5ISUdIKTtcbiAgICAgICAgdGhpcy5mcmFnbWVudFNyYyA9IHNldFByZWNpc2lvbih0aGlzLmZyYWdtZW50U3JjLCBzZXR0aW5ncy5QUkVDSVNJT05fRlJBR01FTlQsIGdldE1heEZyYWdtZW50UHJlY2lzaW9uKCkpO1xuICAgIH1cblxuICAgIC8vIGN1cnJlbnRseSB0aGlzIGRvZXMgbm90IGV4dHJhY3Qgc3RydWN0cyBvbmx5IGRlZmF1bHQgdHlwZXNcbiAgICB0aGlzLmV4dHJhY3REYXRhKHRoaXMudmVydGV4U3JjLCB0aGlzLmZyYWdtZW50U3JjKTtcblxuICAgIC8vIHRoaXMgaXMgd2hlcmUgd2Ugc3RvcmUgc2hhZGVyIHJlZmVyZW5jZXMuLlxuICAgIHRoaXMuZ2xQcm9ncmFtcyA9IHt9O1xuXG4gICAgdGhpcy5zeW5jVW5pZm9ybXMgPSBudWxsO1xufTtcblxudmFyIHN0YXRpY0FjY2Vzc29ycyA9IHsgZGVmYXVsdFZlcnRleFNyYzogeyBjb25maWd1cmFibGU6IHRydWUgfSxkZWZhdWx0RnJhZ21lbnRTcmM6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0gfTtcblxuLyoqXG4gKiBFeHRyYWN0cyB0aGUgZGF0YSBmb3IgYSBidXkgY3JlYXRpbmcgYSBzbWFsbCB0ZXN0IHByb2dyYW1cbiAqIG9yIHJlYWRpbmcgdGhlIHNyYyBkaXJlY3RseS5cbiAqIEBwcm90ZWN0ZWRcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gW3ZlcnRleFNyY10gLSBUaGUgc291cmNlIG9mIHRoZSB2ZXJ0ZXggc2hhZGVyLlxuICogQHBhcmFtIHtzdHJpbmd9IFtmcmFnbWVudFNyY10gLSBUaGUgc291cmNlIG9mIHRoZSBmcmFnbWVudCBzaGFkZXIuXG4gKi9cblByb2dyYW0ucHJvdG90eXBlLmV4dHJhY3REYXRhID0gZnVuY3Rpb24gZXh0cmFjdERhdGEgKHZlcnRleFNyYywgZnJhZ21lbnRTcmMpXG57XG4gICAgdmFyIGdsID0gZ2V0VGVzdENvbnRleHQoKTtcblxuICAgIGlmIChnbClcbiAgICB7XG4gICAgICAgIHZhciBwcm9ncmFtID0gY29tcGlsZVByb2dyYW0oZ2wsIHZlcnRleFNyYywgZnJhZ21lbnRTcmMpO1xuXG4gICAgICAgIHRoaXMuYXR0cmlidXRlRGF0YSA9IHRoaXMuZ2V0QXR0cmlidXRlRGF0YShwcm9ncmFtLCBnbCk7XG4gICAgICAgIHRoaXMudW5pZm9ybURhdGEgPSB0aGlzLmdldFVuaWZvcm1EYXRhKHByb2dyYW0sIGdsKTtcblxuICAgICAgICBnbC5kZWxldGVQcm9ncmFtKHByb2dyYW0pO1xuICAgIH1cbiAgICBlbHNlXG4gICAge1xuICAgICAgICB0aGlzLnVuaWZvcm1EYXRhID0ge307XG4gICAgICAgIHRoaXMuYXR0cmlidXRlRGF0YSA9IHt9O1xuICAgIH1cbn07XG5cbi8qKlxuICogcmV0dXJucyB0aGUgYXR0cmlidXRlIGRhdGEgZnJvbSB0aGUgcHJvZ3JhbVxuICogQHByaXZhdGVcbiAqXG4gKiBAcGFyYW0ge1dlYkdMUHJvZ3JhbX0gW3Byb2dyYW1dIC0gdGhlIFdlYkdMIHByb2dyYW1cbiAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBbZ2xdIC0gdGhlIFdlYkdMIGNvbnRleHRcbiAqXG4gKiBAcmV0dXJucyB7b2JqZWN0fSB0aGUgYXR0cmlidXRlIGRhdGEgZm9yIHRoaXMgcHJvZ3JhbVxuICovXG5Qcm9ncmFtLnByb3RvdHlwZS5nZXRBdHRyaWJ1dGVEYXRhID0gZnVuY3Rpb24gZ2V0QXR0cmlidXRlRGF0YSAocHJvZ3JhbSwgZ2wpXG57XG4gICAgdmFyIGF0dHJpYnV0ZXMgPSB7fTtcbiAgICB2YXIgYXR0cmlidXRlc0FycmF5ID0gW107XG5cbiAgICB2YXIgdG90YWxBdHRyaWJ1dGVzID0gZ2wuZ2V0UHJvZ3JhbVBhcmFtZXRlcihwcm9ncmFtLCBnbC5BQ1RJVkVfQVRUUklCVVRFUyk7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRvdGFsQXR0cmlidXRlczsgaSsrKVxuICAgIHtcbiAgICAgICAgdmFyIGF0dHJpYkRhdGEgPSBnbC5nZXRBY3RpdmVBdHRyaWIocHJvZ3JhbSwgaSk7XG4gICAgICAgIHZhciB0eXBlID0gbWFwVHlwZShnbCwgYXR0cmliRGF0YS50eXBlKTtcblxuICAgICAgICAvKmVzbGludC1kaXNhYmxlICovXG4gICAgICAgIHZhciBkYXRhID0ge1xuICAgICAgICAgICAgdHlwZTogdHlwZSxcbiAgICAgICAgICAgIG5hbWU6IGF0dHJpYkRhdGEubmFtZSxcbiAgICAgICAgICAgIHNpemU6IG1hcFNpemUodHlwZSksXG4gICAgICAgICAgICBsb2NhdGlvbjogMCxcbiAgICAgICAgfTtcbiAgICAgICAgLyogZXNsaW50LWVuYWJsZSAqL1xuXG4gICAgICAgIGF0dHJpYnV0ZXNbYXR0cmliRGF0YS5uYW1lXSA9IGRhdGE7XG4gICAgICAgIGF0dHJpYnV0ZXNBcnJheS5wdXNoKGRhdGEpO1xuICAgIH1cblxuICAgIGF0dHJpYnV0ZXNBcnJheS5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7IHJldHVybiAoYS5uYW1lID4gYi5uYW1lKSA/IDEgOiAtMTsgfSk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tY29uZnVzaW5nLWFycm93XG5cbiAgICBmb3IgKHZhciBpJDEgPSAwOyBpJDEgPCBhdHRyaWJ1dGVzQXJyYXkubGVuZ3RoOyBpJDErKylcbiAgICB7XG4gICAgICAgIGF0dHJpYnV0ZXNBcnJheVtpJDFdLmxvY2F0aW9uID0gaSQxO1xuICAgIH1cblxuICAgIHJldHVybiBhdHRyaWJ1dGVzO1xufTtcblxuLyoqXG4gKiByZXR1cm5zIHRoZSB1bmlmb3JtIGRhdGEgZnJvbSB0aGUgcHJvZ3JhbVxuICogQHByaXZhdGVcbiAqXG4gKiBAcGFyYW0ge3dlYkdMLXByb2dyYW19IFtwcm9ncmFtXSAtIHRoZSB3ZWJnbCBwcm9ncmFtXG4gKiBAcGFyYW0ge2NvbnRleHR9IFtnbF0gLSB0aGUgV2ViR0wgY29udGV4dFxuICpcbiAqIEByZXR1cm5zIHtvYmplY3R9IHRoZSB1bmlmb3JtIGRhdGEgZm9yIHRoaXMgcHJvZ3JhbVxuICovXG5Qcm9ncmFtLnByb3RvdHlwZS5nZXRVbmlmb3JtRGF0YSA9IGZ1bmN0aW9uIGdldFVuaWZvcm1EYXRhIChwcm9ncmFtLCBnbClcbntcbiAgICB2YXIgdW5pZm9ybXMgPSB7fTtcblxuICAgIHZhciB0b3RhbFVuaWZvcm1zID0gZ2wuZ2V0UHJvZ3JhbVBhcmFtZXRlcihwcm9ncmFtLCBnbC5BQ1RJVkVfVU5JRk9STVMpO1xuXG4gICAgLy8gVE9ETyBleHBvc2UgdGhpcyBhcyBhIHByb3A/XG4gICAgLy8gY29uc3QgbWFza1JlZ2V4ID0gbmV3IFJlZ0V4cCgnXihwcm9qZWN0aW9uTWF0cml4fHVTYW1wbGVyfHRyYW5zbGF0aW9uTWF0cml4KSQnKTtcbiAgICAvLyBjb25zdCBtYXNrUmVnZXggPSBuZXcgUmVnRXhwKCdeKHByb2plY3Rpb25NYXRyaXh8dVNhbXBsZXJ8dHJhbnNsYXRpb25NYXRyaXgpJCcpO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0b3RhbFVuaWZvcm1zOyBpKyspXG4gICAge1xuICAgICAgICB2YXIgdW5pZm9ybURhdGEgPSBnbC5nZXRBY3RpdmVVbmlmb3JtKHByb2dyYW0sIGkpO1xuICAgICAgICB2YXIgbmFtZSA9IHVuaWZvcm1EYXRhLm5hbWUucmVwbGFjZSgvXFxbLio/XFxdLywgJycpO1xuXG4gICAgICAgIHZhciBpc0FycmF5ID0gdW5pZm9ybURhdGEubmFtZS5tYXRjaCgvXFxbLio/XFxdLywgJycpO1xuICAgICAgICB2YXIgdHlwZSA9IG1hcFR5cGUoZ2wsIHVuaWZvcm1EYXRhLnR5cGUpO1xuXG4gICAgICAgIC8qZXNsaW50LWRpc2FibGUgKi9cbiAgICAgICAgdW5pZm9ybXNbbmFtZV0gPSB7XG4gICAgICAgICAgICB0eXBlOiB0eXBlLFxuICAgICAgICAgICAgc2l6ZTogdW5pZm9ybURhdGEuc2l6ZSxcbiAgICAgICAgICAgIGlzQXJyYXk6aXNBcnJheSxcbiAgICAgICAgICAgIHZhbHVlOiBkZWZhdWx0VmFsdWUodHlwZSwgdW5pZm9ybURhdGEuc2l6ZSksXG4gICAgICAgIH07XG4gICAgICAgIC8qIGVzbGludC1lbmFibGUgKi9cbiAgICB9XG5cbiAgICByZXR1cm4gdW5pZm9ybXM7XG59O1xuXG4vKipcbiAqIFRoZSBkZWZhdWx0IHZlcnRleCBzaGFkZXIgc291cmNlXG4gKlxuICogQHN0YXRpY1xuICogQGNvbnN0YW50XG4gKiBAbWVtYmVyIHtzdHJpbmd9XG4gKi9cbnN0YXRpY0FjY2Vzc29ycy5kZWZhdWx0VmVydGV4U3JjLmdldCA9IGZ1bmN0aW9uICgpXG57XG4gICAgcmV0dXJuIGRlZmF1bHRWZXJ0ZXg7XG59O1xuXG4vKipcbiAqIFRoZSBkZWZhdWx0IGZyYWdtZW50IHNoYWRlciBzb3VyY2VcbiAqXG4gKiBAc3RhdGljXG4gKiBAY29uc3RhbnRcbiAqIEBtZW1iZXIge3N0cmluZ31cbiAqL1xuc3RhdGljQWNjZXNzb3JzLmRlZmF1bHRGcmFnbWVudFNyYy5nZXQgPSBmdW5jdGlvbiAoKVxue1xuICAgIHJldHVybiBkZWZhdWx0RnJhZ21lbnQ7XG59O1xuXG4vKipcbiAqIEEgc2hvcnQgaGFuZCBmdW5jdGlvbiB0byBjcmVhdGUgYSBwcm9ncmFtIGJhc2VkIG9mIGEgdmVydGV4IGFuZCBmcmFnbWVudCBzaGFkZXJcbiAqIHRoaXMgbWV0aG9kIHdpbGwgYWxzbyBjaGVjayB0byBzZWUgaWYgdGhlcmUgaXMgYSBjYWNoZWQgcHJvZ3JhbS5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gW3ZlcnRleFNyY10gLSBUaGUgc291cmNlIG9mIHRoZSB2ZXJ0ZXggc2hhZGVyLlxuICogQHBhcmFtIHtzdHJpbmd9IFtmcmFnbWVudFNyY10gLSBUaGUgc291cmNlIG9mIHRoZSBmcmFnbWVudCBzaGFkZXIuXG4gKiBAcGFyYW0ge3N0cmluZ30gW25hbWU9cGl4aS1zaGFkZXJdIC0gTmFtZSBmb3Igc2hhZGVyXG4gKlxuICogQHJldHVybnMge1BJWEkuUHJvZ3JhbX0gYW4gc2hpbnkgbmV3IFBpeGkgc2hhZGVyIVxuICovXG5Qcm9ncmFtLmZyb20gPSBmdW5jdGlvbiBmcm9tICh2ZXJ0ZXhTcmMsIGZyYWdtZW50U3JjLCBuYW1lKVxue1xuICAgIHZhciBrZXkgPSB2ZXJ0ZXhTcmMgKyBmcmFnbWVudFNyYztcblxuICAgIHZhciBwcm9ncmFtID0gUHJvZ3JhbUNhY2hlW2tleV07XG5cbiAgICBpZiAoIXByb2dyYW0pXG4gICAge1xuICAgICAgICBQcm9ncmFtQ2FjaGVba2V5XSA9IHByb2dyYW0gPSBuZXcgUHJvZ3JhbSh2ZXJ0ZXhTcmMsIGZyYWdtZW50U3JjLCBuYW1lKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcHJvZ3JhbTtcbn07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKCBQcm9ncmFtLCBzdGF0aWNBY2Nlc3NvcnMgKTtcblxuLyoqXG4gKiBBIGhlbHBlciBjbGFzcyBmb3Igc2hhZGVyc1xuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFNoYWRlciA9IGZ1bmN0aW9uIFNoYWRlcihwcm9ncmFtLCB1bmlmb3JtcylcbntcbiAgICAvKipcbiAgICAgKiBQcm9ncmFtIHRoYXQgdGhlIHNoYWRlciB1c2VzXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLlByb2dyYW19XG4gICAgICovXG4gICAgdGhpcy5wcm9ncmFtID0gcHJvZ3JhbTtcblxuICAgIC8vIGxldHMgc2VlIHdoYXRzIGJlZW4gcGFzc2VkIGluXG4gICAgLy8gdW5pZm9ybXMgc2hvdWxkIGJlIGNvbnZlcnRlZCB0byBhIHVuaWZvcm0gZ3JvdXBcbiAgICBpZiAodW5pZm9ybXMpXG4gICAge1xuICAgICAgICBpZiAodW5pZm9ybXMgaW5zdGFuY2VvZiBVbmlmb3JtR3JvdXApXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudW5pZm9ybUdyb3VwID0gdW5pZm9ybXM7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnVuaWZvcm1Hcm91cCA9IG5ldyBVbmlmb3JtR3JvdXAodW5pZm9ybXMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2VcbiAgICB7XG4gICAgICAgIHRoaXMudW5pZm9ybUdyb3VwID0gbmV3IFVuaWZvcm1Hcm91cCh7fSk7XG4gICAgfVxuXG4gICAgLy8gdGltZSB0byBidWlsZCBzb21lIGdldHRlcnMgYW5kIHNldHRlcnMhXG4gICAgLy8gSSBndWVzcyBkb3duIHRoZSBsaW5lIHRoaXMgY291bGQgc29ydCBvZiBnZW5lcmF0ZSBhbiBpbnN0cnVjdGlvbiBsaXN0IHJhdGhlciB0aGFuIHVzZSBkaXJ0eSBpZHM/XG4gICAgLy8gZG9lcyB0aGUgdHJpY2sgZm9yIG5vdyB0aG91Z2ghXG4gICAgZm9yICh2YXIgaSBpbiBwcm9ncmFtLnVuaWZvcm1EYXRhKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMudW5pZm9ybUdyb3VwLnVuaWZvcm1zW2ldIGluc3RhbmNlb2YgQXJyYXkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudW5pZm9ybUdyb3VwLnVuaWZvcm1zW2ldID0gbmV3IEZsb2F0MzJBcnJheSh0aGlzLnVuaWZvcm1Hcm91cC51bmlmb3Jtc1tpXSk7XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG52YXIgcHJvdG90eXBlQWNjZXNzb3JzJDIgPSB7IHVuaWZvcm1zOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH07XG5cbi8vIFRPRE8gbW92ZSB0byBzaGFkZXIgc3lzdGVtLi5cblNoYWRlci5wcm90b3R5cGUuY2hlY2tVbmlmb3JtRXhpc3RzID0gZnVuY3Rpb24gY2hlY2tVbmlmb3JtRXhpc3RzIChuYW1lLCBncm91cClcbntcbiAgICBpZiAoZ3JvdXAudW5pZm9ybXNbbmFtZV0pXG4gICAge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBmb3IgKHZhciBpIGluIGdyb3VwLnVuaWZvcm1zKVxuICAgIHtcbiAgICAgICAgdmFyIHVuaWZvcm0gPSBncm91cC51bmlmb3Jtc1tpXTtcblxuICAgICAgICBpZiAodW5pZm9ybS5ncm91cClcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMuY2hlY2tVbmlmb3JtRXhpc3RzKG5hbWUsIHVuaWZvcm0pKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xufTtcblxuU2hhZGVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSAoKVxue1xuICAgIC8vIHVzYWdlIGNvdW50IG9uIHByb2dyYW1zP1xuICAgIC8vIHJlbW92ZSBpZiBub3QgdXNlZCFcbiAgICB0aGlzLnVuaWZvcm1Hcm91cCA9IG51bGw7XG59O1xuXG4vKipcbiAqIFNoYWRlciB1bmlmb3JtIHZhbHVlcywgc2hvcnRjdXQgZm9yIGB1bmlmb3JtR3JvdXAudW5pZm9ybXNgXG4gKiBAcmVhZG9ubHlcbiAqIEBtZW1iZXIge29iamVjdH1cbiAqL1xucHJvdG90eXBlQWNjZXNzb3JzJDIudW5pZm9ybXMuZ2V0ID0gZnVuY3Rpb24gKClcbntcbiAgICByZXR1cm4gdGhpcy51bmlmb3JtR3JvdXAudW5pZm9ybXM7XG59O1xuXG4vKipcbiAqIEEgc2hvcnQgaGFuZCBmdW5jdGlvbiB0byBjcmVhdGUgYSBzaGFkZXIgYmFzZWQgb2YgYSB2ZXJ0ZXggYW5kIGZyYWdtZW50IHNoYWRlclxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBbdmVydGV4U3JjXSAtIFRoZSBzb3VyY2Ugb2YgdGhlIHZlcnRleCBzaGFkZXIuXG4gKiBAcGFyYW0ge3N0cmluZ30gW2ZyYWdtZW50U3JjXSAtIFRoZSBzb3VyY2Ugb2YgdGhlIGZyYWdtZW50IHNoYWRlci5cbiAqIEBwYXJhbSB7b2JqZWN0fSBbdW5pZm9ybXNdIC0gQ3VzdG9tIHVuaWZvcm1zIHRvIHVzZSB0byBhdWdtZW50IHRoZSBidWlsdC1pbiBvbmVzLlxuICpcbiAqIEByZXR1cm5zIHtQSVhJLlNoYWRlcn0gYW4gc2hpbnkgbmV3IFBpeGkgc2hhZGVyIVxuICovXG5TaGFkZXIuZnJvbSA9IGZ1bmN0aW9uIGZyb20gKHZlcnRleFNyYywgZnJhZ21lbnRTcmMsIHVuaWZvcm1zKVxue1xuICAgIHZhciBwcm9ncmFtID0gUHJvZ3JhbS5mcm9tKHZlcnRleFNyYywgZnJhZ21lbnRTcmMpO1xuXG4gICAgcmV0dXJuIG5ldyBTaGFkZXIocHJvZ3JhbSwgdW5pZm9ybXMpO1xufTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoIFNoYWRlci5wcm90b3R5cGUsIHByb3RvdHlwZUFjY2Vzc29ycyQyICk7XG5cbi8qIGVzbGludC1kaXNhYmxlIG1heC1sZW4gKi9cblxudmFyIEJMRU5EID0gMDtcbnZhciBPRkZTRVQgPSAxO1xudmFyIENVTExJTkcgPSAyO1xudmFyIERFUFRIX1RFU1QgPSAzO1xudmFyIFdJTkRJTkcgPSA0O1xuXG4vKipcbiAqIFRoaXMgaXMgYSBXZWJHTCBzdGF0ZSwgYW5kIGlzIGlzIHBhc3NlZCBUaGUgV2ViR0wgU3RhdGVNYW5hZ2VyLlxuICpcbiAqIEVhY2ggbWVzaCByZW5kZXJlZCBtYXkgcmVxdWlyZSBXZWJHTCB0byBiZSBpbiBhIGRpZmZlcmVudCBzdGF0ZS5cbiAqIEZvciBleGFtcGxlIHlvdSBtYXkgd2FudCBkaWZmZXJlbnQgYmxlbmQgbW9kZSBvciB0byBlbmFibGUgcG9seWdvbiBvZmZzZXRzXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgU3RhdGUgPSBmdW5jdGlvbiBTdGF0ZSgpXG57XG4gICAgdGhpcy5kYXRhID0gMDtcblxuICAgIHRoaXMuYmxlbmRNb2RlID0gQkxFTkRfTU9ERVMuTk9STUFMO1xuICAgIHRoaXMucG9seWdvbk9mZnNldCA9IDA7XG5cbiAgICB0aGlzLmJsZW5kID0gdHJ1ZTtcbiAgICAvLyAgdGhpcy5kZXB0aFRlc3QgPSB0cnVlO1xufTtcblxudmFyIHByb3RvdHlwZUFjY2Vzc29ycyQzID0geyBibGVuZDogeyBjb25maWd1cmFibGU6IHRydWUgfSxvZmZzZXRzOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LGN1bGxpbmc6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sZGVwdGhUZXN0OiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LGNsb2Nrd2lzZUZyb250RmFjZTogeyBjb25maWd1cmFibGU6IHRydWUgfSxibGVuZE1vZGU6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0scG9seWdvbk9mZnNldDogeyBjb25maWd1cmFibGU6IHRydWUgfSB9O1xuXG4vKipcbiAqIEFjdGl2YXRlcyBibGVuZGluZyBvZiB0aGUgY29tcHV0ZWQgZnJhZ21lbnQgY29sb3IgdmFsdWVzXG4gKlxuICogQG1lbWJlciB7Ym9vbGVhbn1cbiAqL1xucHJvdG90eXBlQWNjZXNzb3JzJDMuYmxlbmQuZ2V0ID0gZnVuY3Rpb24gKClcbntcbiAgICByZXR1cm4gISEodGhpcy5kYXRhICYgKDEgPDwgQkxFTkQpKTtcbn07XG5cbnByb3RvdHlwZUFjY2Vzc29ycyQzLmJsZW5kLnNldCA9IGZ1bmN0aW9uICh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG57XG4gICAgaWYgKCEhKHRoaXMuZGF0YSAmICgxIDw8IEJMRU5EKSkgIT09IHZhbHVlKVxuICAgIHtcbiAgICAgICAgdGhpcy5kYXRhIF49ICgxIDw8IEJMRU5EKTtcbiAgICB9XG59O1xuXG4vKipcbiAqIEFjdGl2YXRlcyBhZGRpbmcgYW4gb2Zmc2V0IHRvIGRlcHRoIHZhbHVlcyBvZiBwb2x5Z29uJ3MgZnJhZ21lbnRzXG4gKlxuICogQG1lbWJlciB7Ym9vbGVhbn1cbiAqIEBkZWZhdWx0IGZhbHNlXG4gKi9cbnByb3RvdHlwZUFjY2Vzc29ycyQzLm9mZnNldHMuZ2V0ID0gZnVuY3Rpb24gKClcbntcbiAgICByZXR1cm4gISEodGhpcy5kYXRhICYgKDEgPDwgT0ZGU0VUKSk7XG59O1xuXG5wcm90b3R5cGVBY2Nlc3NvcnMkMy5vZmZzZXRzLnNldCA9IGZ1bmN0aW9uICh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG57XG4gICAgaWYgKCEhKHRoaXMuZGF0YSAmICgxIDw8IE9GRlNFVCkpICE9PSB2YWx1ZSlcbiAgICB7XG4gICAgICAgIHRoaXMuZGF0YSBePSAoMSA8PCBPRkZTRVQpO1xuICAgIH1cbn07XG5cbi8qKlxuICogQWN0aXZhdGVzIGN1bGxpbmcgb2YgcG9seWdvbnMuXG4gKlxuICogQG1lbWJlciB7Ym9vbGVhbn1cbiAqIEBkZWZhdWx0IGZhbHNlXG4gKi9cbnByb3RvdHlwZUFjY2Vzc29ycyQzLmN1bGxpbmcuZ2V0ID0gZnVuY3Rpb24gKClcbntcbiAgICByZXR1cm4gISEodGhpcy5kYXRhICYgKDEgPDwgQ1VMTElORykpO1xufTtcblxucHJvdG90eXBlQWNjZXNzb3JzJDMuY3VsbGluZy5zZXQgPSBmdW5jdGlvbiAodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xue1xuICAgIGlmICghISh0aGlzLmRhdGEgJiAoMSA8PCBDVUxMSU5HKSkgIT09IHZhbHVlKVxuICAgIHtcbiAgICAgICAgdGhpcy5kYXRhIF49ICgxIDw8IENVTExJTkcpO1xuICAgIH1cbn07XG5cbi8qKlxuICogQWN0aXZhdGVzIGRlcHRoIGNvbXBhcmlzb25zIGFuZCB1cGRhdGVzIHRvIHRoZSBkZXB0aCBidWZmZXIuXG4gKlxuICogQG1lbWJlciB7Ym9vbGVhbn1cbiAqIEBkZWZhdWx0IGZhbHNlXG4gKi9cbnByb3RvdHlwZUFjY2Vzc29ycyQzLmRlcHRoVGVzdC5nZXQgPSBmdW5jdGlvbiAoKVxue1xuICAgIHJldHVybiAhISh0aGlzLmRhdGEgJiAoMSA8PCBERVBUSF9URVNUKSk7XG59O1xuXG5wcm90b3R5cGVBY2Nlc3NvcnMkMy5kZXB0aFRlc3Quc2V0ID0gZnVuY3Rpb24gKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbntcbiAgICBpZiAoISEodGhpcy5kYXRhICYgKDEgPDwgREVQVEhfVEVTVCkpICE9PSB2YWx1ZSlcbiAgICB7XG4gICAgICAgIHRoaXMuZGF0YSBePSAoMSA8PCBERVBUSF9URVNUKTtcbiAgICB9XG59O1xuXG4vKipcbiAqIFNwZWNpZmllcyB3aGV0aGVyIG9yIG5vdCBmcm9udCBvciBiYWNrLWZhY2luZyBwb2x5Z29ucyBjYW4gYmUgY3VsbGVkLlxuICogQG1lbWJlciB7Ym9vbGVhbn1cbiAqIEBkZWZhdWx0IGZhbHNlXG4gKi9cbnByb3RvdHlwZUFjY2Vzc29ycyQzLmNsb2Nrd2lzZUZyb250RmFjZS5nZXQgPSBmdW5jdGlvbiAoKVxue1xuICAgIHJldHVybiAhISh0aGlzLmRhdGEgJiAoMSA8PCBXSU5ESU5HKSk7XG59O1xuXG5wcm90b3R5cGVBY2Nlc3NvcnMkMy5jbG9ja3dpc2VGcm9udEZhY2Uuc2V0ID0gZnVuY3Rpb24gKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbntcbiAgICBpZiAoISEodGhpcy5kYXRhICYgKDEgPDwgV0lORElORykpICE9PSB2YWx1ZSlcbiAgICB7XG4gICAgICAgIHRoaXMuZGF0YSBePSAoMSA8PCBXSU5ESU5HKTtcbiAgICB9XG59O1xuXG4vKipcbiAqIFRoZSBibGVuZCBtb2RlIHRvIGJlIGFwcGxpZWQgd2hlbiB0aGlzIHN0YXRlIGlzIHNldC4gQXBwbHkgYSB2YWx1ZSBvZiBgUElYSS5CTEVORF9NT0RFUy5OT1JNQUxgIHRvIHJlc2V0IHRoZSBibGVuZCBtb2RlLlxuICogU2V0dGluZyB0aGlzIG1vZGUgdG8gYW55dGhpbmcgb3RoZXIgdGhhbiBOT19CTEVORCB3aWxsIGF1dG9tYXRpY2FsbHkgc3dpdGNoIGJsZW5kaW5nIG9uLlxuICpcbiAqIEBtZW1iZXIge251bWJlcn1cbiAqIEBkZWZhdWx0IFBJWEkuQkxFTkRfTU9ERVMuTk9STUFMXG4gKiBAc2VlIFBJWEkuQkxFTkRfTU9ERVNcbiAqL1xucHJvdG90eXBlQWNjZXNzb3JzJDMuYmxlbmRNb2RlLmdldCA9IGZ1bmN0aW9uICgpXG57XG4gICAgcmV0dXJuIHRoaXMuX2JsZW5kTW9kZTtcbn07XG5cbnByb3RvdHlwZUFjY2Vzc29ycyQzLmJsZW5kTW9kZS5zZXQgPSBmdW5jdGlvbiAodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xue1xuICAgIHRoaXMuYmxlbmQgPSAodmFsdWUgIT09IEJMRU5EX01PREVTLk5PTkUpO1xuICAgIHRoaXMuX2JsZW5kTW9kZSA9IHZhbHVlO1xufTtcblxuLyoqXG4gKiBUaGUgcG9seWdvbiBvZmZzZXQuIFNldHRpbmcgdGhpcyBwcm9wZXJ0eSB0byBhbnl0aGluZyBvdGhlciB0aGFuIDAgd2lsbCBhdXRvbWF0aWNhbGx5IGVuYWJsZSBwb2x5Z29uIG9mZnNldCBmaWxsLlxuICpcbiAqIEBtZW1iZXIge251bWJlcn1cbiAqIEBkZWZhdWx0IDBcbiAqL1xucHJvdG90eXBlQWNjZXNzb3JzJDMucG9seWdvbk9mZnNldC5nZXQgPSBmdW5jdGlvbiAoKVxue1xuICAgIHJldHVybiB0aGlzLl9wb2x5Z29uT2Zmc2V0O1xufTtcblxucHJvdG90eXBlQWNjZXNzb3JzJDMucG9seWdvbk9mZnNldC5zZXQgPSBmdW5jdGlvbiAodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xue1xuICAgIHRoaXMub2Zmc2V0cyA9ICEhdmFsdWU7XG4gICAgdGhpcy5fcG9seWdvbk9mZnNldCA9IHZhbHVlO1xufTtcblxuU3RhdGUuZm9yMmQgPSBmdW5jdGlvbiBmb3IyZCAoKVxue1xuICAgIHZhciBzdGF0ZSA9IG5ldyBTdGF0ZSgpO1xuXG4gICAgc3RhdGUuZGVwdGhUZXN0ID0gZmFsc2U7XG4gICAgc3RhdGUuYmxlbmQgPSB0cnVlO1xuXG4gICAgcmV0dXJuIHN0YXRlO1xufTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoIFN0YXRlLnByb3RvdHlwZSwgcHJvdG90eXBlQWNjZXNzb3JzJDMgKTtcblxudmFyIGRlZmF1bHRWZXJ0ZXgkMSA9IFwiYXR0cmlidXRlIHZlYzIgYVZlcnRleFBvc2l0aW9uO1xcblxcbnVuaWZvcm0gbWF0MyBwcm9qZWN0aW9uTWF0cml4O1xcblxcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcblxcbnVuaWZvcm0gdmVjNCBpbnB1dFNpemU7XFxudW5pZm9ybSB2ZWM0IG91dHB1dEZyYW1lO1xcblxcbnZlYzQgZmlsdGVyVmVydGV4UG9zaXRpb24oIHZvaWQgKVxcbntcXG4gICAgdmVjMiBwb3NpdGlvbiA9IGFWZXJ0ZXhQb3NpdGlvbiAqIG1heChvdXRwdXRGcmFtZS56dywgdmVjMigwLikpICsgb3V0cHV0RnJhbWUueHk7XFxuXFxuICAgIHJldHVybiB2ZWM0KChwcm9qZWN0aW9uTWF0cml4ICogdmVjMyhwb3NpdGlvbiwgMS4wKSkueHksIDAuMCwgMS4wKTtcXG59XFxuXFxudmVjMiBmaWx0ZXJUZXh0dXJlQ29vcmQoIHZvaWQgKVxcbntcXG4gICAgcmV0dXJuIGFWZXJ0ZXhQb3NpdGlvbiAqIChvdXRwdXRGcmFtZS56dyAqIGlucHV0U2l6ZS56dyk7XFxufVxcblxcbnZvaWQgbWFpbih2b2lkKVxcbntcXG4gICAgZ2xfUG9zaXRpb24gPSBmaWx0ZXJWZXJ0ZXhQb3NpdGlvbigpO1xcbiAgICB2VGV4dHVyZUNvb3JkID0gZmlsdGVyVGV4dHVyZUNvb3JkKCk7XFxufVxcblwiO1xuXG52YXIgZGVmYXVsdEZyYWdtZW50JDEgPSBcInZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcblxcbnVuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyO1xcblxcbnZvaWQgbWFpbih2b2lkKXtcXG4gICBnbF9GcmFnQ29sb3IgPSB0ZXh0dXJlMkQodVNhbXBsZXIsIHZUZXh0dXJlQ29vcmQpO1xcbn1cXG5cIjtcblxuLyoqXG4gKiBGaWx0ZXIgaXMgYSBzcGVjaWFsIHR5cGUgb2YgV2ViR0wgc2hhZGVyIHRoYXQgaXMgYXBwbGllZCB0byB0aGUgc2NyZWVuLlxuICpcbiAqIHtAbGluayBodHRwOi8vcGl4aWpzLmlvL2V4YW1wbGVzLyMvZmlsdGVycy9ibHVyLWZpbHRlci5qcyBFeGFtcGxlfSBvZiB0aGVcbiAqIHtAbGluayBQSVhJLmZpbHRlcnMuQmx1ckZpbHRlciBCbHVyRmlsdGVyfS5cbiAqXG4gKiAjIyMgVXNhZ2VcbiAqIEZpbHRlcnMgY2FuIGJlIGFwcGxpZWQgdG8gYW55IERpc3BsYXlPYmplY3Qgb3IgQ29udGFpbmVyLlxuICogUGl4aUpTJyBgRmlsdGVyU3lzdGVtYCByZW5kZXJzIHRoZSBjb250YWluZXIgaW50byB0ZW1wb3JhcnkgRnJhbWVidWZmZXIsXG4gKiB0aGVuIGZpbHRlciByZW5kZXJzIGl0IHRvIHRoZSBzY3JlZW4uXG4gKiBNdWx0aXBsZSBmaWx0ZXJzIGNhbiBiZSBhZGRlZCB0byB0aGUgYGZpbHRlcnNgIGFycmF5IHByb3BlcnR5IGFuZCBzdGFja2VkIG9uIGVhY2ggb3RoZXIuXG4gKlxuICogYGBgXG4gKiBjb25zdCBmaWx0ZXIgPSBuZXcgUElYSS5GaWx0ZXIobXlTaGFkZXJWZXJ0LCBteVNoYWRlckZyYWcsIHsgbXlVbmlmb3JtOiAwLjUgfSk7XG4gKiBjb25zdCBjb250YWluZXIgPSBuZXcgUElYSS5Db250YWluZXIoKTtcbiAqIGNvbnRhaW5lci5maWx0ZXJzID0gW2ZpbHRlcl07XG4gKiBgYGBcbiAqXG4gKiAjIyMgUHJldmlvdXMgVmVyc2lvbiBEaWZmZXJlbmNlc1xuICpcbiAqIEluIFBpeGlKUyAqKnYzKiosIGEgZmlsdGVyIHdhcyBhbHdheXMgYXBwbGllZCB0byBfd2hvbGUgc2NyZWVuXy5cbiAqXG4gKiBJbiBQaXhpSlMgKip2NCoqLCBhIGZpbHRlciBjYW4gYmUgYXBwbGllZCBfb25seSBwYXJ0IG9mIHRoZSBzY3JlZW5fLlxuICogRGV2ZWxvcGVycyBoYWQgdG8gY3JlYXRlIGEgc2V0IG9mIHVuaWZvcm1zIHRvIGRlYWwgd2l0aCBjb29yZGluYXRlcy5cbiAqXG4gKiBJbiBQaXhpSlMgKip2NSoqIGNvbWJpbmVzIF9ib3RoIGFwcHJvYWNoZXNfLlxuICogRGV2ZWxvcGVycyBjYW4gdXNlIG5vcm1hbCBjb29yZGluYXRlcyBvZiB2MyBhbmQgdGhlbiBhbGxvdyBmaWx0ZXIgdG8gdXNlIHBhcnRpYWwgRnJhbWVidWZmZXJzLFxuICogYnJpbmdpbmcgdGhvc2UgZXh0cmEgdW5pZm9ybXMgaW50byBhY2NvdW50LlxuICpcbiAqIEFsc28gYmUgYXdhcmUgdGhhdCB3ZSBoYXZlIGNoYW5nZWQgZGVmYXVsdCB2ZXJ0ZXggc2hhZGVyLCBwbGVhc2UgY29uc3VsdFxuICoge0BsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS9waXhpanMvcGl4aS5qcy93aWtpL3Y1LUNyZWF0aW5nLWZpbHRlcnMgV2lraX0uXG4gKlxuICogIyMjIEJ1aWx0LWluIFVuaWZvcm1zXG4gKlxuICogUGl4aUpTIHZpZXdwb3J0IHVzZXMgc2NyZWVuIChDU1MpIGNvb3JkaW5hdGVzLCBgKDAsIDAsIHJlbmRlcmVyLnNjcmVlbi53aWR0aCwgcmVuZGVyZXIuc2NyZWVuLmhlaWdodClgLFxuICogYW5kIGBwcm9qZWN0aW9uTWF0cml4YCB1bmlmb3JtIG1hcHMgaXQgdG8gdGhlIGdsIHZpZXdwb3J0LlxuICpcbiAqICoqdVNhbXBsZXIqKlxuICpcbiAqIFRoZSBtb3N0IGltcG9ydGFudCB1bmlmb3JtIGlzIHRoZSBpbnB1dCB0ZXh0dXJlIHRoYXQgY29udGFpbmVyIHdhcyByZW5kZXJlZCBpbnRvLlxuICogX0ltcG9ydGFudCBub3RlOiBhcyB3aXRoIGFsbCBGcmFtZWJ1ZmZlcnMgaW4gUGl4aUpTLCBib3RoIGlucHV0IGFuZCBvdXRwdXQgYXJlXG4gKiBwcmVtdWx0aXBsaWVkIGJ5IGFscGhhLl9cbiAqXG4gKiBCeSBkZWZhdWx0LCBpbnB1dCBub3JtYWxpemVkIGNvb3JkaW5hdGVzIGFyZSBwYXNzZWQgdG8gZnJhZ21lbnQgc2hhZGVyIHdpdGggYHZUZXh0dXJlQ29vcmRgLlxuICogVXNlIGl0IHRvIHNhbXBsZSB0aGUgaW5wdXQuXG4gKlxuICogYGBgXG4gKiBjb25zdCBmcmFnbWVudCA9IGBcbiAqIHZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xuICogdW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXI7XG4gKiB2b2lkIG1haW4odm9pZClcbiAqIHtcbiAqICAgIGdsX0ZyYWdDb2xvciA9IHRleHR1cmUyRCh1U2FtcGxlciwgdlRleHR1cmVDb29yZCk7XG4gKiB9XG4gKiBgO1xuICpcbiAqIGNvbnN0IG15RmlsdGVyID0gbmV3IFBJWEkuRmlsdGVyKG51bGwsIGZyYWdtZW50KTtcbiAqIGBgYFxuICpcbiAqIFRoaXMgZmlsdGVyIGlzIGp1c3Qgb25lIHVuaWZvcm0gbGVzcyB0aGFuIHtAbGluayBQSVhJLmZpbHRlcnMuQWxwaGFGaWx0ZXIgQWxwaGFGaWx0ZXJ9LlxuICpcbiAqICoqb3V0cHV0RnJhbWUqKlxuICpcbiAqIFRoZSBgb3V0cHV0RnJhbWVgIGhvbGRzIHRoZSByZWN0YW5nbGUgd2hlcmUgZmlsdGVyIGlzIGFwcGxpZWQgaW4gc2NyZWVuIChDU1MpIGNvb3JkaW5hdGVzLlxuICogSXQncyB0aGUgc2FtZSBhcyBgcmVuZGVyZXIuc2NyZWVuYCBmb3IgYSBmdWxsc2NyZWVuIGZpbHRlci5cbiAqIE9ubHkgYSBwYXJ0IG9mICBgb3V0cHV0RnJhbWUuendgIHNpemUgb2YgdGVtcG9yYXJ5IEZyYW1lYnVmZmVyIGlzIHVzZWQsXG4gKiBgKDAsIDAsIG91dHB1dEZyYW1lLndpZHRoLCBvdXRwdXRGcmFtZS5oZWlnaHQpYCxcbiAqXG4gKiBGaWx0ZXJzIHVzZXMgdGhpcyBxdWFkIHRvIG5vcm1hbGl6ZWQgKDAtMSkgc3BhY2UsIGl0cyBwYXNzZWQgaW50byBgYVZlcnRleFBvc2l0aW9uYCBhdHRyaWJ1dGUuXG4gKiBUbyBjYWxjdWxhdGUgdmVydGV4IHBvc2l0aW9uIGluIHNjcmVlbiBzcGFjZSB1c2luZyBub3JtYWxpemVkICgwLTEpIHNwYWNlOlxuICpcbiAqIGBgYFxuICogdmVjNCBmaWx0ZXJWZXJ0ZXhQb3NpdGlvbiggdm9pZCApXG4gKiB7XG4gKiAgICAgdmVjMiBwb3NpdGlvbiA9IGFWZXJ0ZXhQb3NpdGlvbiAqIG1heChvdXRwdXRGcmFtZS56dywgdmVjMigwLikpICsgb3V0cHV0RnJhbWUueHk7XG4gKiAgICAgcmV0dXJuIHZlYzQoKHByb2plY3Rpb25NYXRyaXggKiB2ZWMzKHBvc2l0aW9uLCAxLjApKS54eSwgMC4wLCAxLjApO1xuICogfVxuICogYGBgXG4gKlxuICogKippbnB1dFNpemUqKlxuICpcbiAqIFRlbXBvcmFyeSBmcmFtZWJ1ZmZlciBpcyBkaWZmZXJlbnQsIGl0IGNhbiBiZSBlaXRoZXIgdGhlIHNpemUgb2Ygc2NyZWVuLCBlaXRoZXIgcG93ZXItb2YtdHdvLlxuICogVGhlIGBpbnB1dFNpemUueHlgIGFyZSBzaXplIG9mIHRlbXBvcmFyeSBmcmFtZWJ1ZmZlciB0aGF0IGhvbGRzIGlucHV0LlxuICogVGhlIGBpbnB1dFNpemUuendgIGlzIGludmVydGVkLCBpdCdzIGEgc2hvcnRjdXQgdG8gZXZhZGUgZGl2aXNpb24gaW5zaWRlIHRoZSBzaGFkZXIuXG4gKlxuICogU2V0IGBpbnB1dFNpemUueHkgPSBvdXRwdXRGcmFtZS56d2AgZm9yIGEgZnVsbHNjcmVlbiBmaWx0ZXIuXG4gKlxuICogVG8gY2FsY3VsYXRlIGlucHV0IG5vcm1hbGl6ZWQgY29vcmRpbmF0ZSwgeW91IGhhdmUgdG8gbWFwIGl0IHRvIGZpbHRlciBub3JtYWxpemVkIHNwYWNlLlxuICogTXVsdGlwbHkgYnkgYG91dHB1dEZyYW1lLnp3YCB0byBnZXQgaW5wdXQgY29vcmRpbmF0ZS5cbiAqIERpdmlkZSBieSBgaW5wdXRTaXplLnh5YCB0byBnZXQgaW5wdXQgbm9ybWFsaXplZCBjb29yZGluYXRlLlxuICpcbiAqIGBgYFxuICogdmVjMiBmaWx0ZXJUZXh0dXJlQ29vcmQoIHZvaWQgKVxuICoge1xuICogICAgIHJldHVybiBhVmVydGV4UG9zaXRpb24gKiAob3V0cHV0RnJhbWUuencgKiBpbnB1dFNpemUuencpOyAvLyBzYW1lIGFzIC9pbnB1dFNpemUueHlcbiAqIH1cbiAqIGBgYFxuICogKipyZXNvbHV0aW9uKipcbiAqXG4gKiBUaGUgYHJlc29sdXRpb25gIGlzIHRoZSByYXRpbyBvZiBzY3JlZW4gKENTUykgcGl4ZWxzIHRvIHJlYWwgcGl4ZWxzLlxuICpcbiAqICoqaW5wdXRQaXhlbCoqXG4gKlxuICogYGlucHV0UGl4ZWwueHlgIGlzIHRoZSBzaXplIG9mIGZyYW1lYnVmZmVyIGluIHJlYWwgcGl4ZWxzLCBzYW1lIGFzIGBpbnB1dFNpemUueHkgKiByZXNvbHV0aW9uYFxuICogYGlucHV0UGl4ZWwuendgIGlzIGludmVydGVkIGBpbnB1dFBpeGVsLnh5YC5cbiAqXG4gKiBJdCdzIGhhbmR5IGZvciBmaWx0ZXJzIHRoYXQgdXNlIG5laWdoYm91ciBwaXhlbHMsIGxpa2Uge0BsaW5rIFBJWEkuZmlsdGVycy5GWEFBRmlsdGVyIEZYQUFGaWx0ZXJ9LlxuICpcbiAqICoqaW5wdXRDbGFtcCoqXG4gKlxuICogSWYgeW91IHRyeSB0byBnZXQgaW5mbyBmcm9tIG91dHNpZGUgb2YgdXNlZCBwYXJ0IG9mIEZyYW1lYnVmZmVyIC0geW91J2xsIGdldCB1bmRlZmluZWQgYmVoYXZpb3VyLlxuICogRm9yIGRpc3BsYWNlbWVudHMsIGNvb3JkaW5hdGVzIGhhcyB0byBiZSBjbGFtcGVkLlxuICpcbiAqIFRoZSBgaW5wdXRDbGFtcC54eWAgaXMgbGVmdC10b3AgcGl4ZWwgY2VudGVyLCB5b3UgbWF5IGlnbm9yZSBpdCwgYmVjYXVzZSB3ZSB1c2UgbGVmdC10b3AgcGFydCBvZiBGcmFtZWJ1ZmZlclxuICogYGlucHV0Q2xhbXAuendgIGlzIGJvdHRvbS1yaWdodCBwaXhlbCBjZW50ZXIuXG4gKlxuICogYGBgXG4gKiB2ZWM0IGNvbG9yID0gdGV4dHVyZTJEKHVTYW1wbGVyLCBjbGFtcChtb2RpZmlnZWRUZXh0dXJlQ29vcmQsIGlucHV0Q2xhbXAueHksIGlucHV0Q2xhbXAuencpKVxuICogYGBgXG4gKiBPUlxuICogYGBgXG4gKiB2ZWM0IGNvbG9yID0gdGV4dHVyZTJEKHVTYW1wbGVyLCBtaW4obW9kaWZpZ2VkVGV4dHVyZUNvb3JkLCBpbnB1dENsYW1wLnp3KSlcbiAqIGBgYFxuICpcbiAqICMjIyBBZGRpdGlvbmFsIEluZm9ybWF0aW9uXG4gKlxuICogQ29tcGxldGUgZG9jdW1lbnRhdGlvbiBvbiBGaWx0ZXIgdXNhZ2UgaXMgbG9jYXRlZCBpbiB0aGVcbiAqIHtAbGluayBodHRwczovL2dpdGh1Yi5jb20vcGl4aWpzL3BpeGkuanMvd2lraS92NS1DcmVhdGluZy1maWx0ZXJzIFdpa2l9LlxuICpcbiAqIFNpbmNlIFBpeGlKUyBvbmx5IGhhZCBhIGhhbmRmdWwgb2YgYnVpbHQtaW4gZmlsdGVycywgYWRkaXRpb25hbCBmaWx0ZXJzIGNhbiBiZSBkb3dubG9hZGVkXG4gKiB7QGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL3BpeGlqcy9waXhpLWZpbHRlcnMgaGVyZX0gZnJvbSB0aGUgUGl4aUpTIEZpbHRlcnMgcmVwb3NpdG9yeS5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAZXh0ZW5kcyBQSVhJLlNoYWRlclxuICovXG52YXIgRmlsdGVyID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoU2hhZGVyKSB7XG4gICAgZnVuY3Rpb24gRmlsdGVyKHZlcnRleFNyYywgZnJhZ21lbnRTcmMsIHVuaWZvcm1zKVxuICAgIHtcbiAgICAgICAgdmFyIHByb2dyYW0gPSBQcm9ncmFtLmZyb20odmVydGV4U3JjIHx8IEZpbHRlci5kZWZhdWx0VmVydGV4U3JjLFxuICAgICAgICAgICAgZnJhZ21lbnRTcmMgfHwgRmlsdGVyLmRlZmF1bHRGcmFnbWVudFNyYyk7XG5cbiAgICAgICAgU2hhZGVyLmNhbGwodGhpcywgcHJvZ3JhbSwgdW5pZm9ybXMpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcGFkZGluZyBvZiB0aGUgZmlsdGVyLiBTb21lIGZpbHRlcnMgcmVxdWlyZSBleHRyYSBzcGFjZSB0byBicmVhdGggc3VjaCBhcyBhIGJsdXIuXG4gICAgICAgICAqIEluY3JlYXNpbmcgdGhpcyB3aWxsIGFkZCBleHRyYSB3aWR0aCBhbmQgaGVpZ2h0IHRvIHRoZSBib3VuZHMgb2YgdGhlIG9iamVjdCB0aGF0IHRoZVxuICAgICAgICAgKiBmaWx0ZXIgaXMgYXBwbGllZCB0by5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5wYWRkaW5nID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHJlc29sdXRpb24gb2YgdGhlIGZpbHRlci4gU2V0dGluZyB0aGlzIHRvIGJlIGxvd2VyIHdpbGwgbG93ZXIgdGhlIHF1YWxpdHkgYnV0XG4gICAgICAgICAqIGluY3JlYXNlIHRoZSBwZXJmb3JtYW5jZSBvZiB0aGUgZmlsdGVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJlc29sdXRpb24gPSBzZXR0aW5ncy5GSUxURVJfUkVTT0xVVElPTjtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSWYgZW5hYmxlZCBpcyB0cnVlIHRoZSBmaWx0ZXIgaXMgYXBwbGllZCwgaWYgZmFsc2UgaXQgd2lsbCBub3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmVuYWJsZWQgPSB0cnVlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiBlbmFibGVkLCBQaXhpSlMgd2lsbCBmaXQgdGhlIGZpbHRlciBhcmVhIGludG8gYm91bmRhcmllcyBmb3IgYmV0dGVyIHBlcmZvcm1hbmNlLlxuICAgICAgICAgKiBTd2l0Y2ggaXQgb2ZmIGlmIGl0IGRvZXMgbm90IHdvcmsgZm9yIHNwZWNpZmljIHNoYWRlci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYXV0b0ZpdCA9IHRydWU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIExlZ2FjeSBmaWx0ZXJzIHVzZSBwb3NpdGlvbiBhbmQgdXZzIGZyb20gYXR0cmlidXRlc1xuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubGVnYWN5ID0gISF0aGlzLnByb2dyYW0uYXR0cmlidXRlRGF0YS5hVGV4dHVyZUNvb3JkO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgV2ViR0wgc3RhdGUgdGhlIGZpbHRlciByZXF1aXJlcyB0byByZW5kZXJcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5TdGF0ZX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc3RhdGUgPSBuZXcgU3RhdGUoKTtcbiAgICB9XG5cbiAgICBpZiAoIFNoYWRlciApIEZpbHRlci5fX3Byb3RvX18gPSBTaGFkZXI7XG4gICAgRmlsdGVyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIFNoYWRlciAmJiBTaGFkZXIucHJvdG90eXBlICk7XG4gICAgRmlsdGVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEZpbHRlcjtcblxuICAgIHZhciBwcm90b3R5cGVBY2Nlc3NvcnMgPSB7IGJsZW5kTW9kZTogeyBjb25maWd1cmFibGU6IHRydWUgfSB9O1xuICAgIHZhciBzdGF0aWNBY2Nlc3NvcnMgPSB7IGRlZmF1bHRWZXJ0ZXhTcmM6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sZGVmYXVsdEZyYWdtZW50U3JjOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH07XG5cbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIHRoZSBmaWx0ZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5zeXN0ZW1zLkZpbHRlclN5c3RlbX0gZmlsdGVyTWFuYWdlciAtIFRoZSByZW5kZXJlciB0byByZXRyaWV2ZSB0aGUgZmlsdGVyIGZyb21cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyVGV4dHVyZX0gaW5wdXQgLSBUaGUgaW5wdXQgcmVuZGVyIHRhcmdldC5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyVGV4dHVyZX0gb3V0cHV0IC0gVGhlIHRhcmdldCB0byBvdXRwdXQgdG8uXG4gICAgICogQHBhcmFtIHtib29sZWFufSBjbGVhciAtIFNob3VsZCB0aGUgb3V0cHV0IGJlIGNsZWFyZWQgYmVmb3JlIHJlbmRlcmluZyB0byBpdFxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbY3VycmVudFN0YXRlXSAtIEl0J3MgY3VycmVudCBzdGF0ZSBvZiBmaWx0ZXIuXG4gICAgICogICAgICAgIFRoZXJlIGFyZSBzb21lIHVzZWZ1bCBwcm9wZXJ0aWVzIGluIHRoZSBjdXJyZW50U3RhdGUgOlxuICAgICAqICAgICAgICB0YXJnZXQsIGZpbHRlcnMsIHNvdXJjZUZyYW1lLCBkZXN0aW5hdGlvbkZyYW1lLCByZW5kZXJUYXJnZXQsIHJlc29sdXRpb25cbiAgICAgKi9cbiAgICBGaWx0ZXIucHJvdG90eXBlLmFwcGx5ID0gZnVuY3Rpb24gYXBwbHkgKGZpbHRlck1hbmFnZXIsIGlucHV0LCBvdXRwdXQsIGNsZWFyLCBjdXJyZW50U3RhdGUpXG4gICAge1xuICAgICAgICAvLyBkbyBhcyB5b3UgcGxlYXNlIVxuXG4gICAgICAgIGZpbHRlck1hbmFnZXIuYXBwbHlGaWx0ZXIodGhpcywgaW5wdXQsIG91dHB1dCwgY2xlYXIsIGN1cnJlbnRTdGF0ZSk7XG5cbiAgICAgICAgLy8gb3IganVzdCBkbyBhIHJlZ3VsYXIgcmVuZGVyLi5cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgYmxlbmRtb2RlIG9mIHRoZSBmaWx0ZXJcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCBQSVhJLkJMRU5EX01PREVTLk5PUk1BTFxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5ibGVuZE1vZGUuZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0YXRlLmJsZW5kTW9kZTtcbiAgICB9O1xuXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLmJsZW5kTW9kZS5zZXQgPSBmdW5jdGlvbiAodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgdGhpcy5zdGF0ZS5ibGVuZE1vZGUgPSB2YWx1ZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIGRlZmF1bHQgdmVydGV4IHNoYWRlciBzb3VyY2VcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAqIEBjb25zdGFudFxuICAgICAqL1xuICAgIHN0YXRpY0FjY2Vzc29ycy5kZWZhdWx0VmVydGV4U3JjLmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gZGVmYXVsdFZlcnRleCQxO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgZGVmYXVsdCBmcmFnbWVudCBzaGFkZXIgc291cmNlXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgKiBAY29uc3RhbnRcbiAgICAgKi9cbiAgICBzdGF0aWNBY2Nlc3NvcnMuZGVmYXVsdEZyYWdtZW50U3JjLmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gZGVmYXVsdEZyYWdtZW50JDE7XG4gICAgfTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKCBGaWx0ZXIucHJvdG90eXBlLCBwcm90b3R5cGVBY2Nlc3NvcnMgKTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyggRmlsdGVyLCBzdGF0aWNBY2Nlc3NvcnMgKTtcblxuICAgIHJldHVybiBGaWx0ZXI7XG59KFNoYWRlcikpO1xuXG4vKipcbiAqIFVzZWQgZm9yIGNhY2hpbmcgc2hhZGVyIElEc1xuICpcbiAqIEBzdGF0aWNcbiAqIEB0eXBlIHtvYmplY3R9XG4gKiBAcHJvdGVjdGVkXG4gKi9cbkZpbHRlci5TT1VSQ0VfS0VZX01BUCA9IHt9O1xuXG52YXIgdmVydGV4ID0gXCJhdHRyaWJ1dGUgdmVjMiBhVmVydGV4UG9zaXRpb247XFxuYXR0cmlidXRlIHZlYzIgYVRleHR1cmVDb29yZDtcXG5cXG51bmlmb3JtIG1hdDMgcHJvamVjdGlvbk1hdHJpeDtcXG51bmlmb3JtIG1hdDMgb3RoZXJNYXRyaXg7XFxuXFxudmFyeWluZyB2ZWMyIHZNYXNrQ29vcmQ7XFxudmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxuXFxudm9pZCBtYWluKHZvaWQpXFxue1xcbiAgICBnbF9Qb3NpdGlvbiA9IHZlYzQoKHByb2plY3Rpb25NYXRyaXggKiB2ZWMzKGFWZXJ0ZXhQb3NpdGlvbiwgMS4wKSkueHksIDAuMCwgMS4wKTtcXG5cXG4gICAgdlRleHR1cmVDb29yZCA9IGFUZXh0dXJlQ29vcmQ7XFxuICAgIHZNYXNrQ29vcmQgPSAoIG90aGVyTWF0cml4ICogdmVjMyggYVRleHR1cmVDb29yZCwgMS4wKSAgKS54eTtcXG59XFxuXCI7XG5cbnZhciBmcmFnbWVudCA9IFwidmFyeWluZyB2ZWMyIHZNYXNrQ29vcmQ7XFxudmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxuXFxudW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXI7XFxudW5pZm9ybSBzYW1wbGVyMkQgbWFzaztcXG51bmlmb3JtIGZsb2F0IGFscGhhO1xcbnVuaWZvcm0gZmxvYXQgbnBtQWxwaGE7XFxudW5pZm9ybSB2ZWM0IG1hc2tDbGFtcDtcXG5cXG52b2lkIG1haW4odm9pZClcXG57XFxuICAgIGZsb2F0IGNsaXAgPSBzdGVwKDMuNSxcXG4gICAgICAgIHN0ZXAobWFza0NsYW1wLngsIHZNYXNrQ29vcmQueCkgK1xcbiAgICAgICAgc3RlcChtYXNrQ2xhbXAueSwgdk1hc2tDb29yZC55KSArXFxuICAgICAgICBzdGVwKHZNYXNrQ29vcmQueCwgbWFza0NsYW1wLnopICtcXG4gICAgICAgIHN0ZXAodk1hc2tDb29yZC55LCBtYXNrQ2xhbXAudykpO1xcblxcbiAgICB2ZWM0IG9yaWdpbmFsID0gdGV4dHVyZTJEKHVTYW1wbGVyLCB2VGV4dHVyZUNvb3JkKTtcXG4gICAgdmVjNCBtYXNreSA9IHRleHR1cmUyRChtYXNrLCB2TWFza0Nvb3JkKTtcXG4gICAgZmxvYXQgYWxwaGFNdWwgPSAxLjAgLSBucG1BbHBoYSAqICgxLjAgLSBtYXNreS5hKTtcXG5cXG4gICAgb3JpZ2luYWwgKj0gKGFscGhhTXVsICogbWFza3kuciAqIGFscGhhICogY2xpcCk7XFxuXFxuICAgIGdsX0ZyYWdDb2xvciA9IG9yaWdpbmFsO1xcbn1cXG5cIjtcblxudmFyIHRlbXBNYXQgPSBuZXcgTWF0cml4KCk7XG5cbi8qKlxuICogQ2xhc3MgY29udHJvbHMgdXYgbWFwcGluZyBmcm9tIFRleHR1cmUgbm9ybWFsIHNwYWNlIHRvIEJhc2VUZXh0dXJlIG5vcm1hbCBzcGFjZS5cbiAqXG4gKiBUYWtlcyBgdHJpbWAgYW5kIGByb3RhdGVgIGludG8gYWNjb3VudC4gTWF5IGNvbnRhaW4gY2xhbXAgc2V0dGluZ3MgZm9yIE1lc2hlcyBhbmQgVGlsaW5nU3ByaXRlLlxuICpcbiAqIENhbiBiZSB1c2VkIGluIFRleHR1cmUgYHV2TWF0cml4YCBmaWVsZCwgb3Igc2VwYXJhdGVseSwgeW91IGNhbiB1c2UgZGlmZmVyZW50IGNsYW1wIHNldHRpbmdzIG9uIHRoZSBzYW1lIHRleHR1cmUuXG4gKiBJZiB5b3Ugd2FudCB0byBhZGQgc3VwcG9ydCBmb3IgdGV4dHVyZSByZWdpb24gb2YgY2VydGFpbiBmZWF0dXJlIG9yIGZpbHRlciwgdGhhdCdzIHdoYXQgeW91J3JlIGxvb2tpbmcgZm9yLlxuICpcbiAqIFRha2VzIHRyYWNrIG9mIFRleHR1cmUgY2hhbmdlcyB0aHJvdWdoIGBfbGFzdFRleHR1cmVJRGAgcHJpdmF0ZSBmaWVsZC5cbiAqIFVzZSBgdXBkYXRlKClgIG1ldGhvZCBjYWxsIHRvIHRyYWNrIGl0IGZyb20gb3V0c2lkZS5cbiAqXG4gKiBAc2VlIFBJWEkuVGV4dHVyZVxuICogQHNlZSBQSVhJLk1lc2hcbiAqIEBzZWUgUElYSS5UaWxpbmdTcHJpdGVcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFRleHR1cmVNYXRyaXggPSBmdW5jdGlvbiBUZXh0dXJlTWF0cml4KHRleHR1cmUsIGNsYW1wTWFyZ2luKVxue1xuICAgIHRoaXMuX3RleHR1cmUgPSB0ZXh0dXJlO1xuXG4gICAgLyoqXG4gICAgICogTWF0cml4IG9wZXJhdGlvbiB0aGF0IGNvbnZlcnRzIHRleHR1cmUgcmVnaW9uIGNvb3JkcyB0byB0ZXh0dXJlIGNvb3Jkc1xuICAgICAqIEBtZW1iZXIge1BJWEkuTWF0cml4fVxuICAgICAqIEByZWFkb25seVxuICAgICAqL1xuICAgIHRoaXMubWFwQ29vcmQgPSBuZXcgTWF0cml4KCk7XG5cbiAgICAvKipcbiAgICAgKiBDbGFtcCByZWdpb24gZm9yIG5vcm1hbGl6ZWQgY29vcmRzLCBsZWZ0LXRvcCBwaXhlbCBjZW50ZXIgaW4geHkgLCBib3R0b20tcmlnaHQgaW4gencuXG4gICAgICogQ2FsY3VsYXRlZCBiYXNlZCBvbiBjbGFtcE9mZnNldC5cbiAgICAgKiBAbWVtYmVyIHtGbG9hdDMyQXJyYXl9XG4gICAgICogQHJlYWRvbmx5XG4gICAgICovXG4gICAgdGhpcy51Q2xhbXBGcmFtZSA9IG5ldyBGbG9hdDMyQXJyYXkoNCk7XG5cbiAgICAvKipcbiAgICAgKiBOb3JtYWxpemVkIGNsYW1wIG9mZnNldC5cbiAgICAgKiBDYWxjdWxhdGVkIGJhc2VkIG9uIGNsYW1wT2Zmc2V0LlxuICAgICAqIEBtZW1iZXIge0Zsb2F0MzJBcnJheX1cbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKi9cbiAgICB0aGlzLnVDbGFtcE9mZnNldCA9IG5ldyBGbG9hdDMyQXJyYXkoMik7XG5cbiAgICAvKipcbiAgICAgKiBUcmFja3MgVGV4dHVyZSBmcmFtZSBjaGFuZ2VzXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICB0aGlzLl91cGRhdGVJRCA9IC0xO1xuXG4gICAgLyoqXG4gICAgICogQ2hhbmdlcyBmcmFtZSBjbGFtcGluZ1xuICAgICAqIFdvcmtzIHdpdGggVGlsaW5nU3ByaXRlIGFuZCBNZXNoXG4gICAgICogQ2hhbmdlIHRvIDEuNSBpZiB5b3UgdGV4dHVyZSBoYXMgcmVwZWF0ZWQgcmlnaHQgYW5kIGJvdHRvbSBsaW5lcywgdGhhdCBsZWFkcyB0byBzbW9vdGhlciBib3JkZXJzXG4gICAgICpcbiAgICAgKiBAZGVmYXVsdCAwXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMuY2xhbXBPZmZzZXQgPSAwO1xuXG4gICAgLyoqXG4gICAgICogQ2hhbmdlcyBmcmFtZSBjbGFtcGluZ1xuICAgICAqIFdvcmtzIHdpdGggVGlsaW5nU3ByaXRlIGFuZCBNZXNoXG4gICAgICogQ2hhbmdlIHRvIC0wLjUgdG8gYWRkIGEgcGl4ZWwgdG8gdGhlIGVkZ2UsIHJlY29tbWVuZGVkIGZvciB0cmFuc3BhcmVudCB0cmltbWVkIHRleHR1cmVzIGluIGF0bGFzXG4gICAgICpcbiAgICAgKiBAZGVmYXVsdCAwLjVcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5jbGFtcE1hcmdpbiA9ICh0eXBlb2YgY2xhbXBNYXJnaW4gPT09ICd1bmRlZmluZWQnKSA/IDAuNSA6IGNsYW1wTWFyZ2luO1xuXG4gICAgLyoqXG4gICAgICogSWYgdGV4dHVyZSBzaXplIGlzIHRoZSBzYW1lIGFzIGJhc2VUZXh0dXJlXG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAqIEByZWFkb25seVxuICAgICAqL1xuICAgIHRoaXMuaXNTaW1wbGUgPSBmYWxzZTtcbn07XG5cbnZhciBwcm90b3R5cGVBY2Nlc3NvcnMkNCA9IHsgdGV4dHVyZTogeyBjb25maWd1cmFibGU6IHRydWUgfSB9O1xuXG4vKipcbiAqIHRleHR1cmUgcHJvcGVydHlcbiAqIEBtZW1iZXIge1BJWEkuVGV4dHVyZX1cbiAqL1xucHJvdG90eXBlQWNjZXNzb3JzJDQudGV4dHVyZS5nZXQgPSBmdW5jdGlvbiAoKVxue1xuICAgIHJldHVybiB0aGlzLl90ZXh0dXJlO1xufTtcblxucHJvdG90eXBlQWNjZXNzb3JzJDQudGV4dHVyZS5zZXQgPSBmdW5jdGlvbiAodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xue1xuICAgIHRoaXMuX3RleHR1cmUgPSB2YWx1ZTtcbiAgICB0aGlzLl91cGRhdGVJRCA9IC0xO1xufTtcblxuLyoqXG4gKiBNdWx0aXBsaWVzIHV2cyBhcnJheSB0byB0cmFuc2Zvcm1cbiAqIEBwYXJhbSB7RmxvYXQzMkFycmF5fSB1dnMgbWVzaCB1dnNcbiAqIEBwYXJhbSB7RmxvYXQzMkFycmF5fSBbb3V0PXV2c10gb3V0cHV0XG4gKiBAcmV0dXJucyB7RmxvYXQzMkFycmF5fSBvdXRwdXRcbiAqL1xuVGV4dHVyZU1hdHJpeC5wcm90b3R5cGUubXVsdGlwbHlVdnMgPSBmdW5jdGlvbiBtdWx0aXBseVV2cyAodXZzLCBvdXQpXG57XG4gICAgaWYgKG91dCA9PT0gdW5kZWZpbmVkKVxuICAgIHtcbiAgICAgICAgb3V0ID0gdXZzO1xuICAgIH1cblxuICAgIHZhciBtYXQgPSB0aGlzLm1hcENvb3JkO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB1dnMubGVuZ3RoOyBpICs9IDIpXG4gICAge1xuICAgICAgICB2YXIgeCA9IHV2c1tpXTtcbiAgICAgICAgdmFyIHkgPSB1dnNbaSArIDFdO1xuXG4gICAgICAgIG91dFtpXSA9ICh4ICogbWF0LmEpICsgKHkgKiBtYXQuYykgKyBtYXQudHg7XG4gICAgICAgIG91dFtpICsgMV0gPSAoeCAqIG1hdC5iKSArICh5ICogbWF0LmQpICsgbWF0LnR5O1xuICAgIH1cblxuICAgIHJldHVybiBvdXQ7XG59O1xuXG4vKipcbiAqIHVwZGF0ZXMgbWF0cmljZXMgaWYgdGV4dHVyZSB3YXMgY2hhbmdlZFxuICogQHBhcmFtIHtib29sZWFufSBbZm9yY2VVcGRhdGU9ZmFsc2VdIGlmIHRydWUsIG1hdHJpY2VzIHdpbGwgYmUgdXBkYXRlZCBhbnkgY2FzZVxuICogQHJldHVybnMge2Jvb2xlYW59IHdoZXRoZXIgb3Igbm90IGl0IHdhcyB1cGRhdGVkXG4gKi9cblRleHR1cmVNYXRyaXgucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIHVwZGF0ZSAoZm9yY2VVcGRhdGUpXG57XG4gICAgdmFyIHRleCA9IHRoaXMuX3RleHR1cmU7XG5cbiAgICBpZiAoIXRleCB8fCAhdGV4LnZhbGlkKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGlmICghZm9yY2VVcGRhdGVcbiAgICAgICAgJiYgdGhpcy5fdXBkYXRlSUQgPT09IHRleC5fdXBkYXRlSUQpXG4gICAge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgdGhpcy5fdXBkYXRlSUQgPSB0ZXguX3VwZGF0ZUlEO1xuXG4gICAgdmFyIHV2cyA9IHRleC5fdXZzO1xuXG4gICAgdGhpcy5tYXBDb29yZC5zZXQodXZzLngxIC0gdXZzLngwLCB1dnMueTEgLSB1dnMueTAsIHV2cy54MyAtIHV2cy54MCwgdXZzLnkzIC0gdXZzLnkwLCB1dnMueDAsIHV2cy55MCk7XG5cbiAgICB2YXIgb3JpZyA9IHRleC5vcmlnO1xuICAgIHZhciB0cmltID0gdGV4LnRyaW07XG5cbiAgICBpZiAodHJpbSlcbiAgICB7XG4gICAgICAgIHRlbXBNYXQuc2V0KG9yaWcud2lkdGggLyB0cmltLndpZHRoLCAwLCAwLCBvcmlnLmhlaWdodCAvIHRyaW0uaGVpZ2h0LFxuICAgICAgICAgICAgLXRyaW0ueCAvIHRyaW0ud2lkdGgsIC10cmltLnkgLyB0cmltLmhlaWdodCk7XG4gICAgICAgIHRoaXMubWFwQ29vcmQuYXBwZW5kKHRlbXBNYXQpO1xuICAgIH1cblxuICAgIHZhciB0ZXhCYXNlID0gdGV4LmJhc2VUZXh0dXJlO1xuICAgIHZhciBmcmFtZSA9IHRoaXMudUNsYW1wRnJhbWU7XG4gICAgdmFyIG1hcmdpbiA9IHRoaXMuY2xhbXBNYXJnaW4gLyB0ZXhCYXNlLnJlc29sdXRpb247XG4gICAgdmFyIG9mZnNldCA9IHRoaXMuY2xhbXBPZmZzZXQ7XG5cbiAgICBmcmFtZVswXSA9ICh0ZXguX2ZyYW1lLnggKyBtYXJnaW4gKyBvZmZzZXQpIC8gdGV4QmFzZS53aWR0aDtcbiAgICBmcmFtZVsxXSA9ICh0ZXguX2ZyYW1lLnkgKyBtYXJnaW4gKyBvZmZzZXQpIC8gdGV4QmFzZS5oZWlnaHQ7XG4gICAgZnJhbWVbMl0gPSAodGV4Ll9mcmFtZS54ICsgdGV4Ll9mcmFtZS53aWR0aCAtIG1hcmdpbiArIG9mZnNldCkgLyB0ZXhCYXNlLndpZHRoO1xuICAgIGZyYW1lWzNdID0gKHRleC5fZnJhbWUueSArIHRleC5fZnJhbWUuaGVpZ2h0IC0gbWFyZ2luICsgb2Zmc2V0KSAvIHRleEJhc2UuaGVpZ2h0O1xuICAgIHRoaXMudUNsYW1wT2Zmc2V0WzBdID0gb2Zmc2V0IC8gdGV4QmFzZS5yZWFsV2lkdGg7XG4gICAgdGhpcy51Q2xhbXBPZmZzZXRbMV0gPSBvZmZzZXQgLyB0ZXhCYXNlLnJlYWxIZWlnaHQ7XG5cbiAgICB0aGlzLmlzU2ltcGxlID0gdGV4Ll9mcmFtZS53aWR0aCA9PT0gdGV4QmFzZS53aWR0aFxuICAgICAgICAmJiB0ZXguX2ZyYW1lLmhlaWdodCA9PT0gdGV4QmFzZS5oZWlnaHRcbiAgICAgICAgJiYgdGV4LnJvdGF0ZSA9PT0gMDtcblxuICAgIHJldHVybiB0cnVlO1xufTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoIFRleHR1cmVNYXRyaXgucHJvdG90eXBlLCBwcm90b3R5cGVBY2Nlc3NvcnMkNCApO1xuXG4vKipcbiAqIFRoaXMgaGFuZGxlcyBhIFNwcml0ZSBhY3RpbmcgYXMgYSBtYXNrLCBhcyBvcHBvc2VkIHRvIGEgR3JhcGhpYy5cbiAqXG4gKiBXZWJHTCBvbmx5LlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5GaWx0ZXJcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBTcHJpdGVNYXNrRmlsdGVyID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoRmlsdGVyKSB7XG4gICAgZnVuY3Rpb24gU3ByaXRlTWFza0ZpbHRlcihzcHJpdGUpXG4gICAge1xuICAgICAgICB2YXIgbWFza01hdHJpeCA9IG5ldyBNYXRyaXgoKTtcblxuICAgICAgICBGaWx0ZXIuY2FsbCh0aGlzLCB2ZXJ0ZXgsIGZyYWdtZW50KTtcblxuICAgICAgICBzcHJpdGUucmVuZGVyYWJsZSA9IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTcHJpdGUgbWFza1xuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlNwcml0ZX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubWFza1Nwcml0ZSA9IHNwcml0ZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogTWFzayBtYXRyaXhcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5NYXRyaXh9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm1hc2tNYXRyaXggPSBtYXNrTWF0cml4O1xuICAgIH1cblxuICAgIGlmICggRmlsdGVyICkgU3ByaXRlTWFza0ZpbHRlci5fX3Byb3RvX18gPSBGaWx0ZXI7XG4gICAgU3ByaXRlTWFza0ZpbHRlci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBGaWx0ZXIgJiYgRmlsdGVyLnByb3RvdHlwZSApO1xuICAgIFNwcml0ZU1hc2tGaWx0ZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gU3ByaXRlTWFza0ZpbHRlcjtcblxuICAgIC8qKlxuICAgICAqIEFwcGxpZXMgdGhlIGZpbHRlclxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLnN5c3RlbXMuRmlsdGVyU3lzdGVtfSBmaWx0ZXJNYW5hZ2VyIC0gVGhlIHJlbmRlcmVyIHRvIHJldHJpZXZlIHRoZSBmaWx0ZXIgZnJvbVxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUZXh0dXJlfSBpbnB1dCAtIFRoZSBpbnB1dCByZW5kZXIgdGFyZ2V0LlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUZXh0dXJlfSBvdXRwdXQgLSBUaGUgdGFyZ2V0IHRvIG91dHB1dCB0by5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGNsZWFyIC0gU2hvdWxkIHRoZSBvdXRwdXQgYmUgY2xlYXJlZCBiZWZvcmUgcmVuZGVyaW5nIHRvIGl0LlxuICAgICAqL1xuICAgIFNwcml0ZU1hc2tGaWx0ZXIucHJvdG90eXBlLmFwcGx5ID0gZnVuY3Rpb24gYXBwbHkgKGZpbHRlck1hbmFnZXIsIGlucHV0LCBvdXRwdXQsIGNsZWFyKVxuICAgIHtcbiAgICAgICAgdmFyIG1hc2tTcHJpdGUgPSB0aGlzLm1hc2tTcHJpdGU7XG4gICAgICAgIHZhciB0ZXggPSB0aGlzLm1hc2tTcHJpdGUudGV4dHVyZTtcblxuICAgICAgICBpZiAoIXRleC52YWxpZClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGV4LnRyYW5zZm9ybSlcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gbWFyZ2luID0gMC4wLCBsZXQgaXQgYmxlZWQgYSBiaXQsIHNoYWRlciBjb2RlIGJlY29tZXMgZWFzaWVyXG4gICAgICAgICAgICAvLyBhc3N1bWluZyB0aGF0IGF0bGFzIHRleHR1cmVzIHdlcmUgbWFkZSB3aXRoIDEtcGl4ZWwgcGFkZGluZ1xuICAgICAgICAgICAgdGV4LnRyYW5zZm9ybSA9IG5ldyBUZXh0dXJlTWF0cml4KHRleCwgMC4wKTtcbiAgICAgICAgfVxuICAgICAgICB0ZXgudHJhbnNmb3JtLnVwZGF0ZSgpO1xuXG4gICAgICAgIHRoaXMudW5pZm9ybXMubnBtQWxwaGEgPSB0ZXguYmFzZVRleHR1cmUuYWxwaGFNb2RlID8gMC4wIDogMS4wO1xuICAgICAgICB0aGlzLnVuaWZvcm1zLm1hc2sgPSB0ZXg7XG4gICAgICAgIC8vIGdldCBfbm9ybWFsaXplZCBzcHJpdGUgdGV4dHVyZSBjb29yZHNfIGFuZCBjb252ZXJ0IHRoZW0gdG8gX25vcm1hbGl6ZWQgYXRsYXMgdGV4dHVyZSBjb29yZHNfIHdpdGggYHByZXBlbmRgXG4gICAgICAgIHRoaXMudW5pZm9ybXMub3RoZXJNYXRyaXggPSBmaWx0ZXJNYW5hZ2VyLmNhbGN1bGF0ZVNwcml0ZU1hdHJpeCh0aGlzLm1hc2tNYXRyaXgsIG1hc2tTcHJpdGUpXG4gICAgICAgICAgICAucHJlcGVuZCh0ZXgudHJhbnNmb3JtLm1hcENvb3JkKTtcbiAgICAgICAgdGhpcy51bmlmb3Jtcy5hbHBoYSA9IG1hc2tTcHJpdGUud29ybGRBbHBoYTtcbiAgICAgICAgdGhpcy51bmlmb3Jtcy5tYXNrQ2xhbXAgPSB0ZXgudHJhbnNmb3JtLnVDbGFtcEZyYW1lO1xuXG4gICAgICAgIGZpbHRlck1hbmFnZXIuYXBwbHlGaWx0ZXIodGhpcywgaW5wdXQsIG91dHB1dCwgY2xlYXIpO1xuICAgIH07XG5cbiAgICByZXR1cm4gU3ByaXRlTWFza0ZpbHRlcjtcbn0oRmlsdGVyKSk7XG5cbi8qKlxuICogU3lzdGVtIHBsdWdpbiB0byB0aGUgcmVuZGVyZXIgdG8gbWFuYWdlIG1hc2tzLlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5TeXN0ZW1cbiAqIEBtZW1iZXJvZiBQSVhJLnN5c3RlbXNcbiAqL1xudmFyIE1hc2tTeXN0ZW0gPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChTeXN0ZW0pIHtcbiAgICBmdW5jdGlvbiBNYXNrU3lzdGVtKHJlbmRlcmVyKVxuICAgIHtcbiAgICAgICAgU3lzdGVtLmNhbGwodGhpcywgcmVuZGVyZXIpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUYXJnZXQgdG8gbWFza1xuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkRpc3BsYXlPYmplY3R9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zY2lzc29yUmVuZGVyVGFyZ2V0ID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRW5hYmxlIHNjaXNzb3JcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmVuYWJsZVNjaXNzb3IgPSBmYWxzZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUG9vbCBvZiB1c2VkIHNwcml0ZSBtYXNrIGZpbHRlcnNcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5TcHJpdGVNYXNrRmlsdGVyW119XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5hbHBoYU1hc2tQb29sID0gW107XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFBvb2wgb2YgbWFzayBkYXRhXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuTWFza0RhdGFbXX1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm1hc2tEYXRhUG9vbCA9IFtdO1xuXG4gICAgICAgIHRoaXMubWFza1N0YWNrID0gW107XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEN1cnJlbnQgaW5kZXggb2YgYWxwaGEgbWFzayBwb29sXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYWxwaGFNYXNrSW5kZXggPSAwO1xuICAgIH1cblxuICAgIGlmICggU3lzdGVtICkgTWFza1N5c3RlbS5fX3Byb3RvX18gPSBTeXN0ZW07XG4gICAgTWFza1N5c3RlbS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBTeXN0ZW0gJiYgU3lzdGVtLnByb3RvdHlwZSApO1xuICAgIE1hc2tTeXN0ZW0ucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gTWFza1N5c3RlbTtcblxuICAgIC8qKlxuICAgICAqIENoYW5nZXMgdGhlIG1hc2sgc3RhY2sgdGhhdCBpcyB1c2VkIGJ5IHRoaXMgU3lzdGVtLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLk1hc2tEYXRhW119IG1hc2tTdGFjayAtIFRoZSBtYXNrIHN0YWNrXG4gICAgICovXG4gICAgTWFza1N5c3RlbS5wcm90b3R5cGUuc2V0TWFza1N0YWNrID0gZnVuY3Rpb24gc2V0TWFza1N0YWNrIChtYXNrU3RhY2spXG4gICAge1xuICAgICAgICB0aGlzLm1hc2tTdGFjayA9IG1hc2tTdGFjaztcbiAgICAgICAgdGhpcy5yZW5kZXJlci5zY2lzc29yLnNldE1hc2tTdGFjayhtYXNrU3RhY2spO1xuICAgICAgICB0aGlzLnJlbmRlcmVyLnN0ZW5jaWwuc2V0TWFza1N0YWNrKG1hc2tTdGFjayk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEFwcGxpZXMgdGhlIE1hc2sgYW5kIGFkZHMgaXQgdG8gdGhlIGN1cnJlbnQgZmlsdGVyIHN0YWNrLlxuICAgICAqIFJlbmRlcmVyIGJhdGNoIG11c3QgYmUgZmx1c2hlZCBiZWZvcmVoYW5kLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IHRhcmdldCAtIERpc3BsYXkgT2JqZWN0IHRvIHB1c2ggdGhlIG1hc2sgdG9cbiAgICAgKiBAcGFyYW0ge1BJWEkuTWFza0RhdGF8UElYSS5TcHJpdGV8UElYSS5HcmFwaGljc3xQSVhJLkRpc3BsYXlPYmplY3R9IG1hc2tEYXRhIC0gVGhlIG1hc2tpbmcgZGF0YS5cbiAgICAgKi9cbiAgICBNYXNrU3lzdGVtLnByb3RvdHlwZS5wdXNoID0gZnVuY3Rpb24gcHVzaCAodGFyZ2V0LCBtYXNrRGF0YSlcbiAgICB7XG4gICAgICAgIGlmICghbWFza0RhdGEuaXNNYXNrRGF0YSlcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIGQgPSB0aGlzLm1hc2tEYXRhUG9vbC5wb3AoKSB8fCBuZXcgTWFza0RhdGEoKTtcblxuICAgICAgICAgICAgZC5wb29sZWQgPSB0cnVlO1xuICAgICAgICAgICAgZC5tYXNrT2JqZWN0ID0gbWFza0RhdGE7XG4gICAgICAgICAgICBtYXNrRGF0YSA9IGQ7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobWFza0RhdGEuYXV0b0RldGVjdClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5kZXRlY3QobWFza0RhdGEpO1xuICAgICAgICB9XG5cbiAgICAgICAgbWFza0RhdGEuY29weUNvdW50ZXJzT3JSZXNldCh0aGlzLm1hc2tTdGFja1t0aGlzLm1hc2tTdGFjay5sZW5ndGggLSAxXSk7XG4gICAgICAgIG1hc2tEYXRhLl90YXJnZXQgPSB0YXJnZXQ7XG5cbiAgICAgICAgc3dpdGNoIChtYXNrRGF0YS50eXBlKVxuICAgICAgICB7XG4gICAgICAgICAgICBjYXNlIE1BU0tfVFlQRVMuU0NJU1NPUjpcbiAgICAgICAgICAgICAgICB0aGlzLm1hc2tTdGFjay5wdXNoKG1hc2tEYXRhKTtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnNjaXNzb3IucHVzaChtYXNrRGF0YSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIE1BU0tfVFlQRVMuU1RFTkNJTDpcbiAgICAgICAgICAgICAgICB0aGlzLm1hc2tTdGFjay5wdXNoKG1hc2tEYXRhKTtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnN0ZW5jaWwucHVzaChtYXNrRGF0YSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIE1BU0tfVFlQRVMuU1BSSVRFOlxuICAgICAgICAgICAgICAgIG1hc2tEYXRhLmNvcHlDb3VudGVyc09yUmVzZXQobnVsbCk7XG4gICAgICAgICAgICAgICAgdGhpcy5wdXNoU3ByaXRlTWFzayhtYXNrRGF0YSk7XG4gICAgICAgICAgICAgICAgdGhpcy5tYXNrU3RhY2sucHVzaChtYXNrRGF0YSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgdGhlIGxhc3QgbWFzayBmcm9tIHRoZSBtYXNrIHN0YWNrIGFuZCBkb2Vzbid0IHJldHVybiBpdC5cbiAgICAgKiBSZW5kZXJlciBiYXRjaCBtdXN0IGJlIGZsdXNoZWQgYmVmb3JlaGFuZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSB0YXJnZXQgLSBEaXNwbGF5IE9iamVjdCB0byBwb3AgdGhlIG1hc2sgZnJvbVxuICAgICAqL1xuICAgIE1hc2tTeXN0ZW0ucHJvdG90eXBlLnBvcCA9IGZ1bmN0aW9uIHBvcCAodGFyZ2V0KVxuICAgIHtcbiAgICAgICAgdmFyIG1hc2tEYXRhID0gdGhpcy5tYXNrU3RhY2sucG9wKCk7XG5cbiAgICAgICAgaWYgKCFtYXNrRGF0YSB8fCBtYXNrRGF0YS5fdGFyZ2V0ICE9PSB0YXJnZXQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIFRPRE86IGFkZCBhbiBhc3NlcnQgd2hlbiB3ZSBoYXZlIGl0XG5cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHN3aXRjaCAobWFza0RhdGEudHlwZSlcbiAgICAgICAge1xuICAgICAgICAgICAgY2FzZSBNQVNLX1RZUEVTLlNDSVNTT1I6XG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5zY2lzc29yLnBvcCgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBNQVNLX1RZUEVTLlNURU5DSUw6XG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5zdGVuY2lsLnBvcChtYXNrRGF0YS5tYXNrT2JqZWN0KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgTUFTS19UWVBFUy5TUFJJVEU6XG4gICAgICAgICAgICAgICAgdGhpcy5wb3BTcHJpdGVNYXNrKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgbWFza0RhdGEucmVzZXQoKTtcblxuICAgICAgICBpZiAobWFza0RhdGEucG9vbGVkKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLm1hc2tEYXRhUG9vbC5wdXNoKG1hc2tEYXRhKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHR5cGUgb2YgTWFza0RhdGEgYmFzZWQgb24gaXRzIG1hc2tPYmplY3RcbiAgICAgKiBAcGFyYW0ge1BJWEkuTWFza0RhdGF9IG1hc2tEYXRhXG4gICAgICovXG4gICAgTWFza1N5c3RlbS5wcm90b3R5cGUuZGV0ZWN0ID0gZnVuY3Rpb24gZGV0ZWN0IChtYXNrRGF0YSlcbiAgICB7XG4gICAgICAgIHZhciBtYXNrT2JqZWN0ID0gbWFza0RhdGEubWFza09iamVjdDtcblxuICAgICAgICBpZiAobWFza09iamVjdC5pc1Nwcml0ZSlcbiAgICAgICAge1xuICAgICAgICAgICAgbWFza0RhdGEudHlwZSA9IE1BU0tfVFlQRVMuU1BSSVRFO1xuXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbWFza0RhdGEudHlwZSA9IE1BU0tfVFlQRVMuU1RFTkNJTDtcbiAgICAgICAgLy8gZGV0ZWN0IHNjaXNzb3IgaW4gZ3JhcGhpY3NcbiAgICAgICAgaWYgKHRoaXMuZW5hYmxlU2Npc3NvclxuICAgICAgICAgICAgJiYgbWFza09iamVjdC5pc0Zhc3RSZWN0XG4gICAgICAgICAgICAmJiBtYXNrT2JqZWN0LmlzRmFzdFJlY3QoKSlcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIG1hdHJpeCA9IG1hc2tPYmplY3Qud29ybGRUcmFuc2Zvcm07XG5cbiAgICAgICAgICAgIC8vIFRPRE86IG1vdmUgdGhlIGNoZWNrIHRvIHRoZSBtYXRyaXggaXRzZWxmXG4gICAgICAgICAgICAvLyB3ZSBhcmUgY2hlY2tpbmcgdGhhdCBpdHMgb3J0aG9nb25hbCBhbmQgeCByb3RhdGlvbiBpcyAwIDkwIDE4MCBvciAyNzBcblxuICAgICAgICAgICAgdmFyIHJvdFggPSBNYXRoLmF0YW4yKG1hdHJpeC5iLCBtYXRyaXguYSk7XG4gICAgICAgICAgICB2YXIgcm90WFkgPSBNYXRoLmF0YW4yKG1hdHJpeC5kLCBtYXRyaXguYyk7XG5cbiAgICAgICAgICAgIC8vIHVzZSB0aGUgbmVhcmVzdCBkZWdyZWUgdG8gMC4wMVxuICAgICAgICAgICAgcm90WCA9IE1hdGgucm91bmQocm90WCAqICgxODAgLyBNYXRoLlBJKSAqIDEwMCk7XG4gICAgICAgICAgICByb3RYWSA9IE1hdGgucm91bmQocm90WFkgKiAoMTgwIC8gTWF0aC5QSSkgKiAxMDApIC0gcm90WDtcblxuICAgICAgICAgICAgcm90WCA9ICgocm90WCAlIDkwMDApICsgOTAwMCkgJSA5MDAwO1xuICAgICAgICAgICAgcm90WFkgPSAoKHJvdFhZICUgMTgwMDApICsgMTgwMDApICUgMTgwMDA7XG5cbiAgICAgICAgICAgIGlmIChyb3RYID09PSAwICYmIHJvdFhZID09PSA5MDAwKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG1hc2tEYXRhLnR5cGUgPSBNQVNLX1RZUEVTLlNDSVNTT1I7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQXBwbGllcyB0aGUgTWFzayBhbmQgYWRkcyBpdCB0byB0aGUgY3VycmVudCBmaWx0ZXIgc3RhY2suXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuTWFza0RhdGF9IG1hc2tEYXRhIC0gU3ByaXRlIHRvIGJlIHVzZWQgYXMgdGhlIG1hc2tcbiAgICAgKi9cbiAgICBNYXNrU3lzdGVtLnByb3RvdHlwZS5wdXNoU3ByaXRlTWFzayA9IGZ1bmN0aW9uIHB1c2hTcHJpdGVNYXNrIChtYXNrRGF0YSlcbiAgICB7XG4gICAgICAgIHZhciBtYXNrT2JqZWN0ID0gbWFza0RhdGEubWFza09iamVjdDtcbiAgICAgICAgdmFyIHRhcmdldCA9IG1hc2tEYXRhLl90YXJnZXQ7XG4gICAgICAgIHZhciBhbHBoYU1hc2tGaWx0ZXIgPSB0aGlzLmFscGhhTWFza1Bvb2xbdGhpcy5hbHBoYU1hc2tJbmRleF07XG5cbiAgICAgICAgaWYgKCFhbHBoYU1hc2tGaWx0ZXIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGFscGhhTWFza0ZpbHRlciA9IHRoaXMuYWxwaGFNYXNrUG9vbFt0aGlzLmFscGhhTWFza0luZGV4XSA9IFtuZXcgU3ByaXRlTWFza0ZpbHRlcihtYXNrT2JqZWN0KV07XG4gICAgICAgIH1cblxuICAgICAgICBhbHBoYU1hc2tGaWx0ZXJbMF0ucmVzb2x1dGlvbiA9IHRoaXMucmVuZGVyZXIucmVzb2x1dGlvbjtcbiAgICAgICAgYWxwaGFNYXNrRmlsdGVyWzBdLm1hc2tTcHJpdGUgPSBtYXNrT2JqZWN0O1xuXG4gICAgICAgIHZhciBzdGFzaEZpbHRlckFyZWEgPSB0YXJnZXQuZmlsdGVyQXJlYTtcblxuICAgICAgICB0YXJnZXQuZmlsdGVyQXJlYSA9IG1hc2tPYmplY3QuZ2V0Qm91bmRzKHRydWUpO1xuICAgICAgICB0aGlzLnJlbmRlcmVyLmZpbHRlci5wdXNoKHRhcmdldCwgYWxwaGFNYXNrRmlsdGVyKTtcbiAgICAgICAgdGFyZ2V0LmZpbHRlckFyZWEgPSBzdGFzaEZpbHRlckFyZWE7XG5cbiAgICAgICAgdGhpcy5hbHBoYU1hc2tJbmRleCsrO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIHRoZSBsYXN0IGZpbHRlciBmcm9tIHRoZSBmaWx0ZXIgc3RhY2sgYW5kIGRvZXNuJ3QgcmV0dXJuIGl0LlxuICAgICAqL1xuICAgIE1hc2tTeXN0ZW0ucHJvdG90eXBlLnBvcFNwcml0ZU1hc2sgPSBmdW5jdGlvbiBwb3BTcHJpdGVNYXNrICgpXG4gICAge1xuICAgICAgICB0aGlzLnJlbmRlcmVyLmZpbHRlci5wb3AoKTtcbiAgICAgICAgdGhpcy5hbHBoYU1hc2tJbmRleC0tO1xuICAgIH07XG5cbiAgICByZXR1cm4gTWFza1N5c3RlbTtcbn0oU3lzdGVtKSk7XG5cbi8qKlxuICogU3lzdGVtIHBsdWdpbiB0byB0aGUgcmVuZGVyZXIgdG8gbWFuYWdlIG1hc2tzIG9mIGNlcnRhaW4gdHlwZVxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5TeXN0ZW1cbiAqIEBtZW1iZXJvZiBQSVhJLnN5c3RlbXNcbiAqL1xudmFyIEFic3RyYWN0TWFza1N5c3RlbSA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKFN5c3RlbSkge1xuICAgIGZ1bmN0aW9uIEFic3RyYWN0TWFza1N5c3RlbShyZW5kZXJlcilcbiAgICB7XG4gICAgICAgIFN5c3RlbS5jYWxsKHRoaXMsIHJlbmRlcmVyKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG1hc2sgc3RhY2tcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5NYXNrRGF0YVtdfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5tYXNrU3RhY2sgPSBbXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ29uc3RhbnQgZm9yIGdsLmVuYWJsZVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmdsQ29uc3QgPSAwO1xuICAgIH1cblxuICAgIGlmICggU3lzdGVtICkgQWJzdHJhY3RNYXNrU3lzdGVtLl9fcHJvdG9fXyA9IFN5c3RlbTtcbiAgICBBYnN0cmFjdE1hc2tTeXN0ZW0ucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggU3lzdGVtICYmIFN5c3RlbS5wcm90b3R5cGUgKTtcbiAgICBBYnN0cmFjdE1hc2tTeXN0ZW0ucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQWJzdHJhY3RNYXNrU3lzdGVtO1xuXG4gICAgLyoqXG4gICAgICogZ2V0cyBjb3VudCBvZiBtYXNrcyBvZiBjZXJ0YWluIHR5cGVcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgICAqL1xuICAgIEFic3RyYWN0TWFza1N5c3RlbS5wcm90b3R5cGUuZ2V0U3RhY2tMZW5ndGggPSBmdW5jdGlvbiBnZXRTdGFja0xlbmd0aCAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWFza1N0YWNrLmxlbmd0aDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2hhbmdlcyB0aGUgbWFzayBzdGFjayB0aGF0IGlzIHVzZWQgYnkgdGhpcyBTeXN0ZW0uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuTWFza0RhdGFbXX0gbWFza1N0YWNrIC0gVGhlIG1hc2sgc3RhY2tcbiAgICAgKi9cbiAgICBBYnN0cmFjdE1hc2tTeXN0ZW0ucHJvdG90eXBlLnNldE1hc2tTdGFjayA9IGZ1bmN0aW9uIHNldE1hc2tTdGFjayAobWFza1N0YWNrKVxuICAgIHtcbiAgICAgICAgdmFyIHJlZiA9IHRoaXMucmVuZGVyZXI7XG4gICAgICAgIHZhciBnbCA9IHJlZi5nbDtcbiAgICAgICAgdmFyIGN1clN0YWNrTGVuID0gdGhpcy5nZXRTdGFja0xlbmd0aCgpO1xuXG4gICAgICAgIHRoaXMubWFza1N0YWNrID0gbWFza1N0YWNrO1xuXG4gICAgICAgIHZhciBuZXdTdGFja0xlbiA9IHRoaXMuZ2V0U3RhY2tMZW5ndGgoKTtcblxuICAgICAgICBpZiAobmV3U3RhY2tMZW4gIT09IGN1clN0YWNrTGVuKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAobmV3U3RhY2tMZW4gPT09IDApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZ2wuZGlzYWJsZSh0aGlzLmdsQ29uc3QpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGdsLmVuYWJsZSh0aGlzLmdsQ29uc3QpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3VzZUN1cnJlbnQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXR1cCByZW5kZXJlciB0byB1c2UgdGhlIGN1cnJlbnQgbWFzayBkYXRhLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgQWJzdHJhY3RNYXNrU3lzdGVtLnByb3RvdHlwZS5fdXNlQ3VycmVudCA9IGZ1bmN0aW9uIF91c2VDdXJyZW50ICgpXG4gICAge1xuICAgICAgICAvLyBPVkVSV1JJVEU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoZSBtYXNrIHN0YWNrLlxuICAgICAqXG4gICAgICovXG4gICAgQWJzdHJhY3RNYXNrU3lzdGVtLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSAoKVxuICAgIHtcbiAgICAgICAgU3lzdGVtLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcywgdGhpcyk7XG5cbiAgICAgICAgdGhpcy5tYXNrU3RhY2sgPSBudWxsO1xuICAgIH07XG5cbiAgICByZXR1cm4gQWJzdHJhY3RNYXNrU3lzdGVtO1xufShTeXN0ZW0pKTtcblxuLyoqXG4gKiBTeXN0ZW0gcGx1Z2luIHRvIHRoZSByZW5kZXJlciB0byBtYW5hZ2Ugc2Npc3NvciByZWN0cyAodXNlZCBmb3IgbWFza3MpLlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5TeXN0ZW1cbiAqIEBtZW1iZXJvZiBQSVhJLnN5c3RlbXNcbiAqL1xudmFyIFNjaXNzb3JTeXN0ZW0gPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChBYnN0cmFjdE1hc2tTeXN0ZW0pIHtcbiAgICBmdW5jdGlvbiBTY2lzc29yU3lzdGVtKHJlbmRlcmVyKVxuICAgIHtcbiAgICAgICAgQWJzdHJhY3RNYXNrU3lzdGVtLmNhbGwodGhpcywgcmVuZGVyZXIpO1xuXG4gICAgICAgIHRoaXMuZ2xDb25zdCA9IFdlYkdMUmVuZGVyaW5nQ29udGV4dC5TQ0lTU09SX1RFU1Q7XG4gICAgfVxuXG4gICAgaWYgKCBBYnN0cmFjdE1hc2tTeXN0ZW0gKSBTY2lzc29yU3lzdGVtLl9fcHJvdG9fXyA9IEFic3RyYWN0TWFza1N5c3RlbTtcbiAgICBTY2lzc29yU3lzdGVtLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIEFic3RyYWN0TWFza1N5c3RlbSAmJiBBYnN0cmFjdE1hc2tTeXN0ZW0ucHJvdG90eXBlICk7XG4gICAgU2Npc3NvclN5c3RlbS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBTY2lzc29yU3lzdGVtO1xuXG4gICAgU2Npc3NvclN5c3RlbS5wcm90b3R5cGUuZ2V0U3RhY2tMZW5ndGggPSBmdW5jdGlvbiBnZXRTdGFja0xlbmd0aCAoKVxuICAgIHtcbiAgICAgICAgdmFyIG1hc2tEYXRhID0gdGhpcy5tYXNrU3RhY2tbdGhpcy5tYXNrU3RhY2subGVuZ3RoIC0gMV07XG5cbiAgICAgICAgaWYgKG1hc2tEYXRhKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gbWFza0RhdGEuX3NjaXNzb3JDb3VudGVyO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEFwcGxpZXMgdGhlIE1hc2sgYW5kIGFkZHMgaXQgdG8gdGhlIGN1cnJlbnQgc3RlbmNpbCBzdGFjay4gQGFsdmluXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuTWFza0RhdGF9IG1hc2tEYXRhIC0gVGhlIG1hc2sgZGF0YVxuICAgICAqL1xuICAgIFNjaXNzb3JTeXN0ZW0ucHJvdG90eXBlLnB1c2ggPSBmdW5jdGlvbiBwdXNoIChtYXNrRGF0YSlcbiAgICB7XG4gICAgICAgIHZhciBtYXNrT2JqZWN0ID0gbWFza0RhdGEubWFza09iamVjdDtcblxuICAgICAgICBtYXNrT2JqZWN0LnJlbmRlcmFibGUgPSB0cnVlO1xuXG4gICAgICAgIHZhciBwcmV2RGF0YSA9IG1hc2tEYXRhLl9zY2lzc29yUmVjdDtcbiAgICAgICAgdmFyIGJvdW5kcyA9IG1hc2tPYmplY3QuZ2V0Qm91bmRzKHRydWUpO1xuICAgICAgICB2YXIgcmVmID0gdGhpcy5yZW5kZXJlcjtcbiAgICAgICAgdmFyIGdsID0gcmVmLmdsO1xuXG4gICAgICAgIG1hc2tPYmplY3QucmVuZGVyYWJsZSA9IGZhbHNlO1xuXG4gICAgICAgIGlmIChwcmV2RGF0YSlcbiAgICAgICAge1xuICAgICAgICAgICAgYm91bmRzLmZpdChwcmV2RGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBnbC5lbmFibGUoZ2wuU0NJU1NPUl9URVNUKTtcbiAgICAgICAgfVxuXG4gICAgICAgIG1hc2tEYXRhLl9zY2lzc29yQ291bnRlcisrO1xuICAgICAgICBtYXNrRGF0YS5fc2Npc3NvclJlY3QgPSBib3VuZHM7XG4gICAgICAgIHRoaXMuX3VzZUN1cnJlbnQoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUG9wcyBzY2lzc29yIG1hc2suIE1hc2tEYXRhIGlzIGFscmVhZHkgcmVtb3ZlZCBmcm9tIHN0YWNrXG4gICAgICovXG4gICAgU2Npc3NvclN5c3RlbS5wcm90b3R5cGUucG9wID0gZnVuY3Rpb24gcG9wICgpXG4gICAge1xuICAgICAgICB2YXIgcmVmID0gdGhpcy5yZW5kZXJlcjtcbiAgICAgICAgdmFyIGdsID0gcmVmLmdsO1xuXG4gICAgICAgIGlmICh0aGlzLmdldFN0YWNrTGVuZ3RoKCkgPiAwKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl91c2VDdXJyZW50KCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBnbC5kaXNhYmxlKGdsLlNDSVNTT1JfVEVTVCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0dXAgcmVuZGVyZXIgdG8gdXNlIHRoZSBjdXJyZW50IHNjaXNzb3IgZGF0YS5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFNjaXNzb3JTeXN0ZW0ucHJvdG90eXBlLl91c2VDdXJyZW50ID0gZnVuY3Rpb24gX3VzZUN1cnJlbnQgKClcbiAgICB7XG4gICAgICAgIHZhciByZWN0ID0gdGhpcy5tYXNrU3RhY2tbdGhpcy5tYXNrU3RhY2subGVuZ3RoIC0gMV0uX3NjaXNzb3JSZWN0O1xuICAgICAgICB2YXIgcnQgPSB0aGlzLnJlbmRlcmVyLnJlbmRlclRleHR1cmUuY3VycmVudDtcbiAgICAgICAgdmFyIHJlZiA9IHRoaXMucmVuZGVyZXIucHJvamVjdGlvbjtcbiAgICAgICAgdmFyIHRyYW5zZm9ybSA9IHJlZi50cmFuc2Zvcm07XG4gICAgICAgIHZhciBzb3VyY2VGcmFtZSA9IHJlZi5zb3VyY2VGcmFtZTtcbiAgICAgICAgdmFyIGRlc3RpbmF0aW9uRnJhbWUgPSByZWYuZGVzdGluYXRpb25GcmFtZTtcbiAgICAgICAgdmFyIHJlc29sdXRpb24gPSBydCA/IHJ0LnJlc29sdXRpb24gOiB0aGlzLnJlbmRlcmVyLnJlc29sdXRpb247XG4gICAgICAgIHZhciB4ID0gKChyZWN0LnggLSBzb3VyY2VGcmFtZS54KSAqIHJlc29sdXRpb24pICsgZGVzdGluYXRpb25GcmFtZS54O1xuICAgICAgICB2YXIgeSA9ICgocmVjdC55IC0gc291cmNlRnJhbWUueSkgKiByZXNvbHV0aW9uKSArIGRlc3RpbmF0aW9uRnJhbWUueTtcbiAgICAgICAgdmFyIHdpZHRoID0gcmVjdC53aWR0aCAqIHJlc29sdXRpb247XG4gICAgICAgIHZhciBoZWlnaHQgPSByZWN0LmhlaWdodCAqIHJlc29sdXRpb247XG5cbiAgICAgICAgaWYgKHRyYW5zZm9ybSlcbiAgICAgICAge1xuICAgICAgICAgICAgeCArPSB0cmFuc2Zvcm0udHggKiByZXNvbHV0aW9uO1xuICAgICAgICAgICAgeSArPSB0cmFuc2Zvcm0udHkgKiByZXNvbHV0aW9uO1xuICAgICAgICB9XG4gICAgICAgIGlmICghcnQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIGZsaXBZLiBJbiBmdXR1cmUgd2UnbGwgaGF2ZSBpdCBvdmVyIHJlbmRlclRleHR1cmVzIGFzIGFuIG9wdGlvblxuICAgICAgICAgICAgeSA9IHRoaXMucmVuZGVyZXIuaGVpZ2h0IC0gaGVpZ2h0IC0geTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucmVuZGVyZXIuZ2wuc2Npc3Nvcih4LCB5LCB3aWR0aCwgaGVpZ2h0KTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIFNjaXNzb3JTeXN0ZW07XG59KEFic3RyYWN0TWFza1N5c3RlbSkpO1xuXG4vKipcbiAqIFN5c3RlbSBwbHVnaW4gdG8gdGhlIHJlbmRlcmVyIHRvIG1hbmFnZSBzdGVuY2lscyAodXNlZCBmb3IgbWFza3MpLlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5TeXN0ZW1cbiAqIEBtZW1iZXJvZiBQSVhJLnN5c3RlbXNcbiAqL1xudmFyIFN0ZW5jaWxTeXN0ZW0gPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChBYnN0cmFjdE1hc2tTeXN0ZW0pIHtcbiAgICBmdW5jdGlvbiBTdGVuY2lsU3lzdGVtKHJlbmRlcmVyKVxuICAgIHtcbiAgICAgICAgQWJzdHJhY3RNYXNrU3lzdGVtLmNhbGwodGhpcywgcmVuZGVyZXIpO1xuXG4gICAgICAgIHRoaXMuZ2xDb25zdCA9IFdlYkdMUmVuZGVyaW5nQ29udGV4dC5TVEVOQ0lMX1RFU1Q7XG4gICAgfVxuXG4gICAgaWYgKCBBYnN0cmFjdE1hc2tTeXN0ZW0gKSBTdGVuY2lsU3lzdGVtLl9fcHJvdG9fXyA9IEFic3RyYWN0TWFza1N5c3RlbTtcbiAgICBTdGVuY2lsU3lzdGVtLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIEFic3RyYWN0TWFza1N5c3RlbSAmJiBBYnN0cmFjdE1hc2tTeXN0ZW0ucHJvdG90eXBlICk7XG4gICAgU3RlbmNpbFN5c3RlbS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBTdGVuY2lsU3lzdGVtO1xuXG4gICAgU3RlbmNpbFN5c3RlbS5wcm90b3R5cGUuZ2V0U3RhY2tMZW5ndGggPSBmdW5jdGlvbiBnZXRTdGFja0xlbmd0aCAoKVxuICAgIHtcbiAgICAgICAgdmFyIG1hc2tEYXRhID0gdGhpcy5tYXNrU3RhY2tbdGhpcy5tYXNrU3RhY2subGVuZ3RoIC0gMV07XG5cbiAgICAgICAgaWYgKG1hc2tEYXRhKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gbWFza0RhdGEuX3N0ZW5jaWxDb3VudGVyO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEFwcGxpZXMgdGhlIE1hc2sgYW5kIGFkZHMgaXQgdG8gdGhlIGN1cnJlbnQgc3RlbmNpbCBzdGFjay5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5NYXNrRGF0YX0gbWFza0RhdGEgLSBUaGUgbWFzayBkYXRhXG4gICAgICovXG4gICAgU3RlbmNpbFN5c3RlbS5wcm90b3R5cGUucHVzaCA9IGZ1bmN0aW9uIHB1c2ggKG1hc2tEYXRhKVxuICAgIHtcbiAgICAgICAgdmFyIG1hc2tPYmplY3QgPSBtYXNrRGF0YS5tYXNrT2JqZWN0O1xuICAgICAgICB2YXIgcmVmID0gdGhpcy5yZW5kZXJlcjtcbiAgICAgICAgdmFyIGdsID0gcmVmLmdsO1xuICAgICAgICB2YXIgcHJldk1hc2tDb3VudCA9IG1hc2tEYXRhLl9zdGVuY2lsQ291bnRlcjtcblxuICAgICAgICBpZiAocHJldk1hc2tDb3VudCA9PT0gMClcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gZm9yY2UgdXNlIHN0ZW5jaWwgdGV4dHVyZSBpbiBjdXJyZW50IGZyYW1lYnVmZmVyXG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLmZyYW1lYnVmZmVyLmZvcmNlU3RlbmNpbCgpO1xuICAgICAgICAgICAgZ2wuZW5hYmxlKGdsLlNURU5DSUxfVEVTVCk7XG4gICAgICAgIH1cblxuICAgICAgICBtYXNrRGF0YS5fc3RlbmNpbENvdW50ZXIrKztcblxuICAgICAgICAvLyBJbmNyZW1lbnQgdGhlIHJlZmVyZW5jZSBzdGVuY2lsIHZhbHVlIHdoZXJlIHRoZSBuZXcgbWFzayBvdmVybGFwcyB3aXRoIHRoZSBvbGQgb25lcy5cbiAgICAgICAgZ2wuY29sb3JNYXNrKGZhbHNlLCBmYWxzZSwgZmFsc2UsIGZhbHNlKTtcbiAgICAgICAgZ2wuc3RlbmNpbEZ1bmMoZ2wuRVFVQUwsIHByZXZNYXNrQ291bnQsIHRoaXMuX2dldEJpdHdpc2VNYXNrKCkpO1xuICAgICAgICBnbC5zdGVuY2lsT3AoZ2wuS0VFUCwgZ2wuS0VFUCwgZ2wuSU5DUik7XG5cbiAgICAgICAgbWFza09iamVjdC5yZW5kZXJhYmxlID0gdHJ1ZTtcbiAgICAgICAgbWFza09iamVjdC5yZW5kZXIodGhpcy5yZW5kZXJlcik7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuYmF0Y2guZmx1c2goKTtcbiAgICAgICAgbWFza09iamVjdC5yZW5kZXJhYmxlID0gZmFsc2U7XG5cbiAgICAgICAgdGhpcy5fdXNlQ3VycmVudCgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBQb3BzIHN0ZW5jaWwgbWFzay4gTWFza0RhdGEgaXMgYWxyZWFkeSByZW1vdmVkIGZyb20gc3RhY2tcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBtYXNrT2JqZWN0IC0gb2JqZWN0IG9mIHBvcHBlZCBtYXNrIGRhdGFcbiAgICAgKi9cbiAgICBTdGVuY2lsU3lzdGVtLnByb3RvdHlwZS5wb3AgPSBmdW5jdGlvbiBwb3AgKG1hc2tPYmplY3QpXG4gICAge1xuICAgICAgICB2YXIgZ2wgPSB0aGlzLnJlbmRlcmVyLmdsO1xuXG4gICAgICAgIGlmICh0aGlzLmdldFN0YWNrTGVuZ3RoKCkgPT09IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIHRoZSBzdGFjayBpcyBlbXB0eSFcbiAgICAgICAgICAgIGdsLmRpc2FibGUoZ2wuU1RFTkNJTF9URVNUKTtcbiAgICAgICAgICAgIGdsLmNsZWFyKGdsLlNURU5DSUxfQlVGRkVSX0JJVCk7XG4gICAgICAgICAgICBnbC5jbGVhclN0ZW5jaWwoMCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBEZWNyZW1lbnQgdGhlIHJlZmVyZW5jZSBzdGVuY2lsIHZhbHVlIHdoZXJlIHRoZSBwb3BwZWQgbWFzayBvdmVybGFwcyB3aXRoIHRoZSBvdGhlciBvbmVzXG4gICAgICAgICAgICBnbC5jb2xvck1hc2soZmFsc2UsIGZhbHNlLCBmYWxzZSwgZmFsc2UpO1xuICAgICAgICAgICAgZ2wuc3RlbmNpbE9wKGdsLktFRVAsIGdsLktFRVAsIGdsLkRFQ1IpO1xuXG4gICAgICAgICAgICBtYXNrT2JqZWN0LnJlbmRlcmFibGUgPSB0cnVlO1xuICAgICAgICAgICAgbWFza09iamVjdC5yZW5kZXIodGhpcy5yZW5kZXJlcik7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLmJhdGNoLmZsdXNoKCk7XG4gICAgICAgICAgICBtYXNrT2JqZWN0LnJlbmRlcmFibGUgPSBmYWxzZTtcblxuICAgICAgICAgICAgdGhpcy5fdXNlQ3VycmVudCgpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldHVwIHJlbmRlcmVyIHRvIHVzZSB0aGUgY3VycmVudCBzdGVuY2lsIGRhdGEuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBTdGVuY2lsU3lzdGVtLnByb3RvdHlwZS5fdXNlQ3VycmVudCA9IGZ1bmN0aW9uIF91c2VDdXJyZW50ICgpXG4gICAge1xuICAgICAgICB2YXIgZ2wgPSB0aGlzLnJlbmRlcmVyLmdsO1xuXG4gICAgICAgIGdsLmNvbG9yTWFzayh0cnVlLCB0cnVlLCB0cnVlLCB0cnVlKTtcbiAgICAgICAgZ2wuc3RlbmNpbEZ1bmMoZ2wuRVFVQUwsIHRoaXMuZ2V0U3RhY2tMZW5ndGgoKSwgdGhpcy5fZ2V0Qml0d2lzZU1hc2soKSk7XG4gICAgICAgIGdsLnN0ZW5jaWxPcChnbC5LRUVQLCBnbC5LRUVQLCBnbC5LRUVQKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRmlsbCAxcyBlcXVhbCB0byB0aGUgbnVtYmVyIG9mIGFjaXR2ZSBzdGVuY2lsIG1hc2tzLlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHJldHVybiB7bnVtYmVyfSBUaGUgYml0d2lzZSBtYXNrLlxuICAgICAqL1xuICAgIFN0ZW5jaWxTeXN0ZW0ucHJvdG90eXBlLl9nZXRCaXR3aXNlTWFzayA9IGZ1bmN0aW9uIF9nZXRCaXR3aXNlTWFzayAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuICgxIDw8IHRoaXMuZ2V0U3RhY2tMZW5ndGgoKSkgLSAxO1xuICAgIH07XG5cbiAgICByZXR1cm4gU3RlbmNpbFN5c3RlbTtcbn0oQWJzdHJhY3RNYXNrU3lzdGVtKSk7XG5cbi8qKlxuICogU3lzdGVtIHBsdWdpbiB0byB0aGUgcmVuZGVyZXIgdG8gbWFuYWdlIHRoZSBwcm9qZWN0aW9uIG1hdHJpeC5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuU3lzdGVtXG4gKiBAbWVtYmVyb2YgUElYSS5zeXN0ZW1zXG4gKi9cblxudmFyIFByb2plY3Rpb25TeXN0ZW0gPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChTeXN0ZW0pIHtcbiAgICBmdW5jdGlvbiBQcm9qZWN0aW9uU3lzdGVtKHJlbmRlcmVyKVxuICAgIHtcbiAgICAgICAgU3lzdGVtLmNhbGwodGhpcywgcmVuZGVyZXIpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEZXN0aW5hdGlvbiBmcmFtZVxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlJlY3RhbmdsZX1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uRnJhbWUgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTb3VyY2UgZnJhbWVcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5SZWN0YW5nbGV9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zb3VyY2VGcmFtZSA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERlZmF1bHQgZGVzdGluYXRpb24gZnJhbWVcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5SZWN0YW5nbGV9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kZWZhdWx0RnJhbWUgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcm9qZWN0IG1hdHJpeFxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk1hdHJpeH1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnByb2plY3Rpb25NYXRyaXggPSBuZXcgTWF0cml4KCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgdHJhbnNmb3JtIHRoYXQgd2lsbCBiZSBhcHBlbmRlZCB0byB0aGUgcHJvamVjdGlvbiBtYXRyaXhcbiAgICAgICAgICogaWYgbnVsbCwgbm90aGluZyB3aWxsIGJlIGFwcGxpZWRcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5NYXRyaXh9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnRyYW5zZm9ybSA9IG51bGw7XG4gICAgfVxuXG4gICAgaWYgKCBTeXN0ZW0gKSBQcm9qZWN0aW9uU3lzdGVtLl9fcHJvdG9fXyA9IFN5c3RlbTtcbiAgICBQcm9qZWN0aW9uU3lzdGVtLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIFN5c3RlbSAmJiBTeXN0ZW0ucHJvdG90eXBlICk7XG4gICAgUHJvamVjdGlvblN5c3RlbS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBQcm9qZWN0aW9uU3lzdGVtO1xuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgcHJvamVjdGlvbiBtYXRyaXggYmFzZWQgb24gYSBwcm9qZWN0aW9uIGZyYW1lICh3aGljaCBpcyBhIHJlY3RhbmdsZSlcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IGRlc3RpbmF0aW9uRnJhbWUgLSBUaGUgZGVzdGluYXRpb24gZnJhbWUuXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gc291cmNlRnJhbWUgLSBUaGUgc291cmNlIGZyYW1lLlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSByZXNvbHV0aW9uIC0gUmVzb2x1dGlvblxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gcm9vdCAtIElmIGlzIHJvb3RcbiAgICAgKi9cbiAgICBQcm9qZWN0aW9uU3lzdGVtLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiB1cGRhdGUgKGRlc3RpbmF0aW9uRnJhbWUsIHNvdXJjZUZyYW1lLCByZXNvbHV0aW9uLCByb290KVxuICAgIHtcbiAgICAgICAgdGhpcy5kZXN0aW5hdGlvbkZyYW1lID0gZGVzdGluYXRpb25GcmFtZSB8fCB0aGlzLmRlc3RpbmF0aW9uRnJhbWUgfHwgdGhpcy5kZWZhdWx0RnJhbWU7XG4gICAgICAgIHRoaXMuc291cmNlRnJhbWUgPSBzb3VyY2VGcmFtZSB8fCB0aGlzLnNvdXJjZUZyYW1lIHx8IGRlc3RpbmF0aW9uRnJhbWU7XG5cbiAgICAgICAgdGhpcy5jYWxjdWxhdGVQcm9qZWN0aW9uKHRoaXMuZGVzdGluYXRpb25GcmFtZSwgdGhpcy5zb3VyY2VGcmFtZSwgcmVzb2x1dGlvbiwgcm9vdCk7XG5cbiAgICAgICAgaWYgKHRoaXMudHJhbnNmb3JtKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnByb2plY3Rpb25NYXRyaXguYXBwZW5kKHRoaXMudHJhbnNmb3JtKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciByZW5kZXJlciA9ICB0aGlzLnJlbmRlcmVyO1xuXG4gICAgICAgIHJlbmRlcmVyLmdsb2JhbFVuaWZvcm1zLnVuaWZvcm1zLnByb2plY3Rpb25NYXRyaXggPSB0aGlzLnByb2plY3Rpb25NYXRyaXg7XG4gICAgICAgIHJlbmRlcmVyLmdsb2JhbFVuaWZvcm1zLnVwZGF0ZSgpO1xuXG4gICAgICAgIC8vIHRoaXMgd2lsbCB3b3JrIGZvciBub3dcbiAgICAgICAgLy8gYnV0IHdvdWxkIGJlIHN3ZWV0IHRvIHN0aWNrIGFuZCBldmVuIG9uIHRoZSBnbG9iYWwgdW5pZm9ybXMuLlxuICAgICAgICBpZiAocmVuZGVyZXIuc2hhZGVyLnNoYWRlcilcbiAgICAgICAge1xuICAgICAgICAgICAgcmVuZGVyZXIuc2hhZGVyLnN5bmNVbmlmb3JtR3JvdXAocmVuZGVyZXIuc2hhZGVyLnNoYWRlci51bmlmb3Jtcy5nbG9iYWxzKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBwcm9qZWN0aW9uIG1hdHJpeCBiYXNlZCBvbiBhIHByb2plY3Rpb24gZnJhbWUgKHdoaWNoIGlzIGEgcmVjdGFuZ2xlKVxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gZGVzdGluYXRpb25GcmFtZSAtIFRoZSBkZXN0aW5hdGlvbiBmcmFtZS5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSBzb3VyY2VGcmFtZSAtIFRoZSBzb3VyY2UgZnJhbWUuXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHJlc29sdXRpb24gLSBSZXNvbHV0aW9uXG4gICAgICogQHBhcmFtIHtib29sZWFufSByb290IC0gSWYgaXMgcm9vdFxuICAgICAqL1xuICAgIFByb2plY3Rpb25TeXN0ZW0ucHJvdG90eXBlLmNhbGN1bGF0ZVByb2plY3Rpb24gPSBmdW5jdGlvbiBjYWxjdWxhdGVQcm9qZWN0aW9uIChkZXN0aW5hdGlvbkZyYW1lLCBzb3VyY2VGcmFtZSwgcmVzb2x1dGlvbiwgcm9vdClcbiAgICB7XG4gICAgICAgIHZhciBwbSA9IHRoaXMucHJvamVjdGlvbk1hdHJpeDtcblxuICAgICAgICAvLyBJIGRvbid0IHRoaW5rIHdlIHdpbGwgbmVlZCB0aGlzIGxpbmUuLlxuICAgICAgICAvLyBwbS5pZGVudGl0eSgpO1xuXG4gICAgICAgIGlmICghcm9vdClcbiAgICAgICAge1xuICAgICAgICAgICAgcG0uYSA9ICgxIC8gZGVzdGluYXRpb25GcmFtZS53aWR0aCAqIDIpICogcmVzb2x1dGlvbjtcbiAgICAgICAgICAgIHBtLmQgPSAoMSAvIGRlc3RpbmF0aW9uRnJhbWUuaGVpZ2h0ICogMikgKiByZXNvbHV0aW9uO1xuXG4gICAgICAgICAgICBwbS50eCA9IC0xIC0gKHNvdXJjZUZyYW1lLnggKiBwbS5hKTtcbiAgICAgICAgICAgIHBtLnR5ID0gLTEgLSAoc291cmNlRnJhbWUueSAqIHBtLmQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgcG0uYSA9ICgxIC8gZGVzdGluYXRpb25GcmFtZS53aWR0aCAqIDIpICogcmVzb2x1dGlvbjtcbiAgICAgICAgICAgIHBtLmQgPSAoLTEgLyBkZXN0aW5hdGlvbkZyYW1lLmhlaWdodCAqIDIpICogcmVzb2x1dGlvbjtcblxuICAgICAgICAgICAgcG0udHggPSAtMSAtIChzb3VyY2VGcmFtZS54ICogcG0uYSk7XG4gICAgICAgICAgICBwbS50eSA9IDEgLSAoc291cmNlRnJhbWUueSAqIHBtLmQpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHRyYW5zZm9ybSBvZiB0aGUgYWN0aXZlIHJlbmRlciB0YXJnZXQgdG8gdGhlIGdpdmVuIG1hdHJpeFxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLk1hdHJpeH0gbWF0cml4IC0gVGhlIHRyYW5zZm9ybWF0aW9uIG1hdHJpeFxuICAgICAqL1xuICAgIFByb2plY3Rpb25TeXN0ZW0ucHJvdG90eXBlLnNldFRyYW5zZm9ybSA9IGZ1bmN0aW9uIHNldFRyYW5zZm9ybSAoKS8vIG1hdHJpeClcbiAgICB7XG4gICAgICAgIC8vIHRoaXMuX2FjdGl2ZVJlbmRlclRhcmdldC50cmFuc2Zvcm0gPSBtYXRyaXg7XG4gICAgfTtcblxuICAgIHJldHVybiBQcm9qZWN0aW9uU3lzdGVtO1xufShTeXN0ZW0pKTtcblxudmFyIHRlbXBSZWN0ID0gbmV3IFJlY3RhbmdsZSgpO1xuXG4vKipcbiAqIFN5c3RlbSBwbHVnaW4gdG8gdGhlIHJlbmRlcmVyIHRvIG1hbmFnZSByZW5kZXIgdGV4dHVyZXMuXG4gKlxuICogU2hvdWxkIGJlIGFkZGVkIGFmdGVyIEZyYW1lYnVmZmVyU3lzdGVtXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLlN5c3RlbVxuICogQG1lbWJlcm9mIFBJWEkuc3lzdGVtc1xuICovXG5cbnZhciBSZW5kZXJUZXh0dXJlU3lzdGVtID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoU3lzdGVtKSB7XG4gICAgZnVuY3Rpb24gUmVuZGVyVGV4dHVyZVN5c3RlbShyZW5kZXJlcilcbiAgICB7XG4gICAgICAgIFN5c3RlbS5jYWxsKHRoaXMsIHJlbmRlcmVyKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGNsZWFyIGJhY2tncm91bmQgY29sb3IgYXMgcmdiYVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJbXX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY2xlYXJDb2xvciA9IHJlbmRlcmVyLl9iYWNrZ3JvdW5kQ29sb3JSZ2JhO1xuXG4gICAgICAgIC8vIFRPRE8gbW92ZSB0aGlzIHByb3BlcnR5IHNvbWV3aGVyZSBlbHNlIVxuICAgICAgICAvKipcbiAgICAgICAgICogTGlzdCBvZiBtYXNrcyBmb3IgdGhlIFN0ZW5jaWxTeXN0ZW1cbiAgICAgICAgICogQG1lbWJlciB7UElYSS5HcmFwaGljc1tdfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGVmYXVsdE1hc2tTdGFjayA9IFtdO1xuXG4gICAgICAgIC8vIGVtcHR5IHJlbmRlciB0ZXh0dXJlP1xuICAgICAgICAvKipcbiAgICAgICAgICogUmVuZGVyIHRleHR1cmVcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5SZW5kZXJUZXh0dXJlfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY3VycmVudCA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNvdXJjZSBmcmFtZVxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlJlY3RhbmdsZX1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnNvdXJjZUZyYW1lID0gbmV3IFJlY3RhbmdsZSgpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEZXN0aW5hdGlvbiBmcmFtZVxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlJlY3RhbmdsZX1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uRnJhbWUgPSBuZXcgUmVjdGFuZ2xlKCk7XG4gICAgfVxuXG4gICAgaWYgKCBTeXN0ZW0gKSBSZW5kZXJUZXh0dXJlU3lzdGVtLl9fcHJvdG9fXyA9IFN5c3RlbTtcbiAgICBSZW5kZXJUZXh0dXJlU3lzdGVtLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIFN5c3RlbSAmJiBTeXN0ZW0ucHJvdG90eXBlICk7XG4gICAgUmVuZGVyVGV4dHVyZVN5c3RlbS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBSZW5kZXJUZXh0dXJlU3lzdGVtO1xuXG4gICAgLyoqXG4gICAgICogQmluZCB0aGUgY3VycmVudCByZW5kZXIgdGV4dHVyZVxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUZXh0dXJlfSBbcmVuZGVyVGV4dHVyZV0gLSBSZW5kZXJUZXh0dXJlIHRvIGJpbmQsIGJ5IGRlZmF1bHQgaXRzIGBudWxsYCwgdGhlIHNjcmVlblxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IFtzb3VyY2VGcmFtZV0gLSBwYXJ0IG9mIHNjcmVlbiB0aGF0IGlzIG1hcHBlZCB0byB0aGUgcmVuZGVyVGV4dHVyZVxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IFtkZXN0aW5hdGlvbkZyYW1lXSAtIHBhcnQgb2YgcmVuZGVyVGV4dHVyZSwgYnkgZGVmYXVsdCBpdCBoYXMgdGhlIHNhbWUgc2l6ZSBhcyBzb3VyY2VGcmFtZVxuICAgICAqL1xuICAgIFJlbmRlclRleHR1cmVTeXN0ZW0ucHJvdG90eXBlLmJpbmQgPSBmdW5jdGlvbiBiaW5kIChyZW5kZXJUZXh0dXJlLCBzb3VyY2VGcmFtZSwgZGVzdGluYXRpb25GcmFtZSlcbiAgICB7XG4gICAgICAgIGlmICggcmVuZGVyVGV4dHVyZSA9PT0gdm9pZCAwICkgcmVuZGVyVGV4dHVyZSA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5jdXJyZW50ID0gcmVuZGVyVGV4dHVyZTtcblxuICAgICAgICB2YXIgcmVuZGVyZXIgPSB0aGlzLnJlbmRlcmVyO1xuXG4gICAgICAgIHZhciByZXNvbHV0aW9uO1xuXG4gICAgICAgIGlmIChyZW5kZXJUZXh0dXJlKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgYmFzZVRleHR1cmUgPSByZW5kZXJUZXh0dXJlLmJhc2VUZXh0dXJlO1xuXG4gICAgICAgICAgICByZXNvbHV0aW9uID0gYmFzZVRleHR1cmUucmVzb2x1dGlvbjtcblxuICAgICAgICAgICAgaWYgKCFkZXN0aW5hdGlvbkZyYW1lKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRlbXBSZWN0LndpZHRoID0gYmFzZVRleHR1cmUucmVhbFdpZHRoO1xuICAgICAgICAgICAgICAgIHRlbXBSZWN0LmhlaWdodCA9IGJhc2VUZXh0dXJlLnJlYWxIZWlnaHQ7XG5cbiAgICAgICAgICAgICAgICBkZXN0aW5hdGlvbkZyYW1lID0gdGVtcFJlY3Q7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghc291cmNlRnJhbWUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc291cmNlRnJhbWUgPSBkZXN0aW5hdGlvbkZyYW1lO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLmZyYW1lYnVmZmVyLmJpbmQoYmFzZVRleHR1cmUuZnJhbWVidWZmZXIsIGRlc3RpbmF0aW9uRnJhbWUpO1xuXG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnByb2plY3Rpb24udXBkYXRlKGRlc3RpbmF0aW9uRnJhbWUsIHNvdXJjZUZyYW1lLCByZXNvbHV0aW9uLCBmYWxzZSk7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLm1hc2suc2V0TWFza1N0YWNrKGJhc2VUZXh0dXJlLm1hc2tTdGFjayk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICByZXNvbHV0aW9uID0gdGhpcy5yZW5kZXJlci5yZXNvbHV0aW9uO1xuXG4gICAgICAgICAgICAvLyBUT0RPIHRoZXNlIHZhbGlkYXRpb24gY2hlY2tzIGhhcHBlbiBkZWVwZXIgZG93bi4uXG4gICAgICAgICAgICAvLyB0aGluZyB0aGV5IGNhbiBiZSBhdm9pZGVkLi5cbiAgICAgICAgICAgIGlmICghZGVzdGluYXRpb25GcmFtZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0ZW1wUmVjdC53aWR0aCA9IHJlbmRlcmVyLndpZHRoO1xuICAgICAgICAgICAgICAgIHRlbXBSZWN0LmhlaWdodCA9IHJlbmRlcmVyLmhlaWdodDtcblxuICAgICAgICAgICAgICAgIGRlc3RpbmF0aW9uRnJhbWUgPSB0ZW1wUmVjdDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCFzb3VyY2VGcmFtZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzb3VyY2VGcmFtZSA9IGRlc3RpbmF0aW9uRnJhbWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJlbmRlcmVyLmZyYW1lYnVmZmVyLmJpbmQobnVsbCwgZGVzdGluYXRpb25GcmFtZSk7XG5cbiAgICAgICAgICAgIC8vIFRPRE8gc3RvcmUgdGhpcy4uXG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnByb2plY3Rpb24udXBkYXRlKGRlc3RpbmF0aW9uRnJhbWUsIHNvdXJjZUZyYW1lLCByZXNvbHV0aW9uLCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIubWFzay5zZXRNYXNrU3RhY2sodGhpcy5kZWZhdWx0TWFza1N0YWNrKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc291cmNlRnJhbWUuY29weUZyb20oc291cmNlRnJhbWUpO1xuXG4gICAgICAgIHRoaXMuZGVzdGluYXRpb25GcmFtZS54ID0gZGVzdGluYXRpb25GcmFtZS54IC8gcmVzb2x1dGlvbjtcbiAgICAgICAgdGhpcy5kZXN0aW5hdGlvbkZyYW1lLnkgPSBkZXN0aW5hdGlvbkZyYW1lLnkgLyByZXNvbHV0aW9uO1xuXG4gICAgICAgIHRoaXMuZGVzdGluYXRpb25GcmFtZS53aWR0aCA9IGRlc3RpbmF0aW9uRnJhbWUud2lkdGggLyByZXNvbHV0aW9uO1xuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uRnJhbWUuaGVpZ2h0ID0gZGVzdGluYXRpb25GcmFtZS5oZWlnaHQgLyByZXNvbHV0aW9uO1xuXG4gICAgICAgIGlmIChzb3VyY2VGcmFtZSA9PT0gZGVzdGluYXRpb25GcmFtZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5zb3VyY2VGcmFtZS5jb3B5RnJvbSh0aGlzLmRlc3RpbmF0aW9uRnJhbWUpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEVyYXNlcyB0aGUgcmVuZGVyIHRleHR1cmUgYW5kIGZpbGxzIHRoZSBkcmF3aW5nIGFyZWEgd2l0aCBhIGNvbG91clxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gW2NsZWFyQ29sb3JdIC0gVGhlIGNvbG9yIGFzIHJnYmEsIGRlZmF1bHQgdG8gdXNlIHRoZSByZW5kZXJlciBiYWNrZ3JvdW5kQ29sb3JcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJlbmRlcmVyfSBSZXR1cm5zIGl0c2VsZi5cbiAgICAgKi9cbiAgICBSZW5kZXJUZXh0dXJlU3lzdGVtLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uIGNsZWFyIChjbGVhckNvbG9yKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudClcbiAgICAgICAge1xuICAgICAgICAgICAgY2xlYXJDb2xvciA9IGNsZWFyQ29sb3IgfHwgdGhpcy5jdXJyZW50LmJhc2VUZXh0dXJlLmNsZWFyQ29sb3I7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBjbGVhckNvbG9yID0gY2xlYXJDb2xvciB8fCB0aGlzLmNsZWFyQ29sb3I7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnJlbmRlcmVyLmZyYW1lYnVmZmVyLmNsZWFyKGNsZWFyQ29sb3JbMF0sIGNsZWFyQ29sb3JbMV0sIGNsZWFyQ29sb3JbMl0sIGNsZWFyQ29sb3JbM10pO1xuICAgIH07XG5cbiAgICBSZW5kZXJUZXh0dXJlU3lzdGVtLnByb3RvdHlwZS5yZXNpemUgPSBmdW5jdGlvbiByZXNpemUgKCkvLyBzY3JlZW5XaWR0aCwgc2NyZWVuSGVpZ2h0KVxuICAgIHtcbiAgICAgICAgLy8gcmVzaXplIHRoZSByb290IG9ubHkhXG4gICAgICAgIHRoaXMuYmluZChudWxsKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVzZXRzIHJlbmRlclRleHR1cmUgc3RhdGVcbiAgICAgKi9cbiAgICBSZW5kZXJUZXh0dXJlU3lzdGVtLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uIHJlc2V0ICgpXG4gICAge1xuICAgICAgICB0aGlzLmJpbmQobnVsbCk7XG4gICAgfTtcblxuICAgIHJldHVybiBSZW5kZXJUZXh0dXJlU3lzdGVtO1xufShTeXN0ZW0pKTtcblxuLyoqXG4gKiBIZWxwZXIgY2xhc3MgdG8gY3JlYXRlIGEgV2ViR0wgUHJvZ3JhbVxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEdMUHJvZ3JhbSA9IGZ1bmN0aW9uIEdMUHJvZ3JhbShwcm9ncmFtLCB1bmlmb3JtRGF0YSlcbntcbiAgICAvKipcbiAgICAgKiBUaGUgc2hhZGVyIHByb2dyYW1cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1dlYkdMUHJvZ3JhbX1cbiAgICAgKi9cbiAgICB0aGlzLnByb2dyYW0gPSBwcm9ncmFtO1xuXG4gICAgLyoqXG4gICAgICogaG9sZHMgdGhlIHVuaWZvcm0gZGF0YSB3aGljaCBjb250YWlucyB1bmlmb3JtIGxvY2F0aW9uc1xuICAgICAqIGFuZCBjdXJyZW50IHVuaWZvcm0gdmFsdWVzIHVzZWQgZm9yIGNhY2hpbmcgYW5kIHByZXZlbnRpbmcgdW5uZWVkZWQgR1BVIGNvbW1hbmRzXG4gICAgICogQG1lbWJlciB7T2JqZWN0fVxuICAgICAqL1xuICAgIHRoaXMudW5pZm9ybURhdGEgPSB1bmlmb3JtRGF0YTtcblxuICAgIC8qKlxuICAgICAqIHVuaWZvcm1Hcm91cHMgaG9sZHMgdGhlIHZhcmlvdXMgdXBsb2FkIGZ1bmN0aW9ucyBmb3IgdGhlIHNoYWRlci4gRWFjaCB1bmlmb3JtIGdyb3VwXG4gICAgICogYW5kIHByb2dyYW0gaGF2ZSBhIHVuaXF1ZSB1cGxvYWQgZnVuY3Rpb24gZ2VuZXJhdGVkLlxuICAgICAqIEBtZW1iZXIge09iamVjdH1cbiAgICAgKi9cbiAgICB0aGlzLnVuaWZvcm1Hcm91cHMgPSB7fTtcbn07XG5cbi8qKlxuICogRGVzdHJveXMgdGhpcyBwcm9ncmFtXG4gKi9cbkdMUHJvZ3JhbS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3kgKClcbntcbiAgICB0aGlzLnVuaWZvcm1EYXRhID0gbnVsbDtcbiAgICB0aGlzLnVuaWZvcm1Hcm91cHMgPSBudWxsO1xuICAgIHRoaXMucHJvZ3JhbSA9IG51bGw7XG59O1xuXG52YXIgVUlEJDQgPSAwO1xuXG4vKipcbiAqIFN5c3RlbSBwbHVnaW4gdG8gdGhlIHJlbmRlcmVyIHRvIG1hbmFnZSBzaGFkZXJzLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWEkuc3lzdGVtc1xuICogQGV4dGVuZHMgUElYSS5TeXN0ZW1cbiAqL1xudmFyIFNoYWRlclN5c3RlbSA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKFN5c3RlbSkge1xuICAgIGZ1bmN0aW9uIFNoYWRlclN5c3RlbShyZW5kZXJlcilcbiAgICB7XG4gICAgICAgIFN5c3RlbS5jYWxsKHRoaXMsIHJlbmRlcmVyKTtcblxuICAgICAgICAvLyBWYWxpZGF0aW9uIGNoZWNrIHRoYXQgdGhpcyBlbnZpcm9ubWVudCBzdXBwb3J0IGBuZXcgRnVuY3Rpb25gXG4gICAgICAgIHRoaXMuc3lzdGVtQ2hlY2soKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGN1cnJlbnQgV2ViR0wgcmVuZGVyaW5nIGNvbnRleHRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5nbCA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5zaGFkZXIgPSBudWxsO1xuICAgICAgICB0aGlzLnByb2dyYW0gPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDYWNoZSB0byBob2xkcyB0aGUgZ2VuZXJhdGVkIGZ1bmN0aW9ucy4gU3RvcmVkIGFnYWluc3QgVW5pZm9ybU9iamVjdHMgdW5pcXVlIHNpZ25hdHVyZVxuICAgICAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jYWNoZSA9IHt9O1xuXG4gICAgICAgIHRoaXMuaWQgPSBVSUQkNCsrO1xuICAgIH1cblxuICAgIGlmICggU3lzdGVtICkgU2hhZGVyU3lzdGVtLl9fcHJvdG9fXyA9IFN5c3RlbTtcbiAgICBTaGFkZXJTeXN0ZW0ucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggU3lzdGVtICYmIFN5c3RlbS5wcm90b3R5cGUgKTtcbiAgICBTaGFkZXJTeXN0ZW0ucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gU2hhZGVyU3lzdGVtO1xuXG4gICAgLyoqXG4gICAgICogT3ZlcnJpZGVhYmxlIGZ1bmN0aW9uIGJ5IGBAcGl4aS91bnNhZmUtZXZhbGAgdG8gc2lsZW5jZVxuICAgICAqIHRocm93aW5nIGFuIGVycm9yIGlmIHBsYXRmb3JtIGRvZXNuJ3Qgc3VwcG9ydCB1bnNhZmUtZXZhbHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFNoYWRlclN5c3RlbS5wcm90b3R5cGUuc3lzdGVtQ2hlY2sgPSBmdW5jdGlvbiBzeXN0ZW1DaGVjayAoKVxuICAgIHtcbiAgICAgICAgaWYgKCF1bnNhZmVFdmFsU3VwcG9ydGVkKCkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ3VycmVudCBlbnZpcm9ubWVudCBkb2VzIG5vdCBhbGxvdyB1bnNhZmUtZXZhbCwgJ1xuICAgICAgICAgICAgICAgICsgJ3BsZWFzZSB1c2UgQHBpeGkvdW5zYWZlLWV2YWwgbW9kdWxlIHRvIGVuYWJsZSBzdXBwb3J0LicpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIFNoYWRlclN5c3RlbS5wcm90b3R5cGUuY29udGV4dENoYW5nZSA9IGZ1bmN0aW9uIGNvbnRleHRDaGFuZ2UgKGdsKVxuICAgIHtcbiAgICAgICAgdGhpcy5nbCA9IGdsO1xuICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENoYW5nZXMgdGhlIGN1cnJlbnQgc2hhZGVyIHRvIHRoZSBvbmUgZ2l2ZW4gaW4gcGFyYW1ldGVyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuU2hhZGVyfSBzaGFkZXIgLSB0aGUgbmV3IHNoYWRlclxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gZG9udFN5bmMgLSBmYWxzZSBpZiB0aGUgc2hhZGVyIHNob3VsZCBhdXRvbWF0aWNhbGx5IHN5bmMgaXRzIHVuaWZvcm1zLlxuICAgICAqIEByZXR1cm5zIHtQSVhJLkdMUHJvZ3JhbX0gdGhlIGdsUHJvZ3JhbSB0aGF0IGJlbG9uZ3MgdG8gdGhlIHNoYWRlci5cbiAgICAgKi9cbiAgICBTaGFkZXJTeXN0ZW0ucHJvdG90eXBlLmJpbmQgPSBmdW5jdGlvbiBiaW5kIChzaGFkZXIsIGRvbnRTeW5jKVxuICAgIHtcbiAgICAgICAgc2hhZGVyLnVuaWZvcm1zLmdsb2JhbHMgPSB0aGlzLnJlbmRlcmVyLmdsb2JhbFVuaWZvcm1zO1xuXG4gICAgICAgIHZhciBwcm9ncmFtID0gc2hhZGVyLnByb2dyYW07XG4gICAgICAgIHZhciBnbFByb2dyYW0gPSBwcm9ncmFtLmdsUHJvZ3JhbXNbdGhpcy5yZW5kZXJlci5DT05URVhUX1VJRF0gfHwgdGhpcy5nZW5lcmF0ZVNoYWRlcihzaGFkZXIpO1xuXG4gICAgICAgIHRoaXMuc2hhZGVyID0gc2hhZGVyO1xuXG4gICAgICAgIC8vIFRPRE8gLSBzb21lIGN1cnJlbnQgUGl4aSBwbHVnaW5zIGJ5cGFzcyB0aGlzLi4gc28gaXQgbm90IHNhZmUgdG8gdXNlIHlldC4uXG4gICAgICAgIGlmICh0aGlzLnByb2dyYW0gIT09IHByb2dyYW0pXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMucHJvZ3JhbSA9IHByb2dyYW07XG4gICAgICAgICAgICB0aGlzLmdsLnVzZVByb2dyYW0oZ2xQcm9ncmFtLnByb2dyYW0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFkb250U3luYylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5zeW5jVW5pZm9ybUdyb3VwKHNoYWRlci51bmlmb3JtR3JvdXApO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGdsUHJvZ3JhbTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVXBsb2FkcyB0aGUgdW5pZm9ybXMgdmFsdWVzIHRvIHRoZSBjdXJyZW50bHkgYm91bmQgc2hhZGVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtvYmplY3R9IHVuaWZvcm1zIC0gdGhlIHVuaWZvcm1zIHZhbHVlcyB0aGF0IGJlIGFwcGxpZWQgdG8gdGhlIGN1cnJlbnQgc2hhZGVyXG4gICAgICovXG4gICAgU2hhZGVyU3lzdGVtLnByb3RvdHlwZS5zZXRVbmlmb3JtcyA9IGZ1bmN0aW9uIHNldFVuaWZvcm1zICh1bmlmb3JtcylcbiAgICB7XG4gICAgICAgIHZhciBzaGFkZXIgPSB0aGlzLnNoYWRlci5wcm9ncmFtO1xuICAgICAgICB2YXIgZ2xQcm9ncmFtID0gc2hhZGVyLmdsUHJvZ3JhbXNbdGhpcy5yZW5kZXJlci5DT05URVhUX1VJRF07XG5cbiAgICAgICAgc2hhZGVyLnN5bmNVbmlmb3JtcyhnbFByb2dyYW0udW5pZm9ybURhdGEsIHVuaWZvcm1zLCB0aGlzLnJlbmRlcmVyKTtcbiAgICB9O1xuXG4gICAgU2hhZGVyU3lzdGVtLnByb3RvdHlwZS5zeW5jVW5pZm9ybUdyb3VwID0gZnVuY3Rpb24gc3luY1VuaWZvcm1Hcm91cCAoZ3JvdXApXG4gICAge1xuICAgICAgICB2YXIgZ2xQcm9ncmFtID0gdGhpcy5nZXRnbFByb2dyYW0oKTtcblxuICAgICAgICBpZiAoIWdyb3VwLnN0YXRpYyB8fCBncm91cC5kaXJ0eUlkICE9PSBnbFByb2dyYW0udW5pZm9ybUdyb3Vwc1tncm91cC5pZF0pXG4gICAgICAgIHtcbiAgICAgICAgICAgIGdsUHJvZ3JhbS51bmlmb3JtR3JvdXBzW2dyb3VwLmlkXSA9IGdyb3VwLmRpcnR5SWQ7XG5cbiAgICAgICAgICAgIHRoaXMuc3luY1VuaWZvcm1zKGdyb3VwLCBnbFByb2dyYW0pO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIE92ZXJyaWRlYWJsZSBieSB0aGUgQHBpeGkvdW5zYWZlLWV2YWwgcGFja2FnZSB0byB1c2Ugc3RhdGljXG4gICAgICogc3luY1VuZm9ybXMgaW5zdGVhZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgU2hhZGVyU3lzdGVtLnByb3RvdHlwZS5zeW5jVW5pZm9ybXMgPSBmdW5jdGlvbiBzeW5jVW5pZm9ybXMgKGdyb3VwLCBnbFByb2dyYW0pXG4gICAge1xuICAgICAgICB2YXIgc3luY0Z1bmMgPSBncm91cC5zeW5jVW5pZm9ybXNbdGhpcy5zaGFkZXIucHJvZ3JhbS5pZF0gfHwgdGhpcy5jcmVhdGVTeW5jR3JvdXBzKGdyb3VwKTtcblxuICAgICAgICBzeW5jRnVuYyhnbFByb2dyYW0udW5pZm9ybURhdGEsIGdyb3VwLnVuaWZvcm1zLCB0aGlzLnJlbmRlcmVyKTtcbiAgICB9O1xuXG4gICAgU2hhZGVyU3lzdGVtLnByb3RvdHlwZS5jcmVhdGVTeW5jR3JvdXBzID0gZnVuY3Rpb24gY3JlYXRlU3luY0dyb3VwcyAoZ3JvdXApXG4gICAge1xuICAgICAgICB2YXIgaWQgPSB0aGlzLmdldFNpZ25hdHVyZShncm91cCwgdGhpcy5zaGFkZXIucHJvZ3JhbS51bmlmb3JtRGF0YSk7XG5cbiAgICAgICAgaWYgKCF0aGlzLmNhY2hlW2lkXSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5jYWNoZVtpZF0gPSBnZW5lcmF0ZVVuaWZvcm1zU3luYyhncm91cCwgdGhpcy5zaGFkZXIucHJvZ3JhbS51bmlmb3JtRGF0YSk7XG4gICAgICAgIH1cblxuICAgICAgICBncm91cC5zeW5jVW5pZm9ybXNbdGhpcy5zaGFkZXIucHJvZ3JhbS5pZF0gPSB0aGlzLmNhY2hlW2lkXTtcblxuICAgICAgICByZXR1cm4gZ3JvdXAuc3luY1VuaWZvcm1zW3RoaXMuc2hhZGVyLnByb2dyYW0uaWRdO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUYWtlcyBhIHVuaWZvcm0gZ3JvdXAgYW5kIGRhdGEgYW5kIGdlbmVyYXRlcyBhIHVuaXF1ZSBzaWduYXR1cmUgZm9yIHRoZW0uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuVW5pZm9ybUdyb3VwfSBncm91cCB0aGUgdW5pZm9ybSBncm91cCB0byBnZXQgc2lnbmF0dXJlIG9mXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHVuaWZvcm1EYXRhIHVuaWZvcm0gaW5mb3JtYXRpb24gZ2VuZXJhdGVkIGJ5IHRoZSBzaGFkZXJcbiAgICAgKiBAcmV0dXJucyB7U3RyaW5nfSBVbmlxdWUgc2lnbmF0dXJlIG9mIHRoZSB1bmlmb3JtIGdyb3VwXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBTaGFkZXJTeXN0ZW0ucHJvdG90eXBlLmdldFNpZ25hdHVyZSA9IGZ1bmN0aW9uIGdldFNpZ25hdHVyZSAoZ3JvdXAsIHVuaWZvcm1EYXRhKVxuICAgIHtcbiAgICAgICAgdmFyIHVuaWZvcm1zID0gZ3JvdXAudW5pZm9ybXM7XG5cbiAgICAgICAgdmFyIHN0cmluZ3MgPSBbXTtcblxuICAgICAgICBmb3IgKHZhciBpIGluIHVuaWZvcm1zKVxuICAgICAgICB7XG4gICAgICAgICAgICBzdHJpbmdzLnB1c2goaSk7XG5cbiAgICAgICAgICAgIGlmICh1bmlmb3JtRGF0YVtpXSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdHJpbmdzLnB1c2godW5pZm9ybURhdGFbaV0udHlwZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc3RyaW5ncy5qb2luKCctJyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHVuZGVybHlpbmcgR0xTaGFkZSByb2YgdGhlIGN1cnJlbnRseSBib3VuZCBzaGFkZXIuXG4gICAgICogVGhpcyBjYW4gYmUgaGFuZHkgZm9yIHdoZW4geW91IHRvIGhhdmUgYSBsaXR0bGUgbW9yZSBjb250cm9sIG92ZXIgdGhlIHNldHRpbmcgb2YgeW91ciB1bmlmb3Jtcy5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuR0xQcm9ncmFtfSB0aGUgZ2xQcm9ncmFtIGZvciB0aGUgY3VycmVudGx5IGJvdW5kIFNoYWRlciBmb3IgdGhpcyBjb250ZXh0XG4gICAgICovXG4gICAgU2hhZGVyU3lzdGVtLnByb3RvdHlwZS5nZXRnbFByb2dyYW0gPSBmdW5jdGlvbiBnZXRnbFByb2dyYW0gKClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLnNoYWRlcilcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2hhZGVyLnByb2dyYW0uZ2xQcm9ncmFtc1t0aGlzLnJlbmRlcmVyLkNPTlRFWFRfVUlEXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBHZW5lcmF0ZXMgYSBnbFByb2dyYW0gdmVyc2lvbiBvZiB0aGUgU2hhZGVyIHByb3ZpZGVkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuU2hhZGVyfSBzaGFkZXIgdGhlIHNoYWRlciB0aGF0IHRoZSBnbFByb2dyYW0gd2lsbCBiZSBiYXNlZCBvbi5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdMUHJvZ3JhbX0gQSBzaGlueSBuZXcgZ2xQcm9ncmFtIVxuICAgICAqL1xuICAgIFNoYWRlclN5c3RlbS5wcm90b3R5cGUuZ2VuZXJhdGVTaGFkZXIgPSBmdW5jdGlvbiBnZW5lcmF0ZVNoYWRlciAoc2hhZGVyKVxuICAgIHtcbiAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcblxuICAgICAgICB2YXIgcHJvZ3JhbSA9IHNoYWRlci5wcm9ncmFtO1xuXG4gICAgICAgIHZhciBhdHRyaWJNYXAgPSB7fTtcblxuICAgICAgICBmb3IgKHZhciBpIGluIHByb2dyYW0uYXR0cmlidXRlRGF0YSlcbiAgICAgICAge1xuICAgICAgICAgICAgYXR0cmliTWFwW2ldID0gcHJvZ3JhbS5hdHRyaWJ1dGVEYXRhW2ldLmxvY2F0aW9uO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHNoYWRlclByb2dyYW0gPSBjb21waWxlUHJvZ3JhbShnbCwgcHJvZ3JhbS52ZXJ0ZXhTcmMsIHByb2dyYW0uZnJhZ21lbnRTcmMsIGF0dHJpYk1hcCk7XG4gICAgICAgIHZhciB1bmlmb3JtRGF0YSA9IHt9O1xuXG4gICAgICAgIGZvciAodmFyIGkkMSBpbiBwcm9ncmFtLnVuaWZvcm1EYXRhKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgZGF0YSA9IHByb2dyYW0udW5pZm9ybURhdGFbaSQxXTtcblxuICAgICAgICAgICAgdW5pZm9ybURhdGFbaSQxXSA9IHtcbiAgICAgICAgICAgICAgICBsb2NhdGlvbjogZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHNoYWRlclByb2dyYW0sIGkkMSksXG4gICAgICAgICAgICAgICAgdmFsdWU6IGRlZmF1bHRWYWx1ZShkYXRhLnR5cGUsIGRhdGEuc2l6ZSksXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGdsUHJvZ3JhbSA9IG5ldyBHTFByb2dyYW0oc2hhZGVyUHJvZ3JhbSwgdW5pZm9ybURhdGEpO1xuXG4gICAgICAgIHByb2dyYW0uZ2xQcm9ncmFtc1t0aGlzLnJlbmRlcmVyLkNPTlRFWFRfVUlEXSA9IGdsUHJvZ3JhbTtcblxuICAgICAgICByZXR1cm4gZ2xQcm9ncmFtO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXNldHMgU2hhZGVyU3lzdGVtIHN0YXRlLCBkb2VzIG5vdCBhZmZlY3QgV2ViR0wgc3RhdGVcbiAgICAgKi9cbiAgICBTaGFkZXJTeXN0ZW0ucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gcmVzZXQgKClcbiAgICB7XG4gICAgICAgIHRoaXMucHJvZ3JhbSA9IG51bGw7XG4gICAgICAgIHRoaXMuc2hhZGVyID0gbnVsbDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhpcyBTeXN0ZW0gYW5kIHJlbW92ZXMgYWxsIGl0cyB0ZXh0dXJlc1xuICAgICAqL1xuICAgIFNoYWRlclN5c3RlbS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3kgKClcbiAgICB7XG4gICAgICAgIC8vIFRPRE8gaW1wbGVtZW50IGRlc3Ryb3kgbWV0aG9kIGZvciBTaGFkZXJTeXN0ZW1cbiAgICAgICAgdGhpcy5kZXN0cm95ZWQgPSB0cnVlO1xuICAgIH07XG5cbiAgICByZXR1cm4gU2hhZGVyU3lzdGVtO1xufShTeXN0ZW0pKTtcblxuLyoqXG4gKiBNYXBzIGdsIGJsZW5kIGNvbWJpbmF0aW9ucyB0byBXZWJHTC5cbiAqXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGZ1bmN0aW9uIG1hcFdlYkdMQmxlbmRNb2Rlc1RvUGl4aVxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbCAtIFRoZSByZW5kZXJpbmcgY29udGV4dC5cbiAqIEBwYXJhbSB7bnVtYmVyW11bXX0gW2FycmF5PVtdXSAtIFRoZSBhcnJheSB0byBvdXRwdXQgaW50by5cbiAqIEByZXR1cm4ge251bWJlcltdW119IE1hcHBlZCBtb2Rlcy5cbiAqL1xuZnVuY3Rpb24gbWFwV2ViR0xCbGVuZE1vZGVzVG9QaXhpKGdsLCBhcnJheSlcbntcbiAgICBpZiAoIGFycmF5ID09PSB2b2lkIDAgKSBhcnJheSA9IFtdO1xuXG4gICAgLy8gVE9ETyAtIHByZW11bHRpcGx5IGFscGhhIHdvdWxkIGJlIGRpZmZlcmVudC5cbiAgICAvLyBhZGQgYSBib29sZWFuIGZvciB0aGF0IVxuICAgIGFycmF5W0JMRU5EX01PREVTLk5PUk1BTF0gPSBbZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgICBhcnJheVtCTEVORF9NT0RFUy5BRERdID0gW2dsLk9ORSwgZ2wuT05FXTtcbiAgICBhcnJheVtCTEVORF9NT0RFUy5NVUxUSVBMWV0gPSBbZ2wuRFNUX0NPTE9SLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBLCBnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICAgIGFycmF5W0JMRU5EX01PREVTLlNDUkVFTl0gPSBbZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0NPTE9SLCBnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICAgIGFycmF5W0JMRU5EX01PREVTLk9WRVJMQVldID0gW2dsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuREFSS0VOXSA9IFtnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICAgIGFycmF5W0JMRU5EX01PREVTLkxJR0hURU5dID0gW2dsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuQ09MT1JfRE9ER0VdID0gW2dsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuQ09MT1JfQlVSTl0gPSBbZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgICBhcnJheVtCTEVORF9NT0RFUy5IQVJEX0xJR0hUXSA9IFtnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICAgIGFycmF5W0JMRU5EX01PREVTLlNPRlRfTElHSFRdID0gW2dsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuRElGRkVSRU5DRV0gPSBbZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgICBhcnJheVtCTEVORF9NT0RFUy5FWENMVVNJT05dID0gW2dsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuSFVFXSA9IFtnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICAgIGFycmF5W0JMRU5EX01PREVTLlNBVFVSQVRJT05dID0gW2dsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuQ09MT1JdID0gW2dsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuTFVNSU5PU0lUWV0gPSBbZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgICBhcnJheVtCTEVORF9NT0RFUy5OT05FXSA9IFswLCAwXTtcblxuICAgIC8vIG5vdC1wcmVtdWx0aXBsaWVkIGJsZW5kIG1vZGVzXG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuTk9STUFMX05QTV0gPSBbZ2wuU1JDX0FMUEhBLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBLCBnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICAgIGFycmF5W0JMRU5EX01PREVTLkFERF9OUE1dID0gW2dsLlNSQ19BTFBIQSwgZ2wuT05FLCBnbC5PTkUsIGdsLk9ORV07XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuU0NSRUVOX05QTV0gPSBbZ2wuU1JDX0FMUEhBLCBnbC5PTkVfTUlOVVNfU1JDX0NPTE9SLCBnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuXG4gICAgLy8gY29tcG9zaXRlIG9wZXJhdGlvbnNcbiAgICBhcnJheVtCTEVORF9NT0RFUy5TUkNfSU5dID0gW2dsLkRTVF9BTFBIQSwgZ2wuWkVST107XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuU1JDX09VVF0gPSBbZ2wuT05FX01JTlVTX0RTVF9BTFBIQSwgZ2wuWkVST107XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuU1JDX0FUT1BdID0gW2dsLkRTVF9BTFBIQSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuRFNUX09WRVJdID0gW2dsLk9ORV9NSU5VU19EU1RfQUxQSEEsIGdsLk9ORV07XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuRFNUX0lOXSA9IFtnbC5aRVJPLCBnbC5TUkNfQUxQSEFdO1xuICAgIGFycmF5W0JMRU5EX01PREVTLkRTVF9PVVRdID0gW2dsLlpFUk8sIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICAgIGFycmF5W0JMRU5EX01PREVTLkRTVF9BVE9QXSA9IFtnbC5PTkVfTUlOVVNfRFNUX0FMUEhBLCBnbC5TUkNfQUxQSEFdO1xuICAgIGFycmF5W0JMRU5EX01PREVTLlhPUl0gPSBbZ2wuT05FX01JTlVTX0RTVF9BTFBIQSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG5cbiAgICAvLyBTVUJUUkFDVCBmcm9tIGZsYXNoXG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuU1VCVFJBQ1RdID0gW2dsLk9ORSwgZ2wuT05FLCBnbC5PTkUsIGdsLk9ORSwgZ2wuRlVOQ19SRVZFUlNFX1NVQlRSQUNULCBnbC5GVU5DX0FERF07XG5cbiAgICByZXR1cm4gYXJyYXk7XG59XG5cbnZhciBCTEVORCQxID0gMDtcbnZhciBPRkZTRVQkMSA9IDE7XG52YXIgQ1VMTElORyQxID0gMjtcbnZhciBERVBUSF9URVNUJDEgPSAzO1xudmFyIFdJTkRJTkckMSA9IDQ7XG5cbi8qKlxuICogU3lzdGVtIHBsdWdpbiB0byB0aGUgcmVuZGVyZXIgdG8gbWFuYWdlIFdlYkdMIHN0YXRlIG1hY2hpbmVzLlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5TeXN0ZW1cbiAqIEBtZW1iZXJvZiBQSVhJLnN5c3RlbXNcbiAqL1xudmFyIFN0YXRlU3lzdGVtID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoU3lzdGVtKSB7XG4gICAgZnVuY3Rpb24gU3RhdGVTeXN0ZW0ocmVuZGVyZXIpXG4gICAge1xuICAgICAgICBTeXN0ZW0uY2FsbCh0aGlzLCByZW5kZXJlcik7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdMIGNvbnRleHRcbiAgICAgICAgICogQG1lbWJlciB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZ2wgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTdGF0ZSBJRFxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zdGF0ZUlkID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUG9seWdvbiBvZmZzZXRcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucG9seWdvbk9mZnNldCA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEJsZW5kIG1vZGVcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLkJMRU5EX01PREVTLk5PTkVcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmJsZW5kTW9kZSA9IEJMRU5EX01PREVTLk5PTkU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZXRoZXIgY3VycmVudCBibGVuZCBlcXVhdGlvbiBpcyBkaWZmZXJlbnRcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fYmxlbmRFcSA9IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb2xsZWN0aW9uIG9mIGNhbGxzXG4gICAgICAgICAqIEBtZW1iZXIge2Z1bmN0aW9uW119XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5tYXAgPSBbXTtcblxuICAgICAgICAvLyBtYXAgZnVuY3Rpb25zIGZvciB3aGVuIHdlIHNldCBzdGF0ZS4uXG4gICAgICAgIHRoaXMubWFwW0JMRU5EJDFdID0gdGhpcy5zZXRCbGVuZDtcbiAgICAgICAgdGhpcy5tYXBbT0ZGU0VUJDFdID0gdGhpcy5zZXRPZmZzZXQ7XG4gICAgICAgIHRoaXMubWFwW0NVTExJTkckMV0gPSB0aGlzLnNldEN1bGxGYWNlO1xuICAgICAgICB0aGlzLm1hcFtERVBUSF9URVNUJDFdID0gdGhpcy5zZXREZXB0aFRlc3Q7XG4gICAgICAgIHRoaXMubWFwW1dJTkRJTkckMV0gPSB0aGlzLnNldEZyb250RmFjZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ29sbGVjdGlvbiBvZiBjaGVjayBjYWxsc1xuICAgICAgICAgKiBAbWVtYmVyIHtmdW5jdGlvbltdfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY2hlY2tzID0gW107XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERlZmF1bHQgV2ViR0wgU3RhdGVcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5TdGF0ZX1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRlZmF1bHRTdGF0ZSA9IG5ldyBTdGF0ZSgpO1xuICAgICAgICB0aGlzLmRlZmF1bHRTdGF0ZS5ibGVuZCA9IHRydWU7XG4gICAgICAgIHRoaXMuZGVmYXVsdFN0YXRlLmRlcHRoID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAoIFN5c3RlbSApIFN0YXRlU3lzdGVtLl9fcHJvdG9fXyA9IFN5c3RlbTtcbiAgICBTdGF0ZVN5c3RlbS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBTeXN0ZW0gJiYgU3lzdGVtLnByb3RvdHlwZSApO1xuICAgIFN0YXRlU3lzdGVtLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFN0YXRlU3lzdGVtO1xuXG4gICAgU3RhdGVTeXN0ZW0ucHJvdG90eXBlLmNvbnRleHRDaGFuZ2UgPSBmdW5jdGlvbiBjb250ZXh0Q2hhbmdlIChnbClcbiAgICB7XG4gICAgICAgIHRoaXMuZ2wgPSBnbDtcblxuICAgICAgICB0aGlzLmJsZW5kTW9kZXMgPSBtYXBXZWJHTEJsZW5kTW9kZXNUb1BpeGkoZ2wpO1xuXG4gICAgICAgIHRoaXMuc2V0KHRoaXMuZGVmYXVsdFN0YXRlKTtcblxuICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGN1cnJlbnQgc3RhdGVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Kn0gc3RhdGUgLSBUaGUgc3RhdGUgdG8gc2V0LlxuICAgICAqL1xuICAgIFN0YXRlU3lzdGVtLnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbiBzZXQgKHN0YXRlKVxuICAgIHtcbiAgICAgICAgc3RhdGUgPSBzdGF0ZSB8fCB0aGlzLmRlZmF1bHRTdGF0ZTtcblxuICAgICAgICAvLyBUT0RPIG1heWJlIHRvIGFuIG9iamVjdCBjaGVjaz8gKCB0aGlzLnN0YXRlID09PSBzdGF0ZSApP1xuICAgICAgICBpZiAodGhpcy5zdGF0ZUlkICE9PSBzdGF0ZS5kYXRhKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgZGlmZiA9IHRoaXMuc3RhdGVJZCBeIHN0YXRlLmRhdGE7XG4gICAgICAgICAgICB2YXIgaSA9IDA7XG5cbiAgICAgICAgICAgIC8vIG9yZGVyIGZyb20gbGVhc3QgdG8gbW9zdCBjb21tb25cbiAgICAgICAgICAgIHdoaWxlIChkaWZmKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmIChkaWZmICYgMSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHN0YXRlIGNoYW5nZSFcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tYXBbaV0uY2FsbCh0aGlzLCAhIShzdGF0ZS5kYXRhICYgKDEgPDwgaSkpKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBkaWZmID0gZGlmZiA+PiAxO1xuICAgICAgICAgICAgICAgIGkrKztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5zdGF0ZUlkID0gc3RhdGUuZGF0YTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGJhc2VkIG9uIHRoZSBhYm92ZSBzZXR0aW5ncyB3ZSBjaGVjayBmb3Igc3BlY2lmaWMgbW9kZXMuLlxuICAgICAgICAvLyBmb3IgZXhhbXBsZSBpZiBibGVuZCBpcyBhY3RpdmUgd2UgY2hlY2sgYW5kIHNldCB0aGUgYmxlbmQgbW9kZXNcbiAgICAgICAgLy8gb3Igb2YgcG9seWdvbiBvZmZzZXQgaXMgYWN0aXZlIHdlIGNoZWNrIHRoZSBwb2x5IGRlcHRoLlxuICAgICAgICBmb3IgKHZhciBpJDEgPSAwOyBpJDEgPCB0aGlzLmNoZWNrcy5sZW5ndGg7IGkkMSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmNoZWNrc1tpJDFdKHRoaXMsIHN0YXRlKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBzdGF0ZSwgd2hlbiBwcmV2aW91cyBzdGF0ZSBpcyB1bmtub3duXG4gICAgICpcbiAgICAgKiBAcGFyYW0geyp9IHN0YXRlIC0gVGhlIHN0YXRlIHRvIHNldFxuICAgICAqL1xuICAgIFN0YXRlU3lzdGVtLnByb3RvdHlwZS5mb3JjZVN0YXRlID0gZnVuY3Rpb24gZm9yY2VTdGF0ZSAoc3RhdGUpXG4gICAge1xuICAgICAgICBzdGF0ZSA9IHN0YXRlIHx8IHRoaXMuZGVmYXVsdFN0YXRlO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubWFwLmxlbmd0aDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLm1hcFtpXS5jYWxsKHRoaXMsICEhKHN0YXRlLmRhdGEgJiAoMSA8PCBpKSkpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGkkMSA9IDA7IGkkMSA8IHRoaXMuY2hlY2tzLmxlbmd0aDsgaSQxKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuY2hlY2tzW2kkMV0odGhpcywgc3RhdGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zdGF0ZUlkID0gc3RhdGUuZGF0YTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRW5hYmxlcyBvciBkaXNhYmxlZCBibGVuZGluZy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gdmFsdWUgLSBUdXJuIG9uIG9yIG9mZiB3ZWJnbCBibGVuZGluZy5cbiAgICAgKi9cbiAgICBTdGF0ZVN5c3RlbS5wcm90b3R5cGUuc2V0QmxlbmQgPSBmdW5jdGlvbiBzZXRCbGVuZCAodmFsdWUpXG4gICAge1xuICAgICAgICB0aGlzLnVwZGF0ZUNoZWNrKFN0YXRlU3lzdGVtLmNoZWNrQmxlbmRNb2RlLCB2YWx1ZSk7XG5cbiAgICAgICAgdGhpcy5nbFt2YWx1ZSA/ICdlbmFibGUnIDogJ2Rpc2FibGUnXSh0aGlzLmdsLkJMRU5EKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRW5hYmxlcyBvciBkaXNhYmxlIHBvbHlnb24gb2Zmc2V0IGZpbGxcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gdmFsdWUgLSBUdXJuIG9uIG9yIG9mZiB3ZWJnbCBwb2x5Z29uIG9mZnNldCB0ZXN0aW5nLlxuICAgICAqL1xuICAgIFN0YXRlU3lzdGVtLnByb3RvdHlwZS5zZXRPZmZzZXQgPSBmdW5jdGlvbiBzZXRPZmZzZXQgKHZhbHVlKVxuICAgIHtcbiAgICAgICAgdGhpcy51cGRhdGVDaGVjayhTdGF0ZVN5c3RlbS5jaGVja1BvbHlnb25PZmZzZXQsIHZhbHVlKTtcblxuICAgICAgICB0aGlzLmdsW3ZhbHVlID8gJ2VuYWJsZScgOiAnZGlzYWJsZSddKHRoaXMuZ2wuUE9MWUdPTl9PRkZTRVRfRklMTCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldHMgd2hldGhlciB0byBlbmFibGUgb3IgZGlzYWJsZSBkZXB0aCB0ZXN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSB2YWx1ZSAtIFR1cm4gb24gb3Igb2ZmIHdlYmdsIGRlcHRoIHRlc3RpbmcuXG4gICAgICovXG4gICAgU3RhdGVTeXN0ZW0ucHJvdG90eXBlLnNldERlcHRoVGVzdCA9IGZ1bmN0aW9uIHNldERlcHRoVGVzdCAodmFsdWUpXG4gICAge1xuICAgICAgICB0aGlzLmdsW3ZhbHVlID8gJ2VuYWJsZScgOiAnZGlzYWJsZSddKHRoaXMuZ2wuREVQVEhfVEVTVCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldHMgd2hldGhlciB0byBlbmFibGUgb3IgZGlzYWJsZSBjdWxsIGZhY2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHZhbHVlIC0gVHVybiBvbiBvciBvZmYgd2ViZ2wgY3VsbCBmYWNlLlxuICAgICAqL1xuICAgIFN0YXRlU3lzdGVtLnByb3RvdHlwZS5zZXRDdWxsRmFjZSA9IGZ1bmN0aW9uIHNldEN1bGxGYWNlICh2YWx1ZSlcbiAgICB7XG4gICAgICAgIHRoaXMuZ2xbdmFsdWUgPyAnZW5hYmxlJyA6ICdkaXNhYmxlJ10odGhpcy5nbC5DVUxMX0ZBQ0UpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBnbCBmcm9udCBmYWNlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSB2YWx1ZSAtIHRydWUgaXMgY2xvY2t3aXNlIGFuZCBmYWxzZSBpcyBjb3VudGVyLWNsb2Nrd2lzZVxuICAgICAqL1xuICAgIFN0YXRlU3lzdGVtLnByb3RvdHlwZS5zZXRGcm9udEZhY2UgPSBmdW5jdGlvbiBzZXRGcm9udEZhY2UgKHZhbHVlKVxuICAgIHtcbiAgICAgICAgdGhpcy5nbC5mcm9udEZhY2UodGhpcy5nbFt2YWx1ZSA/ICdDVycgOiAnQ0NXJ10pO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBibGVuZCBtb2RlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlIC0gVGhlIGJsZW5kIG1vZGUgdG8gc2V0IHRvLlxuICAgICAqL1xuICAgIFN0YXRlU3lzdGVtLnByb3RvdHlwZS5zZXRCbGVuZE1vZGUgPSBmdW5jdGlvbiBzZXRCbGVuZE1vZGUgKHZhbHVlKVxuICAgIHtcbiAgICAgICAgaWYgKHZhbHVlID09PSB0aGlzLmJsZW5kTW9kZSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5ibGVuZE1vZGUgPSB2YWx1ZTtcblxuICAgICAgICB2YXIgbW9kZSA9IHRoaXMuYmxlbmRNb2Rlc1t2YWx1ZV07XG4gICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XG5cbiAgICAgICAgaWYgKG1vZGUubGVuZ3RoID09PSAyKVxuICAgICAgICB7XG4gICAgICAgICAgICBnbC5ibGVuZEZ1bmMobW9kZVswXSwgbW9kZVsxXSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBnbC5ibGVuZEZ1bmNTZXBhcmF0ZShtb2RlWzBdLCBtb2RlWzFdLCBtb2RlWzJdLCBtb2RlWzNdKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobW9kZS5sZW5ndGggPT09IDYpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2JsZW5kRXEgPSB0cnVlO1xuICAgICAgICAgICAgZ2wuYmxlbmRFcXVhdGlvblNlcGFyYXRlKG1vZGVbNF0sIG1vZGVbNV0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuX2JsZW5kRXEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2JsZW5kRXEgPSBmYWxzZTtcbiAgICAgICAgICAgIGdsLmJsZW5kRXF1YXRpb25TZXBhcmF0ZShnbC5GVU5DX0FERCwgZ2wuRlVOQ19BREQpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHBvbHlnb24gb2Zmc2V0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlIC0gdGhlIHBvbHlnb24gb2Zmc2V0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNjYWxlIC0gdGhlIHBvbHlnb24gb2Zmc2V0IHNjYWxlXG4gICAgICovXG4gICAgU3RhdGVTeXN0ZW0ucHJvdG90eXBlLnNldFBvbHlnb25PZmZzZXQgPSBmdW5jdGlvbiBzZXRQb2x5Z29uT2Zmc2V0ICh2YWx1ZSwgc2NhbGUpXG4gICAge1xuICAgICAgICB0aGlzLmdsLnBvbHlnb25PZmZzZXQodmFsdWUsIHNjYWxlKTtcbiAgICB9O1xuXG4gICAgLy8gdXNlZFxuICAgIC8qKlxuICAgICAqIFJlc2V0cyBhbGwgdGhlIGxvZ2ljIGFuZCBkaXNhYmxlcyB0aGUgdmFvc1xuICAgICAqL1xuICAgIFN0YXRlU3lzdGVtLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uIHJlc2V0ICgpXG4gICAge1xuICAgICAgICB0aGlzLmdsLnBpeGVsU3RvcmVpKHRoaXMuZ2wuVU5QQUNLX0ZMSVBfWV9XRUJHTCwgZmFsc2UpO1xuXG4gICAgICAgIHRoaXMuZm9yY2VTdGF0ZSgwKTtcblxuICAgICAgICB0aGlzLl9ibGVuZEVxID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5ibGVuZE1vZGUgPSAtMTtcbiAgICAgICAgdGhpcy5zZXRCbGVuZE1vZGUoMCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIGNoZWNrcyB0byBzZWUgd2hpY2ggdXBkYXRlcyBzaG91bGQgYmUgY2hlY2tlZCBiYXNlZCBvbiB3aGljaCBzZXR0aW5ncyBoYXZlIGJlZW4gYWN0aXZhdGVkLlxuICAgICAqIEZvciBleGFtcGxlLCBpZiBibGVuZCBpcyBlbmFibGVkIHRoZW4gd2Ugc2hvdWxkIGNoZWNrIHRoZSBibGVuZCBtb2RlcyBlYWNoIHRpbWUgdGhlIHN0YXRlIGlzIGNoYW5nZWRcbiAgICAgKiBvciBpZiBwb2x5Z29uIGZpbGwgaXMgYWN0aXZhdGVkIHRoZW4gd2UgbmVlZCB0byBjaGVjayBpZiB0aGUgcG9seWdvbiBvZmZzZXQgY2hhbmdlcy5cbiAgICAgKiBUaGUgaWRlYSBpcyB0aGF0IHdlIG9ubHkgY2hlY2sgd2hhdCB3ZSBoYXZlIHRvby5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgIHRoZSBjaGVja2luZyBmdW5jdGlvbiB0byBhZGQgb3IgcmVtb3ZlXG4gICAgICogQHBhcmFtIHtib29sZWFufSB2YWx1ZSAgc2hvdWxkIHRoZSBjaGVjayBmdW5jdGlvbiBiZSBhZGRlZCBvciByZW1vdmVkLlxuICAgICAqL1xuICAgIFN0YXRlU3lzdGVtLnByb3RvdHlwZS51cGRhdGVDaGVjayA9IGZ1bmN0aW9uIHVwZGF0ZUNoZWNrIChmdW5jLCB2YWx1ZSlcbiAgICB7XG4gICAgICAgIHZhciBpbmRleCA9IHRoaXMuY2hlY2tzLmluZGV4T2YoZnVuYyk7XG5cbiAgICAgICAgaWYgKHZhbHVlICYmIGluZGV4ID09PSAtMSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5jaGVja3MucHVzaChmdW5jKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICghdmFsdWUgJiYgaW5kZXggIT09IC0xKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmNoZWNrcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEEgcHJpdmF0ZSBsaXR0bGUgd3JhcHBlciBmdW5jdGlvbiB0aGF0IHdlIGNhbGwgdG8gY2hlY2sgdGhlIGJsZW5kIG1vZGUuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuU3RhdGVTeXN0ZW19IFN5c3RlbSAgdGhlIFN5c3RlbSB0byBwZXJmb3JtIHRoZSBzdGF0ZSBjaGVjayBvblxuICAgICAqIEBwYXJhbSB7UElYSS5TdGF0ZX0gc3RhdGUgIHRoZSBzdGF0ZSB0aGF0IHRoZSBibGVuZE1vZGUgd2lsbCBwdWxsZWQgZnJvbVxuICAgICAqL1xuICAgIFN0YXRlU3lzdGVtLmNoZWNrQmxlbmRNb2RlID0gZnVuY3Rpb24gY2hlY2tCbGVuZE1vZGUgKHN5c3RlbSwgc3RhdGUpXG4gICAge1xuICAgICAgICBzeXN0ZW0uc2V0QmxlbmRNb2RlKHN0YXRlLmJsZW5kTW9kZSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEEgcHJpdmF0ZSBsaXR0bGUgd3JhcHBlciBmdW5jdGlvbiB0aGF0IHdlIGNhbGwgdG8gY2hlY2sgdGhlIHBvbHlnb24gb2Zmc2V0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLlN0YXRlU3lzdGVtfSBTeXN0ZW0gIHRoZSBTeXN0ZW0gdG8gcGVyZm9ybSB0aGUgc3RhdGUgY2hlY2sgb25cbiAgICAgKiBAcGFyYW0ge1BJWEkuU3RhdGV9IHN0YXRlICB0aGUgc3RhdGUgdGhhdCB0aGUgYmxlbmRNb2RlIHdpbGwgcHVsbGVkIGZyb21cbiAgICAgKi9cbiAgICBTdGF0ZVN5c3RlbS5jaGVja1BvbHlnb25PZmZzZXQgPSBmdW5jdGlvbiBjaGVja1BvbHlnb25PZmZzZXQgKHN5c3RlbSwgc3RhdGUpXG4gICAge1xuICAgICAgICBzeXN0ZW0uc2V0UG9seWdvbk9mZnNldChzdGF0ZS5wb2x5Z29uT2Zmc2V0LCAwKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIFN0YXRlU3lzdGVtO1xufShTeXN0ZW0pKTtcblxuLyoqXG4gKiBTeXN0ZW0gcGx1Z2luIHRvIHRoZSByZW5kZXJlciB0byBtYW5hZ2UgdGV4dHVyZSBnYXJiYWdlIGNvbGxlY3Rpb24gb24gdGhlIEdQVSxcbiAqIGVuc3VyaW5nIHRoYXQgaXQgZG9lcyBub3QgZ2V0IGNsb2dnZWQgdXAgd2l0aCB0ZXh0dXJlcyB0aGF0IGFyZSBubyBsb25nZXIgYmVpbmcgdXNlZC5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJLnN5c3RlbXNcbiAqIEBleHRlbmRzIFBJWEkuU3lzdGVtXG4gKi9cbnZhciBUZXh0dXJlR0NTeXN0ZW0gPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChTeXN0ZW0pIHtcbiAgICBmdW5jdGlvbiBUZXh0dXJlR0NTeXN0ZW0ocmVuZGVyZXIpXG4gICAge1xuICAgICAgICBTeXN0ZW0uY2FsbCh0aGlzLCByZW5kZXJlcik7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvdW50XG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNvdW50ID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ2hlY2sgY291bnRcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY2hlY2tDb3VudCA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1heGltdW0gaWRsZSB0aW1lLCBpbiBzZWNvbmRzXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHNlZSBQSVhJLnNldHRpbmdzLkdDX01BWF9JRExFXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm1heElkbGUgPSBzZXR0aW5ncy5HQ19NQVhfSURMRTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogTWF4aW11bSBudW1iZXIgb2YgaXRlbSB0byBjaGVja1xuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBzZWUgUElYSS5zZXR0aW5ncy5HQ19NQVhfQ0hFQ0tfQ09VTlRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY2hlY2tDb3VudE1heCA9IHNldHRpbmdzLkdDX01BWF9DSEVDS19DT1VOVDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ3VycmVudCBnYXJhYmFnZSBjb2xsZWN0aW9uIG1vZGVcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5HQ19NT0RFU31cbiAgICAgICAgICogQHNlZSBQSVhJLnNldHRpbmdzLkdDX01PREVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubW9kZSA9IHNldHRpbmdzLkdDX01PREU7XG4gICAgfVxuXG4gICAgaWYgKCBTeXN0ZW0gKSBUZXh0dXJlR0NTeXN0ZW0uX19wcm90b19fID0gU3lzdGVtO1xuICAgIFRleHR1cmVHQ1N5c3RlbS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBTeXN0ZW0gJiYgU3lzdGVtLnByb3RvdHlwZSApO1xuICAgIFRleHR1cmVHQ1N5c3RlbS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBUZXh0dXJlR0NTeXN0ZW07XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgdG8gc2VlIHdoZW4gdGhlIGxhc3QgdGltZSBhIHRleHR1cmUgd2FzIHVzZWRcbiAgICAgKiBpZiB0aGUgdGV4dHVyZSBoYXMgbm90IGJlZW4gdXNlZCBmb3IgYSBzcGVjaWZpZWQgYW1vdW50IG9mIHRpbWUgaXQgd2lsbCBiZSByZW1vdmVkIGZyb20gdGhlIEdQVVxuICAgICAqL1xuICAgIFRleHR1cmVHQ1N5c3RlbS5wcm90b3R5cGUucG9zdHJlbmRlciA9IGZ1bmN0aW9uIHBvc3RyZW5kZXIgKClcbiAgICB7XG4gICAgICAgIGlmICghdGhpcy5yZW5kZXJlci5yZW5kZXJpbmdUb1NjcmVlbilcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jb3VudCsrO1xuXG4gICAgICAgIGlmICh0aGlzLm1vZGUgPT09IEdDX01PREVTLk1BTlVBTClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jaGVja0NvdW50Kys7XG5cbiAgICAgICAgaWYgKHRoaXMuY2hlY2tDb3VudCA+IHRoaXMuY2hlY2tDb3VudE1heClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5jaGVja0NvdW50ID0gMDtcblxuICAgICAgICAgICAgdGhpcy5ydW4oKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgdG8gc2VlIHdoZW4gdGhlIGxhc3QgdGltZSBhIHRleHR1cmUgd2FzIHVzZWRcbiAgICAgKiBpZiB0aGUgdGV4dHVyZSBoYXMgbm90IGJlZW4gdXNlZCBmb3IgYSBzcGVjaWZpZWQgYW1vdW50IG9mIHRpbWUgaXQgd2lsbCBiZSByZW1vdmVkIGZyb20gdGhlIEdQVVxuICAgICAqL1xuICAgIFRleHR1cmVHQ1N5c3RlbS5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gcnVuICgpXG4gICAge1xuICAgICAgICB2YXIgdG0gPSB0aGlzLnJlbmRlcmVyLnRleHR1cmU7XG4gICAgICAgIHZhciBtYW5hZ2VkVGV4dHVyZXMgPSAgdG0ubWFuYWdlZFRleHR1cmVzO1xuICAgICAgICB2YXIgd2FzUmVtb3ZlZCA9IGZhbHNlO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWFuYWdlZFRleHR1cmVzLmxlbmd0aDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgdGV4dHVyZSA9IG1hbmFnZWRUZXh0dXJlc1tpXTtcblxuICAgICAgICAgICAgLy8gb25seSBzdXBwb3J0cyBub24gZ2VuZXJhdGVkIHRleHR1cmVzIGF0IHRoZSBtb21lbnQhXG4gICAgICAgICAgICBpZiAoIXRleHR1cmUuZnJhbWVidWZmZXIgJiYgdGhpcy5jb3VudCAtIHRleHR1cmUudG91Y2hlZCA+IHRoaXMubWF4SWRsZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0bS5kZXN0cm95VGV4dHVyZSh0ZXh0dXJlLCB0cnVlKTtcbiAgICAgICAgICAgICAgICBtYW5hZ2VkVGV4dHVyZXNbaV0gPSBudWxsO1xuICAgICAgICAgICAgICAgIHdhc1JlbW92ZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHdhc1JlbW92ZWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBqID0gMDtcblxuICAgICAgICAgICAgZm9yICh2YXIgaSQxID0gMDsgaSQxIDwgbWFuYWdlZFRleHR1cmVzLmxlbmd0aDsgaSQxKyspXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKG1hbmFnZWRUZXh0dXJlc1tpJDFdICE9PSBudWxsKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbWFuYWdlZFRleHR1cmVzW2orK10gPSBtYW5hZ2VkVGV4dHVyZXNbaSQxXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIG1hbmFnZWRUZXh0dXJlcy5sZW5ndGggPSBqO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYWxsIHRoZSB0ZXh0dXJlcyB3aXRoaW4gdGhlIHNwZWNpZmllZCBkaXNwbGF5T2JqZWN0IGFuZCBpdHMgY2hpbGRyZW4gZnJvbSB0aGUgR1BVXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gZGlzcGxheU9iamVjdCAtIHRoZSBkaXNwbGF5T2JqZWN0IHRvIHJlbW92ZSB0aGUgdGV4dHVyZXMgZnJvbS5cbiAgICAgKi9cbiAgICBUZXh0dXJlR0NTeXN0ZW0ucHJvdG90eXBlLnVubG9hZCA9IGZ1bmN0aW9uIHVubG9hZCAoZGlzcGxheU9iamVjdClcbiAgICB7XG4gICAgICAgIHZhciB0bSA9IHRoaXMucmVuZGVyZXIudGV4dHVyZVN5c3RlbTtcblxuICAgICAgICAvLyBvbmx5IGRlc3Ryb3kgbm9uIGdlbmVyYXRlZCB0ZXh0dXJlc1xuICAgICAgICBpZiAoZGlzcGxheU9iamVjdC5fdGV4dHVyZSAmJiBkaXNwbGF5T2JqZWN0Ll90ZXh0dXJlLl9nbFJlbmRlclRhcmdldHMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRtLmRlc3Ryb3lUZXh0dXJlKGRpc3BsYXlPYmplY3QuX3RleHR1cmUpO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IGRpc3BsYXlPYmplY3QuY2hpbGRyZW4ubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudW5sb2FkKGRpc3BsYXlPYmplY3QuY2hpbGRyZW5baV0pO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHJldHVybiBUZXh0dXJlR0NTeXN0ZW07XG59KFN5c3RlbSkpO1xuXG4vKipcbiAqIEludGVybmFsIHRleHR1cmUgZm9yIFdlYkdMIGNvbnRleHRcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEdMVGV4dHVyZSA9IGZ1bmN0aW9uIEdMVGV4dHVyZSh0ZXh0dXJlKVxue1xuICAgIC8qKlxuICAgICAqIFRoZSBXZWJHTCB0ZXh0dXJlXG4gICAgICogQG1lbWJlciB7V2ViR0xUZXh0dXJlfVxuICAgICAqL1xuICAgIHRoaXMudGV4dHVyZSA9IHRleHR1cmU7XG5cbiAgICAvKipcbiAgICAgKiBXaWR0aCBvZiB0ZXh0dXJlIHRoYXQgd2FzIHVzZWQgaW4gdGV4SW1hZ2UyRFxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLndpZHRoID0gLTE7XG5cbiAgICAvKipcbiAgICAgKiBIZWlnaHQgb2YgdGV4dHVyZSB0aGF0IHdhcyB1c2VkIGluIHRleEltYWdlMkRcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5oZWlnaHQgPSAtMTtcblxuICAgIC8qKlxuICAgICAqIFRleHR1cmUgY29udGVudHMgZGlydHkgZmxhZ1xuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLmRpcnR5SWQgPSAtMTtcblxuICAgIC8qKlxuICAgICAqIFRleHR1cmUgc3R5bGUgZGlydHkgZmxhZ1xuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLmRpcnR5U3R5bGVJZCA9IC0xO1xuXG4gICAgLyoqXG4gICAgICogV2hldGhlciBtaXAgbGV2ZWxzIGhhcyB0byBiZSBnZW5lcmF0ZWRcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqL1xuICAgIHRoaXMubWlwbWFwID0gZmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBXcmFwTW9kZSBjb3BpZWQgZnJvbSBiYXNlVGV4dHVyZVxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLndyYXBNb2RlID0gMzMwNzE7XG5cbiAgICAvKipcbiAgICAgKiBUeXBlIGNvcGllZCBmcm9tIGJhc2VUZXh0dXJlXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMudHlwZSA9IDY0MDg7XG5cbiAgICAvKipcbiAgICAgKiBUeXBlIGNvcGllZCBmcm9tIGJhc2VUZXh0dXJlXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMuaW50ZXJuYWxGb3JtYXQgPSA1MTIxO1xufTtcblxuLyoqXG4gKiBTeXN0ZW0gcGx1Z2luIHRvIHRoZSByZW5kZXJlciB0byBtYW5hZ2UgdGV4dHVyZXMuXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLlN5c3RlbVxuICogQG1lbWJlcm9mIFBJWEkuc3lzdGVtc1xuICovXG52YXIgVGV4dHVyZVN5c3RlbSA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKFN5c3RlbSkge1xuICAgIGZ1bmN0aW9uIFRleHR1cmVTeXN0ZW0ocmVuZGVyZXIpXG4gICAge1xuICAgICAgICBTeXN0ZW0uY2FsbCh0aGlzLCByZW5kZXJlcik7XG5cbiAgICAgICAgLy8gVE9ETyBzZXQgdG8gbWF4IHRleHR1cmVzLi4uXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBCb3VuZCB0ZXh0dXJlc1xuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkJhc2VUZXh0dXJlW119XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5ib3VuZFRleHR1cmVzID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDdXJyZW50IGxvY2F0aW9uXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmN1cnJlbnRMb2NhdGlvbiA9IC0xO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBMaXN0IG9mIG1hbmFnZWQgdGV4dHVyZXNcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5CYXNlVGV4dHVyZVtdfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubWFuYWdlZFRleHR1cmVzID0gW107XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERpZCBzb21lb25lIHRlbXBlciB3aXRoIHRleHR1cmVzIHN0YXRlPyBXZSdsbCBvdmVyd3JpdGUgdGhlbSB3aGVuIHdlIG5lZWQgdG8gdW5iaW5kIHNvbWV0aGluZy5cbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3Vua25vd25Cb3VuZFRleHR1cmVzID0gZmFsc2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEJhc2VUZXh0dXJlIHZhbHVlIHRoYXQgc2hvd3MgdGhhdCB3ZSBkb24ndCBrbm93IHdoYXQgaXMgYm91bmRcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5CYXNlVGV4dHVyZX1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnVua25vd25UZXh0dXJlID0gbmV3IEJhc2VUZXh0dXJlKCk7XG4gICAgfVxuXG4gICAgaWYgKCBTeXN0ZW0gKSBUZXh0dXJlU3lzdGVtLl9fcHJvdG9fXyA9IFN5c3RlbTtcbiAgICBUZXh0dXJlU3lzdGVtLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIFN5c3RlbSAmJiBTeXN0ZW0ucHJvdG90eXBlICk7XG4gICAgVGV4dHVyZVN5c3RlbS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBUZXh0dXJlU3lzdGVtO1xuXG4gICAgLyoqXG4gICAgICogU2V0cyB1cCB0aGUgcmVuZGVyZXIgY29udGV4dCBhbmQgbmVjZXNzYXJ5IGJ1ZmZlcnMuXG4gICAgICovXG4gICAgVGV4dHVyZVN5c3RlbS5wcm90b3R5cGUuY29udGV4dENoYW5nZSA9IGZ1bmN0aW9uIGNvbnRleHRDaGFuZ2UgKClcbiAgICB7XG4gICAgICAgIHZhciBnbCA9IHRoaXMuZ2wgPSB0aGlzLnJlbmRlcmVyLmdsO1xuXG4gICAgICAgIHRoaXMuQ09OVEVYVF9VSUQgPSB0aGlzLnJlbmRlcmVyLkNPTlRFWFRfVUlEO1xuXG4gICAgICAgIHRoaXMud2ViR0xWZXJzaW9uID0gdGhpcy5yZW5kZXJlci5jb250ZXh0LndlYkdMVmVyc2lvbjtcblxuICAgICAgICB2YXIgbWF4VGV4dHVyZXMgPSBnbC5nZXRQYXJhbWV0ZXIoZ2wuTUFYX1RFWFRVUkVfSU1BR0VfVU5JVFMpO1xuXG4gICAgICAgIHRoaXMuYm91bmRUZXh0dXJlcy5sZW5ndGggPSBtYXhUZXh0dXJlcztcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1heFRleHR1cmVzOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuYm91bmRUZXh0dXJlc1tpXSA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUT0RPIG1vdmUgdGhpcy4uIHRvIGEgbmljZSBtYWtlIGVtcHR5IHRleHR1cmVzIGNsYXNzLi5cbiAgICAgICAgdGhpcy5lbXB0eVRleHR1cmVzID0ge307XG5cbiAgICAgICAgdmFyIGVtcHR5VGV4dHVyZTJEID0gbmV3IEdMVGV4dHVyZShnbC5jcmVhdGVUZXh0dXJlKCkpO1xuXG4gICAgICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIGVtcHR5VGV4dHVyZTJELnRleHR1cmUpO1xuICAgICAgICBnbC50ZXhJbWFnZTJEKGdsLlRFWFRVUkVfMkQsIDAsIGdsLlJHQkEsIDEsIDEsIDAsIGdsLlJHQkEsIGdsLlVOU0lHTkVEX0JZVEUsIG5ldyBVaW50OEFycmF5KDQpKTtcblxuICAgICAgICB0aGlzLmVtcHR5VGV4dHVyZXNbZ2wuVEVYVFVSRV8yRF0gPSBlbXB0eVRleHR1cmUyRDtcbiAgICAgICAgdGhpcy5lbXB0eVRleHR1cmVzW2dsLlRFWFRVUkVfQ1VCRV9NQVBdID0gbmV3IEdMVGV4dHVyZShnbC5jcmVhdGVUZXh0dXJlKCkpO1xuXG4gICAgICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfQ1VCRV9NQVAsIHRoaXMuZW1wdHlUZXh0dXJlc1tnbC5URVhUVVJFX0NVQkVfTUFQXS50ZXh0dXJlKTtcblxuICAgICAgICBmb3IgKHZhciBpJDEgPSAwOyBpJDEgPCA2OyBpJDErKylcbiAgICAgICAge1xuICAgICAgICAgICAgZ2wudGV4SW1hZ2UyRChnbC5URVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1ggKyBpJDEsIDAsIGdsLlJHQkEsIDEsIDEsIDAsIGdsLlJHQkEsIGdsLlVOU0lHTkVEX0JZVEUsIG51bGwpO1xuICAgICAgICB9XG5cbiAgICAgICAgZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFX0NVQkVfTUFQLCBnbC5URVhUVVJFX01BR19GSUxURVIsIGdsLkxJTkVBUik7XG4gICAgICAgIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV9DVUJFX01BUCwgZ2wuVEVYVFVSRV9NSU5fRklMVEVSLCBnbC5MSU5FQVIpO1xuXG4gICAgICAgIGZvciAodmFyIGkkMiA9IDA7IGkkMiA8IHRoaXMuYm91bmRUZXh0dXJlcy5sZW5ndGg7IGkkMisrKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmJpbmQobnVsbCwgaSQyKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBCaW5kIGEgdGV4dHVyZSB0byBhIHNwZWNpZmljIGxvY2F0aW9uXG4gICAgICpcbiAgICAgKiBJZiB5b3Ugd2FudCB0byB1bmJpbmQgc29tZXRoaW5nLCBwbGVhc2UgdXNlIGB1bmJpbmQodGV4dHVyZSlgIGluc3RlYWQgb2YgYGJpbmQobnVsbCwgdGV4dHVyZUxvY2F0aW9uKWBcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0dXJlfFBJWEkuQmFzZVRleHR1cmV9IHRleHR1cmUgLSBUZXh0dXJlIHRvIGJpbmRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2xvY2F0aW9uPTBdIC0gTG9jYXRpb24gdG8gYmluZCBhdFxuICAgICAqL1xuICAgIFRleHR1cmVTeXN0ZW0ucHJvdG90eXBlLmJpbmQgPSBmdW5jdGlvbiBiaW5kICh0ZXh0dXJlLCBsb2NhdGlvbilcbiAgICB7XG4gICAgICAgIGlmICggbG9jYXRpb24gPT09IHZvaWQgMCApIGxvY2F0aW9uID0gMDtcblxuICAgICAgICB2YXIgcmVmID0gdGhpcztcbiAgICAgICAgdmFyIGdsID0gcmVmLmdsO1xuXG4gICAgICAgIGlmICh0ZXh0dXJlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0ZXh0dXJlID0gdGV4dHVyZS5iYXNlVGV4dHVyZSB8fCB0ZXh0dXJlO1xuXG4gICAgICAgICAgICBpZiAodGV4dHVyZS52YWxpZClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0ZXh0dXJlLnRvdWNoZWQgPSB0aGlzLnJlbmRlcmVyLnRleHR1cmVHQy5jb3VudDtcblxuICAgICAgICAgICAgICAgIHZhciBnbFRleHR1cmUgPSB0ZXh0dXJlLl9nbFRleHR1cmVzW3RoaXMuQ09OVEVYVF9VSURdIHx8IHRoaXMuaW5pdFRleHR1cmUodGV4dHVyZSk7XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5ib3VuZFRleHR1cmVzW2xvY2F0aW9uXSAhPT0gdGV4dHVyZSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRMb2NhdGlvbiAhPT0gbG9jYXRpb24pXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudExvY2F0aW9uID0gbG9jYXRpb247XG4gICAgICAgICAgICAgICAgICAgICAgICBnbC5hY3RpdmVUZXh0dXJlKGdsLlRFWFRVUkUwICsgbG9jYXRpb24pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGdsLmJpbmRUZXh0dXJlKHRleHR1cmUudGFyZ2V0LCBnbFRleHR1cmUudGV4dHVyZSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGdsVGV4dHVyZS5kaXJ0eUlkICE9PSB0ZXh0dXJlLmRpcnR5SWQpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50TG9jYXRpb24gIT09IGxvY2F0aW9uKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRMb2NhdGlvbiA9IGxvY2F0aW9uO1xuICAgICAgICAgICAgICAgICAgICAgICAgZ2wuYWN0aXZlVGV4dHVyZShnbC5URVhUVVJFMCArIGxvY2F0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVRleHR1cmUodGV4dHVyZSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5ib3VuZFRleHR1cmVzW2xvY2F0aW9uXSA9IHRleHR1cmU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50TG9jYXRpb24gIT09IGxvY2F0aW9uKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudExvY2F0aW9uID0gbG9jYXRpb247XG4gICAgICAgICAgICAgICAgZ2wuYWN0aXZlVGV4dHVyZShnbC5URVhUVVJFMCArIGxvY2F0aW9uKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgdGhpcy5lbXB0eVRleHR1cmVzW2dsLlRFWFRVUkVfMkRdLnRleHR1cmUpO1xuICAgICAgICAgICAgdGhpcy5ib3VuZFRleHR1cmVzW2xvY2F0aW9uXSA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVzZXRzIHRleHR1cmUgbG9jYXRpb24gYW5kIGJvdW5kIHRleHR1cmVzXG4gICAgICpcbiAgICAgKiBBY3R1YWwgYGJpbmQobnVsbCwgaSlgIGNhbGxzIHdpbGwgYmUgcGVyZm9ybWVkIGF0IG5leHQgYHVuYmluZCgpYCBjYWxsXG4gICAgICovXG4gICAgVGV4dHVyZVN5c3RlbS5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiByZXNldCAoKVxuICAgIHtcbiAgICAgICAgdGhpcy5fdW5rbm93bkJvdW5kVGV4dHVyZXMgPSB0cnVlO1xuICAgICAgICB0aGlzLmN1cnJlbnRMb2NhdGlvbiA9IC0xO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5ib3VuZFRleHR1cmVzLmxlbmd0aDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmJvdW5kVGV4dHVyZXNbaV0gPSB0aGlzLnVua25vd25UZXh0dXJlO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFVuYmluZCBhIHRleHR1cmVcbiAgICAgKiBAcGFyYW0ge1BJWEkuVGV4dHVyZXxQSVhJLkJhc2VUZXh0dXJlfSB0ZXh0dXJlIC0gVGV4dHVyZSB0byBiaW5kXG4gICAgICovXG4gICAgVGV4dHVyZVN5c3RlbS5wcm90b3R5cGUudW5iaW5kID0gZnVuY3Rpb24gdW5iaW5kICh0ZXh0dXJlKVxuICAgIHtcbiAgICAgICAgdmFyIHJlZiA9IHRoaXM7XG4gICAgICAgIHZhciBnbCA9IHJlZi5nbDtcbiAgICAgICAgdmFyIGJvdW5kVGV4dHVyZXMgPSByZWYuYm91bmRUZXh0dXJlcztcblxuICAgICAgICBpZiAodGhpcy5fdW5rbm93bkJvdW5kVGV4dHVyZXMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX3Vua25vd25Cb3VuZFRleHR1cmVzID0gZmFsc2U7XG4gICAgICAgICAgICAvLyBzb21lb25lIGNoYW5nZWQgd2ViR0wgc3RhdGUsXG4gICAgICAgICAgICAvLyB3ZSBoYXZlIHRvIGJlIHN1cmUgdGhhdCBvdXIgdGV4dHVyZSBkb2VzIG5vdCBhcHBlYXIgaW4gbXVsdGktdGV4dHVyZSByZW5kZXJlciBzYW1wbGVyc1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBib3VuZFRleHR1cmVzLmxlbmd0aDsgaSsrKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmIChib3VuZFRleHR1cmVzW2ldID09PSB0aGlzLnVua25vd25UZXh0dXJlKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5iaW5kKG51bGwsIGkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAodmFyIGkkMSA9IDA7IGkkMSA8IGJvdW5kVGV4dHVyZXMubGVuZ3RoOyBpJDErKylcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKGJvdW5kVGV4dHVyZXNbaSQxXSA9PT0gdGV4dHVyZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50TG9jYXRpb24gIT09IGkkMSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGdsLmFjdGl2ZVRleHR1cmUoZ2wuVEVYVFVSRTAgKyBpJDEpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRMb2NhdGlvbiA9IGkkMTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCB0aGlzLmVtcHR5VGV4dHVyZXNbdGV4dHVyZS50YXJnZXRdLnRleHR1cmUpO1xuICAgICAgICAgICAgICAgIGJvdW5kVGV4dHVyZXNbaSQxXSA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZSBhIHRleHR1cmVcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSB0ZXh0dXJlIC0gVGV4dHVyZSB0byBpbml0aWFsaXplXG4gICAgICovXG4gICAgVGV4dHVyZVN5c3RlbS5wcm90b3R5cGUuaW5pdFRleHR1cmUgPSBmdW5jdGlvbiBpbml0VGV4dHVyZSAodGV4dHVyZSlcbiAgICB7XG4gICAgICAgIHZhciBnbFRleHR1cmUgPSBuZXcgR0xUZXh0dXJlKHRoaXMuZ2wuY3JlYXRlVGV4dHVyZSgpKTtcblxuICAgICAgICAvLyBndWFyYW50ZWUgYW4gdXBkYXRlLi5cbiAgICAgICAgZ2xUZXh0dXJlLmRpcnR5SWQgPSAtMTtcblxuICAgICAgICB0ZXh0dXJlLl9nbFRleHR1cmVzW3RoaXMuQ09OVEVYVF9VSURdID0gZ2xUZXh0dXJlO1xuXG4gICAgICAgIHRoaXMubWFuYWdlZFRleHR1cmVzLnB1c2godGV4dHVyZSk7XG4gICAgICAgIHRleHR1cmUub24oJ2Rpc3Bvc2UnLCB0aGlzLmRlc3Ryb3lUZXh0dXJlLCB0aGlzKTtcblxuICAgICAgICByZXR1cm4gZ2xUZXh0dXJlO1xuICAgIH07XG5cbiAgICBUZXh0dXJlU3lzdGVtLnByb3RvdHlwZS5pbml0VGV4dHVyZVR5cGUgPSBmdW5jdGlvbiBpbml0VGV4dHVyZVR5cGUgKHRleHR1cmUsIGdsVGV4dHVyZSlcbiAgICB7XG4gICAgICAgIGdsVGV4dHVyZS5pbnRlcm5hbEZvcm1hdCA9IHRleHR1cmUuZm9ybWF0O1xuICAgICAgICBnbFRleHR1cmUudHlwZSA9IHRleHR1cmUudHlwZTtcbiAgICAgICAgaWYgKHRoaXMud2ViR0xWZXJzaW9uICE9PSAyKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGdsID0gdGhpcy5yZW5kZXJlci5nbDtcblxuICAgICAgICBpZiAodGV4dHVyZS50eXBlID09PSBnbC5GTE9BVFxuICAgICAgICAgICAgJiYgdGV4dHVyZS5mb3JtYXQgPT09IGdsLlJHQkEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGdsVGV4dHVyZS5pbnRlcm5hbEZvcm1hdCA9IGdsLlJHQkEzMkY7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdGhhdCdzIFdlYkdMMSBIQUxGX0ZMT0FUX09FU1xuICAgICAgICAvLyB3ZSBoYXZlIHRvIGNvbnZlcnQgaXQgdG8gV2ViR0wgSEFMRl9GTE9BVFxuICAgICAgICBpZiAodGV4dHVyZS50eXBlID09PSBUWVBFUy5IQUxGX0ZMT0FUKVxuICAgICAgICB7XG4gICAgICAgICAgICBnbFRleHR1cmUudHlwZSA9IGdsLkhBTEZfRkxPQVQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGdsVGV4dHVyZS50eXBlID09PSBnbC5IQUxGX0ZMT0FUXG4gICAgICAgICAgICAmJiB0ZXh0dXJlLmZvcm1hdCA9PT0gZ2wuUkdCQSlcbiAgICAgICAge1xuICAgICAgICAgICAgZ2xUZXh0dXJlLmludGVybmFsRm9ybWF0ID0gZ2wuUkdCQTE2RjtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGUgYSB0ZXh0dXJlXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gdGV4dHVyZSAtIFRleHR1cmUgdG8gaW5pdGlhbGl6ZVxuICAgICAqL1xuICAgIFRleHR1cmVTeXN0ZW0ucHJvdG90eXBlLnVwZGF0ZVRleHR1cmUgPSBmdW5jdGlvbiB1cGRhdGVUZXh0dXJlICh0ZXh0dXJlKVxuICAgIHtcbiAgICAgICAgdmFyIGdsVGV4dHVyZSA9IHRleHR1cmUuX2dsVGV4dHVyZXNbdGhpcy5DT05URVhUX1VJRF07XG5cbiAgICAgICAgaWYgKCFnbFRleHR1cmUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciByZW5kZXJlciA9IHRoaXMucmVuZGVyZXI7XG5cbiAgICAgICAgdGhpcy5pbml0VGV4dHVyZVR5cGUodGV4dHVyZSwgZ2xUZXh0dXJlKTtcblxuICAgICAgICBpZiAodGV4dHVyZS5yZXNvdXJjZSAmJiB0ZXh0dXJlLnJlc291cmNlLnVwbG9hZChyZW5kZXJlciwgdGV4dHVyZSwgZ2xUZXh0dXJlKSlcbiAgICAgICAgO1xuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIGRlZmF1bHQsIHJlbmRlclRleHR1cmUtbGlrZSBsb2dpY1xuICAgICAgICAgICAgdmFyIHdpZHRoID0gdGV4dHVyZS5yZWFsV2lkdGg7XG4gICAgICAgICAgICB2YXIgaGVpZ2h0ID0gdGV4dHVyZS5yZWFsSGVpZ2h0O1xuICAgICAgICAgICAgdmFyIGdsID0gcmVuZGVyZXIuZ2w7XG5cbiAgICAgICAgICAgIGlmIChnbFRleHR1cmUud2lkdGggIT09IHdpZHRoXG4gICAgICAgICAgICAgICAgfHwgZ2xUZXh0dXJlLmhlaWdodCAhPT0gaGVpZ2h0XG4gICAgICAgICAgICAgICAgfHwgZ2xUZXh0dXJlLmRpcnR5SWQgPCAwKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGdsVGV4dHVyZS53aWR0aCA9IHdpZHRoO1xuICAgICAgICAgICAgICAgIGdsVGV4dHVyZS5oZWlnaHQgPSBoZWlnaHQ7XG5cbiAgICAgICAgICAgICAgICBnbC50ZXhJbWFnZTJEKHRleHR1cmUudGFyZ2V0LCAwLFxuICAgICAgICAgICAgICAgICAgICBnbFRleHR1cmUuaW50ZXJuYWxGb3JtYXQsXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoLFxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQsXG4gICAgICAgICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAgICAgICAgIHRleHR1cmUuZm9ybWF0LFxuICAgICAgICAgICAgICAgICAgICBnbFRleHR1cmUudHlwZSxcbiAgICAgICAgICAgICAgICAgICAgbnVsbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBsZXRzIG9ubHkgdXBkYXRlIHdoYXQgY2hhbmdlcy4uXG4gICAgICAgIGlmICh0ZXh0dXJlLmRpcnR5U3R5bGVJZCAhPT0gZ2xUZXh0dXJlLmRpcnR5U3R5bGVJZClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVUZXh0dXJlU3R5bGUodGV4dHVyZSk7XG4gICAgICAgIH1cbiAgICAgICAgZ2xUZXh0dXJlLmRpcnR5SWQgPSB0ZXh0dXJlLmRpcnR5SWQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERlbGV0ZXMgdGhlIHRleHR1cmUgZnJvbSBXZWJHTFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV8UElYSS5UZXh0dXJlfSB0ZXh0dXJlIC0gdGhlIHRleHR1cmUgdG8gZGVzdHJveVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3NraXBSZW1vdmU9ZmFsc2VdIC0gV2hldGhlciB0byBza2lwIHJlbW92aW5nIHRoZSB0ZXh0dXJlIGZyb20gdGhlIFRleHR1cmVNYW5hZ2VyLlxuICAgICAqL1xuICAgIFRleHR1cmVTeXN0ZW0ucHJvdG90eXBlLmRlc3Ryb3lUZXh0dXJlID0gZnVuY3Rpb24gZGVzdHJveVRleHR1cmUgKHRleHR1cmUsIHNraXBSZW1vdmUpXG4gICAge1xuICAgICAgICB2YXIgcmVmID0gdGhpcztcbiAgICAgICAgdmFyIGdsID0gcmVmLmdsO1xuXG4gICAgICAgIHRleHR1cmUgPSB0ZXh0dXJlLmJhc2VUZXh0dXJlIHx8IHRleHR1cmU7XG5cbiAgICAgICAgaWYgKHRleHR1cmUuX2dsVGV4dHVyZXNbdGhpcy5DT05URVhUX1VJRF0pXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudW5iaW5kKHRleHR1cmUpO1xuXG4gICAgICAgICAgICBnbC5kZWxldGVUZXh0dXJlKHRleHR1cmUuX2dsVGV4dHVyZXNbdGhpcy5DT05URVhUX1VJRF0udGV4dHVyZSk7XG4gICAgICAgICAgICB0ZXh0dXJlLm9mZignZGlzcG9zZScsIHRoaXMuZGVzdHJveVRleHR1cmUsIHRoaXMpO1xuXG4gICAgICAgICAgICBkZWxldGUgdGV4dHVyZS5fZ2xUZXh0dXJlc1t0aGlzLkNPTlRFWFRfVUlEXTtcblxuICAgICAgICAgICAgaWYgKCFza2lwUmVtb3ZlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHZhciBpID0gdGhpcy5tYW5hZ2VkVGV4dHVyZXMuaW5kZXhPZih0ZXh0dXJlKTtcblxuICAgICAgICAgICAgICAgIGlmIChpICE9PSAtMSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZUl0ZW1zKHRoaXMubWFuYWdlZFRleHR1cmVzLCBpLCAxKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVXBkYXRlIHRleHR1cmUgc3R5bGUgc3VjaCBhcyBtaXBtYXAgZmxhZ1xuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IHRleHR1cmUgLSBUZXh0dXJlIHRvIHVwZGF0ZVxuICAgICAqL1xuICAgIFRleHR1cmVTeXN0ZW0ucHJvdG90eXBlLnVwZGF0ZVRleHR1cmVTdHlsZSA9IGZ1bmN0aW9uIHVwZGF0ZVRleHR1cmVTdHlsZSAodGV4dHVyZSlcbiAgICB7XG4gICAgICAgIHZhciBnbFRleHR1cmUgPSB0ZXh0dXJlLl9nbFRleHR1cmVzW3RoaXMuQ09OVEVYVF9VSURdO1xuXG4gICAgICAgIGlmICghZ2xUZXh0dXJlKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoKHRleHR1cmUubWlwbWFwID09PSBNSVBNQVBfTU9ERVMuUE9XMiB8fCB0aGlzLndlYkdMVmVyc2lvbiAhPT0gMikgJiYgIXRleHR1cmUuaXNQb3dlck9mVHdvKVxuICAgICAgICB7XG4gICAgICAgICAgICBnbFRleHR1cmUubWlwbWFwID0gMDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIGdsVGV4dHVyZS5taXBtYXAgPSB0ZXh0dXJlLm1pcG1hcCA+PSAxO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMud2ViR0xWZXJzaW9uICE9PSAyICYmICF0ZXh0dXJlLmlzUG93ZXJPZlR3bylcbiAgICAgICAge1xuICAgICAgICAgICAgZ2xUZXh0dXJlLndyYXBNb2RlID0gV1JBUF9NT0RFUy5DTEFNUDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIGdsVGV4dHVyZS53cmFwTW9kZSA9IHRleHR1cmUud3JhcE1vZGU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGV4dHVyZS5yZXNvdXJjZSAmJiB0ZXh0dXJlLnJlc291cmNlLnN0eWxlKHRoaXMucmVuZGVyZXIsIHRleHR1cmUsIGdsVGV4dHVyZSkpXG4gICAgICAgIDtcbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnNldFN0eWxlKHRleHR1cmUsIGdsVGV4dHVyZSk7XG4gICAgICAgIH1cblxuICAgICAgICBnbFRleHR1cmUuZGlydHlTdHlsZUlkID0gdGV4dHVyZS5kaXJ0eVN0eWxlSWQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldCBzdHlsZSBmb3IgdGV4dHVyZVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IHRleHR1cmUgLSBUZXh0dXJlIHRvIHVwZGF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5HTFRleHR1cmV9IGdsVGV4dHVyZVxuICAgICAqL1xuICAgIFRleHR1cmVTeXN0ZW0ucHJvdG90eXBlLnNldFN0eWxlID0gZnVuY3Rpb24gc2V0U3R5bGUgKHRleHR1cmUsIGdsVGV4dHVyZSlcbiAgICB7XG4gICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XG5cbiAgICAgICAgaWYgKGdsVGV4dHVyZS5taXBtYXApXG4gICAgICAgIHtcbiAgICAgICAgICAgIGdsLmdlbmVyYXRlTWlwbWFwKHRleHR1cmUudGFyZ2V0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGdsLnRleFBhcmFtZXRlcmkodGV4dHVyZS50YXJnZXQsIGdsLlRFWFRVUkVfV1JBUF9TLCBnbFRleHR1cmUud3JhcE1vZGUpO1xuICAgICAgICBnbC50ZXhQYXJhbWV0ZXJpKHRleHR1cmUudGFyZ2V0LCBnbC5URVhUVVJFX1dSQVBfVCwgZ2xUZXh0dXJlLndyYXBNb2RlKTtcblxuICAgICAgICBpZiAoZ2xUZXh0dXJlLm1pcG1hcClcbiAgICAgICAge1xuICAgICAgICAgICAgLyogZXNsaW50LWRpc2FibGUgbWF4LWxlbiAqL1xuICAgICAgICAgICAgZ2wudGV4UGFyYW1ldGVyaSh0ZXh0dXJlLnRhcmdldCwgZ2wuVEVYVFVSRV9NSU5fRklMVEVSLCB0ZXh0dXJlLnNjYWxlTW9kZSA/IGdsLkxJTkVBUl9NSVBNQVBfTElORUFSIDogZ2wuTkVBUkVTVF9NSVBNQVBfTkVBUkVTVCk7XG4gICAgICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBtYXgtbGVuICovXG5cbiAgICAgICAgICAgIHZhciBhbmlzb3Ryb3BpY0V4dCA9IHRoaXMucmVuZGVyZXIuY29udGV4dC5leHRlbnNpb25zLmFuaXNvdHJvcGljRmlsdGVyaW5nO1xuXG4gICAgICAgICAgICBpZiAoYW5pc290cm9waWNFeHQgJiYgdGV4dHVyZS5hbmlzb3Ryb3BpY0xldmVsID4gMCAmJiB0ZXh0dXJlLnNjYWxlTW9kZSA9PT0gU0NBTEVfTU9ERVMuTElORUFSKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHZhciBsZXZlbCA9IE1hdGgubWluKHRleHR1cmUuYW5pc290cm9waWNMZXZlbCwgZ2wuZ2V0UGFyYW1ldGVyKGFuaXNvdHJvcGljRXh0Lk1BWF9URVhUVVJFX01BWF9BTklTT1RST1BZX0VYVCkpO1xuXG4gICAgICAgICAgICAgICAgZ2wudGV4UGFyYW1ldGVyZih0ZXh0dXJlLnRhcmdldCwgYW5pc290cm9waWNFeHQuVEVYVFVSRV9NQVhfQU5JU09UUk9QWV9FWFQsIGxldmVsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIGdsLnRleFBhcmFtZXRlcmkodGV4dHVyZS50YXJnZXQsIGdsLlRFWFRVUkVfTUlOX0ZJTFRFUiwgdGV4dHVyZS5zY2FsZU1vZGUgPyBnbC5MSU5FQVIgOiBnbC5ORUFSRVNUKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGdsLnRleFBhcmFtZXRlcmkodGV4dHVyZS50YXJnZXQsIGdsLlRFWFRVUkVfTUFHX0ZJTFRFUiwgdGV4dHVyZS5zY2FsZU1vZGUgPyBnbC5MSU5FQVIgOiBnbC5ORUFSRVNUKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIFRleHR1cmVTeXN0ZW07XG59KFN5c3RlbSkpO1xuXG4vKipcbiAqIFN5c3RlbXMgYXJlIGluZGl2aWR1YWwgY29tcG9uZW50cyB0byB0aGUgUmVuZGVyZXIgcGlwZWxpbmUuXG4gKiBAbmFtZXNwYWNlIFBJWEkuc3lzdGVtc1xuICovXG5cbnZhciBzeXN0ZW1zID0gKHtcbiAgICBGaWx0ZXJTeXN0ZW06IEZpbHRlclN5c3RlbSxcbiAgICBCYXRjaFN5c3RlbTogQmF0Y2hTeXN0ZW0sXG4gICAgQ29udGV4dFN5c3RlbTogQ29udGV4dFN5c3RlbSxcbiAgICBGcmFtZWJ1ZmZlclN5c3RlbTogRnJhbWVidWZmZXJTeXN0ZW0sXG4gICAgR2VvbWV0cnlTeXN0ZW06IEdlb21ldHJ5U3lzdGVtLFxuICAgIE1hc2tTeXN0ZW06IE1hc2tTeXN0ZW0sXG4gICAgU2Npc3NvclN5c3RlbTogU2Npc3NvclN5c3RlbSxcbiAgICBTdGVuY2lsU3lzdGVtOiBTdGVuY2lsU3lzdGVtLFxuICAgIFByb2plY3Rpb25TeXN0ZW06IFByb2plY3Rpb25TeXN0ZW0sXG4gICAgUmVuZGVyVGV4dHVyZVN5c3RlbTogUmVuZGVyVGV4dHVyZVN5c3RlbSxcbiAgICBTaGFkZXJTeXN0ZW06IFNoYWRlclN5c3RlbSxcbiAgICBTdGF0ZVN5c3RlbTogU3RhdGVTeXN0ZW0sXG4gICAgVGV4dHVyZUdDU3lzdGVtOiBUZXh0dXJlR0NTeXN0ZW0sXG4gICAgVGV4dHVyZVN5c3RlbTogVGV4dHVyZVN5c3RlbVxufSk7XG5cbnZhciB0ZW1wTWF0cml4ID0gbmV3IE1hdHJpeCgpO1xuXG4vKipcbiAqIFRoZSBBYnN0cmFjdFJlbmRlcmVyIGlzIHRoZSBiYXNlIGZvciBhIFBpeGlKUyBSZW5kZXJlci4gSXQgaXMgZXh0ZW5kZWQgYnkgdGhlIHtAbGluayBQSVhJLkNhbnZhc1JlbmRlcmVyfVxuICogYW5kIHtAbGluayBQSVhJLlJlbmRlcmVyfSB3aGljaCBjYW4gYmUgdXNlZCBmb3IgcmVuZGVyaW5nIGEgUGl4aUpTIHNjZW5lLlxuICpcbiAqIEBhYnN0cmFjdFxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLnV0aWxzLkV2ZW50RW1pdHRlclxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEFic3RyYWN0UmVuZGVyZXIgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChFdmVudEVtaXR0ZXIpIHtcbiAgICBmdW5jdGlvbiBBYnN0cmFjdFJlbmRlcmVyKHN5c3RlbSwgb3B0aW9ucylcbiAgICB7XG4gICAgICAgIEV2ZW50RW1pdHRlci5jYWxsKHRoaXMpO1xuXG4gICAgICAgIC8vIEFkZCB0aGUgZGVmYXVsdCByZW5kZXIgb3B0aW9uc1xuICAgICAgICBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgc2V0dGluZ3MuUkVOREVSX09QVElPTlMsIG9wdGlvbnMpO1xuXG4gICAgICAgIC8vIERlcHJlY2F0aW9uIG5vdGljZSBmb3IgcmVuZGVyZXIgcm91bmRQaXhlbHMgb3B0aW9uXG4gICAgICAgIGlmIChvcHRpb25zLnJvdW5kUGl4ZWxzKVxuICAgICAgICB7XG4gICAgICAgICAgICBzZXR0aW5ncy5ST1VORF9QSVhFTFMgPSBvcHRpb25zLnJvdW5kUGl4ZWxzO1xuICAgICAgICAgICAgZGVwcmVjYXRpb24oJzUuMC4wJywgJ1JlbmRlcmVyIHJvdW5kUGl4ZWxzIG9wdGlvbiBpcyBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIFBJWEkuc2V0dGluZ3MuUk9VTkRfUElYRUxTJywgMik7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHN1cHBsaWVkIGNvbnN0cnVjdG9yIG9wdGlvbnMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge09iamVjdH1cbiAgICAgICAgICogQHJlYWRPbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdHlwZSBvZiB0aGUgcmVuZGVyZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5SRU5ERVJFUl9UWVBFLlVOS05PV05cbiAgICAgICAgICogQHNlZSBQSVhJLlJFTkRFUkVSX1RZUEVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudHlwZSA9IFJFTkRFUkVSX1RZUEUuVU5LTk9XTjtcblxuICAgICAgICAvKipcbiAgICAgICAgICogTWVhc3VyZW1lbnRzIG9mIHRoZSBzY3JlZW4uICgwLCAwLCBzY3JlZW5XaWR0aCwgc2NyZWVuSGVpZ2h0KS5cbiAgICAgICAgICpcbiAgICAgICAgICogSXRzIHNhZmUgdG8gdXNlIGFzIGZpbHRlckFyZWEgb3IgaGl0QXJlYSBmb3IgdGhlIHdob2xlIHN0YWdlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlJlY3RhbmdsZX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc2NyZWVuID0gbmV3IFJlY3RhbmdsZSgwLCAwLCBvcHRpb25zLndpZHRoLCBvcHRpb25zLmhlaWdodCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjYW52YXMgZWxlbWVudCB0aGF0IGV2ZXJ5dGhpbmcgaXMgZHJhd24gdG8uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge0hUTUxDYW52YXNFbGVtZW50fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy52aWV3ID0gb3B0aW9ucy52aWV3IHx8IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcmVzb2x1dGlvbiAvIGRldmljZSBwaXhlbCByYXRpbyBvZiB0aGUgcmVuZGVyZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5yZXNvbHV0aW9uID0gb3B0aW9ucy5yZXNvbHV0aW9uIHx8IHNldHRpbmdzLlJFU09MVVRJT047XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZXRoZXIgdGhlIHJlbmRlciB2aWV3IGlzIHRyYW5zcGFyZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50cmFuc3BhcmVudCA9IG9wdGlvbnMudHJhbnNwYXJlbnQ7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZXRoZXIgQ1NTIGRpbWVuc2lvbnMgb2YgY2FudmFzIHZpZXcgc2hvdWxkIGJlIHJlc2l6ZWQgdG8gc2NyZWVuIGRpbWVuc2lvbnMgYXV0b21hdGljYWxseS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYXV0b0RlbnNpdHkgPSBvcHRpb25zLmF1dG9EZW5zaXR5IHx8IG9wdGlvbnMuYXV0b1Jlc2l6ZSB8fCBmYWxzZTtcbiAgICAgICAgLy8gYXV0b1Jlc2l6ZSBpcyBkZXByZWNhdGVkLCBwcm92aWRlcyBmYWxsYmFjayBzdXBwb3J0XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB2YWx1ZSBvZiB0aGUgcHJlc2VydmVEcmF3aW5nQnVmZmVyIGZsYWcgYWZmZWN0cyB3aGV0aGVyIG9yIG5vdCB0aGUgY29udGVudHMgb2ZcbiAgICAgICAgICogdGhlIHN0ZW5jaWwgYnVmZmVyIGlzIHJldGFpbmVkIGFmdGVyIHJlbmRlcmluZy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucHJlc2VydmVEcmF3aW5nQnVmZmVyID0gb3B0aW9ucy5wcmVzZXJ2ZURyYXdpbmdCdWZmZXI7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoaXMgc2V0cyBpZiB0aGUgQ2FudmFzUmVuZGVyZXIgd2lsbCBjbGVhciB0aGUgY2FudmFzIG9yIG5vdCBiZWZvcmUgdGhlIG5ldyByZW5kZXIgcGFzcy5cbiAgICAgICAgICogSWYgdGhlIHNjZW5lIGlzIE5PVCB0cmFuc3BhcmVudCBQaXhpSlMgd2lsbCB1c2UgYSBjYW52YXMgc2l6ZWQgZmlsbFJlY3Qgb3BlcmF0aW9uIGV2ZXJ5XG4gICAgICAgICAqIGZyYW1lIHRvIHNldCB0aGUgY2FudmFzIGJhY2tncm91bmQgY29sb3IuIElmIHRoZSBzY2VuZSBpcyB0cmFuc3BhcmVudCBQaXhpSlMgd2lsbCB1c2UgY2xlYXJSZWN0XG4gICAgICAgICAqIHRvIGNsZWFyIHRoZSBjYW52YXMgZXZlcnkgZnJhbWUuIERpc2FibGUgdGhpcyBieSBzZXR0aW5nIHRoaXMgdG8gZmFsc2UuIEZvciBleGFtcGxlLCBpZlxuICAgICAgICAgKiB5b3VyIGdhbWUgaGFzIGEgY2FudmFzIGZpbGxpbmcgYmFja2dyb3VuZCBpbWFnZSB5b3Ugb2Z0ZW4gZG9uJ3QgbmVlZCB0aGlzIHNldC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY2xlYXJCZWZvcmVSZW5kZXIgPSBvcHRpb25zLmNsZWFyQmVmb3JlUmVuZGVyO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYmFja2dyb3VuZCBjb2xvciBhcyBhIG51bWJlci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9iYWNrZ3JvdW5kQ29sb3IgPSAweDAwMDAwMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGJhY2tncm91bmQgY29sb3IgYXMgYW4gW1IsIEcsIEJdIGFycmF5LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJbXX1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fYmFja2dyb3VuZENvbG9yUmdiYSA9IFswLCAwLCAwLCAwXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGJhY2tncm91bmQgY29sb3IgYXMgYSBzdHJpbmcuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fYmFja2dyb3VuZENvbG9yU3RyaW5nID0gJyMwMDAwMDAnO1xuXG4gICAgICAgIHRoaXMuYmFja2dyb3VuZENvbG9yID0gb3B0aW9ucy5iYWNrZ3JvdW5kQ29sb3IgfHwgdGhpcy5fYmFja2dyb3VuZENvbG9yOyAvLyBydW4gYmcgY29sb3Igc2V0dGVyXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoaXMgdGVtcG9yYXJ5IGRpc3BsYXkgb2JqZWN0IHVzZWQgYXMgdGhlIHBhcmVudCBvZiB0aGUgY3VycmVudGx5IGJlaW5nIHJlbmRlcmVkIGl0ZW0uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuRGlzcGxheU9iamVjdH1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fdGVtcERpc3BsYXlPYmplY3RQYXJlbnQgPSBuZXcgQ29udGFpbmVyKCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBsYXN0IHJvb3Qgb2JqZWN0IHRoYXQgdGhlIHJlbmRlcmVyIHRyaWVkIHRvIHJlbmRlci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5EaXNwbGF5T2JqZWN0fVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9sYXN0T2JqZWN0UmVuZGVyZWQgPSB0aGlzLl90ZW1wRGlzcGxheU9iamVjdFBhcmVudDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ29sbGVjdGlvbiBvZiBwbHVnaW5zLlxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5wbHVnaW5zID0ge307XG4gICAgfVxuXG4gICAgaWYgKCBFdmVudEVtaXR0ZXIgKSBBYnN0cmFjdFJlbmRlcmVyLl9fcHJvdG9fXyA9IEV2ZW50RW1pdHRlcjtcbiAgICBBYnN0cmFjdFJlbmRlcmVyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIEV2ZW50RW1pdHRlciAmJiBFdmVudEVtaXR0ZXIucHJvdG90eXBlICk7XG4gICAgQWJzdHJhY3RSZW5kZXJlci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBBYnN0cmFjdFJlbmRlcmVyO1xuXG4gICAgdmFyIHByb3RvdHlwZUFjY2Vzc29ycyA9IHsgd2lkdGg6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0saGVpZ2h0OiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LGJhY2tncm91bmRDb2xvcjogeyBjb25maWd1cmFibGU6IHRydWUgfSB9O1xuXG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZSB0aGUgcGx1Z2lucy5cbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gc3RhdGljTWFwIC0gVGhlIGRpY3Rpb25hcnkgb2Ygc3RhdGljYWxseSBzYXZlZCBwbHVnaW5zLlxuICAgICAqL1xuICAgIEFic3RyYWN0UmVuZGVyZXIucHJvdG90eXBlLmluaXRQbHVnaW5zID0gZnVuY3Rpb24gaW5pdFBsdWdpbnMgKHN0YXRpY01hcClcbiAgICB7XG4gICAgICAgIGZvciAodmFyIG8gaW4gc3RhdGljTWFwKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnBsdWdpbnNbb10gPSBuZXcgKHN0YXRpY01hcFtvXSkodGhpcyk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2FtZSBhcyB2aWV3LndpZHRoLCBhY3R1YWwgbnVtYmVyIG9mIHBpeGVscyBpbiB0aGUgY2FudmFzIGJ5IGhvcml6b250YWwuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQHJlYWRvbmx5XG4gICAgICogQGRlZmF1bHQgODAwXG4gICAgICovXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLndpZHRoLmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy52aWV3LndpZHRoO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTYW1lIGFzIHZpZXcuaGVpZ2h0LCBhY3R1YWwgbnVtYmVyIG9mIHBpeGVscyBpbiB0aGUgY2FudmFzIGJ5IHZlcnRpY2FsLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEByZWFkb25seVxuICAgICAqIEBkZWZhdWx0IDYwMFxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5oZWlnaHQuZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnZpZXcuaGVpZ2h0O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXNpemVzIHRoZSBzY3JlZW4gYW5kIGNhbnZhcyB0byB0aGUgc3BlY2lmaWVkIHdpZHRoIGFuZCBoZWlnaHQuXG4gICAgICogQ2FudmFzIGRpbWVuc2lvbnMgYXJlIG11bHRpcGxpZWQgYnkgcmVzb2x1dGlvbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzY3JlZW5XaWR0aCAtIFRoZSBuZXcgd2lkdGggb2YgdGhlIHNjcmVlbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2NyZWVuSGVpZ2h0IC0gVGhlIG5ldyBoZWlnaHQgb2YgdGhlIHNjcmVlbi5cbiAgICAgKi9cbiAgICBBYnN0cmFjdFJlbmRlcmVyLnByb3RvdHlwZS5yZXNpemUgPSBmdW5jdGlvbiByZXNpemUgKHNjcmVlbldpZHRoLCBzY3JlZW5IZWlnaHQpXG4gICAge1xuICAgICAgICB0aGlzLnNjcmVlbi53aWR0aCA9IHNjcmVlbldpZHRoO1xuICAgICAgICB0aGlzLnNjcmVlbi5oZWlnaHQgPSBzY3JlZW5IZWlnaHQ7XG5cbiAgICAgICAgdGhpcy52aWV3LndpZHRoID0gc2NyZWVuV2lkdGggKiB0aGlzLnJlc29sdXRpb247XG4gICAgICAgIHRoaXMudmlldy5oZWlnaHQgPSBzY3JlZW5IZWlnaHQgKiB0aGlzLnJlc29sdXRpb247XG5cbiAgICAgICAgaWYgKHRoaXMuYXV0b0RlbnNpdHkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudmlldy5zdHlsZS53aWR0aCA9IHNjcmVlbldpZHRoICsgXCJweFwiO1xuICAgICAgICAgICAgdGhpcy52aWV3LnN0eWxlLmhlaWdodCA9IHNjcmVlbkhlaWdodCArIFwicHhcIjtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVc2VmdWwgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGEgdGV4dHVyZSBvZiB0aGUgZGlzcGxheSBvYmplY3QgdGhhdCBjYW4gdGhlbiBiZSB1c2VkIHRvIGNyZWF0ZSBzcHJpdGVzXG4gICAgICogVGhpcyBjYW4gYmUgcXVpdGUgdXNlZnVsIGlmIHlvdXIgZGlzcGxheU9iamVjdCBpcyBjb21wbGljYXRlZCBhbmQgbmVlZHMgdG8gYmUgcmV1c2VkIG11bHRpcGxlIHRpbWVzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IGRpc3BsYXlPYmplY3QgLSBUaGUgZGlzcGxheU9iamVjdCB0aGUgb2JqZWN0IHdpbGwgYmUgZ2VuZXJhdGVkIGZyb20uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNjYWxlTW9kZSAtIFNob3VsZCBiZSBvbmUgb2YgdGhlIHNjYWxlTW9kZSBjb25zdHMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJlc29sdXRpb24gLSBUaGUgcmVzb2x1dGlvbiAvIGRldmljZSBwaXhlbCByYXRpbyBvZiB0aGUgdGV4dHVyZSBiZWluZyBnZW5lcmF0ZWQuXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gW3JlZ2lvbl0gLSBUaGUgcmVnaW9uIG9mIHRoZSBkaXNwbGF5T2JqZWN0LCB0aGF0IHNoYWxsIGJlIHJlbmRlcmVkLFxuICAgICAqICAgICAgICBpZiBubyByZWdpb24gaXMgc3BlY2lmaWVkLCBkZWZhdWx0cyB0byB0aGUgbG9jYWwgYm91bmRzIG9mIHRoZSBkaXNwbGF5T2JqZWN0LlxuICAgICAqIEByZXR1cm4ge1BJWEkuUmVuZGVyVGV4dHVyZX0gQSB0ZXh0dXJlIG9mIHRoZSBncmFwaGljcyBvYmplY3QuXG4gICAgICovXG4gICAgQWJzdHJhY3RSZW5kZXJlci5wcm90b3R5cGUuZ2VuZXJhdGVUZXh0dXJlID0gZnVuY3Rpb24gZ2VuZXJhdGVUZXh0dXJlIChkaXNwbGF5T2JqZWN0LCBzY2FsZU1vZGUsIHJlc29sdXRpb24sIHJlZ2lvbilcbiAgICB7XG4gICAgICAgIHJlZ2lvbiA9IHJlZ2lvbiB8fCBkaXNwbGF5T2JqZWN0LmdldExvY2FsQm91bmRzKCk7XG5cbiAgICAgICAgLy8gbWluaW11bSB0ZXh0dXJlIHNpemUgaXMgMXgxLCAweDAgd2lsbCB0aHJvdyBhbiBlcnJvclxuICAgICAgICBpZiAocmVnaW9uLndpZHRoID09PSAwKSB7IHJlZ2lvbi53aWR0aCA9IDE7IH1cbiAgICAgICAgaWYgKHJlZ2lvbi5oZWlnaHQgPT09IDApIHsgcmVnaW9uLmhlaWdodCA9IDE7IH1cblxuICAgICAgICB2YXIgcmVuZGVyVGV4dHVyZSA9IFJlbmRlclRleHR1cmUuY3JlYXRlKHJlZ2lvbi53aWR0aCB8IDAsIHJlZ2lvbi5oZWlnaHQgfCAwLCBzY2FsZU1vZGUsIHJlc29sdXRpb24pO1xuXG4gICAgICAgIHRlbXBNYXRyaXgudHggPSAtcmVnaW9uLng7XG4gICAgICAgIHRlbXBNYXRyaXgudHkgPSAtcmVnaW9uLnk7XG5cbiAgICAgICAgdGhpcy5yZW5kZXIoZGlzcGxheU9iamVjdCwgcmVuZGVyVGV4dHVyZSwgZmFsc2UsIHRlbXBNYXRyaXgsICEhZGlzcGxheU9iamVjdC5wYXJlbnQpO1xuXG4gICAgICAgIHJldHVybiByZW5kZXJUZXh0dXJlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGV2ZXJ5dGhpbmcgZnJvbSB0aGUgcmVuZGVyZXIgYW5kIG9wdGlvbmFsbHkgcmVtb3ZlcyB0aGUgQ2FudmFzIERPTSBlbGVtZW50LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbcmVtb3ZlVmlldz1mYWxzZV0gLSBSZW1vdmVzIHRoZSBDYW52YXMgZWxlbWVudCBmcm9tIHRoZSBET00uXG4gICAgICovXG4gICAgQWJzdHJhY3RSZW5kZXJlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3kgKHJlbW92ZVZpZXcpXG4gICAge1xuICAgICAgICBmb3IgKHZhciBvIGluIHRoaXMucGx1Z2lucylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5wbHVnaW5zW29dLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIHRoaXMucGx1Z2luc1tvXSA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocmVtb3ZlVmlldyAmJiB0aGlzLnZpZXcucGFyZW50Tm9kZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy52aWV3LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy52aWV3KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucGx1Z2lucyA9IG51bGw7XG5cbiAgICAgICAgdGhpcy50eXBlID0gUkVOREVSRVJfVFlQRS5VTktOT1dOO1xuXG4gICAgICAgIHRoaXMudmlldyA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5zY3JlZW4gPSBudWxsO1xuXG4gICAgICAgIHRoaXMucmVzb2x1dGlvbiA9IDA7XG5cbiAgICAgICAgdGhpcy50cmFuc3BhcmVudCA9IGZhbHNlO1xuXG4gICAgICAgIHRoaXMuYXV0b0RlbnNpdHkgPSBmYWxzZTtcblxuICAgICAgICB0aGlzLmJsZW5kTW9kZXMgPSBudWxsO1xuXG4gICAgICAgIHRoaXMub3B0aW9ucyA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5wcmVzZXJ2ZURyYXdpbmdCdWZmZXIgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5jbGVhckJlZm9yZVJlbmRlciA9IGZhbHNlO1xuXG4gICAgICAgIHRoaXMuX2JhY2tncm91bmRDb2xvciA9IDA7XG4gICAgICAgIHRoaXMuX2JhY2tncm91bmRDb2xvclJnYmEgPSBudWxsO1xuICAgICAgICB0aGlzLl9iYWNrZ3JvdW5kQ29sb3JTdHJpbmcgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuX3RlbXBEaXNwbGF5T2JqZWN0UGFyZW50ID0gbnVsbDtcbiAgICAgICAgdGhpcy5fbGFzdE9iamVjdFJlbmRlcmVkID0gbnVsbDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIGJhY2tncm91bmQgY29sb3IgdG8gZmlsbCBpZiBub3QgdHJhbnNwYXJlbnRcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMuYmFja2dyb3VuZENvbG9yLmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fYmFja2dyb3VuZENvbG9yO1xuICAgIH07XG5cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMuYmFja2dyb3VuZENvbG9yLnNldCA9IGZ1bmN0aW9uICh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICB0aGlzLl9iYWNrZ3JvdW5kQ29sb3IgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5fYmFja2dyb3VuZENvbG9yU3RyaW5nID0gaGV4MnN0cmluZyh2YWx1ZSk7XG4gICAgICAgIGhleDJyZ2IodmFsdWUsIHRoaXMuX2JhY2tncm91bmRDb2xvclJnYmEpO1xuICAgIH07XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyggQWJzdHJhY3RSZW5kZXJlci5wcm90b3R5cGUsIHByb3RvdHlwZUFjY2Vzc29ycyApO1xuXG4gICAgcmV0dXJuIEFic3RyYWN0UmVuZGVyZXI7XG59KEV2ZW50RW1pdHRlcikpO1xuXG4vKipcbiAqIFRoZSBSZW5kZXJlciBkcmF3cyB0aGUgc2NlbmUgYW5kIGFsbCBpdHMgY29udGVudCBvbnRvIGEgV2ViR0wgZW5hYmxlZCBjYW52YXMuXG4gKlxuICogVGhpcyByZW5kZXJlciBzaG91bGQgYmUgdXNlZCBmb3IgYnJvd3NlcnMgdGhhdCBzdXBwb3J0IFdlYkdMLlxuICpcbiAqIFRoaXMgcmVuZGVyZXIgd29ya3MgYnkgYXV0b21hdGljYWxseSBtYW5hZ2luZyBXZWJHTEJhdGNoZXNtLCBzbyBubyBuZWVkIGZvciBTcHJpdGUgQmF0Y2hlcyBvciBTcHJpdGUgQ2xvdWRzLlxuICogRG9uJ3QgZm9yZ2V0IHRvIGFkZCB0aGUgdmlldyB0byB5b3VyIERPTSBvciB5b3Ugd2lsbCBub3Qgc2VlIGFueXRoaW5nIVxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEBleHRlbmRzIFBJWEkuQWJzdHJhY3RSZW5kZXJlclxuICovXG52YXIgUmVuZGVyZXIgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChBYnN0cmFjdFJlbmRlcmVyKSB7XG4gICAgZnVuY3Rpb24gUmVuZGVyZXIob3B0aW9ucylcbiAgICB7XG4gICAgICAgIGlmICggb3B0aW9ucyA9PT0gdm9pZCAwICkgb3B0aW9ucyA9IHt9O1xuXG4gICAgICAgIEFic3RyYWN0UmVuZGVyZXIuY2FsbCh0aGlzLCAnV2ViR0wnLCBvcHRpb25zKTtcblxuICAgICAgICAvLyB0aGUgb3B0aW9ucyB3aWxsIGhhdmUgYmVlbiBtb2RpZmllZCBoZXJlIGluIHRoZSBzdXBlciBjb25zdHJ1Y3RvciB3aXRoIHBpeGkncyBkZWZhdWx0IHNldHRpbmdzLi5cbiAgICAgICAgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHR5cGUgb2YgdGhpcyByZW5kZXJlciBhcyBhIHN0YW5kYXJkaXplZCBjb25zdFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBzZWUgUElYSS5SRU5ERVJFUl9UWVBFXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnR5cGUgPSBSRU5ERVJFUl9UWVBFLldFQkdMO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXZWJHTCBjb250ZXh0LCBzZXQgYnkgdGhlIGNvbnRleHRTeXN0ZW0gKHRoaXMuY29udGV4dClcbiAgICAgICAgICpcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge1dlYkdMUmVuZGVyaW5nQ29udGV4dH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZ2wgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuQ09OVEVYVF9VSUQgPSAwO1xuXG4gICAgICAgIC8vIFRPRE8gbGVnYWN5IVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbnRlcm5hbCBzaWduYWwgaW5zdGFuY2VzIG9mICoqcnVubmVyKiosIHRoZXNlXG4gICAgICAgICAqIGFyZSBhc3NpZ25lZCB0byBlYWNoIHN5c3RlbSBjcmVhdGVkLlxuICAgICAgICAgKiBAc2VlIFBJWEkuUnVubmVyXG4gICAgICAgICAqIEBuYW1lIFBJWEkuUmVuZGVyZXIjcnVubmVyc1xuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7b2JqZWN0fVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQHByb3BlcnR5IHtQSVhJLlJ1bm5lcn0gZGVzdHJveSAtIERlc3Ryb3kgcnVubmVyXG4gICAgICAgICAqIEBwcm9wZXJ0eSB7UElYSS5SdW5uZXJ9IGNvbnRleHRDaGFuZ2UgLSBDb250ZXh0IGNoYW5nZSBydW5uZXJcbiAgICAgICAgICogQHByb3BlcnR5IHtQSVhJLlJ1bm5lcn0gcmVzZXQgLSBSZXNldCBydW5uZXJcbiAgICAgICAgICogQHByb3BlcnR5IHtQSVhJLlJ1bm5lcn0gdXBkYXRlIC0gVXBkYXRlIHJ1bm5lclxuICAgICAgICAgKiBAcHJvcGVydHkge1BJWEkuUnVubmVyfSBwb3N0cmVuZGVyIC0gUG9zdC1yZW5kZXIgcnVubmVyXG4gICAgICAgICAqIEBwcm9wZXJ0eSB7UElYSS5SdW5uZXJ9IHByZXJlbmRlciAtIFByZS1yZW5kZXIgcnVubmVyXG4gICAgICAgICAqIEBwcm9wZXJ0eSB7UElYSS5SdW5uZXJ9IHJlc2l6ZSAtIFJlc2l6ZSBydW5uZXJcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucnVubmVycyA9IHtcbiAgICAgICAgICAgIGRlc3Ryb3k6IG5ldyBSdW5uZXIoJ2Rlc3Ryb3knKSxcbiAgICAgICAgICAgIGNvbnRleHRDaGFuZ2U6IG5ldyBSdW5uZXIoJ2NvbnRleHRDaGFuZ2UnLCAxKSxcbiAgICAgICAgICAgIHJlc2V0OiBuZXcgUnVubmVyKCdyZXNldCcpLFxuICAgICAgICAgICAgdXBkYXRlOiBuZXcgUnVubmVyKCd1cGRhdGUnKSxcbiAgICAgICAgICAgIHBvc3RyZW5kZXI6IG5ldyBSdW5uZXIoJ3Bvc3RyZW5kZXInKSxcbiAgICAgICAgICAgIHByZXJlbmRlcjogbmV3IFJ1bm5lcigncHJlcmVuZGVyJyksXG4gICAgICAgICAgICByZXNpemU6IG5ldyBSdW5uZXIoJ3Jlc2l6ZScsIDIpLFxuICAgICAgICB9O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHbG9iYWwgdW5pZm9ybXNcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5Vbmlmb3JtR3JvdXB9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmdsb2JhbFVuaWZvcm1zID0gbmV3IFVuaWZvcm1Hcm91cCh7XG4gICAgICAgICAgICBwcm9qZWN0aW9uTWF0cml4OiBuZXcgTWF0cml4KCksXG4gICAgICAgIH0sIHRydWUpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNYXNrIHN5c3RlbSBpbnN0YW5jZVxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLnN5c3RlbXMuTWFza1N5c3RlbX0gbWFza1xuICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5SZW5kZXJlciNcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmFkZFN5c3RlbShNYXNrU3lzdGVtLCAnbWFzaycpXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIENvbnRleHQgc3lzdGVtIGluc3RhbmNlXG4gICAgICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLnN5c3RlbXMuQ29udGV4dFN5c3RlbX0gY29udGV4dFxuICAgICAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuUmVuZGVyZXIjXG4gICAgICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgLmFkZFN5c3RlbShDb250ZXh0U3lzdGVtLCAnY29udGV4dCcpXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFN0YXRlIHN5c3RlbSBpbnN0YW5jZVxuICAgICAgICAgICAgICogQG1lbWJlciB7UElYSS5zeXN0ZW1zLlN0YXRlU3lzdGVtfSBzdGF0ZVxuICAgICAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuUmVuZGVyZXIjXG4gICAgICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgLmFkZFN5c3RlbShTdGF0ZVN5c3RlbSwgJ3N0YXRlJylcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogU2hhZGVyIHN5c3RlbSBpbnN0YW5jZVxuICAgICAgICAgICAgICogQG1lbWJlciB7UElYSS5zeXN0ZW1zLlNoYWRlclN5c3RlbX0gc2hhZGVyXG4gICAgICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5SZW5kZXJlciNcbiAgICAgICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICAuYWRkU3lzdGVtKFNoYWRlclN5c3RlbSwgJ3NoYWRlcicpXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFRleHR1cmUgc3lzdGVtIGluc3RhbmNlXG4gICAgICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLnN5c3RlbXMuVGV4dHVyZVN5c3RlbX0gdGV4dHVyZVxuICAgICAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuUmVuZGVyZXIjXG4gICAgICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgLmFkZFN5c3RlbShUZXh0dXJlU3lzdGVtLCAndGV4dHVyZScpXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEdlb21ldHJ5IHN5c3RlbSBpbnN0YW5jZVxuICAgICAgICAgICAgICogQG1lbWJlciB7UElYSS5zeXN0ZW1zLkdlb21ldHJ5U3lzdGVtfSBnZW9tZXRyeVxuICAgICAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuUmVuZGVyZXIjXG4gICAgICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgLmFkZFN5c3RlbShHZW9tZXRyeVN5c3RlbSwgJ2dlb21ldHJ5JylcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogRnJhbWVidWZmZXIgc3lzdGVtIGluc3RhbmNlXG4gICAgICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLnN5c3RlbXMuRnJhbWVidWZmZXJTeXN0ZW19IGZyYW1lYnVmZmVyXG4gICAgICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5SZW5kZXJlciNcbiAgICAgICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICAuYWRkU3lzdGVtKEZyYW1lYnVmZmVyU3lzdGVtLCAnZnJhbWVidWZmZXInKVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBTY2lzc29yIHN5c3RlbSBpbnN0YW5jZVxuICAgICAgICAgICAgICogQG1lbWJlciB7UElYSS5zeXN0ZW1zLlNjaXNzb3JTeXN0ZW19IHNjaXNzb3JcbiAgICAgICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLlJlbmRlcmVyI1xuICAgICAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIC5hZGRTeXN0ZW0oU2Npc3NvclN5c3RlbSwgJ3NjaXNzb3InKVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBTdGVuY2lsIHN5c3RlbSBpbnN0YW5jZVxuICAgICAgICAgICAgICogQG1lbWJlciB7UElYSS5zeXN0ZW1zLlN0ZW5jaWxTeXN0ZW19IHN0ZW5jaWxcbiAgICAgICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLlJlbmRlcmVyI1xuICAgICAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIC5hZGRTeXN0ZW0oU3RlbmNpbFN5c3RlbSwgJ3N0ZW5jaWwnKVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBQcm9qZWN0aW9uIHN5c3RlbSBpbnN0YW5jZVxuICAgICAgICAgICAgICogQG1lbWJlciB7UElYSS5zeXN0ZW1zLlByb2plY3Rpb25TeXN0ZW19IHByb2plY3Rpb25cbiAgICAgICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLlJlbmRlcmVyI1xuICAgICAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIC5hZGRTeXN0ZW0oUHJvamVjdGlvblN5c3RlbSwgJ3Byb2plY3Rpb24nKVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBUZXh0dXJlIGdhcmJhZ2UgY29sbGVjdG9yIHN5c3RlbSBpbnN0YW5jZVxuICAgICAgICAgICAgICogQG1lbWJlciB7UElYSS5zeXN0ZW1zLlRleHR1cmVHQ1N5c3RlbX0gdGV4dHVyZUdDXG4gICAgICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5SZW5kZXJlciNcbiAgICAgICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICAuYWRkU3lzdGVtKFRleHR1cmVHQ1N5c3RlbSwgJ3RleHR1cmVHQycpXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEZpbHRlciBzeXN0ZW0gaW5zdGFuY2VcbiAgICAgICAgICAgICAqIEBtZW1iZXIge1BJWEkuc3lzdGVtcy5GaWx0ZXJTeXN0ZW19IGZpbHRlclxuICAgICAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuUmVuZGVyZXIjXG4gICAgICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgLmFkZFN5c3RlbShGaWx0ZXJTeXN0ZW0sICdmaWx0ZXInKVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBSZW5kZXJUZXh0dXJlIHN5c3RlbSBpbnN0YW5jZVxuICAgICAgICAgICAgICogQG1lbWJlciB7UElYSS5zeXN0ZW1zLlJlbmRlclRleHR1cmVTeXN0ZW19IHJlbmRlclRleHR1cmVcbiAgICAgICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLlJlbmRlcmVyI1xuICAgICAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIC5hZGRTeXN0ZW0oUmVuZGVyVGV4dHVyZVN5c3RlbSwgJ3JlbmRlclRleHR1cmUnKVxuXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEJhdGNoIHN5c3RlbSBpbnN0YW5jZVxuICAgICAgICAgICAgICogQG1lbWJlciB7UElYSS5zeXN0ZW1zLkJhdGNoU3lzdGVtfSBiYXRjaFxuICAgICAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuUmVuZGVyZXIjXG4gICAgICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgLmFkZFN5c3RlbShCYXRjaFN5c3RlbSwgJ2JhdGNoJyk7XG5cbiAgICAgICAgdGhpcy5pbml0UGx1Z2lucyhSZW5kZXJlci5fX3BsdWdpbnMpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgb3B0aW9ucyBwYXNzZWQgaW4gdG8gY3JlYXRlIGEgbmV3IFdlYkdMIGNvbnRleHQuXG4gICAgICAgICAqL1xuICAgICAgICBpZiAob3B0aW9ucy5jb250ZXh0KVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmNvbnRleHQuaW5pdEZyb21Db250ZXh0KG9wdGlvbnMuY29udGV4dCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmNvbnRleHQuaW5pdEZyb21PcHRpb25zKHtcbiAgICAgICAgICAgICAgICBhbHBoYTogdGhpcy50cmFuc3BhcmVudCxcbiAgICAgICAgICAgICAgICBhbnRpYWxpYXM6IG9wdGlvbnMuYW50aWFsaWFzLFxuICAgICAgICAgICAgICAgIHByZW11bHRpcGxpZWRBbHBoYTogdGhpcy50cmFuc3BhcmVudCAmJiB0aGlzLnRyYW5zcGFyZW50ICE9PSAnbm90TXVsdGlwbGllZCcsXG4gICAgICAgICAgICAgICAgc3RlbmNpbDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBwcmVzZXJ2ZURyYXdpbmdCdWZmZXI6IG9wdGlvbnMucHJlc2VydmVEcmF3aW5nQnVmZmVyLFxuICAgICAgICAgICAgICAgIHBvd2VyUHJlZmVyZW5jZTogdGhpcy5vcHRpb25zLnBvd2VyUHJlZmVyZW5jZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZsYWcgaWYgd2UgYXJlIHJlbmRlcmluZyB0byB0aGUgc2NyZWVuIHZzIHJlbmRlclRleHR1cmVcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBkZWZhdWx0IHRydWVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucmVuZGVyaW5nVG9TY3JlZW4gPSB0cnVlO1xuXG4gICAgICAgIHNheUhlbGxvKHRoaXMuY29udGV4dC53ZWJHTFZlcnNpb24gPT09IDIgPyAnV2ViR0wgMicgOiAnV2ViR0wgMScpO1xuXG4gICAgICAgIHRoaXMucmVzaXplKHRoaXMub3B0aW9ucy53aWR0aCwgdGhpcy5vcHRpb25zLmhlaWdodCk7XG4gICAgfVxuXG4gICAgaWYgKCBBYnN0cmFjdFJlbmRlcmVyICkgUmVuZGVyZXIuX19wcm90b19fID0gQWJzdHJhY3RSZW5kZXJlcjtcbiAgICBSZW5kZXJlci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBBYnN0cmFjdFJlbmRlcmVyICYmIEFic3RyYWN0UmVuZGVyZXIucHJvdG90eXBlICk7XG4gICAgUmVuZGVyZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gUmVuZGVyZXI7XG5cbiAgICAvKipcbiAgICAgKiBBZGQgYSBuZXcgc3lzdGVtIHRvIHRoZSByZW5kZXJlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBDbGFzc1JlZiAtIENsYXNzIHJlZmVyZW5jZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbbmFtZV0gLSBQcm9wZXJ0eSBuYW1lIGZvciBzeXN0ZW0sIGlmIG5vdCBzcGVjaWZpZWRcbiAgICAgKiAgICAgICAgd2lsbCB1c2UgYSBzdGF0aWMgYG5hbWVgIHByb3BlcnR5IG9uIHRoZSBjbGFzcyBpdHNlbGYuIFRoaXNcbiAgICAgKiAgICAgICAgbmFtZSB3aWxsIGJlIGFzc2lnbmVkIGFzIHMgcHJvcGVydHkgb24gdGhlIFJlbmRlcmVyIHNvIG1ha2VcbiAgICAgKiAgICAgICAgc3VyZSBpdCBkb2Vzbid0IGNvbGxpZGUgd2l0aCBwcm9wZXJ0aWVzIG9uIFJlbmRlcmVyLlxuICAgICAqIEByZXR1cm4ge1BJWEkuUmVuZGVyZXJ9IFJldHVybiBpbnN0YW5jZSBvZiByZW5kZXJlclxuICAgICAqL1xuICAgIFJlbmRlcmVyLmNyZWF0ZSA9IGZ1bmN0aW9uIGNyZWF0ZSAob3B0aW9ucylcbiAgICB7XG4gICAgICAgIGlmIChpc1dlYkdMU3VwcG9ydGVkKCkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgUmVuZGVyZXIob3B0aW9ucyk7XG4gICAgICAgIH1cblxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1dlYkdMIHVuc3VwcG9ydGVkIGluIHRoaXMgYnJvd3NlciwgdXNlIFwicGl4aS5qcy1sZWdhY3lcIiBmb3IgZmFsbGJhY2sgY2FudmFzMmQgc3VwcG9ydC4nKTtcbiAgICB9O1xuXG4gICAgUmVuZGVyZXIucHJvdG90eXBlLmFkZFN5c3RlbSA9IGZ1bmN0aW9uIGFkZFN5c3RlbSAoQ2xhc3NSZWYsIG5hbWUpXG4gICAge1xuICAgICAgICBpZiAoIW5hbWUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIG5hbWUgPSBDbGFzc1JlZi5uYW1lO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHN5c3RlbSA9IG5ldyBDbGFzc1JlZih0aGlzKTtcblxuICAgICAgICBpZiAodGhpc1tuYW1lXSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKChcIldob29wcyEgVGhlIG5hbWUgXFxcIlwiICsgbmFtZSArIFwiXFxcIiBpcyBhbHJlYWR5IGluIHVzZVwiKSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzW25hbWVdID0gc3lzdGVtO1xuXG4gICAgICAgIGZvciAodmFyIGkgaW4gdGhpcy5ydW5uZXJzKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnJ1bm5lcnNbaV0uYWRkKHN5c3RlbSk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgYWZ0ZXIgcmVuZGVyaW5nIGZpbmlzaGVzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5SZW5kZXJlciNwb3N0cmVuZGVyXG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCBiZWZvcmUgcmVuZGVyaW5nIHN0YXJ0cy5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuUmVuZGVyZXIjcHJlcmVuZGVyXG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIHRoZSBXZWJHTCBjb250ZXh0IGlzIHNldC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuUmVuZGVyZXIjY29udGV4dFxuICAgICAgICAgKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2wgLSBXZWJHTCBjb250ZXh0LlxuICAgICAgICAgKi9cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVuZGVycyB0aGUgb2JqZWN0IHRvIGl0cyBXZWJHTCB2aWV3XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gZGlzcGxheU9iamVjdCAtIFRoZSBvYmplY3QgdG8gYmUgcmVuZGVyZWQuXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlclRleHR1cmV9IFtyZW5kZXJUZXh0dXJlXSAtIFRoZSByZW5kZXIgdGV4dHVyZSB0byByZW5kZXIgdG8uXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbY2xlYXI9dHJ1ZV0gLSBTaG91bGQgdGhlIGNhbnZhcyBiZSBjbGVhcmVkIGJlZm9yZSB0aGUgbmV3IHJlbmRlci5cbiAgICAgKiBAcGFyYW0ge1BJWEkuTWF0cml4fSBbdHJhbnNmb3JtXSAtIEEgdHJhbnNmb3JtIHRvIGFwcGx5IHRvIHRoZSByZW5kZXIgdGV4dHVyZSBiZWZvcmUgcmVuZGVyaW5nLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3NraXBVcGRhdGVUcmFuc2Zvcm09ZmFsc2VdIC0gU2hvdWxkIHdlIHNraXAgdGhlIHVwZGF0ZSB0cmFuc2Zvcm0gcGFzcz9cbiAgICAgKi9cbiAgICBSZW5kZXJlci5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyIChkaXNwbGF5T2JqZWN0LCByZW5kZXJUZXh0dXJlLCBjbGVhciwgdHJhbnNmb3JtLCBza2lwVXBkYXRlVHJhbnNmb3JtKVxuICAgIHtcbiAgICAgICAgLy8gY2FuIGJlIGhhbmR5IHRvIGtub3chXG4gICAgICAgIHRoaXMucmVuZGVyaW5nVG9TY3JlZW4gPSAhcmVuZGVyVGV4dHVyZTtcblxuICAgICAgICB0aGlzLnJ1bm5lcnMucHJlcmVuZGVyLnJ1bigpO1xuICAgICAgICB0aGlzLmVtaXQoJ3ByZXJlbmRlcicpO1xuXG4gICAgICAgIC8vIGFwcGx5IGEgdHJhbnNmb3JtIGF0IGEgR1BVIGxldmVsXG4gICAgICAgIHRoaXMucHJvamVjdGlvbi50cmFuc2Zvcm0gPSB0cmFuc2Zvcm07XG5cbiAgICAgICAgLy8gbm8gcG9pbnQgcmVuZGVyaW5nIGlmIG91ciBjb250ZXh0IGhhcyBiZWVuIGJsb3duIHVwIVxuICAgICAgICBpZiAodGhpcy5jb250ZXh0LmlzTG9zdClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFyZW5kZXJUZXh0dXJlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9sYXN0T2JqZWN0UmVuZGVyZWQgPSBkaXNwbGF5T2JqZWN0O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFza2lwVXBkYXRlVHJhbnNmb3JtKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyB1cGRhdGUgdGhlIHNjZW5lIGdyYXBoXG4gICAgICAgICAgICB2YXIgY2FjaGVQYXJlbnQgPSBkaXNwbGF5T2JqZWN0LnBhcmVudDtcblxuICAgICAgICAgICAgZGlzcGxheU9iamVjdC5wYXJlbnQgPSB0aGlzLl90ZW1wRGlzcGxheU9iamVjdFBhcmVudDtcbiAgICAgICAgICAgIGRpc3BsYXlPYmplY3QudXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgICAgICAgICBkaXNwbGF5T2JqZWN0LnBhcmVudCA9IGNhY2hlUGFyZW50O1xuICAgICAgICAgICAgLy8gZGlzcGxheU9iamVjdC5oaXRBcmVhID0gLy9UT0RPIGFkZCBhIHRlbXAgaGl0IGFyZWFcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucmVuZGVyVGV4dHVyZS5iaW5kKHJlbmRlclRleHR1cmUpO1xuICAgICAgICB0aGlzLmJhdGNoLmN1cnJlbnRSZW5kZXJlci5zdGFydCgpO1xuXG4gICAgICAgIGlmIChjbGVhciAhPT0gdW5kZWZpbmVkID8gY2xlYXIgOiB0aGlzLmNsZWFyQmVmb3JlUmVuZGVyKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnJlbmRlclRleHR1cmUuY2xlYXIoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGRpc3BsYXlPYmplY3QucmVuZGVyKHRoaXMpO1xuXG4gICAgICAgIC8vIGFwcGx5IHRyYW5zZm9ybS4uXG4gICAgICAgIHRoaXMuYmF0Y2guY3VycmVudFJlbmRlcmVyLmZsdXNoKCk7XG5cbiAgICAgICAgaWYgKHJlbmRlclRleHR1cmUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJlbmRlclRleHR1cmUuYmFzZVRleHR1cmUudXBkYXRlKCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnJ1bm5lcnMucG9zdHJlbmRlci5ydW4oKTtcblxuICAgICAgICAvLyByZXNldCB0cmFuc2Zvcm0gYWZ0ZXIgcmVuZGVyXG4gICAgICAgIHRoaXMucHJvamVjdGlvbi50cmFuc2Zvcm0gPSBudWxsO1xuXG4gICAgICAgIHRoaXMuZW1pdCgncG9zdHJlbmRlcicpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXNpemVzIHRoZSBXZWJHTCB2aWV3IHRvIHRoZSBzcGVjaWZpZWQgd2lkdGggYW5kIGhlaWdodC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzY3JlZW5XaWR0aCAtIFRoZSBuZXcgd2lkdGggb2YgdGhlIHNjcmVlbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2NyZWVuSGVpZ2h0IC0gVGhlIG5ldyBoZWlnaHQgb2YgdGhlIHNjcmVlbi5cbiAgICAgKi9cbiAgICBSZW5kZXJlci5wcm90b3R5cGUucmVzaXplID0gZnVuY3Rpb24gcmVzaXplIChzY3JlZW5XaWR0aCwgc2NyZWVuSGVpZ2h0KVxuICAgIHtcbiAgICAgICAgQWJzdHJhY3RSZW5kZXJlci5wcm90b3R5cGUucmVzaXplLmNhbGwodGhpcywgc2NyZWVuV2lkdGgsIHNjcmVlbkhlaWdodCk7XG5cbiAgICAgICAgdGhpcy5ydW5uZXJzLnJlc2l6ZS5ydW4oc2NyZWVuV2lkdGgsIHNjcmVlbkhlaWdodCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlc2V0cyB0aGUgV2ViR0wgc3RhdGUgc28geW91IGNhbiByZW5kZXIgdGhpbmdzIGhvd2V2ZXIgeW91IGZhbmN5IVxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5SZW5kZXJlcn0gUmV0dXJucyBpdHNlbGYuXG4gICAgICovXG4gICAgUmVuZGVyZXIucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gcmVzZXQgKClcbiAgICB7XG4gICAgICAgIHRoaXMucnVubmVycy5yZXNldC5ydW4oKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2xlYXIgdGhlIGZyYW1lIGJ1ZmZlclxuICAgICAqL1xuICAgIFJlbmRlcmVyLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uIGNsZWFyICgpXG4gICAge1xuICAgICAgICB0aGlzLmZyYW1lYnVmZmVyLmJpbmQoKTtcbiAgICAgICAgdGhpcy5mcmFtZWJ1ZmZlci5jbGVhcigpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGV2ZXJ5dGhpbmcgZnJvbSB0aGUgcmVuZGVyZXIgKGV2ZW50IGxpc3RlbmVycywgc3ByaXRlYmF0Y2gsIGV0Yy4uLilcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3JlbW92ZVZpZXc9ZmFsc2VdIC0gUmVtb3ZlcyB0aGUgQ2FudmFzIGVsZW1lbnQgZnJvbSB0aGUgRE9NLlxuICAgICAqICBTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9waXhpanMvcGl4aS5qcy9pc3N1ZXMvMjIzM1xuICAgICAqL1xuICAgIFJlbmRlcmVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSAocmVtb3ZlVmlldylcbiAgICB7XG4gICAgICAgIHRoaXMucnVubmVycy5kZXN0cm95LnJ1bigpO1xuXG4gICAgICAgIGZvciAodmFyIHIgaW4gdGhpcy5ydW5uZXJzKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnJ1bm5lcnNbcl0uZGVzdHJveSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gY2FsbCBiYXNlIGRlc3Ryb3lcbiAgICAgICAgQWJzdHJhY3RSZW5kZXJlci5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMsIHJlbW92ZVZpZXcpO1xuXG4gICAgICAgIC8vIFRPRE8gbnVsbGlmeSBhbGwgdGhlIG1hbmFnZXJzLi5cbiAgICAgICAgdGhpcy5nbCA9IG51bGw7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENvbGxlY3Rpb24gb2YgaW5zdGFsbGVkIHBsdWdpbnMuIFRoZXNlIGFyZSBpbmNsdWRlZCBieSBkZWZhdWx0IGluIFBJWEksIGJ1dCBjYW4gYmUgZXhjbHVkZWRcbiAgICAgKiBieSBjcmVhdGluZyBhIGN1c3RvbSBidWlsZC4gQ29uc3VsdCB0aGUgUkVBRE1FIGZvciBtb3JlIGluZm9ybWF0aW9uIGFib3V0IGNyZWF0aW5nIGN1c3RvbVxuICAgICAqIGJ1aWxkcyBhbmQgZXhjbHVkaW5nIHBsdWdpbnMuXG4gICAgICogQG5hbWUgUElYSS5SZW5kZXJlciNwbHVnaW5zXG4gICAgICogQHR5cGUge29iamVjdH1cbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKiBAcHJvcGVydHkge1BJWEkuYWNjZXNzaWJpbGl0eS5BY2Nlc3NpYmlsaXR5TWFuYWdlcn0gYWNjZXNzaWJpbGl0eSBTdXBwb3J0IHRhYmJpbmcgaW50ZXJhY3RpdmUgZWxlbWVudHMuXG4gICAgICogQHByb3BlcnR5IHtQSVhJLmV4dHJhY3QuRXh0cmFjdH0gZXh0cmFjdCBFeHRyYWN0IGltYWdlIGRhdGEgZnJvbSByZW5kZXJlci5cbiAgICAgKiBAcHJvcGVydHkge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyfSBpbnRlcmFjdGlvbiBIYW5kbGVzIG1vdXNlLCB0b3VjaCBhbmQgcG9pbnRlciBldmVudHMuXG4gICAgICogQHByb3BlcnR5IHtQSVhJLnByZXBhcmUuUHJlcGFyZX0gcHJlcGFyZSBQcmUtcmVuZGVyIGRpc3BsYXkgb2JqZWN0cy5cbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEFkZHMgYSBwbHVnaW4gdG8gdGhlIHJlbmRlcmVyLlxuICAgICAqXG4gICAgICogQG1ldGhvZFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwbHVnaW5OYW1lIC0gVGhlIG5hbWUgb2YgdGhlIHBsdWdpbi5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjdG9yIC0gVGhlIGNvbnN0cnVjdG9yIGZ1bmN0aW9uIG9yIGNsYXNzIGZvciB0aGUgcGx1Z2luLlxuICAgICAqL1xuICAgIFJlbmRlcmVyLnJlZ2lzdGVyUGx1Z2luID0gZnVuY3Rpb24gcmVnaXN0ZXJQbHVnaW4gKHBsdWdpbk5hbWUsIGN0b3IpXG4gICAge1xuICAgICAgICBSZW5kZXJlci5fX3BsdWdpbnMgPSBSZW5kZXJlci5fX3BsdWdpbnMgfHwge307XG4gICAgICAgIFJlbmRlcmVyLl9fcGx1Z2luc1twbHVnaW5OYW1lXSA9IGN0b3I7XG4gICAgfTtcblxuICAgIHJldHVybiBSZW5kZXJlcjtcbn0oQWJzdHJhY3RSZW5kZXJlcikpO1xuXG4vKipcbiAqIFRoaXMgaGVscGVyIGZ1bmN0aW9uIHdpbGwgYXV0b21hdGljYWxseSBkZXRlY3Qgd2hpY2ggcmVuZGVyZXIgeW91IHNob3VsZCBiZSB1c2luZy5cbiAqIFdlYkdMIGlzIHRoZSBwcmVmZXJyZWQgcmVuZGVyZXIgYXMgaXQgaXMgYSBsb3QgZmFzdGVyLiBJZiBXZWJHTCBpcyBub3Qgc3VwcG9ydGVkIGJ5XG4gKiB0aGUgYnJvd3NlciB0aGVuIHRoaXMgZnVuY3Rpb24gd2lsbCByZXR1cm4gYSBjYW52YXMgcmVuZGVyZXJcbiAqXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGZ1bmN0aW9uIGF1dG9EZXRlY3RSZW5kZXJlclxuICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSAtIFRoZSBvcHRpb25hbCByZW5kZXJlciBwYXJhbWV0ZXJzXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMud2lkdGg9ODAwXSAtIHRoZSB3aWR0aCBvZiB0aGUgcmVuZGVyZXJzIHZpZXdcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5oZWlnaHQ9NjAwXSAtIHRoZSBoZWlnaHQgb2YgdGhlIHJlbmRlcmVycyB2aWV3XG4gKiBAcGFyYW0ge0hUTUxDYW52YXNFbGVtZW50fSBbb3B0aW9ucy52aWV3XSAtIHRoZSBjYW52YXMgdG8gdXNlIGFzIGEgdmlldywgb3B0aW9uYWxcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudHJhbnNwYXJlbnQ9ZmFsc2VdIC0gSWYgdGhlIHJlbmRlciB2aWV3IGlzIHRyYW5zcGFyZW50LCBkZWZhdWx0IGZhbHNlXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmF1dG9EZW5zaXR5PWZhbHNlXSAtIFJlc2l6ZXMgcmVuZGVyZXIgdmlldyBpbiBDU1MgcGl4ZWxzIHRvIGFsbG93IGZvclxuICogICByZXNvbHV0aW9ucyBvdGhlciB0aGFuIDFcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYW50aWFsaWFzPWZhbHNlXSAtIHNldHMgYW50aWFsaWFzXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnByZXNlcnZlRHJhd2luZ0J1ZmZlcj1mYWxzZV0gLSBlbmFibGVzIGRyYXdpbmcgYnVmZmVyIHByZXNlcnZhdGlvbiwgZW5hYmxlIHRoaXMgaWYgeW91XG4gKiAgbmVlZCB0byBjYWxsIHRvRGF0YVVybCBvbiB0aGUgd2ViZ2wgY29udGV4dFxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmJhY2tncm91bmRDb2xvcj0weDAwMDAwMF0gLSBUaGUgYmFja2dyb3VuZCBjb2xvciBvZiB0aGUgcmVuZGVyZWQgYXJlYVxuICogIChzaG93biBpZiBub3QgdHJhbnNwYXJlbnQpLlxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jbGVhckJlZm9yZVJlbmRlcj10cnVlXSAtIFRoaXMgc2V0cyBpZiB0aGUgcmVuZGVyZXIgd2lsbCBjbGVhciB0aGUgY2FudmFzIG9yXG4gKiAgIG5vdCBiZWZvcmUgdGhlIG5ldyByZW5kZXIgcGFzcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5yZXNvbHV0aW9uPTFdIC0gVGhlIHJlc29sdXRpb24gLyBkZXZpY2UgcGl4ZWwgcmF0aW8gb2YgdGhlIHJlbmRlcmVyLCByZXRpbmEgd291bGQgYmUgMlxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5mb3JjZUNhbnZhcz1mYWxzZV0gLSBwcmV2ZW50cyBzZWxlY3Rpb24gb2YgV2ViR0wgcmVuZGVyZXIsIGV2ZW4gaWYgc3VjaCBpcyBwcmVzZW50LCB0aGlzXG4gKiAgIG9wdGlvbiBvbmx5IGlzIGF2YWlsYWJsZSB3aGVuIHVzaW5nICoqcGl4aS5qcy1sZWdhY3kqKiBvciAqKkBwaXhpL2NhbnZhcy1yZW5kZXJlcioqIG1vZHVsZXMsIG90aGVyd2lzZVxuICogICBpdCBpcyBpZ25vcmVkLlxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5mb3JjZUZYQUE9ZmFsc2VdIC0gZm9yY2VzIEZYQUEgYW50aWFsaWFzaW5nIHRvIGJlIHVzZWQgb3ZlciBuYXRpdmUuXG4gKiAgRlhBQSBpcyBmYXN0ZXIsIGJ1dCBtYXkgbm90IGFsd2F5cyBsb29rIGFzIGdyZWF0ICoqd2ViZ2wgb25seSoqXG4gKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMucG93ZXJQcmVmZXJlbmNlXSAtIFBhcmFtZXRlciBwYXNzZWQgdG8gd2ViZ2wgY29udGV4dCwgc2V0IHRvIFwiaGlnaC1wZXJmb3JtYW5jZVwiXG4gKiAgZm9yIGRldmljZXMgd2l0aCBkdWFsIGdyYXBoaWNzIGNhcmQgKip3ZWJnbCBvbmx5KipcbiAqIEByZXR1cm4ge1BJWEkuUmVuZGVyZXJ8UElYSS5DYW52YXNSZW5kZXJlcn0gUmV0dXJucyBXZWJHTCByZW5kZXJlciBpZiBhdmFpbGFibGUsIG90aGVyd2lzZSBDYW52YXNSZW5kZXJlclxuICovXG5mdW5jdGlvbiBhdXRvRGV0ZWN0UmVuZGVyZXIob3B0aW9ucylcbntcbiAgICByZXR1cm4gUmVuZGVyZXIuY3JlYXRlKG9wdGlvbnMpO1xufVxuXG52YXIgX2RlZmF1bHQgPSBcImF0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjtcXG5hdHRyaWJ1dGUgdmVjMiBhVGV4dHVyZUNvb3JkO1xcblxcbnVuaWZvcm0gbWF0MyBwcm9qZWN0aW9uTWF0cml4O1xcblxcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcblxcbnZvaWQgbWFpbih2b2lkKVxcbntcXG4gICAgZ2xfUG9zaXRpb24gPSB2ZWM0KChwcm9qZWN0aW9uTWF0cml4ICogdmVjMyhhVmVydGV4UG9zaXRpb24sIDEuMCkpLnh5LCAwLjAsIDEuMCk7XFxuICAgIHZUZXh0dXJlQ29vcmQgPSBhVGV4dHVyZUNvb3JkO1xcbn1cIjtcblxudmFyIGRlZmF1bHRGaWx0ZXIgPSBcImF0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjtcXG5cXG51bmlmb3JtIG1hdDMgcHJvamVjdGlvbk1hdHJpeDtcXG5cXG52YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG5cXG51bmlmb3JtIHZlYzQgaW5wdXRTaXplO1xcbnVuaWZvcm0gdmVjNCBvdXRwdXRGcmFtZTtcXG5cXG52ZWM0IGZpbHRlclZlcnRleFBvc2l0aW9uKCB2b2lkIClcXG57XFxuICAgIHZlYzIgcG9zaXRpb24gPSBhVmVydGV4UG9zaXRpb24gKiBtYXgob3V0cHV0RnJhbWUuencsIHZlYzIoMC4pKSArIG91dHB1dEZyYW1lLnh5O1xcblxcbiAgICByZXR1cm4gdmVjNCgocHJvamVjdGlvbk1hdHJpeCAqIHZlYzMocG9zaXRpb24sIDEuMCkpLnh5LCAwLjAsIDEuMCk7XFxufVxcblxcbnZlYzIgZmlsdGVyVGV4dHVyZUNvb3JkKCB2b2lkIClcXG57XFxuICAgIHJldHVybiBhVmVydGV4UG9zaXRpb24gKiAob3V0cHV0RnJhbWUuencgKiBpbnB1dFNpemUuencpO1xcbn1cXG5cXG52b2lkIG1haW4odm9pZClcXG57XFxuICAgIGdsX1Bvc2l0aW9uID0gZmlsdGVyVmVydGV4UG9zaXRpb24oKTtcXG4gICAgdlRleHR1cmVDb29yZCA9IGZpbHRlclRleHR1cmVDb29yZCgpO1xcbn1cXG5cIjtcblxuLyoqXG4gKiBBIFRleHR1cmUgdGhhdCBkZXBlbmRzIG9uIHNpeCBvdGhlciByZXNvdXJjZXMuXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkJhc2VUZXh0dXJlXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgQ3ViZVRleHR1cmUgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChCYXNlVGV4dHVyZSkge1xuICAgIGZ1bmN0aW9uIEN1YmVUZXh0dXJlICgpIHtcbiAgICAgICAgQmFzZVRleHR1cmUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9XG5cbiAgICBpZiAoIEJhc2VUZXh0dXJlICkgQ3ViZVRleHR1cmUuX19wcm90b19fID0gQmFzZVRleHR1cmU7XG4gICAgQ3ViZVRleHR1cmUucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggQmFzZVRleHR1cmUgJiYgQmFzZVRleHR1cmUucHJvdG90eXBlICk7XG4gICAgQ3ViZVRleHR1cmUucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQ3ViZVRleHR1cmU7XG5cbiAgICBDdWJlVGV4dHVyZS5mcm9tID0gZnVuY3Rpb24gZnJvbSAocmVzb3VyY2VzLCBvcHRpb25zKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIG5ldyBDdWJlVGV4dHVyZShuZXcgQ3ViZVJlc291cmNlKHJlc291cmNlcywgb3B0aW9ucykpO1xuICAgIH07XG5cbiAgICByZXR1cm4gQ3ViZVRleHR1cmU7XG59KEJhc2VUZXh0dXJlKSk7XG5cbi8qKlxuICogVXNlZCBieSB0aGUgYmF0Y2hlciB0byBkcmF3IGJhdGNoZXMuXG4gKiBFYWNoIG9uZSBvZiB0aGVzZSBjb250YWlucyBhbGwgaW5mb3JtYXRpb24gcmVxdWlyZWQgdG8gZHJhdyBhIGJvdW5kIGdlb21ldHJ5LlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEJhdGNoRHJhd0NhbGwgPSBmdW5jdGlvbiBCYXRjaERyYXdDYWxsKClcbntcbiAgICB0aGlzLnRleEFycmF5ID0gbnVsbDtcbiAgICB0aGlzLmJsZW5kID0gMDtcbiAgICB0aGlzLnR5cGUgPSBEUkFXX01PREVTLlRSSUFOR0xFUztcblxuICAgIHRoaXMuc3RhcnQgPSAwO1xuICAgIHRoaXMuc2l6ZSA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBkYXRhIGZvciB1bmlmb3JtcyBvciBjdXN0b20gd2ViZ2wgc3RhdGVcbiAgICAgKiBAbWVtYmVyIHtvYmplY3R9XG4gICAgICovXG4gICAgdGhpcy5kYXRhID0gbnVsbDtcbn07XG5cbi8qKlxuICogVXNlZCBieSB0aGUgYmF0Y2hlciB0byBidWlsZCB0ZXh0dXJlIGJhdGNoZXMuXG4gKiBIb2xkcyBsaXN0IG9mIHRleHR1cmVzIGFuZCB0aGVpciByZXNwZWN0aXZlIGxvY2F0aW9ucy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBCYXRjaFRleHR1cmVBcnJheSA9IGZ1bmN0aW9uIEJhdGNoVGV4dHVyZUFycmF5KClcbntcbiAgICAvKipcbiAgICAgKiBpbnNpZGUgdGV4dHVyZXMgYXJyYXlcbiAgICAgKiBAbWVtYmVyIHtQSVhJLkJhc2VUZXh0dXJlW119XG4gICAgICovXG4gICAgdGhpcy5lbGVtZW50cyA9IFtdO1xuICAgIC8qKlxuICAgICAqIFJlc3BlY3RpdmUgbG9jYXRpb25zIGZvciB0ZXh0dXJlc1xuICAgICAqIEBtZW1iZXIge251bWJlcltdfVxuICAgICAqL1xuICAgIHRoaXMuaWRzID0gW107XG4gICAgLyoqXG4gICAgICogbnVtYmVyIG9mIGZpbGxlZCBlbGVtZW50c1xuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLmNvdW50ID0gMDtcbn07XG5cbkJhdGNoVGV4dHVyZUFycmF5LnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uIGNsZWFyICgpXG57XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmNvdW50OyBpKyspXG4gICAge1xuICAgICAgICB0aGlzLmVsZW1lbnRzW2ldID0gbnVsbDtcbiAgICB9XG4gICAgdGhpcy5jb3VudCA9IDA7XG59O1xuXG4vKipcbiAqIEZsZXhpYmxlIHdyYXBwZXIgYXJvdW5kIGBBcnJheUJ1ZmZlcmAgdGhhdCBhbHNvIHByb3ZpZGVzXG4gKiB0eXBlZCBhcnJheSB2aWV3cyBvbiBkZW1hbmQuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgVmlld2FibGVCdWZmZXIgPSBmdW5jdGlvbiBWaWV3YWJsZUJ1ZmZlcihzaXplKVxue1xuICAgIC8qKlxuICAgICAqIFVuZGVybHlpbmcgYEFycmF5QnVmZmVyYCB0aGF0IGhvbGRzIGFsbCB0aGUgZGF0YVxuICAgICAqIGFuZCBpcyBvZiBjYXBhY2l0eSBgc2l6ZWAuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtBcnJheUJ1ZmZlcn1cbiAgICAgKi9cbiAgICB0aGlzLnJhd0JpbmFyeURhdGEgPSBuZXcgQXJyYXlCdWZmZXIoc2l6ZSk7XG5cbiAgICAvKipcbiAgICAgKiBWaWV3IG9uIHRoZSByYXcgYmluYXJ5IGRhdGEgYXMgYSBgVWludDMyQXJyYXlgLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7VWludDMyQXJyYXl9XG4gICAgICovXG4gICAgdGhpcy51aW50MzJWaWV3ID0gbmV3IFVpbnQzMkFycmF5KHRoaXMucmF3QmluYXJ5RGF0YSk7XG5cbiAgICAvKipcbiAgICAgKiBWaWV3IG9uIHRoZSByYXcgYmluYXJ5IGRhdGEgYXMgYSBgRmxvYXQzMkFycmF5YC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge0Zsb2F0MzJBcnJheX1cbiAgICAgKi9cbiAgICB0aGlzLmZsb2F0MzJWaWV3ID0gbmV3IEZsb2F0MzJBcnJheSh0aGlzLnJhd0JpbmFyeURhdGEpO1xufTtcblxudmFyIHByb3RvdHlwZUFjY2Vzc29ycyQ1ID0geyBpbnQ4VmlldzogeyBjb25maWd1cmFibGU6IHRydWUgfSx1aW50OFZpZXc6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0saW50MTZWaWV3OiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LHVpbnQxNlZpZXc6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0saW50MzJWaWV3OiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH07XG5cbi8qKlxuICogVmlldyBvbiB0aGUgcmF3IGJpbmFyeSBkYXRhIGFzIGEgYEludDhBcnJheWAuXG4gKlxuICogQG1lbWJlciB7SW50OEFycmF5fVxuICovXG5wcm90b3R5cGVBY2Nlc3NvcnMkNS5pbnQ4Vmlldy5nZXQgPSBmdW5jdGlvbiAoKVxue1xuICAgIGlmICghdGhpcy5faW50OFZpZXcpXG4gICAge1xuICAgICAgICB0aGlzLl9pbnQ4VmlldyA9IG5ldyBJbnQ4QXJyYXkodGhpcy5yYXdCaW5hcnlEYXRhKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5faW50OFZpZXc7XG59O1xuXG4vKipcbiAqIFZpZXcgb24gdGhlIHJhdyBiaW5hcnkgZGF0YSBhcyBhIGBVaW50OEFycmF5YC5cbiAqXG4gKiBAbWVtYmVyIHtVaW50OEFycmF5fVxuICovXG5wcm90b3R5cGVBY2Nlc3NvcnMkNS51aW50OFZpZXcuZ2V0ID0gZnVuY3Rpb24gKClcbntcbiAgICBpZiAoIXRoaXMuX3VpbnQ4VmlldylcbiAgICB7XG4gICAgICAgIHRoaXMuX3VpbnQ4VmlldyA9IG5ldyBVaW50OEFycmF5KHRoaXMucmF3QmluYXJ5RGF0YSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuX3VpbnQ4Vmlldztcbn07XG5cbi8qKlxuICogVmlldyBvbiB0aGUgcmF3IGJpbmFyeSBkYXRhIGFzIGEgYEludDE2QXJyYXlgLlxuICpcbiAqIEBtZW1iZXIge0ludDE2QXJyYXl9XG4gKi9cbnByb3RvdHlwZUFjY2Vzc29ycyQ1LmludDE2Vmlldy5nZXQgPSBmdW5jdGlvbiAoKVxue1xuICAgIGlmICghdGhpcy5faW50MTZWaWV3KVxuICAgIHtcbiAgICAgICAgdGhpcy5faW50MTZWaWV3ID0gbmV3IEludDE2QXJyYXkodGhpcy5yYXdCaW5hcnlEYXRhKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5faW50MTZWaWV3O1xufTtcblxuLyoqXG4gKiBWaWV3IG9uIHRoZSByYXcgYmluYXJ5IGRhdGEgYXMgYSBgVWludDE2QXJyYXlgLlxuICpcbiAqIEBtZW1iZXIge1VpbnQxNkFycmF5fVxuICovXG5wcm90b3R5cGVBY2Nlc3NvcnMkNS51aW50MTZWaWV3LmdldCA9IGZ1bmN0aW9uICgpXG57XG4gICAgaWYgKCF0aGlzLl91aW50MTZWaWV3KVxuICAgIHtcbiAgICAgICAgdGhpcy5fdWludDE2VmlldyA9IG5ldyBVaW50MTZBcnJheSh0aGlzLnJhd0JpbmFyeURhdGEpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLl91aW50MTZWaWV3O1xufTtcblxuLyoqXG4gKiBWaWV3IG9uIHRoZSByYXcgYmluYXJ5IGRhdGEgYXMgYSBgSW50MzJBcnJheWAuXG4gKlxuICogQG1lbWJlciB7SW50MzJBcnJheX1cbiAqL1xucHJvdG90eXBlQWNjZXNzb3JzJDUuaW50MzJWaWV3LmdldCA9IGZ1bmN0aW9uICgpXG57XG4gICAgaWYgKCF0aGlzLl9pbnQzMlZpZXcpXG4gICAge1xuICAgICAgICB0aGlzLl9pbnQzMlZpZXcgPSBuZXcgSW50MzJBcnJheSh0aGlzLnJhd0JpbmFyeURhdGEpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLl9pbnQzMlZpZXc7XG59O1xuXG4vKipcbiAqIFJldHVybnMgdGhlIHZpZXcgb2YgdGhlIGdpdmVuIHR5cGUuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgLSBPbmUgb2YgYGludDhgLCBgdWludDhgLCBgaW50MTZgLFxuICpgdWludDE2YCwgYGludDMyYCwgYHVpbnQzMmAsIGFuZCBgZmxvYXQzMmAuXG4gKiBAcmV0dXJuIHtvYmplY3R9IHR5cGVkIGFycmF5IG9mIGdpdmVuIHR5cGVcbiAqL1xuVmlld2FibGVCdWZmZXIucHJvdG90eXBlLnZpZXcgPSBmdW5jdGlvbiB2aWV3ICh0eXBlKVxue1xuICAgIHJldHVybiB0aGlzWyh0eXBlICsgXCJWaWV3XCIpXTtcbn07XG5cbi8qKlxuICogRGVzdHJveXMgYWxsIGJ1ZmZlciByZWZlcmVuY2VzLiBEbyBub3QgdXNlIGFmdGVyIGNhbGxpbmdcbiAqIHRoaXMuXG4gKi9cblZpZXdhYmxlQnVmZmVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSAoKVxue1xuICAgIHRoaXMucmF3QmluYXJ5RGF0YSA9IG51bGw7XG4gICAgdGhpcy5faW50OFZpZXcgPSBudWxsO1xuICAgIHRoaXMuX3VpbnQ4VmlldyA9IG51bGw7XG4gICAgdGhpcy5faW50MTZWaWV3ID0gbnVsbDtcbiAgICB0aGlzLl91aW50MTZWaWV3ID0gbnVsbDtcbiAgICB0aGlzLl9pbnQzMlZpZXcgPSBudWxsO1xuICAgIHRoaXMudWludDMyVmlldyA9IG51bGw7XG4gICAgdGhpcy5mbG9hdDMyVmlldyA9IG51bGw7XG59O1xuXG5WaWV3YWJsZUJ1ZmZlci5zaXplT2YgPSBmdW5jdGlvbiBzaXplT2YgKHR5cGUpXG57XG4gICAgc3dpdGNoICh0eXBlKVxuICAgIHtcbiAgICAgICAgY2FzZSAnaW50OCc6XG4gICAgICAgIGNhc2UgJ3VpbnQ4JzpcbiAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICBjYXNlICdpbnQxNic6XG4gICAgICAgIGNhc2UgJ3VpbnQxNic6XG4gICAgICAgICAgICByZXR1cm4gMjtcbiAgICAgICAgY2FzZSAnaW50MzInOlxuICAgICAgICBjYXNlICd1aW50MzInOlxuICAgICAgICBjYXNlICdmbG9hdDMyJzpcbiAgICAgICAgICAgIHJldHVybiA0O1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCh0eXBlICsgXCIgaXNuJ3QgYSB2YWxpZCB2aWV3IHR5cGVcIikpO1xuICAgIH1cbn07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKCBWaWV3YWJsZUJ1ZmZlci5wcm90b3R5cGUsIHByb3RvdHlwZUFjY2Vzc29ycyQ1ICk7XG5cbi8qKlxuICogUmVuZGVyZXIgZGVkaWNhdGVkIHRvIGRyYXdpbmcgYW5kIGJhdGNoaW5nIHNwcml0ZXMuXG4gKlxuICogVGhpcyBpcyB0aGUgZGVmYXVsdCBiYXRjaCByZW5kZXJlci4gSXQgYnVmZmVycyBvYmplY3RzXG4gKiB3aXRoIHRleHR1cmUtYmFzZWQgZ2VvbWV0cmllcyBhbmQgcmVuZGVycyB0aGVtIGluXG4gKiBiYXRjaGVzLiBJdCB1cGxvYWRzIG11bHRpcGxlIHRleHR1cmVzIHRvIHRoZSBHUFUgdG9cbiAqIHJlZHVjZSB0byB0aGUgbnVtYmVyIG9mIGRyYXcgY2FsbHMuXG4gKlxuICogQGNsYXNzXG4gKiBAcHJvdGVjdGVkXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGV4dGVuZHMgUElYSS5PYmplY3RSZW5kZXJlclxuICovXG52YXIgQWJzdHJhY3RCYXRjaFJlbmRlcmVyID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoT2JqZWN0UmVuZGVyZXIpIHtcbiAgICBmdW5jdGlvbiBBYnN0cmFjdEJhdGNoUmVuZGVyZXIocmVuZGVyZXIpXG4gICAge1xuICAgICAgICBPYmplY3RSZW5kZXJlci5jYWxsKHRoaXMsIHJlbmRlcmVyKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhpcyBpcyB1c2VkIHRvIGdlbmVyYXRlIGEgc2hhZGVyIHRoYXQgY2FuXG4gICAgICAgICAqIGNvbG9yIGVhY2ggdmVydGV4IGJhc2VkIG9uIGEgYGFUZXh0dXJlSWRgXG4gICAgICAgICAqIGF0dHJpYnV0ZSB0aGF0IHBvaW50cyB0byBhbiB0ZXh0dXJlIGluIGB1U2FtcGxlcmAuXG4gICAgICAgICAqXG4gICAgICAgICAqIFRoaXMgZW5hYmxlcyB0aGUgb2JqZWN0cyB3aXRoIGRpZmZlcmVudCB0ZXh0dXJlc1xuICAgICAgICAgKiB0byBiZSBkcmF3biBpbiB0aGUgc2FtZSBkcmF3IGNhbGwuXG4gICAgICAgICAqXG4gICAgICAgICAqIFlvdSBjYW4gY3VzdG9taXplIHlvdXIgc2hhZGVyIGJ5IGNyZWF0aW5nIHlvdXJcbiAgICAgICAgICogY3VzdG9tIHNoYWRlciBnZW5lcmF0b3IuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuQmF0Y2hTaGFkZXJHZW5lcmF0b3J9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc2hhZGVyR2VuZXJhdG9yID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGNsYXNzIHRoYXQgcmVwcmVzZW50cyB0aGUgZ2VvbWV0cnkgb2Ygb2JqZWN0c1xuICAgICAgICAgKiB0aGF0IGFyZSBnb2luZyB0byBiZSBiYXRjaGVkIHdpdGggdGhpcy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0fVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLkJhdGNoR2VvbWV0cnlcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5nZW9tZXRyeUNsYXNzID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogU2l6ZSBvZiBkYXRhIGJlaW5nIGJ1ZmZlcmVkIHBlciB2ZXJ0ZXggaW4gdGhlXG4gICAgICAgICAqIGF0dHJpYnV0ZSBidWZmZXJzIChpbiBmbG9hdHMpLiBCeSBkZWZhdWx0LCB0aGVcbiAgICAgICAgICogYmF0Y2gtcmVuZGVyZXIgcGx1Z2luIHVzZXMgNjpcbiAgICAgICAgICpcbiAgICAgICAgICogfCBhVmVydGV4UG9zaXRpb24gfCAyIHxcbiAgICAgICAgICogfC0tLS0tLS0tLS0tLS0tLS0tfC0tLXxcbiAgICAgICAgICogfCBhVGV4dHVyZUNvb3JkcyAgfCAyIHxcbiAgICAgICAgICogfCBhQ29sb3IgICAgICAgICAgfCAxIHxcbiAgICAgICAgICogfCBhVGV4dHVyZUlkICAgICAgfCAxIHxcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudmVydGV4U2l6ZSA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBXZWJHTCBzdGF0ZSBpbiB3aGljaCB0aGlzIHJlbmRlcmVyIHdpbGwgd29yay5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5TdGF0ZX1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnN0YXRlID0gU3RhdGUuZm9yMmQoKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG51bWJlciBvZiBidWZmZXJhYmxlIG9iamVjdHMgYmVmb3JlIGEgZmx1c2hcbiAgICAgICAgICogb2NjdXJzIGF1dG9tYXRpY2FsbHkuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgc2V0dGluZ3MuU1BSSVRFX0JBVENIX1NJWkUgKiA0XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnNpemUgPSBzZXR0aW5ncy5TUFJJVEVfQkFUQ0hfU0laRSAqIDQ7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRvdGFsIGNvdW50IG9mIGFsbCB2ZXJ0aWNlcyB1c2VkIGJ5IHRoZSBjdXJyZW50bHlcbiAgICAgICAgICogYnVmZmVyZWQgb2JqZWN0cy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fdmVydGV4Q291bnQgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUb3RhbCBjb3VudCBvZiBhbGwgaW5kaWNlcyB1c2VkIGJ5IHRoZSBjdXJyZW50bHlcbiAgICAgICAgICogYnVmZmVyZWQgb2JqZWN0cy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5faW5kZXhDb3VudCA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEJ1ZmZlciBvZiBvYmplY3RzIHRoYXQgYXJlIHlldCB0byBiZSByZW5kZXJlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5EaXNwbGF5T2JqZWN0W119XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9idWZmZXJlZEVsZW1lbnRzID0gW107XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERhdGEgZm9yIHRleHR1cmUgYmF0Y2ggYnVpbGRlciwgaGVscHMgdG8gc2F2ZSBhIGJpdCBvZiBDUFUgb24gYSBwYXNzXG4gICAgICAgICAqIEB0eXBlIHtQSVhJLkJhc2VUZXh0dXJlW119XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9idWZmZXJlZFRleHR1cmVzID0gW107XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIE51bWJlciBvZiBlbGVtZW50cyB0aGF0IGFyZSBidWZmZXJlZCBhbmQgYXJlXG4gICAgICAgICAqIHdhaXRpbmcgdG8gYmUgZmx1c2hlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fYnVmZmVyU2l6ZSA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoaXMgc2hhZGVyIGlzIGdlbmVyYXRlZCBieSBgdGhpcy5zaGFkZXJHZW5lcmF0b3JgLlxuICAgICAgICAgKlxuICAgICAgICAgKiBJdCBpcyBnZW5lcmF0ZWQgc3BlY2lmaWNhbGx5IHRvIGhhbmRsZSB0aGUgcmVxdWlyZWRcbiAgICAgICAgICogbnVtYmVyIG9mIHRleHR1cmVzIGJlaW5nIGJhdGNoZWQgdG9nZXRoZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuU2hhZGVyfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9zaGFkZXIgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQb29sIG9mIGB0aGlzLmdlb21ldHJ5Q2xhc3NgIGdlb21ldHJ5IG9iamVjdHNcbiAgICAgICAgICogdGhhdCBzdG9yZSBidWZmZXJzLiBUaGV5IGFyZSB1c2VkIHRvIHBhc3MgZGF0YVxuICAgICAgICAgKiB0byB0aGUgc2hhZGVyIG9uIGVhY2ggZHJhdyBjYWxsLlxuICAgICAgICAgKlxuICAgICAgICAgKiBUaGVzZSBhcmUgbmV2ZXIgcmUtYWxsb2NhdGVkIGFnYWluLCB1bmxlc3MgYVxuICAgICAgICAgKiBjb250ZXh0IGNoYW5nZSBvY2N1cnM7IGhvd2V2ZXIsIHRoZSBwb29sIG1heVxuICAgICAgICAgKiBiZSBleHBhbmRlZCBpZiByZXF1aXJlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5HZW9tZXRyeVtdfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAc2VlIFBJWEkuQWJzdHJhY3RCYXRjaFJlbmRlcmVyLmNvbnRleHRDaGFuZ2VcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3BhY2tlZEdlb21ldHJpZXMgPSBbXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogU2l6ZSBvZiBgdGhpcy5fcGFja2VkR2VvbWV0cmllc2AuIEl0IGNhbiBiZSBleHBhbmRlZFxuICAgICAgICAgKiBpZiBtb3JlIHRoYW4gYHRoaXMuX3BhY2tlZEdlb21ldHJ5UG9vbFNpemVgIGZsdXNoZXNcbiAgICAgICAgICogb2NjdXIgaW4gYSBzaW5nbGUgZnJhbWUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3BhY2tlZEdlb21ldHJ5UG9vbFNpemUgPSAyO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIGZsdXNoIG1heSBvY2N1ciBtdWx0aXBsZSB0aW1lcyBpbiBhIHNpbmdsZVxuICAgICAgICAgKiBmcmFtZS4gT24gaU9TIGRldmljZXMgb3Igd2hlblxuICAgICAgICAgKiBgc2V0dGluZ3MuQ0FOX1VQTE9BRF9TQU1FX0JVRkZFUmAgaXMgZmFsc2UsIHRoZVxuICAgICAgICAgKiBiYXRjaCByZW5kZXJlciBkb2VzIG5vdCB1cGxvYWQgZGF0YSB0byB0aGUgc2FtZVxuICAgICAgICAgKiBgV2ViR0xCdWZmZXJgIGZvciBwZXJmb3JtYW5jZSByZWFzb25zLlxuICAgICAgICAgKlxuICAgICAgICAgKiBUaGlzIGlzIHRoZSBpbmRleCBpbnRvIGBwYWNrZWRHZW9tZXRyaWVzYCB0aGF0IHBvaW50cyB0b1xuICAgICAgICAgKiBnZW9tZXRyeSBob2xkaW5nIHRoZSBtb3N0IHJlY2VudCBidWZmZXJzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9mbHVzaElkID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUG9vbCBvZiBgVmlld2FibGVCdWZmZXJgIG9iamVjdHMgdGhhdCBhcmUgc29ydGVkIGluXG4gICAgICAgICAqIG9yZGVyIG9mIGluY3JlYXNpbmcgc2l6ZS4gVGhlIGZsdXNoIG1ldGhvZCB1c2VzXG4gICAgICAgICAqIHRoZSBidWZmZXIgd2l0aCB0aGUgbGVhc3Qgc2l6ZSBhYm92ZSB0aGUgYW1vdW50XG4gICAgICAgICAqIGl0IHJlcXVpcmVzLiBUaGVzZSBhcmUgdXNlZCBmb3IgcGFzc2luZyBhdHRyaWJ1dGVzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBUaGUgZmlyc3QgYnVmZmVyIGhhcyBhIHNpemUgb2YgODsgZWFjaCBzdWJzZXF1ZW50XG4gICAgICAgICAqIGJ1ZmZlciBoYXMgZG91YmxlIGNhcGFjaXR5IG9mIGl0cyBwcmV2aW91cy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5WaWV3YWJsZUJ1ZmZlcltdfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAc2VlIFBJWEkuQWJzdHJhY3RCYXRjaFJlbmRlcmVyI2dldEF0dHJpYnV0ZUJ1ZmZlclxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fYUJ1ZmZlcnMgPSB7fTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUG9vbCBvZiBgVWludDE2QXJyYXlgIG9iamVjdHMgdGhhdCBhcmUgc29ydGVkIGluXG4gICAgICAgICAqIG9yZGVyIG9mIGluY3JlYXNpbmcgc2l6ZS4gVGhlIGZsdXNoIG1ldGhvZCB1c2VzXG4gICAgICAgICAqIHRoZSBidWZmZXIgd2l0aCB0aGUgbGVhc3Qgc2l6ZSBhYm92ZSB0aGUgYW1vdW50XG4gICAgICAgICAqIGl0IHJlcXVpcmVzLiBUaGVzZSBhcmUgdXNlZCBmb3IgcGFzc2luZyBpbmRpY2VzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBUaGUgZmlyc3QgYnVmZmVyIGhhcyBhIHNpemUgb2YgMTI7IGVhY2ggc3Vic2VxdWVudFxuICAgICAgICAgKiBidWZmZXIgaGFzIGRvdWJsZSBjYXBhY2l0eSBvZiBpdHMgcHJldmlvdXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1VpbnQxNkFycmF5W119XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBzZWUgUElYSS5BYnN0cmFjdEJhdGNoUmVuZGVyZXIjZ2V0SW5kZXhCdWZmZXJcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2lCdWZmZXJzID0ge307XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1heGltdW0gbnVtYmVyIG9mIHRleHR1cmVzIHRoYXQgY2FuIGJlIHVwbG9hZGVkIHRvXG4gICAgICAgICAqIHRoZSBHUFUgdW5kZXIgdGhlIGN1cnJlbnQgY29udGV4dC4gSXQgaXMgaW5pdGlhbGl6ZWRcbiAgICAgICAgICogcHJvcGVybHkgaW4gYHRoaXMuY29udGV4dENoYW5nZWAuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHNlZSBQSVhJLkFic3RyYWN0QmF0Y2hSZW5kZXJlciNjb250ZXh0Q2hhbmdlXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5NQVhfVEVYVFVSRVMgPSAxO1xuXG4gICAgICAgIHRoaXMucmVuZGVyZXIub24oJ3ByZXJlbmRlcicsIHRoaXMub25QcmVyZW5kZXIsIHRoaXMpO1xuICAgICAgICByZW5kZXJlci5ydW5uZXJzLmNvbnRleHRDaGFuZ2UuYWRkKHRoaXMpO1xuXG4gICAgICAgIHRoaXMuX2RjSW5kZXggPSAwO1xuICAgICAgICB0aGlzLl9hSW5kZXggPSAwO1xuICAgICAgICB0aGlzLl9pSW5kZXggPSAwO1xuICAgICAgICB0aGlzLl9hdHRyaWJ1dGVCdWZmZXIgPSBudWxsO1xuICAgICAgICB0aGlzLl9pbmRleEJ1ZmZlciA9IG51bGw7XG4gICAgICAgIHRoaXMuX3RlbXBCb3VuZFRleHR1cmVzID0gW107XG4gICAgfVxuXG4gICAgaWYgKCBPYmplY3RSZW5kZXJlciApIEFic3RyYWN0QmF0Y2hSZW5kZXJlci5fX3Byb3RvX18gPSBPYmplY3RSZW5kZXJlcjtcbiAgICBBYnN0cmFjdEJhdGNoUmVuZGVyZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggT2JqZWN0UmVuZGVyZXIgJiYgT2JqZWN0UmVuZGVyZXIucHJvdG90eXBlICk7XG4gICAgQWJzdHJhY3RCYXRjaFJlbmRlcmVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEFic3RyYWN0QmF0Y2hSZW5kZXJlcjtcblxuICAgIC8qKlxuICAgICAqIEhhbmRsZXMgdGhlIGBjb250ZXh0Q2hhbmdlYCBzaWduYWwuXG4gICAgICpcbiAgICAgKiBJdCBjYWxjdWxhdGVzIGB0aGlzLk1BWF9URVhUVVJFU2AgYW5kIGFsbG9jYXRpbmcgdGhlXG4gICAgICogcGFja2VkLWdlb21ldHJ5IG9iamVjdCBwb29sLlxuICAgICAqL1xuICAgIEFic3RyYWN0QmF0Y2hSZW5kZXJlci5wcm90b3R5cGUuY29udGV4dENoYW5nZSA9IGZ1bmN0aW9uIGNvbnRleHRDaGFuZ2UgKClcbiAgICB7XG4gICAgICAgIHZhciBnbCA9IHRoaXMucmVuZGVyZXIuZ2w7XG5cbiAgICAgICAgaWYgKHNldHRpbmdzLlBSRUZFUl9FTlYgPT09IEVOVi5XRUJHTF9MRUdBQ1kpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuTUFYX1RFWFRVUkVTID0gMTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIHN0ZXAgMTogZmlyc3QgY2hlY2sgbWF4IHRleHR1cmVzIHRoZSBHUFUgY2FuIGhhbmRsZS5cbiAgICAgICAgICAgIHRoaXMuTUFYX1RFWFRVUkVTID0gTWF0aC5taW4oXG4gICAgICAgICAgICAgICAgZ2wuZ2V0UGFyYW1ldGVyKGdsLk1BWF9URVhUVVJFX0lNQUdFX1VOSVRTKSxcbiAgICAgICAgICAgICAgICBzZXR0aW5ncy5TUFJJVEVfTUFYX1RFWFRVUkVTKTtcblxuICAgICAgICAgICAgLy8gc3RlcCAyOiBjaGVjayB0aGUgbWF4aW11bSBudW1iZXIgb2YgaWYgc3RhdGVtZW50cyB0aGUgc2hhZGVyIGNhbiBoYXZlIHRvby4uXG4gICAgICAgICAgICB0aGlzLk1BWF9URVhUVVJFUyA9IGNoZWNrTWF4SWZTdGF0ZW1lbnRzSW5TaGFkZXIoXG4gICAgICAgICAgICAgICAgdGhpcy5NQVhfVEVYVFVSRVMsIGdsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3NoYWRlciA9IHRoaXMuc2hhZGVyR2VuZXJhdG9yLmdlbmVyYXRlU2hhZGVyKHRoaXMuTUFYX1RFWFRVUkVTKTtcblxuICAgICAgICAvLyB3ZSB1c2UgdGhlIHNlY29uZCBzaGFkZXIgYXMgdGhlIGZpcnN0IG9uZSBkZXBlbmRpbmcgb24geW91ciBicm93c2VyXG4gICAgICAgIC8vIG1heSBvbWl0IGFUZXh0dXJlSWQgYXMgaXQgaXMgbm90IHVzZWQgYnkgdGhlIHNoYWRlciBzbyBpcyBvcHRpbWl6ZWQgb3V0LlxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuX3BhY2tlZEdlb21ldHJ5UG9vbFNpemU7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgLyogZXNsaW50LWRpc2FibGUgbWF4LWxlbiAqL1xuICAgICAgICAgICAgdGhpcy5fcGFja2VkR2VvbWV0cmllc1tpXSA9IG5ldyAodGhpcy5nZW9tZXRyeUNsYXNzKSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5pbml0Rmx1c2hCdWZmZXJzKCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIE1ha2VzIHN1cmUgdGhhdCBzdGF0aWMgYW5kIGR5bmFtaWMgZmx1c2ggcG9vbGVkIG9iamVjdHMgaGF2ZSBjb3JyZWN0IGRpbWVuc2lvbnNcbiAgICAgKi9cbiAgICBBYnN0cmFjdEJhdGNoUmVuZGVyZXIucHJvdG90eXBlLmluaXRGbHVzaEJ1ZmZlcnMgPSBmdW5jdGlvbiBpbml0Rmx1c2hCdWZmZXJzICgpXG4gICAge1xuICAgICAgICB2YXIgX2RyYXdDYWxsUG9vbCA9IEFic3RyYWN0QmF0Y2hSZW5kZXJlci5fZHJhd0NhbGxQb29sO1xuICAgICAgICB2YXIgX3RleHR1cmVBcnJheVBvb2wgPSBBYnN0cmFjdEJhdGNoUmVuZGVyZXIuX3RleHR1cmVBcnJheVBvb2w7XG4gICAgICAgIC8vIG1heCBkcmF3IGNhbGxzXG4gICAgICAgIHZhciBNQVhfU1BSSVRFUyA9IHRoaXMuc2l6ZSAvIDQ7XG4gICAgICAgIC8vIG1heCB0ZXh0dXJlIGFycmF5c1xuICAgICAgICB2YXIgTUFYX1RBID0gTWF0aC5mbG9vcihNQVhfU1BSSVRFUyAvIHRoaXMuTUFYX1RFWFRVUkVTKSArIDE7XG5cbiAgICAgICAgd2hpbGUgKF9kcmF3Q2FsbFBvb2wubGVuZ3RoIDwgTUFYX1NQUklURVMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIF9kcmF3Q2FsbFBvb2wucHVzaChuZXcgQmF0Y2hEcmF3Q2FsbCgpKTtcbiAgICAgICAgfVxuICAgICAgICB3aGlsZSAoX3RleHR1cmVBcnJheVBvb2wubGVuZ3RoIDwgTUFYX1RBKVxuICAgICAgICB7XG4gICAgICAgICAgICBfdGV4dHVyZUFycmF5UG9vbC5wdXNoKG5ldyBCYXRjaFRleHR1cmVBcnJheSgpKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuTUFYX1RFWFRVUkVTOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX3RlbXBCb3VuZFRleHR1cmVzW2ldID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBIYW5kbGVzIHRoZSBgcHJlcmVuZGVyYCBzaWduYWwuXG4gICAgICpcbiAgICAgKiBJdCBlbnN1cmVzIHRoYXQgZmx1c2hlcyBzdGFydCBmcm9tIHRoZSBmaXJzdCBnZW9tZXRyeVxuICAgICAqIG9iamVjdCBhZ2Fpbi5cbiAgICAgKi9cbiAgICBBYnN0cmFjdEJhdGNoUmVuZGVyZXIucHJvdG90eXBlLm9uUHJlcmVuZGVyID0gZnVuY3Rpb24gb25QcmVyZW5kZXIgKClcbiAgICB7XG4gICAgICAgIHRoaXMuX2ZsdXNoSWQgPSAwO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBCdWZmZXJzIHRoZSBcImJhdGNoYWJsZVwiIG9iamVjdC4gSXQgbmVlZCBub3QgYmUgcmVuZGVyZWRcbiAgICAgKiBpbW1lZGlhdGVseS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBlbGVtZW50IC0gdGhlIGVsZW1lbnQgdG8gcmVuZGVyIHdoZW5cbiAgICAgKiAgICB1c2luZyB0aGlzIHJlbmRlcmVyXG4gICAgICovXG4gICAgQWJzdHJhY3RCYXRjaFJlbmRlcmVyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIgKGVsZW1lbnQpXG4gICAge1xuICAgICAgICBpZiAoIWVsZW1lbnQuX3RleHR1cmUudmFsaWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl92ZXJ0ZXhDb3VudCArIChlbGVtZW50LnZlcnRleERhdGEubGVuZ3RoIC8gMikgPiB0aGlzLnNpemUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuZmx1c2goKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3ZlcnRleENvdW50ICs9IGVsZW1lbnQudmVydGV4RGF0YS5sZW5ndGggLyAyO1xuICAgICAgICB0aGlzLl9pbmRleENvdW50ICs9IGVsZW1lbnQuaW5kaWNlcy5sZW5ndGg7XG4gICAgICAgIHRoaXMuX2J1ZmZlcmVkVGV4dHVyZXNbdGhpcy5fYnVmZmVyU2l6ZV0gPSBlbGVtZW50Ll90ZXh0dXJlLmJhc2VUZXh0dXJlO1xuICAgICAgICB0aGlzLl9idWZmZXJlZEVsZW1lbnRzW3RoaXMuX2J1ZmZlclNpemUrK10gPSBlbGVtZW50O1xuICAgIH07XG5cbiAgICBBYnN0cmFjdEJhdGNoUmVuZGVyZXIucHJvdG90eXBlLmJ1aWxkVGV4dHVyZXNBbmREcmF3Q2FsbHMgPSBmdW5jdGlvbiBidWlsZFRleHR1cmVzQW5kRHJhd0NhbGxzICgpXG4gICAge1xuICAgICAgICB2YXIgcmVmID0gdGhpcztcbiAgICAgICAgdmFyIHRleHR1cmVzID0gcmVmLl9idWZmZXJlZFRleHR1cmVzO1xuICAgICAgICB2YXIgTUFYX1RFWFRVUkVTID0gcmVmLk1BWF9URVhUVVJFUztcbiAgICAgICAgdmFyIHRleHR1cmVBcnJheXMgPSBBYnN0cmFjdEJhdGNoUmVuZGVyZXIuX3RleHR1cmVBcnJheVBvb2w7XG4gICAgICAgIHZhciBiYXRjaCA9IHRoaXMucmVuZGVyZXIuYmF0Y2g7XG4gICAgICAgIHZhciBib3VuZFRleHR1cmVzID0gdGhpcy5fdGVtcEJvdW5kVGV4dHVyZXM7XG4gICAgICAgIHZhciB0b3VjaCA9IHRoaXMucmVuZGVyZXIudGV4dHVyZUdDLmNvdW50O1xuXG4gICAgICAgIHZhciBUSUNLID0gKytCYXNlVGV4dHVyZS5fZ2xvYmFsQmF0Y2g7XG4gICAgICAgIHZhciBjb3VudFRleEFycmF5cyA9IDA7XG4gICAgICAgIHZhciB0ZXhBcnJheSA9IHRleHR1cmVBcnJheXNbMF07XG4gICAgICAgIHZhciBzdGFydCA9IDA7XG5cbiAgICAgICAgYmF0Y2guY29weUJvdW5kVGV4dHVyZXMoYm91bmRUZXh0dXJlcywgTUFYX1RFWFRVUkVTKTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuX2J1ZmZlclNpemU7ICsraSlcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIHRleCA9IHRleHR1cmVzW2ldO1xuXG4gICAgICAgICAgICB0ZXh0dXJlc1tpXSA9IG51bGw7XG4gICAgICAgICAgICBpZiAodGV4Ll9iYXRjaEVuYWJsZWQgPT09IFRJQ0spXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0ZXhBcnJheS5jb3VudCA+PSBNQVhfVEVYVFVSRVMpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYmF0Y2guYm91bmRBcnJheSh0ZXhBcnJheSwgYm91bmRUZXh0dXJlcywgVElDSywgTUFYX1RFWFRVUkVTKTtcbiAgICAgICAgICAgICAgICB0aGlzLmJ1aWxkRHJhd0NhbGxzKHRleEFycmF5LCBzdGFydCwgaSk7XG4gICAgICAgICAgICAgICAgc3RhcnQgPSBpO1xuICAgICAgICAgICAgICAgIHRleEFycmF5ID0gdGV4dHVyZUFycmF5c1srK2NvdW50VGV4QXJyYXlzXTtcbiAgICAgICAgICAgICAgICArK1RJQ0s7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRleC5fYmF0Y2hFbmFibGVkID0gVElDSztcbiAgICAgICAgICAgIHRleC50b3VjaGVkID0gdG91Y2g7XG4gICAgICAgICAgICB0ZXhBcnJheS5lbGVtZW50c1t0ZXhBcnJheS5jb3VudCsrXSA9IHRleDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0ZXhBcnJheS5jb3VudCA+IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIGJhdGNoLmJvdW5kQXJyYXkodGV4QXJyYXksIGJvdW5kVGV4dHVyZXMsIFRJQ0ssIE1BWF9URVhUVVJFUyk7XG4gICAgICAgICAgICB0aGlzLmJ1aWxkRHJhd0NhbGxzKHRleEFycmF5LCBzdGFydCwgdGhpcy5fYnVmZmVyU2l6ZSk7XG4gICAgICAgICAgICArK2NvdW50VGV4QXJyYXlzO1xuICAgICAgICAgICAgKytUSUNLO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ2xlYW4tdXBcblxuICAgICAgICBmb3IgKHZhciBpJDEgPSAwOyBpJDEgPCBib3VuZFRleHR1cmVzLmxlbmd0aDsgaSQxKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIGJvdW5kVGV4dHVyZXNbaSQxXSA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgQmFzZVRleHR1cmUuX2dsb2JhbEJhdGNoID0gVElDSztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUG9wdWxhdGluZyBkcmF3Y2FsbHMgZm9yIHJlbmRlcmluZ1xuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkJhdGNoVGV4dHVyZUFycmF5fSB0ZXhBcnJheVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBmaW5pc2hcbiAgICAgKi9cbiAgICBBYnN0cmFjdEJhdGNoUmVuZGVyZXIucHJvdG90eXBlLmJ1aWxkRHJhd0NhbGxzID0gZnVuY3Rpb24gYnVpbGREcmF3Q2FsbHMgKHRleEFycmF5LCBzdGFydCwgZmluaXNoKVxuICAgIHtcbiAgICAgICAgdmFyIHJlZiA9IHRoaXM7XG4gICAgICAgIHZhciBlbGVtZW50cyA9IHJlZi5fYnVmZmVyZWRFbGVtZW50cztcbiAgICAgICAgdmFyIF9hdHRyaWJ1dGVCdWZmZXIgPSByZWYuX2F0dHJpYnV0ZUJ1ZmZlcjtcbiAgICAgICAgdmFyIF9pbmRleEJ1ZmZlciA9IHJlZi5faW5kZXhCdWZmZXI7XG4gICAgICAgIHZhciB2ZXJ0ZXhTaXplID0gcmVmLnZlcnRleFNpemU7XG4gICAgICAgIHZhciBkcmF3Q2FsbHMgPSBBYnN0cmFjdEJhdGNoUmVuZGVyZXIuX2RyYXdDYWxsUG9vbDtcblxuICAgICAgICB2YXIgZGNJbmRleCA9IHRoaXMuX2RjSW5kZXg7XG4gICAgICAgIHZhciBhSW5kZXggPSB0aGlzLl9hSW5kZXg7XG4gICAgICAgIHZhciBpSW5kZXggPSB0aGlzLl9pSW5kZXg7XG5cbiAgICAgICAgdmFyIGRyYXdDYWxsID0gZHJhd0NhbGxzW2RjSW5kZXhdO1xuXG4gICAgICAgIGRyYXdDYWxsLnN0YXJ0ID0gdGhpcy5faUluZGV4O1xuICAgICAgICBkcmF3Q2FsbC50ZXhBcnJheSA9IHRleEFycmF5O1xuXG4gICAgICAgIGZvciAodmFyIGkgPSBzdGFydDsgaSA8IGZpbmlzaDsgKytpKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgc3ByaXRlID0gZWxlbWVudHNbaV07XG4gICAgICAgICAgICB2YXIgdGV4ID0gc3ByaXRlLl90ZXh0dXJlLmJhc2VUZXh0dXJlO1xuICAgICAgICAgICAgdmFyIHNwcml0ZUJsZW5kTW9kZSA9IHByZW11bHRpcGx5QmxlbmRNb2RlW1xuICAgICAgICAgICAgICAgIHRleC5hbHBoYU1vZGUgPyAxIDogMF1bc3ByaXRlLmJsZW5kTW9kZV07XG5cbiAgICAgICAgICAgIGVsZW1lbnRzW2ldID0gbnVsbDtcblxuICAgICAgICAgICAgaWYgKHN0YXJ0IDwgaSAmJiBkcmF3Q2FsbC5ibGVuZCAhPT0gc3ByaXRlQmxlbmRNb2RlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRyYXdDYWxsLnNpemUgPSBpSW5kZXggLSBkcmF3Q2FsbC5zdGFydDtcbiAgICAgICAgICAgICAgICBzdGFydCA9IGk7XG4gICAgICAgICAgICAgICAgZHJhd0NhbGwgPSBkcmF3Q2FsbHNbKytkY0luZGV4XTtcbiAgICAgICAgICAgICAgICBkcmF3Q2FsbC50ZXhBcnJheSA9IHRleEFycmF5O1xuICAgICAgICAgICAgICAgIGRyYXdDYWxsLnN0YXJ0ID0gaUluZGV4O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnBhY2tJbnRlcmxlYXZlZEdlb21ldHJ5KHNwcml0ZSwgX2F0dHJpYnV0ZUJ1ZmZlciwgX2luZGV4QnVmZmVyLCBhSW5kZXgsIGlJbmRleCk7XG4gICAgICAgICAgICBhSW5kZXggKz0gc3ByaXRlLnZlcnRleERhdGEubGVuZ3RoIC8gMiAqIHZlcnRleFNpemU7XG4gICAgICAgICAgICBpSW5kZXggKz0gc3ByaXRlLmluZGljZXMubGVuZ3RoO1xuXG4gICAgICAgICAgICBkcmF3Q2FsbC5ibGVuZCA9IHNwcml0ZUJsZW5kTW9kZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzdGFydCA8IGZpbmlzaClcbiAgICAgICAge1xuICAgICAgICAgICAgZHJhd0NhbGwuc2l6ZSA9IGlJbmRleCAtIGRyYXdDYWxsLnN0YXJ0O1xuICAgICAgICAgICAgKytkY0luZGV4O1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fZGNJbmRleCA9IGRjSW5kZXg7XG4gICAgICAgIHRoaXMuX2FJbmRleCA9IGFJbmRleDtcbiAgICAgICAgdGhpcy5faUluZGV4ID0gaUluZGV4O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBCaW5kIHRleHR1cmVzIGZvciBjdXJyZW50IHJlbmRlcmluZ1xuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkJhdGNoVGV4dHVyZUFycmF5fSB0ZXhBcnJheVxuICAgICAqL1xuICAgIEFic3RyYWN0QmF0Y2hSZW5kZXJlci5wcm90b3R5cGUuYmluZEFuZENsZWFyVGV4QXJyYXkgPSBmdW5jdGlvbiBiaW5kQW5kQ2xlYXJUZXhBcnJheSAodGV4QXJyYXkpXG4gICAge1xuICAgICAgICB2YXIgdGV4dHVyZVN5c3RlbSA9IHRoaXMucmVuZGVyZXIudGV4dHVyZTtcblxuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHRleEFycmF5LmNvdW50OyBqKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRleHR1cmVTeXN0ZW0uYmluZCh0ZXhBcnJheS5lbGVtZW50c1tqXSwgdGV4QXJyYXkuaWRzW2pdKTtcbiAgICAgICAgICAgIHRleEFycmF5LmVsZW1lbnRzW2pdID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB0ZXhBcnJheS5jb3VudCA9IDA7XG4gICAgfTtcblxuICAgIEFic3RyYWN0QmF0Y2hSZW5kZXJlci5wcm90b3R5cGUudXBkYXRlR2VvbWV0cnkgPSBmdW5jdGlvbiB1cGRhdGVHZW9tZXRyeSAoKVxuICAgIHtcbiAgICAgICAgdmFyIHJlZiA9IHRoaXM7XG4gICAgICAgIHZhciBwYWNrZWRHZW9tZXRyaWVzID0gcmVmLl9wYWNrZWRHZW9tZXRyaWVzO1xuICAgICAgICB2YXIgYXR0cmlidXRlQnVmZmVyID0gcmVmLl9hdHRyaWJ1dGVCdWZmZXI7XG4gICAgICAgIHZhciBpbmRleEJ1ZmZlciA9IHJlZi5faW5kZXhCdWZmZXI7XG5cbiAgICAgICAgaWYgKCFzZXR0aW5ncy5DQU5fVVBMT0FEX1NBTUVfQlVGRkVSKVxuICAgICAgICB7IC8qIFVzdWFsbHkgb24gaU9TIGRldmljZXMsIHdoZXJlIHRoZSBicm93c2VyIGRvZXNuJ3RcbiAgICAgICAgICAgIGxpa2UgdXBsb2FkcyB0byB0aGUgc2FtZSBidWZmZXIgaW4gYSBzaW5nbGUgZnJhbWUuICovXG4gICAgICAgICAgICBpZiAodGhpcy5fcGFja2VkR2VvbWV0cnlQb29sU2l6ZSA8PSB0aGlzLl9mbHVzaElkKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuX3BhY2tlZEdlb21ldHJ5UG9vbFNpemUrKztcbiAgICAgICAgICAgICAgICBwYWNrZWRHZW9tZXRyaWVzW3RoaXMuX2ZsdXNoSWRdID0gbmV3ICh0aGlzLmdlb21ldHJ5Q2xhc3MpKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHBhY2tlZEdlb21ldHJpZXNbdGhpcy5fZmx1c2hJZF0uX2J1ZmZlci51cGRhdGUoYXR0cmlidXRlQnVmZmVyLnJhd0JpbmFyeURhdGEpO1xuICAgICAgICAgICAgcGFja2VkR2VvbWV0cmllc1t0aGlzLl9mbHVzaElkXS5faW5kZXhCdWZmZXIudXBkYXRlKGluZGV4QnVmZmVyKTtcblxuICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5nZW9tZXRyeS5iaW5kKHBhY2tlZEdlb21ldHJpZXNbdGhpcy5fZmx1c2hJZF0pO1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5nZW9tZXRyeS51cGRhdGVCdWZmZXJzKCk7XG4gICAgICAgICAgICB0aGlzLl9mbHVzaElkKys7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBsZXRzIHVzZSB0aGUgZmFzdGVyIG9wdGlvbiwgYWx3YXlzIHVzZSBidWZmZXIgbnVtYmVyIDBcbiAgICAgICAgICAgIHBhY2tlZEdlb21ldHJpZXNbdGhpcy5fZmx1c2hJZF0uX2J1ZmZlci51cGRhdGUoYXR0cmlidXRlQnVmZmVyLnJhd0JpbmFyeURhdGEpO1xuICAgICAgICAgICAgcGFja2VkR2VvbWV0cmllc1t0aGlzLl9mbHVzaElkXS5faW5kZXhCdWZmZXIudXBkYXRlKGluZGV4QnVmZmVyKTtcblxuICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5nZW9tZXRyeS51cGRhdGVCdWZmZXJzKCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgQWJzdHJhY3RCYXRjaFJlbmRlcmVyLnByb3RvdHlwZS5kcmF3QmF0Y2hlcyA9IGZ1bmN0aW9uIGRyYXdCYXRjaGVzICgpXG4gICAge1xuICAgICAgICB2YXIgZGNDb3VudCA9IHRoaXMuX2RjSW5kZXg7XG4gICAgICAgIHZhciByZWYgPSB0aGlzLnJlbmRlcmVyO1xuICAgICAgICB2YXIgZ2wgPSByZWYuZ2w7XG4gICAgICAgIHZhciBzdGF0ZVN5c3RlbSA9IHJlZi5zdGF0ZTtcbiAgICAgICAgdmFyIGRyYXdDYWxscyA9IEFic3RyYWN0QmF0Y2hSZW5kZXJlci5fZHJhd0NhbGxQb29sO1xuXG4gICAgICAgIHZhciBjdXJUZXhBcnJheSA9IG51bGw7XG5cbiAgICAgICAgLy8gVXBsb2FkIHRleHR1cmVzIGFuZCBkbyB0aGUgZHJhdyBjYWxsc1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRjQ291bnQ7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIHJlZiQxID0gZHJhd0NhbGxzW2ldO1xuICAgICAgICAgICAgdmFyIHRleEFycmF5ID0gcmVmJDEudGV4QXJyYXk7XG4gICAgICAgICAgICB2YXIgdHlwZSA9IHJlZiQxLnR5cGU7XG4gICAgICAgICAgICB2YXIgc2l6ZSA9IHJlZiQxLnNpemU7XG4gICAgICAgICAgICB2YXIgc3RhcnQgPSByZWYkMS5zdGFydDtcbiAgICAgICAgICAgIHZhciBibGVuZCA9IHJlZiQxLmJsZW5kO1xuXG4gICAgICAgICAgICBpZiAoY3VyVGV4QXJyYXkgIT09IHRleEFycmF5KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGN1clRleEFycmF5ID0gdGV4QXJyYXk7XG4gICAgICAgICAgICAgICAgdGhpcy5iaW5kQW5kQ2xlYXJUZXhBcnJheSh0ZXhBcnJheSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHN0YXRlU3lzdGVtLnNldEJsZW5kTW9kZShibGVuZCk7XG4gICAgICAgICAgICBnbC5kcmF3RWxlbWVudHModHlwZSwgc2l6ZSwgZ2wuVU5TSUdORURfU0hPUlQsIHN0YXJ0ICogMik7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVuZGVycyB0aGUgY29udGVudCBfbm93XyBhbmQgZW1wdGllcyB0aGUgY3VycmVudCBiYXRjaC5cbiAgICAgKi9cbiAgICBBYnN0cmFjdEJhdGNoUmVuZGVyZXIucHJvdG90eXBlLmZsdXNoID0gZnVuY3Rpb24gZmx1c2ggKClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLl92ZXJ0ZXhDb3VudCA9PT0gMClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fYXR0cmlidXRlQnVmZmVyID0gdGhpcy5nZXRBdHRyaWJ1dGVCdWZmZXIodGhpcy5fdmVydGV4Q291bnQpO1xuICAgICAgICB0aGlzLl9pbmRleEJ1ZmZlciA9IHRoaXMuZ2V0SW5kZXhCdWZmZXIodGhpcy5faW5kZXhDb3VudCk7XG4gICAgICAgIHRoaXMuX2FJbmRleCA9IDA7XG4gICAgICAgIHRoaXMuX2lJbmRleCA9IDA7XG4gICAgICAgIHRoaXMuX2RjSW5kZXggPSAwO1xuXG4gICAgICAgIHRoaXMuYnVpbGRUZXh0dXJlc0FuZERyYXdDYWxscygpO1xuICAgICAgICB0aGlzLnVwZGF0ZUdlb21ldHJ5KCk7XG4gICAgICAgIHRoaXMuZHJhd0JhdGNoZXMoKTtcblxuICAgICAgICAvLyByZXNldCBlbGVtZW50cyBidWZmZXIgZm9yIHRoZSBuZXh0IGZsdXNoXG4gICAgICAgIHRoaXMuX2J1ZmZlclNpemUgPSAwO1xuICAgICAgICB0aGlzLl92ZXJ0ZXhDb3VudCA9IDA7XG4gICAgICAgIHRoaXMuX2luZGV4Q291bnQgPSAwO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTdGFydHMgYSBuZXcgc3ByaXRlIGJhdGNoLlxuICAgICAqL1xuICAgIEFic3RyYWN0QmF0Y2hSZW5kZXJlci5wcm90b3R5cGUuc3RhcnQgPSBmdW5jdGlvbiBzdGFydCAoKVxuICAgIHtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5zdGF0ZS5zZXQodGhpcy5zdGF0ZSk7XG5cbiAgICAgICAgdGhpcy5yZW5kZXJlci5zaGFkZXIuYmluZCh0aGlzLl9zaGFkZXIpO1xuXG4gICAgICAgIGlmIChzZXR0aW5ncy5DQU5fVVBMT0FEX1NBTUVfQlVGRkVSKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBiaW5kIGJ1ZmZlciAjMCwgd2UgZG9uJ3QgbmVlZCBvdGhlcnNcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuZ2VvbWV0cnkuYmluZCh0aGlzLl9wYWNrZWRHZW9tZXRyaWVzW3RoaXMuX2ZsdXNoSWRdKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTdG9wcyBhbmQgZmx1c2hlcyB0aGUgY3VycmVudCBiYXRjaC5cbiAgICAgKi9cbiAgICBBYnN0cmFjdEJhdGNoUmVuZGVyZXIucHJvdG90eXBlLnN0b3AgPSBmdW5jdGlvbiBzdG9wICgpXG4gICAge1xuICAgICAgICB0aGlzLmZsdXNoKCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoaXMgYEFic3RyYWN0QmF0Y2hSZW5kZXJlcmAuIEl0IGNhbm5vdCBiZSB1c2VkIGFnYWluLlxuICAgICAqL1xuICAgIEFic3RyYWN0QmF0Y2hSZW5kZXJlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3kgKClcbiAgICB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5fcGFja2VkR2VvbWV0cnlQb29sU2l6ZTsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGhpcy5fcGFja2VkR2VvbWV0cmllc1tpXSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9wYWNrZWRHZW9tZXRyaWVzW2ldLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucmVuZGVyZXIub2ZmKCdwcmVyZW5kZXInLCB0aGlzLm9uUHJlcmVuZGVyLCB0aGlzKTtcblxuICAgICAgICB0aGlzLl9hQnVmZmVycyA9IG51bGw7XG4gICAgICAgIHRoaXMuX2lCdWZmZXJzID0gbnVsbDtcbiAgICAgICAgdGhpcy5fcGFja2VkR2VvbWV0cmllcyA9IG51bGw7XG4gICAgICAgIHRoaXMuX2F0dHJpYnV0ZUJ1ZmZlciA9IG51bGw7XG4gICAgICAgIHRoaXMuX2luZGV4QnVmZmVyID0gbnVsbDtcblxuICAgICAgICBpZiAodGhpcy5fc2hhZGVyKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9zaGFkZXIuZGVzdHJveSgpO1xuICAgICAgICAgICAgdGhpcy5fc2hhZGVyID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIE9iamVjdFJlbmRlcmVyLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEZldGNoZXMgYW4gYXR0cmlidXRlIGJ1ZmZlciBmcm9tIGB0aGlzLl9hQnVmZmVyc2AgdGhhdFxuICAgICAqIGNhbiBob2xkIGF0bGVhc3QgYHNpemVgIGZsb2F0cy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzaXplIC0gbWluaW11bSBjYXBhY2l0eSByZXF1aXJlZFxuICAgICAqIEByZXR1cm4ge1ZpZXdhYmxlQnVmZmVyfSAtIGJ1ZmZlciB0aGFuIGNhbiBob2xkIGF0bGVhc3QgYHNpemVgIGZsb2F0c1xuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgQWJzdHJhY3RCYXRjaFJlbmRlcmVyLnByb3RvdHlwZS5nZXRBdHRyaWJ1dGVCdWZmZXIgPSBmdW5jdGlvbiBnZXRBdHRyaWJ1dGVCdWZmZXIgKHNpemUpXG4gICAge1xuICAgICAgICAvLyA4IHZlcnRpY2VzIGlzIGVub3VnaCBmb3IgMiBxdWFkc1xuICAgICAgICB2YXIgcm91bmRlZFAyID0gbmV4dFBvdzIoTWF0aC5jZWlsKHNpemUgLyA4KSk7XG4gICAgICAgIHZhciByb3VuZGVkU2l6ZUluZGV4ID0gbG9nMihyb3VuZGVkUDIpO1xuICAgICAgICB2YXIgcm91bmRlZFNpemUgPSByb3VuZGVkUDIgKiA4O1xuXG4gICAgICAgIGlmICh0aGlzLl9hQnVmZmVycy5sZW5ndGggPD0gcm91bmRlZFNpemVJbmRleClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5faUJ1ZmZlcnMubGVuZ3RoID0gcm91bmRlZFNpemVJbmRleCArIDE7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgYnVmZmVyID0gdGhpcy5fYUJ1ZmZlcnNbcm91bmRlZFNpemVdO1xuXG4gICAgICAgIGlmICghYnVmZmVyKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9hQnVmZmVyc1tyb3VuZGVkU2l6ZV0gPSBidWZmZXIgPSBuZXcgVmlld2FibGVCdWZmZXIocm91bmRlZFNpemUgKiB0aGlzLnZlcnRleFNpemUgKiA0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBidWZmZXI7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEZldGNoZXMgYW4gaW5kZXggYnVmZmVyIGZyb20gYHRoaXMuX2lCdWZmZXJzYCB0aGF0IGNhblxuICAgICAqIGhhcyBhdGxlYXN0IGBzaXplYCBjYXBhY2l0eS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzaXplIC0gbWluaW11bSByZXF1aXJlZCBjYXBhY2l0eVxuICAgICAqIEByZXR1cm4ge1VpbnQxNkFycmF5fSAtIGJ1ZmZlciB0aGF0IGNhbiBmaXQgYHNpemVgXG4gICAgICogICAgaW5kaWNlcy5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIEFic3RyYWN0QmF0Y2hSZW5kZXJlci5wcm90b3R5cGUuZ2V0SW5kZXhCdWZmZXIgPSBmdW5jdGlvbiBnZXRJbmRleEJ1ZmZlciAoc2l6ZSlcbiAgICB7XG4gICAgICAgIC8vIDEyIGluZGljZXMgaXMgZW5vdWdoIGZvciAyIHF1YWRzXG4gICAgICAgIHZhciByb3VuZGVkUDIgPSBuZXh0UG93MihNYXRoLmNlaWwoc2l6ZSAvIDEyKSk7XG4gICAgICAgIHZhciByb3VuZGVkU2l6ZUluZGV4ID0gbG9nMihyb3VuZGVkUDIpO1xuICAgICAgICB2YXIgcm91bmRlZFNpemUgPSByb3VuZGVkUDIgKiAxMjtcblxuICAgICAgICBpZiAodGhpcy5faUJ1ZmZlcnMubGVuZ3RoIDw9IHJvdW5kZWRTaXplSW5kZXgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2lCdWZmZXJzLmxlbmd0aCA9IHJvdW5kZWRTaXplSW5kZXggKyAxO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGJ1ZmZlciA9IHRoaXMuX2lCdWZmZXJzW3JvdW5kZWRTaXplSW5kZXhdO1xuXG4gICAgICAgIGlmICghYnVmZmVyKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9pQnVmZmVyc1tyb3VuZGVkU2l6ZUluZGV4XSA9IGJ1ZmZlciA9IG5ldyBVaW50MTZBcnJheShyb3VuZGVkU2l6ZSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gYnVmZmVyO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUYWtlcyB0aGUgZm91ciBiYXRjaGluZyBwYXJhbWV0ZXJzIG9mIGBlbGVtZW50YCwgaW50ZXJsZWF2ZXNcbiAgICAgKiBhbmQgcHVzaGVzIHRoZW0gaW50byB0aGUgYmF0Y2hpbmcgYXR0cmlidXRlL2luZGV4IGJ1ZmZlcnMgZ2l2ZW4uXG4gICAgICpcbiAgICAgKiBJdCB1c2VzIHRoZXNlIHByb3BlcnRpZXM6IGB2ZXJ0ZXhEYXRhYCBgdXZzYCwgYHRleHR1cmVJZGAgYW5kXG4gICAgICogYGluZGljaWVzYC4gSXQgYWxzbyB1c2VzIHRoZSBcInRpbnRcIiBvZiB0aGUgYmFzZS10ZXh0dXJlLCBpZlxuICAgICAqIHByZXNlbnQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuU3ByaXRlfSBlbGVtZW50IC0gZWxlbWVudCBiZWluZyByZW5kZXJlZFxuICAgICAqIEBwYXJhbSB7UElYSS5WaWV3YWJsZUJ1ZmZlcn0gYXR0cmlidXRlQnVmZmVyIC0gYXR0cmlidXRlIGJ1ZmZlci5cbiAgICAgKiBAcGFyYW0ge1VpbnQxNkFycmF5fSBpbmRleEJ1ZmZlciAtIGluZGV4IGJ1ZmZlclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhSW5kZXggLSBudW1iZXIgb2YgZmxvYXRzIGFscmVhZHkgaW4gdGhlIGF0dHJpYnV0ZSBidWZmZXJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaUluZGV4IC0gbnVtYmVyIG9mIGluZGljZXMgYWxyZWFkeSBpbiBgaW5kZXhCdWZmZXJgXG4gICAgICovXG4gICAgQWJzdHJhY3RCYXRjaFJlbmRlcmVyLnByb3RvdHlwZS5wYWNrSW50ZXJsZWF2ZWRHZW9tZXRyeSA9IGZ1bmN0aW9uIHBhY2tJbnRlcmxlYXZlZEdlb21ldHJ5IChlbGVtZW50LCBhdHRyaWJ1dGVCdWZmZXIsIGluZGV4QnVmZmVyLCBhSW5kZXgsIGlJbmRleClcbiAgICB7XG4gICAgICAgIHZhciB1aW50MzJWaWV3ID0gYXR0cmlidXRlQnVmZmVyLnVpbnQzMlZpZXc7XG4gICAgICAgIHZhciBmbG9hdDMyVmlldyA9IGF0dHJpYnV0ZUJ1ZmZlci5mbG9hdDMyVmlldztcblxuICAgICAgICB2YXIgcGFja2VkVmVydGljZXMgPSBhSW5kZXggLyB0aGlzLnZlcnRleFNpemU7XG4gICAgICAgIHZhciB1dnMgPSBlbGVtZW50LnV2cztcbiAgICAgICAgdmFyIGluZGljaWVzID0gZWxlbWVudC5pbmRpY2VzO1xuICAgICAgICB2YXIgdmVydGV4RGF0YSA9IGVsZW1lbnQudmVydGV4RGF0YTtcbiAgICAgICAgdmFyIHRleHR1cmVJZCA9IGVsZW1lbnQuX3RleHR1cmUuYmFzZVRleHR1cmUuX2JhdGNoTG9jYXRpb247XG5cbiAgICAgICAgdmFyIGFscGhhID0gTWF0aC5taW4oZWxlbWVudC53b3JsZEFscGhhLCAxLjApO1xuICAgICAgICB2YXIgYXJnYiA9IChhbHBoYSA8IDEuMFxuICAgICAgICAgICAgJiYgZWxlbWVudC5fdGV4dHVyZS5iYXNlVGV4dHVyZS5hbHBoYU1vZGUpXG4gICAgICAgICAgICA/IHByZW11bHRpcGx5VGludChlbGVtZW50Ll90aW50UkdCLCBhbHBoYSlcbiAgICAgICAgICAgIDogZWxlbWVudC5fdGludFJHQiArIChhbHBoYSAqIDI1NSA8PCAyNCk7XG5cbiAgICAgICAgLy8gbGV0cyBub3Qgd29ycnkgYWJvdXQgdGludCEgZm9yIG5vdy4uXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmVydGV4RGF0YS5sZW5ndGg7IGkgKz0gMilcbiAgICAgICAge1xuICAgICAgICAgICAgZmxvYXQzMlZpZXdbYUluZGV4KytdID0gdmVydGV4RGF0YVtpXTtcbiAgICAgICAgICAgIGZsb2F0MzJWaWV3W2FJbmRleCsrXSA9IHZlcnRleERhdGFbaSArIDFdO1xuICAgICAgICAgICAgZmxvYXQzMlZpZXdbYUluZGV4KytdID0gdXZzW2ldO1xuICAgICAgICAgICAgZmxvYXQzMlZpZXdbYUluZGV4KytdID0gdXZzW2kgKyAxXTtcbiAgICAgICAgICAgIHVpbnQzMlZpZXdbYUluZGV4KytdID0gYXJnYjtcbiAgICAgICAgICAgIGZsb2F0MzJWaWV3W2FJbmRleCsrXSA9IHRleHR1cmVJZDtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAodmFyIGkkMSA9IDA7IGkkMSA8IGluZGljaWVzLmxlbmd0aDsgaSQxKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIGluZGV4QnVmZmVyW2lJbmRleCsrXSA9IHBhY2tlZFZlcnRpY2VzICsgaW5kaWNpZXNbaSQxXTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICByZXR1cm4gQWJzdHJhY3RCYXRjaFJlbmRlcmVyO1xufShPYmplY3RSZW5kZXJlcikpO1xuXG4vKipcbiAqIFBvb2wgb2YgYEJhdGNoRHJhd0NhbGxgIG9iamVjdHMgdGhhdCBgZmx1c2hgIHVzZWRcbiAqIHRvIGNyZWF0ZSBcImJhdGNoZXNcIiBvZiB0aGUgb2JqZWN0cyBiZWluZyByZW5kZXJlZC5cbiAqXG4gKiBUaGVzZSBhcmUgbmV2ZXIgcmUtYWxsb2NhdGVkIGFnYWluLlxuICogU2hhcmVkIGJldHdlZW4gYWxsIGJhdGNoIHJlbmRlcmVycyBiZWNhdXNlIGl0IGNhbiBiZSBvbmx5IG9uZSBcImZsdXNoXCIgd29ya2luZyBhdCB0aGUgbW9tZW50LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXIge1BJWEkuQmF0Y2hEcmF3Q2FsbFtdfVxuICovXG5BYnN0cmFjdEJhdGNoUmVuZGVyZXIuX2RyYXdDYWxsUG9vbCA9IFtdO1xuXG4vKipcbiAqIFBvb2wgb2YgYEJhdGNoRHJhd0NhbGxgIG9iamVjdHMgdGhhdCBgZmx1c2hgIHVzZWRcbiAqIHRvIGNyZWF0ZSBcImJhdGNoZXNcIiBvZiB0aGUgb2JqZWN0cyBiZWluZyByZW5kZXJlZC5cbiAqXG4gKiBUaGVzZSBhcmUgbmV2ZXIgcmUtYWxsb2NhdGVkIGFnYWluLlxuICogU2hhcmVkIGJldHdlZW4gYWxsIGJhdGNoIHJlbmRlcmVycyBiZWNhdXNlIGl0IGNhbiBiZSBvbmx5IG9uZSBcImZsdXNoXCIgd29ya2luZyBhdCB0aGUgbW9tZW50LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXIge1BJWEkuQmF0Y2hUZXh0dXJlQXJyYXlbXX1cbiAqL1xuQWJzdHJhY3RCYXRjaFJlbmRlcmVyLl90ZXh0dXJlQXJyYXlQb29sID0gW107XG5cbi8qKlxuICogSGVscGVyIHRoYXQgZ2VuZXJhdGVzIGJhdGNoaW5nIG11bHRpLXRleHR1cmUgc2hhZGVyLiBVc2UgaXQgd2l0aCB5b3VyIG5ldyBCYXRjaFJlbmRlcmVyXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgQmF0Y2hTaGFkZXJHZW5lcmF0b3IgPSBmdW5jdGlvbiBCYXRjaFNoYWRlckdlbmVyYXRvcih2ZXJ0ZXhTcmMsIGZyYWdUZW1wbGF0ZSlcbntcbiAgICAvKipcbiAgICAgKiBSZWZlcmVuY2UgdG8gdGhlIHZlcnRleCBzaGFkZXIgc291cmNlLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAqL1xuICAgIHRoaXMudmVydGV4U3JjID0gdmVydGV4U3JjO1xuXG4gICAgLyoqXG4gICAgICogUmVmZXJlbmNlIHRvIHRoZSBmcmFnZW1lbnQgc2hhZGVyIHRlbXBsYXRlLiBNdXN0IGNvbnRhaW4gXCIlY291bnQlXCIgYW5kIFwiJWZvcmxvb3AlXCIuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICovXG4gICAgdGhpcy5mcmFnVGVtcGxhdGUgPSBmcmFnVGVtcGxhdGU7XG5cbiAgICB0aGlzLnByb2dyYW1DYWNoZSA9IHt9O1xuICAgIHRoaXMuZGVmYXVsdEdyb3VwQ2FjaGUgPSB7fTtcblxuICAgIGlmIChmcmFnVGVtcGxhdGUuaW5kZXhPZignJWNvdW50JScpIDwgMClcbiAgICB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignRnJhZ21lbnQgdGVtcGxhdGUgbXVzdCBjb250YWluIFwiJWNvdW50JVwiLicpO1xuICAgIH1cblxuICAgIGlmIChmcmFnVGVtcGxhdGUuaW5kZXhPZignJWZvcmxvb3AlJykgPCAwKVxuICAgIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdGcmFnbWVudCB0ZW1wbGF0ZSBtdXN0IGNvbnRhaW4gXCIlZm9ybG9vcCVcIi4nKTtcbiAgICB9XG59O1xuXG5CYXRjaFNoYWRlckdlbmVyYXRvci5wcm90b3R5cGUuZ2VuZXJhdGVTaGFkZXIgPSBmdW5jdGlvbiBnZW5lcmF0ZVNoYWRlciAobWF4VGV4dHVyZXMpXG57XG4gICAgaWYgKCF0aGlzLnByb2dyYW1DYWNoZVttYXhUZXh0dXJlc10pXG4gICAge1xuICAgICAgICB2YXIgc2FtcGxlVmFsdWVzID0gbmV3IEludDMyQXJyYXkobWF4VGV4dHVyZXMpO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWF4VGV4dHVyZXM7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgc2FtcGxlVmFsdWVzW2ldID0gaTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZGVmYXVsdEdyb3VwQ2FjaGVbbWF4VGV4dHVyZXNdID0gVW5pZm9ybUdyb3VwLmZyb20oeyB1U2FtcGxlcnM6IHNhbXBsZVZhbHVlcyB9LCB0cnVlKTtcblxuICAgICAgICB2YXIgZnJhZ21lbnRTcmMgPSB0aGlzLmZyYWdUZW1wbGF0ZTtcblxuICAgICAgICBmcmFnbWVudFNyYyA9IGZyYWdtZW50U3JjLnJlcGxhY2UoLyVjb3VudCUvZ2ksIChcIlwiICsgbWF4VGV4dHVyZXMpKTtcbiAgICAgICAgZnJhZ21lbnRTcmMgPSBmcmFnbWVudFNyYy5yZXBsYWNlKC8lZm9ybG9vcCUvZ2ksIHRoaXMuZ2VuZXJhdGVTYW1wbGVTcmMobWF4VGV4dHVyZXMpKTtcblxuICAgICAgICB0aGlzLnByb2dyYW1DYWNoZVttYXhUZXh0dXJlc10gPSBuZXcgUHJvZ3JhbSh0aGlzLnZlcnRleFNyYywgZnJhZ21lbnRTcmMpO1xuICAgIH1cblxuICAgIHZhciB1bmlmb3JtcyA9IHtcbiAgICAgICAgdGludDogbmV3IEZsb2F0MzJBcnJheShbMSwgMSwgMSwgMV0pLFxuICAgICAgICB0cmFuc2xhdGlvbk1hdHJpeDogbmV3IE1hdHJpeCgpLFxuICAgICAgICBkZWZhdWx0OiB0aGlzLmRlZmF1bHRHcm91cENhY2hlW21heFRleHR1cmVzXSxcbiAgICB9O1xuXG4gICAgcmV0dXJuIG5ldyBTaGFkZXIodGhpcy5wcm9ncmFtQ2FjaGVbbWF4VGV4dHVyZXNdLCB1bmlmb3Jtcyk7XG59O1xuXG5CYXRjaFNoYWRlckdlbmVyYXRvci5wcm90b3R5cGUuZ2VuZXJhdGVTYW1wbGVTcmMgPSBmdW5jdGlvbiBnZW5lcmF0ZVNhbXBsZVNyYyAobWF4VGV4dHVyZXMpXG57XG4gICAgdmFyIHNyYyA9ICcnO1xuXG4gICAgc3JjICs9ICdcXG4nO1xuICAgIHNyYyArPSAnXFxuJztcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWF4VGV4dHVyZXM7IGkrKylcbiAgICB7XG4gICAgICAgIGlmIChpID4gMClcbiAgICAgICAge1xuICAgICAgICAgICAgc3JjICs9ICdcXG5lbHNlICc7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaSA8IG1heFRleHR1cmVzIC0gMSlcbiAgICAgICAge1xuICAgICAgICAgICAgc3JjICs9IFwiaWYodlRleHR1cmVJZCA8IFwiICsgaSArIFwiLjUpXCI7XG4gICAgICAgIH1cblxuICAgICAgICBzcmMgKz0gJ1xcbnsnO1xuICAgICAgICBzcmMgKz0gXCJcXG5cXHRjb2xvciA9IHRleHR1cmUyRCh1U2FtcGxlcnNbXCIgKyBpICsgXCJdLCB2VGV4dHVyZUNvb3JkKTtcIjtcbiAgICAgICAgc3JjICs9ICdcXG59JztcbiAgICB9XG5cbiAgICBzcmMgKz0gJ1xcbic7XG4gICAgc3JjICs9ICdcXG4nO1xuXG4gICAgcmV0dXJuIHNyYztcbn07XG5cbi8qKlxuICogR2VvbWV0cnkgdXNlZCB0byBiYXRjaCBzdGFuZGFyZCBQSVhJIGNvbnRlbnQgKGUuZy4gTWVzaCwgU3ByaXRlLCBHcmFwaGljcyBvYmplY3RzKS5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBCYXRjaEdlb21ldHJ5ID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoR2VvbWV0cnkpIHtcbiAgICBmdW5jdGlvbiBCYXRjaEdlb21ldHJ5KF9zdGF0aWMpXG4gICAge1xuICAgICAgICBpZiAoIF9zdGF0aWMgPT09IHZvaWQgMCApIF9zdGF0aWMgPSBmYWxzZTtcblxuICAgICAgICBHZW9tZXRyeS5jYWxsKHRoaXMpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBCdWZmZXIgdXNlZCBmb3IgcG9zaXRpb24sIGNvbG9yLCB0ZXh0dXJlIElEc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkJ1ZmZlcn1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fYnVmZmVyID0gbmV3IEJ1ZmZlcihudWxsLCBfc3RhdGljLCBmYWxzZSk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEluZGV4IGJ1ZmZlciBkYXRhXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuQnVmZmVyfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9pbmRleEJ1ZmZlciA9IG5ldyBCdWZmZXIobnVsbCwgX3N0YXRpYywgdHJ1ZSk7XG5cbiAgICAgICAgdGhpcy5hZGRBdHRyaWJ1dGUoJ2FWZXJ0ZXhQb3NpdGlvbicsIHRoaXMuX2J1ZmZlciwgMiwgZmFsc2UsIFRZUEVTLkZMT0FUKVxuICAgICAgICAgICAgLmFkZEF0dHJpYnV0ZSgnYVRleHR1cmVDb29yZCcsIHRoaXMuX2J1ZmZlciwgMiwgZmFsc2UsIFRZUEVTLkZMT0FUKVxuICAgICAgICAgICAgLmFkZEF0dHJpYnV0ZSgnYUNvbG9yJywgdGhpcy5fYnVmZmVyLCA0LCB0cnVlLCBUWVBFUy5VTlNJR05FRF9CWVRFKVxuICAgICAgICAgICAgLmFkZEF0dHJpYnV0ZSgnYVRleHR1cmVJZCcsIHRoaXMuX2J1ZmZlciwgMSwgdHJ1ZSwgVFlQRVMuRkxPQVQpXG4gICAgICAgICAgICAuYWRkSW5kZXgodGhpcy5faW5kZXhCdWZmZXIpO1xuICAgIH1cblxuICAgIGlmICggR2VvbWV0cnkgKSBCYXRjaEdlb21ldHJ5Ll9fcHJvdG9fXyA9IEdlb21ldHJ5O1xuICAgIEJhdGNoR2VvbWV0cnkucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggR2VvbWV0cnkgJiYgR2VvbWV0cnkucHJvdG90eXBlICk7XG4gICAgQmF0Y2hHZW9tZXRyeS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBCYXRjaEdlb21ldHJ5O1xuXG4gICAgcmV0dXJuIEJhdGNoR2VvbWV0cnk7XG59KEdlb21ldHJ5KSk7XG5cbnZhciBkZWZhdWx0VmVydGV4JDIgPSBcInByZWNpc2lvbiBoaWdocCBmbG9hdDtcXG5hdHRyaWJ1dGUgdmVjMiBhVmVydGV4UG9zaXRpb247XFxuYXR0cmlidXRlIHZlYzIgYVRleHR1cmVDb29yZDtcXG5hdHRyaWJ1dGUgdmVjNCBhQ29sb3I7XFxuYXR0cmlidXRlIGZsb2F0IGFUZXh0dXJlSWQ7XFxuXFxudW5pZm9ybSBtYXQzIHByb2plY3Rpb25NYXRyaXg7XFxudW5pZm9ybSBtYXQzIHRyYW5zbGF0aW9uTWF0cml4O1xcbnVuaWZvcm0gdmVjNCB0aW50O1xcblxcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcbnZhcnlpbmcgdmVjNCB2Q29sb3I7XFxudmFyeWluZyBmbG9hdCB2VGV4dHVyZUlkO1xcblxcbnZvaWQgbWFpbih2b2lkKXtcXG4gICAgZ2xfUG9zaXRpb24gPSB2ZWM0KChwcm9qZWN0aW9uTWF0cml4ICogdHJhbnNsYXRpb25NYXRyaXggKiB2ZWMzKGFWZXJ0ZXhQb3NpdGlvbiwgMS4wKSkueHksIDAuMCwgMS4wKTtcXG5cXG4gICAgdlRleHR1cmVDb29yZCA9IGFUZXh0dXJlQ29vcmQ7XFxuICAgIHZUZXh0dXJlSWQgPSBhVGV4dHVyZUlkO1xcbiAgICB2Q29sb3IgPSBhQ29sb3IgKiB0aW50O1xcbn1cXG5cIjtcblxudmFyIGRlZmF1bHRGcmFnbWVudCQyID0gXCJ2YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG52YXJ5aW5nIHZlYzQgdkNvbG9yO1xcbnZhcnlpbmcgZmxvYXQgdlRleHR1cmVJZDtcXG51bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcnNbJWNvdW50JV07XFxuXFxudm9pZCBtYWluKHZvaWQpe1xcbiAgICB2ZWM0IGNvbG9yO1xcbiAgICAlZm9ybG9vcCVcXG4gICAgZ2xfRnJhZ0NvbG9yID0gY29sb3IgKiB2Q29sb3I7XFxufVxcblwiO1xuXG4vKipcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEBoaWRlY29uc3RydWN0b3JcbiAqL1xudmFyIEJhdGNoUGx1Z2luRmFjdG9yeSA9IGZ1bmN0aW9uIEJhdGNoUGx1Z2luRmFjdG9yeSAoKSB7fTtcblxudmFyIHN0YXRpY0FjY2Vzc29ycyQxID0geyBkZWZhdWx0VmVydGV4U3JjOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LGRlZmF1bHRGcmFnbWVudFRlbXBsYXRlOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH07XG5cbkJhdGNoUGx1Z2luRmFjdG9yeS5jcmVhdGUgPSBmdW5jdGlvbiBjcmVhdGUgKG9wdGlvbnMpXG57XG4gICAgdmFyIHJlZiA9IE9iamVjdC5hc3NpZ24oe1xuICAgICAgICB2ZXJ0ZXg6IGRlZmF1bHRWZXJ0ZXgkMixcbiAgICAgICAgZnJhZ21lbnQ6IGRlZmF1bHRGcmFnbWVudCQyLFxuICAgICAgICBnZW9tZXRyeUNsYXNzOiBCYXRjaEdlb21ldHJ5LFxuICAgICAgICB2ZXJ0ZXhTaXplOiA2LFxuICAgIH0sIG9wdGlvbnMpO1xuICAgICAgICB2YXIgdmVydGV4ID0gcmVmLnZlcnRleDtcbiAgICAgICAgdmFyIGZyYWdtZW50ID0gcmVmLmZyYWdtZW50O1xuICAgICAgICB2YXIgdmVydGV4U2l6ZSA9IHJlZi52ZXJ0ZXhTaXplO1xuICAgICAgICB2YXIgZ2VvbWV0cnlDbGFzcyA9IHJlZi5nZW9tZXRyeUNsYXNzO1xuXG4gICAgcmV0dXJuIC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKEFic3RyYWN0QmF0Y2hSZW5kZXJlcikge1xuICAgICAgICAgICAgZnVuY3Rpb24gQmF0Y2hQbHVnaW4ocmVuZGVyZXIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIEFic3RyYWN0QmF0Y2hSZW5kZXJlci5jYWxsKHRoaXMsIHJlbmRlcmVyKTtcblxuICAgICAgICAgICAgdGhpcy5zaGFkZXJHZW5lcmF0b3IgPSBuZXcgQmF0Y2hTaGFkZXJHZW5lcmF0b3IodmVydGV4LCBmcmFnbWVudCk7XG4gICAgICAgICAgICB0aGlzLmdlb21ldHJ5Q2xhc3MgPSBnZW9tZXRyeUNsYXNzO1xuICAgICAgICAgICAgdGhpcy52ZXJ0ZXhTaXplID0gdmVydGV4U2l6ZTtcbiAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIEFic3RyYWN0QmF0Y2hSZW5kZXJlciApIEJhdGNoUGx1Z2luLl9fcHJvdG9fXyA9IEFic3RyYWN0QmF0Y2hSZW5kZXJlcjtcbiAgICAgICAgICAgIEJhdGNoUGx1Z2luLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIEFic3RyYWN0QmF0Y2hSZW5kZXJlciAmJiBBYnN0cmFjdEJhdGNoUmVuZGVyZXIucHJvdG90eXBlICk7XG4gICAgICAgICAgICBCYXRjaFBsdWdpbi5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBCYXRjaFBsdWdpbjtcblxuICAgICAgICAgICAgcmV0dXJuIEJhdGNoUGx1Z2luO1xuICAgICAgICB9KEFic3RyYWN0QmF0Y2hSZW5kZXJlcikpO1xufTtcblxuLyoqXG4gKiBUaGUgZGVmYXVsdCB2ZXJ0ZXggc2hhZGVyIHNvdXJjZVxuICpcbiAqIEBzdGF0aWNcbiAqIEB0eXBlIHtzdHJpbmd9XG4gKiBAY29uc3RhbnRcbiAqL1xuc3RhdGljQWNjZXNzb3JzJDEuZGVmYXVsdFZlcnRleFNyYy5nZXQgPSBmdW5jdGlvbiAoKVxue1xuICAgIHJldHVybiBkZWZhdWx0VmVydGV4JDI7XG59O1xuXG4vKipcbiAqIFRoZSBkZWZhdWx0IGZyYWdtZW50IHNoYWRlciBzb3VyY2VcbiAqXG4gKiBAc3RhdGljXG4gKiBAdHlwZSB7c3RyaW5nfVxuICogQGNvbnN0YW50XG4gKi9cbnN0YXRpY0FjY2Vzc29ycyQxLmRlZmF1bHRGcmFnbWVudFRlbXBsYXRlLmdldCA9IGZ1bmN0aW9uICgpXG57XG4gICAgcmV0dXJuIGRlZmF1bHRGcmFnbWVudCQyO1xufTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoIEJhdGNoUGx1Z2luRmFjdG9yeSwgc3RhdGljQWNjZXNzb3JzJDEgKTtcblxuLy8gU2V0dXAgdGhlIGRlZmF1bHQgQmF0Y2hSZW5kZXJlciBwbHVnaW4sIHRoaXMgaXMgd2hhdFxuLy8gd2UnbGwgYWN0dWFsbHkgZXhwb3J0IGF0IHRoZSByb290IGxldmVsXG52YXIgQmF0Y2hSZW5kZXJlciA9IEJhdGNoUGx1Z2luRmFjdG9yeS5jcmVhdGUoKTtcblxuZXhwb3J0IHsgQWJzdHJhY3RCYXRjaFJlbmRlcmVyLCBBYnN0cmFjdFJlbmRlcmVyLCBBdHRyaWJ1dGUsIEJhc2VSZW5kZXJUZXh0dXJlLCBCYXNlVGV4dHVyZSwgQmF0Y2hEcmF3Q2FsbCwgQmF0Y2hHZW9tZXRyeSwgQmF0Y2hQbHVnaW5GYWN0b3J5LCBCYXRjaFJlbmRlcmVyLCBCYXRjaFNoYWRlckdlbmVyYXRvciwgQmF0Y2hUZXh0dXJlQXJyYXksIEJ1ZmZlciwgQ3ViZVRleHR1cmUsIEZpbHRlciwgRnJhbWVidWZmZXIsIEdMUHJvZ3JhbSwgR0xUZXh0dXJlLCBHZW9tZXRyeSwgTWFza0RhdGEsIE9iamVjdFJlbmRlcmVyLCBQcm9ncmFtLCBRdWFkLCBRdWFkVXYsIFJlbmRlclRleHR1cmUsIFJlbmRlclRleHR1cmVQb29sLCBSZW5kZXJlciwgU2hhZGVyLCBTcHJpdGVNYXNrRmlsdGVyLCBTdGF0ZSwgU3lzdGVtLCBUZXh0dXJlLCBUZXh0dXJlTWF0cml4LCBUZXh0dXJlVXZzLCBVbmlmb3JtR3JvdXAsIFZpZXdhYmxlQnVmZmVyLCBhdXRvRGV0ZWN0UmVuZGVyZXIsIGNoZWNrTWF4SWZTdGF0ZW1lbnRzSW5TaGFkZXIsIGRlZmF1bHRGaWx0ZXIgYXMgZGVmYXVsdEZpbHRlclZlcnRleCwgX2RlZmF1bHQgYXMgZGVmYXVsdFZlcnRleCwgaW5kZXggYXMgcmVzb3VyY2VzLCBzeXN0ZW1zIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb3JlLmVzLmpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS9leHRyYWN0IC0gdjUuMi4wXG4gKiBDb21waWxlZCBXZWQsIDA2IE5vdiAyMDE5IDAyOjMyOjQzIFVUQ1xuICpcbiAqIEBwaXhpL2V4dHJhY3QgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5pbXBvcnQgeyBSZW5kZXJUZXh0dXJlIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5pbXBvcnQgeyBDYW52YXNSZW5kZXJUYXJnZXQgfSBmcm9tICdAcGl4aS91dGlscyc7XG5pbXBvcnQgeyBSZWN0YW5nbGUgfSBmcm9tICdAcGl4aS9tYXRoJztcblxudmFyIFRFTVBfUkVDVCA9IG5ldyBSZWN0YW5nbGUoKTtcbnZhciBCWVRFU19QRVJfUElYRUwgPSA0O1xuXG4vKipcbiAqIFRoZSBleHRyYWN0IG1hbmFnZXIgcHJvdmlkZXMgZnVuY3Rpb25hbGl0eSB0byBleHBvcnQgY29udGVudCBmcm9tIHRoZSByZW5kZXJlcnMuXG4gKlxuICogQW4gaW5zdGFuY2Ugb2YgdGhpcyBjbGFzcyBpcyBhdXRvbWF0aWNhbGx5IGNyZWF0ZWQgYnkgZGVmYXVsdCwgYW5kIGNhbiBiZSBmb3VuZCBhdCBgcmVuZGVyZXIucGx1Z2lucy5leHRyYWN0YFxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWEkuZXh0cmFjdFxuICovXG52YXIgRXh0cmFjdCA9IGZ1bmN0aW9uIEV4dHJhY3QocmVuZGVyZXIpXG57XG4gICAgdGhpcy5yZW5kZXJlciA9IHJlbmRlcmVyO1xuICAgIC8qKlxuICAgICAqIENvbGxlY3Rpb24gb2YgbWV0aG9kcyBmb3IgZXh0cmFjdGluZyBkYXRhIChpbWFnZSwgcGl4ZWxzLCBldGMuKSBmcm9tIGEgZGlzcGxheSBvYmplY3Qgb3IgcmVuZGVyIHRleHR1cmVcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1BJWEkuZXh0cmFjdC5FeHRyYWN0fSBleHRyYWN0XG4gICAgICogQG1lbWJlcm9mIFBJWEkuUmVuZGVyZXIjXG4gICAgICogQHNlZSBQSVhJLmV4dHJhY3QuRXh0cmFjdFxuICAgICAqL1xuICAgIHJlbmRlcmVyLmV4dHJhY3QgPSB0aGlzO1xufTtcblxuLyoqXG4gKiBXaWxsIHJldHVybiBhIEhUTUwgSW1hZ2Ugb2YgdGhlIHRhcmdldFxuICpcbiAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fFBJWEkuUmVuZGVyVGV4dHVyZX0gdGFyZ2V0IC0gQSBkaXNwbGF5T2JqZWN0IG9yIHJlbmRlclRleHR1cmVcbiAqICB0byBjb252ZXJ0LiBJZiBsZWZ0IGVtcHR5IHdpbGwgdXNlIHRoZSBtYWluIHJlbmRlcmVyXG4gKiBAcGFyYW0ge3N0cmluZ30gW2Zvcm1hdF0gLSBJbWFnZSBmb3JtYXQsIGUuZy4gXCJpbWFnZS9qcGVnXCIgb3IgXCJpbWFnZS93ZWJwXCIuXG4gKiBAcGFyYW0ge251bWJlcn0gW3F1YWxpdHldIC0gSlBFRyBvciBXZWJwIGNvbXByZXNzaW9uIGZyb20gMCB0byAxLiBEZWZhdWx0IGlzIDAuOTIuXG4gKiBAcmV0dXJuIHtIVE1MSW1hZ2VFbGVtZW50fSBIVE1MIEltYWdlIG9mIHRoZSB0YXJnZXRcbiAqL1xuRXh0cmFjdC5wcm90b3R5cGUuaW1hZ2UgPSBmdW5jdGlvbiBpbWFnZSAodGFyZ2V0LCBmb3JtYXQsIHF1YWxpdHkpXG57XG4gICAgdmFyIGltYWdlID0gbmV3IEltYWdlKCk7XG5cbiAgICBpbWFnZS5zcmMgPSB0aGlzLmJhc2U2NCh0YXJnZXQsIGZvcm1hdCwgcXVhbGl0eSk7XG5cbiAgICByZXR1cm4gaW1hZ2U7XG59O1xuXG4vKipcbiAqIFdpbGwgcmV0dXJuIGEgYSBiYXNlNjQgZW5jb2RlZCBzdHJpbmcgb2YgdGhpcyB0YXJnZXQuIEl0IHdvcmtzIGJ5IGNhbGxpbmdcbiAqICBgRXh0cmFjdC5nZXRDYW52YXNgIGFuZCB0aGVuIHJ1bm5pbmcgdG9EYXRhVVJMIG9uIHRoYXQuXG4gKlxuICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R8UElYSS5SZW5kZXJUZXh0dXJlfSB0YXJnZXQgLSBBIGRpc3BsYXlPYmplY3Qgb3IgcmVuZGVyVGV4dHVyZVxuICogIHRvIGNvbnZlcnQuIElmIGxlZnQgZW1wdHkgd2lsbCB1c2UgdGhlIG1haW4gcmVuZGVyZXJcbiAqIEBwYXJhbSB7c3RyaW5nfSBbZm9ybWF0XSAtIEltYWdlIGZvcm1hdCwgZS5nLiBcImltYWdlL2pwZWdcIiBvciBcImltYWdlL3dlYnBcIi5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbcXVhbGl0eV0gLSBKUEVHIG9yIFdlYnAgY29tcHJlc3Npb24gZnJvbSAwIHRvIDEuIERlZmF1bHQgaXMgMC45Mi5cbiAqIEByZXR1cm4ge3N0cmluZ30gQSBiYXNlNjQgZW5jb2RlZCBzdHJpbmcgb2YgdGhlIHRleHR1cmUuXG4gKi9cbkV4dHJhY3QucHJvdG90eXBlLmJhc2U2NCA9IGZ1bmN0aW9uIGJhc2U2NCAodGFyZ2V0LCBmb3JtYXQsIHF1YWxpdHkpXG57XG4gICAgcmV0dXJuIHRoaXMuY2FudmFzKHRhcmdldCkudG9EYXRhVVJMKGZvcm1hdCwgcXVhbGl0eSk7XG59O1xuXG4vKipcbiAqIENyZWF0ZXMgYSBDYW52YXMgZWxlbWVudCwgcmVuZGVycyB0aGlzIHRhcmdldCB0byBpdCBhbmQgdGhlbiByZXR1cm5zIGl0LlxuICpcbiAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fFBJWEkuUmVuZGVyVGV4dHVyZX0gdGFyZ2V0IC0gQSBkaXNwbGF5T2JqZWN0IG9yIHJlbmRlclRleHR1cmVcbiAqICB0byBjb252ZXJ0LiBJZiBsZWZ0IGVtcHR5IHdpbGwgdXNlIHRoZSBtYWluIHJlbmRlcmVyXG4gKiBAcmV0dXJuIHtIVE1MQ2FudmFzRWxlbWVudH0gQSBDYW52YXMgZWxlbWVudCB3aXRoIHRoZSB0ZXh0dXJlIHJlbmRlcmVkIG9uLlxuICovXG5FeHRyYWN0LnByb3RvdHlwZS5jYW52YXMgPSBmdW5jdGlvbiBjYW52YXMgKHRhcmdldClcbntcbiAgICB2YXIgcmVuZGVyZXIgPSB0aGlzLnJlbmRlcmVyO1xuICAgIHZhciByZXNvbHV0aW9uO1xuICAgIHZhciBmcmFtZTtcbiAgICB2YXIgZmxpcFkgPSBmYWxzZTtcbiAgICB2YXIgcmVuZGVyVGV4dHVyZTtcbiAgICB2YXIgZ2VuZXJhdGVkID0gZmFsc2U7XG5cbiAgICBpZiAodGFyZ2V0KVxuICAgIHtcbiAgICAgICAgaWYgKHRhcmdldCBpbnN0YW5jZW9mIFJlbmRlclRleHR1cmUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJlbmRlclRleHR1cmUgPSB0YXJnZXQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICByZW5kZXJUZXh0dXJlID0gdGhpcy5yZW5kZXJlci5nZW5lcmF0ZVRleHR1cmUodGFyZ2V0KTtcbiAgICAgICAgICAgIGdlbmVyYXRlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAocmVuZGVyVGV4dHVyZSlcbiAgICB7XG4gICAgICAgIHJlc29sdXRpb24gPSByZW5kZXJUZXh0dXJlLmJhc2VUZXh0dXJlLnJlc29sdXRpb247XG4gICAgICAgIGZyYW1lID0gcmVuZGVyVGV4dHVyZS5mcmFtZTtcbiAgICAgICAgZmxpcFkgPSBmYWxzZTtcbiAgICAgICAgcmVuZGVyZXIucmVuZGVyVGV4dHVyZS5iaW5kKHJlbmRlclRleHR1cmUpO1xuICAgIH1cbiAgICBlbHNlXG4gICAge1xuICAgICAgICByZXNvbHV0aW9uID0gdGhpcy5yZW5kZXJlci5yZXNvbHV0aW9uO1xuXG4gICAgICAgIGZsaXBZID0gdHJ1ZTtcblxuICAgICAgICBmcmFtZSA9IFRFTVBfUkVDVDtcbiAgICAgICAgZnJhbWUud2lkdGggPSB0aGlzLnJlbmRlcmVyLndpZHRoO1xuICAgICAgICBmcmFtZS5oZWlnaHQgPSB0aGlzLnJlbmRlcmVyLmhlaWdodDtcblxuICAgICAgICByZW5kZXJlci5yZW5kZXJUZXh0dXJlLmJpbmQobnVsbCk7XG4gICAgfVxuXG4gICAgdmFyIHdpZHRoID0gTWF0aC5mbG9vcigoZnJhbWUud2lkdGggKiByZXNvbHV0aW9uKSArIDFlLTQpO1xuICAgIHZhciBoZWlnaHQgPSBNYXRoLmZsb29yKChmcmFtZS5oZWlnaHQgKiByZXNvbHV0aW9uKSArIDFlLTQpO1xuXG4gICAgdmFyIGNhbnZhc0J1ZmZlciA9IG5ldyBDYW52YXNSZW5kZXJUYXJnZXQod2lkdGgsIGhlaWdodCwgMSk7XG5cbiAgICB2YXIgd2ViZ2xQaXhlbHMgPSBuZXcgVWludDhBcnJheShCWVRFU19QRVJfUElYRUwgKiB3aWR0aCAqIGhlaWdodCk7XG5cbiAgICAvLyByZWFkIHBpeGVscyB0byB0aGUgYXJyYXlcbiAgICB2YXIgZ2wgPSByZW5kZXJlci5nbDtcblxuICAgIGdsLnJlYWRQaXhlbHMoXG4gICAgICAgIGZyYW1lLnggKiByZXNvbHV0aW9uLFxuICAgICAgICBmcmFtZS55ICogcmVzb2x1dGlvbixcbiAgICAgICAgd2lkdGgsXG4gICAgICAgIGhlaWdodCxcbiAgICAgICAgZ2wuUkdCQSxcbiAgICAgICAgZ2wuVU5TSUdORURfQllURSxcbiAgICAgICAgd2ViZ2xQaXhlbHNcbiAgICApO1xuXG4gICAgLy8gYWRkIHRoZSBwaXhlbHMgdG8gdGhlIGNhbnZhc1xuICAgIHZhciBjYW52YXNEYXRhID0gY2FudmFzQnVmZmVyLmNvbnRleHQuZ2V0SW1hZ2VEYXRhKDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xuXG4gICAgRXh0cmFjdC5hcnJheVBvc3REaXZpZGUod2ViZ2xQaXhlbHMsIGNhbnZhc0RhdGEuZGF0YSk7XG5cbiAgICBjYW52YXNCdWZmZXIuY29udGV4dC5wdXRJbWFnZURhdGEoY2FudmFzRGF0YSwgMCwgMCk7XG5cbiAgICAvLyBwdWxsaW5nIHBpeGVsc1xuICAgIGlmIChmbGlwWSlcbiAgICB7XG4gICAgICAgIGNhbnZhc0J1ZmZlci5jb250ZXh0LnNjYWxlKDEsIC0xKTtcbiAgICAgICAgY2FudmFzQnVmZmVyLmNvbnRleHQuZHJhd0ltYWdlKGNhbnZhc0J1ZmZlci5jYW52YXMsIDAsIC1oZWlnaHQpO1xuICAgIH1cblxuICAgIGlmIChnZW5lcmF0ZWQpXG4gICAge1xuICAgICAgICByZW5kZXJUZXh0dXJlLmRlc3Ryb3kodHJ1ZSk7XG4gICAgfVxuXG4gICAgLy8gc2VuZCB0aGUgY2FudmFzIGJhY2suLlxuICAgIHJldHVybiBjYW52YXNCdWZmZXIuY2FudmFzO1xufTtcblxuLyoqXG4gKiBXaWxsIHJldHVybiBhIG9uZS1kaW1lbnNpb25hbCBhcnJheSBjb250YWluaW5nIHRoZSBwaXhlbCBkYXRhIG9mIHRoZSBlbnRpcmUgdGV4dHVyZSBpbiBSR0JBXG4gKiBvcmRlciwgd2l0aCBpbnRlZ2VyIHZhbHVlcyBiZXR3ZWVuIDAgYW5kIDI1NSAoaW5jbHVkZWQpLlxuICpcbiAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fFBJWEkuUmVuZGVyVGV4dHVyZX0gdGFyZ2V0IC0gQSBkaXNwbGF5T2JqZWN0IG9yIHJlbmRlclRleHR1cmVcbiAqICB0byBjb252ZXJ0LiBJZiBsZWZ0IGVtcHR5IHdpbGwgdXNlIHRoZSBtYWluIHJlbmRlcmVyXG4gKiBAcmV0dXJuIHtVaW50OEFycmF5fSBPbmUtZGltZW5zaW9uYWwgYXJyYXkgY29udGFpbmluZyB0aGUgcGl4ZWwgZGF0YSBvZiB0aGUgZW50aXJlIHRleHR1cmVcbiAqL1xuRXh0cmFjdC5wcm90b3R5cGUucGl4ZWxzID0gZnVuY3Rpb24gcGl4ZWxzICh0YXJnZXQpXG57XG4gICAgdmFyIHJlbmRlcmVyID0gdGhpcy5yZW5kZXJlcjtcbiAgICB2YXIgcmVzb2x1dGlvbjtcbiAgICB2YXIgZnJhbWU7XG4gICAgdmFyIHJlbmRlclRleHR1cmU7XG4gICAgdmFyIGdlbmVyYXRlZCA9IGZhbHNlO1xuXG4gICAgaWYgKHRhcmdldClcbiAgICB7XG4gICAgICAgIGlmICh0YXJnZXQgaW5zdGFuY2VvZiBSZW5kZXJUZXh0dXJlKVxuICAgICAgICB7XG4gICAgICAgICAgICByZW5kZXJUZXh0dXJlID0gdGFyZ2V0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgcmVuZGVyVGV4dHVyZSA9IHRoaXMucmVuZGVyZXIuZ2VuZXJhdGVUZXh0dXJlKHRhcmdldCk7XG4gICAgICAgICAgICBnZW5lcmF0ZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHJlbmRlclRleHR1cmUpXG4gICAge1xuICAgICAgICByZXNvbHV0aW9uID0gcmVuZGVyVGV4dHVyZS5iYXNlVGV4dHVyZS5yZXNvbHV0aW9uO1xuICAgICAgICBmcmFtZSA9IHJlbmRlclRleHR1cmUuZnJhbWU7XG5cbiAgICAgICAgLy8gYmluZCB0aGUgYnVmZmVyXG4gICAgICAgIHJlbmRlcmVyLnJlbmRlclRleHR1cmUuYmluZChyZW5kZXJUZXh0dXJlKTtcbiAgICB9XG4gICAgZWxzZVxuICAgIHtcbiAgICAgICAgcmVzb2x1dGlvbiA9IHJlbmRlcmVyLnJlc29sdXRpb247XG5cbiAgICAgICAgZnJhbWUgPSBURU1QX1JFQ1Q7XG4gICAgICAgIGZyYW1lLndpZHRoID0gcmVuZGVyZXIud2lkdGg7XG4gICAgICAgIGZyYW1lLmhlaWdodCA9IHJlbmRlcmVyLmhlaWdodDtcblxuICAgICAgICByZW5kZXJlci5yZW5kZXJUZXh0dXJlLmJpbmQobnVsbCk7XG4gICAgfVxuXG4gICAgdmFyIHdpZHRoID0gZnJhbWUud2lkdGggKiByZXNvbHV0aW9uO1xuICAgIHZhciBoZWlnaHQgPSBmcmFtZS5oZWlnaHQgKiByZXNvbHV0aW9uO1xuXG4gICAgdmFyIHdlYmdsUGl4ZWxzID0gbmV3IFVpbnQ4QXJyYXkoQllURVNfUEVSX1BJWEVMICogd2lkdGggKiBoZWlnaHQpO1xuXG4gICAgLy8gcmVhZCBwaXhlbHMgdG8gdGhlIGFycmF5XG4gICAgdmFyIGdsID0gcmVuZGVyZXIuZ2w7XG5cbiAgICBnbC5yZWFkUGl4ZWxzKFxuICAgICAgICBmcmFtZS54ICogcmVzb2x1dGlvbixcbiAgICAgICAgZnJhbWUueSAqIHJlc29sdXRpb24sXG4gICAgICAgIHdpZHRoLFxuICAgICAgICBoZWlnaHQsXG4gICAgICAgIGdsLlJHQkEsXG4gICAgICAgIGdsLlVOU0lHTkVEX0JZVEUsXG4gICAgICAgIHdlYmdsUGl4ZWxzXG4gICAgKTtcblxuICAgIGlmIChnZW5lcmF0ZWQpXG4gICAge1xuICAgICAgICByZW5kZXJUZXh0dXJlLmRlc3Ryb3kodHJ1ZSk7XG4gICAgfVxuXG4gICAgRXh0cmFjdC5hcnJheVBvc3REaXZpZGUod2ViZ2xQaXhlbHMsIHdlYmdsUGl4ZWxzKTtcblxuICAgIHJldHVybiB3ZWJnbFBpeGVscztcbn07XG5cbi8qKlxuICogRGVzdHJveXMgdGhlIGV4dHJhY3RcbiAqXG4gKi9cbkV4dHJhY3QucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95ICgpXG57XG4gICAgdGhpcy5yZW5kZXJlci5leHRyYWN0ID0gbnVsbDtcbiAgICB0aGlzLnJlbmRlcmVyID0gbnVsbDtcbn07XG5cbi8qKlxuICogVGFrZXMgcHJlbXVsdGlwbGllZCBwaXhlbCBkYXRhIGFuZCBwcm9kdWNlcyByZWd1bGFyIHBpeGVsIGRhdGFcbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHBpeGVscyB7bnVtYmVyW10gfCBVaW50OEFycmF5IHwgVWludDhDbGFtcGVkQXJyYXl9IGFycmF5IG9mIHBpeGVsIGRhdGFcbiAqIEBwYXJhbSBvdXQge251bWJlcltdIHwgVWludDhBcnJheSB8IFVpbnQ4Q2xhbXBlZEFycmF5fSBvdXRwdXQgYXJyYXlcbiAqL1xuRXh0cmFjdC5hcnJheVBvc3REaXZpZGUgPSBmdW5jdGlvbiBhcnJheVBvc3REaXZpZGUgKHBpeGVscywgb3V0KVxue1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGl4ZWxzLmxlbmd0aDsgaSArPSA0KVxuICAgIHtcbiAgICAgICAgdmFyIGFscGhhID0gb3V0W2kgKyAzXSA9IHBpeGVsc1tpICsgM107XG5cbiAgICAgICAgaWYgKGFscGhhICE9PSAwKVxuICAgICAgICB7XG4gICAgICAgICAgICBvdXRbaV0gPSBNYXRoLnJvdW5kKE1hdGgubWluKHBpeGVsc1tpXSAqIDI1NS4wIC8gYWxwaGEsIDI1NS4wKSk7XG4gICAgICAgICAgICBvdXRbaSArIDFdID0gTWF0aC5yb3VuZChNYXRoLm1pbihwaXhlbHNbaSArIDFdICogMjU1LjAgLyBhbHBoYSwgMjU1LjApKTtcbiAgICAgICAgICAgIG91dFtpICsgMl0gPSBNYXRoLnJvdW5kKE1hdGgubWluKHBpeGVsc1tpICsgMl0gKiAyNTUuMCAvIGFscGhhLCAyNTUuMCkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgb3V0W2ldID0gcGl4ZWxzW2ldO1xuICAgICAgICAgICAgb3V0W2kgKyAxXSA9IHBpeGVsc1tpICsgMV07XG4gICAgICAgICAgICBvdXRbaSArIDJdID0gcGl4ZWxzW2kgKyAyXTtcbiAgICAgICAgfVxuICAgIH1cbn07XG5cbi8qKlxuICogVGhpcyBuYW1lc3BhY2UgcHJvdmlkZXMgcmVuZGVyZXItc3BlY2lmaWMgcGx1Z2lucyBmb3IgZXhwb3J0aW5nIGNvbnRlbnQgZnJvbSBhIHJlbmRlcmVyLlxuICogRm9yIGluc3RhbmNlLCB0aGVzZSBwbHVnaW5zIGNhbiBiZSB1c2VkIGZvciBzYXZpbmcgYW4gSW1hZ2UsIENhbnZhcyBlbGVtZW50IG9yIGZvciBleHBvcnRpbmcgdGhlIHJhdyBpbWFnZSBkYXRhIChwaXhlbHMpLlxuICpcbiAqIERvIG5vdCBpbnN0YW50aWF0ZSB0aGVzZSBwbHVnaW5zIGRpcmVjdGx5LiBJdCBpcyBhdmFpbGFibGUgZnJvbSB0aGUgYHJlbmRlcmVyLnBsdWdpbnNgIHByb3BlcnR5LlxuICogU2VlIHtAbGluayBQSVhJLkNhbnZhc1JlbmRlcmVyI3BsdWdpbnN9IG9yIHtAbGluayBQSVhJLlJlbmRlcmVyI3BsdWdpbnN9LlxuICogQGV4YW1wbGVcbiAqIC8vIENyZWF0ZSBhIG5ldyBhcHAgKHdpbGwgYXV0by1hZGQgZXh0cmFjdCBwbHVnaW4gdG8gcmVuZGVyZXIpXG4gKiBjb25zdCBhcHAgPSBuZXcgUElYSS5BcHBsaWNhdGlvbigpO1xuICpcbiAqIC8vIERyYXcgYSByZWQgY2lyY2xlXG4gKiBjb25zdCBncmFwaGljcyA9IG5ldyBQSVhJLkdyYXBoaWNzKClcbiAqICAgICAuYmVnaW5GaWxsKDB4RkYwMDAwKVxuICogICAgIC5kcmF3Q2lyY2xlKDAsIDAsIDUwKTtcbiAqXG4gKiAvLyBSZW5kZXIgdGhlIGdyYXBoaWNzIGFzIGFuIEhUTUxJbWFnZUVsZW1lbnRcbiAqIGNvbnN0IGltYWdlID0gYXBwLnJlbmRlcmVyLnBsdWdpbnMuZXh0cmFjdC5pbWFnZShncmFwaGljcyk7XG4gKiBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGltYWdlKTtcbiAqIEBuYW1lc3BhY2UgUElYSS5leHRyYWN0XG4gKi9cblxuZXhwb3J0IHsgRXh0cmFjdCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZXh0cmFjdC5lcy5qcy5tYXBcbiIsIi8qIVxuICogQHBpeGkvaW50ZXJhY3Rpb24gLSB2NS4yLjBcbiAqIENvbXBpbGVkIFdlZCwgMDYgTm92IDIwMTkgMDI6MzI6NDMgVVRDXG4gKlxuICogQHBpeGkvaW50ZXJhY3Rpb24gaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5pbXBvcnQgeyBQb2ludCB9IGZyb20gJ0BwaXhpL21hdGgnO1xuaW1wb3J0IHsgVGlja2VyLCBVUERBVEVfUFJJT1JJVFkgfSBmcm9tICdAcGl4aS90aWNrZXInO1xuaW1wb3J0IHsgRGlzcGxheU9iamVjdCB9IGZyb20gJ0BwaXhpL2Rpc3BsYXknO1xuaW1wb3J0IHsgRXZlbnRFbWl0dGVyIH0gZnJvbSAnQHBpeGkvdXRpbHMnO1xuXG4vKipcbiAqIEhvbGRzIGFsbCBpbmZvcm1hdGlvbiByZWxhdGVkIHRvIGFuIEludGVyYWN0aW9uIGV2ZW50XG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSS5pbnRlcmFjdGlvblxuICovXG52YXIgSW50ZXJhY3Rpb25EYXRhID0gZnVuY3Rpb24gSW50ZXJhY3Rpb25EYXRhKClcbntcbiAgICAvKipcbiAgICAgKiBUaGlzIHBvaW50IHN0b3JlcyB0aGUgZ2xvYmFsIGNvb3JkcyBvZiB3aGVyZSB0aGUgdG91Y2gvbW91c2UgZXZlbnQgaGFwcGVuZWRcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1BJWEkuUG9pbnR9XG4gICAgICovXG4gICAgdGhpcy5nbG9iYWwgPSBuZXcgUG9pbnQoKTtcblxuICAgIC8qKlxuICAgICAqIFRoZSB0YXJnZXQgU3ByaXRlIHRoYXQgd2FzIGludGVyYWN0ZWQgd2l0aFxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5TcHJpdGV9XG4gICAgICovXG4gICAgdGhpcy50YXJnZXQgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogV2hlbiBwYXNzZWQgdG8gYW4gZXZlbnQgaGFuZGxlciwgdGhpcyB3aWxsIGJlIHRoZSBvcmlnaW5hbCBET00gRXZlbnQgdGhhdCB3YXMgY2FwdHVyZWRcbiAgICAgKlxuICAgICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL01vdXNlRXZlbnRcbiAgICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Ub3VjaEV2ZW50XG4gICAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvUG9pbnRlckV2ZW50XG4gICAgICogQG1lbWJlciB7TW91c2VFdmVudHxUb3VjaEV2ZW50fFBvaW50ZXJFdmVudH1cbiAgICAgKi9cbiAgICB0aGlzLm9yaWdpbmFsRXZlbnQgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogVW5pcXVlIGlkZW50aWZpZXIgZm9yIHRoaXMgaW50ZXJhY3Rpb25cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLmlkZW50aWZpZXIgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogSW5kaWNhdGVzIHdoZXRoZXIgb3Igbm90IHRoZSBwb2ludGVyIGRldmljZSB0aGF0IGNyZWF0ZWQgdGhlIGV2ZW50IGlzIHRoZSBwcmltYXJ5IHBvaW50ZXIuXG4gICAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvUG9pbnRlckV2ZW50L2lzUHJpbWFyeVxuICAgICAqIEB0eXBlIHtCb29sZWFufVxuICAgICAqL1xuICAgIHRoaXMuaXNQcmltYXJ5ID0gZmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBJbmRpY2F0ZXMgd2hpY2ggYnV0dG9uIHdhcyBwcmVzc2VkIG9uIHRoZSBtb3VzZSBvciBwb2ludGVyIGRldmljZSB0byB0cmlnZ2VyIHRoZSBldmVudC5cbiAgICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Nb3VzZUV2ZW50L2J1dHRvblxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5idXR0b24gPSAwO1xuXG4gICAgLyoqXG4gICAgICogSW5kaWNhdGVzIHdoaWNoIGJ1dHRvbnMgYXJlIHByZXNzZWQgb24gdGhlIG1vdXNlIG9yIHBvaW50ZXIgZGV2aWNlIHdoZW4gdGhlIGV2ZW50IGlzIHRyaWdnZXJlZC5cbiAgICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Nb3VzZUV2ZW50L2J1dHRvbnNcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMuYnV0dG9ucyA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgd2lkdGggb2YgdGhlIHBvaW50ZXIncyBjb250YWN0IGFsb25nIHRoZSB4LWF4aXMsIG1lYXN1cmVkIGluIENTUyBwaXhlbHMuXG4gICAgICogcmFkaXVzWCBvZiBUb3VjaEV2ZW50cyB3aWxsIGJlIHJlcHJlc2VudGVkIGJ5IHRoaXMgdmFsdWUuXG4gICAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvUG9pbnRlckV2ZW50L3dpZHRoXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLndpZHRoID0gMDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIHBvaW50ZXIncyBjb250YWN0IGFsb25nIHRoZSB5LWF4aXMsIG1lYXN1cmVkIGluIENTUyBwaXhlbHMuXG4gICAgICogcmFkaXVzWSBvZiBUb3VjaEV2ZW50cyB3aWxsIGJlIHJlcHJlc2VudGVkIGJ5IHRoaXMgdmFsdWUuXG4gICAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvUG9pbnRlckV2ZW50L2hlaWdodFxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5oZWlnaHQgPSAwO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGFuZ2xlLCBpbiBkZWdyZWVzLCBiZXR3ZWVuIHRoZSBwb2ludGVyIGRldmljZSBhbmQgdGhlIHNjcmVlbi5cbiAgICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Qb2ludGVyRXZlbnQvdGlsdFhcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMudGlsdFggPSAwO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGFuZ2xlLCBpbiBkZWdyZWVzLCBiZXR3ZWVuIHRoZSBwb2ludGVyIGRldmljZSBhbmQgdGhlIHNjcmVlbi5cbiAgICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Qb2ludGVyRXZlbnQvdGlsdFlcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMudGlsdFkgPSAwO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHR5cGUgb2YgcG9pbnRlciB0aGF0IHRyaWdnZXJlZCB0aGUgZXZlbnQuXG4gICAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvUG9pbnRlckV2ZW50L3BvaW50ZXJUeXBlXG4gICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgKi9cbiAgICB0aGlzLnBvaW50ZXJUeXBlID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIFByZXNzdXJlIGFwcGxpZWQgYnkgdGhlIHBvaW50aW5nIGRldmljZSBkdXJpbmcgdGhlIGV2ZW50LiBBIFRvdWNoJ3MgZm9yY2UgcHJvcGVydHlcbiAgICAgKiB3aWxsIGJlIHJlcHJlc2VudGVkIGJ5IHRoaXMgdmFsdWUuXG4gICAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvUG9pbnRlckV2ZW50L3ByZXNzdXJlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnByZXNzdXJlID0gMDtcblxuICAgIC8qKlxuICAgICAqIEZyb20gVG91Y2hFdmVudHMgKG5vdCBQb2ludGVyRXZlbnRzIHRyaWdnZXJlZCBieSB0b3VjaGVzKSwgdGhlIHJvdGF0aW9uQW5nbGUgb2YgdGhlIFRvdWNoLlxuICAgICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1RvdWNoL3JvdGF0aW9uQW5nbGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMucm90YXRpb25BbmdsZSA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBUd2lzdCBvZiBhIHN0eWx1cyBwb2ludGVyLlxuICAgICAqIEBzZWUgaHR0cHM6Ly93M2MuZ2l0aHViLmlvL3BvaW50ZXJldmVudHMvI3BvaW50ZXJldmVudC1pbnRlcmZhY2VcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMudHdpc3QgPSAwO1xuXG4gICAgLyoqXG4gICAgICogQmFycmVsIHByZXNzdXJlIG9uIGEgc3R5bHVzIHBvaW50ZXIuXG4gICAgICogQHNlZSBodHRwczovL3czYy5naXRodWIuaW8vcG9pbnRlcmV2ZW50cy8jcG9pbnRlcmV2ZW50LWludGVyZmFjZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy50YW5nZW50aWFsUHJlc3N1cmUgPSAwO1xufTtcblxudmFyIHByb3RvdHlwZUFjY2Vzc29ycyA9IHsgcG9pbnRlcklkOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH07XG5cbi8qKlxuICogVGhlIHVuaXF1ZSBpZGVudGlmaWVyIG9mIHRoZSBwb2ludGVyLiBJdCB3aWxsIGJlIHRoZSBzYW1lIGFzIGBpZGVudGlmaWVyYC5cbiAqIEByZWFkb25seVxuICogQG1lbWJlciB7bnVtYmVyfVxuICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvUG9pbnRlckV2ZW50L3BvaW50ZXJJZFxuICovXG5wcm90b3R5cGVBY2Nlc3NvcnMucG9pbnRlcklkLmdldCA9IGZ1bmN0aW9uICgpXG57XG4gICAgcmV0dXJuIHRoaXMuaWRlbnRpZmllcjtcbn07XG5cbi8qKlxuICogVGhpcyB3aWxsIHJldHVybiB0aGUgbG9jYWwgY29vcmRpbmF0ZXMgb2YgdGhlIHNwZWNpZmllZCBkaXNwbGF5T2JqZWN0IGZvciB0aGlzIEludGVyYWN0aW9uRGF0YVxuICpcbiAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBkaXNwbGF5T2JqZWN0IC0gVGhlIERpc3BsYXlPYmplY3QgdGhhdCB5b3Ugd291bGQgbGlrZSB0aGUgbG9jYWxcbiAqICBjb29yZHMgb2ZmXG4gKiBAcGFyYW0ge1BJWEkuUG9pbnR9IFtwb2ludF0gLSBBIFBvaW50IG9iamVjdCBpbiB3aGljaCB0byBzdG9yZSB0aGUgdmFsdWUsIG9wdGlvbmFsIChvdGhlcndpc2VcbiAqICB3aWxsIGNyZWF0ZSBhIG5ldyBwb2ludClcbiAqIEBwYXJhbSB7UElYSS5Qb2ludH0gW2dsb2JhbFBvc10gLSBBIFBvaW50IG9iamVjdCBjb250YWluaW5nIHlvdXIgY3VzdG9tIGdsb2JhbCBjb29yZHMsIG9wdGlvbmFsXG4gKiAgKG90aGVyd2lzZSB3aWxsIHVzZSB0aGUgY3VycmVudCBnbG9iYWwgY29vcmRzKVxuICogQHJldHVybiB7UElYSS5Qb2ludH0gQSBwb2ludCBjb250YWluaW5nIHRoZSBjb29yZGluYXRlcyBvZiB0aGUgSW50ZXJhY3Rpb25EYXRhIHBvc2l0aW9uIHJlbGF0aXZlXG4gKiAgdG8gdGhlIERpc3BsYXlPYmplY3RcbiAqL1xuSW50ZXJhY3Rpb25EYXRhLnByb3RvdHlwZS5nZXRMb2NhbFBvc2l0aW9uID0gZnVuY3Rpb24gZ2V0TG9jYWxQb3NpdGlvbiAoZGlzcGxheU9iamVjdCwgcG9pbnQsIGdsb2JhbFBvcylcbntcbiAgICByZXR1cm4gZGlzcGxheU9iamVjdC53b3JsZFRyYW5zZm9ybS5hcHBseUludmVyc2UoZ2xvYmFsUG9zIHx8IHRoaXMuZ2xvYmFsLCBwb2ludCk7XG59O1xuXG4vKipcbiAqIENvcGllcyBwcm9wZXJ0aWVzIGZyb20gbm9ybWFsaXplZCBldmVudCBkYXRhLlxuICpcbiAqIEBwYXJhbSB7VG91Y2h8TW91c2VFdmVudHxQb2ludGVyRXZlbnR9IGV2ZW50IFRoZSBub3JtYWxpemVkIGV2ZW50IGRhdGFcbiAqL1xuSW50ZXJhY3Rpb25EYXRhLnByb3RvdHlwZS5jb3B5RXZlbnQgPSBmdW5jdGlvbiBjb3B5RXZlbnQgKGV2ZW50KVxue1xuICAgIC8vIGlzUHJpbWFyeSBzaG91bGQgb25seSBjaGFuZ2Ugb24gdG91Y2hzdGFydC9wb2ludGVyZG93biwgc28gd2UgZG9uJ3Qgd2FudCB0byBvdmVyd3JpdGVcbiAgICAvLyBpdCB3aXRoIFwiZmFsc2VcIiBvbiBsYXRlciBldmVudHMgd2hlbiBvdXIgc2hpbSBmb3IgaXQgb24gdG91Y2ggZXZlbnRzIG1pZ2h0IG5vdCBiZVxuICAgIC8vIGFjY3VyYXRlXG4gICAgaWYgKGV2ZW50LmlzUHJpbWFyeSlcbiAgICB7XG4gICAgICAgIHRoaXMuaXNQcmltYXJ5ID0gdHJ1ZTtcbiAgICB9XG4gICAgdGhpcy5idXR0b24gPSBldmVudC5idXR0b247XG4gICAgLy8gZXZlbnQuYnV0dG9ucyBpcyBub3QgYXZhaWxhYmxlIGluIGFsbCBicm93c2VycyAoaWUuIFNhZmFyaSksIGJ1dCBpdCBkb2VzIGhhdmUgYSBub24tc3RhbmRhcmRcbiAgICAvLyBldmVudC53aGljaCBwcm9wZXJ0eSBpbnN0ZWFkLCB3aGljaCBjb252ZXlzIHRoZSBzYW1lIGluZm9ybWF0aW9uLlxuICAgIHRoaXMuYnV0dG9ucyA9IE51bWJlci5pc0ludGVnZXIoZXZlbnQuYnV0dG9ucykgPyBldmVudC5idXR0b25zIDogZXZlbnQud2hpY2g7XG4gICAgdGhpcy53aWR0aCA9IGV2ZW50LndpZHRoO1xuICAgIHRoaXMuaGVpZ2h0ID0gZXZlbnQuaGVpZ2h0O1xuICAgIHRoaXMudGlsdFggPSBldmVudC50aWx0WDtcbiAgICB0aGlzLnRpbHRZID0gZXZlbnQudGlsdFk7XG4gICAgdGhpcy5wb2ludGVyVHlwZSA9IGV2ZW50LnBvaW50ZXJUeXBlO1xuICAgIHRoaXMucHJlc3N1cmUgPSBldmVudC5wcmVzc3VyZTtcbiAgICB0aGlzLnJvdGF0aW9uQW5nbGUgPSBldmVudC5yb3RhdGlvbkFuZ2xlO1xuICAgIHRoaXMudHdpc3QgPSBldmVudC50d2lzdCB8fCAwO1xuICAgIHRoaXMudGFuZ2VudGlhbFByZXNzdXJlID0gZXZlbnQudGFuZ2VudGlhbFByZXNzdXJlIHx8IDA7XG59O1xuXG4vKipcbiAqIFJlc2V0cyB0aGUgZGF0YSBmb3IgcG9vbGluZy5cbiAqL1xuSW50ZXJhY3Rpb25EYXRhLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uIHJlc2V0ICgpXG57XG4gICAgLy8gaXNQcmltYXJ5IGlzIHRoZSBvbmx5IHByb3BlcnR5IHRoYXQgd2UgcmVhbGx5IG5lZWQgdG8gcmVzZXQgLSBldmVyeXRoaW5nIGVsc2UgaXNcbiAgICAvLyBndWFyYW50ZWVkIHRvIGJlIG92ZXJ3cml0dGVuXG4gICAgdGhpcy5pc1ByaW1hcnkgPSBmYWxzZTtcbn07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKCBJbnRlcmFjdGlvbkRhdGEucHJvdG90eXBlLCBwcm90b3R5cGVBY2Nlc3NvcnMgKTtcblxuLyoqXG4gKiBFdmVudCBjbGFzcyB0aGF0IG1pbWljcyBuYXRpdmUgRE9NIGV2ZW50cy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJLmludGVyYWN0aW9uXG4gKi9cbnZhciBJbnRlcmFjdGlvbkV2ZW50ID0gZnVuY3Rpb24gSW50ZXJhY3Rpb25FdmVudCgpXG57XG4gICAgLyoqXG4gICAgICogV2hldGhlciB0aGlzIGV2ZW50IHdpbGwgY29udGludWUgcHJvcGFnYXRpbmcgaW4gdGhlIHRyZWUuXG4gICAgICpcbiAgICAgKiBSZW1haW5pbmcgZXZlbnRzIGZvciB0aGUge0BsaW5rIHN0b3BzUHJvcGFnYXRpbmdBdH0gb2JqZWN0XG4gICAgICogd2lsbCBzdGlsbCBiZSBkaXNwYXRjaGVkLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICB0aGlzLnN0b3BwZWQgPSBmYWxzZTtcblxuICAgIC8qKlxuICAgICAqIEF0IHdoaWNoIG9iamVjdCB0aGlzIGV2ZW50IHN0b3BzIHByb3BhZ2F0aW5nLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbWVtYmVyIHtQSVhJLkRpc3BsYXlPYmplY3R9XG4gICAgICovXG4gICAgdGhpcy5zdG9wc1Byb3BhZ2F0aW5nQXQgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogV2hldGhlciB3ZSBhbHJlYWR5IHJlYWNoZWQgdGhlIGVsZW1lbnQgd2Ugd2FudCB0b1xuICAgICAqIHN0b3AgcHJvcGFnYXRpbmcgYXQuIFRoaXMgaXMgaW1wb3J0YW50IGZvciBkZWxheWVkIGV2ZW50cyxcbiAgICAgKiB3aGVyZSB3ZSBzdGFydCBvdmVyIGRlZXBlciBpbiB0aGUgdHJlZSBhZ2Fpbi5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICB0aGlzLnN0b3BQcm9wYWdhdGlvbkhpbnQgPSBmYWxzZTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBvYmplY3Qgd2hpY2ggY2F1c2VkIHRoaXMgZXZlbnQgdG8gYmUgZGlzcGF0Y2hlZC5cbiAgICAgKiBGb3IgbGlzdGVuZXIgY2FsbGJhY2sgc2VlIHtAbGluayBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnQuY3VycmVudFRhcmdldH0uXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLkRpc3BsYXlPYmplY3R9XG4gICAgICovXG4gICAgdGhpcy50YXJnZXQgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogVGhlIG9iamVjdCB3aG9zZSBldmVudCBsaXN0ZW5lcuKAmXMgY2FsbGJhY2sgaXMgY3VycmVudGx5IGJlaW5nIGludm9rZWQuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLkRpc3BsYXlPYmplY3R9XG4gICAgICovXG4gICAgdGhpcy5jdXJyZW50VGFyZ2V0ID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIFR5cGUgb2YgdGhlIGV2ZW50XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICovXG4gICAgdGhpcy50eXBlID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEludGVyYWN0aW9uRGF0YSByZWxhdGVkIHRvIHRoaXMgZXZlbnRcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25EYXRhfVxuICAgICAqL1xuICAgIHRoaXMuZGF0YSA9IG51bGw7XG59O1xuXG4vKipcbiAqIFByZXZlbnRzIGV2ZW50IGZyb20gcmVhY2hpbmcgYW55IG9iamVjdHMgb3RoZXIgdGhhbiB0aGUgY3VycmVudCBvYmplY3QuXG4gKlxuICovXG5JbnRlcmFjdGlvbkV2ZW50LnByb3RvdHlwZS5zdG9wUHJvcGFnYXRpb24gPSBmdW5jdGlvbiBzdG9wUHJvcGFnYXRpb24gKClcbntcbiAgICB0aGlzLnN0b3BwZWQgPSB0cnVlO1xuICAgIHRoaXMuc3RvcFByb3BhZ2F0aW9uSGludCA9IHRydWU7XG4gICAgdGhpcy5zdG9wc1Byb3BhZ2F0aW5nQXQgPSB0aGlzLmN1cnJlbnRUYXJnZXQ7XG59O1xuXG4vKipcbiAqIFJlc2V0cyB0aGUgZXZlbnQuXG4gKi9cbkludGVyYWN0aW9uRXZlbnQucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gcmVzZXQgKClcbntcbiAgICB0aGlzLnN0b3BwZWQgPSBmYWxzZTtcbiAgICB0aGlzLnN0b3BzUHJvcGFnYXRpbmdBdCA9IG51bGw7XG4gICAgdGhpcy5zdG9wUHJvcGFnYXRpb25IaW50ID0gZmFsc2U7XG4gICAgdGhpcy5jdXJyZW50VGFyZ2V0ID0gbnVsbDtcbiAgICB0aGlzLnRhcmdldCA9IG51bGw7XG59O1xuXG4vKipcbiAqIERpc3BsYXlPYmplY3RzIHdpdGggdGhlIHtAbGluayBQSVhJLmludGVyYWN0aW9uLmludGVyYWN0aXZlVGFyZ2V0fSBtaXhpbiB1c2UgdGhpcyBjbGFzcyB0byB0cmFjayBpbnRlcmFjdGlvbnNcbiAqXG4gKiBAY2xhc3NcbiAqIEBwcml2YXRlXG4gKiBAbWVtYmVyb2YgUElYSS5pbnRlcmFjdGlvblxuICovXG52YXIgSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEgPSBmdW5jdGlvbiBJbnRlcmFjdGlvblRyYWNraW5nRGF0YShwb2ludGVySWQpXG57XG4gICAgdGhpcy5fcG9pbnRlcklkID0gcG9pbnRlcklkO1xuICAgIHRoaXMuX2ZsYWdzID0gSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEuRkxBR1MuTk9ORTtcbn07XG5cbnZhciBwcm90b3R5cGVBY2Nlc3NvcnMkMSA9IHsgcG9pbnRlcklkOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LGZsYWdzOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LG5vbmU6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sb3ZlcjogeyBjb25maWd1cmFibGU6IHRydWUgfSxyaWdodERvd246IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sbGVmdERvd246IHsgY29uZmlndXJhYmxlOiB0cnVlIH0gfTtcblxuLyoqXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7bnVtYmVyfSBmbGFnIC0gVGhlIGludGVyYWN0aW9uIGZsYWcgdG8gc2V0XG4gKiBAcGFyYW0ge2Jvb2xlYW59IHluIC0gU2hvdWxkIHRoZSBmbGFnIGJlIHNldCBvciB1bnNldFxuICovXG5JbnRlcmFjdGlvblRyYWNraW5nRGF0YS5wcm90b3R5cGUuX2RvU2V0ID0gZnVuY3Rpb24gX2RvU2V0IChmbGFnLCB5bilcbntcbiAgICBpZiAoeW4pXG4gICAge1xuICAgICAgICB0aGlzLl9mbGFncyA9IHRoaXMuX2ZsYWdzIHwgZmxhZztcbiAgICB9XG4gICAgZWxzZVxuICAgIHtcbiAgICAgICAgdGhpcy5fZmxhZ3MgPSB0aGlzLl9mbGFncyAmICh+ZmxhZyk7XG4gICAgfVxufTtcblxuLyoqXG4gKiBVbmlxdWUgcG9pbnRlciBpZCBvZiB0aGUgZXZlbnRcbiAqXG4gKiBAcmVhZG9ubHlcbiAqIEBwcml2YXRlXG4gKiBAbWVtYmVyIHtudW1iZXJ9XG4gKi9cbnByb3RvdHlwZUFjY2Vzc29ycyQxLnBvaW50ZXJJZC5nZXQgPSBmdW5jdGlvbiAoKVxue1xuICAgIHJldHVybiB0aGlzLl9wb2ludGVySWQ7XG59O1xuXG4vKipcbiAqIFN0YXRlIG9mIHRoZSB0cmFja2luZyBkYXRhLCBleHByZXNzZWQgYXMgYml0IGZsYWdzXG4gKlxuICogQHByaXZhdGVcbiAqIEBtZW1iZXIge251bWJlcn1cbiAqL1xucHJvdG90eXBlQWNjZXNzb3JzJDEuZmxhZ3MuZ2V0ID0gZnVuY3Rpb24gKClcbntcbiAgICByZXR1cm4gdGhpcy5fZmxhZ3M7XG59O1xuXG5wcm90b3R5cGVBY2Nlc3NvcnMkMS5mbGFncy5zZXQgPSBmdW5jdGlvbiAoZmxhZ3MpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xue1xuICAgIHRoaXMuX2ZsYWdzID0gZmxhZ3M7XG59O1xuXG4vKipcbiAqIElzIHRoZSB0cmFja2VkIGV2ZW50IGluYWN0aXZlIChub3Qgb3ZlciBvciBkb3duKT9cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG1lbWJlciB7bnVtYmVyfVxuICovXG5wcm90b3R5cGVBY2Nlc3NvcnMkMS5ub25lLmdldCA9IGZ1bmN0aW9uICgpXG57XG4gICAgcmV0dXJuIHRoaXMuX2ZsYWdzID09PSB0aGlzLmNvbnN0cnVjdG9yLkZMQUdTLk5PTkU7XG59O1xuXG4vKipcbiAqIElzIHRoZSB0cmFja2VkIGV2ZW50IG92ZXIgdGhlIERpc3BsYXlPYmplY3Q/XG4gKlxuICogQHByaXZhdGVcbiAqIEBtZW1iZXIge2Jvb2xlYW59XG4gKi9cbnByb3RvdHlwZUFjY2Vzc29ycyQxLm92ZXIuZ2V0ID0gZnVuY3Rpb24gKClcbntcbiAgICByZXR1cm4gKHRoaXMuX2ZsYWdzICYgdGhpcy5jb25zdHJ1Y3Rvci5GTEFHUy5PVkVSKSAhPT0gMDtcbn07XG5cbnByb3RvdHlwZUFjY2Vzc29ycyQxLm92ZXIuc2V0ID0gZnVuY3Rpb24gKHluKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbntcbiAgICB0aGlzLl9kb1NldCh0aGlzLmNvbnN0cnVjdG9yLkZMQUdTLk9WRVIsIHluKTtcbn07XG5cbi8qKlxuICogRGlkIHRoZSByaWdodCBtb3VzZSBidXR0b24gY29tZSBkb3duIGluIHRoZSBEaXNwbGF5T2JqZWN0P1xuICpcbiAqIEBwcml2YXRlXG4gKiBAbWVtYmVyIHtib29sZWFufVxuICovXG5wcm90b3R5cGVBY2Nlc3NvcnMkMS5yaWdodERvd24uZ2V0ID0gZnVuY3Rpb24gKClcbntcbiAgICByZXR1cm4gKHRoaXMuX2ZsYWdzICYgdGhpcy5jb25zdHJ1Y3Rvci5GTEFHUy5SSUdIVF9ET1dOKSAhPT0gMDtcbn07XG5cbnByb3RvdHlwZUFjY2Vzc29ycyQxLnJpZ2h0RG93bi5zZXQgPSBmdW5jdGlvbiAoeW4pIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xue1xuICAgIHRoaXMuX2RvU2V0KHRoaXMuY29uc3RydWN0b3IuRkxBR1MuUklHSFRfRE9XTiwgeW4pO1xufTtcblxuLyoqXG4gKiBEaWQgdGhlIGxlZnQgbW91c2UgYnV0dG9uIGNvbWUgZG93biBpbiB0aGUgRGlzcGxheU9iamVjdD9cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG1lbWJlciB7Ym9vbGVhbn1cbiAqL1xucHJvdG90eXBlQWNjZXNzb3JzJDEubGVmdERvd24uZ2V0ID0gZnVuY3Rpb24gKClcbntcbiAgICByZXR1cm4gKHRoaXMuX2ZsYWdzICYgdGhpcy5jb25zdHJ1Y3Rvci5GTEFHUy5MRUZUX0RPV04pICE9PSAwO1xufTtcblxucHJvdG90eXBlQWNjZXNzb3JzJDEubGVmdERvd24uc2V0ID0gZnVuY3Rpb24gKHluKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbntcbiAgICB0aGlzLl9kb1NldCh0aGlzLmNvbnN0cnVjdG9yLkZMQUdTLkxFRlRfRE9XTiwgeW4pO1xufTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoIEludGVyYWN0aW9uVHJhY2tpbmdEYXRhLnByb3RvdHlwZSwgcHJvdG90eXBlQWNjZXNzb3JzJDEgKTtcblxuSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEuRkxBR1MgPSBPYmplY3QuZnJlZXplKHtcbiAgICBOT05FOiAwLFxuICAgIE9WRVI6IDEgPDwgMCxcbiAgICBMRUZUX0RPV046IDEgPDwgMSxcbiAgICBSSUdIVF9ET1dOOiAxIDw8IDIsXG59KTtcblxuLyoqXG4gKiBTdHJhdGVneSBob3cgdG8gc2VhcmNoIHRocm91Z2ggc3RhZ2UgdHJlZSBmb3IgaW50ZXJhY3RpdmUgb2JqZWN0c1xuICpcbiAqIEBwcml2YXRlXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJLmludGVyYWN0aW9uXG4gKi9cbnZhciBUcmVlU2VhcmNoID0gZnVuY3Rpb24gVHJlZVNlYXJjaCgpXG57XG4gICAgdGhpcy5fdGVtcFBvaW50ID0gbmV3IFBvaW50KCk7XG59O1xuXG4vKipcbiAqIFJlY3Vyc2l2ZSBpbXBsZW1lbnRhdGlvbiBmb3IgZmluZEhpdFxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gaW50ZXJhY3Rpb25FdmVudCAtIGV2ZW50IGNvbnRhaW5pbmcgdGhlIHBvaW50IHRoYXRcbiAqICBpcyB0ZXN0ZWQgZm9yIGNvbGxpc2lvblxuICogQHBhcmFtIHtQSVhJLkNvbnRhaW5lcnxQSVhJLlNwcml0ZXxQSVhJLlRpbGluZ1Nwcml0ZX0gZGlzcGxheU9iamVjdCAtIHRoZSBkaXNwbGF5T2JqZWN0XG4gKiAgdGhhdCB3aWxsIGJlIGhpdCB0ZXN0IChyZWN1cnNpdmVseSBjcmF3bHMgaXRzIGNoaWxkcmVuKVxuICogQHBhcmFtIHtGdW5jdGlvbn0gW2Z1bmNdIC0gdGhlIGZ1bmN0aW9uIHRoYXQgd2lsbCBiZSBjYWxsZWQgb24gZWFjaCBpbnRlcmFjdGl2ZSBvYmplY3QuIFRoZVxuICogIGludGVyYWN0aW9uRXZlbnQsIGRpc3BsYXlPYmplY3QgYW5kIGhpdCB3aWxsIGJlIHBhc3NlZCB0byB0aGUgZnVuY3Rpb25cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW2hpdFRlc3RdIC0gdGhpcyBpbmRpY2F0ZXMgaWYgdGhlIG9iamVjdHMgaW5zaWRlIHNob3VsZCBiZSBoaXQgdGVzdCBhZ2FpbnN0IHRoZSBwb2ludFxuICogQHBhcmFtIHtib29sZWFufSBbaW50ZXJhY3RpdmVdIC0gV2hldGhlciB0aGUgZGlzcGxheU9iamVjdCBpcyBpbnRlcmFjdGl2ZVxuICogQHJldHVybiB7Ym9vbGVhbn0gcmV0dXJucyB0cnVlIGlmIHRoZSBkaXNwbGF5T2JqZWN0IGhpdCB0aGUgcG9pbnRcbiAqL1xuVHJlZVNlYXJjaC5wcm90b3R5cGUucmVjdXJzaXZlRmluZEhpdCA9IGZ1bmN0aW9uIHJlY3Vyc2l2ZUZpbmRIaXQgKGludGVyYWN0aW9uRXZlbnQsIGRpc3BsYXlPYmplY3QsIGZ1bmMsIGhpdFRlc3QsIGludGVyYWN0aXZlKVxue1xuICAgIGlmICghZGlzcGxheU9iamVjdCB8fCAhZGlzcGxheU9iamVjdC52aXNpYmxlKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHZhciBwb2ludCA9IGludGVyYWN0aW9uRXZlbnQuZGF0YS5nbG9iYWw7XG5cbiAgICAvLyBUb29rIGEgbGl0dGxlIHdoaWxlIHRvIHJld29yayB0aGlzIGZ1bmN0aW9uIGNvcnJlY3RseSEgQnV0IG5vdyBpdCBpcyBkb25lIGFuZCBuaWNlIGFuZCBvcHRpbWl6ZWQhIF5fXlxuICAgIC8vXG4gICAgLy8gVGhpcyBmdW5jdGlvbiB3aWxsIG5vdyBsb29wIHRocm91Z2ggYWxsIG9iamVjdHMgYW5kIHRoZW4gb25seSBoaXQgdGVzdCB0aGUgb2JqZWN0cyBpdCBIQVNcbiAgICAvLyB0bywgbm90IGFsbCBvZiB0aGVtLiBNVUNIIGZhc3Rlci4uXG4gICAgLy8gQW4gb2JqZWN0IHdpbGwgYmUgaGl0IHRlc3QgaWYgdGhlIGZvbGxvd2luZyBpcyB0cnVlOlxuICAgIC8vXG4gICAgLy8gMTogSXQgaXMgaW50ZXJhY3RpdmUuXG4gICAgLy8gMjogSXQgYmVsb25ncyB0byBhIHBhcmVudCB0aGF0IGlzIGludGVyYWN0aXZlIEFORCBvbmUgb2YgdGhlIHBhcmVudHMgY2hpbGRyZW4gaGF2ZSBub3QgYWxyZWFkeSBiZWVuIGhpdC5cbiAgICAvL1xuICAgIC8vIEFzIGFub3RoZXIgbGl0dGxlIG9wdGltaXphdGlvbiBvbmNlIGFuIGludGVyYWN0aXZlIG9iamVjdCBoYXMgYmVlbiBoaXQgd2UgY2FuIGNhcnJ5IG9uXG4gICAgLy8gdGhyb3VnaCB0aGUgc2NlbmVncmFwaCwgYnV0IHdlIGtub3cgdGhhdCB0aGVyZSB3aWxsIGJlIG5vIG1vcmUgaGl0cyEgU28gd2UgY2FuIGF2b2lkIGV4dHJhIGhpdCB0ZXN0c1xuICAgIC8vIEEgZmluYWwgb3B0aW1pemF0aW9uIGlzIHRoYXQgYW4gb2JqZWN0IGlzIG5vdCBoaXQgdGVzdCBkaXJlY3RseSBpZiBhIGNoaWxkIGhhcyBhbHJlYWR5IGJlZW4gaGl0LlxuXG4gICAgaW50ZXJhY3RpdmUgPSBkaXNwbGF5T2JqZWN0LmludGVyYWN0aXZlIHx8IGludGVyYWN0aXZlO1xuXG4gICAgdmFyIGhpdCA9IGZhbHNlO1xuICAgIHZhciBpbnRlcmFjdGl2ZVBhcmVudCA9IGludGVyYWN0aXZlO1xuXG4gICAgLy8gRmxhZyBoZXJlIGNhbiBzZXQgdG8gZmFsc2UgaWYgdGhlIGV2ZW50IGlzIG91dHNpZGUgdGhlIHBhcmVudHMgaGl0QXJlYSBvciBtYXNrXG4gICAgdmFyIGhpdFRlc3RDaGlsZHJlbiA9IHRydWU7XG5cbiAgICAvLyBJZiB0aGVyZSBpcyBhIGhpdEFyZWEsIG5vIG5lZWQgdG8gdGVzdCBhZ2FpbnN0IGFueXRoaW5nIGVsc2UgaWYgdGhlIHBvaW50ZXIgaXMgbm90IHdpdGhpbiB0aGUgaGl0QXJlYVxuICAgIC8vIFRoZXJlIGlzIGFsc28gbm8gbG9uZ2VyIGEgbmVlZCB0byBoaXRUZXN0IGNoaWxkcmVuLlxuICAgIGlmIChkaXNwbGF5T2JqZWN0LmhpdEFyZWEpXG4gICAge1xuICAgICAgICBpZiAoaGl0VGVzdClcbiAgICAgICAge1xuICAgICAgICAgICAgZGlzcGxheU9iamVjdC53b3JsZFRyYW5zZm9ybS5hcHBseUludmVyc2UocG9pbnQsIHRoaXMuX3RlbXBQb2ludCk7XG4gICAgICAgICAgICBpZiAoIWRpc3BsYXlPYmplY3QuaGl0QXJlYS5jb250YWlucyh0aGlzLl90ZW1wUG9pbnQueCwgdGhpcy5fdGVtcFBvaW50LnkpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGhpdFRlc3QgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBoaXRUZXN0Q2hpbGRyZW4gPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBoaXQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGludGVyYWN0aXZlUGFyZW50ID0gZmFsc2U7XG4gICAgfVxuICAgIC8vIElmIHRoZXJlIGlzIGEgbWFzaywgbm8gbmVlZCB0byBoaXRUZXN0IGFnYWluc3QgYW55dGhpbmcgZWxzZSBpZiB0aGUgcG9pbnRlciBpcyBub3Qgd2l0aGluIHRoZSBtYXNrLlxuICAgIC8vIFdlIHN0aWxsIHdhbnQgdG8gaGl0VGVzdENoaWxkcmVuLCBob3dldmVyLCB0byBlbnN1cmUgYSBtb3VzZW91dCBjYW4gc3RpbGwgYmUgZ2VuZXJhdGVkLlxuICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9waXhpanMvcGl4aS5qcy9pc3N1ZXMvNTEzNVxuICAgIGVsc2UgaWYgKGRpc3BsYXlPYmplY3QuX21hc2spXG4gICAge1xuICAgICAgICBpZiAoaGl0VGVzdClcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKCEoZGlzcGxheU9iamVjdC5fbWFzay5jb250YWluc1BvaW50ICYmIGRpc3BsYXlPYmplY3QuX21hc2suY29udGFpbnNQb2ludChwb2ludCkpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGhpdFRlc3QgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vICoqIEZSRUUgVElQICoqISBJZiBhbiBvYmplY3QgaXMgbm90IGludGVyYWN0aXZlIG9yIGhhcyBubyBidXR0b25zIGluIGl0XG4gICAgLy8gKHN1Y2ggYXMgYSBnYW1lIHNjZW5lISkgc2V0IGludGVyYWN0aXZlQ2hpbGRyZW4gdG8gZmFsc2UgZm9yIHRoYXQgZGlzcGxheU9iamVjdC5cbiAgICAvLyBUaGlzIHdpbGwgYWxsb3cgUGl4aUpTIHRvIGNvbXBsZXRlbHkgaWdub3JlIGFuZCBieXBhc3MgY2hlY2tpbmcgdGhlIGRpc3BsYXlPYmplY3RzIGNoaWxkcmVuLlxuICAgIGlmIChoaXRUZXN0Q2hpbGRyZW4gJiYgZGlzcGxheU9iamVjdC5pbnRlcmFjdGl2ZUNoaWxkcmVuICYmIGRpc3BsYXlPYmplY3QuY2hpbGRyZW4pXG4gICAge1xuICAgICAgICB2YXIgY2hpbGRyZW4gPSBkaXNwbGF5T2JqZWN0LmNoaWxkcmVuO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSBjaGlsZHJlbi5sZW5ndGggLSAxOyBpID49IDA7IGktLSlcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIGNoaWxkID0gY2hpbGRyZW5baV07XG5cbiAgICAgICAgICAgIC8vIHRpbWUgdG8gZ2V0IHJlY3Vyc2l2ZS4uIGlmIHRoaXMgZnVuY3Rpb24gd2lsbCByZXR1cm4gaWYgc29tZXRoaW5nIGlzIGhpdC4uXG4gICAgICAgICAgICB2YXIgY2hpbGRIaXQgPSB0aGlzLnJlY3Vyc2l2ZUZpbmRIaXQoaW50ZXJhY3Rpb25FdmVudCwgY2hpbGQsIGZ1bmMsIGhpdFRlc3QsIGludGVyYWN0aXZlUGFyZW50KTtcblxuICAgICAgICAgICAgaWYgKGNoaWxkSGl0KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIC8vIGl0cyBhIGdvb2QgaWRlYSB0byBjaGVjayBpZiBhIGNoaWxkIGhhcyBsb3N0IGl0cyBwYXJlbnQuXG4gICAgICAgICAgICAgICAgLy8gdGhpcyBtZWFucyBpdCBoYXMgYmVlbiByZW1vdmVkIHdoaWxzdCBsb29waW5nIHNvIGl0cyBiZXN0XG4gICAgICAgICAgICAgICAgaWYgKCFjaGlsZC5wYXJlbnQpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyB3ZSBubyBsb25nZXIgbmVlZCB0byBoaXQgdGVzdCBhbnkgbW9yZSBvYmplY3RzIGluIHRoaXMgY29udGFpbmVyIGFzIHdlIHdlXG4gICAgICAgICAgICAgICAgLy8gbm93IGtub3cgdGhlIHBhcmVudCBoYXMgYmVlbiBoaXRcbiAgICAgICAgICAgICAgICBpbnRlcmFjdGl2ZVBhcmVudCA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgLy8gSWYgdGhlIGNoaWxkIGlzIGludGVyYWN0aXZlICwgdGhhdCBtZWFucyB0aGF0IHRoZSBvYmplY3QgaGl0IHdhcyBhY3R1YWxseVxuICAgICAgICAgICAgICAgIC8vIGludGVyYWN0aXZlIGFuZCBub3QganVzdCB0aGUgY2hpbGQgb2YgYW4gaW50ZXJhY3RpdmUgb2JqZWN0LlxuICAgICAgICAgICAgICAgIC8vIFRoaXMgbWVhbnMgd2Ugbm8gbG9uZ2VyIG5lZWQgdG8gaGl0IHRlc3QgYW55dGhpbmcgZWxzZS4gV2Ugc3RpbGwgbmVlZCB0byBydW5cbiAgICAgICAgICAgICAgICAvLyB0aHJvdWdoIGFsbCBvYmplY3RzLCBidXQgd2UgZG9uJ3QgbmVlZCB0byBwZXJmb3JtIGFueSBoaXQgdGVzdHMuXG5cbiAgICAgICAgICAgICAgICBpZiAoY2hpbGRIaXQpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaW50ZXJhY3Rpb25FdmVudC50YXJnZXQpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhpdFRlc3QgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBoaXQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIG5vIHBvaW50IHJ1bm5pbmcgdGhpcyBpZiB0aGUgaXRlbSBpcyBub3QgaW50ZXJhY3RpdmUgb3IgZG9lcyBub3QgaGF2ZSBhbiBpbnRlcmFjdGl2ZSBwYXJlbnQuXG4gICAgaWYgKGludGVyYWN0aXZlKVxuICAgIHtcbiAgICAgICAgLy8gaWYgd2UgYXJlIGhpdCB0ZXN0aW5nIChhcyBpbiB3ZSBoYXZlIG5vIGhpdCBhbnkgb2JqZWN0cyB5ZXQpXG4gICAgICAgIC8vIFdlIGFsc28gZG9uJ3QgbmVlZCB0byB3b3JyeSBhYm91dCBoaXQgdGVzdGluZyBpZiBvbmNlIG9mIHRoZSBkaXNwbGF5T2JqZWN0cyBjaGlsZHJlblxuICAgICAgICAvLyBoYXMgYWxyZWFkeSBiZWVuIGhpdCAtIGJ1dCBvbmx5IGlmIGl0IHdhcyBpbnRlcmFjdGl2ZSwgb3RoZXJ3aXNlIHdlIG5lZWQgdG8ga2VlcFxuICAgICAgICAvLyBsb29raW5nIGZvciBhbiBpbnRlcmFjdGl2ZSBjaGlsZCwganVzdCBpbiBjYXNlIHdlIGhpdCBvbmVcbiAgICAgICAgaWYgKGhpdFRlc3QgJiYgIWludGVyYWN0aW9uRXZlbnQudGFyZ2V0KVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBhbHJlYWR5IHRlc3RlZCBhZ2FpbnN0IGhpdEFyZWEgaWYgaXQgaXMgZGVmaW5lZFxuICAgICAgICAgICAgaWYgKCFkaXNwbGF5T2JqZWN0LmhpdEFyZWEgJiYgZGlzcGxheU9iamVjdC5jb250YWluc1BvaW50KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmIChkaXNwbGF5T2JqZWN0LmNvbnRhaW5zUG9pbnQocG9pbnQpKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaGl0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZGlzcGxheU9iamVjdC5pbnRlcmFjdGl2ZSlcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKGhpdCAmJiAhaW50ZXJhY3Rpb25FdmVudC50YXJnZXQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaW50ZXJhY3Rpb25FdmVudC50YXJnZXQgPSBkaXNwbGF5T2JqZWN0O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoZnVuYylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBmdW5jKGludGVyYWN0aW9uRXZlbnQsIGRpc3BsYXlPYmplY3QsICEhaGl0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBoaXQ7XG59O1xuXG4vKipcbiAqIFRoaXMgZnVuY3Rpb24gaXMgcHJvdmlkZXMgYSBuZWF0IHdheSBvZiBjcmF3bGluZyB0aHJvdWdoIHRoZSBzY2VuZSBncmFwaCBhbmQgcnVubmluZyBhXG4gKiBzcGVjaWZpZWQgZnVuY3Rpb24gb24gYWxsIGludGVyYWN0aXZlIG9iamVjdHMgaXQgZmluZHMuIEl0IHdpbGwgYWxzbyB0YWtlIGNhcmUgb2YgaGl0XG4gKiB0ZXN0aW5nIHRoZSBpbnRlcmFjdGl2ZSBvYmplY3RzIGFuZCBwYXNzZXMgdGhlIGhpdCBhY3Jvc3MgaW4gdGhlIGZ1bmN0aW9uLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gaW50ZXJhY3Rpb25FdmVudCAtIGV2ZW50IGNvbnRhaW5pbmcgdGhlIHBvaW50IHRoYXRcbiAqICBpcyB0ZXN0ZWQgZm9yIGNvbGxpc2lvblxuICogQHBhcmFtIHtQSVhJLkNvbnRhaW5lcnxQSVhJLlNwcml0ZXxQSVhJLlRpbGluZ1Nwcml0ZX0gZGlzcGxheU9iamVjdCAtIHRoZSBkaXNwbGF5T2JqZWN0XG4gKiAgdGhhdCB3aWxsIGJlIGhpdCB0ZXN0IChyZWN1cnNpdmVseSBjcmF3bHMgaXRzIGNoaWxkcmVuKVxuICogQHBhcmFtIHtGdW5jdGlvbn0gW2Z1bmNdIC0gdGhlIGZ1bmN0aW9uIHRoYXQgd2lsbCBiZSBjYWxsZWQgb24gZWFjaCBpbnRlcmFjdGl2ZSBvYmplY3QuIFRoZVxuICogIGludGVyYWN0aW9uRXZlbnQsIGRpc3BsYXlPYmplY3QgYW5kIGhpdCB3aWxsIGJlIHBhc3NlZCB0byB0aGUgZnVuY3Rpb25cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW2hpdFRlc3RdIC0gdGhpcyBpbmRpY2F0ZXMgaWYgdGhlIG9iamVjdHMgaW5zaWRlIHNob3VsZCBiZSBoaXQgdGVzdCBhZ2FpbnN0IHRoZSBwb2ludFxuICogQHJldHVybiB7Ym9vbGVhbn0gcmV0dXJucyB0cnVlIGlmIHRoZSBkaXNwbGF5T2JqZWN0IGhpdCB0aGUgcG9pbnRcbiAqL1xuVHJlZVNlYXJjaC5wcm90b3R5cGUuZmluZEhpdCA9IGZ1bmN0aW9uIGZpbmRIaXQgKGludGVyYWN0aW9uRXZlbnQsIGRpc3BsYXlPYmplY3QsIGZ1bmMsIGhpdFRlc3QpXG57XG4gICAgdGhpcy5yZWN1cnNpdmVGaW5kSGl0KGludGVyYWN0aW9uRXZlbnQsIGRpc3BsYXlPYmplY3QsIGZ1bmMsIGhpdFRlc3QsIGZhbHNlKTtcbn07XG5cbi8qKlxuICogSW50ZXJmYWNlIGZvciBjbGFzc2VzIHRoYXQgcmVwcmVzZW50IGEgaGl0IGFyZWEuXG4gKlxuICogSXQgaXMgaW1wbGVtZW50ZWQgYnkgdGhlIGZvbGxvd2luZyBjbGFzc2VzOlxuICogLSB7QGxpbmsgUElYSS5DaXJjbGV9XG4gKiAtIHtAbGluayBQSVhJLkVsbGlwc2V9XG4gKiAtIHtAbGluayBQSVhJLlBvbHlnb259XG4gKiAtIHtAbGluayBQSVhJLlJvdW5kZWRSZWN0YW5nbGV9XG4gKlxuICogQGludGVyZmFjZSBJSGl0QXJlYVxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xuXG4vKipcbiAqIENoZWNrcyB3aGV0aGVyIHRoZSB4IGFuZCB5IGNvb3JkaW5hdGVzIGdpdmVuIGFyZSBjb250YWluZWQgd2l0aGluIHRoaXMgYXJlYVxuICpcbiAqIEBtZXRob2RcbiAqIEBuYW1lIGNvbnRhaW5zXG4gKiBAbWVtYmVyb2YgUElYSS5JSGl0QXJlYSNcbiAqIEBwYXJhbSB7bnVtYmVyfSB4IC0gVGhlIFggY29vcmRpbmF0ZSBvZiB0aGUgcG9pbnQgdG8gdGVzdFxuICogQHBhcmFtIHtudW1iZXJ9IHkgLSBUaGUgWSBjb29yZGluYXRlIG9mIHRoZSBwb2ludCB0byB0ZXN0XG4gKiBAcmV0dXJuIHtib29sZWFufSBXaGV0aGVyIHRoZSB4L3kgY29vcmRpbmF0ZXMgYXJlIHdpdGhpbiB0aGlzIGFyZWFcbiAqL1xuXG4vKipcbiAqIERlZmF1bHQgcHJvcGVydHkgdmFsdWVzIG9mIGludGVyYWN0aXZlIG9iamVjdHNcbiAqIFVzZWQgYnkge0BsaW5rIFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyfSB0byBhdXRvbWF0aWNhbGx5IGdpdmUgYWxsIERpc3BsYXlPYmplY3RzIHRoZXNlIHByb3BlcnRpZXNcbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgaW50ZXJhY3RpdmVUYXJnZXRcbiAqIEB0eXBlIHtPYmplY3R9XG4gKiBAbWVtYmVyb2YgUElYSS5pbnRlcmFjdGlvblxuICogQGV4YW1wbGVcbiAqICAgICAgZnVuY3Rpb24gTXlPYmplY3QoKSB7fVxuICpcbiAqICAgICAgT2JqZWN0LmFzc2lnbihcbiAqICAgICAgICAgIERpc3BsYXlPYmplY3QucHJvdG90eXBlLFxuICogICAgICAgICAgUElYSS5pbnRlcmFjdGlvbi5pbnRlcmFjdGl2ZVRhcmdldFxuICogICAgICApO1xuICovXG52YXIgaW50ZXJhY3RpdmVUYXJnZXQgPSB7XG5cbiAgICAvKipcbiAgICAgKiBFbmFibGUgaW50ZXJhY3Rpb24gZXZlbnRzIGZvciB0aGUgRGlzcGxheU9iamVjdC4gVG91Y2gsIHBvaW50ZXIgYW5kIG1vdXNlXG4gICAgICogZXZlbnRzIHdpbGwgbm90IGJlIGVtaXR0ZWQgdW5sZXNzIGBpbnRlcmFjdGl2ZWAgaXMgc2V0IHRvIGB0cnVlYC5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogY29uc3Qgc3ByaXRlID0gbmV3IFBJWEkuU3ByaXRlKHRleHR1cmUpO1xuICAgICAqIHNwcml0ZS5pbnRlcmFjdGl2ZSA9IHRydWU7XG4gICAgICogc3ByaXRlLm9uKCd0YXAnLCAoZXZlbnQpID0+IHtcbiAgICAgKiAgICAvL2hhbmRsZSBldmVudFxuICAgICAqIH0pO1xuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAgICAgKi9cbiAgICBpbnRlcmFjdGl2ZTogZmFsc2UsXG5cbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmVzIGlmIHRoZSBjaGlsZHJlbiB0byB0aGUgZGlzcGxheU9iamVjdCBjYW4gYmUgY2xpY2tlZC90b3VjaGVkXG4gICAgICogU2V0dGluZyB0aGlzIHRvIGZhbHNlIGFsbG93cyBQaXhpSlMgdG8gYnlwYXNzIGEgcmVjdXJzaXZlIGBoaXRUZXN0YCBmdW5jdGlvblxuICAgICAqXG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKiBAbWVtYmVyb2YgUElYSS5Db250YWluZXIjXG4gICAgICovXG4gICAgaW50ZXJhY3RpdmVDaGlsZHJlbjogdHJ1ZSxcblxuICAgIC8qKlxuICAgICAqIEludGVyYWN0aW9uIHNoYXBlLiBDaGlsZHJlbiB3aWxsIGJlIGhpdCBmaXJzdCwgdGhlbiB0aGlzIHNoYXBlIHdpbGwgYmUgY2hlY2tlZC5cbiAgICAgKiBTZXR0aW5nIHRoaXMgd2lsbCBjYXVzZSB0aGlzIHNoYXBlIHRvIGJlIGNoZWNrZWQgaW4gaGl0IHRlc3RzIHJhdGhlciB0aGFuIHRoZSBkaXNwbGF5T2JqZWN0J3MgYm91bmRzLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBzcHJpdGUgPSBuZXcgUElYSS5TcHJpdGUodGV4dHVyZSk7XG4gICAgICogc3ByaXRlLmludGVyYWN0aXZlID0gdHJ1ZTtcbiAgICAgKiBzcHJpdGUuaGl0QXJlYSA9IG5ldyBQSVhJLlJlY3RhbmdsZSgwLCAwLCAxMDAsIDEwMCk7XG4gICAgICogQG1lbWJlciB7UElYSS5JSGl0QXJlYX1cbiAgICAgKiBAbWVtYmVyb2YgUElYSS5EaXNwbGF5T2JqZWN0I1xuICAgICAqL1xuICAgIGhpdEFyZWE6IG51bGwsXG5cbiAgICAvKipcbiAgICAgKiBJZiBlbmFibGVkLCB0aGUgbW91c2UgY3Vyc29yIHVzZSB0aGUgcG9pbnRlciBiZWhhdmlvciB3aGVuIGhvdmVyZWQgb3ZlciB0aGUgZGlzcGxheU9iamVjdCBpZiBpdCBpcyBpbnRlcmFjdGl2ZVxuICAgICAqIFNldHRpbmcgdGhpcyBjaGFuZ2VzIHRoZSAnY3Vyc29yJyBwcm9wZXJ0eSB0byBgJ3BvaW50ZXInYC5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogY29uc3Qgc3ByaXRlID0gbmV3IFBJWEkuU3ByaXRlKHRleHR1cmUpO1xuICAgICAqIHNwcml0ZS5pbnRlcmFjdGl2ZSA9IHRydWU7XG4gICAgICogc3ByaXRlLmJ1dHRvbk1vZGUgPSB0cnVlO1xuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAgICAgKi9cbiAgICBnZXQgYnV0dG9uTW9kZSgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5jdXJzb3IgPT09ICdwb2ludGVyJztcbiAgICB9LFxuICAgIHNldCBidXR0b25Nb2RlKHZhbHVlKVxuICAgIHtcbiAgICAgICAgaWYgKHZhbHVlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmN1cnNvciA9ICdwb2ludGVyJztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLmN1cnNvciA9PT0gJ3BvaW50ZXInKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmN1cnNvciA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogVGhpcyBkZWZpbmVzIHdoYXQgY3Vyc29yIG1vZGUgaXMgdXNlZCB3aGVuIHRoZSBtb3VzZSBjdXJzb3JcbiAgICAgKiBpcyBob3ZlcmVkIG92ZXIgdGhlIGRpc3BsYXlPYmplY3QuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGNvbnN0IHNwcml0ZSA9IG5ldyBQSVhJLlNwcml0ZSh0ZXh0dXJlKTtcbiAgICAgKiBzcHJpdGUuaW50ZXJhY3RpdmUgPSB0cnVlO1xuICAgICAqIHNwcml0ZS5jdXJzb3IgPSAnd2FpdCc7XG4gICAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9DU1MvY3Vyc29yXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAgICAgKi9cbiAgICBjdXJzb3I6IG51bGwsXG5cbiAgICAvKipcbiAgICAgKiBJbnRlcm5hbCBzZXQgb2YgYWxsIGFjdGl2ZSBwb2ludGVycywgYnkgaWRlbnRpZmllclxuICAgICAqXG4gICAgICogQG1lbWJlciB7TWFwPG51bWJlciwgSW50ZXJhY3Rpb25UcmFja2luZ0RhdGE+fVxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkRpc3BsYXlPYmplY3QjXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBnZXQgdHJhY2tlZFBvaW50ZXJzKClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLl90cmFja2VkUG9pbnRlcnMgPT09IHVuZGVmaW5lZCkgeyB0aGlzLl90cmFja2VkUG9pbnRlcnMgPSB7fTsgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLl90cmFja2VkUG9pbnRlcnM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIE1hcCBvZiBhbGwgdHJhY2tlZCBwb2ludGVycywgYnkgaWRlbnRpZmllci4gVXNlIHRyYWNrZWRQb2ludGVycyB0byBhY2Nlc3MuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtNYXA8bnVtYmVyLCBJbnRlcmFjdGlvblRyYWNraW5nRGF0YT59XG4gICAgICovXG4gICAgX3RyYWNrZWRQb2ludGVyczogdW5kZWZpbmVkLFxufTtcblxuLy8gTWl4IGludGVyYWN0aXZlVGFyZ2V0IGludG8gRGlzcGxheU9iamVjdC5wcm90b3R5cGUsXG4vLyBhZnRlciBkZXByZWNhdGlvbiBoYXMgYmVlbiBoYW5kbGVkXG5EaXNwbGF5T2JqZWN0Lm1peGluKGludGVyYWN0aXZlVGFyZ2V0KTtcblxudmFyIE1PVVNFX1BPSU5URVJfSUQgPSAxO1xuXG4vLyBoZWxwZXJzIGZvciBoaXRUZXN0KCkgLSBvbmx5IHVzZWQgaW5zaWRlIGhpdFRlc3QoKVxudmFyIGhpdFRlc3RFdmVudCA9IHtcbiAgICB0YXJnZXQ6IG51bGwsXG4gICAgZGF0YToge1xuICAgICAgICBnbG9iYWw6IG51bGwsXG4gICAgfSxcbn07XG5cbi8qKlxuICogVGhlIGludGVyYWN0aW9uIG1hbmFnZXIgZGVhbHMgd2l0aCBtb3VzZSwgdG91Y2ggYW5kIHBvaW50ZXIgZXZlbnRzLlxuICpcbiAqIEFueSBEaXNwbGF5T2JqZWN0IGNhbiBiZSBpbnRlcmFjdGl2ZSBpZiBpdHMgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBpcyBzZXQgdG8gdHJ1ZS5cbiAqXG4gKiBUaGlzIG1hbmFnZXIgYWxzbyBzdXBwb3J0cyBtdWx0aXRvdWNoLlxuICpcbiAqIEFuIGluc3RhbmNlIG9mIHRoaXMgY2xhc3MgaXMgYXV0b21hdGljYWxseSBjcmVhdGVkIGJ5IGRlZmF1bHQsIGFuZCBjYW4gYmUgZm91bmQgYXQgYHJlbmRlcmVyLnBsdWdpbnMuaW50ZXJhY3Rpb25gXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLnV0aWxzLkV2ZW50RW1pdHRlclxuICogQG1lbWJlcm9mIFBJWEkuaW50ZXJhY3Rpb25cbiAqL1xudmFyIEludGVyYWN0aW9uTWFuYWdlciA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKEV2ZW50RW1pdHRlcikge1xuICAgIGZ1bmN0aW9uIEludGVyYWN0aW9uTWFuYWdlcihyZW5kZXJlciwgb3B0aW9ucylcbiAgICB7XG4gICAgICAgIEV2ZW50RW1pdHRlci5jYWxsKHRoaXMpO1xuXG4gICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcmVuZGVyZXIgdGhpcyBpbnRlcmFjdGlvbiBtYW5hZ2VyIHdvcmtzIGZvci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5BYnN0cmFjdFJlbmRlcmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IHJlbmRlcmVyO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTaG91bGQgZGVmYXVsdCBicm93c2VyIGFjdGlvbnMgYXV0b21hdGljYWxseSBiZSBwcmV2ZW50ZWQuXG4gICAgICAgICAqIERvZXMgbm90IGFwcGx5IHRvIHBvaW50ZXIgZXZlbnRzIGZvciBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eVxuICAgICAgICAgKiBwcmV2ZW50RGVmYXVsdCBvbiBwb2ludGVyIGV2ZW50cyBzdG9wcyBtb3VzZSBldmVudHMgZnJvbSBmaXJpbmdcbiAgICAgICAgICogVGh1cywgZm9yIGV2ZXJ5IHBvaW50ZXIgZXZlbnQsIHRoZXJlIHdpbGwgYWx3YXlzIGJlIGVpdGhlciBhIG1vdXNlIG9mIHRvdWNoIGV2ZW50IGFsb25nc2lkZSBpdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgdHJ1ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5hdXRvUHJldmVudERlZmF1bHQgPSBvcHRpb25zLmF1dG9QcmV2ZW50RGVmYXVsdCAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5hdXRvUHJldmVudERlZmF1bHQgOiB0cnVlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGcmVxdWVuY3kgaW4gbWlsbGlzZWNvbmRzIHRoYXQgdGhlIG1vdXNlbW92ZSwgbW91c2VvdmVyICYgbW91c2VvdXQgaW50ZXJhY3Rpb24gZXZlbnRzIHdpbGwgYmUgY2hlY2tlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAxMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkZyZXF1ZW5jeSA9IG9wdGlvbnMuaW50ZXJhY3Rpb25GcmVxdWVuY3kgfHwgMTA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBtb3VzZSBkYXRhXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25EYXRhfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5tb3VzZSA9IG5ldyBJbnRlcmFjdGlvbkRhdGEoKTtcbiAgICAgICAgdGhpcy5tb3VzZS5pZGVudGlmaWVyID0gTU9VU0VfUE9JTlRFUl9JRDtcblxuICAgICAgICAvLyBzZXR0aW5nIHRoZSBtb3VzZSB0byBzdGFydCBvZmYgZmFyIG9mZiBzY3JlZW4gd2lsbCBtZWFuIHRoYXQgbW91c2Ugb3ZlciBkb2VzXG4gICAgICAgIC8vICBub3QgZ2V0IGNhbGxlZCBiZWZvcmUgd2UgZXZlbiBtb3ZlIHRoZSBtb3VzZS5cbiAgICAgICAgdGhpcy5tb3VzZS5nbG9iYWwuc2V0KC05OTk5OTkpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBY3RpdmVseSB0cmFja2VkIEludGVyYWN0aW9uRGF0YVxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtPYmplY3QuPG51bWJlcixQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRGF0YT59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmFjdGl2ZUludGVyYWN0aW9uRGF0YSA9IHt9O1xuICAgICAgICB0aGlzLmFjdGl2ZUludGVyYWN0aW9uRGF0YVtNT1VTRV9QT0lOVEVSX0lEXSA9IHRoaXMubW91c2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFBvb2wgb2YgdW51c2VkIEludGVyYWN0aW9uRGF0YVxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRGF0YVtdfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRhdGFQb29sID0gW107XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFuIGV2ZW50IGRhdGEgb2JqZWN0IHRvIGhhbmRsZSBhbGwgdGhlIGV2ZW50IHRyYWNraW5nL2Rpc3BhdGNoaW5nXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge29iamVjdH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZXZlbnREYXRhID0gbmV3IEludGVyYWN0aW9uRXZlbnQoKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIERPTSBlbGVtZW50IHRvIGJpbmQgdG8uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQG1lbWJlciB7SFRNTEVsZW1lbnR9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudCA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoaXMgcHJvcGVydHkgZGV0ZXJtaW5lcyBpZiBtb3VzZW1vdmUgYW5kIHRvdWNobW92ZSBldmVudHMgYXJlIGZpcmVkIG9ubHkgd2hlbiB0aGUgY3Vyc29yXG4gICAgICAgICAqIGlzIG92ZXIgdGhlIG9iamVjdC5cbiAgICAgICAgICogU2V0dGluZyB0byB0cnVlIHdpbGwgbWFrZSB0aGluZ3Mgd29yayBtb3JlIGluIGxpbmUgd2l0aCBob3cgdGhlIERPTSB2ZXJzaW9uIHdvcmtzLlxuICAgICAgICAgKiBTZXR0aW5nIHRvIGZhbHNlIGNhbiBtYWtlIHRoaW5ncyBlYXNpZXIgZm9yIHRoaW5ncyBsaWtlIGRyYWdnaW5nXG4gICAgICAgICAqIEl0IGlzIGN1cnJlbnRseSBzZXQgdG8gZmFsc2UgYXMgdGhpcyBpcyBob3cgUGl4aUpTIHVzZWQgdG8gd29yay4gVGhpcyB3aWxsIGJlIHNldCB0byB0cnVlIGluXG4gICAgICAgICAqIGZ1dHVyZSB2ZXJzaW9ucyBvZiBwaXhpLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5tb3ZlV2hlbkluc2lkZSA9IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBIYXZlIGV2ZW50cyBiZWVuIGF0dGFjaGVkIHRvIHRoZSBkb20gZWxlbWVudD9cbiAgICAgICAgICpcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5ldmVudHNBZGRlZCA9IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJcyB0aGUgbW91c2UgaG92ZXJpbmcgb3ZlciB0aGUgcmVuZGVyZXI/XG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubW91c2VPdmVyUmVuZGVyZXIgPSBmYWxzZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRG9lcyB0aGUgZGV2aWNlIHN1cHBvcnQgdG91Y2ggZXZlbnRzXG4gICAgICAgICAqIGh0dHBzOi8vd3d3LnczLm9yZy9UUi90b3VjaC1ldmVudHMvXG4gICAgICAgICAqXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zdXBwb3J0c1RvdWNoRXZlbnRzID0gJ29udG91Y2hzdGFydCcgaW4gd2luZG93O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEb2VzIHRoZSBkZXZpY2Ugc3VwcG9ydCBwb2ludGVyIGV2ZW50c1xuICAgICAgICAgKiBodHRwczovL3d3dy53My5vcmcvU3VibWlzc2lvbi9wb2ludGVyLWV2ZW50cy9cbiAgICAgICAgICpcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnN1cHBvcnRzUG9pbnRlckV2ZW50cyA9ICEhd2luZG93LlBvaW50ZXJFdmVudDtcblxuICAgICAgICAvLyB0aGlzIHdpbGwgbWFrZSBpdCBzbyB0aGF0IHlvdSBkb24ndCBoYXZlIHRvIGNhbGwgYmluZCBhbGwgdGhlIHRpbWVcblxuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7RnVuY3Rpb259XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm9uUG9pbnRlclVwID0gdGhpcy5vblBvaW50ZXJVcC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnByb2Nlc3NQb2ludGVyVXAgPSB0aGlzLnByb2Nlc3NQb2ludGVyVXAuYmluZCh0aGlzKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7RnVuY3Rpb259XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm9uUG9pbnRlckNhbmNlbCA9IHRoaXMub25Qb2ludGVyQ2FuY2VsLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMucHJvY2Vzc1BvaW50ZXJDYW5jZWwgPSB0aGlzLnByb2Nlc3NQb2ludGVyQ2FuY2VsLmJpbmQodGhpcyk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge0Z1bmN0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5vblBvaW50ZXJEb3duID0gdGhpcy5vblBvaW50ZXJEb3duLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMucHJvY2Vzc1BvaW50ZXJEb3duID0gdGhpcy5wcm9jZXNzUG9pbnRlckRvd24uYmluZCh0aGlzKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7RnVuY3Rpb259XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm9uUG9pbnRlck1vdmUgPSB0aGlzLm9uUG9pbnRlck1vdmUuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5wcm9jZXNzUG9pbnRlck1vdmUgPSB0aGlzLnByb2Nlc3NQb2ludGVyTW92ZS5iaW5kKHRoaXMpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtGdW5jdGlvbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMub25Qb2ludGVyT3V0ID0gdGhpcy5vblBvaW50ZXJPdXQuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5wcm9jZXNzUG9pbnRlck92ZXJPdXQgPSB0aGlzLnByb2Nlc3NQb2ludGVyT3Zlck91dC5iaW5kKHRoaXMpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtGdW5jdGlvbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMub25Qb2ludGVyT3ZlciA9IHRoaXMub25Qb2ludGVyT3Zlci5iaW5kKHRoaXMpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEaWN0aW9uYXJ5IG9mIGhvdyBkaWZmZXJlbnQgY3Vyc29yIG1vZGVzIGFyZSBoYW5kbGVkLiBTdHJpbmdzIGFyZSBoYW5kbGVkIGFzIENTUyBjdXJzb3JcbiAgICAgICAgICogdmFsdWVzLCBvYmplY3RzIGFyZSBoYW5kbGVkIGFzIGRpY3Rpb25hcmllcyBvZiBDU1MgdmFsdWVzIGZvciBpbnRlcmFjdGlvbkRPTUVsZW1lbnQsXG4gICAgICAgICAqIGFuZCBmdW5jdGlvbnMgYXJlIGNhbGxlZCBpbnN0ZWFkIG9mIGNoYW5naW5nIHRoZSBDU1MuXG4gICAgICAgICAqIERlZmF1bHQgQ1NTIGN1cnNvciB2YWx1ZXMgYXJlIHByb3ZpZGVkIGZvciAnZGVmYXVsdCcgYW5kICdwb2ludGVyJyBtb2Rlcy5cbiAgICAgICAgICogQG1lbWJlciB7T2JqZWN0LjxzdHJpbmcsIE9iamVjdD59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmN1cnNvclN0eWxlcyA9IHtcbiAgICAgICAgICAgIGRlZmF1bHQ6ICdpbmhlcml0JyxcbiAgICAgICAgICAgIHBvaW50ZXI6ICdwb2ludGVyJyxcbiAgICAgICAgfTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG1vZGUgb2YgdGhlIGN1cnNvciB0aGF0IGlzIGJlaW5nIHVzZWQuXG4gICAgICAgICAqIFRoZSB2YWx1ZSBvZiB0aGlzIGlzIGEga2V5IGZyb20gdGhlIGN1cnNvclN0eWxlcyBkaWN0aW9uYXJ5LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmN1cnJlbnRDdXJzb3JNb2RlID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSW50ZXJuYWwgY2FjaGVkIGxldC5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jdXJzb3IgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY3VycmVudCByZXNvbHV0aW9uIC8gZGV2aWNlIHBpeGVsIHJhdGlvLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDFcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucmVzb2x1dGlvbiA9IDE7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERlbGF5ZWQgcG9pbnRlciBldmVudHMuIFVzZWQgdG8gZ3VhcmFudGVlIGNvcnJlY3Qgb3JkZXJpbmcgb2Ygb3Zlci9vdXQgZXZlbnRzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtBcnJheX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGVsYXllZEV2ZW50cyA9IFtdO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUcmVlU2VhcmNoIGNvbXBvbmVudCB0aGF0IGlzIHVzZWQgdG8gaGl0VGVzdCBzdGFnZSB0cmVlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuaW50ZXJhY3Rpb24uVHJlZVNlYXJjaH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc2VhcmNoID0gbmV3IFRyZWVTZWFyY2goKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGJ1dHRvbiAodXN1YWxseSBhIG1vdXNlIGxlZnQtYnV0dG9uKSBpcyBwcmVzc2VkIG9uIHRoZSBkaXNwbGF5XG4gICAgICAgICAqIG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI21vdXNlZG93blxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIHNlY29uZGFyeSBidXR0b24gKHVzdWFsbHkgYSBtb3VzZSByaWdodC1idXR0b24pIGlzIHByZXNzZWRcbiAgICAgICAgICogb24gdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjcmlnaHRkb3duXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgYnV0dG9uICh1c3VhbGx5IGEgbW91c2UgbGVmdC1idXR0b24pIGlzIHJlbGVhc2VkIG92ZXIgdGhlIGRpc3BsYXlcbiAgICAgICAgICogb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjbW91c2V1cFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIHNlY29uZGFyeSBidXR0b24gKHVzdWFsbHkgYSBtb3VzZSByaWdodC1idXR0b24pIGlzIHJlbGVhc2VkXG4gICAgICAgICAqIG92ZXIgdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjcmlnaHR1cFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGJ1dHRvbiAodXN1YWxseSBhIG1vdXNlIGxlZnQtYnV0dG9uKSBpcyBwcmVzc2VkIGFuZCByZWxlYXNlZCBvblxuICAgICAgICAgKiB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciNjbGlja1xuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIHNlY29uZGFyeSBidXR0b24gKHVzdWFsbHkgYSBtb3VzZSByaWdodC1idXR0b24pIGlzIHByZXNzZWRcbiAgICAgICAgICogYW5kIHJlbGVhc2VkIG9uIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI3JpZ2h0Y2xpY2tcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBidXR0b24gKHVzdWFsbHkgYSBtb3VzZSBsZWZ0LWJ1dHRvbikgaXMgcmVsZWFzZWQgb3V0c2lkZSB0aGVcbiAgICAgICAgICogZGlzcGxheSBvYmplY3QgdGhhdCBpbml0aWFsbHkgcmVnaXN0ZXJlZCBhXG4gICAgICAgICAqIFttb3VzZWRvd25de0BsaW5rIFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI2V2ZW50Om1vdXNlZG93bn0uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciNtb3VzZXVwb3V0c2lkZVxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIHNlY29uZGFyeSBidXR0b24gKHVzdWFsbHkgYSBtb3VzZSByaWdodC1idXR0b24pIGlzIHJlbGVhc2VkXG4gICAgICAgICAqIG91dHNpZGUgdGhlIGRpc3BsYXkgb2JqZWN0IHRoYXQgaW5pdGlhbGx5IHJlZ2lzdGVyZWQgYVxuICAgICAgICAgKiBbcmlnaHRkb3duXXtAbGluayBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciNldmVudDpyaWdodGRvd259LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjcmlnaHR1cG91dHNpZGVcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSAodXN1YWxseSBhIG1vdXNlKSBpcyBtb3ZlZCB3aGlsZSBvdmVyIHRoZSBkaXNwbGF5IG9iamVjdFxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjbW91c2Vtb3ZlXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgKHVzdWFsbHkgYSBtb3VzZSkgaXMgbW92ZWQgb250byB0aGUgZGlzcGxheSBvYmplY3RcbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI21vdXNlb3ZlclxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlICh1c3VhbGx5IGEgbW91c2UpIGlzIG1vdmVkIG9mZiB0aGUgZGlzcGxheSBvYmplY3RcbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI21vdXNlb3V0XG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgYnV0dG9uIGlzIHByZXNzZWQgb24gdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjcG9pbnRlcmRvd25cbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBidXR0b24gaXMgcmVsZWFzZWQgb3ZlciB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqIE5vdCBhbHdheXMgZmlyZWQgd2hlbiBzb21lIGJ1dHRvbnMgYXJlIGhlbGQgZG93biB3aGlsZSBvdGhlcnMgYXJlIHJlbGVhc2VkLiBJbiB0aG9zZSBjYXNlcyxcbiAgICAgICAgICogdXNlIFttb3VzZWRvd25de0BsaW5rIFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI2V2ZW50Om1vdXNlZG93bn0gYW5kXG4gICAgICAgICAqIFttb3VzZXVwXXtAbGluayBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciNldmVudDptb3VzZXVwfSBpbnN0ZWFkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjcG9pbnRlcnVwXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIHRoZSBvcGVyYXRpbmcgc3lzdGVtIGNhbmNlbHMgYSBwb2ludGVyIGV2ZW50XG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciNwb2ludGVyY2FuY2VsXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgYnV0dG9uIGlzIHByZXNzZWQgYW5kIHJlbGVhc2VkIG9uIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI3BvaW50ZXJ0YXBcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBidXR0b24gaXMgcmVsZWFzZWQgb3V0c2lkZSB0aGUgZGlzcGxheSBvYmplY3QgdGhhdCBpbml0aWFsbHlcbiAgICAgICAgICogcmVnaXN0ZXJlZCBhIFtwb2ludGVyZG93bl17QGxpbmsgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjZXZlbnQ6cG9pbnRlcmRvd259LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjcG9pbnRlcnVwb3V0c2lkZVxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGlzIG1vdmVkIHdoaWxlIG92ZXIgdGhlIGRpc3BsYXkgb2JqZWN0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciNwb2ludGVybW92ZVxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGlzIG1vdmVkIG9udG8gdGhlIGRpc3BsYXkgb2JqZWN0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciNwb2ludGVyb3ZlclxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGlzIG1vdmVkIG9mZiB0aGUgZGlzcGxheSBvYmplY3RcbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI3BvaW50ZXJvdXRcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSB0b3VjaCBwb2ludCBpcyBwbGFjZWQgb24gdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjdG91Y2hzdGFydFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHRvdWNoIHBvaW50IGlzIHJlbW92ZWQgZnJvbSB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciN0b3VjaGVuZFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiB0aGUgb3BlcmF0aW5nIHN5c3RlbSBjYW5jZWxzIGEgdG91Y2hcbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI3RvdWNoY2FuY2VsXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgdG91Y2ggcG9pbnQgaXMgcGxhY2VkIGFuZCByZW1vdmVkIGZyb20gdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjdGFwXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgdG91Y2ggcG9pbnQgaXMgcmVtb3ZlZCBvdXRzaWRlIG9mIHRoZSBkaXNwbGF5IG9iamVjdCB0aGF0IGluaXRpYWxseVxuICAgICAgICAgKiByZWdpc3RlcmVkIGEgW3RvdWNoc3RhcnRde0BsaW5rIFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI2V2ZW50OnRvdWNoc3RhcnR9LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjdG91Y2hlbmRvdXRzaWRlXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgdG91Y2ggcG9pbnQgaXMgbW92ZWQgYWxvbmcgdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjdG91Y2htb3ZlXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgYnV0dG9uICh1c3VhbGx5IGEgbW91c2UgbGVmdC1idXR0b24pIGlzIHByZXNzZWQgb24gdGhlIGRpc3BsYXkuXG4gICAgICAgICAqIG9iamVjdC4gRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjbW91c2Vkb3duXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2Ugc2Vjb25kYXJ5IGJ1dHRvbiAodXN1YWxseSBhIG1vdXNlIHJpZ2h0LWJ1dHRvbikgaXMgcHJlc3NlZFxuICAgICAgICAgKiBvbiB0aGUgZGlzcGxheSBvYmplY3QuIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3JpZ2h0ZG93blxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGJ1dHRvbiAodXN1YWxseSBhIG1vdXNlIGxlZnQtYnV0dG9uKSBpcyByZWxlYXNlZCBvdmVyIHRoZSBkaXNwbGF5XG4gICAgICAgICAqIG9iamVjdC4gRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjbW91c2V1cFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIHNlY29uZGFyeSBidXR0b24gKHVzdWFsbHkgYSBtb3VzZSByaWdodC1idXR0b24pIGlzIHJlbGVhc2VkXG4gICAgICAgICAqIG92ZXIgdGhlIGRpc3BsYXkgb2JqZWN0LiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNyaWdodHVwXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgYnV0dG9uICh1c3VhbGx5IGEgbW91c2UgbGVmdC1idXR0b24pIGlzIHByZXNzZWQgYW5kIHJlbGVhc2VkIG9uXG4gICAgICAgICAqIHRoZSBkaXNwbGF5IG9iamVjdC4gRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjY2xpY2tcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBzZWNvbmRhcnkgYnV0dG9uICh1c3VhbGx5IGEgbW91c2UgcmlnaHQtYnV0dG9uKSBpcyBwcmVzc2VkXG4gICAgICAgICAqIGFuZCByZWxlYXNlZCBvbiB0aGUgZGlzcGxheSBvYmplY3QuIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3JpZ2h0Y2xpY2tcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBidXR0b24gKHVzdWFsbHkgYSBtb3VzZSBsZWZ0LWJ1dHRvbikgaXMgcmVsZWFzZWQgb3V0c2lkZSB0aGVcbiAgICAgICAgICogZGlzcGxheSBvYmplY3QgdGhhdCBpbml0aWFsbHkgcmVnaXN0ZXJlZCBhXG4gICAgICAgICAqIFttb3VzZWRvd25de0BsaW5rIFBJWEkuRGlzcGxheU9iamVjdCNldmVudDptb3VzZWRvd259LlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNtb3VzZXVwb3V0c2lkZVxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIHNlY29uZGFyeSBidXR0b24gKHVzdWFsbHkgYSBtb3VzZSByaWdodC1idXR0b24pIGlzIHJlbGVhc2VkXG4gICAgICAgICAqIG91dHNpZGUgdGhlIGRpc3BsYXkgb2JqZWN0IHRoYXQgaW5pdGlhbGx5IHJlZ2lzdGVyZWQgYVxuICAgICAgICAgKiBbcmlnaHRkb3duXXtAbGluayBQSVhJLkRpc3BsYXlPYmplY3QjZXZlbnQ6cmlnaHRkb3dufS5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjcmlnaHR1cG91dHNpZGVcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSAodXN1YWxseSBhIG1vdXNlKSBpcyBtb3ZlZCB3aGlsZSBvdmVyIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjbW91c2Vtb3ZlXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgKHVzdWFsbHkgYSBtb3VzZSkgaXMgbW92ZWQgb250byB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I21vdXNlb3ZlclxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlICh1c3VhbGx5IGEgbW91c2UpIGlzIG1vdmVkIG9mZiB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I21vdXNlb3V0XG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgYnV0dG9uIGlzIHByZXNzZWQgb24gdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNwb2ludGVyZG93blxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGJ1dHRvbiBpcyByZWxlYXNlZCBvdmVyIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjcG9pbnRlcnVwXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIHRoZSBvcGVyYXRpbmcgc3lzdGVtIGNhbmNlbHMgYSBwb2ludGVyIGV2ZW50LlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNwb2ludGVyY2FuY2VsXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgYnV0dG9uIGlzIHByZXNzZWQgYW5kIHJlbGVhc2VkIG9uIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjcG9pbnRlcnRhcFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGJ1dHRvbiBpcyByZWxlYXNlZCBvdXRzaWRlIHRoZSBkaXNwbGF5IG9iamVjdCB0aGF0IGluaXRpYWxseVxuICAgICAgICAgKiByZWdpc3RlcmVkIGEgW3BvaW50ZXJkb3duXXtAbGluayBQSVhJLkRpc3BsYXlPYmplY3QjZXZlbnQ6cG9pbnRlcmRvd259LlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNwb2ludGVydXBvdXRzaWRlXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgaXMgbW92ZWQgd2hpbGUgb3ZlciB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3BvaW50ZXJtb3ZlXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgaXMgbW92ZWQgb250byB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3BvaW50ZXJvdmVyXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgaXMgbW92ZWQgb2ZmIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjcG9pbnRlcm91dFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHRvdWNoIHBvaW50IGlzIHBsYWNlZCBvbiB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3RvdWNoc3RhcnRcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSB0b3VjaCBwb2ludCBpcyByZW1vdmVkIGZyb20gdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCN0b3VjaGVuZFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiB0aGUgb3BlcmF0aW5nIHN5c3RlbSBjYW5jZWxzIGEgdG91Y2guXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3RvdWNoY2FuY2VsXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgdG91Y2ggcG9pbnQgaXMgcGxhY2VkIGFuZCByZW1vdmVkIGZyb20gdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCN0YXBcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSB0b3VjaCBwb2ludCBpcyByZW1vdmVkIG91dHNpZGUgb2YgdGhlIGRpc3BsYXkgb2JqZWN0IHRoYXQgaW5pdGlhbGx5XG4gICAgICAgICAqIHJlZ2lzdGVyZWQgYSBbdG91Y2hzdGFydF17QGxpbmsgUElYSS5EaXNwbGF5T2JqZWN0I2V2ZW50OnRvdWNoc3RhcnR9LlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCN0b3VjaGVuZG91dHNpZGVcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSB0b3VjaCBwb2ludCBpcyBtb3ZlZCBhbG9uZyB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3RvdWNobW92ZVxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICB0aGlzLnNldFRhcmdldEVsZW1lbnQodGhpcy5yZW5kZXJlci52aWV3LCB0aGlzLnJlbmRlcmVyLnJlc29sdXRpb24pO1xuICAgIH1cblxuICAgIGlmICggRXZlbnRFbWl0dGVyICkgSW50ZXJhY3Rpb25NYW5hZ2VyLl9fcHJvdG9fXyA9IEV2ZW50RW1pdHRlcjtcbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggRXZlbnRFbWl0dGVyICYmIEV2ZW50RW1pdHRlci5wcm90b3R5cGUgKTtcbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gSW50ZXJhY3Rpb25NYW5hZ2VyO1xuXG4gICAgLyoqXG4gICAgICogSGl0IHRlc3RzIGEgcG9pbnQgYWdhaW5zdCB0aGUgZGlzcGxheSB0cmVlLCByZXR1cm5pbmcgdGhlIGZpcnN0IGludGVyYWN0aXZlIG9iamVjdCB0aGF0IGlzIGhpdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5Qb2ludH0gZ2xvYmFsUG9pbnQgLSBBIHBvaW50IHRvIGhpdCB0ZXN0IHdpdGgsIGluIGdsb2JhbCBzcGFjZS5cbiAgICAgKiBAcGFyYW0ge1BJWEkuQ29udGFpbmVyfSBbcm9vdF0gLSBUaGUgcm9vdCBkaXNwbGF5IG9iamVjdCB0byBzdGFydCBmcm9tLiBJZiBvbWl0dGVkLCBkZWZhdWx0c1xuICAgICAqIHRvIHRoZSBsYXN0IHJlbmRlcmVkIHJvb3Qgb2YgdGhlIGFzc29jaWF0ZWQgcmVuZGVyZXIuXG4gICAgICogQHJldHVybiB7UElYSS5EaXNwbGF5T2JqZWN0fSBUaGUgaGl0IGRpc3BsYXkgb2JqZWN0LCBpZiBhbnkuXG4gICAgICovXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5oaXRUZXN0ID0gZnVuY3Rpb24gaGl0VGVzdCAoZ2xvYmFsUG9pbnQsIHJvb3QpXG4gICAge1xuICAgICAgICAvLyBjbGVhciB0aGUgdGFyZ2V0IGZvciBvdXIgaGl0IHRlc3RcbiAgICAgICAgaGl0VGVzdEV2ZW50LnRhcmdldCA9IG51bGw7XG4gICAgICAgIC8vIGFzc2lnbiB0aGUgZ2xvYmFsIHBvaW50XG4gICAgICAgIGhpdFRlc3RFdmVudC5kYXRhLmdsb2JhbCA9IGdsb2JhbFBvaW50O1xuICAgICAgICAvLyBlbnN1cmUgc2FmZXR5IG9mIHRoZSByb290XG4gICAgICAgIGlmICghcm9vdClcbiAgICAgICAge1xuICAgICAgICAgICAgcm9vdCA9IHRoaXMucmVuZGVyZXIuX2xhc3RPYmplY3RSZW5kZXJlZDtcbiAgICAgICAgfVxuICAgICAgICAvLyBydW4gdGhlIGhpdCB0ZXN0XG4gICAgICAgIHRoaXMucHJvY2Vzc0ludGVyYWN0aXZlKGhpdFRlc3RFdmVudCwgcm9vdCwgbnVsbCwgdHJ1ZSk7XG4gICAgICAgIC8vIHJldHVybiBvdXIgZm91bmQgb2JqZWN0IC0gaXQnbGwgYmUgbnVsbCBpZiB3ZSBkaWRuJ3QgaGl0IGFueXRoaW5nXG5cbiAgICAgICAgcmV0dXJuIGhpdFRlc3RFdmVudC50YXJnZXQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIERPTSBlbGVtZW50IHdoaWNoIHdpbGwgcmVjZWl2ZSBtb3VzZS90b3VjaCBldmVudHMuIFRoaXMgaXMgdXNlZnVsIGZvciB3aGVuIHlvdSBoYXZlXG4gICAgICogb3RoZXIgRE9NIGVsZW1lbnRzIG9uIHRvcCBvZiB0aGUgcmVuZGVyZXJzIENhbnZhcyBlbGVtZW50LiBXaXRoIHRoaXMgeW91J2xsIGJlIGJhbGUgdG8gZGVsZWdhdGVcbiAgICAgKiBhbm90aGVyIERPTSBlbGVtZW50IHRvIHJlY2VpdmUgdGhvc2UgZXZlbnRzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudCAtIHRoZSBET00gZWxlbWVudCB3aGljaCB3aWxsIHJlY2VpdmUgbW91c2UgYW5kIHRvdWNoIGV2ZW50cy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3Jlc29sdXRpb249MV0gLSBUaGUgcmVzb2x1dGlvbiAvIGRldmljZSBwaXhlbCByYXRpbyBvZiB0aGUgbmV3IGVsZW1lbnQgKHJlbGF0aXZlIHRvIHRoZSBjYW52YXMpLlxuICAgICAqL1xuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUuc2V0VGFyZ2V0RWxlbWVudCA9IGZ1bmN0aW9uIHNldFRhcmdldEVsZW1lbnQgKGVsZW1lbnQsIHJlc29sdXRpb24pXG4gICAge1xuICAgICAgICBpZiAoIHJlc29sdXRpb24gPT09IHZvaWQgMCApIHJlc29sdXRpb24gPSAxO1xuXG4gICAgICAgIHRoaXMucmVtb3ZlRXZlbnRzKCk7XG5cbiAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQgPSBlbGVtZW50O1xuXG4gICAgICAgIHRoaXMucmVzb2x1dGlvbiA9IHJlc29sdXRpb247XG5cbiAgICAgICAgdGhpcy5hZGRFdmVudHMoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVnaXN0ZXJzIGFsbCB0aGUgRE9NIGV2ZW50c1xuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLmFkZEV2ZW50cyA9IGZ1bmN0aW9uIGFkZEV2ZW50cyAoKVxuICAgIHtcbiAgICAgICAgaWYgKCF0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgVGlja2VyLnN5c3RlbS5hZGQodGhpcy51cGRhdGUsIHRoaXMsIFVQREFURV9QUklPUklUWS5JTlRFUkFDVElPTik7XG5cbiAgICAgICAgaWYgKHdpbmRvdy5uYXZpZ2F0b3IubXNQb2ludGVyRW5hYmxlZClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuc3R5bGVbJy1tcy1jb250ZW50LXpvb21pbmcnXSA9ICdub25lJztcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnN0eWxlWyctbXMtdG91Y2gtYWN0aW9uJ10gPSAnbm9uZSc7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5zdXBwb3J0c1BvaW50ZXJFdmVudHMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnN0eWxlWyd0b3VjaC1hY3Rpb24nXSA9ICdub25lJztcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGVzZSBldmVudHMgYXJlIGFkZGVkIGZpcnN0LCBzbyB0aGF0IGlmIHBvaW50ZXIgZXZlbnRzIGFyZSBub3JtYWxpemVkLCB0aGV5IGFyZSBmaXJlZFxuICAgICAgICAgKiBpbiB0aGUgc2FtZSBvcmRlciBhcyBub24tbm9ybWFsaXplZCBldmVudHMuIGllLiBwb2ludGVyIGV2ZW50IDFzdCwgbW91c2UgLyB0b3VjaCAybmRcbiAgICAgICAgICovXG4gICAgICAgIGlmICh0aGlzLnN1cHBvcnRzUG9pbnRlckV2ZW50cylcbiAgICAgICAge1xuICAgICAgICAgICAgd2luZG93LmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJtb3ZlJywgdGhpcy5vblBvaW50ZXJNb3ZlLCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJkb3duJywgdGhpcy5vblBvaW50ZXJEb3duLCB0cnVlKTtcbiAgICAgICAgICAgIC8vIHBvaW50ZXJvdXQgaXMgZmlyZWQgaW4gYWRkaXRpb24gdG8gcG9pbnRlcnVwIChmb3IgdG91Y2ggZXZlbnRzKSBhbmQgcG9pbnRlcmNhbmNlbFxuICAgICAgICAgICAgLy8gd2UgYWxyZWFkeSBoYW5kbGUgdGhvc2UsIHNvIGZvciB0aGUgcHVycG9zZXMgb2Ygd2hhdCB3ZSBkbyBpbiBvblBvaW50ZXJPdXQsIHdlIG9ubHlcbiAgICAgICAgICAgIC8vIGNhcmUgYWJvdXQgdGhlIHBvaW50ZXJsZWF2ZSBldmVudFxuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcmxlYXZlJywgdGhpcy5vblBvaW50ZXJPdXQsIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcm92ZXInLCB0aGlzLm9uUG9pbnRlck92ZXIsIHRydWUpO1xuICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJjYW5jZWwnLCB0aGlzLm9uUG9pbnRlckNhbmNlbCwgdHJ1ZSk7XG4gICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcnVwJywgdGhpcy5vblBvaW50ZXJVcCwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB3aW5kb3cuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5vblBvaW50ZXJNb3ZlLCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMub25Qb2ludGVyRG93biwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW91dCcsIHRoaXMub25Qb2ludGVyT3V0LCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3ZlcicsIHRoaXMub25Qb2ludGVyT3ZlciwgdHJ1ZSk7XG4gICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMub25Qb2ludGVyVXAsIHRydWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gYWx3YXlzIGxvb2sgZGlyZWN0bHkgZm9yIHRvdWNoIGV2ZW50cyBzbyB0aGF0IHdlIGNhbiBwcm92aWRlIG9yaWdpbmFsIGRhdGFcbiAgICAgICAgLy8gSW4gYSBmdXR1cmUgdmVyc2lvbiB3ZSBzaG91bGQgY2hhbmdlIHRoaXMgdG8gYmVpbmcganVzdCBhIGZhbGxiYWNrIGFuZCByZWx5IHNvbGVseSBvblxuICAgICAgICAvLyBQb2ludGVyRXZlbnRzIHdoZW5ldmVyIGF2YWlsYWJsZVxuICAgICAgICBpZiAodGhpcy5zdXBwb3J0c1RvdWNoRXZlbnRzKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgdGhpcy5vblBvaW50ZXJEb3duLCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoY2FuY2VsJywgdGhpcy5vblBvaW50ZXJDYW5jZWwsIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB0aGlzLm9uUG9pbnRlclVwLCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHRoaXMub25Qb2ludGVyTW92ZSwgdHJ1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmV2ZW50c0FkZGVkID0gdHJ1ZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhbGwgdGhlIERPTSBldmVudHMgdGhhdCB3ZXJlIHByZXZpb3VzbHkgcmVnaXN0ZXJlZFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLnJlbW92ZUV2ZW50cyA9IGZ1bmN0aW9uIHJlbW92ZUV2ZW50cyAoKVxuICAgIHtcbiAgICAgICAgaWYgKCF0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgVGlja2VyLnN5c3RlbS5yZW1vdmUodGhpcy51cGRhdGUsIHRoaXMpO1xuXG4gICAgICAgIGlmICh3aW5kb3cubmF2aWdhdG9yLm1zUG9pbnRlckVuYWJsZWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnN0eWxlWyctbXMtY29udGVudC16b29taW5nJ10gPSAnJztcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnN0eWxlWyctbXMtdG91Y2gtYWN0aW9uJ10gPSAnJztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLnN1cHBvcnRzUG9pbnRlckV2ZW50cylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuc3R5bGVbJ3RvdWNoLWFjdGlvbiddID0gJyc7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5zdXBwb3J0c1BvaW50ZXJFdmVudHMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHdpbmRvdy5kb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdwb2ludGVybW92ZScsIHRoaXMub25Qb2ludGVyTW92ZSwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdwb2ludGVyZG93bicsIHRoaXMub25Qb2ludGVyRG93biwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdwb2ludGVybGVhdmUnLCB0aGlzLm9uUG9pbnRlck91dCwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdwb2ludGVyb3ZlcicsIHRoaXMub25Qb2ludGVyT3ZlciwgdHJ1ZSk7XG4gICAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncG9pbnRlcmNhbmNlbCcsIHRoaXMub25Qb2ludGVyQ2FuY2VsLCB0cnVlKTtcbiAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdwb2ludGVydXAnLCB0aGlzLm9uUG9pbnRlclVwLCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHdpbmRvdy5kb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLm9uUG9pbnRlck1vdmUsIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5vblBvaW50ZXJEb3duLCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlb3V0JywgdGhpcy5vblBvaW50ZXJPdXQsIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2VvdmVyJywgdGhpcy5vblBvaW50ZXJPdmVyLCB0cnVlKTtcbiAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5vblBvaW50ZXJVcCwgdHJ1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5zdXBwb3J0c1RvdWNoRXZlbnRzKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgdGhpcy5vblBvaW50ZXJEb3duLCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoY2FuY2VsJywgdGhpcy5vblBvaW50ZXJDYW5jZWwsIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB0aGlzLm9uUG9pbnRlclVwLCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHRoaXMub25Qb2ludGVyTW92ZSwgdHJ1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudCA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5ldmVudHNBZGRlZCA9IGZhbHNlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBzdGF0ZSBvZiBpbnRlcmFjdGl2ZSBvYmplY3RzLlxuICAgICAqIEludm9rZWQgYnkgYSB0aHJvdHRsZWQgdGlja2VyIHVwZGF0ZSBmcm9tIHtAbGluayBQSVhJLlRpY2tlci5zeXN0ZW19LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGRlbHRhVGltZSAtIHRpbWUgZGVsdGEgc2luY2UgbGFzdCB0aWNrXG4gICAgICovXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiB1cGRhdGUgKGRlbHRhVGltZSlcbiAgICB7XG4gICAgICAgIHRoaXMuX2RlbHRhVGltZSArPSBkZWx0YVRpbWU7XG5cbiAgICAgICAgaWYgKHRoaXMuX2RlbHRhVGltZSA8IHRoaXMuaW50ZXJhY3Rpb25GcmVxdWVuY3kpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2RlbHRhVGltZSA9IDA7XG5cbiAgICAgICAgaWYgKCF0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gaWYgdGhlIHVzZXIgbW92ZSB0aGUgbW91c2UgdGhpcyBjaGVjayBoYXMgYWxyZWFkeSBiZWVuIGRvbmUgdXNpbmcgdGhlIG1vdXNlIG1vdmUhXG4gICAgICAgIGlmICh0aGlzLmRpZE1vdmUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuZGlkTW92ZSA9IGZhbHNlO1xuXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmN1cnNvciA9IG51bGw7XG5cbiAgICAgICAgLy8gUmVzZXRzIHRoZSBmbGFnIGFzIHNldCBieSBhIHN0b3BQcm9wYWdhdGlvbiBjYWxsLiBUaGlzIGZsYWcgaXMgdXN1YWxseSByZXNldCBieSBhIHVzZXIgaW50ZXJhY3Rpb24gb2YgYW55IGtpbmQsXG4gICAgICAgIC8vIGJ1dCB0aGVyZSB3YXMgYSBzY2VuYXJpbyBvZiBhIGRpc3BsYXkgb2JqZWN0IG1vdmluZyB1bmRlciBhIHN0YXRpYyBtb3VzZSBjdXJzb3IuXG4gICAgICAgIC8vIEluIHRoaXMgY2FzZSwgbW91c2VvdmVyIGFuZCBtb3VzZWV2ZW50cyB3b3VsZCBub3QgcGFzcyB0aGUgZmxhZyB0ZXN0IGluIGRpc3BhdGNoRXZlbnQgZnVuY3Rpb25cbiAgICAgICAgZm9yICh2YXIgayBpbiB0aGlzLmFjdGl2ZUludGVyYWN0aW9uRGF0YSlcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXByb3RvdHlwZS1idWlsdGluc1xuICAgICAgICAgICAgaWYgKHRoaXMuYWN0aXZlSW50ZXJhY3Rpb25EYXRhLmhhc093blByb3BlcnR5KGspKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHZhciBpbnRlcmFjdGlvbkRhdGEgPSB0aGlzLmFjdGl2ZUludGVyYWN0aW9uRGF0YVtrXTtcblxuICAgICAgICAgICAgICAgIGlmIChpbnRlcmFjdGlvbkRhdGEub3JpZ2luYWxFdmVudCAmJiBpbnRlcmFjdGlvbkRhdGEucG9pbnRlclR5cGUgIT09ICd0b3VjaCcpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB2YXIgaW50ZXJhY3Rpb25FdmVudCA9IHRoaXMuY29uZmlndXJlSW50ZXJhY3Rpb25FdmVudEZvckRPTUV2ZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5ldmVudERhdGEsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnRlcmFjdGlvbkRhdGEub3JpZ2luYWxFdmVudCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGludGVyYWN0aW9uRGF0YVxuICAgICAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJvY2Vzc0ludGVyYWN0aXZlKFxuICAgICAgICAgICAgICAgICAgICAgICAgaW50ZXJhY3Rpb25FdmVudCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuX2xhc3RPYmplY3RSZW5kZXJlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJvY2Vzc1BvaW50ZXJPdmVyT3V0LFxuICAgICAgICAgICAgICAgICAgICAgICAgdHJ1ZVxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc2V0Q3Vyc29yTW9kZSh0aGlzLmN1cnNvcik7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGN1cnJlbnQgY3Vyc29yIG1vZGUsIGhhbmRsaW5nIGFueSBjYWxsYmFja3Mgb3IgQ1NTIHN0eWxlIGNoYW5nZXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbW9kZSAtIGN1cnNvciBtb2RlLCBhIGtleSBmcm9tIHRoZSBjdXJzb3JTdHlsZXMgZGljdGlvbmFyeVxuICAgICAqL1xuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUuc2V0Q3Vyc29yTW9kZSA9IGZ1bmN0aW9uIHNldEN1cnNvck1vZGUgKG1vZGUpXG4gICAge1xuICAgICAgICBtb2RlID0gbW9kZSB8fCAnZGVmYXVsdCc7XG4gICAgICAgIC8vIGlmIHRoZSBtb2RlIGRpZG4ndCBhY3R1YWxseSBjaGFuZ2UsIGJhaWwgZWFybHlcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudEN1cnNvck1vZGUgPT09IG1vZGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmN1cnJlbnRDdXJzb3JNb2RlID0gbW9kZTtcbiAgICAgICAgdmFyIHN0eWxlID0gdGhpcy5jdXJzb3JTdHlsZXNbbW9kZV07XG5cbiAgICAgICAgLy8gb25seSBkbyB0aGluZ3MgaWYgdGhlcmUgaXMgYSBjdXJzb3Igc3R5bGUgZm9yIGl0XG4gICAgICAgIGlmIChzdHlsZSlcbiAgICAgICAge1xuICAgICAgICAgICAgc3dpdGNoICh0eXBlb2Ygc3R5bGUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY2FzZSAnc3RyaW5nJzpcbiAgICAgICAgICAgICAgICAgICAgLy8gc3RyaW5nIHN0eWxlcyBhcmUgaGFuZGxlZCBhcyBjdXJzb3IgQ1NTXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnN0eWxlLmN1cnNvciA9IHN0eWxlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdmdW5jdGlvbic6XG4gICAgICAgICAgICAgICAgICAgIC8vIGZ1bmN0aW9ucyBhcmUganVzdCBjYWxsZWQsIGFuZCBwYXNzZWQgdGhlIGN1cnNvciBtb2RlXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlKG1vZGUpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdvYmplY3QnOlxuICAgICAgICAgICAgICAgICAgICAvLyBpZiBpdCBpcyBhbiBvYmplY3QsIGFzc3VtZSB0aGF0IGl0IGlzIGEgZGljdGlvbmFyeSBvZiBDU1Mgc3R5bGVzLFxuICAgICAgICAgICAgICAgICAgICAvLyBhcHBseSBpdCB0byB0aGUgaW50ZXJhY3Rpb25ET01FbGVtZW50XG4gICAgICAgICAgICAgICAgICAgIE9iamVjdC5hc3NpZ24odGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuc3R5bGUsIHN0eWxlKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIG1vZGUgPT09ICdzdHJpbmcnICYmICFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodGhpcy5jdXJzb3JTdHlsZXMsIG1vZGUpKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBpZiBpdCBtb2RlIGlzIGEgc3RyaW5nIChub3QgYSBTeW1ib2wpIGFuZCBjdXJzb3JTdHlsZXMgZG9lc24ndCBoYXZlIGFueSBlbnRyeVxuICAgICAgICAgICAgLy8gZm9yIHRoZSBtb2RlLCB0aGVuIGFzc3VtZSB0aGF0IHRoZSBkZXYgd2FudHMgaXQgdG8gYmUgQ1NTIGZvciB0aGUgY3Vyc29yLlxuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuc3R5bGUuY3Vyc29yID0gbW9kZTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEaXNwYXRjaGVzIGFuIGV2ZW50IG9uIHRoZSBkaXNwbGF5IG9iamVjdCB0aGF0IHdhcyBpbnRlcmFjdGVkIHdpdGhcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5Db250YWluZXJ8UElYSS5TcHJpdGV8UElYSS5UaWxpbmdTcHJpdGV9IGRpc3BsYXlPYmplY3QgLSB0aGUgZGlzcGxheSBvYmplY3QgaW4gcXVlc3Rpb25cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXZlbnRTdHJpbmcgLSB0aGUgbmFtZSBvZiB0aGUgZXZlbnQgKGUuZywgbW91c2Vkb3duKVxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBldmVudERhdGEgLSB0aGUgZXZlbnQgZGF0YSBvYmplY3RcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUuZGlzcGF0Y2hFdmVudCA9IGZ1bmN0aW9uIGRpc3BhdGNoRXZlbnQgKGRpc3BsYXlPYmplY3QsIGV2ZW50U3RyaW5nLCBldmVudERhdGEpXG4gICAge1xuICAgICAgICAvLyBFdmVuIGlmIHRoZSBldmVudCB3YXMgc3RvcHBlZCwgYXQgbGVhc3QgZGlzcGF0Y2ggYW55IHJlbWFpbmluZyBldmVudHNcbiAgICAgICAgLy8gZm9yIHRoZSBzYW1lIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICBpZiAoIWV2ZW50RGF0YS5zdG9wUHJvcGFnYXRpb25IaW50IHx8IGRpc3BsYXlPYmplY3QgPT09IGV2ZW50RGF0YS5zdG9wc1Byb3BhZ2F0aW5nQXQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGV2ZW50RGF0YS5jdXJyZW50VGFyZ2V0ID0gZGlzcGxheU9iamVjdDtcbiAgICAgICAgICAgIGV2ZW50RGF0YS50eXBlID0gZXZlbnRTdHJpbmc7XG5cbiAgICAgICAgICAgIGRpc3BsYXlPYmplY3QuZW1pdChldmVudFN0cmluZywgZXZlbnREYXRhKTtcblxuICAgICAgICAgICAgaWYgKGRpc3BsYXlPYmplY3RbZXZlbnRTdHJpbmddKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRpc3BsYXlPYmplY3RbZXZlbnRTdHJpbmddKGV2ZW50RGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUHV0cyBhIGV2ZW50IG9uIGEgcXVldWUgdG8gYmUgZGlzcGF0Y2hlZCBsYXRlci4gVGhpcyBpcyB1c2VkIHRvIGd1YXJhbnRlZSBjb3JyZWN0XG4gICAgICogb3JkZXJpbmcgb2Ygb3Zlci9vdXQgZXZlbnRzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkNvbnRhaW5lcnxQSVhJLlNwcml0ZXxQSVhJLlRpbGluZ1Nwcml0ZX0gZGlzcGxheU9iamVjdCAtIHRoZSBkaXNwbGF5IG9iamVjdCBpbiBxdWVzdGlvblxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBldmVudFN0cmluZyAtIHRoZSBuYW1lIG9mIHRoZSBldmVudCAoZS5nLCBtb3VzZWRvd24pXG4gICAgICogQHBhcmFtIHtvYmplY3R9IGV2ZW50RGF0YSAtIHRoZSBldmVudCBkYXRhIG9iamVjdFxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5kZWxheURpc3BhdGNoRXZlbnQgPSBmdW5jdGlvbiBkZWxheURpc3BhdGNoRXZlbnQgKGRpc3BsYXlPYmplY3QsIGV2ZW50U3RyaW5nLCBldmVudERhdGEpXG4gICAge1xuICAgICAgICB0aGlzLmRlbGF5ZWRFdmVudHMucHVzaCh7IGRpc3BsYXlPYmplY3Q6IGRpc3BsYXlPYmplY3QsIGV2ZW50U3RyaW5nOiBldmVudFN0cmluZywgZXZlbnREYXRhOiBldmVudERhdGEgfSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIE1hcHMgeCBhbmQgeSBjb29yZHMgZnJvbSBhIERPTSBvYmplY3QgYW5kIG1hcHMgdGhlbSBjb3JyZWN0bHkgdG8gdGhlIFBpeGlKUyB2aWV3LiBUaGVcbiAgICAgKiByZXN1bHRpbmcgdmFsdWUgaXMgc3RvcmVkIGluIHRoZSBwb2ludC4gVGhpcyB0YWtlcyBpbnRvIGFjY291bnQgdGhlIGZhY3QgdGhhdCB0aGUgRE9NXG4gICAgICogZWxlbWVudCBjb3VsZCBiZSBzY2FsZWQgYW5kIHBvc2l0aW9uZWQgYW55d2hlcmUgb24gdGhlIHNjcmVlbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSAge1BJWEkuUG9pbnR9IHBvaW50IC0gdGhlIHBvaW50IHRoYXQgdGhlIHJlc3VsdCB3aWxsIGJlIHN0b3JlZCBpblxuICAgICAqIEBwYXJhbSAge251bWJlcn0geCAtIHRoZSB4IGNvb3JkIG9mIHRoZSBwb3NpdGlvbiB0byBtYXBcbiAgICAgKiBAcGFyYW0gIHtudW1iZXJ9IHkgLSB0aGUgeSBjb29yZCBvZiB0aGUgcG9zaXRpb24gdG8gbWFwXG4gICAgICovXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5tYXBQb3NpdGlvblRvUG9pbnQgPSBmdW5jdGlvbiBtYXBQb3NpdGlvblRvUG9pbnQgKHBvaW50LCB4LCB5KVxuICAgIHtcbiAgICAgICAgdmFyIHJlY3Q7XG5cbiAgICAgICAgLy8gSUUgMTEgZml4XG4gICAgICAgIGlmICghdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQucGFyZW50RWxlbWVudClcbiAgICAgICAge1xuICAgICAgICAgICAgcmVjdCA9IHsgeDogMCwgeTogMCwgd2lkdGg6IDAsIGhlaWdodDogMCB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgcmVjdCA9IHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHJlc29sdXRpb25NdWx0aXBsaWVyID0gMS4wIC8gdGhpcy5yZXNvbHV0aW9uO1xuXG4gICAgICAgIHBvaW50LnggPSAoKHggLSByZWN0LmxlZnQpICogKHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LndpZHRoIC8gcmVjdC53aWR0aCkpICogcmVzb2x1dGlvbk11bHRpcGxpZXI7XG4gICAgICAgIHBvaW50LnkgPSAoKHkgLSByZWN0LnRvcCkgKiAodGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuaGVpZ2h0IC8gcmVjdC5oZWlnaHQpKSAqIHJlc29sdXRpb25NdWx0aXBsaWVyO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIGlzIHByb3ZpZGVzIGEgbmVhdCB3YXkgb2YgY3Jhd2xpbmcgdGhyb3VnaCB0aGUgc2NlbmUgZ3JhcGggYW5kIHJ1bm5pbmcgYVxuICAgICAqIHNwZWNpZmllZCBmdW5jdGlvbiBvbiBhbGwgaW50ZXJhY3RpdmUgb2JqZWN0cyBpdCBmaW5kcy4gSXQgd2lsbCBhbHNvIHRha2UgY2FyZSBvZiBoaXRcbiAgICAgKiB0ZXN0aW5nIHRoZSBpbnRlcmFjdGl2ZSBvYmplY3RzIGFuZCBwYXNzZXMgdGhlIGhpdCBhY3Jvc3MgaW4gdGhlIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBpbnRlcmFjdGlvbkV2ZW50IC0gZXZlbnQgY29udGFpbmluZyB0aGUgcG9pbnQgdGhhdFxuICAgICAqICBpcyB0ZXN0ZWQgZm9yIGNvbGxpc2lvblxuICAgICAqIEBwYXJhbSB7UElYSS5Db250YWluZXJ8UElYSS5TcHJpdGV8UElYSS5UaWxpbmdTcHJpdGV9IGRpc3BsYXlPYmplY3QgLSB0aGUgZGlzcGxheU9iamVjdFxuICAgICAqICB0aGF0IHdpbGwgYmUgaGl0IHRlc3QgKHJlY3Vyc2l2ZWx5IGNyYXdscyBpdHMgY2hpbGRyZW4pXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2Z1bmNdIC0gdGhlIGZ1bmN0aW9uIHRoYXQgd2lsbCBiZSBjYWxsZWQgb24gZWFjaCBpbnRlcmFjdGl2ZSBvYmplY3QuIFRoZVxuICAgICAqICBpbnRlcmFjdGlvbkV2ZW50LCBkaXNwbGF5T2JqZWN0IGFuZCBoaXQgd2lsbCBiZSBwYXNzZWQgdG8gdGhlIGZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbaGl0VGVzdF0gLSBpbmRpY2F0ZXMgd2hldGhlciB3ZSB3YW50IHRvIGNhbGN1bGF0ZSBoaXRzXG4gICAgICogIG9yIGp1c3QgaXRlcmF0ZSB0aHJvdWdoIGFsbCBpbnRlcmFjdGl2ZSBvYmplY3RzXG4gICAgICovXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5wcm9jZXNzSW50ZXJhY3RpdmUgPSBmdW5jdGlvbiBwcm9jZXNzSW50ZXJhY3RpdmUgKGludGVyYWN0aW9uRXZlbnQsIGRpc3BsYXlPYmplY3QsIGZ1bmMsIGhpdFRlc3QpXG4gICAge1xuICAgICAgICB2YXIgaGl0ID0gdGhpcy5zZWFyY2guZmluZEhpdChpbnRlcmFjdGlvbkV2ZW50LCBkaXNwbGF5T2JqZWN0LCBmdW5jLCBoaXRUZXN0KTtcblxuICAgICAgICB2YXIgZGVsYXllZEV2ZW50cyA9IHRoaXMuZGVsYXllZEV2ZW50cztcblxuICAgICAgICBpZiAoIWRlbGF5ZWRFdmVudHMubGVuZ3RoKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gaGl0O1xuICAgICAgICB9XG4gICAgICAgIC8vIFJlc2V0IHRoZSBwcm9wYWdhdGlvbiBoaW50LCBiZWNhdXNlIHdlIHN0YXJ0IGRlZXBlciBpbiB0aGUgdHJlZSBhZ2Fpbi5cbiAgICAgICAgaW50ZXJhY3Rpb25FdmVudC5zdG9wUHJvcGFnYXRpb25IaW50ID0gZmFsc2U7XG5cbiAgICAgICAgdmFyIGRlbGF5ZWRMZW4gPSBkZWxheWVkRXZlbnRzLmxlbmd0aDtcblxuICAgICAgICB0aGlzLmRlbGF5ZWRFdmVudHMgPSBbXTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRlbGF5ZWRMZW47IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIHJlZiA9IGRlbGF5ZWRFdmVudHNbaV07XG4gICAgICAgICAgICB2YXIgZGlzcGxheU9iamVjdCQxID0gcmVmLmRpc3BsYXlPYmplY3Q7XG4gICAgICAgICAgICB2YXIgZXZlbnRTdHJpbmcgPSByZWYuZXZlbnRTdHJpbmc7XG4gICAgICAgICAgICB2YXIgZXZlbnREYXRhID0gcmVmLmV2ZW50RGF0YTtcblxuICAgICAgICAgICAgLy8gV2hlbiB3ZSByZWFjaCB0aGUgb2JqZWN0IHdlIHdhbnRlZCB0byBzdG9wIHByb3BhZ2F0aW5nIGF0LFxuICAgICAgICAgICAgLy8gc2V0IHRoZSBwcm9wYWdhdGlvbiBoaW50LlxuICAgICAgICAgICAgaWYgKGV2ZW50RGF0YS5zdG9wc1Byb3BhZ2F0aW5nQXQgPT09IGRpc3BsYXlPYmplY3QkMSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBldmVudERhdGEuc3RvcFByb3BhZ2F0aW9uSGludCA9IHRydWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0JDEsIGV2ZW50U3RyaW5nLCBldmVudERhdGEpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGhpdDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSXMgY2FsbGVkIHdoZW4gdGhlIHBvaW50ZXIgYnV0dG9uIGlzIHByZXNzZWQgZG93biBvbiB0aGUgcmVuZGVyZXIgZWxlbWVudFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BvaW50ZXJFdmVudH0gb3JpZ2luYWxFdmVudCAtIFRoZSBET00gZXZlbnQgb2YgYSBwb2ludGVyIGJ1dHRvbiBiZWluZyBwcmVzc2VkIGRvd25cbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLm9uUG9pbnRlckRvd24gPSBmdW5jdGlvbiBvblBvaW50ZXJEb3duIChvcmlnaW5hbEV2ZW50KVxuICAgIHtcbiAgICAgICAgLy8gaWYgd2Ugc3VwcG9ydCB0b3VjaCBldmVudHMsIHRoZW4gb25seSB1c2UgdGhvc2UgZm9yIHRvdWNoIGV2ZW50cywgbm90IHBvaW50ZXIgZXZlbnRzXG4gICAgICAgIGlmICh0aGlzLnN1cHBvcnRzVG91Y2hFdmVudHMgJiYgb3JpZ2luYWxFdmVudC5wb2ludGVyVHlwZSA9PT0gJ3RvdWNoJykgeyByZXR1cm47IH1cblxuICAgICAgICB2YXIgZXZlbnRzID0gdGhpcy5ub3JtYWxpemVUb1BvaW50ZXJEYXRhKG9yaWdpbmFsRXZlbnQpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBObyBuZWVkIHRvIHByZXZlbnQgZGVmYXVsdCBvbiBuYXR1cmFsIHBvaW50ZXIgZXZlbnRzLCBhcyB0aGVyZSBhcmUgbm8gc2lkZSBlZmZlY3RzXG4gICAgICAgICAqIE5vcm1hbGl6ZWQgZXZlbnRzLCBob3dldmVyLCBtYXkgaGF2ZSB0aGUgZG91YmxlIG1vdXNlZG93bi90b3VjaHN0YXJ0IGlzc3VlIG9uIHRoZSBuYXRpdmUgYW5kcm9pZCBicm93c2VyLFxuICAgICAgICAgKiBzbyBzdGlsbCBuZWVkIHRvIGJlIHByZXZlbnRlZC5cbiAgICAgICAgICovXG5cbiAgICAgICAgLy8gR3VhcmFudGVlZCB0aGF0IHRoZXJlIHdpbGwgYmUgYXQgbGVhc3Qgb25lIGV2ZW50IGluIGV2ZW50cywgYW5kIGFsbCBldmVudHMgbXVzdCBoYXZlIHRoZSBzYW1lIHBvaW50ZXIgdHlwZVxuXG4gICAgICAgIGlmICh0aGlzLmF1dG9QcmV2ZW50RGVmYXVsdCAmJiBldmVudHNbMF0uaXNOb3JtYWxpemVkKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgY2FuY2VsYWJsZSA9IG9yaWdpbmFsRXZlbnQuY2FuY2VsYWJsZSB8fCAhKCdjYW5jZWxhYmxlJyBpbiBvcmlnaW5hbEV2ZW50KTtcblxuICAgICAgICAgICAgaWYgKGNhbmNlbGFibGUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgb3JpZ2luYWxFdmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGV2ZW50TGVuID0gZXZlbnRzLmxlbmd0aDtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGV2ZW50TGVuOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBldmVudCA9IGV2ZW50c1tpXTtcblxuICAgICAgICAgICAgdmFyIGludGVyYWN0aW9uRGF0YSA9IHRoaXMuZ2V0SW50ZXJhY3Rpb25EYXRhRm9yUG9pbnRlcklkKGV2ZW50KTtcblxuICAgICAgICAgICAgdmFyIGludGVyYWN0aW9uRXZlbnQgPSB0aGlzLmNvbmZpZ3VyZUludGVyYWN0aW9uRXZlbnRGb3JET01FdmVudCh0aGlzLmV2ZW50RGF0YSwgZXZlbnQsIGludGVyYWN0aW9uRGF0YSk7XG5cbiAgICAgICAgICAgIGludGVyYWN0aW9uRXZlbnQuZGF0YS5vcmlnaW5hbEV2ZW50ID0gb3JpZ2luYWxFdmVudDtcblxuICAgICAgICAgICAgdGhpcy5wcm9jZXNzSW50ZXJhY3RpdmUoaW50ZXJhY3Rpb25FdmVudCwgdGhpcy5yZW5kZXJlci5fbGFzdE9iamVjdFJlbmRlcmVkLCB0aGlzLnByb2Nlc3NQb2ludGVyRG93biwgdHJ1ZSk7XG5cbiAgICAgICAgICAgIHRoaXMuZW1pdCgncG9pbnRlcmRvd24nLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgIGlmIChldmVudC5wb2ludGVyVHlwZSA9PT0gJ3RvdWNoJylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ3RvdWNoc3RhcnQnLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGVtaXQgYSBtb3VzZSBldmVudCBmb3IgXCJwZW5cIiBwb2ludGVycywgdGhlIHdheSBhIGJyb3dzZXIgd291bGQgZW1pdCBhIGZhbGxiYWNrIGV2ZW50XG4gICAgICAgICAgICBlbHNlIGlmIChldmVudC5wb2ludGVyVHlwZSA9PT0gJ21vdXNlJyB8fCBldmVudC5wb2ludGVyVHlwZSA9PT0gJ3BlbicpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdmFyIGlzUmlnaHRCdXR0b24gPSBldmVudC5idXR0b24gPT09IDI7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoaXNSaWdodEJ1dHRvbiA/ICdyaWdodGRvd24nIDogJ21vdXNlZG93bicsIHRoaXMuZXZlbnREYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBQcm9jZXNzZXMgdGhlIHJlc3VsdCBvZiB0aGUgcG9pbnRlciBkb3duIGNoZWNrIGFuZCBkaXNwYXRjaGVzIHRoZSBldmVudCBpZiBuZWVkIGJlXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBpbnRlcmFjdGlvbkV2ZW50IC0gVGhlIGludGVyYWN0aW9uIGV2ZW50IHdyYXBwaW5nIHRoZSBET00gZXZlbnRcbiAgICAgKiBAcGFyYW0ge1BJWEkuQ29udGFpbmVyfFBJWEkuU3ByaXRlfFBJWEkuVGlsaW5nU3ByaXRlfSBkaXNwbGF5T2JqZWN0IC0gVGhlIGRpc3BsYXkgb2JqZWN0IHRoYXQgd2FzIHRlc3RlZFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gaGl0IC0gdGhlIHJlc3VsdCBvZiB0aGUgaGl0IHRlc3Qgb24gdGhlIGRpc3BsYXkgb2JqZWN0XG4gICAgICovXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5wcm9jZXNzUG9pbnRlckRvd24gPSBmdW5jdGlvbiBwcm9jZXNzUG9pbnRlckRvd24gKGludGVyYWN0aW9uRXZlbnQsIGRpc3BsYXlPYmplY3QsIGhpdClcbiAgICB7XG4gICAgICAgIHZhciBkYXRhID0gaW50ZXJhY3Rpb25FdmVudC5kYXRhO1xuICAgICAgICB2YXIgaWQgPSBpbnRlcmFjdGlvbkV2ZW50LmRhdGEuaWRlbnRpZmllcjtcblxuICAgICAgICBpZiAoaGl0KVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoIWRpc3BsYXlPYmplY3QudHJhY2tlZFBvaW50ZXJzW2lkXSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkaXNwbGF5T2JqZWN0LnRyYWNrZWRQb2ludGVyc1tpZF0gPSBuZXcgSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEoaWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsICdwb2ludGVyZG93bicsIGludGVyYWN0aW9uRXZlbnQpO1xuXG4gICAgICAgICAgICBpZiAoZGF0YS5wb2ludGVyVHlwZSA9PT0gJ3RvdWNoJylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgJ3RvdWNoc3RhcnQnLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGRhdGEucG9pbnRlclR5cGUgPT09ICdtb3VzZScgfHwgZGF0YS5wb2ludGVyVHlwZSA9PT0gJ3BlbicpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdmFyIGlzUmlnaHRCdXR0b24gPSBkYXRhLmJ1dHRvbiA9PT0gMjtcblxuICAgICAgICAgICAgICAgIGlmIChpc1JpZ2h0QnV0dG9uKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheU9iamVjdC50cmFja2VkUG9pbnRlcnNbaWRdLnJpZ2h0RG93biA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXlPYmplY3QudHJhY2tlZFBvaW50ZXJzW2lkXS5sZWZ0RG93biA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsIGlzUmlnaHRCdXR0b24gPyAncmlnaHRkb3duJyA6ICdtb3VzZWRvd24nLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBJcyBjYWxsZWQgd2hlbiB0aGUgcG9pbnRlciBidXR0b24gaXMgcmVsZWFzZWQgb24gdGhlIHJlbmRlcmVyIGVsZW1lbnRcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQb2ludGVyRXZlbnR9IG9yaWdpbmFsRXZlbnQgLSBUaGUgRE9NIGV2ZW50IG9mIGEgcG9pbnRlciBidXR0b24gYmVpbmcgcmVsZWFzZWRcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGNhbmNlbGxlZCAtIHRydWUgaWYgdGhlIHBvaW50ZXIgaXMgY2FuY2VsbGVkXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyAtIEZ1bmN0aW9uIHBhc3NlZCB0byB7QGxpbmsgcHJvY2Vzc0ludGVyYWN0aXZlfVxuICAgICAqL1xuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUub25Qb2ludGVyQ29tcGxldGUgPSBmdW5jdGlvbiBvblBvaW50ZXJDb21wbGV0ZSAob3JpZ2luYWxFdmVudCwgY2FuY2VsbGVkLCBmdW5jKVxuICAgIHtcbiAgICAgICAgdmFyIGV2ZW50cyA9IHRoaXMubm9ybWFsaXplVG9Qb2ludGVyRGF0YShvcmlnaW5hbEV2ZW50KTtcblxuICAgICAgICB2YXIgZXZlbnRMZW4gPSBldmVudHMubGVuZ3RoO1xuXG4gICAgICAgIC8vIGlmIHRoZSBldmVudCB3YXNuJ3QgdGFyZ2V0aW5nIG91ciBjYW52YXMsIHRoZW4gY29uc2lkZXIgaXQgdG8gYmUgcG9pbnRlcnVwb3V0c2lkZVxuICAgICAgICAvLyBpbiBhbGwgY2FzZXMgKHVubGVzcyBpdCB3YXMgYSBwb2ludGVyY2FuY2VsKVxuICAgICAgICB2YXIgZXZlbnRBcHBlbmQgPSBvcmlnaW5hbEV2ZW50LnRhcmdldCAhPT0gdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQgPyAnb3V0c2lkZScgOiAnJztcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGV2ZW50TGVuOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBldmVudCA9IGV2ZW50c1tpXTtcblxuICAgICAgICAgICAgdmFyIGludGVyYWN0aW9uRGF0YSA9IHRoaXMuZ2V0SW50ZXJhY3Rpb25EYXRhRm9yUG9pbnRlcklkKGV2ZW50KTtcblxuICAgICAgICAgICAgdmFyIGludGVyYWN0aW9uRXZlbnQgPSB0aGlzLmNvbmZpZ3VyZUludGVyYWN0aW9uRXZlbnRGb3JET01FdmVudCh0aGlzLmV2ZW50RGF0YSwgZXZlbnQsIGludGVyYWN0aW9uRGF0YSk7XG5cbiAgICAgICAgICAgIGludGVyYWN0aW9uRXZlbnQuZGF0YS5vcmlnaW5hbEV2ZW50ID0gb3JpZ2luYWxFdmVudDtcblxuICAgICAgICAgICAgLy8gcGVyZm9ybSBoaXQgdGVzdGluZyBmb3IgZXZlbnRzIHRhcmdldGluZyBvdXIgY2FudmFzIG9yIGNhbmNlbCBldmVudHNcbiAgICAgICAgICAgIHRoaXMucHJvY2Vzc0ludGVyYWN0aXZlKGludGVyYWN0aW9uRXZlbnQsIHRoaXMucmVuZGVyZXIuX2xhc3RPYmplY3RSZW5kZXJlZCwgZnVuYywgY2FuY2VsbGVkIHx8ICFldmVudEFwcGVuZCk7XG5cbiAgICAgICAgICAgIHRoaXMuZW1pdChjYW5jZWxsZWQgPyAncG9pbnRlcmNhbmNlbCcgOiAoXCJwb2ludGVydXBcIiArIGV2ZW50QXBwZW5kKSwgaW50ZXJhY3Rpb25FdmVudCk7XG5cbiAgICAgICAgICAgIGlmIChldmVudC5wb2ludGVyVHlwZSA9PT0gJ21vdXNlJyB8fCBldmVudC5wb2ludGVyVHlwZSA9PT0gJ3BlbicpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdmFyIGlzUmlnaHRCdXR0b24gPSBldmVudC5idXR0b24gPT09IDI7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoaXNSaWdodEJ1dHRvbiA/IChcInJpZ2h0dXBcIiArIGV2ZW50QXBwZW5kKSA6IChcIm1vdXNldXBcIiArIGV2ZW50QXBwZW5kKSwgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChldmVudC5wb2ludGVyVHlwZSA9PT0gJ3RvdWNoJylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoY2FuY2VsbGVkID8gJ3RvdWNoY2FuY2VsJyA6IChcInRvdWNoZW5kXCIgKyBldmVudEFwcGVuZCksIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgICAgIHRoaXMucmVsZWFzZUludGVyYWN0aW9uRGF0YUZvclBvaW50ZXJJZChldmVudC5wb2ludGVySWQsIGludGVyYWN0aW9uRGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSXMgY2FsbGVkIHdoZW4gdGhlIHBvaW50ZXIgYnV0dG9uIGlzIGNhbmNlbGxlZFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BvaW50ZXJFdmVudH0gZXZlbnQgLSBUaGUgRE9NIGV2ZW50IG9mIGEgcG9pbnRlciBidXR0b24gYmVpbmcgcmVsZWFzZWRcbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLm9uUG9pbnRlckNhbmNlbCA9IGZ1bmN0aW9uIG9uUG9pbnRlckNhbmNlbCAoZXZlbnQpXG4gICAge1xuICAgICAgICAvLyBpZiB3ZSBzdXBwb3J0IHRvdWNoIGV2ZW50cywgdGhlbiBvbmx5IHVzZSB0aG9zZSBmb3IgdG91Y2ggZXZlbnRzLCBub3QgcG9pbnRlciBldmVudHNcbiAgICAgICAgaWYgKHRoaXMuc3VwcG9ydHNUb3VjaEV2ZW50cyAmJiBldmVudC5wb2ludGVyVHlwZSA9PT0gJ3RvdWNoJykgeyByZXR1cm47IH1cblxuICAgICAgICB0aGlzLm9uUG9pbnRlckNvbXBsZXRlKGV2ZW50LCB0cnVlLCB0aGlzLnByb2Nlc3NQb2ludGVyQ2FuY2VsKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUHJvY2Vzc2VzIHRoZSByZXN1bHQgb2YgdGhlIHBvaW50ZXIgY2FuY2VsIGNoZWNrIGFuZCBkaXNwYXRjaGVzIHRoZSBldmVudCBpZiBuZWVkIGJlXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBpbnRlcmFjdGlvbkV2ZW50IC0gVGhlIGludGVyYWN0aW9uIGV2ZW50IHdyYXBwaW5nIHRoZSBET00gZXZlbnRcbiAgICAgKiBAcGFyYW0ge1BJWEkuQ29udGFpbmVyfFBJWEkuU3ByaXRlfFBJWEkuVGlsaW5nU3ByaXRlfSBkaXNwbGF5T2JqZWN0IC0gVGhlIGRpc3BsYXkgb2JqZWN0IHRoYXQgd2FzIHRlc3RlZFxuICAgICAqL1xuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUucHJvY2Vzc1BvaW50ZXJDYW5jZWwgPSBmdW5jdGlvbiBwcm9jZXNzUG9pbnRlckNhbmNlbCAoaW50ZXJhY3Rpb25FdmVudCwgZGlzcGxheU9iamVjdClcbiAgICB7XG4gICAgICAgIHZhciBkYXRhID0gaW50ZXJhY3Rpb25FdmVudC5kYXRhO1xuXG4gICAgICAgIHZhciBpZCA9IGludGVyYWN0aW9uRXZlbnQuZGF0YS5pZGVudGlmaWVyO1xuXG4gICAgICAgIGlmIChkaXNwbGF5T2JqZWN0LnRyYWNrZWRQb2ludGVyc1tpZF0gIT09IHVuZGVmaW5lZClcbiAgICAgICAge1xuICAgICAgICAgICAgZGVsZXRlIGRpc3BsYXlPYmplY3QudHJhY2tlZFBvaW50ZXJzW2lkXTtcbiAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCAncG9pbnRlcmNhbmNlbCcsIGludGVyYWN0aW9uRXZlbnQpO1xuXG4gICAgICAgICAgICBpZiAoZGF0YS5wb2ludGVyVHlwZSA9PT0gJ3RvdWNoJylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgJ3RvdWNoY2FuY2VsJywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSXMgY2FsbGVkIHdoZW4gdGhlIHBvaW50ZXIgYnV0dG9uIGlzIHJlbGVhc2VkIG9uIHRoZSByZW5kZXJlciBlbGVtZW50XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UG9pbnRlckV2ZW50fSBldmVudCAtIFRoZSBET00gZXZlbnQgb2YgYSBwb2ludGVyIGJ1dHRvbiBiZWluZyByZWxlYXNlZFxuICAgICAqL1xuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUub25Qb2ludGVyVXAgPSBmdW5jdGlvbiBvblBvaW50ZXJVcCAoZXZlbnQpXG4gICAge1xuICAgICAgICAvLyBpZiB3ZSBzdXBwb3J0IHRvdWNoIGV2ZW50cywgdGhlbiBvbmx5IHVzZSB0aG9zZSBmb3IgdG91Y2ggZXZlbnRzLCBub3QgcG9pbnRlciBldmVudHNcbiAgICAgICAgaWYgKHRoaXMuc3VwcG9ydHNUb3VjaEV2ZW50cyAmJiBldmVudC5wb2ludGVyVHlwZSA9PT0gJ3RvdWNoJykgeyByZXR1cm47IH1cblxuICAgICAgICB0aGlzLm9uUG9pbnRlckNvbXBsZXRlKGV2ZW50LCBmYWxzZSwgdGhpcy5wcm9jZXNzUG9pbnRlclVwKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUHJvY2Vzc2VzIHRoZSByZXN1bHQgb2YgdGhlIHBvaW50ZXIgdXAgY2hlY2sgYW5kIGRpc3BhdGNoZXMgdGhlIGV2ZW50IGlmIG5lZWQgYmVcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGludGVyYWN0aW9uRXZlbnQgLSBUaGUgaW50ZXJhY3Rpb24gZXZlbnQgd3JhcHBpbmcgdGhlIERPTSBldmVudFxuICAgICAqIEBwYXJhbSB7UElYSS5Db250YWluZXJ8UElYSS5TcHJpdGV8UElYSS5UaWxpbmdTcHJpdGV9IGRpc3BsYXlPYmplY3QgLSBUaGUgZGlzcGxheSBvYmplY3QgdGhhdCB3YXMgdGVzdGVkXG4gICAgICogQHBhcmFtIHtib29sZWFufSBoaXQgLSB0aGUgcmVzdWx0IG9mIHRoZSBoaXQgdGVzdCBvbiB0aGUgZGlzcGxheSBvYmplY3RcbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLnByb2Nlc3NQb2ludGVyVXAgPSBmdW5jdGlvbiBwcm9jZXNzUG9pbnRlclVwIChpbnRlcmFjdGlvbkV2ZW50LCBkaXNwbGF5T2JqZWN0LCBoaXQpXG4gICAge1xuICAgICAgICB2YXIgZGF0YSA9IGludGVyYWN0aW9uRXZlbnQuZGF0YTtcblxuICAgICAgICB2YXIgaWQgPSBpbnRlcmFjdGlvbkV2ZW50LmRhdGEuaWRlbnRpZmllcjtcblxuICAgICAgICB2YXIgdHJhY2tpbmdEYXRhID0gZGlzcGxheU9iamVjdC50cmFja2VkUG9pbnRlcnNbaWRdO1xuXG4gICAgICAgIHZhciBpc1RvdWNoID0gZGF0YS5wb2ludGVyVHlwZSA9PT0gJ3RvdWNoJztcblxuICAgICAgICB2YXIgaXNNb3VzZSA9IChkYXRhLnBvaW50ZXJUeXBlID09PSAnbW91c2UnIHx8IGRhdGEucG9pbnRlclR5cGUgPT09ICdwZW4nKTtcbiAgICAgICAgLy8gbmVlZCB0byB0cmFjayBtb3VzZSBkb3duIHN0YXR1cyBpbiB0aGUgbW91c2UgYmxvY2sgc28gdGhhdCB3ZSBjYW4gZW1pdFxuICAgICAgICAvLyBldmVudCBpbiBhIGxhdGVyIGJsb2NrXG4gICAgICAgIHZhciBpc01vdXNlVGFwID0gZmFsc2U7XG5cbiAgICAgICAgLy8gTW91c2Ugb25seVxuICAgICAgICBpZiAoaXNNb3VzZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIGlzUmlnaHRCdXR0b24gPSBkYXRhLmJ1dHRvbiA9PT0gMjtcblxuICAgICAgICAgICAgdmFyIGZsYWdzID0gSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEuRkxBR1M7XG5cbiAgICAgICAgICAgIHZhciB0ZXN0ID0gaXNSaWdodEJ1dHRvbiA/IGZsYWdzLlJJR0hUX0RPV04gOiBmbGFncy5MRUZUX0RPV047XG5cbiAgICAgICAgICAgIHZhciBpc0Rvd24gPSB0cmFja2luZ0RhdGEgIT09IHVuZGVmaW5lZCAmJiAodHJhY2tpbmdEYXRhLmZsYWdzICYgdGVzdCk7XG5cbiAgICAgICAgICAgIGlmIChoaXQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsIGlzUmlnaHRCdXR0b24gPyAncmlnaHR1cCcgOiAnbW91c2V1cCcsIGludGVyYWN0aW9uRXZlbnQpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGlzRG93bilcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCBpc1JpZ2h0QnV0dG9uID8gJ3JpZ2h0Y2xpY2snIDogJ2NsaWNrJywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIGJlY2F1c2Ugd2UgY2FuIGNvbmZpcm0gdGhhdCB0aGUgbW91c2Vkb3duIGhhcHBlbmVkIG9uIHRoaXMgb2JqZWN0LCBmbGFnIGZvciBsYXRlciBlbWl0IG9mIHBvaW50ZXJ0YXBcbiAgICAgICAgICAgICAgICAgICAgaXNNb3VzZVRhcCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaXNEb3duKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCBpc1JpZ2h0QnV0dG9uID8gJ3JpZ2h0dXBvdXRzaWRlJyA6ICdtb3VzZXVwb3V0c2lkZScsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gdXBkYXRlIHRoZSBkb3duIHN0YXRlIG9mIHRoZSB0cmFja2luZyBkYXRhXG4gICAgICAgICAgICBpZiAodHJhY2tpbmdEYXRhKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmIChpc1JpZ2h0QnV0dG9uKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdHJhY2tpbmdEYXRhLnJpZ2h0RG93biA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0cmFja2luZ0RhdGEubGVmdERvd24gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBQb2ludGVycyBhbmQgVG91Y2hlcywgYW5kIE1vdXNlXG4gICAgICAgIGlmIChoaXQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCAncG9pbnRlcnVwJywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICBpZiAoaXNUb3VjaCkgeyB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgJ3RvdWNoZW5kJywgaW50ZXJhY3Rpb25FdmVudCk7IH1cblxuICAgICAgICAgICAgaWYgKHRyYWNraW5nRGF0YSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAvLyBlbWl0IHBvaW50ZXJ0YXAgaWYgbm90IGEgbW91c2UsIG9yIGlmIHRoZSBtb3VzZSBibG9jayBkZWNpZGVkIGl0IHdhcyBhIHRhcFxuICAgICAgICAgICAgICAgIGlmICghaXNNb3VzZSB8fCBpc01vdXNlVGFwKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsICdwb2ludGVydGFwJywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChpc1RvdWNoKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsICd0YXAnLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgLy8gdG91Y2hlcyBhcmUgbm8gbG9uZ2VyIG92ZXIgKGlmIHRoZXkgZXZlciB3ZXJlKSB3aGVuIHdlIGdldCB0aGUgdG91Y2hlbmRcbiAgICAgICAgICAgICAgICAgICAgLy8gc28gd2Ugc2hvdWxkIGVuc3VyZSB0aGF0IHdlIGRvbid0IGtlZXAgcHJldGVuZGluZyB0aGF0IHRoZXkgYXJlXG4gICAgICAgICAgICAgICAgICAgIHRyYWNraW5nRGF0YS5vdmVyID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRyYWNraW5nRGF0YSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsICdwb2ludGVydXBvdXRzaWRlJywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICBpZiAoaXNUb3VjaCkgeyB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgJ3RvdWNoZW5kb3V0c2lkZScsIGludGVyYWN0aW9uRXZlbnQpOyB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gT25seSByZW1vdmUgdGhlIHRyYWNraW5nIGRhdGEgaWYgdGhlcmUgaXMgbm8gb3Zlci9kb3duIHN0YXRlIHN0aWxsIGFzc29jaWF0ZWQgd2l0aCBpdFxuICAgICAgICBpZiAodHJhY2tpbmdEYXRhICYmIHRyYWNraW5nRGF0YS5ub25lKVxuICAgICAgICB7XG4gICAgICAgICAgICBkZWxldGUgZGlzcGxheU9iamVjdC50cmFja2VkUG9pbnRlcnNbaWRdO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIElzIGNhbGxlZCB3aGVuIHRoZSBwb2ludGVyIG1vdmVzIGFjcm9zcyB0aGUgcmVuZGVyZXIgZWxlbWVudFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BvaW50ZXJFdmVudH0gb3JpZ2luYWxFdmVudCAtIFRoZSBET00gZXZlbnQgb2YgYSBwb2ludGVyIG1vdmluZ1xuICAgICAqL1xuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUub25Qb2ludGVyTW92ZSA9IGZ1bmN0aW9uIG9uUG9pbnRlck1vdmUgKG9yaWdpbmFsRXZlbnQpXG4gICAge1xuICAgICAgICAvLyBpZiB3ZSBzdXBwb3J0IHRvdWNoIGV2ZW50cywgdGhlbiBvbmx5IHVzZSB0aG9zZSBmb3IgdG91Y2ggZXZlbnRzLCBub3QgcG9pbnRlciBldmVudHNcbiAgICAgICAgaWYgKHRoaXMuc3VwcG9ydHNUb3VjaEV2ZW50cyAmJiBvcmlnaW5hbEV2ZW50LnBvaW50ZXJUeXBlID09PSAndG91Y2gnKSB7IHJldHVybjsgfVxuXG4gICAgICAgIHZhciBldmVudHMgPSB0aGlzLm5vcm1hbGl6ZVRvUG9pbnRlckRhdGEob3JpZ2luYWxFdmVudCk7XG5cbiAgICAgICAgaWYgKGV2ZW50c1swXS5wb2ludGVyVHlwZSA9PT0gJ21vdXNlJyB8fCBldmVudHNbMF0ucG9pbnRlclR5cGUgPT09ICdwZW4nKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmRpZE1vdmUgPSB0cnVlO1xuXG4gICAgICAgICAgICB0aGlzLmN1cnNvciA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZXZlbnRMZW4gPSBldmVudHMubGVuZ3RoO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZXZlbnRMZW47IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIGV2ZW50ID0gZXZlbnRzW2ldO1xuXG4gICAgICAgICAgICB2YXIgaW50ZXJhY3Rpb25EYXRhID0gdGhpcy5nZXRJbnRlcmFjdGlvbkRhdGFGb3JQb2ludGVySWQoZXZlbnQpO1xuXG4gICAgICAgICAgICB2YXIgaW50ZXJhY3Rpb25FdmVudCA9IHRoaXMuY29uZmlndXJlSW50ZXJhY3Rpb25FdmVudEZvckRPTUV2ZW50KHRoaXMuZXZlbnREYXRhLCBldmVudCwgaW50ZXJhY3Rpb25EYXRhKTtcblxuICAgICAgICAgICAgaW50ZXJhY3Rpb25FdmVudC5kYXRhLm9yaWdpbmFsRXZlbnQgPSBvcmlnaW5hbEV2ZW50O1xuXG4gICAgICAgICAgICB0aGlzLnByb2Nlc3NJbnRlcmFjdGl2ZShpbnRlcmFjdGlvbkV2ZW50LCB0aGlzLnJlbmRlcmVyLl9sYXN0T2JqZWN0UmVuZGVyZWQsIHRoaXMucHJvY2Vzc1BvaW50ZXJNb3ZlLCB0cnVlKTtcblxuICAgICAgICAgICAgdGhpcy5lbWl0KCdwb2ludGVybW92ZScsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgaWYgKGV2ZW50LnBvaW50ZXJUeXBlID09PSAndG91Y2gnKSB7IHRoaXMuZW1pdCgndG91Y2htb3ZlJywgaW50ZXJhY3Rpb25FdmVudCk7IH1cbiAgICAgICAgICAgIGlmIChldmVudC5wb2ludGVyVHlwZSA9PT0gJ21vdXNlJyB8fCBldmVudC5wb2ludGVyVHlwZSA9PT0gJ3BlbicpIHsgdGhpcy5lbWl0KCdtb3VzZW1vdmUnLCBpbnRlcmFjdGlvbkV2ZW50KTsgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGV2ZW50c1swXS5wb2ludGVyVHlwZSA9PT0gJ21vdXNlJylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5zZXRDdXJzb3JNb2RlKHRoaXMuY3Vyc29yKTtcblxuICAgICAgICAgICAgLy8gVE9ETyBCVUcgZm9yIHBhcmVudHMgaW50ZXJhY3RpdmUgb2JqZWN0IChib3JkZXIgb3JkZXIgaXNzdWUpXG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUHJvY2Vzc2VzIHRoZSByZXN1bHQgb2YgdGhlIHBvaW50ZXIgbW92ZSBjaGVjayBhbmQgZGlzcGF0Y2hlcyB0aGUgZXZlbnQgaWYgbmVlZCBiZVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gaW50ZXJhY3Rpb25FdmVudCAtIFRoZSBpbnRlcmFjdGlvbiBldmVudCB3cmFwcGluZyB0aGUgRE9NIGV2ZW50XG4gICAgICogQHBhcmFtIHtQSVhJLkNvbnRhaW5lcnxQSVhJLlNwcml0ZXxQSVhJLlRpbGluZ1Nwcml0ZX0gZGlzcGxheU9iamVjdCAtIFRoZSBkaXNwbGF5IG9iamVjdCB0aGF0IHdhcyB0ZXN0ZWRcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGhpdCAtIHRoZSByZXN1bHQgb2YgdGhlIGhpdCB0ZXN0IG9uIHRoZSBkaXNwbGF5IG9iamVjdFxuICAgICAqL1xuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUucHJvY2Vzc1BvaW50ZXJNb3ZlID0gZnVuY3Rpb24gcHJvY2Vzc1BvaW50ZXJNb3ZlIChpbnRlcmFjdGlvbkV2ZW50LCBkaXNwbGF5T2JqZWN0LCBoaXQpXG4gICAge1xuICAgICAgICB2YXIgZGF0YSA9IGludGVyYWN0aW9uRXZlbnQuZGF0YTtcblxuICAgICAgICB2YXIgaXNUb3VjaCA9IGRhdGEucG9pbnRlclR5cGUgPT09ICd0b3VjaCc7XG5cbiAgICAgICAgdmFyIGlzTW91c2UgPSAoZGF0YS5wb2ludGVyVHlwZSA9PT0gJ21vdXNlJyB8fCBkYXRhLnBvaW50ZXJUeXBlID09PSAncGVuJyk7XG5cbiAgICAgICAgaWYgKGlzTW91c2UpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMucHJvY2Vzc1BvaW50ZXJPdmVyT3V0KGludGVyYWN0aW9uRXZlbnQsIGRpc3BsYXlPYmplY3QsIGhpdCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMubW92ZVdoZW5JbnNpZGUgfHwgaGl0KVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgJ3BvaW50ZXJtb3ZlJywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICBpZiAoaXNUb3VjaCkgeyB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgJ3RvdWNobW92ZScsIGludGVyYWN0aW9uRXZlbnQpOyB9XG4gICAgICAgICAgICBpZiAoaXNNb3VzZSkgeyB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgJ21vdXNlbW92ZScsIGludGVyYWN0aW9uRXZlbnQpOyB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSXMgY2FsbGVkIHdoZW4gdGhlIHBvaW50ZXIgaXMgbW92ZWQgb3V0IG9mIHRoZSByZW5kZXJlciBlbGVtZW50XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UG9pbnRlckV2ZW50fSBvcmlnaW5hbEV2ZW50IC0gVGhlIERPTSBldmVudCBvZiBhIHBvaW50ZXIgYmVpbmcgbW92ZWQgb3V0XG4gICAgICovXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5vblBvaW50ZXJPdXQgPSBmdW5jdGlvbiBvblBvaW50ZXJPdXQgKG9yaWdpbmFsRXZlbnQpXG4gICAge1xuICAgICAgICAvLyBpZiB3ZSBzdXBwb3J0IHRvdWNoIGV2ZW50cywgdGhlbiBvbmx5IHVzZSB0aG9zZSBmb3IgdG91Y2ggZXZlbnRzLCBub3QgcG9pbnRlciBldmVudHNcbiAgICAgICAgaWYgKHRoaXMuc3VwcG9ydHNUb3VjaEV2ZW50cyAmJiBvcmlnaW5hbEV2ZW50LnBvaW50ZXJUeXBlID09PSAndG91Y2gnKSB7IHJldHVybjsgfVxuXG4gICAgICAgIHZhciBldmVudHMgPSB0aGlzLm5vcm1hbGl6ZVRvUG9pbnRlckRhdGEob3JpZ2luYWxFdmVudCk7XG5cbiAgICAgICAgLy8gT25seSBtb3VzZSBhbmQgcG9pbnRlciBjYW4gY2FsbCBvblBvaW50ZXJPdXQsIHNvIGV2ZW50cyB3aWxsIGFsd2F5cyBiZSBsZW5ndGggMVxuICAgICAgICB2YXIgZXZlbnQgPSBldmVudHNbMF07XG5cbiAgICAgICAgaWYgKGV2ZW50LnBvaW50ZXJUeXBlID09PSAnbW91c2UnKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLm1vdXNlT3ZlclJlbmRlcmVyID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLnNldEN1cnNvck1vZGUobnVsbCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgaW50ZXJhY3Rpb25EYXRhID0gdGhpcy5nZXRJbnRlcmFjdGlvbkRhdGFGb3JQb2ludGVySWQoZXZlbnQpO1xuXG4gICAgICAgIHZhciBpbnRlcmFjdGlvbkV2ZW50ID0gdGhpcy5jb25maWd1cmVJbnRlcmFjdGlvbkV2ZW50Rm9yRE9NRXZlbnQodGhpcy5ldmVudERhdGEsIGV2ZW50LCBpbnRlcmFjdGlvbkRhdGEpO1xuXG4gICAgICAgIGludGVyYWN0aW9uRXZlbnQuZGF0YS5vcmlnaW5hbEV2ZW50ID0gZXZlbnQ7XG5cbiAgICAgICAgdGhpcy5wcm9jZXNzSW50ZXJhY3RpdmUoaW50ZXJhY3Rpb25FdmVudCwgdGhpcy5yZW5kZXJlci5fbGFzdE9iamVjdFJlbmRlcmVkLCB0aGlzLnByb2Nlc3NQb2ludGVyT3Zlck91dCwgZmFsc2UpO1xuXG4gICAgICAgIHRoaXMuZW1pdCgncG9pbnRlcm91dCcsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICBpZiAoZXZlbnQucG9pbnRlclR5cGUgPT09ICdtb3VzZScgfHwgZXZlbnQucG9pbnRlclR5cGUgPT09ICdwZW4nKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmVtaXQoJ21vdXNlb3V0JywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyB3ZSBjYW4gZ2V0IHRvdWNobGVhdmUgZXZlbnRzIGFmdGVyIHRvdWNoZW5kLCBzbyB3ZSB3YW50IHRvIG1ha2Ugc3VyZSB3ZSBkb24ndFxuICAgICAgICAgICAgLy8gaW50cm9kdWNlIG1lbW9yeSBsZWFrc1xuICAgICAgICAgICAgdGhpcy5yZWxlYXNlSW50ZXJhY3Rpb25EYXRhRm9yUG9pbnRlcklkKGludGVyYWN0aW9uRGF0YS5pZGVudGlmaWVyKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBQcm9jZXNzZXMgdGhlIHJlc3VsdCBvZiB0aGUgcG9pbnRlciBvdmVyL291dCBjaGVjayBhbmQgZGlzcGF0Y2hlcyB0aGUgZXZlbnQgaWYgbmVlZCBiZVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gaW50ZXJhY3Rpb25FdmVudCAtIFRoZSBpbnRlcmFjdGlvbiBldmVudCB3cmFwcGluZyB0aGUgRE9NIGV2ZW50XG4gICAgICogQHBhcmFtIHtQSVhJLkNvbnRhaW5lcnxQSVhJLlNwcml0ZXxQSVhJLlRpbGluZ1Nwcml0ZX0gZGlzcGxheU9iamVjdCAtIFRoZSBkaXNwbGF5IG9iamVjdCB0aGF0IHdhcyB0ZXN0ZWRcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGhpdCAtIHRoZSByZXN1bHQgb2YgdGhlIGhpdCB0ZXN0IG9uIHRoZSBkaXNwbGF5IG9iamVjdFxuICAgICAqL1xuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUucHJvY2Vzc1BvaW50ZXJPdmVyT3V0ID0gZnVuY3Rpb24gcHJvY2Vzc1BvaW50ZXJPdmVyT3V0IChpbnRlcmFjdGlvbkV2ZW50LCBkaXNwbGF5T2JqZWN0LCBoaXQpXG4gICAge1xuICAgICAgICB2YXIgZGF0YSA9IGludGVyYWN0aW9uRXZlbnQuZGF0YTtcblxuICAgICAgICB2YXIgaWQgPSBpbnRlcmFjdGlvbkV2ZW50LmRhdGEuaWRlbnRpZmllcjtcblxuICAgICAgICB2YXIgaXNNb3VzZSA9IChkYXRhLnBvaW50ZXJUeXBlID09PSAnbW91c2UnIHx8IGRhdGEucG9pbnRlclR5cGUgPT09ICdwZW4nKTtcblxuICAgICAgICB2YXIgdHJhY2tpbmdEYXRhID0gZGlzcGxheU9iamVjdC50cmFja2VkUG9pbnRlcnNbaWRdO1xuXG4gICAgICAgIC8vIGlmIHdlIGp1c3QgbW91c2VkIG92ZXIgdGhlIGRpc3BsYXkgb2JqZWN0LCB0aGVuIHdlIG5lZWQgdG8gdHJhY2sgdGhhdCBzdGF0ZVxuICAgICAgICBpZiAoaGl0ICYmICF0cmFja2luZ0RhdGEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRyYWNraW5nRGF0YSA9IGRpc3BsYXlPYmplY3QudHJhY2tlZFBvaW50ZXJzW2lkXSA9IG5ldyBJbnRlcmFjdGlvblRyYWNraW5nRGF0YShpZCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHJhY2tpbmdEYXRhID09PSB1bmRlZmluZWQpIHsgcmV0dXJuOyB9XG5cbiAgICAgICAgaWYgKGhpdCAmJiB0aGlzLm1vdXNlT3ZlclJlbmRlcmVyKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoIXRyYWNraW5nRGF0YS5vdmVyKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRyYWNraW5nRGF0YS5vdmVyID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLmRlbGF5RGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCAncG9pbnRlcm92ZXInLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgICAgICBpZiAoaXNNb3VzZSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGVsYXlEaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsICdtb3VzZW92ZXInLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIG9ubHkgY2hhbmdlIHRoZSBjdXJzb3IgaWYgaXQgaGFzIG5vdCBhbHJlYWR5IGJlZW4gY2hhbmdlZCAoYnkgc29tZXRoaW5nIGRlZXBlciBpbiB0aGVcbiAgICAgICAgICAgIC8vIGRpc3BsYXkgdHJlZSlcbiAgICAgICAgICAgIGlmIChpc01vdXNlICYmIHRoaXMuY3Vyc29yID09PSBudWxsKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuY3Vyc29yID0gZGlzcGxheU9iamVjdC5jdXJzb3I7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHJhY2tpbmdEYXRhLm92ZXIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRyYWNraW5nRGF0YS5vdmVyID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgJ3BvaW50ZXJvdXQnLCB0aGlzLmV2ZW50RGF0YSk7XG4gICAgICAgICAgICBpZiAoaXNNb3VzZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgJ21vdXNlb3V0JywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBpZiB0aGVyZSBpcyBubyBtb3VzZSBkb3duIGluZm9ybWF0aW9uIGZvciB0aGUgcG9pbnRlciwgdGhlbiBpdCBpcyBzYWZlIHRvIGRlbGV0ZVxuICAgICAgICAgICAgaWYgKHRyYWNraW5nRGF0YS5ub25lKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBkaXNwbGF5T2JqZWN0LnRyYWNrZWRQb2ludGVyc1tpZF07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSXMgY2FsbGVkIHdoZW4gdGhlIHBvaW50ZXIgaXMgbW92ZWQgaW50byB0aGUgcmVuZGVyZXIgZWxlbWVudFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BvaW50ZXJFdmVudH0gb3JpZ2luYWxFdmVudCAtIFRoZSBET00gZXZlbnQgb2YgYSBwb2ludGVyIGJ1dHRvbiBiZWluZyBtb3ZlZCBpbnRvIHRoZSByZW5kZXJlciB2aWV3XG4gICAgICovXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5vblBvaW50ZXJPdmVyID0gZnVuY3Rpb24gb25Qb2ludGVyT3ZlciAob3JpZ2luYWxFdmVudClcbiAgICB7XG4gICAgICAgIHZhciBldmVudHMgPSB0aGlzLm5vcm1hbGl6ZVRvUG9pbnRlckRhdGEob3JpZ2luYWxFdmVudCk7XG5cbiAgICAgICAgLy8gT25seSBtb3VzZSBhbmQgcG9pbnRlciBjYW4gY2FsbCBvblBvaW50ZXJPdmVyLCBzbyBldmVudHMgd2lsbCBhbHdheXMgYmUgbGVuZ3RoIDFcbiAgICAgICAgdmFyIGV2ZW50ID0gZXZlbnRzWzBdO1xuXG4gICAgICAgIHZhciBpbnRlcmFjdGlvbkRhdGEgPSB0aGlzLmdldEludGVyYWN0aW9uRGF0YUZvclBvaW50ZXJJZChldmVudCk7XG5cbiAgICAgICAgdmFyIGludGVyYWN0aW9uRXZlbnQgPSB0aGlzLmNvbmZpZ3VyZUludGVyYWN0aW9uRXZlbnRGb3JET01FdmVudCh0aGlzLmV2ZW50RGF0YSwgZXZlbnQsIGludGVyYWN0aW9uRGF0YSk7XG5cbiAgICAgICAgaW50ZXJhY3Rpb25FdmVudC5kYXRhLm9yaWdpbmFsRXZlbnQgPSBldmVudDtcblxuICAgICAgICBpZiAoZXZlbnQucG9pbnRlclR5cGUgPT09ICdtb3VzZScpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMubW91c2VPdmVyUmVuZGVyZXIgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5lbWl0KCdwb2ludGVyb3ZlcicsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICBpZiAoZXZlbnQucG9pbnRlclR5cGUgPT09ICdtb3VzZScgfHwgZXZlbnQucG9pbnRlclR5cGUgPT09ICdwZW4nKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmVtaXQoJ21vdXNlb3ZlcicsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEdldCBJbnRlcmFjdGlvbkRhdGEgZm9yIGEgZ2l2ZW4gcG9pbnRlcklkLiBTdG9yZSB0aGF0IGRhdGEgYXMgd2VsbFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BvaW50ZXJFdmVudH0gZXZlbnQgLSBOb3JtYWxpemVkIHBvaW50ZXIgZXZlbnQsIG91dHB1dCBmcm9tIG5vcm1hbGl6ZVRvUG9pbnRlckRhdGFcbiAgICAgKiBAcmV0dXJuIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRGF0YX0gLSBJbnRlcmFjdGlvbiBkYXRhIGZvciB0aGUgZ2l2ZW4gcG9pbnRlciBpZGVudGlmaWVyXG4gICAgICovXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5nZXRJbnRlcmFjdGlvbkRhdGFGb3JQb2ludGVySWQgPSBmdW5jdGlvbiBnZXRJbnRlcmFjdGlvbkRhdGFGb3JQb2ludGVySWQgKGV2ZW50KVxuICAgIHtcbiAgICAgICAgdmFyIHBvaW50ZXJJZCA9IGV2ZW50LnBvaW50ZXJJZDtcblxuICAgICAgICB2YXIgaW50ZXJhY3Rpb25EYXRhO1xuXG4gICAgICAgIGlmIChwb2ludGVySWQgPT09IE1PVVNFX1BPSU5URVJfSUQgfHwgZXZlbnQucG9pbnRlclR5cGUgPT09ICdtb3VzZScpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGludGVyYWN0aW9uRGF0YSA9IHRoaXMubW91c2U7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5hY3RpdmVJbnRlcmFjdGlvbkRhdGFbcG9pbnRlcklkXSlcbiAgICAgICAge1xuICAgICAgICAgICAgaW50ZXJhY3Rpb25EYXRhID0gdGhpcy5hY3RpdmVJbnRlcmFjdGlvbkRhdGFbcG9pbnRlcklkXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIGludGVyYWN0aW9uRGF0YSA9IHRoaXMuaW50ZXJhY3Rpb25EYXRhUG9vbC5wb3AoKSB8fCBuZXcgSW50ZXJhY3Rpb25EYXRhKCk7XG4gICAgICAgICAgICBpbnRlcmFjdGlvbkRhdGEuaWRlbnRpZmllciA9IHBvaW50ZXJJZDtcbiAgICAgICAgICAgIHRoaXMuYWN0aXZlSW50ZXJhY3Rpb25EYXRhW3BvaW50ZXJJZF0gPSBpbnRlcmFjdGlvbkRhdGE7XG4gICAgICAgIH1cbiAgICAgICAgLy8gY29weSBwcm9wZXJ0aWVzIGZyb20gdGhlIGV2ZW50LCBzbyB0aGF0IHdlIGNhbiBtYWtlIHN1cmUgdGhhdCB0b3VjaC9wb2ludGVyIHNwZWNpZmljXG4gICAgICAgIC8vIGRhdGEgaXMgYXZhaWxhYmxlXG4gICAgICAgIGludGVyYWN0aW9uRGF0YS5jb3B5RXZlbnQoZXZlbnQpO1xuXG4gICAgICAgIHJldHVybiBpbnRlcmFjdGlvbkRhdGE7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJldHVybiB1bnVzZWQgSW50ZXJhY3Rpb25EYXRhIHRvIHRoZSBwb29sLCBmb3IgYSBnaXZlbiBwb2ludGVySWRcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHBvaW50ZXJJZCAtIElkZW50aWZpZXIgZnJvbSBhIHBvaW50ZXIgZXZlbnRcbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLnJlbGVhc2VJbnRlcmFjdGlvbkRhdGFGb3JQb2ludGVySWQgPSBmdW5jdGlvbiByZWxlYXNlSW50ZXJhY3Rpb25EYXRhRm9yUG9pbnRlcklkIChwb2ludGVySWQpXG4gICAge1xuICAgICAgICB2YXIgaW50ZXJhY3Rpb25EYXRhID0gdGhpcy5hY3RpdmVJbnRlcmFjdGlvbkRhdGFbcG9pbnRlcklkXTtcblxuICAgICAgICBpZiAoaW50ZXJhY3Rpb25EYXRhKVxuICAgICAgICB7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5hY3RpdmVJbnRlcmFjdGlvbkRhdGFbcG9pbnRlcklkXTtcbiAgICAgICAgICAgIGludGVyYWN0aW9uRGF0YS5yZXNldCgpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRhdGFQb29sLnB1c2goaW50ZXJhY3Rpb25EYXRhKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDb25maWd1cmUgYW4gSW50ZXJhY3Rpb25FdmVudCB0byB3cmFwIGEgRE9NIFBvaW50ZXJFdmVudCBhbmQgSW50ZXJhY3Rpb25EYXRhXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBpbnRlcmFjdGlvbkV2ZW50IC0gVGhlIGV2ZW50IHRvIGJlIGNvbmZpZ3VyZWRcbiAgICAgKiBAcGFyYW0ge1BvaW50ZXJFdmVudH0gcG9pbnRlckV2ZW50IC0gVGhlIERPTSBldmVudCB0aGF0IHdpbGwgYmUgcGFpcmVkIHdpdGggdGhlIEludGVyYWN0aW9uRXZlbnRcbiAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25EYXRhfSBpbnRlcmFjdGlvbkRhdGEgLSBUaGUgSW50ZXJhY3Rpb25EYXRhIHRoYXQgd2lsbCBiZSBwYWlyZWRcbiAgICAgKiAgICAgICAgd2l0aCB0aGUgSW50ZXJhY3Rpb25FdmVudFxuICAgICAqIEByZXR1cm4ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gdGhlIGludGVyYWN0aW9uIGV2ZW50IHRoYXQgd2FzIHBhc3NlZCBpblxuICAgICAqL1xuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUuY29uZmlndXJlSW50ZXJhY3Rpb25FdmVudEZvckRPTUV2ZW50ID0gZnVuY3Rpb24gY29uZmlndXJlSW50ZXJhY3Rpb25FdmVudEZvckRPTUV2ZW50IChpbnRlcmFjdGlvbkV2ZW50LCBwb2ludGVyRXZlbnQsIGludGVyYWN0aW9uRGF0YSlcbiAgICB7XG4gICAgICAgIGludGVyYWN0aW9uRXZlbnQuZGF0YSA9IGludGVyYWN0aW9uRGF0YTtcblxuICAgICAgICB0aGlzLm1hcFBvc2l0aW9uVG9Qb2ludChpbnRlcmFjdGlvbkRhdGEuZ2xvYmFsLCBwb2ludGVyRXZlbnQuY2xpZW50WCwgcG9pbnRlckV2ZW50LmNsaWVudFkpO1xuXG4gICAgICAgIC8vIE5vdCByZWFsbHkgc3VyZSB3aHkgdGhpcyBpcyBoYXBwZW5pbmcsIGJ1dCBpdCdzIGhvdyBhIHByZXZpb3VzIHZlcnNpb24gaGFuZGxlZCB0aGluZ3NcbiAgICAgICAgaWYgKHBvaW50ZXJFdmVudC5wb2ludGVyVHlwZSA9PT0gJ3RvdWNoJylcbiAgICAgICAge1xuICAgICAgICAgICAgcG9pbnRlckV2ZW50Lmdsb2JhbFggPSBpbnRlcmFjdGlvbkRhdGEuZ2xvYmFsLng7XG4gICAgICAgICAgICBwb2ludGVyRXZlbnQuZ2xvYmFsWSA9IGludGVyYWN0aW9uRGF0YS5nbG9iYWwueTtcbiAgICAgICAgfVxuXG4gICAgICAgIGludGVyYWN0aW9uRGF0YS5vcmlnaW5hbEV2ZW50ID0gcG9pbnRlckV2ZW50O1xuICAgICAgICBpbnRlcmFjdGlvbkV2ZW50LnJlc2V0KCk7XG5cbiAgICAgICAgcmV0dXJuIGludGVyYWN0aW9uRXZlbnQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEVuc3VyZXMgdGhhdCB0aGUgb3JpZ2luYWwgZXZlbnQgb2JqZWN0IGNvbnRhaW5zIGFsbCBkYXRhIHRoYXQgYSByZWd1bGFyIHBvaW50ZXIgZXZlbnQgd291bGQgaGF2ZVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1RvdWNoRXZlbnR8TW91c2VFdmVudHxQb2ludGVyRXZlbnR9IGV2ZW50IC0gVGhlIG9yaWdpbmFsIGV2ZW50IGRhdGEgZnJvbSBhIHRvdWNoIG9yIG1vdXNlIGV2ZW50XG4gICAgICogQHJldHVybiB7UG9pbnRlckV2ZW50W119IEFuIGFycmF5IGNvbnRhaW5pbmcgYSBzaW5nbGUgbm9ybWFsaXplZCBwb2ludGVyIGV2ZW50LCBpbiB0aGUgY2FzZSBvZiBhIHBvaW50ZXJcbiAgICAgKiAgb3IgbW91c2UgZXZlbnQsIG9yIGEgbXVsdGlwbGUgbm9ybWFsaXplZCBwb2ludGVyIGV2ZW50cyBpZiB0aGVyZSBhcmUgbXVsdGlwbGUgY2hhbmdlZCB0b3VjaGVzXG4gICAgICovXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5ub3JtYWxpemVUb1BvaW50ZXJEYXRhID0gZnVuY3Rpb24gbm9ybWFsaXplVG9Qb2ludGVyRGF0YSAoZXZlbnQpXG4gICAge1xuICAgICAgICB2YXIgbm9ybWFsaXplZEV2ZW50cyA9IFtdO1xuXG4gICAgICAgIGlmICh0aGlzLnN1cHBvcnRzVG91Y2hFdmVudHMgJiYgZXZlbnQgaW5zdGFuY2VvZiBUb3VjaEV2ZW50KVxuICAgICAgICB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbGkgPSBldmVudC5jaGFuZ2VkVG91Y2hlcy5sZW5ndGg7IGkgPCBsaTsgaSsrKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHZhciB0b3VjaCA9IGV2ZW50LmNoYW5nZWRUb3VjaGVzW2ldO1xuXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0b3VjaC5idXR0b24gPT09ICd1bmRlZmluZWQnKSB7IHRvdWNoLmJ1dHRvbiA9IGV2ZW50LnRvdWNoZXMubGVuZ3RoID8gMSA6IDA7IH1cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRvdWNoLmJ1dHRvbnMgPT09ICd1bmRlZmluZWQnKSB7IHRvdWNoLmJ1dHRvbnMgPSBldmVudC50b3VjaGVzLmxlbmd0aCA/IDEgOiAwOyB9XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0b3VjaC5pc1ByaW1hcnkgPT09ICd1bmRlZmluZWQnKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdG91Y2guaXNQcmltYXJ5ID0gZXZlbnQudG91Y2hlcy5sZW5ndGggPT09IDEgJiYgZXZlbnQudHlwZSA9PT0gJ3RvdWNoc3RhcnQnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRvdWNoLndpZHRoID09PSAndW5kZWZpbmVkJykgeyB0b3VjaC53aWR0aCA9IHRvdWNoLnJhZGl1c1ggfHwgMTsgfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdG91Y2guaGVpZ2h0ID09PSAndW5kZWZpbmVkJykgeyB0b3VjaC5oZWlnaHQgPSB0b3VjaC5yYWRpdXNZIHx8IDE7IH1cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRvdWNoLnRpbHRYID09PSAndW5kZWZpbmVkJykgeyB0b3VjaC50aWx0WCA9IDA7IH1cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRvdWNoLnRpbHRZID09PSAndW5kZWZpbmVkJykgeyB0b3VjaC50aWx0WSA9IDA7IH1cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRvdWNoLnBvaW50ZXJUeXBlID09PSAndW5kZWZpbmVkJykgeyB0b3VjaC5wb2ludGVyVHlwZSA9ICd0b3VjaCc7IH1cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRvdWNoLnBvaW50ZXJJZCA9PT0gJ3VuZGVmaW5lZCcpIHsgdG91Y2gucG9pbnRlcklkID0gdG91Y2guaWRlbnRpZmllciB8fCAwOyB9XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0b3VjaC5wcmVzc3VyZSA9PT0gJ3VuZGVmaW5lZCcpIHsgdG91Y2gucHJlc3N1cmUgPSB0b3VjaC5mb3JjZSB8fCAwLjU7IH1cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRvdWNoLnR3aXN0ID09PSAndW5kZWZpbmVkJykgeyB0b3VjaC50d2lzdCA9IDA7IH1cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRvdWNoLnRhbmdlbnRpYWxQcmVzc3VyZSA9PT0gJ3VuZGVmaW5lZCcpIHsgdG91Y2gudGFuZ2VudGlhbFByZXNzdXJlID0gMDsgfVxuICAgICAgICAgICAgICAgIC8vIFRPRE86IFJlbW92ZSB0aGVzZSwgYXMgbGF5ZXJYL1kgaXMgbm90IGEgc3RhbmRhcmQsIGlzIGRlcHJlY2F0ZWQsIGhhcyB1bmV2ZW5cbiAgICAgICAgICAgICAgICAvLyBzdXBwb3J0LCBhbmQgdGhlIGZpbGwgaW5zIGFyZSBub3QgcXVpdGUgdGhlIHNhbWVcbiAgICAgICAgICAgICAgICAvLyBvZmZzZXRYL1kgbWlnaHQgYmUgb2theSwgYnV0IGlzIG5vdCB0aGUgc2FtZSBhcyBjbGllbnRYL1kgd2hlbiB0aGUgY2FudmFzJ3MgdG9wXG4gICAgICAgICAgICAgICAgLy8gbGVmdCBpcyBub3QgMCwwIG9uIHRoZSBwYWdlXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0b3VjaC5sYXllclggPT09ICd1bmRlZmluZWQnKSB7IHRvdWNoLmxheWVyWCA9IHRvdWNoLm9mZnNldFggPSB0b3VjaC5jbGllbnRYOyB9XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0b3VjaC5sYXllclkgPT09ICd1bmRlZmluZWQnKSB7IHRvdWNoLmxheWVyWSA9IHRvdWNoLm9mZnNldFkgPSB0b3VjaC5jbGllbnRZOyB9XG5cbiAgICAgICAgICAgICAgICAvLyBtYXJrIHRoZSB0b3VjaCBhcyBub3JtYWxpemVkLCBqdXN0IHNvIHRoYXQgd2Uga25vdyB3ZSBkaWQgaXRcbiAgICAgICAgICAgICAgICB0b3VjaC5pc05vcm1hbGl6ZWQgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgbm9ybWFsaXplZEV2ZW50cy5wdXNoKHRvdWNoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBhcHBhcmVudGx5IFBvaW50ZXJFdmVudCBzdWJjbGFzc2VzIE1vdXNlRXZlbnQsIHNvIHlheVxuICAgICAgICBlbHNlIGlmIChldmVudCBpbnN0YW5jZW9mIE1vdXNlRXZlbnQgJiYgKCF0aGlzLnN1cHBvcnRzUG9pbnRlckV2ZW50cyB8fCAhKGV2ZW50IGluc3RhbmNlb2Ygd2luZG93LlBvaW50ZXJFdmVudCkpKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGV2ZW50LmlzUHJpbWFyeSA9PT0gJ3VuZGVmaW5lZCcpIHsgZXZlbnQuaXNQcmltYXJ5ID0gdHJ1ZTsgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiBldmVudC53aWR0aCA9PT0gJ3VuZGVmaW5lZCcpIHsgZXZlbnQud2lkdGggPSAxOyB9XG4gICAgICAgICAgICBpZiAodHlwZW9mIGV2ZW50LmhlaWdodCA9PT0gJ3VuZGVmaW5lZCcpIHsgZXZlbnQuaGVpZ2h0ID0gMTsgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiBldmVudC50aWx0WCA9PT0gJ3VuZGVmaW5lZCcpIHsgZXZlbnQudGlsdFggPSAwOyB9XG4gICAgICAgICAgICBpZiAodHlwZW9mIGV2ZW50LnRpbHRZID09PSAndW5kZWZpbmVkJykgeyBldmVudC50aWx0WSA9IDA7IH1cbiAgICAgICAgICAgIGlmICh0eXBlb2YgZXZlbnQucG9pbnRlclR5cGUgPT09ICd1bmRlZmluZWQnKSB7IGV2ZW50LnBvaW50ZXJUeXBlID0gJ21vdXNlJzsgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiBldmVudC5wb2ludGVySWQgPT09ICd1bmRlZmluZWQnKSB7IGV2ZW50LnBvaW50ZXJJZCA9IE1PVVNFX1BPSU5URVJfSUQ7IH1cbiAgICAgICAgICAgIGlmICh0eXBlb2YgZXZlbnQucHJlc3N1cmUgPT09ICd1bmRlZmluZWQnKSB7IGV2ZW50LnByZXNzdXJlID0gMC41OyB9XG4gICAgICAgICAgICBpZiAodHlwZW9mIGV2ZW50LnR3aXN0ID09PSAndW5kZWZpbmVkJykgeyBldmVudC50d2lzdCA9IDA7IH1cbiAgICAgICAgICAgIGlmICh0eXBlb2YgZXZlbnQudGFuZ2VudGlhbFByZXNzdXJlID09PSAndW5kZWZpbmVkJykgeyBldmVudC50YW5nZW50aWFsUHJlc3N1cmUgPSAwOyB9XG5cbiAgICAgICAgICAgIC8vIG1hcmsgdGhlIG1vdXNlIGV2ZW50IGFzIG5vcm1hbGl6ZWQsIGp1c3Qgc28gdGhhdCB3ZSBrbm93IHdlIGRpZCBpdFxuICAgICAgICAgICAgZXZlbnQuaXNOb3JtYWxpemVkID0gdHJ1ZTtcblxuICAgICAgICAgICAgbm9ybWFsaXplZEV2ZW50cy5wdXNoKGV2ZW50KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIG5vcm1hbGl6ZWRFdmVudHMucHVzaChldmVudCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbm9ybWFsaXplZEV2ZW50cztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhlIGludGVyYWN0aW9uIG1hbmFnZXJcbiAgICAgKlxuICAgICAqL1xuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3kgKClcbiAgICB7XG4gICAgICAgIHRoaXMucmVtb3ZlRXZlbnRzKCk7XG5cbiAgICAgICAgdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcblxuICAgICAgICB0aGlzLnJlbmRlcmVyID0gbnVsbDtcblxuICAgICAgICB0aGlzLm1vdXNlID0gbnVsbDtcblxuICAgICAgICB0aGlzLmV2ZW50RGF0YSA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQgPSBudWxsO1xuXG4gICAgICAgIHRoaXMub25Qb2ludGVyRG93biA9IG51bGw7XG4gICAgICAgIHRoaXMucHJvY2Vzc1BvaW50ZXJEb3duID0gbnVsbDtcblxuICAgICAgICB0aGlzLm9uUG9pbnRlclVwID0gbnVsbDtcbiAgICAgICAgdGhpcy5wcm9jZXNzUG9pbnRlclVwID0gbnVsbDtcblxuICAgICAgICB0aGlzLm9uUG9pbnRlckNhbmNlbCA9IG51bGw7XG4gICAgICAgIHRoaXMucHJvY2Vzc1BvaW50ZXJDYW5jZWwgPSBudWxsO1xuXG4gICAgICAgIHRoaXMub25Qb2ludGVyTW92ZSA9IG51bGw7XG4gICAgICAgIHRoaXMucHJvY2Vzc1BvaW50ZXJNb3ZlID0gbnVsbDtcblxuICAgICAgICB0aGlzLm9uUG9pbnRlck91dCA9IG51bGw7XG4gICAgICAgIHRoaXMucHJvY2Vzc1BvaW50ZXJPdmVyT3V0ID0gbnVsbDtcblxuICAgICAgICB0aGlzLm9uUG9pbnRlck92ZXIgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuc2VhcmNoID0gbnVsbDtcbiAgICB9O1xuXG4gICAgcmV0dXJuIEludGVyYWN0aW9uTWFuYWdlcjtcbn0oRXZlbnRFbWl0dGVyKSk7XG5cbi8qKlxuICogVGhpcyBuYW1lc3BhY2UgY29udGFpbnMgYSByZW5kZXJlciBwbHVnaW4gZm9yIGhhbmRsaW5nIG1vdXNlLCBwb2ludGVyLCBhbmQgdG91Y2ggZXZlbnRzLlxuICpcbiAqIERvIG5vdCBpbnN0YW50aWF0ZSB0aGlzIHBsdWdpbiBkaXJlY3RseS4gSXQgaXMgYXZhaWxhYmxlIGZyb20gdGhlIGByZW5kZXJlci5wbHVnaW5zYCBwcm9wZXJ0eS5cbiAqIFNlZSB7QGxpbmsgUElYSS5DYW52YXNSZW5kZXJlciNwbHVnaW5zfSBvciB7QGxpbmsgUElYSS5SZW5kZXJlciNwbHVnaW5zfS5cbiAqIEBuYW1lc3BhY2UgUElYSS5pbnRlcmFjdGlvblxuICovXG5cbmV4cG9ydCB7IEludGVyYWN0aW9uRGF0YSwgSW50ZXJhY3Rpb25FdmVudCwgSW50ZXJhY3Rpb25NYW5hZ2VyLCBJbnRlcmFjdGlvblRyYWNraW5nRGF0YSwgaW50ZXJhY3RpdmVUYXJnZXQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWludGVyYWN0aW9uLmVzLmpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS9ncmFwaGljcyAtIHY1LjIuMFxuICogQ29tcGlsZWQgV2VkLCAwNiBOb3YgMjAxOSAwMjozMjo0MyBVVENcbiAqXG4gKiBAcGl4aS9ncmFwaGljcyBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbmltcG9ydCB7IFRleHR1cmUsIEJhc2VUZXh0dXJlLCBCYXRjaERyYXdDYWxsLCBCYXRjaFRleHR1cmVBcnJheSwgQmF0Y2hHZW9tZXRyeSwgVW5pZm9ybUdyb3VwLCBTaGFkZXIsIFN0YXRlIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5pbXBvcnQgeyBTSEFQRVMsIFBvaW50LCBQb2x5Z29uLCBQSV8yLCBNYXRyaXgsIFJlY3RhbmdsZSwgUm91bmRlZFJlY3RhbmdsZSwgQ2lyY2xlLCBFbGxpcHNlIH0gZnJvbSAnQHBpeGkvbWF0aCc7XG5pbXBvcnQgeyBlYXJjdXQsIGhleDJyZ2IsIHByZW11bHRpcGx5VGludCwgZGVwcmVjYXRpb24gfSBmcm9tICdAcGl4aS91dGlscyc7XG5pbXBvcnQgeyBXUkFQX01PREVTLCBEUkFXX01PREVTLCBCTEVORF9NT0RFUyB9IGZyb20gJ0BwaXhpL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBCb3VuZHMsIENvbnRhaW5lciB9IGZyb20gJ0BwaXhpL2Rpc3BsYXknO1xuXG4vKipcbiAqIEdyYXBoaWNzIGN1cnZlcyByZXNvbHV0aW9uIHNldHRpbmdzLiBJZiBgYWRhcHRpdmVgIGZsYWcgaXMgc2V0IHRvIGB0cnVlYCxcbiAqIHRoZSByZXNvbHV0aW9uIGlzIGNhbGN1bGF0ZWQgYmFzZWQgb24gdGhlIGN1cnZlJ3MgbGVuZ3RoIHRvIGVuc3VyZSBiZXR0ZXIgdmlzdWFsIHF1YWxpdHkuXG4gKiBBZGFwdGl2ZSBkcmF3IHdvcmtzIHdpdGggYGJlemllckN1cnZlVG9gIGFuZCBgcXVhZHJhdGljQ3VydmVUb2AuXG4gKlxuICogQHN0YXRpY1xuICogQGNvbnN0YW50XG4gKiBAbWVtYmVyb2YgUElYSVxuICogQG5hbWUgR1JBUEhJQ1NfQ1VSVkVTXG4gKiBAdHlwZSB7b2JqZWN0fVxuICogQHByb3BlcnR5IHtib29sZWFufSBhZGFwdGl2ZT1mYWxzZSAtIGZsYWcgaW5kaWNhdGluZyBpZiB0aGUgcmVzb2x1dGlvbiBzaG91bGQgYmUgYWRhcHRpdmVcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBtYXhMZW5ndGg9MTAgLSBtYXhpbWFsIGxlbmd0aCBvZiBhIHNpbmdsZSBzZWdtZW50IG9mIHRoZSBjdXJ2ZSAoaWYgYWRhcHRpdmUgPSBmYWxzZSwgaWdub3JlZClcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBtaW5TZWdtZW50cz04IC0gbWluaW1hbCBudW1iZXIgb2Ygc2VnbWVudHMgaW4gdGhlIGN1cnZlIChpZiBhZGFwdGl2ZSA9IGZhbHNlLCBpZ25vcmVkKVxuICogQHByb3BlcnR5IHtudW1iZXJ9IG1heFNlZ21lbnRzPTIwNDggLSBtYXhpbWFsIG51bWJlciBvZiBzZWdtZW50cyBpbiB0aGUgY3VydmUgKGlmIGFkYXB0aXZlID0gZmFsc2UsIGlnbm9yZWQpXG4gKi9cbnZhciBHUkFQSElDU19DVVJWRVMgPSB7XG4gICAgYWRhcHRpdmU6IHRydWUsXG4gICAgbWF4TGVuZ3RoOiAxMCxcbiAgICBtaW5TZWdtZW50czogOCxcbiAgICBtYXhTZWdtZW50czogMjA0OCxcbiAgICBfc2VnbWVudHNDb3VudDogZnVuY3Rpb24gX3NlZ21lbnRzQ291bnQobGVuZ3RoLCBkZWZhdWx0U2VnbWVudHMpXG4gICAge1xuICAgICAgICBpZiAoIGRlZmF1bHRTZWdtZW50cyA9PT0gdm9pZCAwICkgZGVmYXVsdFNlZ21lbnRzID0gMjA7XG5cbiAgICAgICAgaWYgKCF0aGlzLmFkYXB0aXZlKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gZGVmYXVsdFNlZ21lbnRzO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHJlc3VsdCA9IE1hdGguY2VpbChsZW5ndGggLyB0aGlzLm1heExlbmd0aCk7XG5cbiAgICAgICAgaWYgKHJlc3VsdCA8IHRoaXMubWluU2VnbWVudHMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMubWluU2VnbWVudHM7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocmVzdWx0ID4gdGhpcy5tYXhTZWdtZW50cylcbiAgICAgICAge1xuICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy5tYXhTZWdtZW50cztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSxcbn07XG5cbi8qKlxuICogRmlsbCBzdHlsZSBvYmplY3QgZm9yIEdyYXBoaWNzLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEZpbGxTdHlsZSA9IGZ1bmN0aW9uIEZpbGxTdHlsZSgpXG57XG4gICAgdGhpcy5yZXNldCgpO1xufTtcblxuLyoqXG4gKiBDbG9uZXMgdGhlIG9iamVjdFxuICpcbiAqIEByZXR1cm4ge1BJWEkuRmlsbFN0eWxlfVxuICovXG5GaWxsU3R5bGUucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gY2xvbmUgKClcbntcbiAgICB2YXIgb2JqID0gbmV3IEZpbGxTdHlsZSgpO1xuXG4gICAgb2JqLmNvbG9yID0gdGhpcy5jb2xvcjtcbiAgICBvYmouYWxwaGEgPSB0aGlzLmFscGhhO1xuICAgIG9iai50ZXh0dXJlID0gdGhpcy50ZXh0dXJlO1xuICAgIG9iai5tYXRyaXggPSB0aGlzLm1hdHJpeDtcbiAgICBvYmoudmlzaWJsZSA9IHRoaXMudmlzaWJsZTtcblxuICAgIHJldHVybiBvYmo7XG59O1xuXG4vKipcbiAqIFJlc2V0XG4gKi9cbkZpbGxTdHlsZS5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiByZXNldCAoKVxue1xuICAgIC8qKlxuICAgICAqIFRoZSBoZXggY29sb3IgdmFsdWUgdXNlZCB3aGVuIGNvbG9yaW5nIHRoZSBHcmFwaGljcyBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMVxuICAgICAqL1xuICAgIHRoaXMuY29sb3IgPSAweEZGRkZGRjtcblxuICAgIC8qKlxuICAgICAqIFRoZSBhbHBoYSB2YWx1ZSB1c2VkIHdoZW4gZmlsbGluZyB0aGUgR3JhcGhpY3Mgb2JqZWN0LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDFcbiAgICAgKi9cbiAgICB0aGlzLmFscGhhID0gMTtcblxuICAgIC8qKlxuICAgICAqIFRoZSB0ZXh0dXJlIHRvIGJlIHVzZWQgZm9yIHRoZSBmaWxsLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAqIEBkZWZhdWx0IDBcbiAgICAgKi9cbiAgICB0aGlzLnRleHR1cmUgPSBUZXh0dXJlLldISVRFO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHRyYW5zZm9ybSBhcGxwaWVkIHRvIHRoZSB0ZXh0dXJlLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAqIEBkZWZhdWx0IDBcbiAgICAgKi9cbiAgICB0aGlzLm1hdHJpeCA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBJZiB0aGUgY3VycmVudCBmaWxsIGlzIHZpc2libGUuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICovXG4gICAgdGhpcy52aXNpYmxlID0gZmFsc2U7XG59O1xuXG4vKipcbiAqIERlc3Ryb3kgYW5kIGRvbid0IHVzZSBhZnRlciB0aGlzXG4gKi9cbkZpbGxTdHlsZS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3kgKClcbntcbiAgICB0aGlzLnRleHR1cmUgPSBudWxsO1xuICAgIHRoaXMubWF0cml4ID0gbnVsbDtcbn07XG5cbi8qKlxuICogQnVpbGRzIGEgcG9seWdvbiB0byBkcmF3XG4gKlxuICogSWdub3JlZCBmcm9tIGRvY3Mgc2luY2UgaXQgaXMgbm90IGRpcmVjdGx5IGV4cG9zZWQuXG4gKlxuICogQGlnbm9yZVxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UElYSS5XZWJHTEdyYXBoaWNzRGF0YX0gZ3JhcGhpY3NEYXRhIC0gVGhlIGdyYXBoaWNzIG9iamVjdCBjb250YWluaW5nIGFsbCB0aGUgbmVjZXNzYXJ5IHByb3BlcnRpZXNcbiAqIEBwYXJhbSB7b2JqZWN0fSB3ZWJHTERhdGEgLSBhbiBvYmplY3QgY29udGFpbmluZyBhbGwgdGhlIFdlYkdMLXNwZWNpZmljIGluZm9ybWF0aW9uIHRvIGNyZWF0ZSB0aGlzIHNoYXBlXG4gKiBAcGFyYW0ge29iamVjdH0gd2ViR0xEYXRhTmF0aXZlTGluZXMgLSBhbiBvYmplY3QgY29udGFpbmluZyBhbGwgdGhlIFdlYkdMLXNwZWNpZmljIGluZm9ybWF0aW9uIHRvIGNyZWF0ZSBuYXRpdmVMaW5lc1xuICovXG52YXIgYnVpbGRQb2x5ID0ge1xuXG4gICAgYnVpbGQ6IGZ1bmN0aW9uIGJ1aWxkKGdyYXBoaWNzRGF0YSlcbiAgICB7XG4gICAgICAgIGdyYXBoaWNzRGF0YS5wb2ludHMgPSBncmFwaGljc0RhdGEuc2hhcGUucG9pbnRzLnNsaWNlKCk7XG4gICAgfSxcblxuICAgIHRyaWFuZ3VsYXRlOiBmdW5jdGlvbiB0cmlhbmd1bGF0ZShncmFwaGljc0RhdGEsIGdyYXBoaWNzR2VvbWV0cnkpXG4gICAge1xuICAgICAgICB2YXIgcG9pbnRzID0gZ3JhcGhpY3NEYXRhLnBvaW50cztcbiAgICAgICAgdmFyIGhvbGVzID0gZ3JhcGhpY3NEYXRhLmhvbGVzO1xuICAgICAgICB2YXIgdmVydHMgPSBncmFwaGljc0dlb21ldHJ5LnBvaW50cztcbiAgICAgICAgdmFyIGluZGljZXMgPSBncmFwaGljc0dlb21ldHJ5LmluZGljZXM7XG5cbiAgICAgICAgaWYgKHBvaW50cy5sZW5ndGggPj0gNilcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIGhvbGVBcnJheSA9IFtdO1xuICAgICAgICAgICAgLy8gUHJvY2VzcyBob2xlcy4uXG5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaG9sZXMubGVuZ3RoOyBpKyspXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdmFyIGhvbGUgPSBob2xlc1tpXTtcblxuICAgICAgICAgICAgICAgIGhvbGVBcnJheS5wdXNoKHBvaW50cy5sZW5ndGggLyAyKTtcbiAgICAgICAgICAgICAgICBwb2ludHMgPSBwb2ludHMuY29uY2F0KGhvbGUucG9pbnRzKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gc29ydCBjb2xvclxuICAgICAgICAgICAgdmFyIHRyaWFuZ2xlcyA9IGVhcmN1dChwb2ludHMsIGhvbGVBcnJheSwgMik7XG5cbiAgICAgICAgICAgIGlmICghdHJpYW5nbGVzKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIHZlcnRQb3MgPSB2ZXJ0cy5sZW5ndGggLyAyO1xuXG4gICAgICAgICAgICBmb3IgKHZhciBpJDEgPSAwOyBpJDEgPCB0cmlhbmdsZXMubGVuZ3RoOyBpJDEgKz0gMylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpbmRpY2VzLnB1c2godHJpYW5nbGVzW2kkMV0gKyB2ZXJ0UG9zKTtcbiAgICAgICAgICAgICAgICBpbmRpY2VzLnB1c2godHJpYW5nbGVzW2kkMSArIDFdICsgdmVydFBvcyk7XG4gICAgICAgICAgICAgICAgaW5kaWNlcy5wdXNoKHRyaWFuZ2xlc1tpJDEgKyAyXSArIHZlcnRQb3MpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmb3IgKHZhciBpJDIgPSAwOyBpJDIgPCBwb2ludHMubGVuZ3RoOyBpJDIrKylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB2ZXJ0cy5wdXNoKHBvaW50c1tpJDJdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sXG59O1xuXG4vKipcbiAqIEJ1aWxkcyBhIGNpcmNsZSB0byBkcmF3XG4gKlxuICogSWdub3JlZCBmcm9tIGRvY3Mgc2luY2UgaXQgaXMgbm90IGRpcmVjdGx5IGV4cG9zZWQuXG4gKlxuICogQGlnbm9yZVxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UElYSS5XZWJHTEdyYXBoaWNzRGF0YX0gZ3JhcGhpY3NEYXRhIC0gVGhlIGdyYXBoaWNzIG9iamVjdCB0byBkcmF3XG4gKiBAcGFyYW0ge29iamVjdH0gd2ViR0xEYXRhIC0gYW4gb2JqZWN0IGNvbnRhaW5pbmcgYWxsIHRoZSBXZWJHTC1zcGVjaWZpYyBpbmZvcm1hdGlvbiB0byBjcmVhdGUgdGhpcyBzaGFwZVxuICogQHBhcmFtIHtvYmplY3R9IHdlYkdMRGF0YU5hdGl2ZUxpbmVzIC0gYW4gb2JqZWN0IGNvbnRhaW5pbmcgYWxsIHRoZSBXZWJHTC1zcGVjaWZpYyBpbmZvcm1hdGlvbiB0byBjcmVhdGUgbmF0aXZlTGluZXNcbiAqL1xudmFyIGJ1aWxkQ2lyY2xlID0ge1xuXG4gICAgYnVpbGQ6IGZ1bmN0aW9uIGJ1aWxkKGdyYXBoaWNzRGF0YSlcbiAgICB7XG4gICAgICAgIC8vIG5lZWQgdG8gY29udmVydCBwb2ludHMgdG8gYSBuaWNlIHJlZ3VsYXIgZGF0YVxuICAgICAgICB2YXIgY2lyY2xlRGF0YSA9IGdyYXBoaWNzRGF0YS5zaGFwZTtcbiAgICAgICAgdmFyIHBvaW50cyA9IGdyYXBoaWNzRGF0YS5wb2ludHM7XG4gICAgICAgIHZhciB4ID0gY2lyY2xlRGF0YS54O1xuICAgICAgICB2YXIgeSA9IGNpcmNsZURhdGEueTtcbiAgICAgICAgdmFyIHdpZHRoO1xuICAgICAgICB2YXIgaGVpZ2h0O1xuXG4gICAgICAgIHBvaW50cy5sZW5ndGggPSAwO1xuXG4gICAgICAgIC8vIFRPRE8gLSBiaXQgaGFja3k/P1xuICAgICAgICBpZiAoZ3JhcGhpY3NEYXRhLnR5cGUgPT09IFNIQVBFUy5DSVJDKVxuICAgICAgICB7XG4gICAgICAgICAgICB3aWR0aCA9IGNpcmNsZURhdGEucmFkaXVzO1xuICAgICAgICAgICAgaGVpZ2h0ID0gY2lyY2xlRGF0YS5yYWRpdXM7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB3aWR0aCA9IGNpcmNsZURhdGEud2lkdGg7XG4gICAgICAgICAgICBoZWlnaHQgPSBjaXJjbGVEYXRhLmhlaWdodDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh3aWR0aCA9PT0gMCB8fCBoZWlnaHQgPT09IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB0b3RhbFNlZ3MgPSBNYXRoLmZsb29yKDMwICogTWF0aC5zcXJ0KGNpcmNsZURhdGEucmFkaXVzKSlcbiAgICAgICAgICAgIHx8IE1hdGguZmxvb3IoMTUgKiBNYXRoLnNxcnQoY2lyY2xlRGF0YS53aWR0aCArIGNpcmNsZURhdGEuaGVpZ2h0KSk7XG5cbiAgICAgICAgdG90YWxTZWdzIC89IDIuMztcblxuICAgICAgICB2YXIgc2VnID0gKE1hdGguUEkgKiAyKSAvIHRvdGFsU2VncztcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRvdGFsU2VnczsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBwb2ludHMucHVzaChcbiAgICAgICAgICAgICAgICB4ICsgKE1hdGguc2luKC1zZWcgKiBpKSAqIHdpZHRoKSxcbiAgICAgICAgICAgICAgICB5ICsgKE1hdGguY29zKC1zZWcgKiBpKSAqIGhlaWdodClcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICBwb2ludHMucHVzaChcbiAgICAgICAgICAgIHBvaW50c1swXSxcbiAgICAgICAgICAgIHBvaW50c1sxXVxuICAgICAgICApO1xuICAgIH0sXG5cbiAgICB0cmlhbmd1bGF0ZTogZnVuY3Rpb24gdHJpYW5ndWxhdGUoZ3JhcGhpY3NEYXRhLCBncmFwaGljc0dlb21ldHJ5KVxuICAgIHtcbiAgICAgICAgdmFyIHBvaW50cyA9IGdyYXBoaWNzRGF0YS5wb2ludHM7XG4gICAgICAgIHZhciB2ZXJ0cyA9IGdyYXBoaWNzR2VvbWV0cnkucG9pbnRzO1xuICAgICAgICB2YXIgaW5kaWNlcyA9IGdyYXBoaWNzR2VvbWV0cnkuaW5kaWNlcztcblxuICAgICAgICB2YXIgdmVydFBvcyA9IHZlcnRzLmxlbmd0aCAvIDI7XG4gICAgICAgIHZhciBjZW50ZXIgPSB2ZXJ0UG9zO1xuXG4gICAgICAgIHZlcnRzLnB1c2goZ3JhcGhpY3NEYXRhLnNoYXBlLngsIGdyYXBoaWNzRGF0YS5zaGFwZS55KTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBvaW50cy5sZW5ndGg7IGkgKz0gMilcbiAgICAgICAge1xuICAgICAgICAgICAgdmVydHMucHVzaChwb2ludHNbaV0sIHBvaW50c1tpICsgMV0pO1xuXG4gICAgICAgICAgICAvLyBhZGQgc29tZSB1dnNcbiAgICAgICAgICAgIGluZGljZXMucHVzaCh2ZXJ0UG9zKyssIGNlbnRlciwgdmVydFBvcyk7XG4gICAgICAgIH1cbiAgICB9LFxufTtcblxuLyoqXG4gKiBCdWlsZHMgYSByZWN0YW5nbGUgdG8gZHJhd1xuICpcbiAqIElnbm9yZWQgZnJvbSBkb2NzIHNpbmNlIGl0IGlzIG5vdCBkaXJlY3RseSBleHBvc2VkLlxuICpcbiAqIEBpZ25vcmVcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1BJWEkuV2ViR0xHcmFwaGljc0RhdGF9IGdyYXBoaWNzRGF0YSAtIFRoZSBncmFwaGljcyBvYmplY3QgY29udGFpbmluZyBhbGwgdGhlIG5lY2Vzc2FyeSBwcm9wZXJ0aWVzXG4gKiBAcGFyYW0ge29iamVjdH0gd2ViR0xEYXRhIC0gYW4gb2JqZWN0IGNvbnRhaW5pbmcgYWxsIHRoZSBXZWJHTC1zcGVjaWZpYyBpbmZvcm1hdGlvbiB0byBjcmVhdGUgdGhpcyBzaGFwZVxuICogQHBhcmFtIHtvYmplY3R9IHdlYkdMRGF0YU5hdGl2ZUxpbmVzIC0gYW4gb2JqZWN0IGNvbnRhaW5pbmcgYWxsIHRoZSBXZWJHTC1zcGVjaWZpYyBpbmZvcm1hdGlvbiB0byBjcmVhdGUgbmF0aXZlTGluZXNcbiAqL1xudmFyIGJ1aWxkUmVjdGFuZ2xlID0ge1xuXG4gICAgYnVpbGQ6IGZ1bmN0aW9uIGJ1aWxkKGdyYXBoaWNzRGF0YSlcbiAgICB7XG4gICAgICAgIC8vIC0tLSAvL1xuICAgICAgICAvLyBuZWVkIHRvIGNvbnZlcnQgcG9pbnRzIHRvIGEgbmljZSByZWd1bGFyIGRhdGFcbiAgICAgICAgLy9cbiAgICAgICAgdmFyIHJlY3REYXRhID0gZ3JhcGhpY3NEYXRhLnNoYXBlO1xuICAgICAgICB2YXIgeCA9IHJlY3REYXRhLng7XG4gICAgICAgIHZhciB5ID0gcmVjdERhdGEueTtcbiAgICAgICAgdmFyIHdpZHRoID0gcmVjdERhdGEud2lkdGg7XG4gICAgICAgIHZhciBoZWlnaHQgPSByZWN0RGF0YS5oZWlnaHQ7XG5cbiAgICAgICAgdmFyIHBvaW50cyA9IGdyYXBoaWNzRGF0YS5wb2ludHM7XG5cbiAgICAgICAgcG9pbnRzLmxlbmd0aCA9IDA7XG5cbiAgICAgICAgcG9pbnRzLnB1c2goeCwgeSxcbiAgICAgICAgICAgIHggKyB3aWR0aCwgeSxcbiAgICAgICAgICAgIHggKyB3aWR0aCwgeSArIGhlaWdodCxcbiAgICAgICAgICAgIHgsIHkgKyBoZWlnaHQpO1xuICAgIH0sXG5cbiAgICB0cmlhbmd1bGF0ZTogZnVuY3Rpb24gdHJpYW5ndWxhdGUoZ3JhcGhpY3NEYXRhLCBncmFwaGljc0dlb21ldHJ5KVxuICAgIHtcbiAgICAgICAgdmFyIHBvaW50cyA9IGdyYXBoaWNzRGF0YS5wb2ludHM7XG4gICAgICAgIHZhciB2ZXJ0cyA9IGdyYXBoaWNzR2VvbWV0cnkucG9pbnRzO1xuXG4gICAgICAgIHZhciB2ZXJ0UG9zID0gdmVydHMubGVuZ3RoIC8gMjtcblxuICAgICAgICB2ZXJ0cy5wdXNoKHBvaW50c1swXSwgcG9pbnRzWzFdLFxuICAgICAgICAgICAgcG9pbnRzWzJdLCBwb2ludHNbM10sXG4gICAgICAgICAgICBwb2ludHNbNl0sIHBvaW50c1s3XSxcbiAgICAgICAgICAgIHBvaW50c1s0XSwgcG9pbnRzWzVdKTtcblxuICAgICAgICBncmFwaGljc0dlb21ldHJ5LmluZGljZXMucHVzaCh2ZXJ0UG9zLCB2ZXJ0UG9zICsgMSwgdmVydFBvcyArIDIsXG4gICAgICAgICAgICB2ZXJ0UG9zICsgMSwgdmVydFBvcyArIDIsIHZlcnRQb3MgKyAzKTtcbiAgICB9LFxufTtcblxuLyoqXG4gKiBCdWlsZHMgYSByb3VuZGVkIHJlY3RhbmdsZSB0byBkcmF3XG4gKlxuICogSWdub3JlZCBmcm9tIGRvY3Mgc2luY2UgaXQgaXMgbm90IGRpcmVjdGx5IGV4cG9zZWQuXG4gKlxuICogQGlnbm9yZVxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UElYSS5XZWJHTEdyYXBoaWNzRGF0YX0gZ3JhcGhpY3NEYXRhIC0gVGhlIGdyYXBoaWNzIG9iamVjdCBjb250YWluaW5nIGFsbCB0aGUgbmVjZXNzYXJ5IHByb3BlcnRpZXNcbiAqIEBwYXJhbSB7b2JqZWN0fSB3ZWJHTERhdGEgLSBhbiBvYmplY3QgY29udGFpbmluZyBhbGwgdGhlIFdlYkdMLXNwZWNpZmljIGluZm9ybWF0aW9uIHRvIGNyZWF0ZSB0aGlzIHNoYXBlXG4gKiBAcGFyYW0ge29iamVjdH0gd2ViR0xEYXRhTmF0aXZlTGluZXMgLSBhbiBvYmplY3QgY29udGFpbmluZyBhbGwgdGhlIFdlYkdMLXNwZWNpZmljIGluZm9ybWF0aW9uIHRvIGNyZWF0ZSBuYXRpdmVMaW5lc1xuICovXG52YXIgYnVpbGRSb3VuZGVkUmVjdGFuZ2xlID0ge1xuXG4gICAgYnVpbGQ6IGZ1bmN0aW9uIGJ1aWxkKGdyYXBoaWNzRGF0YSlcbiAgICB7XG4gICAgICAgIHZhciBycmVjdERhdGEgPSBncmFwaGljc0RhdGEuc2hhcGU7XG4gICAgICAgIHZhciBwb2ludHMgPSBncmFwaGljc0RhdGEucG9pbnRzO1xuICAgICAgICB2YXIgeCA9IHJyZWN0RGF0YS54O1xuICAgICAgICB2YXIgeSA9IHJyZWN0RGF0YS55O1xuICAgICAgICB2YXIgd2lkdGggPSBycmVjdERhdGEud2lkdGg7XG4gICAgICAgIHZhciBoZWlnaHQgPSBycmVjdERhdGEuaGVpZ2h0O1xuXG4gICAgICAgIHZhciByYWRpdXMgPSBycmVjdERhdGEucmFkaXVzO1xuXG4gICAgICAgIHBvaW50cy5sZW5ndGggPSAwO1xuXG4gICAgICAgIHF1YWRyYXRpY0JlemllckN1cnZlKHgsIHkgKyByYWRpdXMsXG4gICAgICAgICAgICB4LCB5LFxuICAgICAgICAgICAgeCArIHJhZGl1cywgeSxcbiAgICAgICAgICAgIHBvaW50cyk7XG4gICAgICAgIHF1YWRyYXRpY0JlemllckN1cnZlKHggKyB3aWR0aCAtIHJhZGl1cyxcbiAgICAgICAgICAgIHksIHggKyB3aWR0aCwgeSxcbiAgICAgICAgICAgIHggKyB3aWR0aCwgeSArIHJhZGl1cyxcbiAgICAgICAgICAgIHBvaW50cyk7XG4gICAgICAgIHF1YWRyYXRpY0JlemllckN1cnZlKHggKyB3aWR0aCwgeSArIGhlaWdodCAtIHJhZGl1cyxcbiAgICAgICAgICAgIHggKyB3aWR0aCwgeSArIGhlaWdodCxcbiAgICAgICAgICAgIHggKyB3aWR0aCAtIHJhZGl1cywgeSArIGhlaWdodCxcbiAgICAgICAgICAgIHBvaW50cyk7XG4gICAgICAgIHF1YWRyYXRpY0JlemllckN1cnZlKHggKyByYWRpdXMsIHkgKyBoZWlnaHQsXG4gICAgICAgICAgICB4LCB5ICsgaGVpZ2h0LFxuICAgICAgICAgICAgeCwgeSArIGhlaWdodCAtIHJhZGl1cyxcbiAgICAgICAgICAgIHBvaW50cyk7XG5cbiAgICAgICAgLy8gdGhpcyB0aW55IG51bWJlciBkZWFscyB3aXRoIHRoZSBpc3N1ZSB0aGF0IG9jY3VycyB3aGVuIHBvaW50cyBvdmVybGFwIGFuZCBlYXJjdXQgZmFpbHMgdG8gdHJpYW5ndWxhdGUgdGhlIGl0ZW0uXG4gICAgICAgIC8vIFRPRE8gLSBmaXggdGhpcyBwcm9wZXJseSwgdGhpcyBpcyBub3QgdmVyeSBlbGVnYW50Li4gYnV0IGl0IHdvcmtzIGZvciBub3cuXG4gICAgfSxcblxuICAgIHRyaWFuZ3VsYXRlOiBmdW5jdGlvbiB0cmlhbmd1bGF0ZShncmFwaGljc0RhdGEsIGdyYXBoaWNzR2VvbWV0cnkpXG4gICAge1xuICAgICAgICB2YXIgcG9pbnRzID0gZ3JhcGhpY3NEYXRhLnBvaW50cztcblxuICAgICAgICB2YXIgdmVydHMgPSBncmFwaGljc0dlb21ldHJ5LnBvaW50cztcbiAgICAgICAgdmFyIGluZGljZXMgPSBncmFwaGljc0dlb21ldHJ5LmluZGljZXM7XG5cbiAgICAgICAgdmFyIHZlY1BvcyA9IHZlcnRzLmxlbmd0aCAvIDI7XG5cbiAgICAgICAgdmFyIHRyaWFuZ2xlcyA9IGVhcmN1dChwb2ludHMsIG51bGwsIDIpO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBqID0gdHJpYW5nbGVzLmxlbmd0aDsgaSA8IGo7IGkgKz0gMylcbiAgICAgICAge1xuICAgICAgICAgICAgaW5kaWNlcy5wdXNoKHRyaWFuZ2xlc1tpXSArIHZlY1Bvcyk7XG4gICAgICAgICAgICAvLyAgICAgaW5kaWNlcy5wdXNoKHRyaWFuZ2xlc1tpXSArIHZlY1Bvcyk7XG4gICAgICAgICAgICBpbmRpY2VzLnB1c2godHJpYW5nbGVzW2kgKyAxXSArIHZlY1Bvcyk7XG4gICAgICAgICAgICAvLyAgIGluZGljZXMucHVzaCh0cmlhbmdsZXNbaSArIDJdICsgdmVjUG9zKTtcbiAgICAgICAgICAgIGluZGljZXMucHVzaCh0cmlhbmdsZXNbaSArIDJdICsgdmVjUG9zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAodmFyIGkkMSA9IDAsIGokMSA9IHBvaW50cy5sZW5ndGg7IGkkMSA8IGokMTsgaSQxKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZlcnRzLnB1c2gocG9pbnRzW2kkMV0sIHBvaW50c1srK2kkMV0pO1xuICAgICAgICB9XG4gICAgfSxcbn07XG5cbi8qKlxuICogQ2FsY3VsYXRlIGEgc2luZ2xlIHBvaW50IGZvciBhIHF1YWRyYXRpYyBiZXppZXIgY3VydmUuXG4gKiBVdGlsaXR5IGZ1bmN0aW9uIHVzZWQgYnkgcXVhZHJhdGljQmV6aWVyQ3VydmUuXG4gKiBJZ25vcmVkIGZyb20gZG9jcyBzaW5jZSBpdCBpcyBub3QgZGlyZWN0bHkgZXhwb3NlZC5cbiAqXG4gKiBAaWdub3JlXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtudW1iZXJ9IG4xIC0gZmlyc3QgbnVtYmVyXG4gKiBAcGFyYW0ge251bWJlcn0gbjIgLSBzZWNvbmQgbnVtYmVyXG4gKiBAcGFyYW0ge251bWJlcn0gcGVyYyAtIHBlcmNlbnRhZ2VcbiAqIEByZXR1cm4ge251bWJlcn0gdGhlIHJlc3VsdFxuICpcbiAqL1xuZnVuY3Rpb24gZ2V0UHQobjEsIG4yLCBwZXJjKVxue1xuICAgIHZhciBkaWZmID0gbjIgLSBuMTtcblxuICAgIHJldHVybiBuMSArIChkaWZmICogcGVyYyk7XG59XG5cbi8qKlxuICogQ2FsY3VsYXRlIHRoZSBwb2ludHMgZm9yIGEgcXVhZHJhdGljIGJlemllciBjdXJ2ZS4gKGhlbHBlciBmdW5jdGlvbi4uKVxuICogQmFzZWQgb246IGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzc4NTA5Ny9ob3ctZG8taS1pbXBsZW1lbnQtYS1iZXppZXItY3VydmUtaW4tY1xuICpcbiAqIElnbm9yZWQgZnJvbSBkb2NzIHNpbmNlIGl0IGlzIG5vdCBkaXJlY3RseSBleHBvc2VkLlxuICpcbiAqIEBpZ25vcmVcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge251bWJlcn0gZnJvbVggLSBPcmlnaW4gcG9pbnQgeFxuICogQHBhcmFtIHtudW1iZXJ9IGZyb21ZIC0gT3JpZ2luIHBvaW50IHhcbiAqIEBwYXJhbSB7bnVtYmVyfSBjcFggLSBDb250cm9sIHBvaW50IHhcbiAqIEBwYXJhbSB7bnVtYmVyfSBjcFkgLSBDb250cm9sIHBvaW50IHlcbiAqIEBwYXJhbSB7bnVtYmVyfSB0b1ggLSBEZXN0aW5hdGlvbiBwb2ludCB4XG4gKiBAcGFyYW0ge251bWJlcn0gdG9ZIC0gRGVzdGluYXRpb24gcG9pbnQgeVxuICogQHBhcmFtIHtudW1iZXJbXX0gW291dD1bXV0gLSBUaGUgb3V0cHV0IGFycmF5IHRvIGFkZCBwb2ludHMgaW50by4gSWYgbm90IHBhc3NlZCwgYSBuZXcgYXJyYXkgaXMgY3JlYXRlZC5cbiAqIEByZXR1cm4ge251bWJlcltdfSBhbiBhcnJheSBvZiBwb2ludHNcbiAqL1xuZnVuY3Rpb24gcXVhZHJhdGljQmV6aWVyQ3VydmUoZnJvbVgsIGZyb21ZLCBjcFgsIGNwWSwgdG9YLCB0b1ksIG91dClcbntcbiAgICBpZiAoIG91dCA9PT0gdm9pZCAwICkgb3V0ID0gW107XG5cbiAgICB2YXIgbiA9IDIwO1xuICAgIHZhciBwb2ludHMgPSBvdXQ7XG5cbiAgICB2YXIgeGEgPSAwO1xuICAgIHZhciB5YSA9IDA7XG4gICAgdmFyIHhiID0gMDtcbiAgICB2YXIgeWIgPSAwO1xuICAgIHZhciB4ID0gMDtcbiAgICB2YXIgeSA9IDA7XG5cbiAgICBmb3IgKHZhciBpID0gMCwgaiA9IDA7IGkgPD0gbjsgKytpKVxuICAgIHtcbiAgICAgICAgaiA9IGkgLyBuO1xuXG4gICAgICAgIC8vIFRoZSBHcmVlbiBMaW5lXG4gICAgICAgIHhhID0gZ2V0UHQoZnJvbVgsIGNwWCwgaik7XG4gICAgICAgIHlhID0gZ2V0UHQoZnJvbVksIGNwWSwgaik7XG4gICAgICAgIHhiID0gZ2V0UHQoY3BYLCB0b1gsIGopO1xuICAgICAgICB5YiA9IGdldFB0KGNwWSwgdG9ZLCBqKTtcblxuICAgICAgICAvLyBUaGUgQmxhY2sgRG90XG4gICAgICAgIHggPSBnZXRQdCh4YSwgeGIsIGopO1xuICAgICAgICB5ID0gZ2V0UHQoeWEsIHliLCBqKTtcblxuICAgICAgICBwb2ludHMucHVzaCh4LCB5KTtcbiAgICB9XG5cbiAgICByZXR1cm4gcG9pbnRzO1xufVxuXG4vKipcbiAqIEJ1aWxkcyBhIGxpbmUgdG8gZHJhd1xuICpcbiAqIElnbm9yZWQgZnJvbSBkb2NzIHNpbmNlIGl0IGlzIG5vdCBkaXJlY3RseSBleHBvc2VkLlxuICpcbiAqIEBpZ25vcmVcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1BJWEkuR3JhcGhpY3NEYXRhfSBncmFwaGljc0RhdGEgLSBUaGUgZ3JhcGhpY3Mgb2JqZWN0IGNvbnRhaW5pbmcgYWxsIHRoZSBuZWNlc3NhcnkgcHJvcGVydGllc1xuICogQHBhcmFtIHtQSVhJLkdyYXBoaWNzR2VvbWV0cnl9IGdyYXBoaWNzR2VvbWV0cnkgLSBHZW9tZXRyeSB3aGVyZSB0byBhcHBlbmQgb3V0cHV0XG4gKi9cbmZ1bmN0aW9uIGJ1aWxkTGluZShncmFwaGljc0RhdGEsIGdyYXBoaWNzR2VvbWV0cnkpXG57XG4gICAgaWYgKGdyYXBoaWNzRGF0YS5saW5lU3R5bGUubmF0aXZlKVxuICAgIHtcbiAgICAgICAgYnVpbGROYXRpdmVMaW5lKGdyYXBoaWNzRGF0YSwgZ3JhcGhpY3NHZW9tZXRyeSk7XG4gICAgfVxuICAgIGVsc2VcbiAgICB7XG4gICAgICAgIGJ1aWxkTm9uTmF0aXZlTGluZShncmFwaGljc0RhdGEsIGdyYXBoaWNzR2VvbWV0cnkpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBCdWlsZHMgYSBsaW5lIHRvIGRyYXcgdXNpbmcgdGhlIHBvbHlnb24gbWV0aG9kLlxuICpcbiAqIElnbm9yZWQgZnJvbSBkb2NzIHNpbmNlIGl0IGlzIG5vdCBkaXJlY3RseSBleHBvc2VkLlxuICpcbiAqIEBpZ25vcmVcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1BJWEkuR3JhcGhpY3NEYXRhfSBncmFwaGljc0RhdGEgLSBUaGUgZ3JhcGhpY3Mgb2JqZWN0IGNvbnRhaW5pbmcgYWxsIHRoZSBuZWNlc3NhcnkgcHJvcGVydGllc1xuICogQHBhcmFtIHtQSVhJLkdyYXBoaWNzR2VvbWV0cnl9IGdyYXBoaWNzR2VvbWV0cnkgLSBHZW9tZXRyeSB3aGVyZSB0byBhcHBlbmQgb3V0cHV0XG4gKi9cbmZ1bmN0aW9uIGJ1aWxkTm9uTmF0aXZlTGluZShncmFwaGljc0RhdGEsIGdyYXBoaWNzR2VvbWV0cnkpXG57XG4gICAgdmFyIHNoYXBlID0gZ3JhcGhpY3NEYXRhLnNoYXBlO1xuICAgIHZhciBwb2ludHMgPSBncmFwaGljc0RhdGEucG9pbnRzIHx8IHNoYXBlLnBvaW50cy5zbGljZSgpO1xuICAgIHZhciBlcHMgPSBncmFwaGljc0dlb21ldHJ5LmNsb3NlUG9pbnRFcHM7XG5cbiAgICBpZiAocG9pbnRzLmxlbmd0aCA9PT0gMClcbiAgICB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gaWYgdGhlIGxpbmUgd2lkdGggaXMgYW4gb2RkIG51bWJlciBhZGQgMC41IHRvIGFsaWduIHRvIGEgd2hvbGUgcGl4ZWxcbiAgICAvLyBjb21tZW50aW5nIHRoaXMgb3V0IGZpeGVzICM3MTEgYW5kICMxNjIwXG4gICAgLy8gaWYgKGdyYXBoaWNzRGF0YS5saW5lV2lkdGglMilcbiAgICAvLyB7XG4gICAgLy8gICAgIGZvciAoaSA9IDA7IGkgPCBwb2ludHMubGVuZ3RoOyBpKyspXG4gICAgLy8gICAgIHtcbiAgICAvLyAgICAgICAgIHBvaW50c1tpXSArPSAwLjU7XG4gICAgLy8gICAgIH1cbiAgICAvLyB9XG5cbiAgICB2YXIgc3R5bGUgPSBncmFwaGljc0RhdGEubGluZVN0eWxlO1xuXG4gICAgLy8gZ2V0IGZpcnN0IGFuZCBsYXN0IHBvaW50Li4gZmlndXJlIG91dCB0aGUgbWlkZGxlIVxuICAgIHZhciBmaXJzdFBvaW50ID0gbmV3IFBvaW50KHBvaW50c1swXSwgcG9pbnRzWzFdKTtcbiAgICB2YXIgbGFzdFBvaW50ID0gbmV3IFBvaW50KHBvaW50c1twb2ludHMubGVuZ3RoIC0gMl0sIHBvaW50c1twb2ludHMubGVuZ3RoIC0gMV0pO1xuICAgIHZhciBjbG9zZWRTaGFwZSA9IHNoYXBlLnR5cGUgIT09IFNIQVBFUy5QT0xZIHx8IHNoYXBlLmNsb3NlU3Ryb2tlO1xuICAgIHZhciBjbG9zZWRQYXRoID0gTWF0aC5hYnMoZmlyc3RQb2ludC54IC0gbGFzdFBvaW50LngpIDwgZXBzXG4gICAgICAgICYmIE1hdGguYWJzKGZpcnN0UG9pbnQueSAtIGxhc3RQb2ludC55KSA8IGVwcztcblxuICAgIC8vIGlmIHRoZSBmaXJzdCBwb2ludCBpcyB0aGUgbGFzdCBwb2ludCAtIGdvbm5hIGhhdmUgaXNzdWVzIDopXG4gICAgaWYgKGNsb3NlZFNoYXBlKVxuICAgIHtcbiAgICAgICAgLy8gbmVlZCB0byBjbG9uZSBhcyB3ZSBhcmUgZ29pbmcgdG8gc2xpZ2h0bHkgbW9kaWZ5IHRoZSBzaGFwZS4uXG4gICAgICAgIHBvaW50cyA9IHBvaW50cy5zbGljZSgpO1xuXG4gICAgICAgIGlmIChjbG9zZWRQYXRoKVxuICAgICAgICB7XG4gICAgICAgICAgICBwb2ludHMucG9wKCk7XG4gICAgICAgICAgICBwb2ludHMucG9wKCk7XG4gICAgICAgICAgICBsYXN0UG9pbnQuc2V0KHBvaW50c1twb2ludHMubGVuZ3RoIC0gMl0sIHBvaW50c1twb2ludHMubGVuZ3RoIC0gMV0pO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIG1pZFBvaW50WCA9IGxhc3RQb2ludC54ICsgKChmaXJzdFBvaW50LnggLSBsYXN0UG9pbnQueCkgKiAwLjUpO1xuICAgICAgICB2YXIgbWlkUG9pbnRZID0gbGFzdFBvaW50LnkgKyAoKGZpcnN0UG9pbnQueSAtIGxhc3RQb2ludC55KSAqIDAuNSk7XG5cbiAgICAgICAgcG9pbnRzLnVuc2hpZnQobWlkUG9pbnRYLCBtaWRQb2ludFkpO1xuICAgICAgICBwb2ludHMucHVzaChtaWRQb2ludFgsIG1pZFBvaW50WSk7XG4gICAgfVxuXG4gICAgdmFyIHZlcnRzID0gZ3JhcGhpY3NHZW9tZXRyeS5wb2ludHM7XG4gICAgdmFyIGxlbmd0aCA9IHBvaW50cy5sZW5ndGggLyAyO1xuICAgIHZhciBpbmRleENvdW50ID0gcG9pbnRzLmxlbmd0aDtcbiAgICB2YXIgaW5kZXhTdGFydCA9IHZlcnRzLmxlbmd0aCAvIDI7XG5cbiAgICAvLyBEUkFXIHRoZSBMaW5lXG4gICAgdmFyIHdpZHRoID0gc3R5bGUud2lkdGggLyAyO1xuXG4gICAgLy8gc29ydCBjb2xvclxuICAgIHZhciBwMXggPSBwb2ludHNbMF07XG4gICAgdmFyIHAxeSA9IHBvaW50c1sxXTtcbiAgICB2YXIgcDJ4ID0gcG9pbnRzWzJdO1xuICAgIHZhciBwMnkgPSBwb2ludHNbM107XG4gICAgdmFyIHAzeCA9IDA7XG4gICAgdmFyIHAzeSA9IDA7XG5cbiAgICB2YXIgcGVycHggPSAtKHAxeSAtIHAyeSk7XG4gICAgdmFyIHBlcnB5ID0gcDF4IC0gcDJ4O1xuICAgIHZhciBwZXJwMnggPSAwO1xuICAgIHZhciBwZXJwMnkgPSAwO1xuICAgIHZhciBwZXJwM3ggPSAwO1xuICAgIHZhciBwZXJwM3kgPSAwO1xuXG4gICAgdmFyIGRpc3QgPSBNYXRoLnNxcnQoKHBlcnB4ICogcGVycHgpICsgKHBlcnB5ICogcGVycHkpKTtcblxuICAgIHBlcnB4IC89IGRpc3Q7XG4gICAgcGVycHkgLz0gZGlzdDtcbiAgICBwZXJweCAqPSB3aWR0aDtcbiAgICBwZXJweSAqPSB3aWR0aDtcblxuICAgIHZhciByYXRpbyA9IHN0eWxlLmFsaWdubWVudDsvLyAwLjU7XG4gICAgdmFyIHIxID0gKDEgLSByYXRpbykgKiAyO1xuICAgIHZhciByMiA9IHJhdGlvICogMjtcblxuICAgIC8vIHN0YXJ0XG4gICAgdmVydHMucHVzaChcbiAgICAgICAgcDF4IC0gKHBlcnB4ICogcjEpLFxuICAgICAgICBwMXkgLSAocGVycHkgKiByMSkpO1xuXG4gICAgdmVydHMucHVzaChcbiAgICAgICAgcDF4ICsgKHBlcnB4ICogcjIpLFxuICAgICAgICBwMXkgKyAocGVycHkgKiByMikpO1xuXG4gICAgZm9yICh2YXIgaSA9IDE7IGkgPCBsZW5ndGggLSAxOyArK2kpXG4gICAge1xuICAgICAgICBwMXggPSBwb2ludHNbKGkgLSAxKSAqIDJdO1xuICAgICAgICBwMXkgPSBwb2ludHNbKChpIC0gMSkgKiAyKSArIDFdO1xuXG4gICAgICAgIHAyeCA9IHBvaW50c1tpICogMl07XG4gICAgICAgIHAyeSA9IHBvaW50c1soaSAqIDIpICsgMV07XG5cbiAgICAgICAgcDN4ID0gcG9pbnRzWyhpICsgMSkgKiAyXTtcbiAgICAgICAgcDN5ID0gcG9pbnRzWygoaSArIDEpICogMikgKyAxXTtcblxuICAgICAgICBwZXJweCA9IC0ocDF5IC0gcDJ5KTtcbiAgICAgICAgcGVycHkgPSBwMXggLSBwMng7XG5cbiAgICAgICAgZGlzdCA9IE1hdGguc3FydCgocGVycHggKiBwZXJweCkgKyAocGVycHkgKiBwZXJweSkpO1xuICAgICAgICBwZXJweCAvPSBkaXN0O1xuICAgICAgICBwZXJweSAvPSBkaXN0O1xuICAgICAgICBwZXJweCAqPSB3aWR0aDtcbiAgICAgICAgcGVycHkgKj0gd2lkdGg7XG5cbiAgICAgICAgcGVycDJ4ID0gLShwMnkgLSBwM3kpO1xuICAgICAgICBwZXJwMnkgPSBwMnggLSBwM3g7XG5cbiAgICAgICAgZGlzdCA9IE1hdGguc3FydCgocGVycDJ4ICogcGVycDJ4KSArIChwZXJwMnkgKiBwZXJwMnkpKTtcbiAgICAgICAgcGVycDJ4IC89IGRpc3Q7XG4gICAgICAgIHBlcnAyeSAvPSBkaXN0O1xuICAgICAgICBwZXJwMnggKj0gd2lkdGg7XG4gICAgICAgIHBlcnAyeSAqPSB3aWR0aDtcblxuICAgICAgICB2YXIgYTEgPSAoLXBlcnB5ICsgcDF5KSAtICgtcGVycHkgKyBwMnkpO1xuICAgICAgICB2YXIgYjEgPSAoLXBlcnB4ICsgcDJ4KSAtICgtcGVycHggKyBwMXgpO1xuICAgICAgICB2YXIgYzEgPSAoKC1wZXJweCArIHAxeCkgKiAoLXBlcnB5ICsgcDJ5KSkgLSAoKC1wZXJweCArIHAyeCkgKiAoLXBlcnB5ICsgcDF5KSk7XG4gICAgICAgIHZhciBhMiA9ICgtcGVycDJ5ICsgcDN5KSAtICgtcGVycDJ5ICsgcDJ5KTtcbiAgICAgICAgdmFyIGIyID0gKC1wZXJwMnggKyBwMngpIC0gKC1wZXJwMnggKyBwM3gpO1xuICAgICAgICB2YXIgYzIgPSAoKC1wZXJwMnggKyBwM3gpICogKC1wZXJwMnkgKyBwMnkpKSAtICgoLXBlcnAyeCArIHAyeCkgKiAoLXBlcnAyeSArIHAzeSkpO1xuXG4gICAgICAgIHZhciBkZW5vbSA9IChhMSAqIGIyKSAtIChhMiAqIGIxKTtcblxuICAgICAgICBpZiAoTWF0aC5hYnMoZGVub20pIDwgMC4xKVxuICAgICAgICB7XG4gICAgICAgICAgICBkZW5vbSArPSAxMC4xO1xuICAgICAgICAgICAgdmVydHMucHVzaChcbiAgICAgICAgICAgICAgICBwMnggLSAocGVycHggKiByMSksXG4gICAgICAgICAgICAgICAgcDJ5IC0gKHBlcnB5ICogcjEpKTtcblxuICAgICAgICAgICAgdmVydHMucHVzaChcbiAgICAgICAgICAgICAgICBwMnggKyAocGVycHggKiByMiksXG4gICAgICAgICAgICAgICAgcDJ5ICsgKHBlcnB5ICogcjIpKTtcblxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcHggPSAoKGIxICogYzIpIC0gKGIyICogYzEpKSAvIGRlbm9tO1xuICAgICAgICB2YXIgcHkgPSAoKGEyICogYzEpIC0gKGExICogYzIpKSAvIGRlbm9tO1xuICAgICAgICB2YXIgcGRpc3QgPSAoKHB4IC0gcDJ4KSAqIChweCAtIHAyeCkpICsgKChweSAtIHAyeSkgKiAocHkgLSBwMnkpKTtcblxuICAgICAgICBpZiAocGRpc3QgPiAoMTk2ICogd2lkdGggKiB3aWR0aCkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHBlcnAzeCA9IHBlcnB4IC0gcGVycDJ4O1xuICAgICAgICAgICAgcGVycDN5ID0gcGVycHkgLSBwZXJwMnk7XG5cbiAgICAgICAgICAgIGRpc3QgPSBNYXRoLnNxcnQoKHBlcnAzeCAqIHBlcnAzeCkgKyAocGVycDN5ICogcGVycDN5KSk7XG4gICAgICAgICAgICBwZXJwM3ggLz0gZGlzdDtcbiAgICAgICAgICAgIHBlcnAzeSAvPSBkaXN0O1xuICAgICAgICAgICAgcGVycDN4ICo9IHdpZHRoO1xuICAgICAgICAgICAgcGVycDN5ICo9IHdpZHRoO1xuXG4gICAgICAgICAgICB2ZXJ0cy5wdXNoKHAyeCAtIChwZXJwM3ggKiByMSksIHAyeSAtIChwZXJwM3kgKiByMSkpO1xuXG4gICAgICAgICAgICB2ZXJ0cy5wdXNoKHAyeCArIChwZXJwM3ggKiByMiksIHAyeSArIChwZXJwM3kgKiByMikpO1xuXG4gICAgICAgICAgICB2ZXJ0cy5wdXNoKHAyeCAtIChwZXJwM3ggKiByMiAqIHIxKSwgcDJ5IC0gKHBlcnAzeSAqIHIxKSk7XG5cbiAgICAgICAgICAgIGluZGV4Q291bnQrKztcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZlcnRzLnB1c2gocDJ4ICsgKChweCAtIHAyeCkgKiByMSksIHAyeSArICgocHkgLSBwMnkpICogcjEpKTtcblxuICAgICAgICAgICAgdmVydHMucHVzaChwMnggLSAoKHB4IC0gcDJ4KSAqIHIyKSwgcDJ5IC0gKChweSAtIHAyeSkgKiByMikpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcDF4ID0gcG9pbnRzWyhsZW5ndGggLSAyKSAqIDJdO1xuICAgIHAxeSA9IHBvaW50c1soKGxlbmd0aCAtIDIpICogMikgKyAxXTtcblxuICAgIHAyeCA9IHBvaW50c1sobGVuZ3RoIC0gMSkgKiAyXTtcbiAgICBwMnkgPSBwb2ludHNbKChsZW5ndGggLSAxKSAqIDIpICsgMV07XG5cbiAgICBwZXJweCA9IC0ocDF5IC0gcDJ5KTtcbiAgICBwZXJweSA9IHAxeCAtIHAyeDtcblxuICAgIGRpc3QgPSBNYXRoLnNxcnQoKHBlcnB4ICogcGVycHgpICsgKHBlcnB5ICogcGVycHkpKTtcbiAgICBwZXJweCAvPSBkaXN0O1xuICAgIHBlcnB5IC89IGRpc3Q7XG4gICAgcGVycHggKj0gd2lkdGg7XG4gICAgcGVycHkgKj0gd2lkdGg7XG5cbiAgICB2ZXJ0cy5wdXNoKHAyeCAtIChwZXJweCAqIHIxKSwgcDJ5IC0gKHBlcnB5ICogcjEpKTtcblxuICAgIHZlcnRzLnB1c2gocDJ4ICsgKHBlcnB4ICogcjIpLCBwMnkgKyAocGVycHkgKiByMikpO1xuXG4gICAgdmFyIGluZGljZXMgPSBncmFwaGljc0dlb21ldHJ5LmluZGljZXM7XG5cbiAgICAvLyBpbmRpY2VzLnB1c2goaW5kZXhTdGFydCk7XG5cbiAgICBmb3IgKHZhciBpJDEgPSAwOyBpJDEgPCBpbmRleENvdW50IC0gMjsgKytpJDEpXG4gICAge1xuICAgICAgICBpbmRpY2VzLnB1c2goaW5kZXhTdGFydCwgaW5kZXhTdGFydCArIDEsIGluZGV4U3RhcnQgKyAyKTtcblxuICAgICAgICBpbmRleFN0YXJ0Kys7XG4gICAgfVxufVxuXG4vKipcbiAqIEJ1aWxkcyBhIGxpbmUgdG8gZHJhdyB1c2luZyB0aGUgZ2wuZHJhd0FycmF5cyhnbC5MSU5FUykgbWV0aG9kXG4gKlxuICogSWdub3JlZCBmcm9tIGRvY3Mgc2luY2UgaXQgaXMgbm90IGRpcmVjdGx5IGV4cG9zZWQuXG4gKlxuICogQGlnbm9yZVxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UElYSS5HcmFwaGljc0RhdGF9IGdyYXBoaWNzRGF0YSAtIFRoZSBncmFwaGljcyBvYmplY3QgY29udGFpbmluZyBhbGwgdGhlIG5lY2Vzc2FyeSBwcm9wZXJ0aWVzXG4gKiBAcGFyYW0ge1BJWEkuR3JhcGhpY3NHZW9tZXRyeX0gZ3JhcGhpY3NHZW9tZXRyeSAtIEdlb21ldHJ5IHdoZXJlIHRvIGFwcGVuZCBvdXRwdXRcbiAqL1xuZnVuY3Rpb24gYnVpbGROYXRpdmVMaW5lKGdyYXBoaWNzRGF0YSwgZ3JhcGhpY3NHZW9tZXRyeSlcbntcbiAgICB2YXIgaSA9IDA7XG5cbiAgICB2YXIgc2hhcGUgPSBncmFwaGljc0RhdGEuc2hhcGU7XG4gICAgdmFyIHBvaW50cyA9IGdyYXBoaWNzRGF0YS5wb2ludHMgfHwgc2hhcGUucG9pbnRzO1xuICAgIHZhciBjbG9zZWRTaGFwZSA9IHNoYXBlLnR5cGUgIT09IFNIQVBFUy5QT0xZIHx8IHNoYXBlLmNsb3NlU3Ryb2tlO1xuXG4gICAgaWYgKHBvaW50cy5sZW5ndGggPT09IDApIHsgcmV0dXJuOyB9XG5cbiAgICB2YXIgdmVydHMgPSBncmFwaGljc0dlb21ldHJ5LnBvaW50cztcbiAgICB2YXIgaW5kaWNlcyA9IGdyYXBoaWNzR2VvbWV0cnkuaW5kaWNlcztcbiAgICB2YXIgbGVuZ3RoID0gcG9pbnRzLmxlbmd0aCAvIDI7XG5cbiAgICB2YXIgc3RhcnRJbmRleCA9IHZlcnRzLmxlbmd0aCAvIDI7XG4gICAgdmFyIGN1cnJlbnRJbmRleCA9IHN0YXJ0SW5kZXg7XG5cbiAgICB2ZXJ0cy5wdXNoKHBvaW50c1swXSwgcG9pbnRzWzFdKTtcblxuICAgIGZvciAoaSA9IDE7IGkgPCBsZW5ndGg7IGkrKylcbiAgICB7XG4gICAgICAgIHZlcnRzLnB1c2gocG9pbnRzW2kgKiAyXSwgcG9pbnRzWyhpICogMikgKyAxXSk7XG4gICAgICAgIGluZGljZXMucHVzaChjdXJyZW50SW5kZXgsIGN1cnJlbnRJbmRleCArIDEpO1xuXG4gICAgICAgIGN1cnJlbnRJbmRleCsrO1xuICAgIH1cblxuICAgIGlmIChjbG9zZWRTaGFwZSlcbiAgICB7XG4gICAgICAgIGluZGljZXMucHVzaChjdXJyZW50SW5kZXgsIHN0YXJ0SW5kZXgpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBCdWlsZHMgYSBjb21wbGV4IHBvbHlnb24gdG8gZHJhd1xuICpcbiAqIElnbm9yZWQgZnJvbSBkb2NzIHNpbmNlIGl0IGlzIG5vdCBkaXJlY3RseSBleHBvc2VkLlxuICpcbiAqIEBpZ25vcmVcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1BJWEkuR3JhcGhpY3N9IGdyYXBoaWNzRGF0YSAtIFRoZSBncmFwaGljcyBvYmplY3QgY29udGFpbmluZyBhbGwgdGhlIG5lY2Vzc2FyeSBwcm9wZXJ0aWVzXG4gKiBAcGFyYW0ge29iamVjdH0gd2ViR0xEYXRhIC0gYW4gb2JqZWN0IGNvbnRhaW5pbmcgYWxsIHRoZSBXZWJHTC1zcGVjaWZpYyBpbmZvcm1hdGlvbiB0byBjcmVhdGUgdGhpcyBzaGFwZVxuICovXG5mdW5jdGlvbiBidWlsZENvbXBsZXhQb2x5KGdyYXBoaWNzRGF0YSwgd2ViR0xEYXRhKVxue1xuICAgIC8vIFRPRE8gLSBubyBuZWVkIHRvIGNvcHkgdGhpcyBhcyBpdCBnZXRzIHR1cm5lZCBpbnRvIGEgRmxvYXQzMkFycmF5IGFueXdheXMuLlxuICAgIHZhciBwb2ludHMgPSBncmFwaGljc0RhdGEucG9pbnRzLnNsaWNlKCk7XG5cbiAgICBpZiAocG9pbnRzLmxlbmd0aCA8IDYpXG4gICAge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gZ2V0IGZpcnN0IGFuZCBsYXN0IHBvaW50Li4gZmlndXJlIG91dCB0aGUgbWlkZGxlIVxuICAgIHZhciBpbmRpY2VzID0gd2ViR0xEYXRhLmluZGljZXM7XG5cbiAgICB3ZWJHTERhdGEucG9pbnRzID0gcG9pbnRzO1xuICAgIHdlYkdMRGF0YS5hbHBoYSA9IGdyYXBoaWNzRGF0YS5maWxsQWxwaGE7XG4gICAgd2ViR0xEYXRhLmNvbG9yID0gaGV4MnJnYihncmFwaGljc0RhdGEuZmlsbENvbG9yKTtcblxuICAgIC8vIGNhbGN1bGF0ZSB0aGUgYm91bmRzLi5cbiAgICB2YXIgbWluWCA9IEluZmluaXR5O1xuICAgIHZhciBtYXhYID0gLUluZmluaXR5O1xuXG4gICAgdmFyIG1pblkgPSBJbmZpbml0eTtcbiAgICB2YXIgbWF4WSA9IC1JbmZpbml0eTtcblxuICAgIHZhciB4ID0gMDtcbiAgICB2YXIgeSA9IDA7XG5cbiAgICAvLyBnZXQgc2l6ZS4uXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwb2ludHMubGVuZ3RoOyBpICs9IDIpXG4gICAge1xuICAgICAgICB4ID0gcG9pbnRzW2ldO1xuICAgICAgICB5ID0gcG9pbnRzW2kgKyAxXTtcblxuICAgICAgICBtaW5YID0geCA8IG1pblggPyB4IDogbWluWDtcbiAgICAgICAgbWF4WCA9IHggPiBtYXhYID8geCA6IG1heFg7XG5cbiAgICAgICAgbWluWSA9IHkgPCBtaW5ZID8geSA6IG1pblk7XG4gICAgICAgIG1heFkgPSB5ID4gbWF4WSA/IHkgOiBtYXhZO1xuICAgIH1cblxuICAgIC8vIGFkZCBhIHF1YWQgdG8gdGhlIGVuZCBjb3MgdGhlcmUgaXMgbm8gcG9pbnQgbWFraW5nIGFub3RoZXIgYnVmZmVyIVxuICAgIHBvaW50cy5wdXNoKG1pblgsIG1pblksXG4gICAgICAgIG1heFgsIG1pblksXG4gICAgICAgIG1heFgsIG1heFksXG4gICAgICAgIG1pblgsIG1heFkpO1xuXG4gICAgLy8gcHVzaCBhIHF1YWQgb250byB0aGUgZW5kLi5cblxuICAgIC8vIFRPRE8gLSB0aGlzIGFpbid0IG5lZWRlZCFcbiAgICB2YXIgbGVuZ3RoID0gcG9pbnRzLmxlbmd0aCAvIDI7XG5cbiAgICBmb3IgKHZhciBpJDEgPSAwOyBpJDEgPCBsZW5ndGg7IGkkMSsrKVxuICAgIHtcbiAgICAgICAgaW5kaWNlcy5wdXNoKGkkMSk7XG4gICAgfVxufVxuXG4vKipcbiAqIENhbGN1bGF0ZSB0aGUgcG9pbnRzIGZvciBhIGJlemllciBjdXJ2ZSBhbmQgdGhlbiBkcmF3cyBpdC5cbiAqXG4gKiBJZ25vcmVkIGZyb20gZG9jcyBzaW5jZSBpdCBpcyBub3QgZGlyZWN0bHkgZXhwb3NlZC5cbiAqXG4gKiBAaWdub3JlXG4gKiBAcGFyYW0ge251bWJlcn0gZnJvbVggLSBTdGFydGluZyBwb2ludCB4XG4gKiBAcGFyYW0ge251bWJlcn0gZnJvbVkgLSBTdGFydGluZyBwb2ludCB5XG4gKiBAcGFyYW0ge251bWJlcn0gY3BYIC0gQ29udHJvbCBwb2ludCB4XG4gKiBAcGFyYW0ge251bWJlcn0gY3BZIC0gQ29udHJvbCBwb2ludCB5XG4gKiBAcGFyYW0ge251bWJlcn0gY3BYMiAtIFNlY29uZCBDb250cm9sIHBvaW50IHhcbiAqIEBwYXJhbSB7bnVtYmVyfSBjcFkyIC0gU2Vjb25kIENvbnRyb2wgcG9pbnQgeVxuICogQHBhcmFtIHtudW1iZXJ9IHRvWCAtIERlc3RpbmF0aW9uIHBvaW50IHhcbiAqIEBwYXJhbSB7bnVtYmVyfSB0b1kgLSBEZXN0aW5hdGlvbiBwb2ludCB5XG4gKiBAcGFyYW0ge251bWJlcn0gbiAtIE51bWJlciBvZiBzZWdtZW50cyBhcHByb3hpbWF0aW5nIHRoZSBiZXppZXIgY3VydmVcbiAqIEBwYXJhbSB7bnVtYmVyW119IFtwYXRoPVtdXSAtIFBhdGggYXJyYXkgdG8gcHVzaCBwb2ludHMgaW50b1xuICogQHJldHVybiB7bnVtYmVyW119IEFycmF5IG9mIHBvaW50cyBvZiB0aGUgY3VydmVcbiAqL1xuZnVuY3Rpb24gYmV6aWVyQ3VydmVUbyhmcm9tWCwgZnJvbVksIGNwWCwgY3BZLCBjcFgyLCBjcFkyLCB0b1gsIHRvWSwgbiwgcGF0aClcbntcbiAgICBpZiAoIHBhdGggPT09IHZvaWQgMCApIHBhdGggPSBbXTtcblxuICAgIHZhciBkdCA9IDA7XG4gICAgdmFyIGR0MiA9IDA7XG4gICAgdmFyIGR0MyA9IDA7XG4gICAgdmFyIHQyID0gMDtcbiAgICB2YXIgdDMgPSAwO1xuXG4gICAgcGF0aC5wdXNoKGZyb21YLCBmcm9tWSk7XG5cbiAgICBmb3IgKHZhciBpID0gMSwgaiA9IDA7IGkgPD0gbjsgKytpKVxuICAgIHtcbiAgICAgICAgaiA9IGkgLyBuO1xuXG4gICAgICAgIGR0ID0gKDEgLSBqKTtcbiAgICAgICAgZHQyID0gZHQgKiBkdDtcbiAgICAgICAgZHQzID0gZHQyICogZHQ7XG5cbiAgICAgICAgdDIgPSBqICogajtcbiAgICAgICAgdDMgPSB0MiAqIGo7XG5cbiAgICAgICAgcGF0aC5wdXNoKFxuICAgICAgICAgICAgKGR0MyAqIGZyb21YKSArICgzICogZHQyICogaiAqIGNwWCkgKyAoMyAqIGR0ICogdDIgKiBjcFgyKSArICh0MyAqIHRvWCksXG4gICAgICAgICAgICAoZHQzICogZnJvbVkpICsgKDMgKiBkdDIgKiBqICogY3BZKSArICgzICogZHQgKiB0MiAqIGNwWTIpICsgKHQzICogdG9ZKVxuICAgICAgICApO1xuICAgIH1cblxuICAgIHJldHVybiBwYXRoO1xufVxuXG4vKipcbiAqIERyYXcgYSBzdGFyIHNoYXBlIHdpdGggYW4gYXJiaXRyYXJ5IG51bWJlciBvZiBwb2ludHMuXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLlBvbHlnb25cbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAcGFyYW0ge251bWJlcn0geCAtIENlbnRlciBYIHBvc2l0aW9uIG9mIHRoZSBzdGFyXG4gKiBAcGFyYW0ge251bWJlcn0geSAtIENlbnRlciBZIHBvc2l0aW9uIG9mIHRoZSBzdGFyXG4gKiBAcGFyYW0ge251bWJlcn0gcG9pbnRzIC0gVGhlIG51bWJlciBvZiBwb2ludHMgb2YgdGhlIHN0YXIsIG11c3QgYmUgPiAxXG4gKiBAcGFyYW0ge251bWJlcn0gcmFkaXVzIC0gVGhlIG91dGVyIHJhZGl1cyBvZiB0aGUgc3RhclxuICogQHBhcmFtIHtudW1iZXJ9IFtpbm5lclJhZGl1c10gLSBUaGUgaW5uZXIgcmFkaXVzIGJldHdlZW4gcG9pbnRzLCBkZWZhdWx0IGhhbGYgYHJhZGl1c2BcbiAqIEBwYXJhbSB7bnVtYmVyfSBbcm90YXRpb249MF0gLSBUaGUgcm90YXRpb24gb2YgdGhlIHN0YXIgaW4gcmFkaWFucywgd2hlcmUgMCBpcyB2ZXJ0aWNhbFxuICogQHJldHVybiB7UElYSS5HcmFwaGljc30gVGhpcyBHcmFwaGljcyBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICovXG52YXIgU3RhciA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKFBvbHlnb24pIHtcbiAgICBmdW5jdGlvbiBTdGFyKHgsIHksIHBvaW50cywgcmFkaXVzLCBpbm5lclJhZGl1cywgcm90YXRpb24pXG4gICAge1xuICAgICAgICBpbm5lclJhZGl1cyA9IGlubmVyUmFkaXVzIHx8IHJhZGl1cyAvIDI7XG5cbiAgICAgICAgdmFyIHN0YXJ0QW5nbGUgPSAoLTEgKiBNYXRoLlBJIC8gMikgKyByb3RhdGlvbjtcbiAgICAgICAgdmFyIGxlbiA9IHBvaW50cyAqIDI7XG4gICAgICAgIHZhciBkZWx0YSA9IFBJXzIgLyBsZW47XG4gICAgICAgIHZhciBwb2x5Z29uID0gW107XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIHIgPSBpICUgMiA/IGlubmVyUmFkaXVzIDogcmFkaXVzO1xuICAgICAgICAgICAgdmFyIGFuZ2xlID0gKGkgKiBkZWx0YSkgKyBzdGFydEFuZ2xlO1xuXG4gICAgICAgICAgICBwb2x5Z29uLnB1c2goXG4gICAgICAgICAgICAgICAgeCArIChyICogTWF0aC5jb3MoYW5nbGUpKSxcbiAgICAgICAgICAgICAgICB5ICsgKHIgKiBNYXRoLnNpbihhbmdsZSkpXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgUG9seWdvbi5jYWxsKHRoaXMsIHBvbHlnb24pO1xuICAgIH1cblxuICAgIGlmICggUG9seWdvbiApIFN0YXIuX19wcm90b19fID0gUG9seWdvbjtcbiAgICBTdGFyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIFBvbHlnb24gJiYgUG9seWdvbi5wcm90b3R5cGUgKTtcbiAgICBTdGFyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFN0YXI7XG5cbiAgICByZXR1cm4gU3Rhcjtcbn0oUG9seWdvbikpO1xuXG4vKipcbiAqIFV0aWxpdGllcyBmb3IgYXJjIGN1cnZlc1xuICogQGNsYXNzXG4gKiBAcHJpdmF0ZVxuICovXG52YXIgQXJjVXRpbHMgPSBmdW5jdGlvbiBBcmNVdGlscyAoKSB7fTtcblxuQXJjVXRpbHMuY3VydmVUbyA9IGZ1bmN0aW9uIGN1cnZlVG8gKHgxLCB5MSwgeDIsIHkyLCByYWRpdXMsIHBvaW50cylcbntcbiAgICB2YXIgZnJvbVggPSBwb2ludHNbcG9pbnRzLmxlbmd0aCAtIDJdO1xuICAgIHZhciBmcm9tWSA9IHBvaW50c1twb2ludHMubGVuZ3RoIC0gMV07XG5cbiAgICB2YXIgYTEgPSBmcm9tWSAtIHkxO1xuICAgIHZhciBiMSA9IGZyb21YIC0geDE7XG4gICAgdmFyIGEyID0geTIgLSB5MTtcbiAgICB2YXIgYjIgPSB4MiAtIHgxO1xuICAgIHZhciBtbSA9IE1hdGguYWJzKChhMSAqIGIyKSAtIChiMSAqIGEyKSk7XG5cbiAgICBpZiAobW0gPCAxLjBlLTggfHwgcmFkaXVzID09PSAwKVxuICAgIHtcbiAgICAgICAgaWYgKHBvaW50c1twb2ludHMubGVuZ3RoIC0gMl0gIT09IHgxIHx8IHBvaW50c1twb2ludHMubGVuZ3RoIC0gMV0gIT09IHkxKVxuICAgICAgICB7XG4gICAgICAgICAgICBwb2ludHMucHVzaCh4MSwgeTEpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgdmFyIGRkID0gKGExICogYTEpICsgKGIxICogYjEpO1xuICAgIHZhciBjYyA9IChhMiAqIGEyKSArIChiMiAqIGIyKTtcbiAgICB2YXIgdHQgPSAoYTEgKiBhMikgKyAoYjEgKiBiMik7XG4gICAgdmFyIGsxID0gcmFkaXVzICogTWF0aC5zcXJ0KGRkKSAvIG1tO1xuICAgIHZhciBrMiA9IHJhZGl1cyAqIE1hdGguc3FydChjYykgLyBtbTtcbiAgICB2YXIgajEgPSBrMSAqIHR0IC8gZGQ7XG4gICAgdmFyIGoyID0gazIgKiB0dCAvIGNjO1xuICAgIHZhciBjeCA9IChrMSAqIGIyKSArIChrMiAqIGIxKTtcbiAgICB2YXIgY3kgPSAoazEgKiBhMikgKyAoazIgKiBhMSk7XG4gICAgdmFyIHB4ID0gYjEgKiAoazIgKyBqMSk7XG4gICAgdmFyIHB5ID0gYTEgKiAoazIgKyBqMSk7XG4gICAgdmFyIHF4ID0gYjIgKiAoazEgKyBqMik7XG4gICAgdmFyIHF5ID0gYTIgKiAoazEgKyBqMik7XG4gICAgdmFyIHN0YXJ0QW5nbGUgPSBNYXRoLmF0YW4yKHB5IC0gY3ksIHB4IC0gY3gpO1xuICAgIHZhciBlbmRBbmdsZSA9IE1hdGguYXRhbjIocXkgLSBjeSwgcXggLSBjeCk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBjeDogKGN4ICsgeDEpLFxuICAgICAgICBjeTogKGN5ICsgeTEpLFxuICAgICAgICByYWRpdXM6IHJhZGl1cyxcbiAgICAgICAgc3RhcnRBbmdsZTogc3RhcnRBbmdsZSxcbiAgICAgICAgZW5kQW5nbGU6IGVuZEFuZ2xlLFxuICAgICAgICBhbnRpY2xvY2t3aXNlOiAoYjEgKiBhMiA+IGIyICogYTEpLFxuICAgIH07XG59O1xuXG4vKipcbiAqIFRoZSBhcmMgbWV0aG9kIGNyZWF0ZXMgYW4gYXJjL2N1cnZlICh1c2VkIHRvIGNyZWF0ZSBjaXJjbGVzLCBvciBwYXJ0cyBvZiBjaXJjbGVzKS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0WCAtIFN0YXJ0IHggbG9jYXRpb24gb2YgYXJjXG4gKiBAcGFyYW0ge251bWJlcn0gc3RhcnRZIC0gU3RhcnQgeSBsb2NhdGlvbiBvZiBhcmNcbiAqIEBwYXJhbSB7bnVtYmVyfSBjeCAtIFRoZSB4LWNvb3JkaW5hdGUgb2YgdGhlIGNlbnRlciBvZiB0aGUgY2lyY2xlXG4gKiBAcGFyYW0ge251bWJlcn0gY3kgLSBUaGUgeS1jb29yZGluYXRlIG9mIHRoZSBjZW50ZXIgb2YgdGhlIGNpcmNsZVxuICogQHBhcmFtIHtudW1iZXJ9IHJhZGl1cyAtIFRoZSByYWRpdXMgb2YgdGhlIGNpcmNsZVxuICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0QW5nbGUgLSBUaGUgc3RhcnRpbmcgYW5nbGUsIGluIHJhZGlhbnMgKDAgaXMgYXQgdGhlIDMgbydjbG9jayBwb3NpdGlvblxuICogIG9mIHRoZSBhcmMncyBjaXJjbGUpXG4gKiBAcGFyYW0ge251bWJlcn0gZW5kQW5nbGUgLSBUaGUgZW5kaW5nIGFuZ2xlLCBpbiByYWRpYW5zXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGFudGljbG9ja3dpc2UgLSBTcGVjaWZpZXMgd2hldGhlciB0aGUgZHJhd2luZyBzaG91bGQgYmVcbiAqICBjb3VudGVyLWNsb2Nrd2lzZSBvciBjbG9ja3dpc2UuIEZhbHNlIGlzIGRlZmF1bHQsIGFuZCBpbmRpY2F0ZXMgY2xvY2t3aXNlLCB3aGlsZSB0cnVlXG4gKiAgaW5kaWNhdGVzIGNvdW50ZXItY2xvY2t3aXNlLlxuICogQHBhcmFtIHtudW1iZXJ9IG4gLSBOdW1iZXIgb2Ygc2VnbWVudHNcbiAqIEBwYXJhbSB7bnVtYmVyW119IHBvaW50cyAtIENvbGxlY3Rpb24gb2YgcG9pbnRzIHRvIGFkZCB0b1xuICovXG5BcmNVdGlscy5hcmMgPSBmdW5jdGlvbiBhcmMgKHN0YXJ0WCwgc3RhcnRZLCBjeCwgY3ksIHJhZGl1cywgc3RhcnRBbmdsZSwgZW5kQW5nbGUsIGFudGljbG9ja3dpc2UsIHBvaW50cylcbntcbiAgICB2YXIgc3dlZXAgPSBlbmRBbmdsZSAtIHN0YXJ0QW5nbGU7XG4gICAgdmFyIG4gPSBHUkFQSElDU19DVVJWRVMuX3NlZ21lbnRzQ291bnQoXG4gICAgICAgIE1hdGguYWJzKHN3ZWVwKSAqIHJhZGl1cyxcbiAgICAgICAgTWF0aC5jZWlsKE1hdGguYWJzKHN3ZWVwKSAvIFBJXzIpICogNDBcbiAgICApO1xuXG4gICAgdmFyIHRoZXRhID0gKHN3ZWVwKSAvIChuICogMik7XG4gICAgdmFyIHRoZXRhMiA9IHRoZXRhICogMjtcbiAgICB2YXIgY1RoZXRhID0gTWF0aC5jb3ModGhldGEpO1xuICAgIHZhciBzVGhldGEgPSBNYXRoLnNpbih0aGV0YSk7XG4gICAgdmFyIHNlZ01pbnVzID0gbiAtIDE7XG4gICAgdmFyIHJlbWFpbmRlciA9IChzZWdNaW51cyAlIDEpIC8gc2VnTWludXM7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8PSBzZWdNaW51czsgKytpKVxuICAgIHtcbiAgICAgICAgdmFyIHJlYWwgPSBpICsgKHJlbWFpbmRlciAqIGkpO1xuICAgICAgICB2YXIgYW5nbGUgPSAoKHRoZXRhKSArIHN0YXJ0QW5nbGUgKyAodGhldGEyICogcmVhbCkpO1xuICAgICAgICB2YXIgYyA9IE1hdGguY29zKGFuZ2xlKTtcbiAgICAgICAgdmFyIHMgPSAtTWF0aC5zaW4oYW5nbGUpO1xuXG4gICAgICAgIHBvaW50cy5wdXNoKFxuICAgICAgICAgICAgKCgoY1RoZXRhICogYykgKyAoc1RoZXRhICogcykpICogcmFkaXVzKSArIGN4LFxuICAgICAgICAgICAgKCgoY1RoZXRhICogLXMpICsgKHNUaGV0YSAqIGMpKSAqIHJhZGl1cykgKyBjeVxuICAgICAgICApO1xuICAgIH1cbn07XG5cbi8qKlxuICogVXRpbGl0aWVzIGZvciBiZXppZXIgY3VydmVzXG4gKiBAY2xhc3NcbiAqIEBwcml2YXRlXG4gKi9cbnZhciBCZXppZXJVdGlscyA9IGZ1bmN0aW9uIEJlemllclV0aWxzICgpIHt9O1xuXG5CZXppZXJVdGlscy5jdXJ2ZUxlbmd0aCA9IGZ1bmN0aW9uIGN1cnZlTGVuZ3RoIChmcm9tWCwgZnJvbVksIGNwWCwgY3BZLCBjcFgyLCBjcFkyLCB0b1gsIHRvWSlcbntcbiAgICB2YXIgbiA9IDEwO1xuICAgIHZhciByZXN1bHQgPSAwLjA7XG4gICAgdmFyIHQgPSAwLjA7XG4gICAgdmFyIHQyID0gMC4wO1xuICAgIHZhciB0MyA9IDAuMDtcbiAgICB2YXIgbnQgPSAwLjA7XG4gICAgdmFyIG50MiA9IDAuMDtcbiAgICB2YXIgbnQzID0gMC4wO1xuICAgIHZhciB4ID0gMC4wO1xuICAgIHZhciB5ID0gMC4wO1xuICAgIHZhciBkeCA9IDAuMDtcbiAgICB2YXIgZHkgPSAwLjA7XG4gICAgdmFyIHByZXZYID0gZnJvbVg7XG4gICAgdmFyIHByZXZZID0gZnJvbVk7XG5cbiAgICBmb3IgKHZhciBpID0gMTsgaSA8PSBuOyArK2kpXG4gICAge1xuICAgICAgICB0ID0gaSAvIG47XG4gICAgICAgIHQyID0gdCAqIHQ7XG4gICAgICAgIHQzID0gdDIgKiB0O1xuICAgICAgICBudCA9ICgxLjAgLSB0KTtcbiAgICAgICAgbnQyID0gbnQgKiBudDtcbiAgICAgICAgbnQzID0gbnQyICogbnQ7XG5cbiAgICAgICAgeCA9IChudDMgKiBmcm9tWCkgKyAoMy4wICogbnQyICogdCAqIGNwWCkgKyAoMy4wICogbnQgKiB0MiAqIGNwWDIpICsgKHQzICogdG9YKTtcbiAgICAgICAgeSA9IChudDMgKiBmcm9tWSkgKyAoMy4wICogbnQyICogdCAqIGNwWSkgKyAoMyAqIG50ICogdDIgKiBjcFkyKSArICh0MyAqIHRvWSk7XG4gICAgICAgIGR4ID0gcHJldlggLSB4O1xuICAgICAgICBkeSA9IHByZXZZIC0geTtcbiAgICAgICAgcHJldlggPSB4O1xuICAgICAgICBwcmV2WSA9IHk7XG5cbiAgICAgICAgcmVzdWx0ICs9IE1hdGguc3FydCgoZHggKiBkeCkgKyAoZHkgKiBkeSkpO1xuICAgIH1cblxuICAgIHJldHVybiByZXN1bHQ7XG59O1xuXG4vKipcbiAqIENhbGN1bGF0ZSB0aGUgcG9pbnRzIGZvciBhIGJlemllciBjdXJ2ZSBhbmQgdGhlbiBkcmF3cyBpdC5cbiAqXG4gKiBJZ25vcmVkIGZyb20gZG9jcyBzaW5jZSBpdCBpcyBub3QgZGlyZWN0bHkgZXhwb3NlZC5cbiAqXG4gKiBAaWdub3JlXG4gKiBAcGFyYW0ge251bWJlcn0gY3BYIC0gQ29udHJvbCBwb2ludCB4XG4gKiBAcGFyYW0ge251bWJlcn0gY3BZIC0gQ29udHJvbCBwb2ludCB5XG4gKiBAcGFyYW0ge251bWJlcn0gY3BYMiAtIFNlY29uZCBDb250cm9sIHBvaW50IHhcbiAqIEBwYXJhbSB7bnVtYmVyfSBjcFkyIC0gU2Vjb25kIENvbnRyb2wgcG9pbnQgeVxuICogQHBhcmFtIHtudW1iZXJ9IHRvWCAtIERlc3RpbmF0aW9uIHBvaW50IHhcbiAqIEBwYXJhbSB7bnVtYmVyfSB0b1kgLSBEZXN0aW5hdGlvbiBwb2ludCB5XG4gKiBAcGFyYW0ge251bWJlcltdfSBwb2ludHMgLSBQYXRoIGFycmF5IHRvIHB1c2ggcG9pbnRzIGludG9cbiAqL1xuQmV6aWVyVXRpbHMuY3VydmVUbyA9IGZ1bmN0aW9uIGN1cnZlVG8gKGNwWCwgY3BZLCBjcFgyLCBjcFkyLCB0b1gsIHRvWSwgcG9pbnRzKVxue1xuICAgIHZhciBmcm9tWCA9IHBvaW50c1twb2ludHMubGVuZ3RoIC0gMl07XG4gICAgdmFyIGZyb21ZID0gcG9pbnRzW3BvaW50cy5sZW5ndGggLSAxXTtcblxuICAgIHBvaW50cy5sZW5ndGggLT0gMjtcblxuICAgIHZhciBuID0gR1JBUEhJQ1NfQ1VSVkVTLl9zZWdtZW50c0NvdW50KFxuICAgICAgICBCZXppZXJVdGlscy5jdXJ2ZUxlbmd0aChmcm9tWCwgZnJvbVksIGNwWCwgY3BZLCBjcFgyLCBjcFkyLCB0b1gsIHRvWSlcbiAgICApO1xuXG4gICAgdmFyIGR0ID0gMDtcbiAgICB2YXIgZHQyID0gMDtcbiAgICB2YXIgZHQzID0gMDtcbiAgICB2YXIgdDIgPSAwO1xuICAgIHZhciB0MyA9IDA7XG5cbiAgICBwb2ludHMucHVzaChmcm9tWCwgZnJvbVkpO1xuXG4gICAgZm9yICh2YXIgaSA9IDEsIGogPSAwOyBpIDw9IG47ICsraSlcbiAgICB7XG4gICAgICAgIGogPSBpIC8gbjtcblxuICAgICAgICBkdCA9ICgxIC0gaik7XG4gICAgICAgIGR0MiA9IGR0ICogZHQ7XG4gICAgICAgIGR0MyA9IGR0MiAqIGR0O1xuXG4gICAgICAgIHQyID0gaiAqIGo7XG4gICAgICAgIHQzID0gdDIgKiBqO1xuXG4gICAgICAgIHBvaW50cy5wdXNoKFxuICAgICAgICAgICAgKGR0MyAqIGZyb21YKSArICgzICogZHQyICogaiAqIGNwWCkgKyAoMyAqIGR0ICogdDIgKiBjcFgyKSArICh0MyAqIHRvWCksXG4gICAgICAgICAgICAoZHQzICogZnJvbVkpICsgKDMgKiBkdDIgKiBqICogY3BZKSArICgzICogZHQgKiB0MiAqIGNwWTIpICsgKHQzICogdG9ZKVxuICAgICAgICApO1xuICAgIH1cbn07XG5cbi8qKlxuICogVXRpbGl0aWVzIGZvciBxdWFkcmF0aWMgY3VydmVzXG4gKiBAY2xhc3NcbiAqIEBwcml2YXRlXG4gKi9cbnZhciBRdWFkcmF0aWNVdGlscyA9IGZ1bmN0aW9uIFF1YWRyYXRpY1V0aWxzICgpIHt9O1xuXG5RdWFkcmF0aWNVdGlscy5jdXJ2ZUxlbmd0aCA9IGZ1bmN0aW9uIGN1cnZlTGVuZ3RoIChmcm9tWCwgZnJvbVksIGNwWCwgY3BZLCB0b1gsIHRvWSlcbntcbiAgICB2YXIgYXggPSBmcm9tWCAtICgyLjAgKiBjcFgpICsgdG9YO1xuICAgIHZhciBheSA9IGZyb21ZIC0gKDIuMCAqIGNwWSkgKyB0b1k7XG4gICAgdmFyIGJ4ID0gKDIuMCAqIGNwWCkgLSAoMi4wICogZnJvbVgpO1xuICAgIHZhciBieSA9ICgyLjAgKiBjcFkpIC0gKDIuMCAqIGZyb21ZKTtcbiAgICB2YXIgYSA9IDQuMCAqICgoYXggKiBheCkgKyAoYXkgKiBheSkpO1xuICAgIHZhciBiID0gNC4wICogKChheCAqIGJ4KSArIChheSAqIGJ5KSk7XG4gICAgdmFyIGMgPSAoYnggKiBieCkgKyAoYnkgKiBieSk7XG5cbiAgICB2YXIgcyA9IDIuMCAqIE1hdGguc3FydChhICsgYiArIGMpO1xuICAgIHZhciBhMiA9IE1hdGguc3FydChhKTtcbiAgICB2YXIgYTMyID0gMi4wICogYSAqIGEyO1xuICAgIHZhciBjMiA9IDIuMCAqIE1hdGguc3FydChjKTtcbiAgICB2YXIgYmEgPSBiIC8gYTI7XG5cbiAgICByZXR1cm4gKFxuICAgICAgICAoYTMyICogcylcbiAgICAgICAgICAgICsgKGEyICogYiAqIChzIC0gYzIpKVxuICAgICAgICAgICAgKyAoXG4gICAgICAgICAgICAgICAgKCg0LjAgKiBjICogYSkgLSAoYiAqIGIpKVxuICAgICAgICAgICAgICAgKiBNYXRoLmxvZygoKDIuMCAqIGEyKSArIGJhICsgcykgLyAoYmEgKyBjMikpXG4gICAgICAgICAgICApXG4gICAgKSAvICg0LjAgKiBhMzIpO1xufTtcblxuLyoqXG4gKiBDYWxjdWxhdGUgdGhlIHBvaW50cyBmb3IgYSBxdWFkcmF0aWMgYmV6aWVyIGN1cnZlIGFuZCB0aGVuIGRyYXdzIGl0LlxuICogQmFzZWQgb246IGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzc4NTA5Ny9ob3ctZG8taS1pbXBsZW1lbnQtYS1iZXppZXItY3VydmUtaW4tY1xuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge251bWJlcn0gY3BYIC0gQ29udHJvbCBwb2ludCB4XG4gKiBAcGFyYW0ge251bWJlcn0gY3BZIC0gQ29udHJvbCBwb2ludCB5XG4gKiBAcGFyYW0ge251bWJlcn0gdG9YIC0gRGVzdGluYXRpb24gcG9pbnQgeFxuICogQHBhcmFtIHtudW1iZXJ9IHRvWSAtIERlc3RpbmF0aW9uIHBvaW50IHlcbiAqIEBwYXJhbSB7bnVtYmVyW119IHBvaW50cyAtIFBvaW50cyB0byBhZGQgc2VnbWVudHMgdG8uXG4gKi9cblF1YWRyYXRpY1V0aWxzLmN1cnZlVG8gPSBmdW5jdGlvbiBjdXJ2ZVRvIChjcFgsIGNwWSwgdG9YLCB0b1ksIHBvaW50cylcbntcbiAgICB2YXIgZnJvbVggPSBwb2ludHNbcG9pbnRzLmxlbmd0aCAtIDJdO1xuICAgIHZhciBmcm9tWSA9IHBvaW50c1twb2ludHMubGVuZ3RoIC0gMV07XG5cbiAgICB2YXIgbiA9IEdSQVBISUNTX0NVUlZFUy5fc2VnbWVudHNDb3VudChcbiAgICAgICAgUXVhZHJhdGljVXRpbHMuY3VydmVMZW5ndGgoZnJvbVgsIGZyb21ZLCBjcFgsIGNwWSwgdG9YLCB0b1kpXG4gICAgKTtcblxuICAgIHZhciB4YSA9IDA7XG4gICAgdmFyIHlhID0gMDtcblxuICAgIGZvciAodmFyIGkgPSAxOyBpIDw9IG47ICsraSlcbiAgICB7XG4gICAgICAgIHZhciBqID0gaSAvIG47XG5cbiAgICAgICAgeGEgPSBmcm9tWCArICgoY3BYIC0gZnJvbVgpICogaik7XG4gICAgICAgIHlhID0gZnJvbVkgKyAoKGNwWSAtIGZyb21ZKSAqIGopO1xuXG4gICAgICAgIHBvaW50cy5wdXNoKHhhICsgKCgoY3BYICsgKCh0b1ggLSBjcFgpICogaikpIC0geGEpICogaiksXG4gICAgICAgICAgICB5YSArICgoKGNwWSArICgodG9ZIC0gY3BZKSAqIGopKSAtIHlhKSAqIGopKTtcbiAgICB9XG59O1xuXG4vKipcbiAqIEEgc3RydWN0dXJlIHRvIGhvbGQgaW50ZXJpbSBiYXRjaCBvYmplY3RzLlxuICpcbiAqL1xudmFyIEJhdGNoUGFydCA9IGZ1bmN0aW9uIEJhdGNoUGFydCgpXG57XG4gICAgdGhpcy5yZXNldCgpO1xufTtcblxuLyoqXG4gKiBCZWdpbiBiYXRjaCBwYXJ0XG4gKlxuICogQHBhcmFtIHtQSVhJLkZpbGxTdHlsZSB8IFBJWEkuTGluZVN0eWxlfSBzdHlsZVxuICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0SW5kZXhcbiAqIEBwYXJhbSB7bnVtYmVyfSBhdHRyaWJTdGFydFxuICovXG5CYXRjaFBhcnQucHJvdG90eXBlLmJlZ2luID0gZnVuY3Rpb24gYmVnaW4gKHN0eWxlLCBzdGFydEluZGV4LCBhdHRyaWJTdGFydClcbntcbiAgICB0aGlzLnJlc2V0KCk7XG4gICAgdGhpcy5zdHlsZSA9IHN0eWxlO1xuICAgIHRoaXMuc3RhcnQgPSBzdGFydEluZGV4O1xuICAgIHRoaXMuYXR0cmliU3RhcnQgPSBhdHRyaWJTdGFydDtcbn07XG5cbi8qKlxuICogRW5kIGJhdGNoIHBhcnRcbiAqXG4gKiBAcGFyYW0ge251bWJlcn0gZW5kSW5kZXhcbiAqIEBwYXJhbSB7bnVtYmVyfSBlbmRBdHRyaWJcbiAqL1xuQmF0Y2hQYXJ0LnByb3RvdHlwZS5lbmQgPSBmdW5jdGlvbiBlbmQgKGVuZEluZGV4LCBlbmRBdHRyaWIpXG57XG4gICAgdGhpcy5hdHRyaWJTaXplID0gZW5kQXR0cmliIC0gdGhpcy5hdHRyaWJTdGFydDtcbiAgICB0aGlzLnNpemUgPSBlbmRJbmRleCAtIHRoaXMuc3RhcnQ7XG59O1xuXG5CYXRjaFBhcnQucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gcmVzZXQgKClcbntcbiAgICB0aGlzLnN0eWxlID0gbnVsbDtcbiAgICB0aGlzLnNpemUgPSAwO1xuICAgIHRoaXMuc3RhcnQgPSAwO1xuICAgIHRoaXMuYXR0cmliU3RhcnQgPSAwO1xuICAgIHRoaXMuYXR0cmliU2l6ZSA9IDA7XG59O1xuXG4vKipcbiAqIEdlbmVyYWxpemVkIGNvbnZlbmllbmNlIHV0aWxpdGllcyBmb3IgR3JhcGhpY3MuXG4gKlxuICogQG5hbWVzcGFjZSBQSVhJLmdyYXBoaWNzVXRpbHNcbiAqL1xuXG4vKipcbiAqIE1hcCBvZiBmaWxsIGNvbW1hbmRzIGZvciBlYWNoIHNoYXBlIHR5cGUuXG4gKlxuICogQG1lbWJlciB7T2JqZWN0fVxuICovXG52YXIgRklMTF9DT01NQU5EUyA9IHt9O1xuRklMTF9DT01NQU5EU1tTSEFQRVMuUE9MWV0gPSBidWlsZFBvbHk7XG5GSUxMX0NPTU1BTkRTW1NIQVBFUy5DSVJDXSA9IGJ1aWxkQ2lyY2xlO1xuRklMTF9DT01NQU5EU1tTSEFQRVMuRUxJUF0gPSBidWlsZENpcmNsZTtcbkZJTExfQ09NTUFORFNbU0hBUEVTLlJFQ1RdID0gYnVpbGRSZWN0YW5nbGU7XG5GSUxMX0NPTU1BTkRTW1NIQVBFUy5SUkVDXSA9IGJ1aWxkUm91bmRlZFJlY3RhbmdsZTtcblxuLyoqXG4gKiBCYXRjaCBwb29sLCBzdG9yZXMgdW51c2VkIGJhdGNoZXMgZm9yIHByZXZlbnRpbmcgYWxsb2NhdGlvbnMuXG4gKlxuICogQHR5cGUge0FycmF5PEJhdGNoUGFydD59XG4gKi9cbnZhciBCQVRDSF9QT09MID0gW107XG5cbi8qKlxuICogRHJhdyBjYWxsIHBvb2wsIHN0b3JlcyB1bnVzZWQgZHJhdyBjYWxscyBmb3IgcHJldmVudGluZyBhbGxvY2F0aW9ucy5cbiAqXG4gKiBAdHlwZSB7QXJyYXk8UElYSS5CYXRjaERyYXdDYWxsPn1cbiAqL1xudmFyIERSQVdfQ0FMTF9QT09MID0gW107XG5cbnZhciBpbmRleCA9ICh7XG4gICAgYnVpbGRQb2x5OiBidWlsZFBvbHksXG4gICAgYnVpbGRDaXJjbGU6IGJ1aWxkQ2lyY2xlLFxuICAgIGJ1aWxkUmVjdGFuZ2xlOiBidWlsZFJlY3RhbmdsZSxcbiAgICBidWlsZFJvdW5kZWRSZWN0YW5nbGU6IGJ1aWxkUm91bmRlZFJlY3RhbmdsZSxcbiAgICBGSUxMX0NPTU1BTkRTOiBGSUxMX0NPTU1BTkRTLFxuICAgIEJBVENIX1BPT0w6IEJBVENIX1BPT0wsXG4gICAgRFJBV19DQUxMX1BPT0w6IERSQVdfQ0FMTF9QT09MLFxuICAgIGJ1aWxkTGluZTogYnVpbGRMaW5lLFxuICAgIGJ1aWxkQ29tcGxleFBvbHk6IGJ1aWxkQ29tcGxleFBvbHksXG4gICAgYmV6aWVyQ3VydmVUbzogYmV6aWVyQ3VydmVUbyxcbiAgICBTdGFyOiBTdGFyLFxuICAgIEFyY1V0aWxzOiBBcmNVdGlscyxcbiAgICBCZXppZXJVdGlsczogQmV6aWVyVXRpbHMsXG4gICAgUXVhZHJhdGljVXRpbHM6IFF1YWRyYXRpY1V0aWxzLFxuICAgIEJhdGNoUGFydDogQmF0Y2hQYXJ0XG59KTtcblxuLyoqXG4gKiBBIGNsYXNzIHRvIGNvbnRhaW4gZGF0YSB1c2VmdWwgZm9yIEdyYXBoaWNzIG9iamVjdHNcbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBHcmFwaGljc0RhdGEgPSBmdW5jdGlvbiBHcmFwaGljc0RhdGEoc2hhcGUsIGZpbGxTdHlsZSwgbGluZVN0eWxlLCBtYXRyaXgpXG57XG4gICAgaWYgKCBmaWxsU3R5bGUgPT09IHZvaWQgMCApIGZpbGxTdHlsZSA9IG51bGw7XG4gICAgaWYgKCBsaW5lU3R5bGUgPT09IHZvaWQgMCApIGxpbmVTdHlsZSA9IG51bGw7XG4gICAgaWYgKCBtYXRyaXggPT09IHZvaWQgMCApIG1hdHJpeCA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgc2hhcGUgb2JqZWN0IHRvIGRyYXcuXG4gICAgICogQG1lbWJlciB7UElYSS5DaXJjbGV8UElYSS5FbGxpcHNlfFBJWEkuUG9seWdvbnxQSVhJLlJlY3RhbmdsZXxQSVhJLlJvdW5kZWRSZWN0YW5nbGV9XG4gICAgICovXG4gICAgdGhpcy5zaGFwZSA9IHNoYXBlO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHN0eWxlIG9mIHRoZSBsaW5lLlxuICAgICAqIEBtZW1iZXIge1BJWEkuTGluZVN0eWxlfVxuICAgICAqL1xuICAgIHRoaXMubGluZVN0eWxlID0gbGluZVN0eWxlO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHN0eWxlIG9mIHRoZSBmaWxsLlxuICAgICAqIEBtZW1iZXIge1BJWEkuRmlsbFN0eWxlfVxuICAgICAqL1xuICAgIHRoaXMuZmlsbFN0eWxlID0gZmlsbFN0eWxlO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHRyYW5zZm9ybSBtYXRyaXguXG4gICAgICogQG1lbWJlciB7UElYSS5NYXRyaXh9XG4gICAgICovXG4gICAgdGhpcy5tYXRyaXggPSBtYXRyaXg7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdHlwZSBvZiB0aGUgc2hhcGUsIHNlZSB0aGUgQ29uc3QuU2hhcGVzIGZpbGUgZm9yIGFsbCB0aGUgZXhpc3RpbmcgdHlwZXMsXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMudHlwZSA9IHNoYXBlLnR5cGU7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgY29sbGVjdGlvbiBvZiBwb2ludHMuXG4gICAgICogQG1lbWJlciB7bnVtYmVyW119XG4gICAgICovXG4gICAgdGhpcy5wb2ludHMgPSBbXTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBjb2xsZWN0aW9uIG9mIGhvbGVzLlxuICAgICAqIEBtZW1iZXIge1BJWEkuR3JhcGhpY3NEYXRhW119XG4gICAgICovXG4gICAgdGhpcy5ob2xlcyA9IFtdO1xufTtcblxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IEdyYXBoaWNzRGF0YSBvYmplY3Qgd2l0aCB0aGUgc2FtZSB2YWx1ZXMgYXMgdGhpcyBvbmUuXG4gKlxuICogQHJldHVybiB7UElYSS5HcmFwaGljc0RhdGF9IENsb25lZCBHcmFwaGljc0RhdGEgb2JqZWN0XG4gKi9cbkdyYXBoaWNzRGF0YS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiBjbG9uZSAoKVxue1xuICAgIHJldHVybiBuZXcgR3JhcGhpY3NEYXRhKFxuICAgICAgICB0aGlzLnNoYXBlLFxuICAgICAgICB0aGlzLmZpbGxTdHlsZSxcbiAgICAgICAgdGhpcy5saW5lU3R5bGUsXG4gICAgICAgIHRoaXMubWF0cml4XG4gICAgKTtcbn07XG5cbi8qKlxuICogRGVzdHJveXMgdGhlIEdyYXBoaWNzIGRhdGEuXG4gKi9cbkdyYXBoaWNzRGF0YS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3kgKClcbntcbiAgICB0aGlzLnNoYXBlID0gbnVsbDtcbiAgICB0aGlzLmhvbGVzLmxlbmd0aCA9IDA7XG4gICAgdGhpcy5ob2xlcyA9IG51bGw7XG4gICAgdGhpcy5wb2ludHMubGVuZ3RoID0gMDtcbiAgICB0aGlzLnBvaW50cyA9IG51bGw7XG4gICAgdGhpcy5saW5lU3R5bGUgPSBudWxsO1xuICAgIHRoaXMuZmlsbFN0eWxlID0gbnVsbDtcbn07XG5cbnZhciB0bXBQb2ludCA9IG5ldyBQb2ludCgpO1xudmFyIHRtcEJvdW5kcyA9IG5ldyBCb3VuZHMoKTtcblxuLyoqXG4gKiBUaGUgR3JhcGhpY3MgY2xhc3MgY29udGFpbnMgbWV0aG9kcyB1c2VkIHRvIGRyYXcgcHJpbWl0aXZlIHNoYXBlcyBzdWNoIGFzIGxpbmVzLCBjaXJjbGVzIGFuZFxuICogcmVjdGFuZ2xlcyB0byB0aGUgZGlzcGxheSwgYW5kIHRvIGNvbG9yIGFuZCBmaWxsIHRoZW0uXG4gKlxuICogR3JhcGhpY3NHZW9tZXRyeSBpcyBkZXNpZ25lZCB0byBub3QgYmUgY29udGludWFsbHkgdXBkYXRpbmcgdGhlIGdlb21ldHJ5IHNpbmNlIGl0J3MgZXhwZW5zaXZlXG4gKiB0byByZS10ZXNzZWxhdGUgdXNpbmcgKiplYXJjdXQqKi4gQ29uc2lkZXIgdXNpbmcge0BsaW5rIFBJWEkuTWVzaH0gZm9yIHRoaXMgdXNlLWNhc2UsIGl0J3MgbXVjaCBmYXN0ZXIuXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkJhdGNoR2VvbWV0cnlcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBHcmFwaGljc0dlb21ldHJ5ID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoQmF0Y2hHZW9tZXRyeSkge1xuICAgIGZ1bmN0aW9uIEdyYXBoaWNzR2VvbWV0cnkoKVxuICAgIHtcbiAgICAgICAgQmF0Y2hHZW9tZXRyeS5jYWxsKHRoaXMpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBbiBhcnJheSBvZiBwb2ludHMgdG8gZHJhdywgMiBudW1iZXJzIHBlciBwb2ludFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJbXX1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5wb2ludHMgPSBbXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGNvbGxlY3Rpb24gb2YgY29sb3JzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcltdfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNvbG9ycyA9IFtdO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgVVZzIGNvbGxlY3Rpb25cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyW119XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudXZzID0gW107XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBpbmRpY2VzIG9mIHRoZSB2ZXJ0aWNlc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJbXX1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5pbmRpY2VzID0gW107XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlZmVyZW5jZSB0byB0aGUgdGV4dHVyZSBJRHMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcltdfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnRleHR1cmVJZHMgPSBbXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGNvbGxlY3Rpb24gb2YgZHJhd24gc2hhcGVzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkdyYXBoaWNzRGF0YVtdfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmdyYXBoaWNzRGF0YSA9IFtdO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVc2VkIHRvIGRldGVjdCBpZiB0aGUgZ3JhcGhpY3Mgb2JqZWN0IGhhcyBjaGFuZ2VkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGlydHkgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBCYXRjaGVzIG5lZWQgdG8gcmVnZW5lcmF0ZWQgaWYgdGhlIGdlb21ldHJ5IGlzIHVwZGF0ZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5iYXRjaERpcnR5ID0gLTE7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVzZWQgdG8gY2hlY2sgaWYgdGhlIGNhY2hlIGlzIGRpcnR5LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY2FjaGVEaXJ0eSA9IC0xO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVc2VkIHRvIGRldGVjdCBpZiB3ZSBjbGVhcmVkIHRoZSBncmFwaGljc0RhdGEuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNsZWFyRGlydHkgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBMaXN0IG9mIGN1cnJlbnQgZHJhdyBjYWxscyBkcml2ZWQgZnJvbSB0aGUgYmF0Y2hlcy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0W119XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZHJhd0NhbGxzID0gW107XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEludGVybWVkaWF0ZSBhYnN0cmFjdCBmb3JtYXQgc2VudCB0byBiYXRjaCBzeXN0ZW0uXG4gICAgICAgICAqIENhbiBiZSBjb252ZXJ0ZWQgdG8gZHJhd0NhbGxzIG9yIHRvIGJhdGNoYWJsZSBvYmplY3RzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtCYXRjaFBhcnRbXX1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5iYXRjaGVzID0gW107XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEluZGV4IG9mIHRoZSBsYXN0IGJhdGNoZWQgc2hhcGUgaW4gdGhlIHN0YWNrIG9mIGNhbGxzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc2hhcGVJbmRleCA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIENhY2hlZCBib3VuZHMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuQm91bmRzfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9ib3VuZHMgPSBuZXcgQm91bmRzKCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBib3VuZHMgZGlydHkgZmxhZy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmJvdW5kc0RpcnR5ID0gLTE7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFBhZGRpbmcgdG8gYWRkIHRvIHRoZSBib3VuZHMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5ib3VuZHNQYWRkaW5nID0gMDtcblxuICAgICAgICB0aGlzLmJhdGNoYWJsZSA9IGZhbHNlO1xuXG4gICAgICAgIHRoaXMuaW5kaWNlc1VpbnQxNiA9IG51bGw7XG5cbiAgICAgICAgdGhpcy51dnNGbG9hdDMyID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogTWluaW1hbCBkaXN0YW5jZSBiZXR3ZWVuIHBvaW50cyB0aGF0IGFyZSBjb25zaWRlcmVkIGRpZmZlcmVudC5cbiAgICAgICAgICogQWZmZWN0cyBsaW5lIHRlc3NlbGF0aW9uLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNsb3NlUG9pbnRFcHMgPSAxZS00O1xuICAgIH1cblxuICAgIGlmICggQmF0Y2hHZW9tZXRyeSApIEdyYXBoaWNzR2VvbWV0cnkuX19wcm90b19fID0gQmF0Y2hHZW9tZXRyeTtcbiAgICBHcmFwaGljc0dlb21ldHJ5LnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIEJhdGNoR2VvbWV0cnkgJiYgQmF0Y2hHZW9tZXRyeS5wcm90b3R5cGUgKTtcbiAgICBHcmFwaGljc0dlb21ldHJ5LnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEdyYXBoaWNzR2VvbWV0cnk7XG5cbiAgICB2YXIgcHJvdG90eXBlQWNjZXNzb3JzID0geyBib3VuZHM6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0gfTtcblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgY3VycmVudCBib3VuZHMgb2YgdGhlIGdyYXBoaWMgZ2VvbWV0cnkuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLkJvdW5kc31cbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMuYm91bmRzLmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5ib3VuZHNEaXJ0eSAhPT0gdGhpcy5kaXJ0eSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5ib3VuZHNEaXJ0eSA9IHRoaXMuZGlydHk7XG4gICAgICAgICAgICB0aGlzLmNhbGN1bGF0ZUJvdW5kcygpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX2JvdW5kcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2FsbCBpZiB5b3UgY2hhbmdlZCBncmFwaGljc0RhdGEgbWFudWFsbHkuXG4gICAgICogRW1wdGllcyBhbGwgYmF0Y2ggYnVmZmVycy5cbiAgICAgKi9cbiAgICBHcmFwaGljc0dlb21ldHJ5LnByb3RvdHlwZS5pbnZhbGlkYXRlID0gZnVuY3Rpb24gaW52YWxpZGF0ZSAoKVxuICAgIHtcbiAgICAgICAgdGhpcy5ib3VuZHNEaXJ0eSA9IC0xO1xuICAgICAgICB0aGlzLmRpcnR5Kys7XG4gICAgICAgIHRoaXMuYmF0Y2hEaXJ0eSsrO1xuICAgICAgICB0aGlzLnNoYXBlSW5kZXggPSAwO1xuXG4gICAgICAgIHRoaXMucG9pbnRzLmxlbmd0aCA9IDA7XG4gICAgICAgIHRoaXMuY29sb3JzLmxlbmd0aCA9IDA7XG4gICAgICAgIHRoaXMudXZzLmxlbmd0aCA9IDA7XG4gICAgICAgIHRoaXMuaW5kaWNlcy5sZW5ndGggPSAwO1xuICAgICAgICB0aGlzLnRleHR1cmVJZHMubGVuZ3RoID0gMDtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuZHJhd0NhbGxzLmxlbmd0aDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmRyYXdDYWxsc1tpXS50ZXh0dXJlcy5sZW5ndGggPSAwO1xuICAgICAgICAgICAgRFJBV19DQUxMX1BPT0wucHVzaCh0aGlzLmRyYXdDYWxsc1tpXSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmRyYXdDYWxscy5sZW5ndGggPSAwO1xuXG4gICAgICAgIGZvciAodmFyIGkkMSA9IDA7IGkkMSA8IHRoaXMuYmF0Y2hlcy5sZW5ndGg7IGkkMSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgYmF0Y2ggPSAgdGhpcy5iYXRjaGVzW2kkMV07XG5cbiAgICAgICAgICAgIGJhdGNoLnN0YXJ0ID0gMDtcbiAgICAgICAgICAgIGJhdGNoLmF0dHJpYlN0YXJ0ID0gMDtcbiAgICAgICAgICAgIGJhdGNoLnN0eWxlID0gbnVsbDtcbiAgICAgICAgICAgIEJBVENIX1BPT0wucHVzaChiYXRjaCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmJhdGNoZXMubGVuZ3RoID0gMDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2xlYXJzIHRoZSBncmFwaGljcyB0aGF0IHdlcmUgZHJhd24gdG8gdGhpcyBHcmFwaGljcyBvYmplY3QsIGFuZCByZXNldHMgZmlsbCBhbmQgbGluZSBzdHlsZSBzZXR0aW5ncy5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3NHZW9tZXRyeX0gVGhpcyBHcmFwaGljc0dlb21ldHJ5IG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG4gICAgR3JhcGhpY3NHZW9tZXRyeS5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiBjbGVhciAoKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuZ3JhcGhpY3NEYXRhLmxlbmd0aCA+IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuaW52YWxpZGF0ZSgpO1xuICAgICAgICAgICAgdGhpcy5jbGVhckRpcnR5Kys7XG4gICAgICAgICAgICB0aGlzLmdyYXBoaWNzRGF0YS5sZW5ndGggPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERyYXdzIHRoZSBnaXZlbiBzaGFwZSB0byB0aGlzIEdyYXBoaWNzIG9iamVjdC4gQ2FuIGJlIGFueSBvZiBDaXJjbGUsIFJlY3RhbmdsZSwgRWxsaXBzZSwgTGluZSBvciBQb2x5Z29uLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkNpcmNsZXxQSVhJLkVsbGlwc2V8UElYSS5Qb2x5Z29ufFBJWEkuUmVjdGFuZ2xlfFBJWEkuUm91bmRlZFJlY3RhbmdsZX0gc2hhcGUgLSBUaGUgc2hhcGUgb2JqZWN0IHRvIGRyYXcuXG4gICAgICogQHBhcmFtIHtQSVhJLkZpbGxTdHlsZX0gZmlsbFN0eWxlIC0gRGVmaW5lcyBzdHlsZSBvZiB0aGUgZmlsbC5cbiAgICAgKiBAcGFyYW0ge1BJWEkuTGluZVN0eWxlfSBsaW5lU3R5bGUgLSBEZWZpbmVzIHN0eWxlIG9mIHRoZSBsaW5lcy5cbiAgICAgKiBAcGFyYW0ge1BJWEkuTWF0cml4fSBtYXRyaXggLSBUcmFuc2Zvcm0gYXBwbGllZCB0byB0aGUgcG9pbnRzIG9mIHRoZSBzaGFwZS5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzR2VvbWV0cnl9IFJldHVybnMgZ2VvbWV0cnkgZm9yIGNoYWluaW5nLlxuICAgICAqL1xuICAgIEdyYXBoaWNzR2VvbWV0cnkucHJvdG90eXBlLmRyYXdTaGFwZSA9IGZ1bmN0aW9uIGRyYXdTaGFwZSAoc2hhcGUsIGZpbGxTdHlsZSwgbGluZVN0eWxlLCBtYXRyaXgpXG4gICAge1xuICAgICAgICB2YXIgZGF0YSA9IG5ldyBHcmFwaGljc0RhdGEoc2hhcGUsIGZpbGxTdHlsZSwgbGluZVN0eWxlLCBtYXRyaXgpO1xuXG4gICAgICAgIHRoaXMuZ3JhcGhpY3NEYXRhLnB1c2goZGF0YSk7XG4gICAgICAgIHRoaXMuZGlydHkrKztcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRHJhd3MgdGhlIGdpdmVuIHNoYXBlIHRvIHRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBDYW4gYmUgYW55IG9mIENpcmNsZSwgUmVjdGFuZ2xlLCBFbGxpcHNlLCBMaW5lIG9yIFBvbHlnb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuQ2lyY2xlfFBJWEkuRWxsaXBzZXxQSVhJLlBvbHlnb258UElYSS5SZWN0YW5nbGV8UElYSS5Sb3VuZGVkUmVjdGFuZ2xlfSBzaGFwZSAtIFRoZSBzaGFwZSBvYmplY3QgdG8gZHJhdy5cbiAgICAgKiBAcGFyYW0ge1BJWEkuTWF0cml4fSBtYXRyaXggLSBUcmFuc2Zvcm0gYXBwbGllZCB0byB0aGUgcG9pbnRzIG9mIHRoZSBzaGFwZS5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzR2VvbWV0cnl9IFJldHVybnMgZ2VvbWV0cnkgZm9yIGNoYWluaW5nLlxuICAgICAqL1xuICAgIEdyYXBoaWNzR2VvbWV0cnkucHJvdG90eXBlLmRyYXdIb2xlID0gZnVuY3Rpb24gZHJhd0hvbGUgKHNoYXBlLCBtYXRyaXgpXG4gICAge1xuICAgICAgICBpZiAoIXRoaXMuZ3JhcGhpY3NEYXRhLmxlbmd0aClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZGF0YSA9IG5ldyBHcmFwaGljc0RhdGEoc2hhcGUsIG51bGwsIG51bGwsIG1hdHJpeCk7XG5cbiAgICAgICAgdmFyIGxhc3RTaGFwZSA9IHRoaXMuZ3JhcGhpY3NEYXRhW3RoaXMuZ3JhcGhpY3NEYXRhLmxlbmd0aCAtIDFdO1xuXG4gICAgICAgIGRhdGEubGluZVN0eWxlID0gbGFzdFNoYXBlLmxpbmVTdHlsZTtcblxuICAgICAgICBsYXN0U2hhcGUuaG9sZXMucHVzaChkYXRhKTtcblxuICAgICAgICB0aGlzLmRpcnR5Kys7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoZSBHcmFwaGljcyBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge29iamVjdHxib29sZWFufSBbb3B0aW9uc10gLSBPcHRpb25zIHBhcmFtZXRlci4gQSBib29sZWFuIHdpbGwgYWN0IGFzIGlmIGFsbFxuICAgICAqICBvcHRpb25zIGhhdmUgYmVlbiBzZXQgdG8gdGhhdCB2YWx1ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY2hpbGRyZW49ZmFsc2VdIC0gaWYgc2V0IHRvIHRydWUsIGFsbCB0aGUgY2hpbGRyZW4gd2lsbCBoYXZlXG4gICAgICogIHRoZWlyIGRlc3Ryb3kgbWV0aG9kIGNhbGxlZCBhcyB3ZWxsLiAnb3B0aW9ucycgd2lsbCBiZSBwYXNzZWQgb24gdG8gdGhvc2UgY2FsbHMuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy50ZXh0dXJlPWZhbHNlXSAtIE9ubHkgdXNlZCBmb3IgY2hpbGQgU3ByaXRlcyBpZiBvcHRpb25zLmNoaWxkcmVuIGlzIHNldCB0byB0cnVlXG4gICAgICogIFNob3VsZCBpdCBkZXN0cm95IHRoZSB0ZXh0dXJlIG9mIHRoZSBjaGlsZCBzcHJpdGVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmJhc2VUZXh0dXJlPWZhbHNlXSAtIE9ubHkgdXNlZCBmb3IgY2hpbGQgU3ByaXRlcyBpZiBvcHRpb25zLmNoaWxkcmVuIGlzIHNldCB0byB0cnVlXG4gICAgICogIFNob3VsZCBpdCBkZXN0cm95IHRoZSBiYXNlIHRleHR1cmUgb2YgdGhlIGNoaWxkIHNwcml0ZVxuICAgICAqL1xuICAgIEdyYXBoaWNzR2VvbWV0cnkucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95IChvcHRpb25zKVxuICAgIHtcbiAgICAgICAgQmF0Y2hHZW9tZXRyeS5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMsIG9wdGlvbnMpO1xuXG4gICAgICAgIC8vIGRlc3Ryb3kgZWFjaCBvZiB0aGUgR3JhcGhpY3NEYXRhIG9iamVjdHNcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmdyYXBoaWNzRGF0YS5sZW5ndGg7ICsraSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5ncmFwaGljc0RhdGFbaV0uZGVzdHJveSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5wb2ludHMubGVuZ3RoID0gMDtcbiAgICAgICAgdGhpcy5wb2ludHMgPSBudWxsO1xuICAgICAgICB0aGlzLmNvbG9ycy5sZW5ndGggPSAwO1xuICAgICAgICB0aGlzLmNvbG9ycyA9IG51bGw7XG4gICAgICAgIHRoaXMudXZzLmxlbmd0aCA9IDA7XG4gICAgICAgIHRoaXMudXZzID0gbnVsbDtcbiAgICAgICAgdGhpcy5pbmRpY2VzLmxlbmd0aCA9IDA7XG4gICAgICAgIHRoaXMuaW5kaWNlcyA9IG51bGw7XG4gICAgICAgIHRoaXMuaW5kZXhCdWZmZXIuZGVzdHJveSgpO1xuICAgICAgICB0aGlzLmluZGV4QnVmZmVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5ncmFwaGljc0RhdGEubGVuZ3RoID0gMDtcbiAgICAgICAgdGhpcy5ncmFwaGljc0RhdGEgPSBudWxsO1xuICAgICAgICB0aGlzLmRyYXdDYWxscy5sZW5ndGggPSAwO1xuICAgICAgICB0aGlzLmRyYXdDYWxscyA9IG51bGw7XG4gICAgICAgIHRoaXMuYmF0Y2hlcy5sZW5ndGggPSAwO1xuICAgICAgICB0aGlzLmJhdGNoZXMgPSBudWxsO1xuICAgICAgICB0aGlzLl9ib3VuZHMgPSBudWxsO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDaGVjayB0byBzZWUgaWYgYSBwb2ludCBpcyBjb250YWluZWQgd2l0aGluIHRoaXMgZ2VvbWV0cnkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUG9pbnR9IHBvaW50IC0gUG9pbnQgdG8gY2hlY2sgaWYgaXQncyBjb250YWluZWQuXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn0gYHRydWVgIGlmIHRoZSBwb2ludCBpcyBjb250YWluZWQgd2l0aGluIGdlb21ldHJ5LlxuICAgICAqL1xuICAgIEdyYXBoaWNzR2VvbWV0cnkucHJvdG90eXBlLmNvbnRhaW5zUG9pbnQgPSBmdW5jdGlvbiBjb250YWluc1BvaW50IChwb2ludClcbiAgICB7XG4gICAgICAgIHZhciBncmFwaGljc0RhdGEgPSB0aGlzLmdyYXBoaWNzRGF0YTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGdyYXBoaWNzRGF0YS5sZW5ndGg7ICsraSlcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIGRhdGEgPSBncmFwaGljc0RhdGFbaV07XG5cbiAgICAgICAgICAgIGlmICghZGF0YS5maWxsU3R5bGUudmlzaWJsZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gb25seSBkZWFsIHdpdGggZmlsbHMuLlxuICAgICAgICAgICAgaWYgKGRhdGEuc2hhcGUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKGRhdGEubWF0cml4KVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YS5tYXRyaXguYXBwbHlJbnZlcnNlKHBvaW50LCB0bXBQb2ludCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRtcFBvaW50LmNvcHlGcm9tKHBvaW50KTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5zaGFwZS5jb250YWlucyh0bXBQb2ludC54LCB0bXBQb2ludC55KSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBoaXRIb2xlID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuaG9sZXMpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkkMSA9IDA7IGkkMSA8IGRhdGEuaG9sZXMubGVuZ3RoOyBpJDErKylcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaG9sZSA9IGRhdGEuaG9sZXNbaSQxXTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChob2xlLnNoYXBlLmNvbnRhaW5zKHRtcFBvaW50LngsIHRtcFBvaW50LnkpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGl0SG9sZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmICghaGl0SG9sZSlcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEdlbmVyYXRlcyBpbnRlcm1lZGlhdGUgYmF0Y2ggZGF0YS4gRWl0aGVyIGdldHMgY29udmVydGVkIHRvIGRyYXdDYWxsc1xuICAgICAqIG9yIHVzZWQgdG8gY29udmVydCB0byBiYXRjaCBvYmplY3RzIGRpcmVjdGx5IGJ5IHRoZSBHcmFwaGljcyBvYmplY3QuXG4gICAgICovXG4gICAgR3JhcGhpY3NHZW9tZXRyeS5wcm90b3R5cGUudXBkYXRlQmF0Y2hlcyA9IGZ1bmN0aW9uIHVwZGF0ZUJhdGNoZXMgKClcbiAgICB7XG4gICAgICAgIGlmICghdGhpcy5ncmFwaGljc0RhdGEubGVuZ3RoKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmJhdGNoYWJsZSA9IHRydWU7XG5cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdGhpcy52YWxpZGF0ZUJhdGNoaW5nKCkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuY2FjaGVEaXJ0eSA9IHRoaXMuZGlydHk7XG5cbiAgICAgICAgdmFyIHV2cyA9IHRoaXMudXZzO1xuICAgICAgICB2YXIgZ3JhcGhpY3NEYXRhID0gdGhpcy5ncmFwaGljc0RhdGE7XG5cbiAgICAgICAgdmFyIGJhdGNoUGFydCA9IG51bGw7XG5cbiAgICAgICAgdmFyIGN1cnJlbnRTdHlsZSA9IG51bGw7XG5cbiAgICAgICAgaWYgKHRoaXMuYmF0Y2hlcy5sZW5ndGggPiAwKVxuICAgICAgICB7XG4gICAgICAgICAgICBiYXRjaFBhcnQgPSB0aGlzLmJhdGNoZXNbdGhpcy5iYXRjaGVzLmxlbmd0aCAtIDFdO1xuICAgICAgICAgICAgY3VycmVudFN0eWxlID0gYmF0Y2hQYXJ0LnN0eWxlO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IHRoaXMuc2hhcGVJbmRleDsgaSA8IGdyYXBoaWNzRGF0YS5sZW5ndGg7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5zaGFwZUluZGV4Kys7XG5cbiAgICAgICAgICAgIHZhciBkYXRhID0gZ3JhcGhpY3NEYXRhW2ldO1xuICAgICAgICAgICAgdmFyIGZpbGxTdHlsZSA9IGRhdGEuZmlsbFN0eWxlO1xuICAgICAgICAgICAgdmFyIGxpbmVTdHlsZSA9IGRhdGEubGluZVN0eWxlO1xuICAgICAgICAgICAgdmFyIGNvbW1hbmQgPSBGSUxMX0NPTU1BTkRTW2RhdGEudHlwZV07XG5cbiAgICAgICAgICAgIC8vIGJ1aWxkIG91dCB0aGUgc2hhcGVzIHBvaW50cy4uXG4gICAgICAgICAgICBjb21tYW5kLmJ1aWxkKGRhdGEpO1xuXG4gICAgICAgICAgICBpZiAoZGF0YS5tYXRyaXgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm1Qb2ludHMoZGF0YS5wb2ludHMsIGRhdGEubWF0cml4KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCAyOyBqKyspXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdmFyIHN0eWxlID0gKGogPT09IDApID8gZmlsbFN0eWxlIDogbGluZVN0eWxlO1xuXG4gICAgICAgICAgICAgICAgaWYgKCFzdHlsZS52aXNpYmxlKSB7IGNvbnRpbnVlOyB9XG5cbiAgICAgICAgICAgICAgICB2YXIgbmV4dFRleHR1cmUgPSBzdHlsZS50ZXh0dXJlLmJhc2VUZXh0dXJlO1xuICAgICAgICAgICAgICAgIHZhciBpbmRleCQxID0gdGhpcy5pbmRpY2VzLmxlbmd0aDtcbiAgICAgICAgICAgICAgICB2YXIgYXR0cmliSW5kZXggPSB0aGlzLnBvaW50cy5sZW5ndGggLyAyO1xuXG4gICAgICAgICAgICAgICAgbmV4dFRleHR1cmUud3JhcE1vZGUgPSBXUkFQX01PREVTLlJFUEVBVDtcblxuICAgICAgICAgICAgICAgIC8vIGNsb3NlIGJhdGNoIGlmIHN0eWxlIGlzIGRpZmZlcmVudFxuICAgICAgICAgICAgICAgIGlmIChiYXRjaFBhcnQgJiYgIXRoaXMuX2NvbXBhcmVTdHlsZXMoY3VycmVudFN0eWxlLCBzdHlsZSkpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBiYXRjaFBhcnQuZW5kKGluZGV4JDEsIGF0dHJpYkluZGV4KTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoYmF0Y2hQYXJ0LnNpemUgPiAwKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBiYXRjaFBhcnQgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIHNwYXduIG5ldyBiYXRjaCBpZiBpdHMgZmlyc3QgYmF0Y2ggb3IgcHJldmlvdXMgd2FzIGNsb3NlZFxuICAgICAgICAgICAgICAgIGlmICghYmF0Y2hQYXJ0KVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgYmF0Y2hQYXJ0ID0gQkFUQ0hfUE9PTC5wb3AoKSB8fCBuZXcgQmF0Y2hQYXJ0KCk7XG4gICAgICAgICAgICAgICAgICAgIGJhdGNoUGFydC5iZWdpbihzdHlsZSwgaW5kZXgkMSwgYXR0cmliSW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmJhdGNoZXMucHVzaChiYXRjaFBhcnQpO1xuXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRTdHlsZSA9IHN0eWxlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHZhciBzdGFydCA9IHRoaXMucG9pbnRzLmxlbmd0aCAvIDI7XG5cbiAgICAgICAgICAgICAgICBpZiAoaiA9PT0gMClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJvY2Vzc0ZpbGwoZGF0YSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJvY2Vzc0xpbmUoZGF0YSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdmFyIHNpemUgPSAodGhpcy5wb2ludHMubGVuZ3RoIC8gMikgLSBzdGFydDtcblxuICAgICAgICAgICAgICAgIHRoaXMuYWRkVXZzKHRoaXMucG9pbnRzLCB1dnMsIHN0eWxlLnRleHR1cmUsIHN0YXJ0LCBzaXplLCBzdHlsZS5tYXRyaXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFiYXRjaFBhcnQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIHRoZXJlIGFyZSBubyB2aXNpYmxlIHN0eWxlcyBpbiBHcmFwaGljc0RhdGFcbiAgICAgICAgICAgIC8vIGl0cyBwb3NzaWJsZSB0aGF0IHNvbWVvbmUgd2FudHMgR3JhcGhpY3MganVzdCBmb3IgdGhlIGJvdW5kc1xuICAgICAgICAgICAgdGhpcy5iYXRjaGFibGUgPSB0cnVlO1xuXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgaW5kZXggPSB0aGlzLmluZGljZXMubGVuZ3RoO1xuICAgICAgICB2YXIgYXR0cmliID0gdGhpcy5wb2ludHMubGVuZ3RoIC8gMjtcblxuICAgICAgICBiYXRjaFBhcnQuZW5kKGluZGV4LCBhdHRyaWIpO1xuXG4gICAgICAgIHRoaXMuaW5kaWNlc1VpbnQxNiA9IG5ldyBVaW50MTZBcnJheSh0aGlzLmluZGljZXMpO1xuXG4gICAgICAgIC8vIFRPRE8gbWFrZSB0aGlzIGEgY29uc3QuLlxuICAgICAgICB0aGlzLmJhdGNoYWJsZSA9IHRoaXMuaXNCYXRjaGFibGUoKTtcblxuICAgICAgICBpZiAodGhpcy5iYXRjaGFibGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMucGFja0JhdGNoZXMoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuYnVpbGREcmF3Q2FsbHMoKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBZmZpbml0eSBjaGVja1xuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkZpbGxTdHlsZSB8IFBJWEkuTGluZVN0eWxlfSBzdHlsZUFcbiAgICAgKiBAcGFyYW0ge1BJWEkuRmlsbFN0eWxlIHwgUElYSS5MaW5lU3R5bGV9IHN0eWxlQlxuICAgICAqL1xuICAgIEdyYXBoaWNzR2VvbWV0cnkucHJvdG90eXBlLl9jb21wYXJlU3R5bGVzID0gZnVuY3Rpb24gX2NvbXBhcmVTdHlsZXMgKHN0eWxlQSwgc3R5bGVCKVxuICAgIHtcbiAgICAgICAgaWYgKCFzdHlsZUEgfHwgIXN0eWxlQilcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHN0eWxlQS50ZXh0dXJlLmJhc2VUZXh0dXJlICE9PSBzdHlsZUIudGV4dHVyZS5iYXNlVGV4dHVyZSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHN0eWxlQS5jb2xvciArIHN0eWxlQS5hbHBoYSAhPT0gc3R5bGVCLmNvbG9yICsgc3R5bGVCLmFscGhhKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoISFzdHlsZUEubmF0aXZlICE9PSAhIXN0eWxlQi5uYXRpdmUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUZXN0IGdlb21ldHJ5IGZvciBiYXRjaGluZyBwcm9jZXNzLlxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIEdyYXBoaWNzR2VvbWV0cnkucHJvdG90eXBlLnZhbGlkYXRlQmF0Y2hpbmcgPSBmdW5jdGlvbiB2YWxpZGF0ZUJhdGNoaW5nICgpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5kaXJ0eSA9PT0gdGhpcy5jYWNoZURpcnR5IHx8ICF0aGlzLmdyYXBoaWNzRGF0YS5sZW5ndGgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBsID0gdGhpcy5ncmFwaGljc0RhdGEubGVuZ3RoOyBpIDwgbDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgZGF0YSA9IHRoaXMuZ3JhcGhpY3NEYXRhW2ldO1xuICAgICAgICAgICAgdmFyIGZpbGwgPSBkYXRhLmZpbGxTdHlsZTtcbiAgICAgICAgICAgIHZhciBsaW5lID0gZGF0YS5saW5lU3R5bGU7XG5cbiAgICAgICAgICAgIGlmIChmaWxsICYmICFmaWxsLnRleHR1cmUuYmFzZVRleHR1cmUudmFsaWQpIHsgcmV0dXJuIGZhbHNlOyB9XG4gICAgICAgICAgICBpZiAobGluZSAmJiAhbGluZS50ZXh0dXJlLmJhc2VUZXh0dXJlLnZhbGlkKSB7IHJldHVybiBmYWxzZTsgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIE9mZnNldCB0aGUgaW5kaWNlcyBzbyB0aGF0IGl0IHdvcmtzIHdpdGggdGhlIGJhdGNoZXIuXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgR3JhcGhpY3NHZW9tZXRyeS5wcm90b3R5cGUucGFja0JhdGNoZXMgPSBmdW5jdGlvbiBwYWNrQmF0Y2hlcyAoKVxuICAgIHtcbiAgICAgICAgdGhpcy5iYXRjaERpcnR5Kys7XG4gICAgICAgIHRoaXMudXZzRmxvYXQzMiA9IG5ldyBGbG9hdDMyQXJyYXkodGhpcy51dnMpO1xuXG4gICAgICAgIHZhciBiYXRjaGVzID0gdGhpcy5iYXRjaGVzO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBsID0gYmF0Y2hlcy5sZW5ndGg7IGkgPCBsOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBiYXRjaCA9IGJhdGNoZXNbaV07XG5cbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgYmF0Y2guc2l6ZTsgaisrKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IGJhdGNoLnN0YXJ0ICsgajtcblxuICAgICAgICAgICAgICAgIHRoaXMuaW5kaWNlc1VpbnQxNltpbmRleF0gPSB0aGlzLmluZGljZXNVaW50MTZbaW5kZXhdIC0gYmF0Y2guYXR0cmliU3RhcnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIHRvIHNlZSBpZiB0aGlzIGdyYXBoaWNzIGdlb21ldHJ5IGNhbiBiZSBiYXRjaGVkLlxuICAgICAqIEN1cnJlbnRseSBpdCBuZWVkcyB0byBiZSBzbWFsbCBlbm91Z2ggYW5kIG5vdCBjb250YWluIGFueSBuYXRpdmUgbGluZXMuXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgR3JhcGhpY3NHZW9tZXRyeS5wcm90b3R5cGUuaXNCYXRjaGFibGUgPSBmdW5jdGlvbiBpc0JhdGNoYWJsZSAoKVxuICAgIHtcbiAgICAgICAgdmFyIGJhdGNoZXMgPSB0aGlzLmJhdGNoZXM7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBiYXRjaGVzLmxlbmd0aDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoYmF0Y2hlc1tpXS5zdHlsZS5uYXRpdmUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuICh0aGlzLnBvaW50cy5sZW5ndGggPCBHcmFwaGljc0dlb21ldHJ5LkJBVENIQUJMRV9TSVpFICogMik7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGludGVybWVkaWF0ZSBiYXRjaGVzIGRhdGEgdG8gZHJhd0NhbGxzLlxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIEdyYXBoaWNzR2VvbWV0cnkucHJvdG90eXBlLmJ1aWxkRHJhd0NhbGxzID0gZnVuY3Rpb24gYnVpbGREcmF3Q2FsbHMgKClcbiAgICB7XG4gICAgICAgIHZhciBUSUNLID0gKytCYXNlVGV4dHVyZS5fZ2xvYmFsQmF0Y2g7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmRyYXdDYWxscy5sZW5ndGg7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5kcmF3Q2FsbHNbaV0udGV4dHVyZXMubGVuZ3RoID0gMDtcbiAgICAgICAgICAgIERSQVdfQ0FMTF9QT09MLnB1c2godGhpcy5kcmF3Q2FsbHNbaV0pO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5kcmF3Q2FsbHMubGVuZ3RoID0gMDtcblxuICAgICAgICB2YXIgY29sb3JzID0gdGhpcy5jb2xvcnM7XG4gICAgICAgIHZhciB0ZXh0dXJlSWRzID0gdGhpcy50ZXh0dXJlSWRzO1xuXG4gICAgICAgIHZhciBjdXJyZW50R3JvdXAgPSAgRFJBV19DQUxMX1BPT0wucG9wKCk7XG5cbiAgICAgICAgaWYgKCFjdXJyZW50R3JvdXApXG4gICAgICAgIHtcbiAgICAgICAgICAgIGN1cnJlbnRHcm91cCA9IG5ldyBCYXRjaERyYXdDYWxsKCk7XG4gICAgICAgICAgICBjdXJyZW50R3JvdXAudGV4dHVyZXMgPSBuZXcgQmF0Y2hUZXh0dXJlQXJyYXkoKTtcbiAgICAgICAgfVxuICAgICAgICBjdXJyZW50R3JvdXAudGV4dHVyZXMuY291bnQgPSAwO1xuICAgICAgICBjdXJyZW50R3JvdXAuc3RhcnQgPSAwO1xuICAgICAgICBjdXJyZW50R3JvdXAuc2l6ZSA9IDA7XG4gICAgICAgIGN1cnJlbnRHcm91cC50eXBlID0gRFJBV19NT0RFUy5UUklBTkdMRVM7XG5cbiAgICAgICAgdmFyIHRleHR1cmVDb3VudCA9IDA7XG4gICAgICAgIHZhciBjdXJyZW50VGV4dHVyZSA9IG51bGw7XG4gICAgICAgIHZhciB0ZXh0dXJlSWQgPSAwO1xuICAgICAgICB2YXIgbmF0aXZlID0gZmFsc2U7XG4gICAgICAgIHZhciBkcmF3TW9kZSA9IERSQVdfTU9ERVMuVFJJQU5HTEVTO1xuXG4gICAgICAgIHZhciBpbmRleCA9IDA7XG5cbiAgICAgICAgdGhpcy5kcmF3Q2FsbHMucHVzaChjdXJyZW50R3JvdXApO1xuXG4gICAgICAgIC8vIFRPRE8gLSB0aGlzIGNhbiBiZSBzaW1wbGlmaWVkXG4gICAgICAgIGZvciAodmFyIGkkMSA9IDA7IGkkMSA8IHRoaXMuYmF0Y2hlcy5sZW5ndGg7IGkkMSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgZGF0YSA9IHRoaXMuYmF0Y2hlc1tpJDFdO1xuXG4gICAgICAgICAgICAvLyBUT0RPIGFkZCBzb21lIGZ1bGwgb24gTUFYX1RFWFRVUkUgQ09ERS4uXG4gICAgICAgICAgICB2YXIgTUFYX1RFWFRVUkVTID0gODtcblxuICAgICAgICAgICAgdmFyIHN0eWxlID0gZGF0YS5zdHlsZTtcblxuICAgICAgICAgICAgdmFyIG5leHRUZXh0dXJlID0gc3R5bGUudGV4dHVyZS5iYXNlVGV4dHVyZTtcblxuICAgICAgICAgICAgaWYgKG5hdGl2ZSAhPT0gISFzdHlsZS5uYXRpdmUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmF0aXZlID0gISFzdHlsZS5uYXRpdmU7XG4gICAgICAgICAgICAgICAgZHJhd01vZGUgPSBuYXRpdmUgPyBEUkFXX01PREVTLkxJTkVTIDogRFJBV19NT0RFUy5UUklBTkdMRVM7XG5cbiAgICAgICAgICAgICAgICAvLyBmb3JjZSB0aGUgYmF0Y2ggdG8gYnJlYWshXG4gICAgICAgICAgICAgICAgY3VycmVudFRleHR1cmUgPSBudWxsO1xuICAgICAgICAgICAgICAgIHRleHR1cmVDb3VudCA9IE1BWF9URVhUVVJFUztcbiAgICAgICAgICAgICAgICBUSUNLKys7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChjdXJyZW50VGV4dHVyZSAhPT0gbmV4dFRleHR1cmUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY3VycmVudFRleHR1cmUgPSBuZXh0VGV4dHVyZTtcblxuICAgICAgICAgICAgICAgIGlmIChuZXh0VGV4dHVyZS5fYmF0Y2hFbmFibGVkICE9PSBUSUNLKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRleHR1cmVDb3VudCA9PT0gTUFYX1RFWFRVUkVTKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBUSUNLKys7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHR1cmVDb3VudCA9IDA7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50R3JvdXAuc2l6ZSA+IDApXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudEdyb3VwID0gRFJBV19DQUxMX1BPT0wucG9wKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFjdXJyZW50R3JvdXApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50R3JvdXAgPSBuZXcgQmF0Y2hEcmF3Q2FsbCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50R3JvdXAudGV4dHVyZXMgPSBuZXcgQmF0Y2hUZXh0dXJlQXJyYXkoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kcmF3Q2FsbHMucHVzaChjdXJyZW50R3JvdXApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50R3JvdXAuc3RhcnQgPSBpbmRleDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRHcm91cC5zaXplID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRHcm91cC50ZXh0dXJlcy5jb3VudCA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50R3JvdXAudHlwZSA9IGRyYXdNb2RlO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gVE9ETyBhZGQgdGhpcyB0byB0aGUgcmVuZGVyIHBhcnQuLlxuICAgICAgICAgICAgICAgICAgICBuZXh0VGV4dHVyZS50b3VjaGVkID0gMTsvLyB0b3VjaDtcbiAgICAgICAgICAgICAgICAgICAgbmV4dFRleHR1cmUuX2JhdGNoRW5hYmxlZCA9IFRJQ0s7XG4gICAgICAgICAgICAgICAgICAgIG5leHRUZXh0dXJlLl9iYXRjaExvY2F0aW9uID0gdGV4dHVyZUNvdW50O1xuICAgICAgICAgICAgICAgICAgICBuZXh0VGV4dHVyZS53cmFwTW9kZSA9IDEwNDk3O1xuXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRHcm91cC50ZXh0dXJlcy5lbGVtZW50c1tjdXJyZW50R3JvdXAudGV4dHVyZXMuY291bnQrK10gPSBuZXh0VGV4dHVyZTtcbiAgICAgICAgICAgICAgICAgICAgdGV4dHVyZUNvdW50Kys7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjdXJyZW50R3JvdXAuc2l6ZSArPSBkYXRhLnNpemU7XG4gICAgICAgICAgICBpbmRleCArPSBkYXRhLnNpemU7XG5cbiAgICAgICAgICAgIHRleHR1cmVJZCA9IG5leHRUZXh0dXJlLl9iYXRjaExvY2F0aW9uO1xuXG4gICAgICAgICAgICB0aGlzLmFkZENvbG9ycyhjb2xvcnMsIHN0eWxlLmNvbG9yLCBzdHlsZS5hbHBoYSwgZGF0YS5hdHRyaWJTaXplKTtcbiAgICAgICAgICAgIHRoaXMuYWRkVGV4dHVyZUlkcyh0ZXh0dXJlSWRzLCB0ZXh0dXJlSWQsIGRhdGEuYXR0cmliU2l6ZSk7XG4gICAgICAgIH1cblxuICAgICAgICBCYXNlVGV4dHVyZS5fZ2xvYmFsQmF0Y2ggPSBUSUNLO1xuXG4gICAgICAgIC8vIHVwbG9hZC4uXG4gICAgICAgIC8vIG1lcmdlIGZvciBub3chXG4gICAgICAgIHRoaXMucGFja0F0dHJpYnV0ZXMoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUGFja3MgYXR0cmlidXRlcyB0byBzaW5nbGUgYnVmZmVyLlxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIEdyYXBoaWNzR2VvbWV0cnkucHJvdG90eXBlLnBhY2tBdHRyaWJ1dGVzID0gZnVuY3Rpb24gcGFja0F0dHJpYnV0ZXMgKClcbiAgICB7XG4gICAgICAgIHZhciB2ZXJ0cyA9IHRoaXMucG9pbnRzO1xuICAgICAgICB2YXIgdXZzID0gdGhpcy51dnM7XG4gICAgICAgIHZhciBjb2xvcnMgPSB0aGlzLmNvbG9ycztcbiAgICAgICAgdmFyIHRleHR1cmVJZHMgPSB0aGlzLnRleHR1cmVJZHM7XG5cbiAgICAgICAgLy8gdmVydHMgYXJlIDIgcG9zaXRpb25zLi4gc28gd2UgKiBieSAzIGFzIHRoZXJlIGFyZSA2IHByb3BlcnRpZXMuLiB0aGVuIDQgY29zIGl0cyBieXRlc1xuICAgICAgICB2YXIgZ2xQb2ludHMgPSBuZXcgQXJyYXlCdWZmZXIodmVydHMubGVuZ3RoICogMyAqIDQpO1xuICAgICAgICB2YXIgZjMyID0gbmV3IEZsb2F0MzJBcnJheShnbFBvaW50cyk7XG4gICAgICAgIHZhciB1MzIgPSBuZXcgVWludDMyQXJyYXkoZ2xQb2ludHMpO1xuXG4gICAgICAgIHZhciBwID0gMDtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZlcnRzLmxlbmd0aCAvIDI7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgZjMyW3ArK10gPSB2ZXJ0c1tpICogMl07XG4gICAgICAgICAgICBmMzJbcCsrXSA9IHZlcnRzWyhpICogMikgKyAxXTtcblxuICAgICAgICAgICAgZjMyW3ArK10gPSB1dnNbaSAqIDJdO1xuICAgICAgICAgICAgZjMyW3ArK10gPSB1dnNbKGkgKiAyKSArIDFdO1xuXG4gICAgICAgICAgICB1MzJbcCsrXSA9IGNvbG9yc1tpXTtcblxuICAgICAgICAgICAgZjMyW3ArK10gPSB0ZXh0dXJlSWRzW2ldO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fYnVmZmVyLnVwZGF0ZShnbFBvaW50cyk7XG4gICAgICAgIHRoaXMuX2luZGV4QnVmZmVyLnVwZGF0ZSh0aGlzLmluZGljZXNVaW50MTYpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBQcm9jZXNzIGZpbGwgcGFydCBvZiBHcmFwaGljcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5HcmFwaGljc0RhdGF9IGRhdGFcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgR3JhcGhpY3NHZW9tZXRyeS5wcm90b3R5cGUucHJvY2Vzc0ZpbGwgPSBmdW5jdGlvbiBwcm9jZXNzRmlsbCAoZGF0YSlcbiAgICB7XG4gICAgICAgIGlmIChkYXRhLmhvbGVzLmxlbmd0aClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5wcm9jZXNzSG9sZXMoZGF0YS5ob2xlcyk7XG5cbiAgICAgICAgICAgIGJ1aWxkUG9seS50cmlhbmd1bGF0ZShkYXRhLCB0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBjb21tYW5kID0gRklMTF9DT01NQU5EU1tkYXRhLnR5cGVdO1xuXG4gICAgICAgICAgICBjb21tYW5kLnRyaWFuZ3VsYXRlKGRhdGEsIHRoaXMpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFByb2Nlc3MgbGluZSBwYXJ0IG9mIEdyYXBoaWNzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkdyYXBoaWNzRGF0YX0gZGF0YVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBHcmFwaGljc0dlb21ldHJ5LnByb3RvdHlwZS5wcm9jZXNzTGluZSA9IGZ1bmN0aW9uIHByb2Nlc3NMaW5lIChkYXRhKVxuICAgIHtcbiAgICAgICAgYnVpbGRMaW5lKGRhdGEsIHRoaXMpO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5ob2xlcy5sZW5ndGg7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgYnVpbGRMaW5lKGRhdGEuaG9sZXNbaV0sIHRoaXMpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFByb2Nlc3MgdGhlIGhvbGVzIGRhdGEuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuR3JhcGhpY3NEYXRhW119IGhvbGVzIC0gSG9sZXMgdG8gcmVuZGVyXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIEdyYXBoaWNzR2VvbWV0cnkucHJvdG90eXBlLnByb2Nlc3NIb2xlcyA9IGZ1bmN0aW9uIHByb2Nlc3NIb2xlcyAoaG9sZXMpXG4gICAge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGhvbGVzLmxlbmd0aDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgaG9sZSA9IGhvbGVzW2ldO1xuICAgICAgICAgICAgdmFyIGNvbW1hbmQgPSBGSUxMX0NPTU1BTkRTW2hvbGUudHlwZV07XG5cbiAgICAgICAgICAgIGNvbW1hbmQuYnVpbGQoaG9sZSk7XG5cbiAgICAgICAgICAgIGlmIChob2xlLm1hdHJpeClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRyYW5zZm9ybVBvaW50cyhob2xlLnBvaW50cywgaG9sZS5tYXRyaXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZSB0aGUgbG9jYWwgYm91bmRzIG9mIHRoZSBvYmplY3QuIEV4cGVuc2l2ZSB0byB1c2UgcGVyZm9ybWFuY2Utd2lzZS5cbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBHcmFwaGljc0dlb21ldHJ5LnByb3RvdHlwZS5jYWxjdWxhdGVCb3VuZHMgPSBmdW5jdGlvbiBjYWxjdWxhdGVCb3VuZHMgKClcbiAgICB7XG4gICAgICAgIHZhciBib3VuZHMgPSB0aGlzLl9ib3VuZHM7XG4gICAgICAgIHZhciBzZXF1ZW5jZUJvdW5kcyA9IHRtcEJvdW5kcztcbiAgICAgICAgdmFyIGN1ck1hdHJpeCA9IE1hdHJpeC5JREVOVElUWTtcblxuICAgICAgICB0aGlzLl9ib3VuZHMuY2xlYXIoKTtcbiAgICAgICAgc2VxdWVuY2VCb3VuZHMuY2xlYXIoKTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuZ3JhcGhpY3NEYXRhLmxlbmd0aDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgZGF0YSA9IHRoaXMuZ3JhcGhpY3NEYXRhW2ldO1xuICAgICAgICAgICAgdmFyIHNoYXBlID0gZGF0YS5zaGFwZTtcbiAgICAgICAgICAgIHZhciB0eXBlID0gZGF0YS50eXBlO1xuICAgICAgICAgICAgdmFyIGxpbmVTdHlsZSA9IGRhdGEubGluZVN0eWxlO1xuICAgICAgICAgICAgdmFyIG5leHRNYXRyaXggPSBkYXRhLm1hdHJpeCB8fCBNYXRyaXguSURFTlRJVFk7XG4gICAgICAgICAgICB2YXIgbGluZVdpZHRoID0gMC4wO1xuXG4gICAgICAgICAgICBpZiAobGluZVN0eWxlICYmIGxpbmVTdHlsZS52aXNpYmxlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHZhciBhbGlnbm1lbnQgPSBsaW5lU3R5bGUuYWxpZ25tZW50O1xuXG4gICAgICAgICAgICAgICAgbGluZVdpZHRoID0gbGluZVN0eWxlLndpZHRoO1xuXG4gICAgICAgICAgICAgICAgaWYgKHR5cGUgPT09IFNIQVBFUy5QT0xZKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbGluZVdpZHRoID0gbGluZVdpZHRoICogKDAuNSArIE1hdGguYWJzKDAuNSAtIGFsaWdubWVudCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBsaW5lV2lkdGggPSBsaW5lV2lkdGggKiBNYXRoLm1heCgwLCBhbGlnbm1lbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGN1ck1hdHJpeCAhPT0gbmV4dE1hdHJpeClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAoIXNlcXVlbmNlQm91bmRzLmlzRW1wdHkoKSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGJvdW5kcy5hZGRCb3VuZHNNYXRyaXgoc2VxdWVuY2VCb3VuZHMsIGN1ck1hdHJpeCk7XG4gICAgICAgICAgICAgICAgICAgIHNlcXVlbmNlQm91bmRzLmNsZWFyKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGN1ck1hdHJpeCA9IG5leHRNYXRyaXg7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0eXBlID09PSBTSEFQRVMuUkVDVCB8fCB0eXBlID09PSBTSEFQRVMuUlJFQylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzZXF1ZW5jZUJvdW5kcy5hZGRGcmFtZVBhZChzaGFwZS54LCBzaGFwZS55LCBzaGFwZS54ICsgc2hhcGUud2lkdGgsIHNoYXBlLnkgKyBzaGFwZS5oZWlnaHQsXG4gICAgICAgICAgICAgICAgICAgIGxpbmVXaWR0aCwgbGluZVdpZHRoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHR5cGUgPT09IFNIQVBFUy5DSVJDKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHNlcXVlbmNlQm91bmRzLmFkZEZyYW1lUGFkKHNoYXBlLngsIHNoYXBlLnksIHNoYXBlLngsIHNoYXBlLnksXG4gICAgICAgICAgICAgICAgICAgIHNoYXBlLnJhZGl1cyArIGxpbmVXaWR0aCwgc2hhcGUucmFkaXVzICsgbGluZVdpZHRoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHR5cGUgPT09IFNIQVBFUy5FTElQKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHNlcXVlbmNlQm91bmRzLmFkZEZyYW1lUGFkKHNoYXBlLngsIHNoYXBlLnksIHNoYXBlLngsIHNoYXBlLnksXG4gICAgICAgICAgICAgICAgICAgIHNoYXBlLndpZHRoICsgbGluZVdpZHRoLCBzaGFwZS5oZWlnaHQgKyBsaW5lV2lkdGgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIC8vIGFkZGluZyBkaXJlY3RseSB0byB0aGUgYm91bmRzXG4gICAgICAgICAgICAgICAgYm91bmRzLmFkZFZlcnRpY2VzTWF0cml4KGN1ck1hdHJpeCwgc2hhcGUucG9pbnRzLCAwLCBzaGFwZS5wb2ludHMubGVuZ3RoLCBsaW5lV2lkdGgsIGxpbmVXaWR0aCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXNlcXVlbmNlQm91bmRzLmlzRW1wdHkoKSlcbiAgICAgICAge1xuICAgICAgICAgICAgYm91bmRzLmFkZEJvdW5kc01hdHJpeChzZXF1ZW5jZUJvdW5kcywgY3VyTWF0cml4KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGJvdW5kcy5wYWQodGhpcy5ib3VuZHNQYWRkaW5nLCB0aGlzLmJvdW5kc1BhZGRpbmcpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUcmFuc2Zvcm0gcG9pbnRzIHVzaW5nIG1hdHJpeC5cbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSBwb2ludHMgLSBQb2ludHMgdG8gdHJhbnNmb3JtXG4gICAgICogQHBhcmFtIHtQSVhJLk1hdHJpeH0gbWF0cml4IC0gVHJhbnNmb3JtIG1hdHJpeFxuICAgICAqL1xuICAgIEdyYXBoaWNzR2VvbWV0cnkucHJvdG90eXBlLnRyYW5zZm9ybVBvaW50cyA9IGZ1bmN0aW9uIHRyYW5zZm9ybVBvaW50cyAocG9pbnRzLCBtYXRyaXgpXG4gICAge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBvaW50cy5sZW5ndGggLyAyOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciB4ID0gcG9pbnRzWyhpICogMildO1xuICAgICAgICAgICAgdmFyIHkgPSBwb2ludHNbKGkgKiAyKSArIDFdO1xuXG4gICAgICAgICAgICBwb2ludHNbKGkgKiAyKV0gPSAobWF0cml4LmEgKiB4KSArIChtYXRyaXguYyAqIHkpICsgbWF0cml4LnR4O1xuICAgICAgICAgICAgcG9pbnRzWyhpICogMikgKyAxXSA9IChtYXRyaXguYiAqIHgpICsgKG1hdHJpeC5kICogeSkgKyBtYXRyaXgudHk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQWRkIGNvbG9ycy5cbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSBjb2xvcnMgLSBMaXN0IG9mIGNvbG9ycyB0byBhZGQgdG9cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY29sb3IgLSBDb2xvciB0byBhZGRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYWxwaGEgLSBBbHBoYSB0byB1c2VcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2l6ZSAtIE51bWJlciBvZiBjb2xvcnMgdG8gYWRkXG4gICAgICovXG4gICAgR3JhcGhpY3NHZW9tZXRyeS5wcm90b3R5cGUuYWRkQ29sb3JzID0gZnVuY3Rpb24gYWRkQ29sb3JzIChjb2xvcnMsIGNvbG9yLCBhbHBoYSwgc2l6ZSlcbiAgICB7XG4gICAgICAgIC8vIFRPRE8gdXNlIHRoZSBwcmVtdWx0aXBseSBiaXRzIEl2YW4gYWRkZWRcbiAgICAgICAgdmFyIHJnYiA9IChjb2xvciA+PiAxNikgKyAoY29sb3IgJiAweGZmMDApICsgKChjb2xvciAmIDB4ZmYpIDw8IDE2KTtcblxuICAgICAgICB2YXIgcmdiYSA9ICBwcmVtdWx0aXBseVRpbnQocmdiLCBhbHBoYSk7XG5cbiAgICAgICAgd2hpbGUgKHNpemUtLSA+IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbG9ycy5wdXNoKHJnYmEpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEFkZCB0ZXh0dXJlIGlkIHRoYXQgdGhlIHNoYWRlci9mcmFnbWVudCB3YW50cyB0byB1c2UuXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gdGV4dHVyZUlkc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBpZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzaXplXG4gICAgICovXG4gICAgR3JhcGhpY3NHZW9tZXRyeS5wcm90b3R5cGUuYWRkVGV4dHVyZUlkcyA9IGZ1bmN0aW9uIGFkZFRleHR1cmVJZHMgKHRleHR1cmVJZHMsIGlkLCBzaXplKVxuICAgIHtcbiAgICAgICAgd2hpbGUgKHNpemUtLSA+IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRleHR1cmVJZHMucHVzaChpZCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogR2VuZXJhdGVzIHRoZSBVVnMgZm9yIGEgc2hhcGUuXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gdmVydHMgLSBWZXJ0aWNlc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IHV2cyAtIFVWc1xuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0dXJlfSB0ZXh0dXJlIC0gUmVmZXJlbmNlIHRvIFRleHR1cmVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnQgLSBJbmRleCBidWZmZXIgc3RhcnQgaW5kZXguXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNpemUgLSBUaGUgc2l6ZS9sZW5ndGggZm9yIGluZGV4IGJ1ZmZlci5cbiAgICAgKiBAcGFyYW0ge1BJWEkuTWF0cml4fSBbbWF0cml4XSAtIE9wdGlvbmFsIHRyYW5zZm9ybSBmb3IgYWxsIHBvaW50cy5cbiAgICAgKi9cbiAgICBHcmFwaGljc0dlb21ldHJ5LnByb3RvdHlwZS5hZGRVdnMgPSBmdW5jdGlvbiBhZGRVdnMgKHZlcnRzLCB1dnMsIHRleHR1cmUsIHN0YXJ0LCBzaXplLCBtYXRyaXgpXG4gICAge1xuICAgICAgICB2YXIgaW5kZXggPSAwO1xuICAgICAgICB2YXIgdXZzU3RhcnQgPSB1dnMubGVuZ3RoO1xuICAgICAgICB2YXIgZnJhbWUgPSB0ZXh0dXJlLmZyYW1lO1xuXG4gICAgICAgIHdoaWxlIChpbmRleCA8IHNpemUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciB4ID0gdmVydHNbKHN0YXJ0ICsgaW5kZXgpICogMl07XG4gICAgICAgICAgICB2YXIgeSA9IHZlcnRzWygoc3RhcnQgKyBpbmRleCkgKiAyKSArIDFdO1xuXG4gICAgICAgICAgICBpZiAobWF0cml4KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHZhciBueCA9IChtYXRyaXguYSAqIHgpICsgKG1hdHJpeC5jICogeSkgKyBtYXRyaXgudHg7XG5cbiAgICAgICAgICAgICAgICB5ID0gKG1hdHJpeC5iICogeCkgKyAobWF0cml4LmQgKiB5KSArIG1hdHJpeC50eTtcbiAgICAgICAgICAgICAgICB4ID0gbng7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGluZGV4Kys7XG5cbiAgICAgICAgICAgIHV2cy5wdXNoKHggLyBmcmFtZS53aWR0aCwgeSAvIGZyYW1lLmhlaWdodCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgYmFzZVRleHR1cmUgPSB0ZXh0dXJlLmJhc2VUZXh0dXJlO1xuXG4gICAgICAgIGlmIChmcmFtZS53aWR0aCA8IGJhc2VUZXh0dXJlLndpZHRoXG4gICAgICAgICAgICB8fCBmcmFtZS5oZWlnaHQgPCBiYXNlVGV4dHVyZS5oZWlnaHQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuYWRqdXN0VXZzKHV2cywgdGV4dHVyZSwgdXZzU3RhcnQsIHNpemUpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIE1vZGlmeSB1dnMgYXJyYXkgYWNjb3JkaW5nIHRvIHBvc2l0aW9uIG9mIHRleHR1cmUgcmVnaW9uXG4gICAgICogRG9lcyBub3Qgd29yayB3aXRoIHJvdGF0ZWQgb3IgdHJpbW1lZCB0ZXh0dXJlc1xuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gdXZzIGFycmF5XG4gICAgICogQHBhcmFtIHtQSVhJLlRleHR1cmV9IHRleHR1cmUgcmVnaW9uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0IHN0YXJ0aW5nIGluZGV4IGZvciB1dnNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2l6ZSBob3cgbWFueSBwb2ludHMgdG8gYWRqdXN0XG4gICAgICovXG4gICAgR3JhcGhpY3NHZW9tZXRyeS5wcm90b3R5cGUuYWRqdXN0VXZzID0gZnVuY3Rpb24gYWRqdXN0VXZzICh1dnMsIHRleHR1cmUsIHN0YXJ0LCBzaXplKVxuICAgIHtcbiAgICAgICAgdmFyIGJhc2VUZXh0dXJlID0gdGV4dHVyZS5iYXNlVGV4dHVyZTtcbiAgICAgICAgdmFyIGVwcyA9IDFlLTY7XG4gICAgICAgIHZhciBmaW5pc2ggPSBzdGFydCArIChzaXplICogMik7XG4gICAgICAgIHZhciBmcmFtZSA9IHRleHR1cmUuZnJhbWU7XG4gICAgICAgIHZhciBzY2FsZVggPSBmcmFtZS53aWR0aCAvIGJhc2VUZXh0dXJlLndpZHRoO1xuICAgICAgICB2YXIgc2NhbGVZID0gZnJhbWUuaGVpZ2h0IC8gYmFzZVRleHR1cmUuaGVpZ2h0O1xuICAgICAgICB2YXIgb2Zmc2V0WCA9IGZyYW1lLnggLyBmcmFtZS53aWR0aDtcbiAgICAgICAgdmFyIG9mZnNldFkgPSBmcmFtZS55IC8gZnJhbWUuaGVpZ2h0O1xuICAgICAgICB2YXIgbWluWCA9IE1hdGguZmxvb3IodXZzW3N0YXJ0XSArIGVwcyk7XG4gICAgICAgIHZhciBtaW5ZID0gTWF0aC5mbG9vcih1dnNbc3RhcnQgKyAxXSArIGVwcyk7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IHN0YXJ0ICsgMjsgaSA8IGZpbmlzaDsgaSArPSAyKVxuICAgICAgICB7XG4gICAgICAgICAgICBtaW5YID0gTWF0aC5taW4obWluWCwgTWF0aC5mbG9vcih1dnNbaV0gKyBlcHMpKTtcbiAgICAgICAgICAgIG1pblkgPSBNYXRoLm1pbihtaW5ZLCBNYXRoLmZsb29yKHV2c1tpICsgMV0gKyBlcHMpKTtcbiAgICAgICAgfVxuICAgICAgICBvZmZzZXRYIC09IG1pblg7XG4gICAgICAgIG9mZnNldFkgLT0gbWluWTtcbiAgICAgICAgZm9yICh2YXIgaSQxID0gc3RhcnQ7IGkkMSA8IGZpbmlzaDsgaSQxICs9IDIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHV2c1tpJDFdID0gKHV2c1tpJDFdICsgb2Zmc2V0WCkgKiBzY2FsZVg7XG4gICAgICAgICAgICB1dnNbaSQxICsgMV0gPSAodXZzW2kkMSArIDFdICsgb2Zmc2V0WSkgKiBzY2FsZVk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoIEdyYXBoaWNzR2VvbWV0cnkucHJvdG90eXBlLCBwcm90b3R5cGVBY2Nlc3NvcnMgKTtcblxuICAgIHJldHVybiBHcmFwaGljc0dlb21ldHJ5O1xufShCYXRjaEdlb21ldHJ5KSk7XG5cbi8qKlxuICogVGhlIG1heGltdW0gbnVtYmVyIG9mIHBvaW50cyB0byBjb25zaWRlciBhbiBvYmplY3QgXCJiYXRjaGFibGVcIixcbiAqIGFibGUgdG8gYmUgYmF0Y2hlZCBieSB0aGUgcmVuZGVyZXIncyBiYXRjaCBzeXN0ZW0uXG4gKlxuICogQG1lbWJlcm9mIFBJWEkuR3JhcGhpY3NHZW9tZXRyeVxuICogQHN0YXRpY1xuICogQG1lbWJlciB7bnVtYmVyfSBCQVRDSEFCTEVfU0laRVxuICogQGRlZmF1bHQgMTAwXG4gKi9cbkdyYXBoaWNzR2VvbWV0cnkuQkFUQ0hBQkxFX1NJWkUgPSAxMDA7XG5cbi8qKlxuICogUmVwcmVzZW50cyB0aGUgbGluZSBzdHlsZSBmb3IgR3JhcGhpY3MuXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkZpbGxTdHlsZVxuICovXG52YXIgTGluZVN0eWxlID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoRmlsbFN0eWxlKSB7XG4gICAgZnVuY3Rpb24gTGluZVN0eWxlICgpIHtcbiAgICAgICAgRmlsbFN0eWxlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfVxuXG4gICAgaWYgKCBGaWxsU3R5bGUgKSBMaW5lU3R5bGUuX19wcm90b19fID0gRmlsbFN0eWxlO1xuICAgIExpbmVTdHlsZS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBGaWxsU3R5bGUgJiYgRmlsbFN0eWxlLnByb3RvdHlwZSApO1xuICAgIExpbmVTdHlsZS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBMaW5lU3R5bGU7XG5cbiAgICBMaW5lU3R5bGUucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gY2xvbmUgKClcbiAgICB7XG4gICAgICAgIHZhciBvYmogPSBuZXcgTGluZVN0eWxlKCk7XG5cbiAgICAgICAgb2JqLmNvbG9yID0gdGhpcy5jb2xvcjtcbiAgICAgICAgb2JqLmFscGhhID0gdGhpcy5hbHBoYTtcbiAgICAgICAgb2JqLnRleHR1cmUgPSB0aGlzLnRleHR1cmU7XG4gICAgICAgIG9iai5tYXRyaXggPSB0aGlzLm1hdHJpeDtcbiAgICAgICAgb2JqLnZpc2libGUgPSB0aGlzLnZpc2libGU7XG4gICAgICAgIG9iai53aWR0aCA9IHRoaXMud2lkdGg7XG4gICAgICAgIG9iai5hbGlnbm1lbnQgPSB0aGlzLmFsaWdubWVudDtcbiAgICAgICAgb2JqLm5hdGl2ZSA9IHRoaXMubmF0aXZlO1xuXG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXNldCB0aGUgbGluZSBzdHlsZSB0byBkZWZhdWx0LlxuICAgICAqL1xuICAgIExpbmVTdHlsZS5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiByZXNldCAoKVxuICAgIHtcbiAgICAgICAgRmlsbFN0eWxlLnByb3RvdHlwZS5yZXNldC5jYWxsKHRoaXMpO1xuXG4gICAgICAgIC8vIE92ZXJyaWRlIGRlZmF1bHQgbGluZSBzdHlsZSBjb2xvclxuICAgICAgICB0aGlzLmNvbG9yID0gMHgwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgd2lkdGggKHRoaWNrbmVzcykgb2YgYW55IGxpbmVzIGRyYXduLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMud2lkdGggPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYWxpZ25tZW50IG9mIGFueSBsaW5lcyBkcmF3biAoMC41ID0gbWlkZGxlLCAxID0gb3V0dGVyLCAwID0gaW5uZXIpLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYWxpZ25tZW50ID0gMC41O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiB0cnVlIHRoZSBsaW5lcyB3aWxsIGJlIGRyYXcgdXNpbmcgTElORVMgaW5zdGVhZCBvZiBUUklBTkdMRV9TVFJJUFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5uYXRpdmUgPSBmYWxzZTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIExpbmVTdHlsZTtcbn0oRmlsbFN0eWxlKSk7XG5cbnZhciB0ZW1wID0gbmV3IEZsb2F0MzJBcnJheSgzKTtcblxuLy8gYSBkZWZhdWx0IHNoYWRlcnMgbWFwIHVzZWQgYnkgZ3JhcGhpY3MuLlxudmFyIERFRkFVTFRfU0hBREVSUyA9IHt9O1xuXG4vKipcbiAqIFRoZSBHcmFwaGljcyBjbGFzcyBjb250YWlucyBtZXRob2RzIHVzZWQgdG8gZHJhdyBwcmltaXRpdmUgc2hhcGVzIHN1Y2ggYXMgbGluZXMsIGNpcmNsZXMgYW5kXG4gKiByZWN0YW5nbGVzIHRvIHRoZSBkaXNwbGF5LCBhbmQgdG8gY29sb3IgYW5kIGZpbGwgdGhlbS5cbiAqXG4gKiBOb3RlIHRoYXQgYmVjYXVzZSBHcmFwaGljcyBjYW4gc2hhcmUgYSBHcmFwaGljc0dlb21ldHJ5IHdpdGggb3RoZXIgaW5zdGFuY2VzLFxuICogaXQgaXMgbmVjZXNzYXJ5IHRvIGNhbGwgYGRlc3Ryb3koKWAgdG8gcHJvcGVybHkgZGVyZWZlcmVuY2UgdGhlIHVuZGVybHlpbmdcbiAqIEdyYXBoaWNzR2VvbWV0cnkgYW5kIGF2b2lkIGEgbWVtb3J5IGxlYWsuIEFsdGVybmF0aXZlbHksIGtlZXAgdXNpbmcgdGhlIHNhbWVcbiAqIEdyYXBoaWNzIGluc3RhbmNlIGFuZCBjYWxsIGBjbGVhcigpYCBiZXR3ZWVuIHJlZHJhd3MuXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkNvbnRhaW5lclxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEdyYXBoaWNzID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoQ29udGFpbmVyKSB7XG4gICAgZnVuY3Rpb24gR3JhcGhpY3MoZ2VvbWV0cnkpXG4gICAge1xuICAgICAgICBpZiAoIGdlb21ldHJ5ID09PSB2b2lkIDAgKSBnZW9tZXRyeSA9IG51bGw7XG5cbiAgICAgICAgQ29udGFpbmVyLmNhbGwodGhpcyk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbmNsdWRlcyB2ZXJ0ZXggcG9zaXRpb25zLCBmYWNlIGluZGljZXMsIG5vcm1hbHMsIGNvbG9ycywgVVZzLCBhbmRcbiAgICAgICAgICogY3VzdG9tIGF0dHJpYnV0ZXMgd2l0aGluIGJ1ZmZlcnMsIHJlZHVjaW5nIHRoZSBjb3N0IG9mIHBhc3NpbmcgYWxsXG4gICAgICAgICAqIHRoaXMgZGF0YSB0byB0aGUgR1BVLiBDYW4gYmUgc2hhcmVkIGJldHdlZW4gbXVsdGlwbGUgTWVzaCBvciBHcmFwaGljcyBvYmplY3RzLlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkdyYXBoaWNzR2VvbWV0cnl9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5nZW9tZXRyeSA9IGdlb21ldHJ5IHx8IG5ldyBHcmFwaGljc0dlb21ldHJ5KCk7XG5cbiAgICAgICAgdGhpcy5nZW9tZXRyeS5yZWZDb3VudCsrO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXByZXNlbnRzIHRoZSB2ZXJ0ZXggYW5kIGZyYWdtZW50IHNoYWRlcnMgdGhhdCBwcm9jZXNzZXMgdGhlIGdlb21ldHJ5IGFuZCBydW5zIG9uIHRoZSBHUFUuXG4gICAgICAgICAqIENhbiBiZSBzaGFyZWQgYmV0d2VlbiBtdWx0aXBsZSBHcmFwaGljcyBvYmplY3RzLlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlNoYWRlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc2hhZGVyID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUmVwcmVzZW50cyB0aGUgV2ViR0wgc3RhdGUgdGhlIEdyYXBoaWNzIHJlcXVpcmVkIHRvIHJlbmRlciwgZXhjbHVkZXMgc2hhZGVyIGFuZCBnZW9tZXRyeS4gRS5nLixcbiAgICAgICAgICogYmxlbmQgbW9kZSwgY3VsbGluZywgZGVwdGggdGVzdGluZywgZGlyZWN0aW9uIG9mIHJlbmRlcmluZyB0cmlhbmdsZXMsIGJhY2tmYWNlLCBldGMuXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuU3RhdGV9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnN0YXRlID0gU3RhdGUuZm9yMmQoKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ3VycmVudCBmaWxsIHN0eWxlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuRmlsbFN0eWxlfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9maWxsU3R5bGUgPSBuZXcgRmlsbFN0eWxlKCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEN1cnJlbnQgbGluZSBzdHlsZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkxpbmVTdHlsZX1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fbGluZVN0eWxlID0gbmV3IExpbmVTdHlsZSgpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDdXJyZW50IHNoYXBlIHRyYW5zZm9ybSBtYXRyaXguXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuTWF0cml4fVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9tYXRyaXggPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDdXJyZW50IGhvbGUgbW9kZSBpcyBlbmFibGVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9ob2xlTW9kZSA9IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDdXJyZW50IHBhdGhcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5Qb2x5Z29ufVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmN1cnJlbnRQYXRoID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogV2hlbiBjYWNoZUFzQml0bWFwIGlzIHNldCB0byB0cnVlIHRoZSBncmFwaGljcyBvYmplY3Qgd2lsbCBiZSByZW5kZXJlZCBhcyBpZiBpdCB3YXMgYSBzcHJpdGUuXG4gICAgICAgICAqIFRoaXMgaXMgdXNlZnVsIGlmIHlvdXIgZ3JhcGhpY3MgZWxlbWVudCBkb2VzIG5vdCBjaGFuZ2Ugb2Z0ZW4sIGFzIGl0IHdpbGwgc3BlZWQgdXAgdGhlIHJlbmRlcmluZ1xuICAgICAgICAgKiBvZiB0aGUgb2JqZWN0IGluIGV4Y2hhbmdlIGZvciB0YWtpbmcgdXAgdGV4dHVyZSBtZW1vcnkuIEl0IGlzIGFsc28gdXNlZnVsIGlmIHlvdSBuZWVkIHRoZSBncmFwaGljc1xuICAgICAgICAgKiBvYmplY3QgdG8gYmUgYW50aS1hbGlhc2VkLCBiZWNhdXNlIGl0IHdpbGwgYmUgcmVuZGVyZWQgdXNpbmcgY2FudmFzLiBUaGlzIGlzIG5vdCByZWNvbW1lbmRlZCBpZlxuICAgICAgICAgKiB5b3UgYXJlIGNvbnN0YW50bHkgcmVkcmF3aW5nIHRoZSBncmFwaGljcyBlbGVtZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbmFtZSBjYWNoZUFzQml0bWFwXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLkdyYXBoaWNzI1xuICAgICAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogQSBjb2xsZWN0aW9ucyBvZiBiYXRjaGVzISBUaGVzZSBjYW4gYmUgZHJhd24gYnkgdGhlIHJlbmRlcmVyIGJhdGNoIHN5c3RlbS5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAbWVtYmVyIHtvYmplY3RbXX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYmF0Y2hlcyA9IFtdO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVcGRhdGUgZGlydHkgZm9yIGxpbWl0aW5nIGNhbGN1bGF0aW5nIHRpbnRzIGZvciBiYXRjaGVzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgLTFcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYmF0Y2hUaW50ID0gLTE7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvcHkgb2YgdGhlIG9iamVjdCB2ZXJ0ZXggZGF0YS5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAbWVtYmVyIHtGbG9hdDMyQXJyYXl9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnZlcnRleERhdGEgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuX3RyYW5zZm9ybUlEID0gLTE7XG4gICAgICAgIHRoaXMuYmF0Y2hEaXJ0eSA9IC0xO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZW5kZXJlciBwbHVnaW4gZm9yIGJhdGNoaW5nXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICogQGRlZmF1bHQgJ2JhdGNoJ1xuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5wbHVnaW5OYW1lID0gJ2JhdGNoJztcblxuICAgICAgICAvLyBTZXQgZGVmYXVsdFxuICAgICAgICB0aGlzLnRpbnQgPSAweEZGRkZGRjtcbiAgICAgICAgdGhpcy5ibGVuZE1vZGUgPSBCTEVORF9NT0RFUy5OT1JNQUw7XG4gICAgfVxuXG4gICAgaWYgKCBDb250YWluZXIgKSBHcmFwaGljcy5fX3Byb3RvX18gPSBDb250YWluZXI7XG4gICAgR3JhcGhpY3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggQ29udGFpbmVyICYmIENvbnRhaW5lci5wcm90b3R5cGUgKTtcbiAgICBHcmFwaGljcy5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBHcmFwaGljcztcblxuICAgIHZhciBwcm90b3R5cGVBY2Nlc3NvcnMgPSB7IGJsZW5kTW9kZTogeyBjb25maWd1cmFibGU6IHRydWUgfSx0aW50OiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LGZpbGw6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sbGluZTogeyBjb25maWd1cmFibGU6IHRydWUgfSB9O1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBHcmFwaGljcyBvYmplY3Qgd2l0aCB0aGUgc2FtZSB2YWx1ZXMgYXMgdGhpcyBvbmUuXG4gICAgICogTm90ZSB0aGF0IHRoZSBvbmx5IHRoZSBwcm9wZXJ0aWVzIG9mIHRoZSBvYmplY3QgYXJlIGNsb25lZCwgbm90IGl0cyB0cmFuc2Zvcm0gKHBvc2l0aW9uLHNjYWxlLGV0YylcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IEEgY2xvbmUgb2YgdGhlIGdyYXBoaWNzIG9iamVjdFxuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uIGNsb25lICgpXG4gICAge1xuICAgICAgICB0aGlzLmZpbmlzaFBvbHkoKTtcblxuICAgICAgICByZXR1cm4gbmV3IEdyYXBoaWNzKHRoaXMuZ2VvbWV0cnkpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmxlbmQgbW9kZSB0byBiZSBhcHBsaWVkIHRvIHRoZSBncmFwaGljIHNoYXBlLiBBcHBseSBhIHZhbHVlIG9mXG4gICAgICogYFBJWEkuQkxFTkRfTU9ERVMuTk9STUFMYCB0byByZXNldCB0aGUgYmxlbmQgbW9kZS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCBQSVhJLkJMRU5EX01PREVTLk5PUk1BTDtcbiAgICAgKiBAc2VlIFBJWEkuQkxFTkRfTU9ERVNcbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMuYmxlbmRNb2RlLnNldCA9IGZ1bmN0aW9uICh2YWx1ZSlcbiAgICB7XG4gICAgICAgIHRoaXMuc3RhdGUuYmxlbmRNb2RlID0gdmFsdWU7XG4gICAgfTtcblxuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5ibGVuZE1vZGUuZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0YXRlLmJsZW5kTW9kZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIHRpbnQgYXBwbGllZCB0byB0aGUgZ3JhcGhpYyBzaGFwZS4gVGhpcyBpcyBhIGhleCB2YWx1ZS4gQSB2YWx1ZSBvZlxuICAgICAqIDB4RkZGRkZGIHdpbGwgcmVtb3ZlIGFueSB0aW50IGVmZmVjdC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAweEZGRkZGRlxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy50aW50LmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fdGludDtcbiAgICB9O1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy50aW50LnNldCA9IGZ1bmN0aW9uICh2YWx1ZSlcbiAgICB7XG4gICAgICAgIHRoaXMuX3RpbnQgPSB2YWx1ZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIGN1cnJlbnQgZmlsbCBzdHlsZS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1BJWEkuRmlsbFN0eWxlfVxuICAgICAqIEByZWFkb25seVxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5maWxsLmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fZmlsbFN0eWxlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgY3VycmVudCBsaW5lIHN0eWxlLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5MaW5lU3R5bGV9XG4gICAgICogQHJlYWRvbmx5XG4gICAgICovXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLmxpbmUuZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9saW5lU3R5bGU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNwZWNpZmllcyB0aGUgbGluZSBzdHlsZSB1c2VkIGZvciBzdWJzZXF1ZW50IGNhbGxzIHRvIEdyYXBoaWNzIG1ldGhvZHMgc3VjaCBhcyB0aGUgbGluZVRvKClcbiAgICAgKiBtZXRob2Qgb3IgdGhlIGRyYXdDaXJjbGUoKSBtZXRob2QuXG4gICAgICpcbiAgICAgKiBAbWV0aG9kIFBJWEkuR3JhcGhpY3MjbGluZVN0eWxlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt3aWR0aD0wXSAtIHdpZHRoIG9mIHRoZSBsaW5lIHRvIGRyYXcsIHdpbGwgdXBkYXRlIHRoZSBvYmplY3RzIHN0b3JlZCBzdHlsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbY29sb3I9MHgwXSAtIGNvbG9yIG9mIHRoZSBsaW5lIHRvIGRyYXcsIHdpbGwgdXBkYXRlIHRoZSBvYmplY3RzIHN0b3JlZCBzdHlsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYWxwaGE9MV0gLSBhbHBoYSBvZiB0aGUgbGluZSB0byBkcmF3LCB3aWxsIHVwZGF0ZSB0aGUgb2JqZWN0cyBzdG9yZWQgc3R5bGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2FsaWdubWVudD0wLjVdIC0gYWxpZ25tZW50IG9mIHRoZSBsaW5lIHRvIGRyYXcsICgwID0gaW5uZXIsIDAuNSA9IG1pZGRsZSwgMSA9IG91dHRlcilcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtuYXRpdmU9ZmFsc2VdIC0gSWYgdHJ1ZSB0aGUgbGluZXMgd2lsbCBiZSBkcmF3IHVzaW5nIExJTkVTIGluc3RlYWQgb2YgVFJJQU5HTEVfU1RSSVBcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG4gICAgLyoqXG4gICAgICogU3BlY2lmaWVzIHRoZSBsaW5lIHN0eWxlIHVzZWQgZm9yIHN1YnNlcXVlbnQgY2FsbHMgdG8gR3JhcGhpY3MgbWV0aG9kcyBzdWNoIGFzIHRoZSBsaW5lVG8oKVxuICAgICAqIG1ldGhvZCBvciB0aGUgZHJhd0NpcmNsZSgpIG1ldGhvZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gLSBMaW5lIHN0eWxlIG9wdGlvbnNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMud2lkdGg9MF0gLSB3aWR0aCBvZiB0aGUgbGluZSB0byBkcmF3LCB3aWxsIHVwZGF0ZSB0aGUgb2JqZWN0cyBzdG9yZWQgc3R5bGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuY29sb3I9MHgwXSAtIGNvbG9yIG9mIHRoZSBsaW5lIHRvIGRyYXcsIHdpbGwgdXBkYXRlIHRoZSBvYmplY3RzIHN0b3JlZCBzdHlsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5hbHBoYT0xXSAtIGFscGhhIG9mIHRoZSBsaW5lIHRvIGRyYXcsIHdpbGwgdXBkYXRlIHRoZSBvYmplY3RzIHN0b3JlZCBzdHlsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5hbGlnbm1lbnQ9MC41XSAtIGFsaWdubWVudCBvZiB0aGUgbGluZSB0byBkcmF3LCAoMCA9IGlubmVyLCAwLjUgPSBtaWRkbGUsIDEgPSBvdXR0ZXIpXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5uYXRpdmU9ZmFsc2VdIC0gSWYgdHJ1ZSB0aGUgbGluZXMgd2lsbCBiZSBkcmF3IHVzaW5nIExJTkVTIGluc3RlYWQgb2YgVFJJQU5HTEVfU1RSSVBcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmxpbmVTdHlsZSA9IGZ1bmN0aW9uIGxpbmVTdHlsZSAob3B0aW9ucylcbiAgICB7XG4gICAgICAgIC8vIFN1cHBvcnQgbm9uLW9iamVjdCBwYXJhbXM6ICh3aWR0aCwgY29sb3IsIGFscGhhLCBhbGlnbm1lbnQsIG5hdGl2ZSlcbiAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zID09PSAnbnVtYmVyJylcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XG5cbiAgICAgICAgICAgIG9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgd2lkdGg6IGFyZ3NbMF0gfHwgMCxcbiAgICAgICAgICAgICAgICBjb2xvcjogYXJnc1sxXSB8fCAweDAsXG4gICAgICAgICAgICAgICAgYWxwaGE6IGFyZ3NbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3NbMl0gOiAxLFxuICAgICAgICAgICAgICAgIGFsaWdubWVudDogYXJnc1szXSAhPT0gdW5kZWZpbmVkID8gYXJnc1szXSA6IDAuNSxcbiAgICAgICAgICAgICAgICBuYXRpdmU6ICEhYXJnc1s0XSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5saW5lVGV4dHVyZVN0eWxlKG9wdGlvbnMpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBMaWtlIGxpbmUgc3R5bGUgYnV0IHN1cHBvcnQgdGV4dHVyZSBmb3IgbGluZSBmaWxsLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSAtIENvbGxlY3Rpb24gb2Ygb3B0aW9ucyBmb3Igc2V0dGluZyBsaW5lIHN0eWxlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy53aWR0aD0wXSAtIHdpZHRoIG9mIHRoZSBsaW5lIHRvIGRyYXcsIHdpbGwgdXBkYXRlIHRoZSBvYmplY3RzIHN0b3JlZCBzdHlsZVxuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0dXJlfSBbb3B0aW9ucy50ZXh0dXJlPVBJWEkuVGV4dHVyZS5XSElURV0gLSBUZXh0dXJlIHRvIHVzZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5jb2xvcj0weDBdIC0gY29sb3Igb2YgdGhlIGxpbmUgdG8gZHJhdywgd2lsbCB1cGRhdGUgdGhlIG9iamVjdHMgc3RvcmVkIHN0eWxlLlxuICAgICAqICBEZWZhdWx0IDB4RkZGRkZGIGlmIHRleHR1cmUgcHJlc2VudC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuYWxwaGE9MV0gLSBhbHBoYSBvZiB0aGUgbGluZSB0byBkcmF3LCB3aWxsIHVwZGF0ZSB0aGUgb2JqZWN0cyBzdG9yZWQgc3R5bGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuTWF0cml4fSBbb3B0aW9ucy5tYXRyaXg9bnVsbF0gVGV4dHVyZSBtYXRyaXggdG8gdHJhbnNmb3JtIHRleHR1cmVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuYWxpZ25tZW50PTAuNV0gLSBhbGlnbm1lbnQgb2YgdGhlIGxpbmUgdG8gZHJhdywgKDAgPSBpbm5lciwgMC41ID0gbWlkZGxlLCAxID0gb3V0dGVyKVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMubmF0aXZlPWZhbHNlXSAtIElmIHRydWUgdGhlIGxpbmVzIHdpbGwgYmUgZHJhdyB1c2luZyBMSU5FUyBpbnN0ZWFkIG9mIFRSSUFOR0xFX1NUUklQXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gVGhpcyBHcmFwaGljcyBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5saW5lVGV4dHVyZVN0eWxlID0gZnVuY3Rpb24gbGluZVRleHR1cmVTdHlsZSAob3B0aW9ucylcbiAgICB7XG4gICAgICAgIC8vIGJhY2t3YXJkIGNvbXBhdGliaWxpdHkgd2l0aCBwYXJhbXM6ICh3aWR0aCwgdGV4dHVyZSxcbiAgICAgICAgLy8gY29sb3IsIGFscGhhLCBtYXRyaXgsIGFsaWdubWVudCwgbmF0aXZlKVxuICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdudW1iZXInKVxuICAgICAgICB7XG4gICAgICAgICAgICBkZXByZWNhdGlvbigndjUuMi4wJywgJ1BsZWFzZSB1c2Ugb2JqZWN0LWJhc2VkIG9wdGlvbnMgZm9yIEdyYXBoaWNzI2xpbmVUZXh0dXJlU3R5bGUnKTtcblxuICAgICAgICAgICAgdmFyIHdpZHRoID0gYXJndW1lbnRzWzBdO1xuICAgICAgICAgICAgdmFyIHRleHR1cmUgPSBhcmd1bWVudHNbMV07XG4gICAgICAgICAgICB2YXIgY29sb3IgPSBhcmd1bWVudHNbMl07XG4gICAgICAgICAgICB2YXIgYWxwaGEgPSBhcmd1bWVudHNbM107XG4gICAgICAgICAgICB2YXIgbWF0cml4ID0gYXJndW1lbnRzWzRdO1xuICAgICAgICAgICAgdmFyIGFsaWdubWVudCA9IGFyZ3VtZW50c1s1XTtcbiAgICAgICAgICAgIHZhciBuYXRpdmUgPSBhcmd1bWVudHNbNl07XG5cbiAgICAgICAgICAgIG9wdGlvbnMgPSB7IHdpZHRoOiB3aWR0aCwgdGV4dHVyZTogdGV4dHVyZSwgY29sb3I6IGNvbG9yLCBhbHBoYTogYWxwaGEsIG1hdHJpeDogbWF0cml4LCBhbGlnbm1lbnQ6IGFsaWdubWVudCwgbmF0aXZlOiBuYXRpdmUgfTtcblxuICAgICAgICAgICAgLy8gUmVtb3ZlIHVuZGVmaW5lZCBrZXlzXG4gICAgICAgICAgICBPYmplY3Qua2V5cyhvcHRpb25zKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgcmV0dXJuIG9wdGlvbnNba2V5XSA9PT0gdW5kZWZpbmVkICYmIGRlbGV0ZSBvcHRpb25zW2tleV07IH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQXBwbHkgZGVmYXVsdHNcbiAgICAgICAgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe1xuICAgICAgICAgICAgd2lkdGg6IDAsXG4gICAgICAgICAgICB0ZXh0dXJlOiBUZXh0dXJlLldISVRFLFxuICAgICAgICAgICAgY29sb3I6IChvcHRpb25zICYmIG9wdGlvbnMudGV4dHVyZSkgPyAweEZGRkZGRiA6IDB4MCxcbiAgICAgICAgICAgIGFscGhhOiAxLFxuICAgICAgICAgICAgbWF0cml4OiBudWxsLFxuICAgICAgICAgICAgYWxpZ25tZW50OiAwLjUsXG4gICAgICAgICAgICBuYXRpdmU6IGZhbHNlLFxuICAgICAgICB9LCBvcHRpb25zKTtcblxuICAgICAgICBpZiAodGhpcy5jdXJyZW50UGF0aClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5zdGFydFBvbHkoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB2aXNpYmxlID0gb3B0aW9ucy53aWR0aCA+IDAgJiYgb3B0aW9ucy5hbHBoYSA+IDA7XG5cbiAgICAgICAgaWYgKCF2aXNpYmxlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9saW5lU3R5bGUucmVzZXQoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmIChvcHRpb25zLm1hdHJpeClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBvcHRpb25zLm1hdHJpeCA9IG9wdGlvbnMubWF0cml4LmNsb25lKCk7XG4gICAgICAgICAgICAgICAgb3B0aW9ucy5tYXRyaXguaW52ZXJ0KCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24odGhpcy5fbGluZVN0eWxlLCB7IHZpc2libGU6IHZpc2libGUgfSwgb3B0aW9ucyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU3RhcnQgYSBwb2x5Z29uIG9iamVjdCBpbnRlcm5hbGx5XG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5zdGFydFBvbHkgPSBmdW5jdGlvbiBzdGFydFBvbHkgKClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRQYXRoKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgcG9pbnRzID0gdGhpcy5jdXJyZW50UGF0aC5wb2ludHM7XG4gICAgICAgICAgICB2YXIgbGVuID0gdGhpcy5jdXJyZW50UGF0aC5wb2ludHMubGVuZ3RoO1xuXG4gICAgICAgICAgICBpZiAobGVuID4gMilcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRyYXdTaGFwZSh0aGlzLmN1cnJlbnRQYXRoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRQYXRoID0gbmV3IFBvbHlnb24oKTtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRQYXRoLmNsb3NlU3Ryb2tlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50UGF0aC5wb2ludHMucHVzaChwb2ludHNbbGVuIC0gMl0sIHBvaW50c1tsZW4gLSAxXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRQYXRoID0gbmV3IFBvbHlnb24oKTtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudFBhdGguY2xvc2VTdHJva2UgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBGaW5pc2ggdGhlIHBvbHlnb24gb2JqZWN0LlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuZmluaXNoUG9seSA9IGZ1bmN0aW9uIGZpbmlzaFBvbHkgKClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRQYXRoKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50UGF0aC5wb2ludHMubGVuZ3RoID4gMilcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRyYXdTaGFwZSh0aGlzLmN1cnJlbnRQYXRoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRQYXRoID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRQYXRoLnBvaW50cy5sZW5ndGggPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIE1vdmVzIHRoZSBjdXJyZW50IGRyYXdpbmcgcG9zaXRpb24gdG8geCwgeS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4IC0gdGhlIFggY29vcmRpbmF0ZSB0byBtb3ZlIHRvXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgLSB0aGUgWSBjb29yZGluYXRlIHRvIG1vdmUgdG9cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLm1vdmVUbyA9IGZ1bmN0aW9uIG1vdmVUbyAoeCwgeSlcbiAgICB7XG4gICAgICAgIHRoaXMuc3RhcnRQb2x5KCk7XG4gICAgICAgIHRoaXMuY3VycmVudFBhdGgucG9pbnRzWzBdID0geDtcbiAgICAgICAgdGhpcy5jdXJyZW50UGF0aC5wb2ludHNbMV0gPSB5O1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEcmF3cyBhIGxpbmUgdXNpbmcgdGhlIGN1cnJlbnQgbGluZSBzdHlsZSBmcm9tIHRoZSBjdXJyZW50IGRyYXdpbmcgcG9zaXRpb24gdG8gKHgsIHkpO1xuICAgICAqIFRoZSBjdXJyZW50IGRyYXdpbmcgcG9zaXRpb24gaXMgdGhlbiBzZXQgdG8gKHgsIHkpLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggLSB0aGUgWCBjb29yZGluYXRlIHRvIGRyYXcgdG9cbiAgICAgKiBAcGFyYW0ge251bWJlcn0geSAtIHRoZSBZIGNvb3JkaW5hdGUgdG8gZHJhdyB0b1xuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUubGluZVRvID0gZnVuY3Rpb24gbGluZVRvICh4LCB5KVxuICAgIHtcbiAgICAgICAgaWYgKCF0aGlzLmN1cnJlbnRQYXRoKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLm1vdmVUbygwLCAwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHJlbW92ZSBkdXBsaWNhdGVzLi5cbiAgICAgICAgdmFyIHBvaW50cyA9IHRoaXMuY3VycmVudFBhdGgucG9pbnRzO1xuICAgICAgICB2YXIgZnJvbVggPSBwb2ludHNbcG9pbnRzLmxlbmd0aCAtIDJdO1xuICAgICAgICB2YXIgZnJvbVkgPSBwb2ludHNbcG9pbnRzLmxlbmd0aCAtIDFdO1xuXG4gICAgICAgIGlmIChmcm9tWCAhPT0geCB8fCBmcm9tWSAhPT0geSlcbiAgICAgICAge1xuICAgICAgICAgICAgcG9pbnRzLnB1c2goeCwgeSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZSB0aGUgY3VydmVcbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3g9MF1cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3k9MF1cbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuX2luaXRDdXJ2ZSA9IGZ1bmN0aW9uIF9pbml0Q3VydmUgKHgsIHkpXG4gICAge1xuICAgICAgICBpZiAoIHggPT09IHZvaWQgMCApIHggPSAwO1xuICAgICAgICBpZiAoIHkgPT09IHZvaWQgMCApIHkgPSAwO1xuXG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRQYXRoKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50UGF0aC5wb2ludHMubGVuZ3RoID09PSAwKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFBhdGgucG9pbnRzID0gW3gsIHldO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5tb3ZlVG8oeCwgeSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlIHRoZSBwb2ludHMgZm9yIGEgcXVhZHJhdGljIGJlemllciBjdXJ2ZSBhbmQgdGhlbiBkcmF3cyBpdC5cbiAgICAgKiBCYXNlZCBvbjogaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvNzg1MDk3L2hvdy1kby1pLWltcGxlbWVudC1hLWJlemllci1jdXJ2ZS1pbi1jXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY3BYIC0gQ29udHJvbCBwb2ludCB4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNwWSAtIENvbnRyb2wgcG9pbnQgeVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0b1ggLSBEZXN0aW5hdGlvbiBwb2ludCB4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHRvWSAtIERlc3RpbmF0aW9uIHBvaW50IHlcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLnF1YWRyYXRpY0N1cnZlVG8gPSBmdW5jdGlvbiBxdWFkcmF0aWNDdXJ2ZVRvIChjcFgsIGNwWSwgdG9YLCB0b1kpXG4gICAge1xuICAgICAgICB0aGlzLl9pbml0Q3VydmUoKTtcblxuICAgICAgICB2YXIgcG9pbnRzID0gdGhpcy5jdXJyZW50UGF0aC5wb2ludHM7XG5cbiAgICAgICAgaWYgKHBvaW50cy5sZW5ndGggPT09IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMubW92ZVRvKDAsIDApO1xuICAgICAgICB9XG5cbiAgICAgICAgUXVhZHJhdGljVXRpbHMuY3VydmVUbyhjcFgsIGNwWSwgdG9YLCB0b1ksIHBvaW50cyk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSB0aGUgcG9pbnRzIGZvciBhIGJlemllciBjdXJ2ZSBhbmQgdGhlbiBkcmF3cyBpdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjcFggLSBDb250cm9sIHBvaW50IHhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY3BZIC0gQ29udHJvbCBwb2ludCB5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNwWDIgLSBTZWNvbmQgQ29udHJvbCBwb2ludCB4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNwWTIgLSBTZWNvbmQgQ29udHJvbCBwb2ludCB5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHRvWCAtIERlc3RpbmF0aW9uIHBvaW50IHhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdG9ZIC0gRGVzdGluYXRpb24gcG9pbnQgeVxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuYmV6aWVyQ3VydmVUbyA9IGZ1bmN0aW9uIGJlemllckN1cnZlVG8gKGNwWCwgY3BZLCBjcFgyLCBjcFkyLCB0b1gsIHRvWSlcbiAgICB7XG4gICAgICAgIHRoaXMuX2luaXRDdXJ2ZSgpO1xuXG4gICAgICAgIEJlemllclV0aWxzLmN1cnZlVG8oY3BYLCBjcFksIGNwWDIsIGNwWTIsIHRvWCwgdG9ZLCB0aGlzLmN1cnJlbnRQYXRoLnBvaW50cyk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBhcmNUbygpIG1ldGhvZCBjcmVhdGVzIGFuIGFyYy9jdXJ2ZSBiZXR3ZWVuIHR3byB0YW5nZW50cyBvbiB0aGUgY2FudmFzLlxuICAgICAqXG4gICAgICogXCJib3Jyb3dlZFwiIGZyb20gaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC9meGNhbnZhcy8gLSB0aGFua3MgZ29vZ2xlIVxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHgxIC0gVGhlIHgtY29vcmRpbmF0ZSBvZiB0aGUgZmlyc3QgdGFuZ2VudCBwb2ludCBvZiB0aGUgYXJjXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkxIC0gVGhlIHktY29vcmRpbmF0ZSBvZiB0aGUgZmlyc3QgdGFuZ2VudCBwb2ludCBvZiB0aGUgYXJjXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHgyIC0gVGhlIHgtY29vcmRpbmF0ZSBvZiB0aGUgZW5kIG9mIHRoZSBhcmNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geTIgLSBUaGUgeS1jb29yZGluYXRlIG9mIHRoZSBlbmQgb2YgdGhlIGFyY1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByYWRpdXMgLSBUaGUgcmFkaXVzIG9mIHRoZSBhcmNcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmFyY1RvID0gZnVuY3Rpb24gYXJjVG8gKHgxLCB5MSwgeDIsIHkyLCByYWRpdXMpXG4gICAge1xuICAgICAgICB0aGlzLl9pbml0Q3VydmUoeDEsIHkxKTtcblxuICAgICAgICB2YXIgcG9pbnRzID0gdGhpcy5jdXJyZW50UGF0aC5wb2ludHM7XG5cbiAgICAgICAgdmFyIHJlc3VsdCA9IEFyY1V0aWxzLmN1cnZlVG8oeDEsIHkxLCB4MiwgeTIsIHJhZGl1cywgcG9pbnRzKTtcblxuICAgICAgICBpZiAocmVzdWx0KVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgY3ggPSByZXN1bHQuY3g7XG4gICAgICAgICAgICB2YXIgY3kgPSByZXN1bHQuY3k7XG4gICAgICAgICAgICB2YXIgcmFkaXVzJDEgPSByZXN1bHQucmFkaXVzO1xuICAgICAgICAgICAgdmFyIHN0YXJ0QW5nbGUgPSByZXN1bHQuc3RhcnRBbmdsZTtcbiAgICAgICAgICAgIHZhciBlbmRBbmdsZSA9IHJlc3VsdC5lbmRBbmdsZTtcbiAgICAgICAgICAgIHZhciBhbnRpY2xvY2t3aXNlID0gcmVzdWx0LmFudGljbG9ja3dpc2U7XG5cbiAgICAgICAgICAgIHRoaXMuYXJjKGN4LCBjeSwgcmFkaXVzJDEsIHN0YXJ0QW5nbGUsIGVuZEFuZ2xlLCBhbnRpY2xvY2t3aXNlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYXJjIG1ldGhvZCBjcmVhdGVzIGFuIGFyYy9jdXJ2ZSAodXNlZCB0byBjcmVhdGUgY2lyY2xlcywgb3IgcGFydHMgb2YgY2lyY2xlcykuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY3ggLSBUaGUgeC1jb29yZGluYXRlIG9mIHRoZSBjZW50ZXIgb2YgdGhlIGNpcmNsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjeSAtIFRoZSB5LWNvb3JkaW5hdGUgb2YgdGhlIGNlbnRlciBvZiB0aGUgY2lyY2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJhZGl1cyAtIFRoZSByYWRpdXMgb2YgdGhlIGNpcmNsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydEFuZ2xlIC0gVGhlIHN0YXJ0aW5nIGFuZ2xlLCBpbiByYWRpYW5zICgwIGlzIGF0IHRoZSAzIG8nY2xvY2sgcG9zaXRpb25cbiAgICAgKiAgb2YgdGhlIGFyYydzIGNpcmNsZSlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZW5kQW5nbGUgLSBUaGUgZW5kaW5nIGFuZ2xlLCBpbiByYWRpYW5zXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbYW50aWNsb2Nrd2lzZT1mYWxzZV0gLSBTcGVjaWZpZXMgd2hldGhlciB0aGUgZHJhd2luZyBzaG91bGQgYmVcbiAgICAgKiAgY291bnRlci1jbG9ja3dpc2Ugb3IgY2xvY2t3aXNlLiBGYWxzZSBpcyBkZWZhdWx0LCBhbmQgaW5kaWNhdGVzIGNsb2Nrd2lzZSwgd2hpbGUgdHJ1ZVxuICAgICAqICBpbmRpY2F0ZXMgY291bnRlci1jbG9ja3dpc2UuXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gVGhpcyBHcmFwaGljcyBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5hcmMgPSBmdW5jdGlvbiBhcmMgKGN4LCBjeSwgcmFkaXVzLCBzdGFydEFuZ2xlLCBlbmRBbmdsZSwgYW50aWNsb2Nrd2lzZSlcbiAgICB7XG4gICAgICAgIGlmICggYW50aWNsb2Nrd2lzZSA9PT0gdm9pZCAwICkgYW50aWNsb2Nrd2lzZSA9IGZhbHNlO1xuXG4gICAgICAgIGlmIChzdGFydEFuZ2xlID09PSBlbmRBbmdsZSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWFudGljbG9ja3dpc2UgJiYgZW5kQW5nbGUgPD0gc3RhcnRBbmdsZSlcbiAgICAgICAge1xuICAgICAgICAgICAgZW5kQW5nbGUgKz0gUElfMjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChhbnRpY2xvY2t3aXNlICYmIHN0YXJ0QW5nbGUgPD0gZW5kQW5nbGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHN0YXJ0QW5nbGUgKz0gUElfMjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBzd2VlcCA9IGVuZEFuZ2xlIC0gc3RhcnRBbmdsZTtcblxuICAgICAgICBpZiAoc3dlZXAgPT09IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHN0YXJ0WCA9IGN4ICsgKE1hdGguY29zKHN0YXJ0QW5nbGUpICogcmFkaXVzKTtcbiAgICAgICAgdmFyIHN0YXJ0WSA9IGN5ICsgKE1hdGguc2luKHN0YXJ0QW5nbGUpICogcmFkaXVzKTtcbiAgICAgICAgdmFyIGVwcyA9IHRoaXMuZ2VvbWV0cnkuY2xvc2VQb2ludEVwcztcblxuICAgICAgICAvLyBJZiB0aGUgY3VycmVudFBhdGggZXhpc3RzLCB0YWtlIGl0cyBwb2ludHMuIE90aGVyd2lzZSBjYWxsIGBtb3ZlVG9gIHRvIHN0YXJ0IGEgcGF0aC5cbiAgICAgICAgdmFyIHBvaW50cyA9IHRoaXMuY3VycmVudFBhdGggPyB0aGlzLmN1cnJlbnRQYXRoLnBvaW50cyA6IG51bGw7XG5cbiAgICAgICAgaWYgKHBvaW50cylcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gVE9ETzogbWFrZSBhIGJldHRlciBmaXguXG5cbiAgICAgICAgICAgIC8vIFdlIGNoZWNrIGhvdyBmYXIgb3VyIHN0YXJ0IGlzIGZyb20gdGhlIGxhc3QgZXhpc3RpbmcgcG9pbnRcbiAgICAgICAgICAgIHZhciB4RGlmZiA9IE1hdGguYWJzKHBvaW50c1twb2ludHMubGVuZ3RoIC0gMl0gLSBzdGFydFgpO1xuICAgICAgICAgICAgdmFyIHlEaWZmID0gTWF0aC5hYnMocG9pbnRzW3BvaW50cy5sZW5ndGggLSAxXSAtIHN0YXJ0WSk7XG5cbiAgICAgICAgICAgIGlmICh4RGlmZiA8IGVwcyAmJiB5RGlmZiA8IGVwcylcbiAgICAgICAgICAgIDtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBwb2ludHMucHVzaChzdGFydFgsIHN0YXJ0WSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLm1vdmVUbyhzdGFydFgsIHN0YXJ0WSk7XG4gICAgICAgICAgICBwb2ludHMgPSB0aGlzLmN1cnJlbnRQYXRoLnBvaW50cztcbiAgICAgICAgfVxuXG4gICAgICAgIEFyY1V0aWxzLmFyYyhzdGFydFgsIHN0YXJ0WSwgY3gsIGN5LCByYWRpdXMsIHN0YXJ0QW5nbGUsIGVuZEFuZ2xlLCBhbnRpY2xvY2t3aXNlLCBwb2ludHMpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTcGVjaWZpZXMgYSBzaW1wbGUgb25lLWNvbG9yIGZpbGwgdGhhdCBzdWJzZXF1ZW50IGNhbGxzIHRvIG90aGVyIEdyYXBoaWNzIG1ldGhvZHNcbiAgICAgKiAoc3VjaCBhcyBsaW5lVG8oKSBvciBkcmF3Q2lyY2xlKCkpIHVzZSB3aGVuIGRyYXdpbmcuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2NvbG9yPTBdIC0gdGhlIGNvbG9yIG9mIHRoZSBmaWxsXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFthbHBoYT0xXSAtIHRoZSBhbHBoYSBvZiB0aGUgZmlsbFxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuYmVnaW5GaWxsID0gZnVuY3Rpb24gYmVnaW5GaWxsIChjb2xvciwgYWxwaGEpXG4gICAge1xuICAgICAgICBpZiAoIGNvbG9yID09PSB2b2lkIDAgKSBjb2xvciA9IDA7XG4gICAgICAgIGlmICggYWxwaGEgPT09IHZvaWQgMCApIGFscGhhID0gMTtcblxuICAgICAgICByZXR1cm4gdGhpcy5iZWdpblRleHR1cmVGaWxsKHsgdGV4dHVyZTogVGV4dHVyZS5XSElURSwgY29sb3I6IGNvbG9yLCBhbHBoYTogYWxwaGEgfSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEJlZ2luIHRoZSB0ZXh0dXJlIGZpbGxcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gLSBPYmplY3Qgb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0dXJlfSBbb3B0aW9ucy50ZXh0dXJlPVBJWEkuVGV4dHVyZS5XSElURV0gLSBUZXh0dXJlIHRvIGZpbGxcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuY29sb3I9MHhmZmZmZmZdIC0gQmFja2dyb3VuZCB0byBmaWxsIGJlaGluZCB0ZXh0dXJlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmFscGhhPTFdIC0gQWxwaGEgb2YgZmlsbFxuICAgICAqIEBwYXJhbSB7UElYSS5NYXRyaXh9IFtvcHRpb25zLm1hdHJpeD1udWxsXSAtIFRyYW5zZm9ybSBtYXRyaXhcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmJlZ2luVGV4dHVyZUZpbGwgPSBmdW5jdGlvbiBiZWdpblRleHR1cmVGaWxsIChvcHRpb25zKVxuICAgIHtcbiAgICAgICAgLy8gYmFja3dhcmQgY29tcGF0aWJpbGl0eSB3aXRoIHBhcmFtczogKHRleHR1cmUsIGNvbG9yLCBhbHBoYSwgbWF0cml4KVxuICAgICAgICBpZiAob3B0aW9ucyBpbnN0YW5jZW9mIFRleHR1cmUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGRlcHJlY2F0aW9uKCd2NS4yLjAnLCAnUGxlYXNlIHVzZSBvYmplY3QtYmFzZWQgb3B0aW9ucyBmb3IgR3JhcGhpY3MjYmVnaW5UZXh0dXJlRmlsbCcpO1xuXG4gICAgICAgICAgICB2YXIgdGV4dHVyZSA9IGFyZ3VtZW50c1swXTtcbiAgICAgICAgICAgIHZhciBjb2xvciA9IGFyZ3VtZW50c1sxXTtcbiAgICAgICAgICAgIHZhciBhbHBoYSA9IGFyZ3VtZW50c1syXTtcbiAgICAgICAgICAgIHZhciBtYXRyaXggPSBhcmd1bWVudHNbM107XG5cbiAgICAgICAgICAgIG9wdGlvbnMgPSB7IHRleHR1cmU6IHRleHR1cmUsIGNvbG9yOiBjb2xvciwgYWxwaGE6IGFscGhhLCBtYXRyaXg6IG1hdHJpeCB9O1xuXG4gICAgICAgICAgICAvLyBSZW1vdmUgdW5kZWZpbmVkIGtleXNcbiAgICAgICAgICAgIE9iamVjdC5rZXlzKG9wdGlvbnMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyByZXR1cm4gb3B0aW9uc1trZXldID09PSB1bmRlZmluZWQgJiYgZGVsZXRlIG9wdGlvbnNba2V5XTsgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBBcHBseSBkZWZhdWx0c1xuICAgICAgICBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7XG4gICAgICAgICAgICB0ZXh0dXJlOiBUZXh0dXJlLldISVRFLFxuICAgICAgICAgICAgY29sb3I6IDB4RkZGRkZGLFxuICAgICAgICAgICAgYWxwaGE6IDEsXG4gICAgICAgICAgICBtYXRyaXg6IG51bGwsXG4gICAgICAgIH0sIG9wdGlvbnMpO1xuXG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRQYXRoKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0UG9seSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHZpc2libGUgPSBvcHRpb25zLmFscGhhID4gMDtcblxuICAgICAgICBpZiAoIXZpc2libGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2ZpbGxTdHlsZS5yZXNldCgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMubWF0cml4KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG9wdGlvbnMubWF0cml4ID0gb3B0aW9ucy5tYXRyaXguY2xvbmUoKTtcbiAgICAgICAgICAgICAgICBvcHRpb25zLm1hdHJpeC5pbnZlcnQoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLl9maWxsU3R5bGUsIHsgdmlzaWJsZTogdmlzaWJsZSB9LCBvcHRpb25zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIGEgZmlsbCB0byB0aGUgbGluZXMgYW5kIHNoYXBlcyB0aGF0IHdlcmUgYWRkZWQgc2luY2UgdGhlIGxhc3QgY2FsbCB0byB0aGUgYmVnaW5GaWxsKCkgbWV0aG9kLlxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gVGhpcyBHcmFwaGljcyBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5lbmRGaWxsID0gZnVuY3Rpb24gZW5kRmlsbCAoKVxuICAgIHtcbiAgICAgICAgdGhpcy5maW5pc2hQb2x5KCk7XG5cbiAgICAgICAgdGhpcy5fZmlsbFN0eWxlLnJlc2V0KCk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERyYXdzIGEgcmVjdGFuZ2xlIHNoYXBlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggLSBUaGUgWCBjb29yZCBvZiB0aGUgdG9wLWxlZnQgb2YgdGhlIHJlY3RhbmdsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5IC0gVGhlIFkgY29vcmQgb2YgdGhlIHRvcC1sZWZ0IG9mIHRoZSByZWN0YW5nbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2lkdGggLSBUaGUgd2lkdGggb2YgdGhlIHJlY3RhbmdsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHQgLSBUaGUgaGVpZ2h0IG9mIHRoZSByZWN0YW5nbGVcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmRyYXdSZWN0ID0gZnVuY3Rpb24gZHJhd1JlY3QgKHgsIHksIHdpZHRoLCBoZWlnaHQpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5kcmF3U2hhcGUobmV3IFJlY3RhbmdsZSh4LCB5LCB3aWR0aCwgaGVpZ2h0KSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERyYXcgYSByZWN0YW5nbGUgc2hhcGUgd2l0aCByb3VuZGVkL2JldmVsZWQgY29ybmVycy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4IC0gVGhlIFggY29vcmQgb2YgdGhlIHRvcC1sZWZ0IG9mIHRoZSByZWN0YW5nbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geSAtIFRoZSBZIGNvb3JkIG9mIHRoZSB0b3AtbGVmdCBvZiB0aGUgcmVjdGFuZ2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIC0gVGhlIHdpZHRoIG9mIHRoZSByZWN0YW5nbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IC0gVGhlIGhlaWdodCBvZiB0aGUgcmVjdGFuZ2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJhZGl1cyAtIFJhZGl1cyBvZiB0aGUgcmVjdGFuZ2xlIGNvcm5lcnNcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmRyYXdSb3VuZGVkUmVjdCA9IGZ1bmN0aW9uIGRyYXdSb3VuZGVkUmVjdCAoeCwgeSwgd2lkdGgsIGhlaWdodCwgcmFkaXVzKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZHJhd1NoYXBlKG5ldyBSb3VuZGVkUmVjdGFuZ2xlKHgsIHksIHdpZHRoLCBoZWlnaHQsIHJhZGl1cykpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEcmF3cyBhIGNpcmNsZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4IC0gVGhlIFggY29vcmRpbmF0ZSBvZiB0aGUgY2VudGVyIG9mIHRoZSBjaXJjbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geSAtIFRoZSBZIGNvb3JkaW5hdGUgb2YgdGhlIGNlbnRlciBvZiB0aGUgY2lyY2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJhZGl1cyAtIFRoZSByYWRpdXMgb2YgdGhlIGNpcmNsZVxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuZHJhd0NpcmNsZSA9IGZ1bmN0aW9uIGRyYXdDaXJjbGUgKHgsIHksIHJhZGl1cylcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLmRyYXdTaGFwZShuZXcgQ2lyY2xlKHgsIHksIHJhZGl1cykpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEcmF3cyBhbiBlbGxpcHNlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggLSBUaGUgWCBjb29yZGluYXRlIG9mIHRoZSBjZW50ZXIgb2YgdGhlIGVsbGlwc2VcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geSAtIFRoZSBZIGNvb3JkaW5hdGUgb2YgdGhlIGNlbnRlciBvZiB0aGUgZWxsaXBzZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB3aWR0aCAtIFRoZSBoYWxmIHdpZHRoIG9mIHRoZSBlbGxpcHNlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodCAtIFRoZSBoYWxmIGhlaWdodCBvZiB0aGUgZWxsaXBzZVxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuZHJhd0VsbGlwc2UgPSBmdW5jdGlvbiBkcmF3RWxsaXBzZSAoeCwgeSwgd2lkdGgsIGhlaWdodClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLmRyYXdTaGFwZShuZXcgRWxsaXBzZSh4LCB5LCB3aWR0aCwgaGVpZ2h0KSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERyYXdzIGEgcG9seWdvbiB1c2luZyB0aGUgZ2l2ZW4gcGF0aC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyW118UElYSS5Qb2ludFtdfFBJWEkuUG9seWdvbn0gcGF0aCAtIFRoZSBwYXRoIGRhdGEgdXNlZCB0byBjb25zdHJ1Y3QgdGhlIHBvbHlnb24uXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gVGhpcyBHcmFwaGljcyBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5kcmF3UG9seWdvbiA9IGZ1bmN0aW9uIGRyYXdQb2x5Z29uIChwYXRoKVxuICAgIHtcbiAgICAgICAgdmFyIGFyZ3VtZW50cyQxID0gYXJndW1lbnRzO1xuXG4gICAgICAgIC8vIHByZXZlbnRzIGFuIGFyZ3VtZW50IGFzc2lnbm1lbnQgZGVvcHRcbiAgICAgICAgLy8gc2VlIHNlY3Rpb24gMy4xOiBodHRwczovL2dpdGh1Yi5jb20vcGV0a2FhbnRvbm92L2JsdWViaXJkL3dpa2kvT3B0aW1pemF0aW9uLWtpbGxlcnMjMy1tYW5hZ2luZy1hcmd1bWVudHNcbiAgICAgICAgdmFyIHBvaW50cyA9IHBhdGg7XG5cbiAgICAgICAgdmFyIGNsb3NlU3Ryb2tlID0gdHJ1ZTsvLyAhIXRoaXMuX2ZpbGxTdHlsZTtcblxuICAgICAgICAvLyBjaGVjayBpZiBkYXRhIGhhcyBwb2ludHMuLlxuICAgICAgICBpZiAocG9pbnRzLnBvaW50cylcbiAgICAgICAge1xuICAgICAgICAgICAgY2xvc2VTdHJva2UgPSBwb2ludHMuY2xvc2VTdHJva2U7XG4gICAgICAgICAgICBwb2ludHMgPSBwb2ludHMucG9pbnRzO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHBvaW50cykpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIHByZXZlbnRzIGFuIGFyZ3VtZW50IGxlYWsgZGVvcHRcbiAgICAgICAgICAgIC8vIHNlZSBzZWN0aW9uIDMuMjogaHR0cHM6Ly9naXRodWIuY29tL3BldGthYW50b25vdi9ibHVlYmlyZC93aWtpL09wdGltaXphdGlvbi1raWxsZXJzIzMtbWFuYWdpbmctYXJndW1lbnRzXG4gICAgICAgICAgICBwb2ludHMgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCk7XG5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcG9pbnRzLmxlbmd0aDsgKytpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHBvaW50c1tpXSA9IGFyZ3VtZW50cyQxW2ldOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHByZWZlci1yZXN0LXBhcmFtc1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHNoYXBlID0gbmV3IFBvbHlnb24ocG9pbnRzKTtcblxuICAgICAgICBzaGFwZS5jbG9zZVN0cm9rZSA9IGNsb3NlU3Ryb2tlO1xuXG4gICAgICAgIHRoaXMuZHJhd1NoYXBlKHNoYXBlKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRHJhdyBhbnkgc2hhcGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuQ2lyY2xlfFBJWEkuRWxsaXBzZXxQSVhJLlBvbHlnb258UElYSS5SZWN0YW5nbGV8UElYSS5Sb3VuZGVkUmVjdGFuZ2xlfSBzaGFwZSAtIFNoYXBlIHRvIGRyYXdcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmRyYXdTaGFwZSA9IGZ1bmN0aW9uIGRyYXdTaGFwZSAoc2hhcGUpXG4gICAge1xuICAgICAgICBpZiAoIXRoaXMuX2hvbGVNb2RlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmdlb21ldHJ5LmRyYXdTaGFwZShcbiAgICAgICAgICAgICAgICBzaGFwZSxcbiAgICAgICAgICAgICAgICB0aGlzLl9maWxsU3R5bGUuY2xvbmUoKSxcbiAgICAgICAgICAgICAgICB0aGlzLl9saW5lU3R5bGUuY2xvbmUoKSxcbiAgICAgICAgICAgICAgICB0aGlzLl9tYXRyaXhcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmdlb21ldHJ5LmRyYXdIb2xlKHNoYXBlLCB0aGlzLl9tYXRyaXgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERyYXcgYSBzdGFyIHNoYXBlIHdpdGggYW4gYXJiaXRyYXJ5IG51bWJlciBvZiBwb2ludHMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geCAtIENlbnRlciBYIHBvc2l0aW9uIG9mIHRoZSBzdGFyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgLSBDZW50ZXIgWSBwb3NpdGlvbiBvZiB0aGUgc3RhclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBwb2ludHMgLSBUaGUgbnVtYmVyIG9mIHBvaW50cyBvZiB0aGUgc3RhciwgbXVzdCBiZSA+IDFcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmFkaXVzIC0gVGhlIG91dGVyIHJhZGl1cyBvZiB0aGUgc3RhclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbaW5uZXJSYWRpdXNdIC0gVGhlIGlubmVyIHJhZGl1cyBiZXR3ZWVuIHBvaW50cywgZGVmYXVsdCBoYWxmIGByYWRpdXNgXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtyb3RhdGlvbj0wXSAtIFRoZSByb3RhdGlvbiBvZiB0aGUgc3RhciBpbiByYWRpYW5zLCB3aGVyZSAwIGlzIHZlcnRpY2FsXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gVGhpcyBHcmFwaGljcyBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5kcmF3U3RhciA9IGZ1bmN0aW9uIGRyYXdTdGFyICh4LCB5LCBwb2ludHMsIHJhZGl1cywgaW5uZXJSYWRpdXMsIHJvdGF0aW9uKVxuICAgIHtcbiAgICAgICAgaWYgKCByb3RhdGlvbiA9PT0gdm9pZCAwICkgcm90YXRpb24gPSAwO1xuXG4gICAgICAgIHJldHVybiB0aGlzLmRyYXdQb2x5Z29uKG5ldyBTdGFyKHgsIHksIHBvaW50cywgcmFkaXVzLCBpbm5lclJhZGl1cywgcm90YXRpb24pKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2xlYXJzIHRoZSBncmFwaGljcyB0aGF0IHdlcmUgZHJhd24gdG8gdGhpcyBHcmFwaGljcyBvYmplY3QsIGFuZCByZXNldHMgZmlsbCBhbmQgbGluZSBzdHlsZSBzZXR0aW5ncy5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiBjbGVhciAoKVxuICAgIHtcbiAgICAgICAgdGhpcy5nZW9tZXRyeS5jbGVhcigpO1xuICAgICAgICB0aGlzLl9saW5lU3R5bGUucmVzZXQoKTtcbiAgICAgICAgdGhpcy5fZmlsbFN0eWxlLnJlc2V0KCk7XG5cbiAgICAgICAgdGhpcy5fbWF0cml4ID0gbnVsbDtcbiAgICAgICAgdGhpcy5faG9sZU1vZGUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5jdXJyZW50UGF0aCA9IG51bGw7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRydWUgaWYgZ3JhcGhpY3MgY29uc2lzdHMgb2Ygb25lIHJlY3RhbmdsZSwgYW5kIHRodXMsIGNhbiBiZSBkcmF3biBsaWtlIGEgU3ByaXRlIGFuZFxuICAgICAqIG1hc2tlZCB3aXRoIGdsLnNjaXNzb3IuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiBvbmx5IDEgcmVjdC5cbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuaXNGYXN0UmVjdCA9IGZ1bmN0aW9uIGlzRmFzdFJlY3QgKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLmdlb21ldHJ5LmdyYXBoaWNzRGF0YS5sZW5ndGggPT09IDFcbiAgICAgICAgJiYgdGhpcy5nZW9tZXRyeS5ncmFwaGljc0RhdGFbMF0uc2hhcGUudHlwZSA9PT0gU0hBUEVTLlJFQ1RcbiAgICAgICAgJiYgIXRoaXMuZ2VvbWV0cnkuZ3JhcGhpY3NEYXRhWzBdLmxpbmVXaWR0aDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVuZGVycyB0aGUgb2JqZWN0IHVzaW5nIHRoZSBXZWJHTCByZW5kZXJlclxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXJcbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuX3JlbmRlciA9IGZ1bmN0aW9uIF9yZW5kZXIgKHJlbmRlcmVyKVxuICAgIHtcbiAgICAgICAgdGhpcy5maW5pc2hQb2x5KCk7XG5cbiAgICAgICAgdmFyIGdlb21ldHJ5ID0gdGhpcy5nZW9tZXRyeTtcblxuICAgICAgICAvLyBiYXRjaCBwYXJ0Li5cbiAgICAgICAgLy8gYmF0Y2ggaXQhXG4gICAgICAgIGdlb21ldHJ5LnVwZGF0ZUJhdGNoZXMoKTtcblxuICAgICAgICBpZiAoZ2VvbWV0cnkuYmF0Y2hhYmxlKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGhpcy5iYXRjaERpcnR5ICE9PSBnZW9tZXRyeS5iYXRjaERpcnR5KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuX3BvcHVsYXRlQmF0Y2hlcygpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9yZW5kZXJCYXRjaGVkKHJlbmRlcmVyKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIG5vIGJhdGNoaW5nLi4uXG4gICAgICAgICAgICByZW5kZXJlci5iYXRjaC5mbHVzaCgpO1xuXG4gICAgICAgICAgICB0aGlzLl9yZW5kZXJEaXJlY3QocmVuZGVyZXIpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFBvcHVsYXRpbmcgYmF0Y2hlcyBmb3IgcmVuZGVyaW5nXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLl9wb3B1bGF0ZUJhdGNoZXMgPSBmdW5jdGlvbiBfcG9wdWxhdGVCYXRjaGVzICgpXG4gICAge1xuICAgICAgICB2YXIgZ2VvbWV0cnkgPSB0aGlzLmdlb21ldHJ5O1xuICAgICAgICB2YXIgYmxlbmRNb2RlID0gdGhpcy5ibGVuZE1vZGU7XG5cbiAgICAgICAgdGhpcy5iYXRjaGVzID0gW107XG4gICAgICAgIHRoaXMuYmF0Y2hUaW50ID0gLTE7XG4gICAgICAgIHRoaXMuX3RyYW5zZm9ybUlEID0gLTE7XG4gICAgICAgIHRoaXMuYmF0Y2hEaXJ0eSA9IGdlb21ldHJ5LmJhdGNoRGlydHk7XG5cbiAgICAgICAgdGhpcy52ZXJ0ZXhEYXRhID0gbmV3IEZsb2F0MzJBcnJheShnZW9tZXRyeS5wb2ludHMpO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBsID0gZ2VvbWV0cnkuYmF0Y2hlcy5sZW5ndGg7IGkgPCBsOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBnSSA9IGdlb21ldHJ5LmJhdGNoZXNbaV07XG4gICAgICAgICAgICB2YXIgY29sb3IgPSBnSS5zdHlsZS5jb2xvcjtcbiAgICAgICAgICAgIHZhciB2ZXJ0ZXhEYXRhID0gbmV3IEZsb2F0MzJBcnJheSh0aGlzLnZlcnRleERhdGEuYnVmZmVyLFxuICAgICAgICAgICAgICAgIGdJLmF0dHJpYlN0YXJ0ICogNCAqIDIsXG4gICAgICAgICAgICAgICAgZ0kuYXR0cmliU2l6ZSAqIDIpO1xuXG4gICAgICAgICAgICB2YXIgdXZzID0gbmV3IEZsb2F0MzJBcnJheShnZW9tZXRyeS51dnNGbG9hdDMyLmJ1ZmZlcixcbiAgICAgICAgICAgICAgICBnSS5hdHRyaWJTdGFydCAqIDQgKiAyLFxuICAgICAgICAgICAgICAgIGdJLmF0dHJpYlNpemUgKiAyKTtcblxuICAgICAgICAgICAgdmFyIGluZGljZXMgPSBuZXcgVWludDE2QXJyYXkoZ2VvbWV0cnkuaW5kaWNlc1VpbnQxNi5idWZmZXIsXG4gICAgICAgICAgICAgICAgZ0kuc3RhcnQgKiAyLFxuICAgICAgICAgICAgICAgIGdJLnNpemUpO1xuXG4gICAgICAgICAgICB2YXIgYmF0Y2ggPSB7XG4gICAgICAgICAgICAgICAgdmVydGV4RGF0YTogdmVydGV4RGF0YSxcbiAgICAgICAgICAgICAgICBibGVuZE1vZGU6IGJsZW5kTW9kZSxcbiAgICAgICAgICAgICAgICBpbmRpY2VzOiBpbmRpY2VzLFxuICAgICAgICAgICAgICAgIHV2czogdXZzLFxuICAgICAgICAgICAgICAgIF9iYXRjaFJHQjogaGV4MnJnYihjb2xvciksXG4gICAgICAgICAgICAgICAgX3RpbnRSR0I6IGNvbG9yLFxuICAgICAgICAgICAgICAgIF90ZXh0dXJlOiBnSS5zdHlsZS50ZXh0dXJlLFxuICAgICAgICAgICAgICAgIGFscGhhOiBnSS5zdHlsZS5hbHBoYSxcbiAgICAgICAgICAgICAgICB3b3JsZEFscGhhOiAxIH07XG5cbiAgICAgICAgICAgIHRoaXMuYmF0Y2hlc1tpXSA9IGJhdGNoO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgdGhlIGJhdGNoZXMgdXNpbmcgdGhlIEJhdGhlZFJlbmRlcmVyIHBsdWdpblxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXJcbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuX3JlbmRlckJhdGNoZWQgPSBmdW5jdGlvbiBfcmVuZGVyQmF0Y2hlZCAocmVuZGVyZXIpXG4gICAge1xuICAgICAgICBpZiAoIXRoaXMuYmF0Y2hlcy5sZW5ndGgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHJlbmRlcmVyLmJhdGNoLnNldE9iamVjdFJlbmRlcmVyKHJlbmRlcmVyLnBsdWdpbnNbdGhpcy5wbHVnaW5OYW1lXSk7XG5cbiAgICAgICAgdGhpcy5jYWxjdWxhdGVWZXJ0aWNlcygpO1xuICAgICAgICB0aGlzLmNhbGN1bGF0ZVRpbnRzKCk7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSB0aGlzLmJhdGNoZXMubGVuZ3RoOyBpIDwgbDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgYmF0Y2ggPSB0aGlzLmJhdGNoZXNbaV07XG5cbiAgICAgICAgICAgIGJhdGNoLndvcmxkQWxwaGEgPSB0aGlzLndvcmxkQWxwaGEgKiBiYXRjaC5hbHBoYTtcblxuICAgICAgICAgICAgcmVuZGVyZXIucGx1Z2luc1t0aGlzLnBsdWdpbk5hbWVdLnJlbmRlcihiYXRjaCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVuZGVycyB0aGUgZ3JhcGhpY3MgZGlyZWN0XG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlclxuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5fcmVuZGVyRGlyZWN0ID0gZnVuY3Rpb24gX3JlbmRlckRpcmVjdCAocmVuZGVyZXIpXG4gICAge1xuICAgICAgICB2YXIgc2hhZGVyID0gdGhpcy5fcmVzb2x2ZURpcmVjdFNoYWRlcihyZW5kZXJlcik7XG5cbiAgICAgICAgdmFyIGdlb21ldHJ5ID0gdGhpcy5nZW9tZXRyeTtcbiAgICAgICAgdmFyIHRpbnQgPSB0aGlzLnRpbnQ7XG4gICAgICAgIHZhciB3b3JsZEFscGhhID0gdGhpcy53b3JsZEFscGhhO1xuICAgICAgICB2YXIgdW5pZm9ybXMgPSBzaGFkZXIudW5pZm9ybXM7XG4gICAgICAgIHZhciBkcmF3Q2FsbHMgPSBnZW9tZXRyeS5kcmF3Q2FsbHM7XG5cbiAgICAgICAgLy8gbGV0cyBzZXQgdGhlIHRyYW5zZm9tclxuICAgICAgICB1bmlmb3Jtcy50cmFuc2xhdGlvbk1hdHJpeCA9IHRoaXMudHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtO1xuXG4gICAgICAgIC8vIGFuZCB0aGVuIGxldHMgc2V0IHRoZSB0aW50Li5cbiAgICAgICAgdW5pZm9ybXMudGludFswXSA9ICgoKHRpbnQgPj4gMTYpICYgMHhGRikgLyAyNTUpICogd29ybGRBbHBoYTtcbiAgICAgICAgdW5pZm9ybXMudGludFsxXSA9ICgoKHRpbnQgPj4gOCkgJiAweEZGKSAvIDI1NSkgKiB3b3JsZEFscGhhO1xuICAgICAgICB1bmlmb3Jtcy50aW50WzJdID0gKCh0aW50ICYgMHhGRikgLyAyNTUpICogd29ybGRBbHBoYTtcbiAgICAgICAgdW5pZm9ybXMudGludFszXSA9IHdvcmxkQWxwaGE7XG5cbiAgICAgICAgLy8gdGhlIGZpcnN0IGRyYXcgY2FsbCwgd2UgY2FuIHNldCB0aGUgdW5pZm9ybXMgb2YgdGhlIHNoYWRlciBkaXJlY3RseSBoZXJlLlxuXG4gICAgICAgIC8vIHRoaXMgbWVhbnMgdGhhdCB3ZSBjYW4gdGFjayBhZHZhbnRhZ2Ugb2YgdGhlIHN5bmMgZnVuY3Rpb24gb2YgcGl4aSFcbiAgICAgICAgLy8gYmluZCBhbmQgc3luYyB1bmlmb3Jtcy4uXG4gICAgICAgIC8vIHRoZXJlIGlzIGEgd2F5IHRvIG9wdGltaXNlIHRoaXMuLlxuICAgICAgICByZW5kZXJlci5zaGFkZXIuYmluZChzaGFkZXIpO1xuICAgICAgICByZW5kZXJlci5nZW9tZXRyeS5iaW5kKGdlb21ldHJ5LCBzaGFkZXIpO1xuXG4gICAgICAgIC8vIHNldCBzdGF0ZS4uXG4gICAgICAgIHJlbmRlcmVyLnN0YXRlLnNldCh0aGlzLnN0YXRlKTtcblxuICAgICAgICAvLyB0aGVuIHJlbmRlciB0aGUgcmVzdCBvZiB0aGVtLi4uXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBsID0gZHJhd0NhbGxzLmxlbmd0aDsgaSA8IGw7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fcmVuZGVyRHJhd0NhbGxEaXJlY3QocmVuZGVyZXIsIGdlb21ldHJ5LmRyYXdDYWxsc1tpXSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVuZGVycyBzcGVjaWZpYyBEcmF3Q2FsbFxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlclxuICAgICAqIEBwYXJhbSB7UElYSS5CYXRjaERyYXdDYWxsfSBkcmF3Q2FsbFxuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5fcmVuZGVyRHJhd0NhbGxEaXJlY3QgPSBmdW5jdGlvbiBfcmVuZGVyRHJhd0NhbGxEaXJlY3QgKHJlbmRlcmVyLCBkcmF3Q2FsbClcbiAgICB7XG4gICAgICAgIHZhciB0ZXh0dXJlcyA9IGRyYXdDYWxsLnRleHR1cmVzO1xuICAgICAgICB2YXIgdHlwZSA9IGRyYXdDYWxsLnR5cGU7XG4gICAgICAgIHZhciBzaXplID0gZHJhd0NhbGwuc2l6ZTtcbiAgICAgICAgdmFyIHN0YXJ0ID0gZHJhd0NhbGwuc3RhcnQ7XG4gICAgICAgIHZhciBncm91cFRleHR1cmVDb3VudCA9IHRleHR1cmVzLmNvdW50O1xuXG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgZ3JvdXBUZXh0dXJlQ291bnQ7IGorKylcbiAgICAgICAge1xuICAgICAgICAgICAgcmVuZGVyZXIudGV4dHVyZS5iaW5kKHRleHR1cmVzLmVsZW1lbnRzW2pdLCBqKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJlbmRlcmVyLmdlb21ldHJ5LmRyYXcodHlwZSwgc2l6ZSwgc3RhcnQpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXNvbHZlcyBzaGFkZXIgZm9yIGRpcmVjdCByZW5kZXJpbmdcbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyXG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLl9yZXNvbHZlRGlyZWN0U2hhZGVyID0gZnVuY3Rpb24gX3Jlc29sdmVEaXJlY3RTaGFkZXIgKHJlbmRlcmVyKVxuICAgIHtcbiAgICAgICAgdmFyIHNoYWRlciA9IHRoaXMuc2hhZGVyO1xuXG4gICAgICAgIHZhciBwbHVnaW5OYW1lID0gdGhpcy5wbHVnaW5OYW1lO1xuXG4gICAgICAgIGlmICghc2hhZGVyKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBpZiB0aGVyZSBpcyBubyBzaGFkZXIgaGVyZSwgd2UgY2FuIHVzZSB0aGUgZGVmYXVsdCBzaGFkZXIuXG4gICAgICAgICAgICAvLyBhbmQgdGhhdCBvbmx5IGdldHMgY3JlYXRlZCBpZiB3ZSBhY3R1YWxseSBuZWVkIGl0Li5cbiAgICAgICAgICAgIC8vIGJ1dCBtYXkgYmUgbW9yZSB0aGFuIG9uZSBwbHVnaW5zIGZvciBncmFwaGljc1xuICAgICAgICAgICAgaWYgKCFERUZBVUxUX1NIQURFUlNbcGx1Z2luTmFtZV0pXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdmFyIHNhbXBsZVZhbHVlcyA9IG5ldyBJbnQzMkFycmF5KDE2KTtcblxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMTY7IGkrKylcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHNhbXBsZVZhbHVlc1tpXSA9IGk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdmFyIHVuaWZvcm1zID0ge1xuICAgICAgICAgICAgICAgICAgICB0aW50OiBuZXcgRmxvYXQzMkFycmF5KFsxLCAxLCAxLCAxXSksXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zbGF0aW9uTWF0cml4OiBuZXcgTWF0cml4KCksXG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IFVuaWZvcm1Hcm91cC5mcm9tKHsgdVNhbXBsZXJzOiBzYW1wbGVWYWx1ZXMgfSwgdHJ1ZSksXG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIHZhciBwcm9ncmFtID0gcmVuZGVyZXIucGx1Z2luc1twbHVnaW5OYW1lXS5fc2hhZGVyLnByb2dyYW07XG5cbiAgICAgICAgICAgICAgICBERUZBVUxUX1NIQURFUlNbcGx1Z2luTmFtZV0gPSBuZXcgU2hhZGVyKHByb2dyYW0sIHVuaWZvcm1zKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgc2hhZGVyID0gREVGQVVMVF9TSEFERVJTW3BsdWdpbk5hbWVdO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHNoYWRlcjtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmV0cmlldmVzIHRoZSBib3VuZHMgb2YgdGhlIGdyYXBoaWMgc2hhcGUgYXMgYSByZWN0YW5nbGUgb2JqZWN0XG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLl9jYWxjdWxhdGVCb3VuZHMgPSBmdW5jdGlvbiBfY2FsY3VsYXRlQm91bmRzICgpXG4gICAge1xuICAgICAgICB0aGlzLmZpbmlzaFBvbHkoKTtcblxuICAgICAgICB2YXIgZ2VvbWV0cnkgPSB0aGlzLmdlb21ldHJ5O1xuXG4gICAgICAgIC8vIHNraXBwaW5nIHdoZW4gZ3JhcGhpY3MgaXMgZW1wdHksIGxpa2UgYSBjb250YWluZXJcbiAgICAgICAgaWYgKCFnZW9tZXRyeS5ncmFwaGljc0RhdGEubGVuZ3RoKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcmVmID0gZ2VvbWV0cnkuYm91bmRzO1xuICAgICAgICB2YXIgbWluWCA9IHJlZi5taW5YO1xuICAgICAgICB2YXIgbWluWSA9IHJlZi5taW5ZO1xuICAgICAgICB2YXIgbWF4WCA9IHJlZi5tYXhYO1xuICAgICAgICB2YXIgbWF4WSA9IHJlZi5tYXhZO1xuXG4gICAgICAgIHRoaXMuX2JvdW5kcy5hZGRGcmFtZSh0aGlzLnRyYW5zZm9ybSwgbWluWCwgbWluWSwgbWF4WCwgbWF4WSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRlc3RzIGlmIGEgcG9pbnQgaXMgaW5zaWRlIHRoaXMgZ3JhcGhpY3Mgb2JqZWN0XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUG9pbnR9IHBvaW50IC0gdGhlIHBvaW50IHRvIHRlc3RcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSB0aGUgcmVzdWx0IG9mIHRoZSB0ZXN0XG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmNvbnRhaW5zUG9pbnQgPSBmdW5jdGlvbiBjb250YWluc1BvaW50IChwb2ludClcbiAgICB7XG4gICAgICAgIHRoaXMud29ybGRUcmFuc2Zvcm0uYXBwbHlJbnZlcnNlKHBvaW50LCBHcmFwaGljcy5fVEVNUF9QT0lOVCk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuZ2VvbWV0cnkuY29udGFpbnNQb2ludChHcmFwaGljcy5fVEVNUF9QT0lOVCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlY2FsY3VhdGUgdGhlIHRpbnQgYnkgYXBwbHlpbmcgdGluIHRvIGJhdGNoZXMgdXNpbmcgR3JhcGhpY3MgdGludC5cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmNhbGN1bGF0ZVRpbnRzID0gZnVuY3Rpb24gY2FsY3VsYXRlVGludHMgKClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLmJhdGNoVGludCAhPT0gdGhpcy50aW50KVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmJhdGNoVGludCA9IHRoaXMudGludDtcblxuICAgICAgICAgICAgdmFyIHRpbnRSR0IgPSBoZXgycmdiKHRoaXMudGludCwgdGVtcCk7XG5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5iYXRjaGVzLmxlbmd0aDsgaSsrKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHZhciBiYXRjaCA9IHRoaXMuYmF0Y2hlc1tpXTtcblxuICAgICAgICAgICAgICAgIHZhciBiYXRjaFRpbnQgPSBiYXRjaC5fYmF0Y2hSR0I7XG5cbiAgICAgICAgICAgICAgICB2YXIgciA9ICh0aW50UkdCWzBdICogYmF0Y2hUaW50WzBdKSAqIDI1NTtcbiAgICAgICAgICAgICAgICB2YXIgZyA9ICh0aW50UkdCWzFdICogYmF0Y2hUaW50WzFdKSAqIDI1NTtcbiAgICAgICAgICAgICAgICB2YXIgYiA9ICh0aW50UkdCWzJdICogYmF0Y2hUaW50WzJdKSAqIDI1NTtcblxuICAgICAgICAgICAgICAgIC8vIFRPRE8gSXZhbiwgY2FuIHRoaXMgYmUgZG9uZSBpbiBvbmUgZ28/XG4gICAgICAgICAgICAgICAgdmFyIGNvbG9yID0gKHIgPDwgMTYpICsgKGcgPDwgOCkgKyAoYiB8IDApO1xuXG4gICAgICAgICAgICAgICAgYmF0Y2guX3RpbnRSR0IgPSAoY29sb3IgPj4gMTYpXG4gICAgICAgICAgICAgICAgICAgICAgICArIChjb2xvciAmIDB4ZmYwMClcbiAgICAgICAgICAgICAgICAgICAgICAgICsgKChjb2xvciAmIDB4ZmYpIDw8IDE2KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBJZiB0aGVyZSdzIGEgdHJhbnNmb3JtIHVwZGF0ZSBvciBhIGNoYW5nZSB0byB0aGUgc2hhcGUgb2YgdGhlXG4gICAgICogZ2VvbWV0cnksIHJlY2FjdWxhdGUgdGhlIHZlcnRpY2VzLlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuY2FsY3VsYXRlVmVydGljZXMgPSBmdW5jdGlvbiBjYWxjdWxhdGVWZXJ0aWNlcyAoKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuX3RyYW5zZm9ybUlEID09PSB0aGlzLnRyYW5zZm9ybS5fd29ybGRJRClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fdHJhbnNmb3JtSUQgPSB0aGlzLnRyYW5zZm9ybS5fd29ybGRJRDtcblxuICAgICAgICB2YXIgd3QgPSB0aGlzLnRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybTtcbiAgICAgICAgdmFyIGEgPSB3dC5hO1xuICAgICAgICB2YXIgYiA9IHd0LmI7XG4gICAgICAgIHZhciBjID0gd3QuYztcbiAgICAgICAgdmFyIGQgPSB3dC5kO1xuICAgICAgICB2YXIgdHggPSB3dC50eDtcbiAgICAgICAgdmFyIHR5ID0gd3QudHk7XG5cbiAgICAgICAgdmFyIGRhdGEgPSB0aGlzLmdlb21ldHJ5LnBvaW50czsvLyBiYXRjaC52ZXJ0ZXhEYXRhT3JpZ2luYWw7XG4gICAgICAgIHZhciB2ZXJ0ZXhEYXRhID0gdGhpcy52ZXJ0ZXhEYXRhO1xuXG4gICAgICAgIHZhciBjb3VudCA9IDA7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSArPSAyKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgeCA9IGRhdGFbaV07XG4gICAgICAgICAgICB2YXIgeSA9IGRhdGFbaSArIDFdO1xuXG4gICAgICAgICAgICB2ZXJ0ZXhEYXRhW2NvdW50KytdID0gKGEgKiB4KSArIChjICogeSkgKyB0eDtcbiAgICAgICAgICAgIHZlcnRleERhdGFbY291bnQrK10gPSAoZCAqIHkpICsgKGIgKiB4KSArIHR5O1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENsb3NlcyB0aGUgY3VycmVudCBwYXRoLlxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gUmV0dXJucyBpdHNlbGYuXG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmNsb3NlUGF0aCA9IGZ1bmN0aW9uIGNsb3NlUGF0aCAoKVxuICAgIHtcbiAgICAgICAgdmFyIGN1cnJlbnRQYXRoID0gdGhpcy5jdXJyZW50UGF0aDtcblxuICAgICAgICBpZiAoY3VycmVudFBhdGgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIHdlIGRvbid0IG5lZWQgdG8gYWRkIGV4dHJhIHBvaW50IGluIHRoZSBlbmQgYmVjYXVzZSBidWlsZExpbmUgd2lsbCB0YWtlIGNhcmUgb2YgdGhhdFxuICAgICAgICAgICAgY3VycmVudFBhdGguY2xvc2VTdHJva2UgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEFwcGx5IGEgbWF0cml4IHRvIHRoZSBwb3NpdGlvbmFsIGRhdGEuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuTWF0cml4fSBtYXRyaXggLSBNYXRyaXggdG8gdXNlIGZvciB0cmFuc2Zvcm0gY3VycmVudCBzaGFwZS5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBSZXR1cm5zIGl0c2VsZi5cbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuc2V0TWF0cml4ID0gZnVuY3Rpb24gc2V0TWF0cml4IChtYXRyaXgpXG4gICAge1xuICAgICAgICB0aGlzLl9tYXRyaXggPSBtYXRyaXg7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEJlZ2luIGFkZGluZyBob2xlcyB0byB0aGUgbGFzdCBkcmF3IHNoYXBlXG4gICAgICogSU1QT1JUQU5UOiBob2xlcyBtdXN0IGJlIGZ1bGx5IGluc2lkZSBhIHNoYXBlIHRvIHdvcmtcbiAgICAgKiBBbHNvIHdlaXJkbmVzcyBlbnN1ZXMgaWYgaG9sZXMgb3ZlcmxhcCFcbiAgICAgKiBFbGxpcHNlcywgQ2lyY2xlcywgUmVjdGFuZ2xlcyBhbmQgUm91bmRlZCBSZWN0YW5nbGVzIGNhbm5vdCBiZSBob2xlcyBvciBob3N0IGZvciBob2xlcyBpbiBDYW52YXNSZW5kZXJlcixcbiAgICAgKiBwbGVhc2UgdXNlIGBtb3ZlVG9gIGBsaW5lVG9gLCBgcXVhZHJhdGljQ3VydmVUb2AgaWYgeW91IHJlbHkgb24gcGl4aS1sZWdhY3kgYnVuZGxlLlxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFJldHVybnMgaXRzZWxmLlxuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5iZWdpbkhvbGUgPSBmdW5jdGlvbiBiZWdpbkhvbGUgKClcbiAgICB7XG4gICAgICAgIHRoaXMuZmluaXNoUG9seSgpO1xuICAgICAgICB0aGlzLl9ob2xlTW9kZSA9IHRydWU7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEVuZCBhZGRpbmcgaG9sZXMgdG8gdGhlIGxhc3QgZHJhdyBzaGFwZVxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFJldHVybnMgaXRzZWxmLlxuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5lbmRIb2xlID0gZnVuY3Rpb24gZW5kSG9sZSAoKVxuICAgIHtcbiAgICAgICAgdGhpcy5maW5pc2hQb2x5KCk7XG4gICAgICAgIHRoaXMuX2hvbGVNb2RlID0gZmFsc2U7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoZSBHcmFwaGljcyBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge29iamVjdHxib29sZWFufSBbb3B0aW9uc10gLSBPcHRpb25zIHBhcmFtZXRlci4gQSBib29sZWFuIHdpbGwgYWN0IGFzIGlmIGFsbFxuICAgICAqICBvcHRpb25zIGhhdmUgYmVlbiBzZXQgdG8gdGhhdCB2YWx1ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY2hpbGRyZW49ZmFsc2VdIC0gaWYgc2V0IHRvIHRydWUsIGFsbCB0aGUgY2hpbGRyZW4gd2lsbCBoYXZlXG4gICAgICogIHRoZWlyIGRlc3Ryb3kgbWV0aG9kIGNhbGxlZCBhcyB3ZWxsLiAnb3B0aW9ucycgd2lsbCBiZSBwYXNzZWQgb24gdG8gdGhvc2UgY2FsbHMuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy50ZXh0dXJlPWZhbHNlXSAtIE9ubHkgdXNlZCBmb3IgY2hpbGQgU3ByaXRlcyBpZiBvcHRpb25zLmNoaWxkcmVuIGlzIHNldCB0byB0cnVlXG4gICAgICogIFNob3VsZCBpdCBkZXN0cm95IHRoZSB0ZXh0dXJlIG9mIHRoZSBjaGlsZCBzcHJpdGVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmJhc2VUZXh0dXJlPWZhbHNlXSAtIE9ubHkgdXNlZCBmb3IgY2hpbGQgU3ByaXRlcyBpZiBvcHRpb25zLmNoaWxkcmVuIGlzIHNldCB0byB0cnVlXG4gICAgICogIFNob3VsZCBpdCBkZXN0cm95IHRoZSBiYXNlIHRleHR1cmUgb2YgdGhlIGNoaWxkIHNwcml0ZVxuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSAob3B0aW9ucylcbiAgICB7XG4gICAgICAgIENvbnRhaW5lci5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMsIG9wdGlvbnMpO1xuXG4gICAgICAgIHRoaXMuZ2VvbWV0cnkucmVmQ291bnQtLTtcbiAgICAgICAgaWYgKHRoaXMuZ2VvbWV0cnkucmVmQ291bnQgPT09IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuZ2VvbWV0cnkuZGlzcG9zZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fbWF0cml4ID0gbnVsbDtcbiAgICAgICAgdGhpcy5jdXJyZW50UGF0aCA9IG51bGw7XG4gICAgICAgIHRoaXMuX2xpbmVTdHlsZS5kZXN0cm95KCk7XG4gICAgICAgIHRoaXMuX2xpbmVTdHlsZSA9IG51bGw7XG4gICAgICAgIHRoaXMuX2ZpbGxTdHlsZS5kZXN0cm95KCk7XG4gICAgICAgIHRoaXMuX2ZpbGxTdHlsZSA9IG51bGw7XG4gICAgICAgIHRoaXMuZ2VvbWV0cnkgPSBudWxsO1xuICAgICAgICB0aGlzLnNoYWRlciA9IG51bGw7XG4gICAgICAgIHRoaXMudmVydGV4RGF0YSA9IG51bGw7XG4gICAgICAgIHRoaXMuYmF0Y2hlcy5sZW5ndGggPSAwO1xuICAgICAgICB0aGlzLmJhdGNoZXMgPSBudWxsO1xuXG4gICAgICAgIENvbnRhaW5lci5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMsIG9wdGlvbnMpO1xuICAgIH07XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyggR3JhcGhpY3MucHJvdG90eXBlLCBwcm90b3R5cGVBY2Nlc3NvcnMgKTtcblxuICAgIHJldHVybiBHcmFwaGljcztcbn0oQ29udGFpbmVyKSk7XG5cbi8qKlxuICogVGVtcG9yYXJ5IHBvaW50IHRvIHVzZSBmb3IgY29udGFpbnNQb2ludFxuICpcbiAqIEBzdGF0aWNcbiAqIEBwcml2YXRlXG4gKiBAbWVtYmVyIHtQSVhJLlBvaW50fVxuICovXG5HcmFwaGljcy5fVEVNUF9QT0lOVCA9IG5ldyBQb2ludCgpO1xuXG5leHBvcnQgeyBGaWxsU3R5bGUsIEdSQVBISUNTX0NVUlZFUywgR3JhcGhpY3MsIEdyYXBoaWNzRGF0YSwgR3JhcGhpY3NHZW9tZXRyeSwgTGluZVN0eWxlLCBpbmRleCBhcyBncmFwaGljc1V0aWxzIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1ncmFwaGljcy5lcy5qcy5tYXBcbiIsIi8qIVxuICogQHBpeGkvc3ByaXRlIC0gdjUuMi4wXG4gKiBDb21waWxlZCBXZWQsIDA2IE5vdiAyMDE5IDAyOjMyOjQzIFVUQ1xuICpcbiAqIEBwaXhpL3Nwcml0ZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbmltcG9ydCB7IFBvaW50LCBSZWN0YW5nbGUsIE9ic2VydmFibGVQb2ludCB9IGZyb20gJ0BwaXhpL21hdGgnO1xuaW1wb3J0IHsgc2lnbiB9IGZyb20gJ0BwaXhpL3V0aWxzJztcbmltcG9ydCB7IFRleHR1cmUgfSBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCB7IEJMRU5EX01PREVTIH0gZnJvbSAnQHBpeGkvY29uc3RhbnRzJztcbmltcG9ydCB7IENvbnRhaW5lciB9IGZyb20gJ0BwaXhpL2Rpc3BsYXknO1xuaW1wb3J0IHsgc2V0dGluZ3MgfSBmcm9tICdAcGl4aS9zZXR0aW5ncyc7XG5cbnZhciB0ZW1wUG9pbnQgPSBuZXcgUG9pbnQoKTtcbnZhciBpbmRpY2VzID0gbmV3IFVpbnQxNkFycmF5KFswLCAxLCAyLCAwLCAyLCAzXSk7XG5cbi8qKlxuICogVGhlIFNwcml0ZSBvYmplY3QgaXMgdGhlIGJhc2UgZm9yIGFsbCB0ZXh0dXJlZCBvYmplY3RzIHRoYXQgYXJlIHJlbmRlcmVkIHRvIHRoZSBzY3JlZW5cbipcbiAqIEEgc3ByaXRlIGNhbiBiZSBjcmVhdGVkIGRpcmVjdGx5IGZyb20gYW4gaW1hZ2UgbGlrZSB0aGlzOlxuICpcbiAqIGBgYGpzXG4gKiBsZXQgc3ByaXRlID0gUElYSS5TcHJpdGUuZnJvbSgnYXNzZXRzL2ltYWdlLnBuZycpO1xuICogYGBgXG4gKlxuICogVGhlIG1vcmUgZWZmaWNpZW50IHdheSB0byBjcmVhdGUgc3ByaXRlcyBpcyB1c2luZyBhIHtAbGluayBQSVhJLlNwcml0ZXNoZWV0fSxcbiAqIGFzIHN3YXBwaW5nIGJhc2UgdGV4dHVyZXMgd2hlbiByZW5kZXJpbmcgdG8gdGhlIHNjcmVlbiBpcyBpbmVmZmljaWVudC5cbiAqXG4gKiBgYGBqc1xuICogUElYSS5Mb2FkZXIuc2hhcmVkLmFkZChcImFzc2V0cy9zcHJpdGVzaGVldC5qc29uXCIpLmxvYWQoc2V0dXApO1xuICpcbiAqIGZ1bmN0aW9uIHNldHVwKCkge1xuICogICBsZXQgc2hlZXQgPSBQSVhJLkxvYWRlci5zaGFyZWQucmVzb3VyY2VzW1wiYXNzZXRzL3Nwcml0ZXNoZWV0Lmpzb25cIl0uc3ByaXRlc2hlZXQ7XG4gKiAgIGxldCBzcHJpdGUgPSBuZXcgUElYSS5TcHJpdGUoc2hlZXQudGV4dHVyZXNbXCJpbWFnZS5wbmdcIl0pO1xuICogICAuLi5cbiAqIH1cbiAqIGBgYFxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5Db250YWluZXJcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBTcHJpdGUgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChDb250YWluZXIpIHtcbiAgICBmdW5jdGlvbiBTcHJpdGUodGV4dHVyZSlcbiAgICB7XG4gICAgICAgIENvbnRhaW5lci5jYWxsKHRoaXMpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYW5jaG9yIHBvaW50IGRlZmluZXMgdGhlIG5vcm1hbGl6ZWQgY29vcmRpbmF0ZXNcbiAgICAgICAgICogaW4gdGhlIHRleHR1cmUgdGhhdCBtYXAgdG8gdGhlIHBvc2l0aW9uIG9mIHRoaXNcbiAgICAgICAgICogc3ByaXRlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBCeSBkZWZhdWx0LCB0aGlzIGlzIGAoMCwwKWAgKG9yIGB0ZXh0dXJlLmRlZmF1bHRBbmNob3JgXG4gICAgICAgICAqIGlmIHlvdSBoYXZlIG1vZGlmaWVkIHRoYXQpLCB3aGljaCBtZWFucyB0aGUgcG9zaXRpb25cbiAgICAgICAgICogYCh4LHkpYCBvZiB0aGlzIGBTcHJpdGVgIHdpbGwgYmUgdGhlIHRvcC1sZWZ0IGNvcm5lci5cbiAgICAgICAgICpcbiAgICAgICAgICogTm90ZTogVXBkYXRpbmcgYHRleHR1cmUuZGVmYXVsdEFuY2hvcmAgYWZ0ZXJcbiAgICAgICAgICogY29uc3RydWN0aW5nIGEgYFNwcml0ZWAgZG9lcyBfbm90XyB1cGRhdGUgaXRzIGFuY2hvci5cbiAgICAgICAgICpcbiAgICAgICAgICoge0BsaW5rIGh0dHBzOi8vZG9jcy5jb2NvczJkLXgub3JnL2NvY29zMmQteC9lbi9zcHJpdGVzL21hbmlwdWxhdGlvbi5odG1sfVxuICAgICAgICAgKlxuICAgICAgICAgKiBAZGVmYXVsdCBgdGV4dHVyZS5kZWZhdWx0QW5jaG9yYFxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk9ic2VydmFibGVQb2ludH1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2FuY2hvciA9IG5ldyBPYnNlcnZhYmxlUG9pbnQoXG4gICAgICAgICAgICB0aGlzLl9vbkFuY2hvclVwZGF0ZSxcbiAgICAgICAgICAgIHRoaXMsXG4gICAgICAgICAgICAodGV4dHVyZSA/IHRleHR1cmUuZGVmYXVsdEFuY2hvci54IDogMCksXG4gICAgICAgICAgICAodGV4dHVyZSA/IHRleHR1cmUuZGVmYXVsdEFuY2hvci55IDogMClcbiAgICAgICAgKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHRleHR1cmUgdGhhdCB0aGUgc3ByaXRlIGlzIHVzaW5nXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuVGV4dHVyZX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3RleHR1cmUgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgd2lkdGggb2YgdGhlIHNwcml0ZSAodGhpcyBpcyBpbml0aWFsbHkgc2V0IGJ5IHRoZSB0ZXh0dXJlKVxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl93aWR0aCA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIHNwcml0ZSAodGhpcyBpcyBpbml0aWFsbHkgc2V0IGJ5IHRoZSB0ZXh0dXJlKVxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9oZWlnaHQgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdGludCBhcHBsaWVkIHRvIHRoZSBzcHJpdGUuIFRoaXMgaXMgYSBoZXggdmFsdWUuIEEgdmFsdWUgb2YgMHhGRkZGRkYgd2lsbCByZW1vdmUgYW55IHRpbnQgZWZmZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDB4RkZGRkZGXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl90aW50ID0gbnVsbDtcbiAgICAgICAgdGhpcy5fdGludFJHQiA9IG51bGw7XG4gICAgICAgIHRoaXMudGludCA9IDB4RkZGRkZGO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYmxlbmQgbW9kZSB0byBiZSBhcHBsaWVkIHRvIHRoZSBzcHJpdGUuIEFwcGx5IGEgdmFsdWUgb2YgYFBJWEkuQkxFTkRfTU9ERVMuTk9STUFMYCB0byByZXNldCB0aGUgYmxlbmQgbW9kZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLkJMRU5EX01PREVTLk5PUk1BTFxuICAgICAgICAgKiBAc2VlIFBJWEkuQkxFTkRfTU9ERVNcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYmxlbmRNb2RlID0gQkxFTkRfTU9ERVMuTk9STUFMO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgc2hhZGVyIHRoYXQgd2lsbCBiZSB1c2VkIHRvIHJlbmRlciB0aGUgc3ByaXRlLiBTZXQgdG8gbnVsbCB0byByZW1vdmUgYSBjdXJyZW50IHNoYWRlci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5GaWx0ZXJ8UElYSS5TaGFkZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnNoYWRlciA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIENhY2hlZCB0aW50IHZhbHVlIHNvIHdlIGNhbiB0ZWxsIHdoZW4gdGhlIHRpbnQgaXMgY2hhbmdlZC5cbiAgICAgICAgICogVmFsdWUgaXMgdXNlZCBmb3IgMmQgQ2FudmFzUmVuZGVyZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAweEZGRkZGRlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fY2FjaGVkVGludCA9IDB4RkZGRkZGO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiB0aGlzIGlzIHVzZWQgdG8gc3RvcmUgdGhlIHV2cyBkYXRhIG9mIHRoZSBzcHJpdGUsIGFzc2lnbmVkIGF0IHRoZSBzYW1lIHRpbWVcbiAgICAgICAgICogYXMgdGhlIHZlcnRleERhdGEgaW4gY2FsY3VsYXRlVmVydGljZXMoKVxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtGbG9hdDMyQXJyYXl9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnV2cyA9IG51bGw7XG5cbiAgICAgICAgLy8gY2FsbCB0ZXh0dXJlIHNldHRlclxuICAgICAgICB0aGlzLnRleHR1cmUgPSB0ZXh0dXJlIHx8IFRleHR1cmUuRU1QVFk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIHRoaXMgaXMgdXNlZCB0byBzdG9yZSB0aGUgdmVydGV4IGRhdGEgb2YgdGhlIHNwcml0ZSAoYmFzaWNhbGx5IGEgcXVhZClcbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7RmxvYXQzMkFycmF5fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy52ZXJ0ZXhEYXRhID0gbmV3IEZsb2F0MzJBcnJheSg4KTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhpcyBpcyB1c2VkIHRvIGNhbGN1bGF0ZSB0aGUgYm91bmRzIG9mIHRoZSBvYmplY3QgSUYgaXQgaXMgYSB0cmltbWVkIHNwcml0ZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtGbG9hdDMyQXJyYXl9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnZlcnRleFRyaW1tZWREYXRhID0gbnVsbDtcblxuICAgICAgICB0aGlzLl90cmFuc2Zvcm1JRCA9IC0xO1xuICAgICAgICB0aGlzLl90ZXh0dXJlSUQgPSAtMTtcblxuICAgICAgICB0aGlzLl90cmFuc2Zvcm1UcmltbWVkSUQgPSAtMTtcbiAgICAgICAgdGhpcy5fdGV4dHVyZVRyaW1tZWRJRCA9IC0xO1xuXG4gICAgICAgIC8vIEJhdGNoYWJsZSBzdHVmZi4uXG4gICAgICAgIC8vIFRPRE8gY291bGQgbWFrZSB0aGlzIGEgbWl4aW4/XG4gICAgICAgIHRoaXMuaW5kaWNlcyA9IGluZGljZXM7XG4gICAgICAgIHRoaXMuc2l6ZSA9IDQ7XG4gICAgICAgIHRoaXMuc3RhcnQgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQbHVnaW4gdGhhdCBpcyByZXNwb25zaWJsZSBmb3IgcmVuZGVyaW5nIHRoaXMgZWxlbWVudC5cbiAgICAgICAgICogQWxsb3dzIHRvIGN1c3RvbWl6ZSB0aGUgcmVuZGVyaW5nIHByb2Nlc3Mgd2l0aG91dCBvdmVycmlkaW5nICdfcmVuZGVyJyAmICdfcmVuZGVyQ2FudmFzJyBtZXRob2RzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqIEBkZWZhdWx0ICdiYXRjaCdcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucGx1Z2luTmFtZSA9ICdiYXRjaCc7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIHVzZWQgdG8gZmFzdCBjaGVjayBpZiBhIHNwcml0ZSBpcy4uIGEgc3ByaXRlIVxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5pc1Nwcml0ZSA9IHRydWU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEludGVybmFsIHJvdW5kUGl4ZWxzIGZpZWxkXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9yb3VuZFBpeGVscyA9IHNldHRpbmdzLlJPVU5EX1BJWEVMUztcbiAgICB9XG5cbiAgICBpZiAoIENvbnRhaW5lciApIFNwcml0ZS5fX3Byb3RvX18gPSBDb250YWluZXI7XG4gICAgU3ByaXRlLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIENvbnRhaW5lciAmJiBDb250YWluZXIucHJvdG90eXBlICk7XG4gICAgU3ByaXRlLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFNwcml0ZTtcblxuICAgIHZhciBwcm90b3R5cGVBY2Nlc3NvcnMgPSB7IHJvdW5kUGl4ZWxzOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LHdpZHRoOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LGhlaWdodDogeyBjb25maWd1cmFibGU6IHRydWUgfSxhbmNob3I6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sdGludDogeyBjb25maWd1cmFibGU6IHRydWUgfSx0ZXh0dXJlOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH07XG5cbiAgICAvKipcbiAgICAgKiBXaGVuIHRoZSB0ZXh0dXJlIGlzIHVwZGF0ZWQsIHRoaXMgZXZlbnQgd2lsbCBmaXJlIHRvIHVwZGF0ZSB0aGUgc2NhbGUgYW5kIGZyYW1lXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFNwcml0ZS5wcm90b3R5cGUuX29uVGV4dHVyZVVwZGF0ZSA9IGZ1bmN0aW9uIF9vblRleHR1cmVVcGRhdGUgKClcbiAgICB7XG4gICAgICAgIHRoaXMuX3RleHR1cmVJRCA9IC0xO1xuICAgICAgICB0aGlzLl90ZXh0dXJlVHJpbW1lZElEID0gLTE7XG4gICAgICAgIHRoaXMuX2NhY2hlZFRpbnQgPSAweEZGRkZGRjtcblxuICAgICAgICAvLyBzbyBpZiBfd2lkdGggaXMgMCB0aGVuIHdpZHRoIHdhcyBub3Qgc2V0Li5cbiAgICAgICAgaWYgKHRoaXMuX3dpZHRoKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnNjYWxlLnggPSBzaWduKHRoaXMuc2NhbGUueCkgKiB0aGlzLl93aWR0aCAvIHRoaXMuX3RleHR1cmUub3JpZy53aWR0aDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9oZWlnaHQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuc2NhbGUueSA9IHNpZ24odGhpcy5zY2FsZS55KSAqIHRoaXMuX2hlaWdodCAvIHRoaXMuX3RleHR1cmUub3JpZy5oZWlnaHQ7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHdoZW4gdGhlIGFuY2hvciBwb3NpdGlvbiB1cGRhdGVzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBTcHJpdGUucHJvdG90eXBlLl9vbkFuY2hvclVwZGF0ZSA9IGZ1bmN0aW9uIF9vbkFuY2hvclVwZGF0ZSAoKVxuICAgIHtcbiAgICAgICAgdGhpcy5fdHJhbnNmb3JtSUQgPSAtMTtcbiAgICAgICAgdGhpcy5fdHJhbnNmb3JtVHJpbW1lZElEID0gLTE7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIGNhbGN1bGF0ZXMgd29ybGRUcmFuc2Zvcm0gKiB2ZXJ0aWNlcywgc3RvcmUgaXQgaW4gdmVydGV4RGF0YVxuICAgICAqL1xuICAgIFNwcml0ZS5wcm90b3R5cGUuY2FsY3VsYXRlVmVydGljZXMgPSBmdW5jdGlvbiBjYWxjdWxhdGVWZXJ0aWNlcyAoKVxuICAgIHtcbiAgICAgICAgdmFyIHRleHR1cmUgPSB0aGlzLl90ZXh0dXJlO1xuXG4gICAgICAgIGlmICh0aGlzLl90cmFuc2Zvcm1JRCA9PT0gdGhpcy50cmFuc2Zvcm0uX3dvcmxkSUQgJiYgdGhpcy5fdGV4dHVyZUlEID09PSB0ZXh0dXJlLl91cGRhdGVJRClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdXBkYXRlIHRleHR1cmUgVVYgaGVyZSwgYmVjYXVzZSBiYXNlIHRleHR1cmUgY2FuIGJlIGNoYW5nZWQgd2l0aG91dCBjYWxsaW5nIGBfb25UZXh0dXJlVXBkYXRlYFxuICAgICAgICBpZiAodGhpcy5fdGV4dHVyZUlEICE9PSB0ZXh0dXJlLl91cGRhdGVJRClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy51dnMgPSB0aGlzLl90ZXh0dXJlLl91dnMudXZzRmxvYXQzMjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3RyYW5zZm9ybUlEID0gdGhpcy50cmFuc2Zvcm0uX3dvcmxkSUQ7XG4gICAgICAgIHRoaXMuX3RleHR1cmVJRCA9IHRleHR1cmUuX3VwZGF0ZUlEO1xuXG4gICAgICAgIC8vIHNldCB0aGUgdmVydGV4IGRhdGFcblxuICAgICAgICB2YXIgd3QgPSB0aGlzLnRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybTtcbiAgICAgICAgdmFyIGEgPSB3dC5hO1xuICAgICAgICB2YXIgYiA9IHd0LmI7XG4gICAgICAgIHZhciBjID0gd3QuYztcbiAgICAgICAgdmFyIGQgPSB3dC5kO1xuICAgICAgICB2YXIgdHggPSB3dC50eDtcbiAgICAgICAgdmFyIHR5ID0gd3QudHk7XG4gICAgICAgIHZhciB2ZXJ0ZXhEYXRhID0gdGhpcy52ZXJ0ZXhEYXRhO1xuICAgICAgICB2YXIgdHJpbSA9IHRleHR1cmUudHJpbTtcbiAgICAgICAgdmFyIG9yaWcgPSB0ZXh0dXJlLm9yaWc7XG4gICAgICAgIHZhciBhbmNob3IgPSB0aGlzLl9hbmNob3I7XG5cbiAgICAgICAgdmFyIHcwID0gMDtcbiAgICAgICAgdmFyIHcxID0gMDtcbiAgICAgICAgdmFyIGgwID0gMDtcbiAgICAgICAgdmFyIGgxID0gMDtcblxuICAgICAgICBpZiAodHJpbSlcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gaWYgdGhlIHNwcml0ZSBpcyB0cmltbWVkIGFuZCBpcyBub3QgYSB0aWxpbmdzcHJpdGUgdGhlbiB3ZSBuZWVkIHRvIGFkZCB0aGUgZXh0cmFcbiAgICAgICAgICAgIC8vIHNwYWNlIGJlZm9yZSB0cmFuc2Zvcm1pbmcgdGhlIHNwcml0ZSBjb29yZHMuXG4gICAgICAgICAgICB3MSA9IHRyaW0ueCAtIChhbmNob3IuX3ggKiBvcmlnLndpZHRoKTtcbiAgICAgICAgICAgIHcwID0gdzEgKyB0cmltLndpZHRoO1xuXG4gICAgICAgICAgICBoMSA9IHRyaW0ueSAtIChhbmNob3IuX3kgKiBvcmlnLmhlaWdodCk7XG4gICAgICAgICAgICBoMCA9IGgxICsgdHJpbS5oZWlnaHQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB3MSA9IC1hbmNob3IuX3ggKiBvcmlnLndpZHRoO1xuICAgICAgICAgICAgdzAgPSB3MSArIG9yaWcud2lkdGg7XG5cbiAgICAgICAgICAgIGgxID0gLWFuY2hvci5feSAqIG9yaWcuaGVpZ2h0O1xuICAgICAgICAgICAgaDAgPSBoMSArIG9yaWcuaGVpZ2h0O1xuICAgICAgICB9XG5cbiAgICAgICAgLy8geHlcbiAgICAgICAgdmVydGV4RGF0YVswXSA9IChhICogdzEpICsgKGMgKiBoMSkgKyB0eDtcbiAgICAgICAgdmVydGV4RGF0YVsxXSA9IChkICogaDEpICsgKGIgKiB3MSkgKyB0eTtcblxuICAgICAgICAvLyB4eVxuICAgICAgICB2ZXJ0ZXhEYXRhWzJdID0gKGEgKiB3MCkgKyAoYyAqIGgxKSArIHR4O1xuICAgICAgICB2ZXJ0ZXhEYXRhWzNdID0gKGQgKiBoMSkgKyAoYiAqIHcwKSArIHR5O1xuXG4gICAgICAgIC8vIHh5XG4gICAgICAgIHZlcnRleERhdGFbNF0gPSAoYSAqIHcwKSArIChjICogaDApICsgdHg7XG4gICAgICAgIHZlcnRleERhdGFbNV0gPSAoZCAqIGgwKSArIChiICogdzApICsgdHk7XG5cbiAgICAgICAgLy8geHlcbiAgICAgICAgdmVydGV4RGF0YVs2XSA9IChhICogdzEpICsgKGMgKiBoMCkgKyB0eDtcbiAgICAgICAgdmVydGV4RGF0YVs3XSA9IChkICogaDApICsgKGIgKiB3MSkgKyB0eTtcblxuICAgICAgICBpZiAodGhpcy5fcm91bmRQaXhlbHMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgODsgaSsrKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHZlcnRleERhdGFbaV0gPSBNYXRoLnJvdW5kKHZlcnRleERhdGFbaV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIGNhbGN1bGF0ZXMgd29ybGRUcmFuc2Zvcm0gKiB2ZXJ0aWNlcyBmb3IgYSBub24gdGV4dHVyZSB3aXRoIGEgdHJpbS4gc3RvcmUgaXQgaW4gdmVydGV4VHJpbW1lZERhdGFcbiAgICAgKiBUaGlzIGlzIHVzZWQgdG8gZW5zdXJlIHRoYXQgdGhlIHRydWUgd2lkdGggYW5kIGhlaWdodCBvZiBhIHRyaW1tZWQgdGV4dHVyZSBpcyByZXNwZWN0ZWRcbiAgICAgKi9cbiAgICBTcHJpdGUucHJvdG90eXBlLmNhbGN1bGF0ZVRyaW1tZWRWZXJ0aWNlcyA9IGZ1bmN0aW9uIGNhbGN1bGF0ZVRyaW1tZWRWZXJ0aWNlcyAoKVxuICAgIHtcbiAgICAgICAgaWYgKCF0aGlzLnZlcnRleFRyaW1tZWREYXRhKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnZlcnRleFRyaW1tZWREYXRhID0gbmV3IEZsb2F0MzJBcnJheSg4KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLl90cmFuc2Zvcm1UcmltbWVkSUQgPT09IHRoaXMudHJhbnNmb3JtLl93b3JsZElEICYmIHRoaXMuX3RleHR1cmVUcmltbWVkSUQgPT09IHRoaXMuX3RleHR1cmUuX3VwZGF0ZUlEKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl90cmFuc2Zvcm1UcmltbWVkSUQgPSB0aGlzLnRyYW5zZm9ybS5fd29ybGRJRDtcbiAgICAgICAgdGhpcy5fdGV4dHVyZVRyaW1tZWRJRCA9IHRoaXMuX3RleHR1cmUuX3VwZGF0ZUlEO1xuXG4gICAgICAgIC8vIGxldHMgZG8gc29tZSBzcGVjaWFsIHRyaW0gY29kZSFcbiAgICAgICAgdmFyIHRleHR1cmUgPSB0aGlzLl90ZXh0dXJlO1xuICAgICAgICB2YXIgdmVydGV4RGF0YSA9IHRoaXMudmVydGV4VHJpbW1lZERhdGE7XG4gICAgICAgIHZhciBvcmlnID0gdGV4dHVyZS5vcmlnO1xuICAgICAgICB2YXIgYW5jaG9yID0gdGhpcy5fYW5jaG9yO1xuXG4gICAgICAgIC8vIGxldHMgY2FsY3VsYXRlIHRoZSBuZXcgdW50cmltbWVkIGJvdW5kcy4uXG4gICAgICAgIHZhciB3dCA9IHRoaXMudHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtO1xuICAgICAgICB2YXIgYSA9IHd0LmE7XG4gICAgICAgIHZhciBiID0gd3QuYjtcbiAgICAgICAgdmFyIGMgPSB3dC5jO1xuICAgICAgICB2YXIgZCA9IHd0LmQ7XG4gICAgICAgIHZhciB0eCA9IHd0LnR4O1xuICAgICAgICB2YXIgdHkgPSB3dC50eTtcblxuICAgICAgICB2YXIgdzEgPSAtYW5jaG9yLl94ICogb3JpZy53aWR0aDtcbiAgICAgICAgdmFyIHcwID0gdzEgKyBvcmlnLndpZHRoO1xuXG4gICAgICAgIHZhciBoMSA9IC1hbmNob3IuX3kgKiBvcmlnLmhlaWdodDtcbiAgICAgICAgdmFyIGgwID0gaDEgKyBvcmlnLmhlaWdodDtcblxuICAgICAgICAvLyB4eVxuICAgICAgICB2ZXJ0ZXhEYXRhWzBdID0gKGEgKiB3MSkgKyAoYyAqIGgxKSArIHR4O1xuICAgICAgICB2ZXJ0ZXhEYXRhWzFdID0gKGQgKiBoMSkgKyAoYiAqIHcxKSArIHR5O1xuXG4gICAgICAgIC8vIHh5XG4gICAgICAgIHZlcnRleERhdGFbMl0gPSAoYSAqIHcwKSArIChjICogaDEpICsgdHg7XG4gICAgICAgIHZlcnRleERhdGFbM10gPSAoZCAqIGgxKSArIChiICogdzApICsgdHk7XG5cbiAgICAgICAgLy8geHlcbiAgICAgICAgdmVydGV4RGF0YVs0XSA9IChhICogdzApICsgKGMgKiBoMCkgKyB0eDtcbiAgICAgICAgdmVydGV4RGF0YVs1XSA9IChkICogaDApICsgKGIgKiB3MCkgKyB0eTtcblxuICAgICAgICAvLyB4eVxuICAgICAgICB2ZXJ0ZXhEYXRhWzZdID0gKGEgKiB3MSkgKyAoYyAqIGgwKSArIHR4O1xuICAgICAgICB2ZXJ0ZXhEYXRhWzddID0gKGQgKiBoMCkgKyAoYiAqIHcxKSArIHR5O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAqXG4gICAgKiBSZW5kZXJzIHRoZSBvYmplY3QgdXNpbmcgdGhlIFdlYkdMIHJlbmRlcmVyXG4gICAgKlxuICAgICogQHByb3RlY3RlZFxuICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSB3ZWJnbCByZW5kZXJlciB0byB1c2UuXG4gICAgKi9cbiAgICBTcHJpdGUucHJvdG90eXBlLl9yZW5kZXIgPSBmdW5jdGlvbiBfcmVuZGVyIChyZW5kZXJlcilcbiAgICB7XG4gICAgICAgIHRoaXMuY2FsY3VsYXRlVmVydGljZXMoKTtcblxuICAgICAgICByZW5kZXJlci5iYXRjaC5zZXRPYmplY3RSZW5kZXJlcihyZW5kZXJlci5wbHVnaW5zW3RoaXMucGx1Z2luTmFtZV0pO1xuICAgICAgICByZW5kZXJlci5wbHVnaW5zW3RoaXMucGx1Z2luTmFtZV0ucmVuZGVyKHRoaXMpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBib3VuZHMgb2YgdGhlIHNwcml0ZS5cbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBTcHJpdGUucHJvdG90eXBlLl9jYWxjdWxhdGVCb3VuZHMgPSBmdW5jdGlvbiBfY2FsY3VsYXRlQm91bmRzICgpXG4gICAge1xuICAgICAgICB2YXIgdHJpbSA9IHRoaXMuX3RleHR1cmUudHJpbTtcbiAgICAgICAgdmFyIG9yaWcgPSB0aGlzLl90ZXh0dXJlLm9yaWc7XG5cbiAgICAgICAgLy8gRmlyc3QgbGV0cyBjaGVjayB0byBzZWUgaWYgdGhlIGN1cnJlbnQgdGV4dHVyZSBoYXMgYSB0cmltLi5cbiAgICAgICAgaWYgKCF0cmltIHx8ICh0cmltLndpZHRoID09PSBvcmlnLndpZHRoICYmIHRyaW0uaGVpZ2h0ID09PSBvcmlnLmhlaWdodCkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIG5vIHRyaW0hIGxldHMgdXNlIHRoZSB1c3VhbCBjYWxjdWxhdGlvbnMuLlxuICAgICAgICAgICAgdGhpcy5jYWxjdWxhdGVWZXJ0aWNlcygpO1xuICAgICAgICAgICAgdGhpcy5fYm91bmRzLmFkZFF1YWQodGhpcy52ZXJ0ZXhEYXRhKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIGxldHMgY2FsY3VsYXRlIGEgc3BlY2lhbCB0cmltbWVkIGJvdW5kcy4uLlxuICAgICAgICAgICAgdGhpcy5jYWxjdWxhdGVUcmltbWVkVmVydGljZXMoKTtcbiAgICAgICAgICAgIHRoaXMuX2JvdW5kcy5hZGRRdWFkKHRoaXMudmVydGV4VHJpbW1lZERhdGEpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGxvY2FsIGJvdW5kcyBvZiB0aGUgc3ByaXRlIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IFtyZWN0XSAtIFRoZSBvdXRwdXQgcmVjdGFuZ2xlLlxuICAgICAqIEByZXR1cm4ge1BJWEkuUmVjdGFuZ2xlfSBUaGUgYm91bmRzLlxuICAgICAqL1xuICAgIFNwcml0ZS5wcm90b3R5cGUuZ2V0TG9jYWxCb3VuZHMgPSBmdW5jdGlvbiBnZXRMb2NhbEJvdW5kcyAocmVjdClcbiAgICB7XG4gICAgICAgIC8vIHdlIGNhbiBkbyBhIGZhc3QgbG9jYWwgYm91bmRzIGlmIHRoZSBzcHJpdGUgaGFzIG5vIGNoaWxkcmVuIVxuICAgICAgICBpZiAodGhpcy5jaGlsZHJlbi5sZW5ndGggPT09IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2JvdW5kcy5taW5YID0gdGhpcy5fdGV4dHVyZS5vcmlnLndpZHRoICogLXRoaXMuX2FuY2hvci5feDtcbiAgICAgICAgICAgIHRoaXMuX2JvdW5kcy5taW5ZID0gdGhpcy5fdGV4dHVyZS5vcmlnLmhlaWdodCAqIC10aGlzLl9hbmNob3IuX3k7XG4gICAgICAgICAgICB0aGlzLl9ib3VuZHMubWF4WCA9IHRoaXMuX3RleHR1cmUub3JpZy53aWR0aCAqICgxIC0gdGhpcy5fYW5jaG9yLl94KTtcbiAgICAgICAgICAgIHRoaXMuX2JvdW5kcy5tYXhZID0gdGhpcy5fdGV4dHVyZS5vcmlnLmhlaWdodCAqICgxIC0gdGhpcy5fYW5jaG9yLl95KTtcblxuICAgICAgICAgICAgaWYgKCFyZWN0KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5fbG9jYWxCb3VuZHNSZWN0KVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbG9jYWxCb3VuZHNSZWN0ID0gbmV3IFJlY3RhbmdsZSgpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJlY3QgPSB0aGlzLl9sb2NhbEJvdW5kc1JlY3Q7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9ib3VuZHMuZ2V0UmVjdGFuZ2xlKHJlY3QpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIENvbnRhaW5lci5wcm90b3R5cGUuZ2V0TG9jYWxCb3VuZHMuY2FsbCh0aGlzLCByZWN0KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGVzdHMgaWYgYSBwb2ludCBpcyBpbnNpZGUgdGhpcyBzcHJpdGVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5Qb2ludH0gcG9pbnQgLSB0aGUgcG9pbnQgdG8gdGVzdFxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IHRoZSByZXN1bHQgb2YgdGhlIHRlc3RcbiAgICAgKi9cbiAgICBTcHJpdGUucHJvdG90eXBlLmNvbnRhaW5zUG9pbnQgPSBmdW5jdGlvbiBjb250YWluc1BvaW50IChwb2ludClcbiAgICB7XG4gICAgICAgIHRoaXMud29ybGRUcmFuc2Zvcm0uYXBwbHlJbnZlcnNlKHBvaW50LCB0ZW1wUG9pbnQpO1xuXG4gICAgICAgIHZhciB3aWR0aCA9IHRoaXMuX3RleHR1cmUub3JpZy53aWR0aDtcbiAgICAgICAgdmFyIGhlaWdodCA9IHRoaXMuX3RleHR1cmUub3JpZy5oZWlnaHQ7XG4gICAgICAgIHZhciB4MSA9IC13aWR0aCAqIHRoaXMuYW5jaG9yLng7XG4gICAgICAgIHZhciB5MSA9IDA7XG5cbiAgICAgICAgaWYgKHRlbXBQb2ludC54ID49IHgxICYmIHRlbXBQb2ludC54IDwgeDEgKyB3aWR0aClcbiAgICAgICAge1xuICAgICAgICAgICAgeTEgPSAtaGVpZ2h0ICogdGhpcy5hbmNob3IueTtcblxuICAgICAgICAgICAgaWYgKHRlbXBQb2ludC55ID49IHkxICYmIHRlbXBQb2ludC55IDwgeTEgKyBoZWlnaHQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoaXMgc3ByaXRlIGFuZCBvcHRpb25hbGx5IGl0cyB0ZXh0dXJlIGFuZCBjaGlsZHJlblxuICAgICAqXG4gICAgICogQHBhcmFtIHtvYmplY3R8Ym9vbGVhbn0gW29wdGlvbnNdIC0gT3B0aW9ucyBwYXJhbWV0ZXIuIEEgYm9vbGVhbiB3aWxsIGFjdCBhcyBpZiBhbGwgb3B0aW9uc1xuICAgICAqICBoYXZlIGJlZW4gc2V0IHRvIHRoYXQgdmFsdWVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNoaWxkcmVuPWZhbHNlXSAtIGlmIHNldCB0byB0cnVlLCBhbGwgdGhlIGNoaWxkcmVuIHdpbGwgaGF2ZSB0aGVpciBkZXN0cm95XG4gICAgICogICAgICBtZXRob2QgY2FsbGVkIGFzIHdlbGwuICdvcHRpb25zJyB3aWxsIGJlIHBhc3NlZCBvbiB0byB0aG9zZSBjYWxscy5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnRleHR1cmU9ZmFsc2VdIC0gU2hvdWxkIGl0IGRlc3Ryb3kgdGhlIGN1cnJlbnQgdGV4dHVyZSBvZiB0aGUgc3ByaXRlIGFzIHdlbGxcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmJhc2VUZXh0dXJlPWZhbHNlXSAtIFNob3VsZCBpdCBkZXN0cm95IHRoZSBiYXNlIHRleHR1cmUgb2YgdGhlIHNwcml0ZSBhcyB3ZWxsXG4gICAgICovXG4gICAgU3ByaXRlLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSAob3B0aW9ucylcbiAgICB7XG4gICAgICAgIENvbnRhaW5lci5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMsIG9wdGlvbnMpO1xuXG4gICAgICAgIHRoaXMuX3RleHR1cmUub2ZmKCd1cGRhdGUnLCB0aGlzLl9vblRleHR1cmVVcGRhdGUsIHRoaXMpO1xuXG4gICAgICAgIHRoaXMuX2FuY2hvciA9IG51bGw7XG5cbiAgICAgICAgdmFyIGRlc3Ryb3lUZXh0dXJlID0gdHlwZW9mIG9wdGlvbnMgPT09ICdib29sZWFuJyA/IG9wdGlvbnMgOiBvcHRpb25zICYmIG9wdGlvbnMudGV4dHVyZTtcblxuICAgICAgICBpZiAoZGVzdHJveVRleHR1cmUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBkZXN0cm95QmFzZVRleHR1cmUgPSB0eXBlb2Ygb3B0aW9ucyA9PT0gJ2Jvb2xlYW4nID8gb3B0aW9ucyA6IG9wdGlvbnMgJiYgb3B0aW9ucy5iYXNlVGV4dHVyZTtcblxuICAgICAgICAgICAgdGhpcy5fdGV4dHVyZS5kZXN0cm95KCEhZGVzdHJveUJhc2VUZXh0dXJlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3RleHR1cmUgPSBudWxsO1xuICAgICAgICB0aGlzLnNoYWRlciA9IG51bGw7XG4gICAgfTtcblxuICAgIC8vIHNvbWUgaGVscGVyIGZ1bmN0aW9ucy4uXG5cbiAgICAvKipcbiAgICAgKiBIZWxwZXIgZnVuY3Rpb24gdGhhdCBjcmVhdGVzIGEgbmV3IHNwcml0ZSBiYXNlZCBvbiB0aGUgc291cmNlIHlvdSBwcm92aWRlLlxuICAgICAqIFRoZSBzb3VyY2UgY2FuIGJlIC0gZnJhbWUgaWQsIGltYWdlIHVybCwgdmlkZW8gdXJsLCBjYW52YXMgZWxlbWVudCwgdmlkZW8gZWxlbWVudCwgYmFzZSB0ZXh0dXJlXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtudW1iZXJ8c3RyaW5nfFBJWEkuVGV4dHVyZXxIVE1MQ2FudmFzRWxlbWVudHxIVE1MVmlkZW9FbGVtZW50fSBzb3VyY2UgU291cmNlIHRvIGNyZWF0ZSB0ZXh0dXJlIGZyb21cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIFNlZSB7QGxpbmsgUElYSS5CYXNlVGV4dHVyZX0ncyBjb25zdHJ1Y3RvciBmb3Igb3B0aW9ucy5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlNwcml0ZX0gVGhlIG5ld2x5IGNyZWF0ZWQgc3ByaXRlXG4gICAgICovXG4gICAgU3ByaXRlLmZyb20gPSBmdW5jdGlvbiBmcm9tIChzb3VyY2UsIG9wdGlvbnMpXG4gICAge1xuICAgICAgICB2YXIgdGV4dHVyZSA9IChzb3VyY2UgaW5zdGFuY2VvZiBUZXh0dXJlKVxuICAgICAgICAgICAgPyBzb3VyY2VcbiAgICAgICAgICAgIDogVGV4dHVyZS5mcm9tKHNvdXJjZSwgb3B0aW9ucyk7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBTcHJpdGUodGV4dHVyZSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIElmIHRydWUgUGl4aUpTIHdpbGwgTWF0aC5mbG9vcigpIHgveSB2YWx1ZXMgd2hlbiByZW5kZXJpbmcsIHN0b3BwaW5nIHBpeGVsIGludGVycG9sYXRpb24uXG4gICAgICogQWR2YW50YWdlcyBjYW4gaW5jbHVkZSBzaGFycGVyIGltYWdlIHF1YWxpdHkgKGxpa2UgdGV4dCkgYW5kIGZhc3RlciByZW5kZXJpbmcgb24gY2FudmFzLlxuICAgICAqIFRoZSBtYWluIGRpc2FkdmFudGFnZSBpcyBtb3ZlbWVudCBvZiBvYmplY3RzIG1heSBhcHBlYXIgbGVzcyBzbW9vdGguXG4gICAgICogVG8gc2V0IHRoZSBnbG9iYWwgZGVmYXVsdCwgY2hhbmdlIHtAbGluayBQSVhJLnNldHRpbmdzLlJPVU5EX1BJWEVMU31cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMucm91bmRQaXhlbHMuc2V0ID0gZnVuY3Rpb24gKHZhbHVlKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuX3JvdW5kUGl4ZWxzICE9PSB2YWx1ZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fdHJhbnNmb3JtSUQgPSAtMTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9yb3VuZFBpeGVscyA9IHZhbHVlO1xuICAgIH07XG5cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMucm91bmRQaXhlbHMuZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yb3VuZFBpeGVscztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIHdpZHRoIG9mIHRoZSBzcHJpdGUsIHNldHRpbmcgdGhpcyB3aWxsIGFjdHVhbGx5IG1vZGlmeSB0aGUgc2NhbGUgdG8gYWNoaWV2ZSB0aGUgdmFsdWUgc2V0XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLndpZHRoLmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gTWF0aC5hYnModGhpcy5zY2FsZS54KSAqIHRoaXMuX3RleHR1cmUub3JpZy53aWR0aDtcbiAgICB9O1xuXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLndpZHRoLnNldCA9IGZ1bmN0aW9uICh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICB2YXIgcyA9IHNpZ24odGhpcy5zY2FsZS54KSB8fCAxO1xuXG4gICAgICAgIHRoaXMuc2NhbGUueCA9IHMgKiB2YWx1ZSAvIHRoaXMuX3RleHR1cmUub3JpZy53aWR0aDtcbiAgICAgICAgdGhpcy5fd2lkdGggPSB2YWx1ZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIGhlaWdodCBvZiB0aGUgc3ByaXRlLCBzZXR0aW5nIHRoaXMgd2lsbCBhY3R1YWxseSBtb2RpZnkgdGhlIHNjYWxlIHRvIGFjaGlldmUgdGhlIHZhbHVlIHNldFxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5oZWlnaHQuZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHJldHVybiBNYXRoLmFicyh0aGlzLnNjYWxlLnkpICogdGhpcy5fdGV4dHVyZS5vcmlnLmhlaWdodDtcbiAgICB9O1xuXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLmhlaWdodC5zZXQgPSBmdW5jdGlvbiAodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgdmFyIHMgPSBzaWduKHRoaXMuc2NhbGUueSkgfHwgMTtcblxuICAgICAgICB0aGlzLnNjYWxlLnkgPSBzICogdmFsdWUgLyB0aGlzLl90ZXh0dXJlLm9yaWcuaGVpZ2h0O1xuICAgICAgICB0aGlzLl9oZWlnaHQgPSB2YWx1ZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIGFuY2hvciBzZXRzIHRoZSBvcmlnaW4gcG9pbnQgb2YgdGhlIHRleHQuIFRoZSBkZWZhdWx0IHZhbHVlIGlzIHRha2VuIGZyb20gdGhlIHtAbGluayBQSVhJLlRleHR1cmV8VGV4dHVyZX1cbiAgICAgKiBhbmQgcGFzc2VkIHRvIHRoZSBjb25zdHJ1Y3Rvci5cbiAgICAgKlxuICAgICAqIFRoZSBkZWZhdWx0IGlzIGAoMCwwKWAsIHRoaXMgbWVhbnMgdGhlIHRleHQncyBvcmlnaW4gaXMgdGhlIHRvcCBsZWZ0LlxuICAgICAqXG4gICAgICogU2V0dGluZyB0aGUgYW5jaG9yIHRvIGAoMC41LDAuNSlgIG1lYW5zIHRoZSB0ZXh0J3Mgb3JpZ2luIGlzIGNlbnRlcmVkLlxuICAgICAqXG4gICAgICogU2V0dGluZyB0aGUgYW5jaG9yIHRvIGAoMSwxKWAgd291bGQgbWVhbiB0aGUgdGV4dCdzIG9yaWdpbiBwb2ludCB3aWxsIGJlIHRoZSBib3R0b20gcmlnaHQgY29ybmVyLlxuICAgICAqXG4gICAgICogSWYgeW91IHBhc3Mgb25seSBzaW5nbGUgcGFyYW1ldGVyLCBpdCB3aWxsIHNldCBib3RoIHggYW5kIHkgdG8gdGhlIHNhbWUgdmFsdWUgYXMgc2hvd24gaW4gdGhlIGV4YW1wbGUgYmVsb3cuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGNvbnN0IHNwcml0ZSA9IG5ldyBQSVhJLlNwcml0ZSh0ZXh0dXJlKTtcbiAgICAgKiBzcHJpdGUuYW5jaG9yLnNldCgwLjUpOyAvLyBUaGlzIHdpbGwgc2V0IHRoZSBvcmlnaW4gdG8gY2VudGVyLiAoMC41KSBpcyBzYW1lIGFzICgwLjUsIDAuNSkuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLk9ic2VydmFibGVQb2ludH1cbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMuYW5jaG9yLmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fYW5jaG9yO1xuICAgIH07XG5cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMuYW5jaG9yLnNldCA9IGZ1bmN0aW9uICh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICB0aGlzLl9hbmNob3IuY29weUZyb20odmFsdWUpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdGludCBhcHBsaWVkIHRvIHRoZSBzcHJpdGUuIFRoaXMgaXMgYSBoZXggdmFsdWUuXG4gICAgICogQSB2YWx1ZSBvZiAweEZGRkZGRiB3aWxsIHJlbW92ZSBhbnkgdGludCBlZmZlY3QuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMHhGRkZGRkZcbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMudGludC5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RpbnQ7XG4gICAgfTtcblxuICAgIHByb3RvdHlwZUFjY2Vzc29ycy50aW50LnNldCA9IGZ1bmN0aW9uICh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICB0aGlzLl90aW50ID0gdmFsdWU7XG4gICAgICAgIHRoaXMuX3RpbnRSR0IgPSAodmFsdWUgPj4gMTYpICsgKHZhbHVlICYgMHhmZjAwKSArICgodmFsdWUgJiAweGZmKSA8PCAxNik7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSB0ZXh0dXJlIHRoYXQgdGhlIHNwcml0ZSBpcyB1c2luZ1xuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5UZXh0dXJlfVxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy50ZXh0dXJlLmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fdGV4dHVyZTtcbiAgICB9O1xuXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLnRleHR1cmUuc2V0ID0gZnVuY3Rpb24gKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLl90ZXh0dXJlID09PSB2YWx1ZSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX3RleHR1cmUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX3RleHR1cmUub2ZmKCd1cGRhdGUnLCB0aGlzLl9vblRleHR1cmVVcGRhdGUsIHRoaXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fdGV4dHVyZSA9IHZhbHVlIHx8IFRleHR1cmUuRU1QVFk7XG4gICAgICAgIHRoaXMuX2NhY2hlZFRpbnQgPSAweEZGRkZGRjtcblxuICAgICAgICB0aGlzLl90ZXh0dXJlSUQgPSAtMTtcbiAgICAgICAgdGhpcy5fdGV4dHVyZVRyaW1tZWRJRCA9IC0xO1xuXG4gICAgICAgIGlmICh2YWx1ZSlcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gd2FpdCBmb3IgdGhlIHRleHR1cmUgdG8gbG9hZFxuICAgICAgICAgICAgaWYgKHZhbHVlLmJhc2VUZXh0dXJlLnZhbGlkKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuX29uVGV4dHVyZVVwZGF0ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHZhbHVlLm9uY2UoJ3VwZGF0ZScsIHRoaXMuX29uVGV4dHVyZVVwZGF0ZSwgdGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoIFNwcml0ZS5wcm90b3R5cGUsIHByb3RvdHlwZUFjY2Vzc29ycyApO1xuXG4gICAgcmV0dXJuIFNwcml0ZTtcbn0oQ29udGFpbmVyKSk7XG5cbmV4cG9ydCB7IFNwcml0ZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3ByaXRlLmVzLmpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS90ZXh0IC0gdjUuMi4wXG4gKiBDb21waWxlZCBXZWQsIDA2IE5vdiAyMDE5IDAyOjMyOjQzIFVUQ1xuICpcbiAqIEBwaXhpL3RleHQgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5pbXBvcnQgeyBTcHJpdGUgfSBmcm9tICdAcGl4aS9zcHJpdGUnO1xuaW1wb3J0IHsgVGV4dHVyZSB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuaW1wb3J0IHsgc2V0dGluZ3MgfSBmcm9tICdAcGl4aS9zZXR0aW5ncyc7XG5pbXBvcnQgeyBSZWN0YW5nbGUgfSBmcm9tICdAcGl4aS9tYXRoJztcbmltcG9ydCB7IGhleDJzdHJpbmcsIGhleDJyZ2IsIHN0cmluZzJoZXgsIHRyaW1DYW52YXMsIHNpZ24gfSBmcm9tICdAcGl4aS91dGlscyc7XG5cbi8qKlxuICogQ29uc3RhbnRzIHRoYXQgZGVmaW5lIHRoZSB0eXBlIG9mIGdyYWRpZW50IG9uIHRleHQuXG4gKlxuICogQHN0YXRpY1xuICogQGNvbnN0YW50XG4gKiBAbmFtZSBURVhUX0dSQURJRU5UXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHR5cGUge29iamVjdH1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBMSU5FQVJfVkVSVElDQUwgVmVydGljYWwgZ3JhZGllbnRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBMSU5FQVJfSE9SSVpPTlRBTCBMaW5lYXIgZ3JhZGllbnRcbiAqL1xudmFyIFRFWFRfR1JBRElFTlQgPSB7XG4gICAgTElORUFSX1ZFUlRJQ0FMOiAwLFxuICAgIExJTkVBUl9IT1JJWk9OVEFMOiAxLFxufTtcblxuLy8gZGlzYWJsaW5nIGVzbGludCBmb3Igbm93LCBnb2luZyB0byByZXdyaXRlIHRoaXMgaW4gdjVcblxudmFyIGRlZmF1bHRTdHlsZSA9IHtcbiAgICBhbGlnbjogJ2xlZnQnLFxuICAgIGJyZWFrV29yZHM6IGZhbHNlLFxuICAgIGRyb3BTaGFkb3c6IGZhbHNlLFxuICAgIGRyb3BTaGFkb3dBbHBoYTogMSxcbiAgICBkcm9wU2hhZG93QW5nbGU6IE1hdGguUEkgLyA2LFxuICAgIGRyb3BTaGFkb3dCbHVyOiAwLFxuICAgIGRyb3BTaGFkb3dDb2xvcjogJ2JsYWNrJyxcbiAgICBkcm9wU2hhZG93RGlzdGFuY2U6IDUsXG4gICAgZmlsbDogJ2JsYWNrJyxcbiAgICBmaWxsR3JhZGllbnRUeXBlOiBURVhUX0dSQURJRU5ULkxJTkVBUl9WRVJUSUNBTCxcbiAgICBmaWxsR3JhZGllbnRTdG9wczogW10sXG4gICAgZm9udEZhbWlseTogJ0FyaWFsJyxcbiAgICBmb250U2l6ZTogMjYsXG4gICAgZm9udFN0eWxlOiAnbm9ybWFsJyxcbiAgICBmb250VmFyaWFudDogJ25vcm1hbCcsXG4gICAgZm9udFdlaWdodDogJ25vcm1hbCcsXG4gICAgbGV0dGVyU3BhY2luZzogMCxcbiAgICBsaW5lSGVpZ2h0OiAwLFxuICAgIGxpbmVKb2luOiAnbWl0ZXInLFxuICAgIG1pdGVyTGltaXQ6IDEwLFxuICAgIHBhZGRpbmc6IDAsXG4gICAgc3Ryb2tlOiAnYmxhY2snLFxuICAgIHN0cm9rZVRoaWNrbmVzczogMCxcbiAgICB0ZXh0QmFzZWxpbmU6ICdhbHBoYWJldGljJyxcbiAgICB0cmltOiBmYWxzZSxcbiAgICB3aGl0ZVNwYWNlOiAncHJlJyxcbiAgICB3b3JkV3JhcDogZmFsc2UsXG4gICAgd29yZFdyYXBXaWR0aDogMTAwLFxuICAgIGxlYWRpbmc6IDAsXG59O1xuXG52YXIgZ2VuZXJpY0ZvbnRGYW1pbGllcyA9IFtcbiAgICAnc2VyaWYnLFxuICAgICdzYW5zLXNlcmlmJyxcbiAgICAnbW9ub3NwYWNlJyxcbiAgICAnY3Vyc2l2ZScsXG4gICAgJ2ZhbnRhc3knLFxuICAgICdzeXN0ZW0tdWknIF07XG5cbi8qKlxuICogQSBUZXh0U3R5bGUgT2JqZWN0IGNvbnRhaW5zIGluZm9ybWF0aW9uIHRvIGRlY29yYXRlIGEgVGV4dCBvYmplY3RzLlxuICpcbiAqIEFuIGluc3RhbmNlIGNhbiBiZSBzaGFyZWQgYmV0d2VlbiBtdWx0aXBsZSBUZXh0IG9iamVjdHM7IHRoZW4gY2hhbmdpbmcgdGhlIHN0eWxlIHdpbGwgdXBkYXRlIGFsbCB0ZXh0IG9iamVjdHMgdXNpbmcgaXQuXG4gKlxuICogQSB0b29sIGNhbiBiZSB1c2VkIHRvIGdlbmVyYXRlIGEgdGV4dCBzdHlsZSBbaGVyZV0oaHR0cHM6Ly9waXhpanMuaW8vcGl4aS10ZXh0LXN0eWxlKS5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBUZXh0U3R5bGUgPSBmdW5jdGlvbiBUZXh0U3R5bGUoc3R5bGUpXG57XG4gICAgdGhpcy5zdHlsZUlEID0gMDtcblxuICAgIHRoaXMucmVzZXQoKTtcblxuICAgIGRlZXBDb3B5UHJvcGVydGllcyh0aGlzLCBzdHlsZSwgc3R5bGUpO1xufTtcblxudmFyIHByb3RvdHlwZUFjY2Vzc29ycyA9IHsgYWxpZ246IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sYnJlYWtXb3JkczogeyBjb25maWd1cmFibGU6IHRydWUgfSxkcm9wU2hhZG93OiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LGRyb3BTaGFkb3dBbHBoYTogeyBjb25maWd1cmFibGU6IHRydWUgfSxkcm9wU2hhZG93QW5nbGU6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sZHJvcFNoYWRvd0JsdXI6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sZHJvcFNoYWRvd0NvbG9yOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LGRyb3BTaGFkb3dEaXN0YW5jZTogeyBjb25maWd1cmFibGU6IHRydWUgfSxmaWxsOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LGZpbGxHcmFkaWVudFR5cGU6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sZmlsbEdyYWRpZW50U3RvcHM6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sZm9udEZhbWlseTogeyBjb25maWd1cmFibGU6IHRydWUgfSxmb250U2l6ZTogeyBjb25maWd1cmFibGU6IHRydWUgfSxmb250U3R5bGU6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sZm9udFZhcmlhbnQ6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sZm9udFdlaWdodDogeyBjb25maWd1cmFibGU6IHRydWUgfSxsZXR0ZXJTcGFjaW5nOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LGxpbmVIZWlnaHQ6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sbGVhZGluZzogeyBjb25maWd1cmFibGU6IHRydWUgfSxsaW5lSm9pbjogeyBjb25maWd1cmFibGU6IHRydWUgfSxtaXRlckxpbWl0OiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LHBhZGRpbmc6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sc3Ryb2tlOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LHN0cm9rZVRoaWNrbmVzczogeyBjb25maWd1cmFibGU6IHRydWUgfSx0ZXh0QmFzZWxpbmU6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sdHJpbTogeyBjb25maWd1cmFibGU6IHRydWUgfSx3aGl0ZVNwYWNlOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LHdvcmRXcmFwOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LHdvcmRXcmFwV2lkdGg6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0gfTtcblxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IFRleHRTdHlsZSBvYmplY3Qgd2l0aCB0aGUgc2FtZSB2YWx1ZXMgYXMgdGhpcyBvbmUuXG4gKiBOb3RlIHRoYXQgdGhlIG9ubHkgdGhlIHByb3BlcnRpZXMgb2YgdGhlIG9iamVjdCBhcmUgY2xvbmVkLlxuICpcbiAqIEByZXR1cm4ge1BJWEkuVGV4dFN0eWxlfSBOZXcgY2xvbmVkIFRleHRTdHlsZSBvYmplY3RcbiAqL1xuVGV4dFN0eWxlLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uIGNsb25lICgpXG57XG4gICAgdmFyIGNsb25lZFByb3BlcnRpZXMgPSB7fTtcblxuICAgIGRlZXBDb3B5UHJvcGVydGllcyhjbG9uZWRQcm9wZXJ0aWVzLCB0aGlzLCBkZWZhdWx0U3R5bGUpO1xuXG4gICAgcmV0dXJuIG5ldyBUZXh0U3R5bGUoY2xvbmVkUHJvcGVydGllcyk7XG59O1xuXG4vKipcbiAqIFJlc2V0cyBhbGwgcHJvcGVydGllcyB0byB0aGUgZGVmYXVsdHMgc3BlY2lmaWVkIGluIFRleHRTdHlsZS5wcm90b3R5cGUuX2RlZmF1bHRcbiAqL1xuVGV4dFN0eWxlLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uIHJlc2V0ICgpXG57XG4gICAgZGVlcENvcHlQcm9wZXJ0aWVzKHRoaXMsIGRlZmF1bHRTdHlsZSwgZGVmYXVsdFN0eWxlKTtcbn07XG5cbi8qKlxuICogQWxpZ25tZW50IGZvciBtdWx0aWxpbmUgdGV4dCAoJ2xlZnQnLCAnY2VudGVyJyBvciAncmlnaHQnKSwgZG9lcyBub3QgYWZmZWN0IHNpbmdsZSBsaW5lIHRleHRcbiAqXG4gKiBAbWVtYmVyIHtzdHJpbmd9XG4gKi9cbnByb3RvdHlwZUFjY2Vzc29ycy5hbGlnbi5nZXQgPSBmdW5jdGlvbiAoKVxue1xuICAgIHJldHVybiB0aGlzLl9hbGlnbjtcbn07XG5wcm90b3R5cGVBY2Nlc3NvcnMuYWxpZ24uc2V0ID0gZnVuY3Rpb24gKGFsaWduKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbntcbiAgICBpZiAodGhpcy5fYWxpZ24gIT09IGFsaWduKVxuICAgIHtcbiAgICAgICAgdGhpcy5fYWxpZ24gPSBhbGlnbjtcbiAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgfVxufTtcblxuLyoqXG4gKiBJbmRpY2F0ZXMgaWYgbGluZXMgY2FuIGJlIHdyYXBwZWQgd2l0aGluIHdvcmRzLCBpdCBuZWVkcyB3b3JkV3JhcCB0byBiZSBzZXQgdG8gdHJ1ZVxuICpcbiAqIEBtZW1iZXIge2Jvb2xlYW59XG4gKi9cbnByb3RvdHlwZUFjY2Vzc29ycy5icmVha1dvcmRzLmdldCA9IGZ1bmN0aW9uICgpXG57XG4gICAgcmV0dXJuIHRoaXMuX2JyZWFrV29yZHM7XG59O1xucHJvdG90eXBlQWNjZXNzb3JzLmJyZWFrV29yZHMuc2V0ID0gZnVuY3Rpb24gKGJyZWFrV29yZHMpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xue1xuICAgIGlmICh0aGlzLl9icmVha1dvcmRzICE9PSBicmVha1dvcmRzKVxuICAgIHtcbiAgICAgICAgdGhpcy5fYnJlYWtXb3JkcyA9IGJyZWFrV29yZHM7XG4gICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgIH1cbn07XG5cbi8qKlxuICogU2V0IGEgZHJvcCBzaGFkb3cgZm9yIHRoZSB0ZXh0XG4gKlxuICogQG1lbWJlciB7Ym9vbGVhbn1cbiAqL1xucHJvdG90eXBlQWNjZXNzb3JzLmRyb3BTaGFkb3cuZ2V0ID0gZnVuY3Rpb24gKClcbntcbiAgICByZXR1cm4gdGhpcy5fZHJvcFNoYWRvdztcbn07XG5wcm90b3R5cGVBY2Nlc3NvcnMuZHJvcFNoYWRvdy5zZXQgPSBmdW5jdGlvbiAoZHJvcFNoYWRvdykgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG57XG4gICAgaWYgKHRoaXMuX2Ryb3BTaGFkb3cgIT09IGRyb3BTaGFkb3cpXG4gICAge1xuICAgICAgICB0aGlzLl9kcm9wU2hhZG93ID0gZHJvcFNoYWRvdztcbiAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgfVxufTtcblxuLyoqXG4gKiBTZXQgYWxwaGEgZm9yIHRoZSBkcm9wIHNoYWRvd1xuICpcbiAqIEBtZW1iZXIge251bWJlcn1cbiAqL1xucHJvdG90eXBlQWNjZXNzb3JzLmRyb3BTaGFkb3dBbHBoYS5nZXQgPSBmdW5jdGlvbiAoKVxue1xuICAgIHJldHVybiB0aGlzLl9kcm9wU2hhZG93QWxwaGE7XG59O1xucHJvdG90eXBlQWNjZXNzb3JzLmRyb3BTaGFkb3dBbHBoYS5zZXQgPSBmdW5jdGlvbiAoZHJvcFNoYWRvd0FscGhhKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbntcbiAgICBpZiAodGhpcy5fZHJvcFNoYWRvd0FscGhhICE9PSBkcm9wU2hhZG93QWxwaGEpXG4gICAge1xuICAgICAgICB0aGlzLl9kcm9wU2hhZG93QWxwaGEgPSBkcm9wU2hhZG93QWxwaGE7XG4gICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgIH1cbn07XG5cbi8qKlxuICogU2V0IGEgYW5nbGUgb2YgdGhlIGRyb3Agc2hhZG93XG4gKlxuICogQG1lbWJlciB7bnVtYmVyfVxuICovXG5wcm90b3R5cGVBY2Nlc3NvcnMuZHJvcFNoYWRvd0FuZ2xlLmdldCA9IGZ1bmN0aW9uICgpXG57XG4gICAgcmV0dXJuIHRoaXMuX2Ryb3BTaGFkb3dBbmdsZTtcbn07XG5wcm90b3R5cGVBY2Nlc3NvcnMuZHJvcFNoYWRvd0FuZ2xlLnNldCA9IGZ1bmN0aW9uIChkcm9wU2hhZG93QW5nbGUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xue1xuICAgIGlmICh0aGlzLl9kcm9wU2hhZG93QW5nbGUgIT09IGRyb3BTaGFkb3dBbmdsZSlcbiAgICB7XG4gICAgICAgIHRoaXMuX2Ryb3BTaGFkb3dBbmdsZSA9IGRyb3BTaGFkb3dBbmdsZTtcbiAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgfVxufTtcblxuLyoqXG4gKiBTZXQgYSBzaGFkb3cgYmx1ciByYWRpdXNcbiAqXG4gKiBAbWVtYmVyIHtudW1iZXJ9XG4gKi9cbnByb3RvdHlwZUFjY2Vzc29ycy5kcm9wU2hhZG93Qmx1ci5nZXQgPSBmdW5jdGlvbiAoKVxue1xuICAgIHJldHVybiB0aGlzLl9kcm9wU2hhZG93Qmx1cjtcbn07XG5wcm90b3R5cGVBY2Nlc3NvcnMuZHJvcFNoYWRvd0JsdXIuc2V0ID0gZnVuY3Rpb24gKGRyb3BTaGFkb3dCbHVyKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbntcbiAgICBpZiAodGhpcy5fZHJvcFNoYWRvd0JsdXIgIT09IGRyb3BTaGFkb3dCbHVyKVxuICAgIHtcbiAgICAgICAgdGhpcy5fZHJvcFNoYWRvd0JsdXIgPSBkcm9wU2hhZG93Qmx1cjtcbiAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgfVxufTtcblxuLyoqXG4gKiBBIGZpbGwgc3R5bGUgdG8gYmUgdXNlZCBvbiB0aGUgZHJvcHNoYWRvdyBlLmcgJ3JlZCcsICcjMDBGRjAwJ1xuICpcbiAqIEBtZW1iZXIge3N0cmluZ3xudW1iZXJ9XG4gKi9cbnByb3RvdHlwZUFjY2Vzc29ycy5kcm9wU2hhZG93Q29sb3IuZ2V0ID0gZnVuY3Rpb24gKClcbntcbiAgICByZXR1cm4gdGhpcy5fZHJvcFNoYWRvd0NvbG9yO1xufTtcbnByb3RvdHlwZUFjY2Vzc29ycy5kcm9wU2hhZG93Q29sb3Iuc2V0ID0gZnVuY3Rpb24gKGRyb3BTaGFkb3dDb2xvcikgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG57XG4gICAgdmFyIG91dHB1dENvbG9yID0gZ2V0Q29sb3IoZHJvcFNoYWRvd0NvbG9yKTtcbiAgICBpZiAodGhpcy5fZHJvcFNoYWRvd0NvbG9yICE9PSBvdXRwdXRDb2xvcilcbiAgICB7XG4gICAgICAgIHRoaXMuX2Ryb3BTaGFkb3dDb2xvciA9IG91dHB1dENvbG9yO1xuICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICB9XG59O1xuXG4vKipcbiAqIFNldCBhIGRpc3RhbmNlIG9mIHRoZSBkcm9wIHNoYWRvd1xuICpcbiAqIEBtZW1iZXIge251bWJlcn1cbiAqL1xucHJvdG90eXBlQWNjZXNzb3JzLmRyb3BTaGFkb3dEaXN0YW5jZS5nZXQgPSBmdW5jdGlvbiAoKVxue1xuICAgIHJldHVybiB0aGlzLl9kcm9wU2hhZG93RGlzdGFuY2U7XG59O1xucHJvdG90eXBlQWNjZXNzb3JzLmRyb3BTaGFkb3dEaXN0YW5jZS5zZXQgPSBmdW5jdGlvbiAoZHJvcFNoYWRvd0Rpc3RhbmNlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbntcbiAgICBpZiAodGhpcy5fZHJvcFNoYWRvd0Rpc3RhbmNlICE9PSBkcm9wU2hhZG93RGlzdGFuY2UpXG4gICAge1xuICAgICAgICB0aGlzLl9kcm9wU2hhZG93RGlzdGFuY2UgPSBkcm9wU2hhZG93RGlzdGFuY2U7XG4gICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgIH1cbn07XG5cbi8qKlxuICogQSBjYW52YXMgZmlsbHN0eWxlIHRoYXQgd2lsbCBiZSB1c2VkIG9uIHRoZSB0ZXh0IGUuZyAncmVkJywgJyMwMEZGMDAnLlxuICogQ2FuIGJlIGFuIGFycmF5IHRvIGNyZWF0ZSBhIGdyYWRpZW50IGVnIFsnIzAwMDAwMCcsJyNGRkZGRkYnXVxuICoge0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9DYW52YXNSZW5kZXJpbmdDb250ZXh0MkQvZmlsbFN0eWxlfE1ETn1cbiAqXG4gKiBAbWVtYmVyIHtzdHJpbmd8c3RyaW5nW118bnVtYmVyfG51bWJlcltdfENhbnZhc0dyYWRpZW50fENhbnZhc1BhdHRlcm59XG4gKi9cbnByb3RvdHlwZUFjY2Vzc29ycy5maWxsLmdldCA9IGZ1bmN0aW9uICgpXG57XG4gICAgcmV0dXJuIHRoaXMuX2ZpbGw7XG59O1xucHJvdG90eXBlQWNjZXNzb3JzLmZpbGwuc2V0ID0gZnVuY3Rpb24gKGZpbGwpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xue1xuICAgIHZhciBvdXRwdXRDb2xvciA9IGdldENvbG9yKGZpbGwpO1xuICAgIGlmICh0aGlzLl9maWxsICE9PSBvdXRwdXRDb2xvcilcbiAgICB7XG4gICAgICAgIHRoaXMuX2ZpbGwgPSBvdXRwdXRDb2xvcjtcbiAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgfVxufTtcblxuLyoqXG4gKiBJZiBmaWxsIGlzIGFuIGFycmF5IG9mIGNvbG91cnMgdG8gY3JlYXRlIGEgZ3JhZGllbnQsIHRoaXMgY2FuIGNoYW5nZSB0aGUgdHlwZS9kaXJlY3Rpb24gb2YgdGhlIGdyYWRpZW50LlxuICogU2VlIHtAbGluayBQSVhJLlRFWFRfR1JBRElFTlR9XG4gKlxuICogQG1lbWJlciB7bnVtYmVyfVxuICovXG5wcm90b3R5cGVBY2Nlc3NvcnMuZmlsbEdyYWRpZW50VHlwZS5nZXQgPSBmdW5jdGlvbiAoKVxue1xuICAgIHJldHVybiB0aGlzLl9maWxsR3JhZGllbnRUeXBlO1xufTtcbnByb3RvdHlwZUFjY2Vzc29ycy5maWxsR3JhZGllbnRUeXBlLnNldCA9IGZ1bmN0aW9uIChmaWxsR3JhZGllbnRUeXBlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbntcbiAgICBpZiAodGhpcy5fZmlsbEdyYWRpZW50VHlwZSAhPT0gZmlsbEdyYWRpZW50VHlwZSlcbiAgICB7XG4gICAgICAgIHRoaXMuX2ZpbGxHcmFkaWVudFR5cGUgPSBmaWxsR3JhZGllbnRUeXBlO1xuICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICB9XG59O1xuXG4vKipcbiAqIElmIGZpbGwgaXMgYW4gYXJyYXkgb2YgY29sb3VycyB0byBjcmVhdGUgYSBncmFkaWVudCwgdGhpcyBhcnJheSBjYW4gc2V0IHRoZSBzdG9wIHBvaW50c1xuICogKG51bWJlcnMgYmV0d2VlbiAwIGFuZCAxKSBmb3IgdGhlIGNvbG9yLCBvdmVycmlkaW5nIHRoZSBkZWZhdWx0IGJlaGF2aW91ciBvZiBldmVubHkgc3BhY2luZyB0aGVtLlxuICpcbiAqIEBtZW1iZXIge251bWJlcltdfVxuICovXG5wcm90b3R5cGVBY2Nlc3NvcnMuZmlsbEdyYWRpZW50U3RvcHMuZ2V0ID0gZnVuY3Rpb24gKClcbntcbiAgICByZXR1cm4gdGhpcy5fZmlsbEdyYWRpZW50U3RvcHM7XG59O1xucHJvdG90eXBlQWNjZXNzb3JzLmZpbGxHcmFkaWVudFN0b3BzLnNldCA9IGZ1bmN0aW9uIChmaWxsR3JhZGllbnRTdG9wcykgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG57XG4gICAgaWYgKCFhcmVBcnJheXNFcXVhbCh0aGlzLl9maWxsR3JhZGllbnRTdG9wcyxmaWxsR3JhZGllbnRTdG9wcykpXG4gICAge1xuICAgICAgICB0aGlzLl9maWxsR3JhZGllbnRTdG9wcyA9IGZpbGxHcmFkaWVudFN0b3BzO1xuICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICB9XG59O1xuXG4vKipcbiAqIFRoZSBmb250IGZhbWlseVxuICpcbiAqIEBtZW1iZXIge3N0cmluZ3xzdHJpbmdbXX1cbiAqL1xucHJvdG90eXBlQWNjZXNzb3JzLmZvbnRGYW1pbHkuZ2V0ID0gZnVuY3Rpb24gKClcbntcbiAgICByZXR1cm4gdGhpcy5fZm9udEZhbWlseTtcbn07XG5wcm90b3R5cGVBY2Nlc3NvcnMuZm9udEZhbWlseS5zZXQgPSBmdW5jdGlvbiAoZm9udEZhbWlseSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG57XG4gICAgaWYgKHRoaXMuZm9udEZhbWlseSAhPT0gZm9udEZhbWlseSlcbiAgICB7XG4gICAgICAgIHRoaXMuX2ZvbnRGYW1pbHkgPSBmb250RmFtaWx5O1xuICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICB9XG59O1xuXG4vKipcbiAqIFRoZSBmb250IHNpemVcbiAqIChhcyBhIG51bWJlciBpdCBjb252ZXJ0cyB0byBweCwgYnV0IGFzIGEgc3RyaW5nLCBlcXVpdmFsZW50cyBhcmUgJzI2cHgnLCcyMHB0JywnMTYwJScgb3IgJzEuNmVtJylcbiAqXG4gKiBAbWVtYmVyIHtudW1iZXJ8c3RyaW5nfVxuICovXG5wcm90b3R5cGVBY2Nlc3NvcnMuZm9udFNpemUuZ2V0ID0gZnVuY3Rpb24gKClcbntcbiAgICByZXR1cm4gdGhpcy5fZm9udFNpemU7XG59O1xucHJvdG90eXBlQWNjZXNzb3JzLmZvbnRTaXplLnNldCA9IGZ1bmN0aW9uIChmb250U2l6ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG57XG4gICAgaWYgKHRoaXMuX2ZvbnRTaXplICE9PSBmb250U2l6ZSlcbiAgICB7XG4gICAgICAgIHRoaXMuX2ZvbnRTaXplID0gZm9udFNpemU7XG4gICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgIH1cbn07XG5cbi8qKlxuICogVGhlIGZvbnQgc3R5bGVcbiAqICgnbm9ybWFsJywgJ2l0YWxpYycgb3IgJ29ibGlxdWUnKVxuICpcbiAqIEBtZW1iZXIge3N0cmluZ31cbiAqL1xucHJvdG90eXBlQWNjZXNzb3JzLmZvbnRTdHlsZS5nZXQgPSBmdW5jdGlvbiAoKVxue1xuICAgIHJldHVybiB0aGlzLl9mb250U3R5bGU7XG59O1xucHJvdG90eXBlQWNjZXNzb3JzLmZvbnRTdHlsZS5zZXQgPSBmdW5jdGlvbiAoZm9udFN0eWxlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbntcbiAgICBpZiAodGhpcy5fZm9udFN0eWxlICE9PSBmb250U3R5bGUpXG4gICAge1xuICAgICAgICB0aGlzLl9mb250U3R5bGUgPSBmb250U3R5bGU7XG4gICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgIH1cbn07XG5cbi8qKlxuICogVGhlIGZvbnQgdmFyaWFudFxuICogKCdub3JtYWwnIG9yICdzbWFsbC1jYXBzJylcbiAqXG4gKiBAbWVtYmVyIHtzdHJpbmd9XG4gKi9cbnByb3RvdHlwZUFjY2Vzc29ycy5mb250VmFyaWFudC5nZXQgPSBmdW5jdGlvbiAoKVxue1xuICAgIHJldHVybiB0aGlzLl9mb250VmFyaWFudDtcbn07XG5wcm90b3R5cGVBY2Nlc3NvcnMuZm9udFZhcmlhbnQuc2V0ID0gZnVuY3Rpb24gKGZvbnRWYXJpYW50KSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbntcbiAgICBpZiAodGhpcy5fZm9udFZhcmlhbnQgIT09IGZvbnRWYXJpYW50KVxuICAgIHtcbiAgICAgICAgdGhpcy5fZm9udFZhcmlhbnQgPSBmb250VmFyaWFudDtcbiAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgfVxufTtcblxuLyoqXG4gKiBUaGUgZm9udCB3ZWlnaHRcbiAqICgnbm9ybWFsJywgJ2JvbGQnLCAnYm9sZGVyJywgJ2xpZ2h0ZXInIGFuZCAnMTAwJywgJzIwMCcsICczMDAnLCAnNDAwJywgJzUwMCcsICc2MDAnLCAnNzAwJywgODAwJyBvciAnOTAwJylcbiAqXG4gKiBAbWVtYmVyIHtzdHJpbmd9XG4gKi9cbnByb3RvdHlwZUFjY2Vzc29ycy5mb250V2VpZ2h0LmdldCA9IGZ1bmN0aW9uICgpXG57XG4gICAgcmV0dXJuIHRoaXMuX2ZvbnRXZWlnaHQ7XG59O1xucHJvdG90eXBlQWNjZXNzb3JzLmZvbnRXZWlnaHQuc2V0ID0gZnVuY3Rpb24gKGZvbnRXZWlnaHQpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xue1xuICAgIGlmICh0aGlzLl9mb250V2VpZ2h0ICE9PSBmb250V2VpZ2h0KVxuICAgIHtcbiAgICAgICAgdGhpcy5fZm9udFdlaWdodCA9IGZvbnRXZWlnaHQ7XG4gICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgIH1cbn07XG5cbi8qKlxuICogVGhlIGFtb3VudCBvZiBzcGFjaW5nIGJldHdlZW4gbGV0dGVycywgZGVmYXVsdCBpcyAwXG4gKlxuICogQG1lbWJlciB7bnVtYmVyfVxuICovXG5wcm90b3R5cGVBY2Nlc3NvcnMubGV0dGVyU3BhY2luZy5nZXQgPSBmdW5jdGlvbiAoKVxue1xuICAgIHJldHVybiB0aGlzLl9sZXR0ZXJTcGFjaW5nO1xufTtcbnByb3RvdHlwZUFjY2Vzc29ycy5sZXR0ZXJTcGFjaW5nLnNldCA9IGZ1bmN0aW9uIChsZXR0ZXJTcGFjaW5nKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbntcbiAgICBpZiAodGhpcy5fbGV0dGVyU3BhY2luZyAhPT0gbGV0dGVyU3BhY2luZylcbiAgICB7XG4gICAgICAgIHRoaXMuX2xldHRlclNwYWNpbmcgPSBsZXR0ZXJTcGFjaW5nO1xuICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICB9XG59O1xuXG4vKipcbiAqIFRoZSBsaW5lIGhlaWdodCwgYSBudW1iZXIgdGhhdCByZXByZXNlbnRzIHRoZSB2ZXJ0aWNhbCBzcGFjZSB0aGF0IGEgbGV0dGVyIHVzZXNcbiAqXG4gKiBAbWVtYmVyIHtudW1iZXJ9XG4gKi9cbnByb3RvdHlwZUFjY2Vzc29ycy5saW5lSGVpZ2h0LmdldCA9IGZ1bmN0aW9uICgpXG57XG4gICAgcmV0dXJuIHRoaXMuX2xpbmVIZWlnaHQ7XG59O1xucHJvdG90eXBlQWNjZXNzb3JzLmxpbmVIZWlnaHQuc2V0ID0gZnVuY3Rpb24gKGxpbmVIZWlnaHQpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xue1xuICAgIGlmICh0aGlzLl9saW5lSGVpZ2h0ICE9PSBsaW5lSGVpZ2h0KVxuICAgIHtcbiAgICAgICAgdGhpcy5fbGluZUhlaWdodCA9IGxpbmVIZWlnaHQ7XG4gICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgIH1cbn07XG5cbi8qKlxuICogVGhlIHNwYWNlIGJldHdlZW4gbGluZXNcbiAqXG4gKiBAbWVtYmVyIHtudW1iZXJ9XG4gKi9cbnByb3RvdHlwZUFjY2Vzc29ycy5sZWFkaW5nLmdldCA9IGZ1bmN0aW9uICgpXG57XG4gICAgcmV0dXJuIHRoaXMuX2xlYWRpbmc7XG59O1xucHJvdG90eXBlQWNjZXNzb3JzLmxlYWRpbmcuc2V0ID0gZnVuY3Rpb24gKGxlYWRpbmcpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xue1xuICAgIGlmICh0aGlzLl9sZWFkaW5nICE9PSBsZWFkaW5nKVxuICAgIHtcbiAgICAgICAgdGhpcy5fbGVhZGluZyA9IGxlYWRpbmc7XG4gICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgIH1cbn07XG5cbi8qKlxuICogVGhlIGxpbmVKb2luIHByb3BlcnR5IHNldHMgdGhlIHR5cGUgb2YgY29ybmVyIGNyZWF0ZWQsIGl0IGNhbiByZXNvbHZlIHNwaWtlZCB0ZXh0IGlzc3Vlcy5cbiAqIERlZmF1bHQgaXMgJ21pdGVyJyAoY3JlYXRlcyBhIHNoYXJwIGNvcm5lcikuXG4gKlxuICogQG1lbWJlciB7c3RyaW5nfVxuICovXG5wcm90b3R5cGVBY2Nlc3NvcnMubGluZUpvaW4uZ2V0ID0gZnVuY3Rpb24gKClcbntcbiAgICByZXR1cm4gdGhpcy5fbGluZUpvaW47XG59O1xucHJvdG90eXBlQWNjZXNzb3JzLmxpbmVKb2luLnNldCA9IGZ1bmN0aW9uIChsaW5lSm9pbikgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG57XG4gICAgaWYgKHRoaXMuX2xpbmVKb2luICE9PSBsaW5lSm9pbilcbiAgICB7XG4gICAgICAgIHRoaXMuX2xpbmVKb2luID0gbGluZUpvaW47XG4gICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgIH1cbn07XG5cbi8qKlxuICogVGhlIG1pdGVyIGxpbWl0IHRvIHVzZSB3aGVuIHVzaW5nIHRoZSAnbWl0ZXInIGxpbmVKb2luIG1vZGVcbiAqIFRoaXMgY2FuIHJlZHVjZSBvciBpbmNyZWFzZSB0aGUgc3Bpa2luZXNzIG9mIHJlbmRlcmVkIHRleHQuXG4gKlxuICogQG1lbWJlciB7bnVtYmVyfVxuICovXG5wcm90b3R5cGVBY2Nlc3NvcnMubWl0ZXJMaW1pdC5nZXQgPSBmdW5jdGlvbiAoKVxue1xuICAgIHJldHVybiB0aGlzLl9taXRlckxpbWl0O1xufTtcbnByb3RvdHlwZUFjY2Vzc29ycy5taXRlckxpbWl0LnNldCA9IGZ1bmN0aW9uIChtaXRlckxpbWl0KSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbntcbiAgICBpZiAodGhpcy5fbWl0ZXJMaW1pdCAhPT0gbWl0ZXJMaW1pdClcbiAgICB7XG4gICAgICAgIHRoaXMuX21pdGVyTGltaXQgPSBtaXRlckxpbWl0O1xuICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICB9XG59O1xuXG4vKipcbiAqIE9jY2FzaW9uYWxseSBzb21lIGZvbnRzIGFyZSBjcm9wcGVkLiBBZGRpbmcgc29tZSBwYWRkaW5nIHdpbGwgcHJldmVudCB0aGlzIGZyb20gaGFwcGVuaW5nXG4gKiBieSBhZGRpbmcgcGFkZGluZyB0byBhbGwgc2lkZXMgb2YgdGhlIHRleHQuXG4gKlxuICogQG1lbWJlciB7bnVtYmVyfVxuICovXG5wcm90b3R5cGVBY2Nlc3NvcnMucGFkZGluZy5nZXQgPSBmdW5jdGlvbiAoKVxue1xuICAgIHJldHVybiB0aGlzLl9wYWRkaW5nO1xufTtcbnByb3RvdHlwZUFjY2Vzc29ycy5wYWRkaW5nLnNldCA9IGZ1bmN0aW9uIChwYWRkaW5nKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbntcbiAgICBpZiAodGhpcy5fcGFkZGluZyAhPT0gcGFkZGluZylcbiAgICB7XG4gICAgICAgIHRoaXMuX3BhZGRpbmcgPSBwYWRkaW5nO1xuICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICB9XG59O1xuXG4vKipcbiAqIEEgY2FudmFzIGZpbGxzdHlsZSB0aGF0IHdpbGwgYmUgdXNlZCBvbiB0aGUgdGV4dCBzdHJva2VcbiAqIGUuZyAnYmx1ZScsICcjRkNGRjAwJ1xuICpcbiAqIEBtZW1iZXIge3N0cmluZ3xudW1iZXJ9XG4gKi9cbnByb3RvdHlwZUFjY2Vzc29ycy5zdHJva2UuZ2V0ID0gZnVuY3Rpb24gKClcbntcbiAgICByZXR1cm4gdGhpcy5fc3Ryb2tlO1xufTtcbnByb3RvdHlwZUFjY2Vzc29ycy5zdHJva2Uuc2V0ID0gZnVuY3Rpb24gKHN0cm9rZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG57XG4gICAgdmFyIG91dHB1dENvbG9yID0gZ2V0Q29sb3Ioc3Ryb2tlKTtcbiAgICBpZiAodGhpcy5fc3Ryb2tlICE9PSBvdXRwdXRDb2xvcilcbiAgICB7XG4gICAgICAgIHRoaXMuX3N0cm9rZSA9IG91dHB1dENvbG9yO1xuICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICB9XG59O1xuXG4vKipcbiAqIEEgbnVtYmVyIHRoYXQgcmVwcmVzZW50cyB0aGUgdGhpY2tuZXNzIG9mIHRoZSBzdHJva2UuXG4gKiBEZWZhdWx0IGlzIDAgKG5vIHN0cm9rZSlcbiAqXG4gKiBAbWVtYmVyIHtudW1iZXJ9XG4gKi9cbnByb3RvdHlwZUFjY2Vzc29ycy5zdHJva2VUaGlja25lc3MuZ2V0ID0gZnVuY3Rpb24gKClcbntcbiAgICByZXR1cm4gdGhpcy5fc3Ryb2tlVGhpY2tuZXNzO1xufTtcbnByb3RvdHlwZUFjY2Vzc29ycy5zdHJva2VUaGlja25lc3Muc2V0ID0gZnVuY3Rpb24gKHN0cm9rZVRoaWNrbmVzcykgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG57XG4gICAgaWYgKHRoaXMuX3N0cm9rZVRoaWNrbmVzcyAhPT0gc3Ryb2tlVGhpY2tuZXNzKVxuICAgIHtcbiAgICAgICAgdGhpcy5fc3Ryb2tlVGhpY2tuZXNzID0gc3Ryb2tlVGhpY2tuZXNzO1xuICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICB9XG59O1xuXG4vKipcbiAqIFRoZSBiYXNlbGluZSBvZiB0aGUgdGV4dCB0aGF0IGlzIHJlbmRlcmVkLlxuICpcbiAqIEBtZW1iZXIge3N0cmluZ31cbiAqL1xucHJvdG90eXBlQWNjZXNzb3JzLnRleHRCYXNlbGluZS5nZXQgPSBmdW5jdGlvbiAoKVxue1xuICAgIHJldHVybiB0aGlzLl90ZXh0QmFzZWxpbmU7XG59O1xucHJvdG90eXBlQWNjZXNzb3JzLnRleHRCYXNlbGluZS5zZXQgPSBmdW5jdGlvbiAodGV4dEJhc2VsaW5lKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbntcbiAgICBpZiAodGhpcy5fdGV4dEJhc2VsaW5lICE9PSB0ZXh0QmFzZWxpbmUpXG4gICAge1xuICAgICAgICB0aGlzLl90ZXh0QmFzZWxpbmUgPSB0ZXh0QmFzZWxpbmU7XG4gICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgIH1cbn07XG5cbi8qKlxuICogVHJpbSB0cmFuc3BhcmVudCBib3JkZXJzXG4gKlxuICogQG1lbWJlciB7Ym9vbGVhbn1cbiAqL1xucHJvdG90eXBlQWNjZXNzb3JzLnRyaW0uZ2V0ID0gZnVuY3Rpb24gKClcbntcbiAgICByZXR1cm4gdGhpcy5fdHJpbTtcbn07XG5wcm90b3R5cGVBY2Nlc3NvcnMudHJpbS5zZXQgPSBmdW5jdGlvbiAodHJpbSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG57XG4gICAgaWYgKHRoaXMuX3RyaW0gIT09IHRyaW0pXG4gICAge1xuICAgICAgICB0aGlzLl90cmltID0gdHJpbTtcbiAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgfVxufTtcblxuLyoqXG4gKiBIb3cgbmV3bGluZXMgYW5kIHNwYWNlcyBzaG91bGQgYmUgaGFuZGxlZC5cbiAqIERlZmF1bHQgaXMgJ3ByZScgKHByZXNlcnZlLCBwcmVzZXJ2ZSkuXG4gKlxuICogIHZhbHVlICAgfCBOZXcgbGluZXMgfCAgIFNwYWNlc1xuICogIC0tLSAgICAgfCAtLS0gICAgICAgfCAgIC0tLVxuICogJ25vcm1hbCcgfCBDb2xsYXBzZSAgfCAgIENvbGxhcHNlXG4gKiAncHJlJyAgICB8IFByZXNlcnZlICB8ICAgUHJlc2VydmVcbiAqICdwcmUtbGluZScgICB8IFByZXNlcnZlICB8ICAgQ29sbGFwc2VcbiAqXG4gKiBAbWVtYmVyIHtzdHJpbmd9XG4gKi9cbnByb3RvdHlwZUFjY2Vzc29ycy53aGl0ZVNwYWNlLmdldCA9IGZ1bmN0aW9uICgpXG57XG4gICAgcmV0dXJuIHRoaXMuX3doaXRlU3BhY2U7XG59O1xucHJvdG90eXBlQWNjZXNzb3JzLndoaXRlU3BhY2Uuc2V0ID0gZnVuY3Rpb24gKHdoaXRlU3BhY2UpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xue1xuICAgIGlmICh0aGlzLl93aGl0ZVNwYWNlICE9PSB3aGl0ZVNwYWNlKVxuICAgIHtcbiAgICAgICAgdGhpcy5fd2hpdGVTcGFjZSA9IHdoaXRlU3BhY2U7XG4gICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgIH1cbn07XG5cbi8qKlxuICogSW5kaWNhdGVzIGlmIHdvcmQgd3JhcCBzaG91bGQgYmUgdXNlZFxuICpcbiAqIEBtZW1iZXIge2Jvb2xlYW59XG4gKi9cbnByb3RvdHlwZUFjY2Vzc29ycy53b3JkV3JhcC5nZXQgPSBmdW5jdGlvbiAoKVxue1xuICAgIHJldHVybiB0aGlzLl93b3JkV3JhcDtcbn07XG5wcm90b3R5cGVBY2Nlc3NvcnMud29yZFdyYXAuc2V0ID0gZnVuY3Rpb24gKHdvcmRXcmFwKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbntcbiAgICBpZiAodGhpcy5fd29yZFdyYXAgIT09IHdvcmRXcmFwKVxuICAgIHtcbiAgICAgICAgdGhpcy5fd29yZFdyYXAgPSB3b3JkV3JhcDtcbiAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgfVxufTtcblxuLyoqXG4gKiBUaGUgd2lkdGggYXQgd2hpY2ggdGV4dCB3aWxsIHdyYXAsIGl0IG5lZWRzIHdvcmRXcmFwIHRvIGJlIHNldCB0byB0cnVlXG4gKlxuICogQG1lbWJlciB7bnVtYmVyfVxuICovXG5wcm90b3R5cGVBY2Nlc3NvcnMud29yZFdyYXBXaWR0aC5nZXQgPSBmdW5jdGlvbiAoKVxue1xuICAgIHJldHVybiB0aGlzLl93b3JkV3JhcFdpZHRoO1xufTtcbnByb3RvdHlwZUFjY2Vzc29ycy53b3JkV3JhcFdpZHRoLnNldCA9IGZ1bmN0aW9uICh3b3JkV3JhcFdpZHRoKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbntcbiAgICBpZiAodGhpcy5fd29yZFdyYXBXaWR0aCAhPT0gd29yZFdyYXBXaWR0aClcbiAgICB7XG4gICAgICAgIHRoaXMuX3dvcmRXcmFwV2lkdGggPSB3b3JkV3JhcFdpZHRoO1xuICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICB9XG59O1xuXG4vKipcbiAqIEdlbmVyYXRlcyBhIGZvbnQgc3R5bGUgc3RyaW5nIHRvIHVzZSBmb3IgYFRleHRNZXRyaWNzLm1lYXN1cmVGb250KClgLlxuICpcbiAqIEByZXR1cm4ge3N0cmluZ30gRm9udCBzdHlsZSBzdHJpbmcsIGZvciBwYXNzaW5nIHRvIGBUZXh0TWV0cmljcy5tZWFzdXJlRm9udCgpYFxuICovXG5UZXh0U3R5bGUucHJvdG90eXBlLnRvRm9udFN0cmluZyA9IGZ1bmN0aW9uIHRvRm9udFN0cmluZyAoKVxue1xuICAgIC8vIGJ1aWxkIGNhbnZhcyBhcGkgZm9udCBzZXR0aW5nIGZyb20gaW5kaXZpZHVhbCBjb21wb25lbnRzLiBDb252ZXJ0IGEgbnVtZXJpYyB0aGlzLmZvbnRTaXplIHRvIHB4XG4gICAgdmFyIGZvbnRTaXplU3RyaW5nID0gKHR5cGVvZiB0aGlzLmZvbnRTaXplID09PSAnbnVtYmVyJykgPyAoKHRoaXMuZm9udFNpemUpICsgXCJweFwiKSA6IHRoaXMuZm9udFNpemU7XG5cbiAgICAvLyBDbGVhbi11cCBmb250RmFtaWx5IHByb3BlcnR5IGJ5IHF1b3RpbmcgZWFjaCBmb250IG5hbWVcbiAgICAvLyB0aGlzIHdpbGwgc3VwcG9ydCBmb250IG5hbWVzIHdpdGggc3BhY2VzXG4gICAgdmFyIGZvbnRGYW1pbGllcyA9IHRoaXMuZm9udEZhbWlseTtcblxuICAgIGlmICghQXJyYXkuaXNBcnJheSh0aGlzLmZvbnRGYW1pbHkpKVxuICAgIHtcbiAgICAgICAgZm9udEZhbWlsaWVzID0gdGhpcy5mb250RmFtaWx5LnNwbGl0KCcsJyk7XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IGZvbnRGYW1pbGllcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSlcbiAgICB7XG4gICAgICAgIC8vIFRyaW0gYW55IGV4dHJhIHdoaXRlLXNwYWNlXG4gICAgICAgIHZhciBmb250RmFtaWx5ID0gZm9udEZhbWlsaWVzW2ldLnRyaW0oKTtcblxuICAgICAgICAvLyBDaGVjayBpZiBmb250IGFscmVhZHkgY29udGFpbnMgc3RyaW5nc1xuICAgICAgICBpZiAoISgvKFtcXFwiXFwnXSlbXlxcJ1xcXCJdK1xcMS8pLnRlc3QoZm9udEZhbWlseSkgJiYgZ2VuZXJpY0ZvbnRGYW1pbGllcy5pbmRleE9mKGZvbnRGYW1pbHkpIDwgMClcbiAgICAgICAge1xuICAgICAgICAgICAgZm9udEZhbWlseSA9IFwiXFxcIlwiICsgZm9udEZhbWlseSArIFwiXFxcIlwiO1xuICAgICAgICB9XG4gICAgICAgIGZvbnRGYW1pbGllc1tpXSA9IGZvbnRGYW1pbHk7XG4gICAgfVxuXG4gICAgcmV0dXJuICgodGhpcy5mb250U3R5bGUpICsgXCIgXCIgKyAodGhpcy5mb250VmFyaWFudCkgKyBcIiBcIiArICh0aGlzLmZvbnRXZWlnaHQpICsgXCIgXCIgKyBmb250U2l6ZVN0cmluZyArIFwiIFwiICsgKGZvbnRGYW1pbGllcy5qb2luKCcsJykpKTtcbn07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKCBUZXh0U3R5bGUucHJvdG90eXBlLCBwcm90b3R5cGVBY2Nlc3NvcnMgKTtcblxuLyoqXG4gKiBVdGlsaXR5IGZ1bmN0aW9uIHRvIGNvbnZlcnQgaGV4YWRlY2ltYWwgY29sb3JzIHRvIHN0cmluZ3MsIGFuZCBzaW1wbHkgcmV0dXJuIHRoZSBjb2xvciBpZiBpdCdzIGEgc3RyaW5nLlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7bnVtYmVyfG51bWJlcltdfSBjb2xvclxuICogQHJldHVybiB7c3RyaW5nfSBUaGUgY29sb3IgYXMgYSBzdHJpbmcuXG4gKi9cbmZ1bmN0aW9uIGdldFNpbmdsZUNvbG9yKGNvbG9yKVxue1xuICAgIGlmICh0eXBlb2YgY29sb3IgPT09ICdudW1iZXInKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIGhleDJzdHJpbmcoY29sb3IpO1xuICAgIH1cbiAgICBlbHNlIGlmICggdHlwZW9mIGNvbG9yID09PSAnc3RyaW5nJyApXG4gICAge1xuICAgICAgICBpZiAoIGNvbG9yLmluZGV4T2YoJzB4JykgPT09IDAgKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb2xvciA9IGNvbG9yLnJlcGxhY2UoJzB4JywgJyMnKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBjb2xvcjtcbn1cblxuLyoqXG4gKiBVdGlsaXR5IGZ1bmN0aW9uIHRvIGNvbnZlcnQgaGV4YWRlY2ltYWwgY29sb3JzIHRvIHN0cmluZ3MsIGFuZCBzaW1wbHkgcmV0dXJuIHRoZSBjb2xvciBpZiBpdCdzIGEgc3RyaW5nLlxuICogVGhpcyB2ZXJzaW9uIGNhbiBhbHNvIGNvbnZlcnQgYXJyYXkgb2YgY29sb3JzXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtudW1iZXJ8bnVtYmVyW119IGNvbG9yXG4gKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSBjb2xvciBhcyBhIHN0cmluZy5cbiAqL1xuZnVuY3Rpb24gZ2V0Q29sb3IoY29sb3IpXG57XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGNvbG9yKSlcbiAgICB7XG4gICAgICAgIHJldHVybiBnZXRTaW5nbGVDb2xvcihjb2xvcik7XG4gICAgfVxuICAgIGVsc2VcbiAgICB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29sb3IubGVuZ3RoOyArK2kpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbG9yW2ldID0gZ2V0U2luZ2xlQ29sb3IoY29sb3JbaV0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGNvbG9yO1xuICAgIH1cbn1cblxuLyoqXG4gKiBVdGlsaXR5IGZ1bmN0aW9uIHRvIGNvbnZlcnQgaGV4YWRlY2ltYWwgY29sb3JzIHRvIHN0cmluZ3MsIGFuZCBzaW1wbHkgcmV0dXJuIHRoZSBjb2xvciBpZiBpdCdzIGEgc3RyaW5nLlxuICogVGhpcyB2ZXJzaW9uIGNhbiBhbHNvIGNvbnZlcnQgYXJyYXkgb2YgY29sb3JzXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtBcnJheX0gYXJyYXkxIEZpcnN0IGFycmF5IHRvIGNvbXBhcmVcbiAqIEBwYXJhbSB7QXJyYXl9IGFycmF5MiBTZWNvbmQgYXJyYXkgdG8gY29tcGFyZVxuICogQHJldHVybiB7Ym9vbGVhbn0gRG8gdGhlIGFycmF5cyBjb250YWluIHRoZSBzYW1lIHZhbHVlcyBpbiB0aGUgc2FtZSBvcmRlclxuICovXG5mdW5jdGlvbiBhcmVBcnJheXNFcXVhbChhcnJheTEsIGFycmF5MilcbntcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoYXJyYXkxKSB8fCAhQXJyYXkuaXNBcnJheShhcnJheTIpKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGlmIChhcnJheTEubGVuZ3RoICE9PSBhcnJheTIubGVuZ3RoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyYXkxLmxlbmd0aDsgKytpKVxuICAgIHtcbiAgICAgICAgaWYgKGFycmF5MVtpXSAhPT0gYXJyYXkyW2ldKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbn1cblxuLyoqXG4gKiBVdGlsaXR5IGZ1bmN0aW9uIHRvIGVuc3VyZSB0aGF0IG9iamVjdCBwcm9wZXJ0aWVzIGFyZSBjb3BpZWQgYnkgdmFsdWUsIGFuZCBub3QgYnkgcmVmZXJlbmNlXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IHRhcmdldCBUYXJnZXQgb2JqZWN0IHRvIGNvcHkgcHJvcGVydGllcyBpbnRvXG4gKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFNvdXJjZSBvYmplY3QgZm9yIHRoZSBwcm9wZXJ0aWVzIHRvIGNvcHlcbiAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wZXJ0eU9iaiBPYmplY3QgY29udGFpbmluZyBwcm9wZXJ0aWVzIG5hbWVzIHdlIHdhbnQgdG8gbG9vcCBvdmVyXG4gKi9cbmZ1bmN0aW9uIGRlZXBDb3B5UHJvcGVydGllcyh0YXJnZXQsIHNvdXJjZSwgcHJvcGVydHlPYmopIHtcbiAgICBmb3IgKHZhciBwcm9wIGluIHByb3BlcnR5T2JqKSB7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHNvdXJjZVtwcm9wXSkpIHtcbiAgICAgICAgICAgIHRhcmdldFtwcm9wXSA9IHNvdXJjZVtwcm9wXS5zbGljZSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGFyZ2V0W3Byb3BdID0gc291cmNlW3Byb3BdO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vKipcbiAqIFRoZSBUZXh0TWV0cmljcyBvYmplY3QgcmVwcmVzZW50cyB0aGUgbWVhc3VyZW1lbnQgb2YgYSBibG9jayBvZiB0ZXh0IHdpdGggYSBzcGVjaWZpZWQgc3R5bGUuXG4gKlxuICogYGBganNcbiAqIGxldCBzdHlsZSA9IG5ldyBQSVhJLlRleHRTdHlsZSh7Zm9udEZhbWlseSA6ICdBcmlhbCcsIGZvbnRTaXplOiAyNCwgZmlsbCA6IDB4ZmYxMDEwLCBhbGlnbiA6ICdjZW50ZXInfSlcbiAqIGxldCB0ZXh0TWV0cmljcyA9IFBJWEkuVGV4dE1ldHJpY3MubWVhc3VyZVRleHQoJ1lvdXIgdGV4dCcsIHN0eWxlKVxuICogYGBgXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgVGV4dE1ldHJpY3MgPSBmdW5jdGlvbiBUZXh0TWV0cmljcyh0ZXh0LCBzdHlsZSwgd2lkdGgsIGhlaWdodCwgbGluZXMsIGxpbmVXaWR0aHMsIGxpbmVIZWlnaHQsIG1heExpbmVXaWR0aCwgZm9udFByb3BlcnRpZXMpXG57XG4gICAgLyoqXG4gICAgICogVGhlIHRleHQgdGhhdCB3YXMgbWVhc3VyZWRcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgKi9cbiAgICB0aGlzLnRleHQgPSB0ZXh0O1xuXG4gICAgLyoqXG4gICAgICogVGhlIHN0eWxlIHRoYXQgd2FzIG1lYXN1cmVkXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLlRleHRTdHlsZX1cbiAgICAgKi9cbiAgICB0aGlzLnN0eWxlID0gc3R5bGU7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbWVhc3VyZWQgd2lkdGggb2YgdGhlIHRleHRcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLndpZHRoID0gd2lkdGg7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbWVhc3VyZWQgaGVpZ2h0IG9mIHRoZSB0ZXh0XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XG5cbiAgICAvKipcbiAgICAgKiBBbiBhcnJheSBvZiBsaW5lcyBvZiB0aGUgdGV4dCBicm9rZW4gYnkgbmV3IGxpbmVzIGFuZCB3cmFwcGluZyBpcyBzcGVjaWZpZWQgaW4gc3R5bGVcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge3N0cmluZ1tdfVxuICAgICAqL1xuICAgIHRoaXMubGluZXMgPSBsaW5lcztcblxuICAgIC8qKlxuICAgICAqIEFuIGFycmF5IG9mIHRoZSBsaW5lIHdpZHRocyBmb3IgZWFjaCBsaW5lIG1hdGNoZWQgdG8gYGxpbmVzYFxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyW119XG4gICAgICovXG4gICAgdGhpcy5saW5lV2lkdGhzID0gbGluZVdpZHRocztcblxuICAgIC8qKlxuICAgICAqIFRoZSBtZWFzdXJlZCBsaW5lIGhlaWdodCBmb3IgdGhpcyBzdHlsZVxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMubGluZUhlaWdodCA9IGxpbmVIZWlnaHQ7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbWF4aW11bSBsaW5lIHdpZHRoIGZvciBhbGwgbWVhc3VyZWQgbGluZXNcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLm1heExpbmVXaWR0aCA9IG1heExpbmVXaWR0aDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBmb250IHByb3BlcnRpZXMgb2JqZWN0IGZyb20gVGV4dE1ldHJpY3MubWVhc3VyZUZvbnRcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1BJWEkuSUZvbnRNZXRyaWNzfVxuICAgICAqL1xuICAgIHRoaXMuZm9udFByb3BlcnRpZXMgPSBmb250UHJvcGVydGllcztcbn07XG5cbi8qKlxuICogTWVhc3VyZXMgdGhlIHN1cHBsaWVkIHN0cmluZyBvZiB0ZXh0IGFuZCByZXR1cm5zIGEgUmVjdGFuZ2xlLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0IC0gdGhlIHRleHQgdG8gbWVhc3VyZS5cbiAqIEBwYXJhbSB7UElYSS5UZXh0U3R5bGV9IHN0eWxlIC0gdGhlIHRleHQgc3R5bGUgdG8gdXNlIGZvciBtZWFzdXJpbmdcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW3dvcmRXcmFwXSAtIG9wdGlvbmFsIG92ZXJyaWRlIGZvciBpZiB3b3JkLXdyYXAgc2hvdWxkIGJlIGFwcGxpZWQgdG8gdGhlIHRleHQuXG4gKiBAcGFyYW0ge0hUTUxDYW52YXNFbGVtZW50fSBbY2FudmFzXSAtIG9wdGlvbmFsIHNwZWNpZmljYXRpb24gb2YgdGhlIGNhbnZhcyB0byB1c2UgZm9yIG1lYXN1cmluZy5cbiAqIEByZXR1cm4ge1BJWEkuVGV4dE1ldHJpY3N9IG1lYXN1cmVkIHdpZHRoIGFuZCBoZWlnaHQgb2YgdGhlIHRleHQuXG4gKi9cblRleHRNZXRyaWNzLm1lYXN1cmVUZXh0ID0gZnVuY3Rpb24gbWVhc3VyZVRleHQgKHRleHQsIHN0eWxlLCB3b3JkV3JhcCwgY2FudmFzKVxue1xuICAgICAgICBpZiAoIGNhbnZhcyA9PT0gdm9pZCAwICkgY2FudmFzID0gVGV4dE1ldHJpY3MuX2NhbnZhcztcblxuICAgIHdvcmRXcmFwID0gKHdvcmRXcmFwID09PSB1bmRlZmluZWQgfHwgd29yZFdyYXAgPT09IG51bGwpID8gc3R5bGUud29yZFdyYXAgOiB3b3JkV3JhcDtcbiAgICB2YXIgZm9udCA9IHN0eWxlLnRvRm9udFN0cmluZygpO1xuICAgIHZhciBmb250UHJvcGVydGllcyA9IFRleHRNZXRyaWNzLm1lYXN1cmVGb250KGZvbnQpO1xuXG4gICAgLy8gZmFsbGJhY2sgaW4gY2FzZSBVQSBkaXNhbGxvdyBjYW52YXMgZGF0YSBleHRyYWN0aW9uXG4gICAgLy8gKHRvRGF0YVVSSSwgZ2V0SW1hZ2VEYXRhIGZ1bmN0aW9ucylcbiAgICBpZiAoZm9udFByb3BlcnRpZXMuZm9udFNpemUgPT09IDApXG4gICAge1xuICAgICAgICBmb250UHJvcGVydGllcy5mb250U2l6ZSA9IHN0eWxlLmZvbnRTaXplO1xuICAgICAgICBmb250UHJvcGVydGllcy5hc2NlbnQgPSBzdHlsZS5mb250U2l6ZTtcbiAgICB9XG5cbiAgICB2YXIgY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuXG4gICAgY29udGV4dC5mb250ID0gZm9udDtcblxuICAgIHZhciBvdXRwdXRUZXh0ID0gd29yZFdyYXAgPyBUZXh0TWV0cmljcy53b3JkV3JhcCh0ZXh0LCBzdHlsZSwgY2FudmFzKSA6IHRleHQ7XG4gICAgdmFyIGxpbmVzID0gb3V0cHV0VGV4dC5zcGxpdCgvKD86XFxyXFxufFxccnxcXG4pLyk7XG4gICAgdmFyIGxpbmVXaWR0aHMgPSBuZXcgQXJyYXkobGluZXMubGVuZ3RoKTtcbiAgICB2YXIgbWF4TGluZVdpZHRoID0gMDtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGluZXMubGVuZ3RoOyBpKyspXG4gICAge1xuICAgICAgICB2YXIgbGluZVdpZHRoID0gY29udGV4dC5tZWFzdXJlVGV4dChsaW5lc1tpXSkud2lkdGggKyAoKGxpbmVzW2ldLmxlbmd0aCAtIDEpICogc3R5bGUubGV0dGVyU3BhY2luZyk7XG5cbiAgICAgICAgbGluZVdpZHRoc1tpXSA9IGxpbmVXaWR0aDtcbiAgICAgICAgbWF4TGluZVdpZHRoID0gTWF0aC5tYXgobWF4TGluZVdpZHRoLCBsaW5lV2lkdGgpO1xuICAgIH1cbiAgICB2YXIgd2lkdGggPSBtYXhMaW5lV2lkdGggKyBzdHlsZS5zdHJva2VUaGlja25lc3M7XG5cbiAgICBpZiAoc3R5bGUuZHJvcFNoYWRvdylcbiAgICB7XG4gICAgICAgIHdpZHRoICs9IHN0eWxlLmRyb3BTaGFkb3dEaXN0YW5jZTtcbiAgICB9XG5cbiAgICB2YXIgbGluZUhlaWdodCA9IHN0eWxlLmxpbmVIZWlnaHQgfHwgZm9udFByb3BlcnRpZXMuZm9udFNpemUgKyBzdHlsZS5zdHJva2VUaGlja25lc3M7XG4gICAgdmFyIGhlaWdodCA9IE1hdGgubWF4KGxpbmVIZWlnaHQsIGZvbnRQcm9wZXJ0aWVzLmZvbnRTaXplICsgc3R5bGUuc3Ryb2tlVGhpY2tuZXNzKVxuICAgICAgICArICgobGluZXMubGVuZ3RoIC0gMSkgKiAobGluZUhlaWdodCArIHN0eWxlLmxlYWRpbmcpKTtcblxuICAgIGlmIChzdHlsZS5kcm9wU2hhZG93KVxuICAgIHtcbiAgICAgICAgaGVpZ2h0ICs9IHN0eWxlLmRyb3BTaGFkb3dEaXN0YW5jZTtcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IFRleHRNZXRyaWNzKFxuICAgICAgICB0ZXh0LFxuICAgICAgICBzdHlsZSxcbiAgICAgICAgd2lkdGgsXG4gICAgICAgIGhlaWdodCxcbiAgICAgICAgbGluZXMsXG4gICAgICAgIGxpbmVXaWR0aHMsXG4gICAgICAgIGxpbmVIZWlnaHQgKyBzdHlsZS5sZWFkaW5nLFxuICAgICAgICBtYXhMaW5lV2lkdGgsXG4gICAgICAgIGZvbnRQcm9wZXJ0aWVzXG4gICAgKTtcbn07XG5cbi8qKlxuICogQXBwbGllcyBuZXdsaW5lcyB0byBhIHN0cmluZyB0byBoYXZlIGl0IG9wdGltYWxseSBmaXQgaW50byB0aGUgaG9yaXpvbnRhbFxuICogYm91bmRzIHNldCBieSB0aGUgVGV4dCBvYmplY3QncyB3b3JkV3JhcFdpZHRoIHByb3BlcnR5LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge3N0cmluZ30gdGV4dCAtIFN0cmluZyB0byBhcHBseSB3b3JkIHdyYXBwaW5nIHRvXG4gKiBAcGFyYW0ge1BJWEkuVGV4dFN0eWxlfSBzdHlsZSAtIHRoZSBzdHlsZSB0byB1c2Ugd2hlbiB3cmFwcGluZ1xuICogQHBhcmFtIHtIVE1MQ2FudmFzRWxlbWVudH0gW2NhbnZhc10gLSBvcHRpb25hbCBzcGVjaWZpY2F0aW9uIG9mIHRoZSBjYW52YXMgdG8gdXNlIGZvciBtZWFzdXJpbmcuXG4gKiBAcmV0dXJuIHtzdHJpbmd9IE5ldyBzdHJpbmcgd2l0aCBuZXcgbGluZXMgYXBwbGllZCB3aGVyZSByZXF1aXJlZFxuICovXG5UZXh0TWV0cmljcy53b3JkV3JhcCA9IGZ1bmN0aW9uIHdvcmRXcmFwICh0ZXh0LCBzdHlsZSwgY2FudmFzKVxue1xuICAgICAgICBpZiAoIGNhbnZhcyA9PT0gdm9pZCAwICkgY2FudmFzID0gVGV4dE1ldHJpY3MuX2NhbnZhcztcblxuICAgIHZhciBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG5cbiAgICB2YXIgd2lkdGggPSAwO1xuICAgIHZhciBsaW5lID0gJyc7XG4gICAgdmFyIGxpbmVzID0gJyc7XG5cbiAgICB2YXIgY2FjaGUgPSB7fTtcbiAgICB2YXIgbGV0dGVyU3BhY2luZyA9IHN0eWxlLmxldHRlclNwYWNpbmc7XG4gICAgICAgIHZhciB3aGl0ZVNwYWNlID0gc3R5bGUud2hpdGVTcGFjZTtcblxuICAgIC8vIEhvdyB0byBoYW5kbGUgd2hpdGVzcGFjZXNcbiAgICB2YXIgY29sbGFwc2VTcGFjZXMgPSBUZXh0TWV0cmljcy5jb2xsYXBzZVNwYWNlcyh3aGl0ZVNwYWNlKTtcbiAgICB2YXIgY29sbGFwc2VOZXdsaW5lcyA9IFRleHRNZXRyaWNzLmNvbGxhcHNlTmV3bGluZXMod2hpdGVTcGFjZSk7XG5cbiAgICAvLyB3aGV0aGVyIG9yIG5vdCBzcGFjZXMgbWF5IGJlIGFkZGVkIHRvIHRoZSBiZWdpbm5pbmcgb2YgbGluZXNcbiAgICB2YXIgY2FuUHJlcGVuZFNwYWNlcyA9ICFjb2xsYXBzZVNwYWNlcztcblxuICAgIC8vIFRoZXJlIGlzIGxldHRlclNwYWNpbmcgYWZ0ZXIgZXZlcnkgY2hhciBleGNlcHQgdGhlIGxhc3Qgb25lXG4gICAgLy8gdF9oX2lfc18nICdfaV9zXycgJ19hX25fJyAnX2VfeF9hX21fcF9sX2VfJyAnXyFcbiAgICAvLyBzbyBmb3IgY29udmVuaWVuY2UgdGhlIGFib3ZlIG5lZWRzIHRvIGJlIGNvbXBhcmVkIHRvIHdpZHRoICsgMSBleHRyYSBsZXR0ZXJTcGFjZVxuICAgIC8vIHRfaF9pX3NfJyAnX2lfc18nICdfYV9uXycgJ19lX3hfYV9tX3BfbF9lXycgJ18hX1xuICAgIC8vIF9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX1xuICAgIC8vIEFuZCB0aGVuIHRoZSBmaW5hbCBzcGFjZSBpcyBzaW1wbHkgbm8gYXBwZW5kZWQgdG8gZWFjaCBsaW5lXG4gICAgdmFyIHdvcmRXcmFwV2lkdGggPSBzdHlsZS53b3JkV3JhcFdpZHRoICsgbGV0dGVyU3BhY2luZztcblxuICAgIC8vIGJyZWFrIHRleHQgaW50byB3b3Jkcywgc3BhY2VzIGFuZCBuZXdsaW5lIGNoYXJzXG4gICAgdmFyIHRva2VucyA9IFRleHRNZXRyaWNzLnRva2VuaXplKHRleHQpO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0b2tlbnMubGVuZ3RoOyBpKyspXG4gICAge1xuICAgICAgICAvLyBnZXQgdGhlIHdvcmQsIHNwYWNlIG9yIG5ld2xpbmVDaGFyXG4gICAgICAgIHZhciB0b2tlbiA9IHRva2Vuc1tpXTtcblxuICAgICAgICAvLyBpZiB3b3JkIGlzIGEgbmV3IGxpbmVcbiAgICAgICAgaWYgKFRleHRNZXRyaWNzLmlzTmV3bGluZSh0b2tlbikpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIGtlZXAgdGhlIG5ldyBsaW5lXG4gICAgICAgICAgICBpZiAoIWNvbGxhcHNlTmV3bGluZXMpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbGluZXMgKz0gVGV4dE1ldHJpY3MuYWRkTGluZShsaW5lKTtcbiAgICAgICAgICAgICAgICBjYW5QcmVwZW5kU3BhY2VzID0gIWNvbGxhcHNlU3BhY2VzO1xuICAgICAgICAgICAgICAgIGxpbmUgPSAnJztcbiAgICAgICAgICAgICAgICB3aWR0aCA9IDA7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGlmIHdlIHNob3VsZCBjb2xsYXBzZSBuZXcgbGluZXNcbiAgICAgICAgICAgIC8vIHdlIHNpbXBseSBjb252ZXJ0IGl0IGludG8gYSBzcGFjZVxuICAgICAgICAgICAgdG9rZW4gPSAnICc7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBpZiB3ZSBzaG91bGQgY29sbGFwc2UgcmVwZWF0ZWQgd2hpdGVzcGFjZXNcbiAgICAgICAgaWYgKGNvbGxhcHNlU3BhY2VzKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBjaGVjayBib3RoIHRoaXMgYW5kIHRoZSBsYXN0IHRva2VucyBmb3Igc3BhY2VzXG4gICAgICAgICAgICB2YXIgY3VycklzQnJlYWtpbmdTcGFjZSA9IFRleHRNZXRyaWNzLmlzQnJlYWtpbmdTcGFjZSh0b2tlbik7XG4gICAgICAgICAgICB2YXIgbGFzdElzQnJlYWtpbmdTcGFjZSA9IFRleHRNZXRyaWNzLmlzQnJlYWtpbmdTcGFjZShsaW5lW2xpbmUubGVuZ3RoIC0gMV0pO1xuXG4gICAgICAgICAgICBpZiAoY3VycklzQnJlYWtpbmdTcGFjZSAmJiBsYXN0SXNCcmVha2luZ1NwYWNlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gZ2V0IHdvcmQgd2lkdGggZnJvbSBjYWNoZSBpZiBwb3NzaWJsZVxuICAgICAgICB2YXIgdG9rZW5XaWR0aCA9IFRleHRNZXRyaWNzLmdldEZyb21DYWNoZSh0b2tlbiwgbGV0dGVyU3BhY2luZywgY2FjaGUsIGNvbnRleHQpO1xuXG4gICAgICAgIC8vIHdvcmQgaXMgbG9uZ2VyIHRoYW4gZGVzaXJlZCBib3VuZHNcbiAgICAgICAgaWYgKHRva2VuV2lkdGggPiB3b3JkV3JhcFdpZHRoKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBpZiB3ZSBhcmUgbm90IGFscmVhZHkgYXQgdGhlIGJlZ2lubmluZyBvZiBhIGxpbmVcbiAgICAgICAgICAgIGlmIChsaW5lICE9PSAnJylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAvLyBzdGFydCBuZXdsaW5lcyBmb3Igb3ZlcmZsb3cgd29yZHNcbiAgICAgICAgICAgICAgICBsaW5lcyArPSBUZXh0TWV0cmljcy5hZGRMaW5lKGxpbmUpO1xuICAgICAgICAgICAgICAgIGxpbmUgPSAnJztcbiAgICAgICAgICAgICAgICB3aWR0aCA9IDA7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGJyZWFrIGxhcmdlIHdvcmQgb3ZlciBtdWx0aXBsZSBsaW5lc1xuICAgICAgICAgICAgaWYgKFRleHRNZXRyaWNzLmNhbkJyZWFrV29yZHModG9rZW4sIHN0eWxlLmJyZWFrV29yZHMpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIC8vIGJyZWFrIHdvcmQgaW50byBjaGFyYWN0ZXJzXG4gICAgICAgICAgICAgICAgdmFyIGNoYXJhY3RlcnMgPSB0b2tlbi5zcGxpdCgnJyk7XG5cbiAgICAgICAgICAgICAgICAvLyBsb29wIHRoZSBjaGFyYWN0ZXJzXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBjaGFyYWN0ZXJzLmxlbmd0aDsgaisrKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNoYXIgPSBjaGFyYWN0ZXJzW2pdO1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBrID0gMTtcbiAgICAgICAgICAgICAgICAgICAgLy8gd2UgYXJlIG5vdCBhdCB0aGUgZW5kIG9mIHRoZSB0b2tlblxuXG4gICAgICAgICAgICAgICAgICAgIHdoaWxlIChjaGFyYWN0ZXJzW2ogKyBrXSlcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5leHRDaGFyID0gY2hhcmFjdGVyc1tqICsga107XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbGFzdENoYXIgPSBjaGFyW2NoYXIubGVuZ3RoIC0gMV07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNob3VsZCBub3Qgc3BsaXQgY2hhcnNcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghVGV4dE1ldHJpY3MuY2FuQnJlYWtDaGFycyhsYXN0Q2hhciwgbmV4dENoYXIsIHRva2VuLCBqLCBzdHlsZS5icmVha1dvcmRzKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBjb21iaW5lIGNoYXJzICYgbW92ZSBmb3J3YXJkIG9uZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYXIgKz0gbmV4dENoYXI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGsrKztcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGogKz0gY2hhci5sZW5ndGggLSAxO1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBjaGFyYWN0ZXJXaWR0aCA9IFRleHRNZXRyaWNzLmdldEZyb21DYWNoZShjaGFyLCBsZXR0ZXJTcGFjaW5nLCBjYWNoZSwgY29udGV4dCk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoYXJhY3RlcldpZHRoICsgd2lkdGggPiB3b3JkV3JhcFdpZHRoKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsaW5lcyArPSBUZXh0TWV0cmljcy5hZGRMaW5lKGxpbmUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FuUHJlcGVuZFNwYWNlcyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGluZSA9ICcnO1xuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGggPSAwO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgbGluZSArPSBjaGFyO1xuICAgICAgICAgICAgICAgICAgICB3aWR0aCArPSBjaGFyYWN0ZXJXaWR0aDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIHJ1biB3b3JkIG91dCBvZiB0aGUgYm91bmRzXG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgLy8gaWYgdGhlcmUgYXJlIHdvcmRzIGluIHRoaXMgbGluZSBhbHJlYWR5XG4gICAgICAgICAgICAgICAgLy8gZmluaXNoIHRoYXQgbGluZSBhbmQgc3RhcnQgYSBuZXcgb25lXG4gICAgICAgICAgICAgICAgaWYgKGxpbmUubGVuZ3RoID4gMClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGxpbmVzICs9IFRleHRNZXRyaWNzLmFkZExpbmUobGluZSk7XG4gICAgICAgICAgICAgICAgICAgIGxpbmUgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgd2lkdGggPSAwO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHZhciBpc0xhc3RUb2tlbiA9IGkgPT09IHRva2Vucy5sZW5ndGggLSAxO1xuXG4gICAgICAgICAgICAgICAgLy8gZ2l2ZSBpdCBpdHMgb3duIGxpbmUgaWYgaXQncyBub3QgdGhlIGVuZFxuICAgICAgICAgICAgICAgIGxpbmVzICs9IFRleHRNZXRyaWNzLmFkZExpbmUodG9rZW4sICFpc0xhc3RUb2tlbik7XG4gICAgICAgICAgICAgICAgY2FuUHJlcGVuZFNwYWNlcyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGxpbmUgPSAnJztcbiAgICAgICAgICAgICAgICB3aWR0aCA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyB3b3JkIGNvdWxkIGZpdFxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIHdvcmQgd29uJ3QgZml0IGJlY2F1c2Ugb2YgZXhpc3Rpbmcgd29yZHNcbiAgICAgICAgICAgIC8vIHN0YXJ0IGEgbmV3IGxpbmVcbiAgICAgICAgICAgIGlmICh0b2tlbldpZHRoICsgd2lkdGggPiB3b3JkV3JhcFdpZHRoKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIC8vIGlmIGl0cyBhIHNwYWNlIHdlIGRvbid0IHdhbnQgaXRcbiAgICAgICAgICAgICAgICBjYW5QcmVwZW5kU3BhY2VzID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAvLyBhZGQgYSBuZXcgbGluZVxuICAgICAgICAgICAgICAgIGxpbmVzICs9IFRleHRNZXRyaWNzLmFkZExpbmUobGluZSk7XG5cbiAgICAgICAgICAgICAgICAvLyBzdGFydCBhIG5ldyBsaW5lXG4gICAgICAgICAgICAgICAgbGluZSA9ICcnO1xuICAgICAgICAgICAgICAgIHdpZHRoID0gMDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gZG9uJ3QgYWRkIHNwYWNlcyB0byB0aGUgYmVnaW5uaW5nIG9mIGxpbmVzXG4gICAgICAgICAgICBpZiAobGluZS5sZW5ndGggPiAwIHx8ICFUZXh0TWV0cmljcy5pc0JyZWFraW5nU3BhY2UodG9rZW4pIHx8IGNhblByZXBlbmRTcGFjZXMpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgLy8gYWRkIHRoZSB3b3JkIHRvIHRoZSBjdXJyZW50IGxpbmVcbiAgICAgICAgICAgICAgICBsaW5lICs9IHRva2VuO1xuXG4gICAgICAgICAgICAgICAgLy8gdXBkYXRlIHdpZHRoIGNvdW50ZXJcbiAgICAgICAgICAgICAgICB3aWR0aCArPSB0b2tlbldpZHRoO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgbGluZXMgKz0gVGV4dE1ldHJpY3MuYWRkTGluZShsaW5lLCBmYWxzZSk7XG5cbiAgICByZXR1cm4gbGluZXM7XG59O1xuXG4vKipcbiAqIENvbnZpZW5pZW5jZSBmdW5jdGlvbiBmb3IgbG9nZ2luZyBlYWNoIGxpbmUgYWRkZWQgZHVyaW5nIHRoZSB3b3JkV3JhcFxuICogbWV0aG9kXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSAge3N0cmluZ30gICBsaW5lICAgIC0gVGhlIGxpbmUgb2YgdGV4dCB0byBhZGRcbiAqIEBwYXJhbSAge2Jvb2xlYW59ICBuZXdMaW5lIC0gQWRkIG5ldyBsaW5lIGNoYXJhY3RlciB0byBlbmRcbiAqIEByZXR1cm4ge3N0cmluZ30gICBBIGZvcm1hdHRlZCBsaW5lXG4gKi9cblRleHRNZXRyaWNzLmFkZExpbmUgPSBmdW5jdGlvbiBhZGRMaW5lIChsaW5lLCBuZXdMaW5lKVxue1xuICAgICAgICBpZiAoIG5ld0xpbmUgPT09IHZvaWQgMCApIG5ld0xpbmUgPSB0cnVlO1xuXG4gICAgbGluZSA9IFRleHRNZXRyaWNzLnRyaW1SaWdodChsaW5lKTtcblxuICAgIGxpbmUgPSAobmV3TGluZSkgPyAobGluZSArIFwiXFxuXCIpIDogbGluZTtcblxuICAgIHJldHVybiBsaW5lO1xufTtcblxuLyoqXG4gKiBHZXRzICYgc2V0cyB0aGUgd2lkdGhzIG9mIGNhbGN1bGF0ZWQgY2hhcmFjdGVycyBpbiBhIGNhY2hlIG9iamVjdFxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0gIHtzdHJpbmd9ICAgICAgICAgICAgICAgIGtleSAgICAgICAgVGhlIGtleVxuICogQHBhcmFtICB7bnVtYmVyfSAgICAgICAgICAgICAgICBsZXR0ZXJTcGFjaW5nICBUaGUgbGV0dGVyIHNwYWNpbmdcbiAqIEBwYXJhbSAge29iamVjdH0gICAgICAgICAgICAgICAgY2FjaGUgICAgICBUaGUgY2FjaGVcbiAqIEBwYXJhbSAge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gIGNvbnRleHQgICAgVGhlIGNhbnZhcyBjb250ZXh0XG4gKiBAcmV0dXJuIHtudW1iZXJ9ICAgICAgICAgICAgICAgIFRoZSBmcm9tIGNhY2hlLlxuICovXG5UZXh0TWV0cmljcy5nZXRGcm9tQ2FjaGUgPSBmdW5jdGlvbiBnZXRGcm9tQ2FjaGUgKGtleSwgbGV0dGVyU3BhY2luZywgY2FjaGUsIGNvbnRleHQpXG57XG4gICAgdmFyIHdpZHRoID0gY2FjaGVba2V5XTtcblxuICAgIGlmICh3aWR0aCA9PT0gdW5kZWZpbmVkKVxuICAgIHtcbiAgICAgICAgdmFyIHNwYWNpbmcgPSAoKGtleS5sZW5ndGgpICogbGV0dGVyU3BhY2luZyk7XG5cbiAgICAgICAgd2lkdGggPSBjb250ZXh0Lm1lYXN1cmVUZXh0KGtleSkud2lkdGggKyBzcGFjaW5nO1xuICAgICAgICBjYWNoZVtrZXldID0gd2lkdGg7XG4gICAgfVxuXG4gICAgcmV0dXJuIHdpZHRoO1xufTtcblxuLyoqXG4gKiBEZXRlcm1pbmVzIHdoZXRoZXIgd2Ugc2hvdWxkIGNvbGxhcHNlIGJyZWFraW5nIHNwYWNlc1xuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0gIHtzdHJpbmd9ICAgd2hpdGVTcGFjZSAgVGhlIFRleHRTdHlsZSBwcm9wZXJ0eSB3aGl0ZVNwYWNlXG4gKiBAcmV0dXJuIHtib29sZWFufSAgc2hvdWxkIGNvbGxhcHNlXG4gKi9cblRleHRNZXRyaWNzLmNvbGxhcHNlU3BhY2VzID0gZnVuY3Rpb24gY29sbGFwc2VTcGFjZXMgKHdoaXRlU3BhY2UpXG57XG4gICAgcmV0dXJuICh3aGl0ZVNwYWNlID09PSAnbm9ybWFsJyB8fCB3aGl0ZVNwYWNlID09PSAncHJlLWxpbmUnKTtcbn07XG5cbi8qKlxuICogRGV0ZXJtaW5lcyB3aGV0aGVyIHdlIHNob3VsZCBjb2xsYXBzZSBuZXdMaW5lIGNoYXJzXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSAge3N0cmluZ30gICB3aGl0ZVNwYWNlICBUaGUgd2hpdGUgc3BhY2VcbiAqIEByZXR1cm4ge2Jvb2xlYW59ICBzaG91bGQgY29sbGFwc2VcbiAqL1xuVGV4dE1ldHJpY3MuY29sbGFwc2VOZXdsaW5lcyA9IGZ1bmN0aW9uIGNvbGxhcHNlTmV3bGluZXMgKHdoaXRlU3BhY2UpXG57XG4gICAgcmV0dXJuICh3aGl0ZVNwYWNlID09PSAnbm9ybWFsJyk7XG59O1xuXG4vKipcbiAqIHRyaW1zIGJyZWFraW5nIHdoaXRlc3BhY2VzIGZyb20gc3RyaW5nXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSAge3N0cmluZ30gIHRleHQgIFRoZSB0ZXh0XG4gKiBAcmV0dXJuIHtzdHJpbmd9ICB0cmltbWVkIHN0cmluZ1xuICovXG5UZXh0TWV0cmljcy50cmltUmlnaHQgPSBmdW5jdGlvbiB0cmltUmlnaHQgKHRleHQpXG57XG4gICAgaWYgKHR5cGVvZiB0ZXh0ICE9PSAnc3RyaW5nJylcbiAgICB7XG4gICAgICAgIHJldHVybiAnJztcbiAgICB9XG5cbiAgICBmb3IgKHZhciBpID0gdGV4dC5sZW5ndGggLSAxOyBpID49IDA7IGktLSlcbiAgICB7XG4gICAgICAgIHZhciBjaGFyID0gdGV4dFtpXTtcblxuICAgICAgICBpZiAoIVRleHRNZXRyaWNzLmlzQnJlYWtpbmdTcGFjZShjaGFyKSlcbiAgICAgICAge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICB0ZXh0ID0gdGV4dC5zbGljZSgwLCAtMSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRleHQ7XG59O1xuXG4vKipcbiAqIERldGVybWluZXMgaWYgY2hhciBpcyBhIG5ld2xpbmUuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSAge3N0cmluZ30gIGNoYXIgIFRoZSBjaGFyYWN0ZXJcbiAqIEByZXR1cm4ge2Jvb2xlYW59ICBUcnVlIGlmIG5ld2xpbmUsIEZhbHNlIG90aGVyd2lzZS5cbiAqL1xuVGV4dE1ldHJpY3MuaXNOZXdsaW5lID0gZnVuY3Rpb24gaXNOZXdsaW5lIChjaGFyKVxue1xuICAgIGlmICh0eXBlb2YgY2hhciAhPT0gJ3N0cmluZycpXG4gICAge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIChUZXh0TWV0cmljcy5fbmV3bGluZXMuaW5kZXhPZihjaGFyLmNoYXJDb2RlQXQoMCkpID49IDApO1xufTtcblxuLyoqXG4gKiBEZXRlcm1pbmVzIGlmIGNoYXIgaXMgYSBicmVha2luZyB3aGl0ZXNwYWNlLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0gIHtzdHJpbmd9ICBjaGFyICBUaGUgY2hhcmFjdGVyXG4gKiBAcmV0dXJuIHtib29sZWFufSAgVHJ1ZSBpZiB3aGl0ZXNwYWNlLCBGYWxzZSBvdGhlcndpc2UuXG4gKi9cblRleHRNZXRyaWNzLmlzQnJlYWtpbmdTcGFjZSA9IGZ1bmN0aW9uIGlzQnJlYWtpbmdTcGFjZSAoY2hhcilcbntcbiAgICBpZiAodHlwZW9mIGNoYXIgIT09ICdzdHJpbmcnKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiAoVGV4dE1ldHJpY3MuX2JyZWFraW5nU3BhY2VzLmluZGV4T2YoY2hhci5jaGFyQ29kZUF0KDApKSA+PSAwKTtcbn07XG5cbi8qKlxuICogU3BsaXRzIGEgc3RyaW5nIGludG8gd29yZHMsIGJyZWFraW5nLXNwYWNlcyBhbmQgbmV3TGluZSBjaGFyYWN0ZXJzXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSAge3N0cmluZ30gIHRleHQgICBUaGUgdGV4dFxuICogQHJldHVybiB7c3RyaW5nW119ICBBIHRva2VuaXplZCBhcnJheVxuICovXG5UZXh0TWV0cmljcy50b2tlbml6ZSA9IGZ1bmN0aW9uIHRva2VuaXplICh0ZXh0KVxue1xuICAgIHZhciB0b2tlbnMgPSBbXTtcbiAgICB2YXIgdG9rZW4gPSAnJztcblxuICAgIGlmICh0eXBlb2YgdGV4dCAhPT0gJ3N0cmluZycpXG4gICAge1xuICAgICAgICByZXR1cm4gdG9rZW5zO1xuICAgIH1cblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGV4dC5sZW5ndGg7IGkrKylcbiAgICB7XG4gICAgICAgIHZhciBjaGFyID0gdGV4dFtpXTtcblxuICAgICAgICBpZiAoVGV4dE1ldHJpY3MuaXNCcmVha2luZ1NwYWNlKGNoYXIpIHx8IFRleHRNZXRyaWNzLmlzTmV3bGluZShjaGFyKSlcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRva2VuICE9PSAnJylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0b2tlbnMucHVzaCh0b2tlbik7XG4gICAgICAgICAgICAgICAgdG9rZW4gPSAnJztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdG9rZW5zLnB1c2goY2hhcik7XG5cbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgdG9rZW4gKz0gY2hhcjtcbiAgICB9XG5cbiAgICBpZiAodG9rZW4gIT09ICcnKVxuICAgIHtcbiAgICAgICAgdG9rZW5zLnB1c2godG9rZW4pO1xuICAgIH1cblxuICAgIHJldHVybiB0b2tlbnM7XG59O1xuXG4vKipcbiAqIFRoaXMgbWV0aG9kIGV4aXN0cyB0byBiZSBlYXNpbHkgb3ZlcnJpZGRlblxuICogSXQgYWxsb3dzIG9uZSB0byBjdXN0b21pc2Ugd2hpY2ggd29yZHMgc2hvdWxkIGJyZWFrXG4gKiBFeGFtcGxlcyBhcmUgaWYgdGhlIHRva2VuIGlzIENKSyBvciBudW1iZXJzLlxuICogSXQgbXVzdCByZXR1cm4gYSBib29sZWFuLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0gIHtzdHJpbmd9ICB0b2tlbiAgIFRoZSB0b2tlblxuICogQHBhcmFtICB7Ym9vbGVhbn0gIGJyZWFrV29yZHMgIFRoZSBzdHlsZSBhdHRyIGJyZWFrIHdvcmRzXG4gKiBAcmV0dXJuIHtib29sZWFufSB3aGV0aGVyIHRvIGJyZWFrIHdvcmQgb3Igbm90XG4gKi9cblRleHRNZXRyaWNzLmNhbkJyZWFrV29yZHMgPSBmdW5jdGlvbiBjYW5CcmVha1dvcmRzICh0b2tlbiwgYnJlYWtXb3JkcylcbntcbiAgICByZXR1cm4gYnJlYWtXb3Jkcztcbn07XG5cbi8qKlxuICogVGhpcyBtZXRob2QgZXhpc3RzIHRvIGJlIGVhc2lseSBvdmVycmlkZGVuXG4gKiBJdCBhbGxvd3Mgb25lIHRvIGRldGVybWluZSB3aGV0aGVyIGEgcGFpciBvZiBjaGFyYWN0ZXJzXG4gKiBzaG91bGQgYmUgYnJva2VuIGJ5IG5ld2xpbmVzXG4gKiBGb3IgZXhhbXBsZSBjZXJ0YWluIGNoYXJhY3RlcnMgaW4gQ0pLIGxhbmdzIG9yIG51bWJlcnMuXG4gKiBJdCBtdXN0IHJldHVybiBhIGJvb2xlYW4uXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSAge3N0cmluZ30gIGNoYXIgIFRoZSBjaGFyYWN0ZXJcbiAqIEBwYXJhbSAge3N0cmluZ30gIG5leHRDaGFyICBUaGUgbmV4dCBjaGFyYWN0ZXJcbiAqIEBwYXJhbSAge3N0cmluZ30gIHRva2VuIFRoZSB0b2tlbi93b3JkIHRoZSBjaGFyYWN0ZXJzIGFyZSBmcm9tXG4gKiBAcGFyYW0gIHtudW1iZXJ9ICBpbmRleCBUaGUgaW5kZXggaW4gdGhlIHRva2VuIG9mIHRoZSBjaGFyXG4gKiBAcGFyYW0gIHtib29sZWFufSAgYnJlYWtXb3JkcyAgVGhlIHN0eWxlIGF0dHIgYnJlYWsgd29yZHNcbiAqIEByZXR1cm4ge2Jvb2xlYW59IHdoZXRoZXIgdG8gYnJlYWsgd29yZCBvciBub3RcbiAqL1xuVGV4dE1ldHJpY3MuY2FuQnJlYWtDaGFycyA9IGZ1bmN0aW9uIGNhbkJyZWFrQ2hhcnMgKGNoYXIsIG5leHRDaGFyLCB0b2tlbiwgaW5kZXgsIGJyZWFrV29yZHMpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcbntcbiAgICByZXR1cm4gdHJ1ZTtcbn07XG5cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgYXNjZW50LCBkZXNjZW50IGFuZCBmb250U2l6ZSBvZiBhIGdpdmVuIGZvbnQtc3R5bGVcbiAqXG4gKiBAc3RhdGljXG4gKiBAcGFyYW0ge3N0cmluZ30gZm9udCAtIFN0cmluZyByZXByZXNlbnRpbmcgdGhlIHN0eWxlIG9mIHRoZSBmb250XG4gKiBAcmV0dXJuIHtQSVhJLklGb250TWV0cmljc30gRm9udCBwcm9wZXJ0aWVzIG9iamVjdFxuICovXG5UZXh0TWV0cmljcy5tZWFzdXJlRm9udCA9IGZ1bmN0aW9uIG1lYXN1cmVGb250IChmb250KVxue1xuICAgIC8vIGFzIHRoaXMgbWV0aG9kIGlzIHVzZWQgZm9yIHByZXBhcmluZyBhc3NldHMsIGRvbid0IHJlY2FsY3VsYXRlIHRoaW5ncyBpZiB3ZSBkb24ndCBuZWVkIHRvXG4gICAgaWYgKFRleHRNZXRyaWNzLl9mb250c1tmb250XSlcbiAgICB7XG4gICAgICAgIHJldHVybiBUZXh0TWV0cmljcy5fZm9udHNbZm9udF07XG4gICAgfVxuXG4gICAgdmFyIHByb3BlcnRpZXMgPSB7fTtcblxuICAgIHZhciBjYW52YXMgPSBUZXh0TWV0cmljcy5fY2FudmFzO1xuICAgIHZhciBjb250ZXh0ID0gVGV4dE1ldHJpY3MuX2NvbnRleHQ7XG5cbiAgICBjb250ZXh0LmZvbnQgPSBmb250O1xuXG4gICAgdmFyIG1ldHJpY3NTdHJpbmcgPSBUZXh0TWV0cmljcy5NRVRSSUNTX1NUUklORyArIFRleHRNZXRyaWNzLkJBU0VMSU5FX1NZTUJPTDtcbiAgICB2YXIgd2lkdGggPSBNYXRoLmNlaWwoY29udGV4dC5tZWFzdXJlVGV4dChtZXRyaWNzU3RyaW5nKS53aWR0aCk7XG4gICAgdmFyIGJhc2VsaW5lID0gTWF0aC5jZWlsKGNvbnRleHQubWVhc3VyZVRleHQoVGV4dE1ldHJpY3MuQkFTRUxJTkVfU1lNQk9MKS53aWR0aCk7XG4gICAgdmFyIGhlaWdodCA9IDIgKiBiYXNlbGluZTtcblxuICAgIGJhc2VsaW5lID0gYmFzZWxpbmUgKiBUZXh0TWV0cmljcy5CQVNFTElORV9NVUxUSVBMSUVSIHwgMDtcblxuICAgIGNhbnZhcy53aWR0aCA9IHdpZHRoO1xuICAgIGNhbnZhcy5oZWlnaHQgPSBoZWlnaHQ7XG5cbiAgICBjb250ZXh0LmZpbGxTdHlsZSA9ICcjZjAwJztcbiAgICBjb250ZXh0LmZpbGxSZWN0KDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xuXG4gICAgY29udGV4dC5mb250ID0gZm9udDtcblxuICAgIGNvbnRleHQudGV4dEJhc2VsaW5lID0gJ2FscGhhYmV0aWMnO1xuICAgIGNvbnRleHQuZmlsbFN0eWxlID0gJyMwMDAnO1xuICAgIGNvbnRleHQuZmlsbFRleHQobWV0cmljc1N0cmluZywgMCwgYmFzZWxpbmUpO1xuXG4gICAgdmFyIGltYWdlZGF0YSA9IGNvbnRleHQuZ2V0SW1hZ2VEYXRhKDAsIDAsIHdpZHRoLCBoZWlnaHQpLmRhdGE7XG4gICAgdmFyIHBpeGVscyA9IGltYWdlZGF0YS5sZW5ndGg7XG4gICAgdmFyIGxpbmUgPSB3aWR0aCAqIDQ7XG5cbiAgICB2YXIgaSA9IDA7XG4gICAgdmFyIGlkeCA9IDA7XG4gICAgdmFyIHN0b3AgPSBmYWxzZTtcblxuICAgIC8vIGFzY2VudC4gc2NhbiBmcm9tIHRvcCB0byBib3R0b20gdW50aWwgd2UgZmluZCBhIG5vbiByZWQgcGl4ZWxcbiAgICBmb3IgKGkgPSAwOyBpIDwgYmFzZWxpbmU7ICsraSlcbiAgICB7XG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgbGluZTsgaiArPSA0KVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoaW1hZ2VkYXRhW2lkeCArIGpdICE9PSAyNTUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3RvcCA9IHRydWU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFzdG9wKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZHggKz0gbGluZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJvcGVydGllcy5hc2NlbnQgPSBiYXNlbGluZSAtIGk7XG5cbiAgICBpZHggPSBwaXhlbHMgLSBsaW5lO1xuICAgIHN0b3AgPSBmYWxzZTtcblxuICAgIC8vIGRlc2NlbnQuIHNjYW4gZnJvbSBib3R0b20gdG8gdG9wIHVudGlsIHdlIGZpbmQgYSBub24gcmVkIHBpeGVsXG4gICAgZm9yIChpID0gaGVpZ2h0OyBpID4gYmFzZWxpbmU7IC0taSlcbiAgICB7XG4gICAgICAgIGZvciAodmFyIGokMSA9IDA7IGokMSA8IGxpbmU7IGokMSArPSA0KVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoaW1hZ2VkYXRhW2lkeCArIGokMV0gIT09IDI1NSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdG9wID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghc3RvcClcbiAgICAgICAge1xuICAgICAgICAgICAgaWR4IC09IGxpbmU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByb3BlcnRpZXMuZGVzY2VudCA9IGkgLSBiYXNlbGluZTtcbiAgICBwcm9wZXJ0aWVzLmZvbnRTaXplID0gcHJvcGVydGllcy5hc2NlbnQgKyBwcm9wZXJ0aWVzLmRlc2NlbnQ7XG5cbiAgICBUZXh0TWV0cmljcy5fZm9udHNbZm9udF0gPSBwcm9wZXJ0aWVzO1xuXG4gICAgcmV0dXJuIHByb3BlcnRpZXM7XG59O1xuXG4vKipcbiAqIENsZWFyIGZvbnQgbWV0cmljcyBpbiBtZXRyaWNzIGNhY2hlLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBwYXJhbSB7c3RyaW5nfSBbZm9udF0gLSBmb250IG5hbWUuIElmIGZvbnQgbmFtZSBub3Qgc2V0IHRoZW4gY2xlYXIgY2FjaGUgZm9yIGFsbCBmb250cy5cbiAqL1xuVGV4dE1ldHJpY3MuY2xlYXJNZXRyaWNzID0gZnVuY3Rpb24gY2xlYXJNZXRyaWNzIChmb250KVxue1xuICAgICAgICBpZiAoIGZvbnQgPT09IHZvaWQgMCApIGZvbnQgPSAnJztcblxuICAgIGlmIChmb250KVxuICAgIHtcbiAgICAgICAgZGVsZXRlIFRleHRNZXRyaWNzLl9mb250c1tmb250XTtcbiAgICB9XG4gICAgZWxzZVxuICAgIHtcbiAgICAgICAgVGV4dE1ldHJpY3MuX2ZvbnRzID0ge307XG4gICAgfVxufTtcblxuLyoqXG4gKiBJbnRlcm5hbCByZXR1cm4gb2JqZWN0IGZvciB7QGxpbmsgUElYSS5UZXh0TWV0cmljcy5tZWFzdXJlRm9udCBgVGV4dE1ldHJpY3MubWVhc3VyZUZvbnRgfS5cbiAqXG4gKiBAdHlwZWRlZiB7b2JqZWN0fSBGb250TWV0cmljc1xuICogQHByb3BlcnR5IHtudW1iZXJ9IGFzY2VudCAtIFRoZSBhc2NlbnQgZGlzdGFuY2VcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBkZXNjZW50IC0gVGhlIGRlc2NlbnQgZGlzdGFuY2VcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBmb250U2l6ZSAtIEZvbnQgc2l6ZSBmcm9tIGFzY2VudCB0byBkZXNjZW50XG4gKiBAbWVtYmVyb2YgUElYSS5UZXh0TWV0cmljc1xuICogQHByaXZhdGVcbiAqL1xuXG52YXIgY2FudmFzID0gKGZ1bmN0aW9uICgpIHtcbiAgICB0cnlcbiAgICB7XG4gICAgICAgIC8vIE9mZnNjcmVlbkNhbnZhczJEIG1lYXN1cmVUZXh0IGNhbiBiZSB1cCB0byA0MCUgZmFzdGVyLlxuICAgICAgICB2YXIgYyA9IG5ldyBPZmZzY3JlZW5DYW52YXMoMCwgMCk7XG5cbiAgICAgICAgcmV0dXJuIGMuZ2V0Q29udGV4dCgnMmQnKSA/IGMgOiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICB9XG4gICAgY2F0Y2ggKGV4KVxuICAgIHtcbiAgICAgICAgcmV0dXJuIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgIH1cbn0pKCk7XG5cbmNhbnZhcy53aWR0aCA9IGNhbnZhcy5oZWlnaHQgPSAxMDtcblxuLyoqXG4gKiBDYWNoZWQgY2FudmFzIGVsZW1lbnQgZm9yIG1lYXN1cmluZyB0ZXh0XG4gKlxuICogQG1lbWJlcm9mIFBJWEkuVGV4dE1ldHJpY3NcbiAqIEB0eXBlIHtIVE1MQ2FudmFzRWxlbWVudH1cbiAqIEBwcml2YXRlXG4gKi9cblRleHRNZXRyaWNzLl9jYW52YXMgPSBjYW52YXM7XG5cbi8qKlxuICogQ2FjaGUgZm9yIGNvbnRleHQgdG8gdXNlLlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLlRleHRNZXRyaWNzXG4gKiBAdHlwZSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfVxuICogQHByaXZhdGVcbiAqL1xuVGV4dE1ldHJpY3MuX2NvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcblxuLyoqXG4gKiBDYWNoZSBvZiB7QHNlZSBQSVhJLlRleHRNZXRyaWNzLkZvbnRNZXRyaWNzfSBvYmplY3RzLlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLlRleHRNZXRyaWNzXG4gKiBAdHlwZSB7T2JqZWN0fVxuICogQHByaXZhdGVcbiAqL1xuVGV4dE1ldHJpY3MuX2ZvbnRzID0ge307XG5cbi8qKlxuICogU3RyaW5nIHVzZWQgZm9yIGNhbGN1bGF0ZSBmb250IG1ldHJpY3MuXG4gKiBUaGVzZSBjaGFyYWN0ZXJzIGFyZSBhbGwgdGFsbCB0byBoZWxwIGNhbGN1bGF0ZSB0aGUgaGVpZ2h0IHJlcXVpcmVkIGZvciB0ZXh0LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJvZiBQSVhJLlRleHRNZXRyaWNzXG4gKiBAbmFtZSBNRVRSSUNTX1NUUklOR1xuICogQHR5cGUge3N0cmluZ31cbiAqIEBkZWZhdWx0IHzDiXHDhVxuICovXG5UZXh0TWV0cmljcy5NRVRSSUNTX1NUUklORyA9ICd8w4lxw4UnO1xuXG4vKipcbiAqIEJhc2VsaW5lIHN5bWJvbCBmb3IgY2FsY3VsYXRlIGZvbnQgbWV0cmljcy5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyb2YgUElYSS5UZXh0TWV0cmljc1xuICogQG5hbWUgQkFTRUxJTkVfU1lNQk9MXG4gKiBAdHlwZSB7c3RyaW5nfVxuICogQGRlZmF1bHQgTVxuICovXG5UZXh0TWV0cmljcy5CQVNFTElORV9TWU1CT0wgPSAnTSc7XG5cbi8qKlxuICogQmFzZWxpbmUgbXVsdGlwbGllciBmb3IgY2FsY3VsYXRlIGZvbnQgbWV0cmljcy5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyb2YgUElYSS5UZXh0TWV0cmljc1xuICogQG5hbWUgQkFTRUxJTkVfTVVMVElQTElFUlxuICogQHR5cGUge251bWJlcn1cbiAqIEBkZWZhdWx0IDEuNFxuICovXG5UZXh0TWV0cmljcy5CQVNFTElORV9NVUxUSVBMSUVSID0gMS40O1xuXG4vKipcbiAqIENhY2hlIG9mIG5ldyBsaW5lIGNoYXJzLlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLlRleHRNZXRyaWNzXG4gKiBAdHlwZSB7bnVtYmVyW119XG4gKiBAcHJpdmF0ZVxuICovXG5UZXh0TWV0cmljcy5fbmV3bGluZXMgPSBbXG4gICAgMHgwMDBBLCAvLyBsaW5lIGZlZWRcbiAgICAweDAwMEQgXTtcblxuLyoqXG4gKiBDYWNoZSBvZiBicmVha2luZyBzcGFjZXMuXG4gKlxuICogQG1lbWJlcm9mIFBJWEkuVGV4dE1ldHJpY3NcbiAqIEB0eXBlIHtudW1iZXJbXX1cbiAqIEBwcml2YXRlXG4gKi9cblRleHRNZXRyaWNzLl9icmVha2luZ1NwYWNlcyA9IFtcbiAgICAweDAwMDksIC8vIGNoYXJhY3RlciB0YWJ1bGF0aW9uXG4gICAgMHgwMDIwLCAvLyBzcGFjZVxuICAgIDB4MjAwMCwgLy8gZW4gcXVhZFxuICAgIDB4MjAwMSwgLy8gZW0gcXVhZFxuICAgIDB4MjAwMiwgLy8gZW4gc3BhY2VcbiAgICAweDIwMDMsIC8vIGVtIHNwYWNlXG4gICAgMHgyMDA0LCAvLyB0aHJlZS1wZXItZW0gc3BhY2VcbiAgICAweDIwMDUsIC8vIGZvdXItcGVyLWVtIHNwYWNlXG4gICAgMHgyMDA2LCAvLyBzaXgtcGVyLWVtIHNwYWNlXG4gICAgMHgyMDA4LCAvLyBwdW5jdHVhdGlvbiBzcGFjZVxuICAgIDB4MjAwOSwgLy8gdGhpbiBzcGFjZVxuICAgIDB4MjAwQSwgLy8gaGFpciBzcGFjZVxuICAgIDB4MjA1RiwgLy8gbWVkaXVtIG1hdGhlbWF0aWNhbCBzcGFjZVxuICAgIDB4MzAwMCBdO1xuXG4vKipcbiAqIEEgbnVtYmVyLCBvciBhIHN0cmluZyBjb250YWluaW5nIGEgbnVtYmVyLlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAdHlwZWRlZiBJRm9udE1ldHJpY3NcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBhc2NlbnQgLSBGb250IGFzY2VudFxuICogQHByb3BlcnR5IHtudW1iZXJ9IGRlc2NlbnQgLSBGb250IGRlc2NlbnRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBmb250U2l6ZSAtIEZvbnQgc2l6ZVxuICovXG5cbi8qIGVzbGludCBtYXgtZGVwdGg6IFsyLCA4XSAqL1xuXG52YXIgZGVmYXVsdERlc3Ryb3lPcHRpb25zID0ge1xuICAgIHRleHR1cmU6IHRydWUsXG4gICAgY2hpbGRyZW46IGZhbHNlLFxuICAgIGJhc2VUZXh0dXJlOiB0cnVlLFxufTtcblxuLyoqXG4gKiBBIFRleHQgT2JqZWN0IHdpbGwgY3JlYXRlIGEgbGluZSBvciBtdWx0aXBsZSBsaW5lcyBvZiB0ZXh0LlxuICpcbiAqIFRoZSB0ZXh0IGlzIGNyZWF0ZWQgdXNpbmcgdGhlIFtDYW52YXMgQVBJXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvQ2FudmFzX0FQSSkuXG4gKlxuICogVGhlIHByaW1hcnkgYWR2YW50YWdlIG9mIHRoaXMgY2xhc3Mgb3ZlciBCaXRtYXBUZXh0IGlzIHRoYXQgeW91IGhhdmUgZ3JlYXQgY29udHJvbCBvdmVyIHRoZSBzdHlsZSBvZiB0aGUgbmV4dCxcbiAqIHdoaWNoIHlvdSBjYW4gY2hhbmdlIGF0IHJ1bnRpbWUuXG4gKlxuICogVGhlIHByaW1hcnkgZGlzYWR2YW50YWdlcyBpcyB0aGF0IGVhY2ggcGllY2Ugb2YgdGV4dCBoYXMgaXQncyBvd24gdGV4dHVyZSwgd2hpY2ggY2FuIHVzZSBtb3JlIG1lbW9yeS5cbiAqIFdoZW4gdGV4dCBjaGFuZ2VzLCB0aGlzIHRleHR1cmUgaGFzIHRvIGJlIHJlLWdlbmVyYXRlZCBhbmQgcmUtdXBsb2FkZWQgdG8gdGhlIEdQVSwgdGFraW5nIHVwIHRpbWUuXG4gKlxuICogVG8gc3BsaXQgYSBsaW5lIHlvdSBjYW4gdXNlICdcXG4nIGluIHlvdXIgdGV4dCBzdHJpbmcsIG9yLCBvbiB0aGUgYHN0eWxlYCBvYmplY3QsXG4gKiBjaGFuZ2UgaXRzIGB3b3JkV3JhcGAgcHJvcGVydHkgdG8gdHJ1ZSBhbmQgYW5kIGdpdmUgdGhlIGB3b3JkV3JhcFdpZHRoYCBwcm9wZXJ0eSBhIHZhbHVlLlxuICpcbiAqIEEgVGV4dCBjYW4gYmUgY3JlYXRlZCBkaXJlY3RseSBmcm9tIGEgc3RyaW5nIGFuZCBhIHN0eWxlIG9iamVjdCxcbiAqIHdoaWNoIGNhbiBiZSBnZW5lcmF0ZWQgW2hlcmVdKGh0dHBzOi8vcGl4aWpzLmlvL3BpeGktdGV4dC1zdHlsZSkuXG4gKlxuICogYGBganNcbiAqIGxldCB0ZXh0ID0gbmV3IFBJWEkuVGV4dCgnVGhpcyBpcyBhIFBpeGlKUyB0ZXh0Jyx7Zm9udEZhbWlseSA6ICdBcmlhbCcsIGZvbnRTaXplOiAyNCwgZmlsbCA6IDB4ZmYxMDEwLCBhbGlnbiA6ICdjZW50ZXInfSk7XG4gKiBgYGBcbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuU3ByaXRlXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgVGV4dCA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKFNwcml0ZSkge1xuICAgIGZ1bmN0aW9uIFRleHQodGV4dCwgc3R5bGUsIGNhbnZhcylcbiAgICB7XG4gICAgICAgIGNhbnZhcyA9IGNhbnZhcyB8fCBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcblxuICAgICAgICBjYW52YXMud2lkdGggPSAzO1xuICAgICAgICBjYW52YXMuaGVpZ2h0ID0gMztcblxuICAgICAgICB2YXIgdGV4dHVyZSA9IFRleHR1cmUuZnJvbShjYW52YXMpO1xuXG4gICAgICAgIHRleHR1cmUub3JpZyA9IG5ldyBSZWN0YW5nbGUoKTtcbiAgICAgICAgdGV4dHVyZS50cmltID0gbmV3IFJlY3RhbmdsZSgpO1xuXG4gICAgICAgIFNwcml0ZS5jYWxsKHRoaXMsIHRleHR1cmUpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY2FudmFzIGVsZW1lbnQgdGhhdCBldmVyeXRoaW5nIGlzIGRyYXduIHRvXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge0hUTUxDYW52YXNFbGVtZW50fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jYW52YXMgPSBjYW52YXM7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjYW52YXMgMmQgY29udGV4dCB0aGF0IGV2ZXJ5dGhpbmcgaXMgZHJhd24gd2l0aFxuICAgICAgICAgKiBAbWVtYmVyIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNvbnRleHQgPSB0aGlzLmNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcmVzb2x1dGlvbiAvIGRldmljZSBwaXhlbCByYXRpbyBvZiB0aGUgY2FudmFzLlxuICAgICAgICAgKiBUaGlzIGlzIHNldCB0byBhdXRvbWF0aWNhbGx5IG1hdGNoIHRoZSByZW5kZXJlciByZXNvbHV0aW9uIGJ5IGRlZmF1bHQsIGJ1dCBjYW4gYmUgb3ZlcnJpZGRlbiBieSBzZXR0aW5nIG1hbnVhbGx5LlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDFcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3Jlc29sdXRpb24gPSBzZXR0aW5ncy5SRVNPTFVUSU9OO1xuICAgICAgICB0aGlzLl9hdXRvUmVzb2x1dGlvbiA9IHRydWU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByaXZhdGUgdHJhY2tlciBmb3IgdGhlIGN1cnJlbnQgdGV4dC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fdGV4dCA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByaXZhdGUgdHJhY2tlciBmb3IgdGhlIGN1cnJlbnQgc3R5bGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge29iamVjdH1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3N0eWxlID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByaXZhdGUgbGlzdGVuZXIgdG8gdHJhY2sgc3R5bGUgY2hhbmdlcy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7RnVuY3Rpb259XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9zdHlsZUxpc3RlbmVyID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUHJpdmF0ZSB0cmFja2VyIGZvciB0aGUgY3VycmVudCBmb250LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9mb250ID0gJyc7XG5cbiAgICAgICAgdGhpcy50ZXh0ID0gdGV4dDtcbiAgICAgICAgdGhpcy5zdHlsZSA9IHN0eWxlO1xuXG4gICAgICAgIHRoaXMubG9jYWxTdHlsZUlEID0gLTE7XG4gICAgfVxuXG4gICAgaWYgKCBTcHJpdGUgKSBUZXh0Ll9fcHJvdG9fXyA9IFNwcml0ZTtcbiAgICBUZXh0LnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIFNwcml0ZSAmJiBTcHJpdGUucHJvdG90eXBlICk7XG4gICAgVGV4dC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBUZXh0O1xuXG4gICAgdmFyIHByb3RvdHlwZUFjY2Vzc29ycyA9IHsgd2lkdGg6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0saGVpZ2h0OiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LHN0eWxlOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LHRleHQ6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0scmVzb2x1dGlvbjogeyBjb25maWd1cmFibGU6IHRydWUgfSB9O1xuXG4gICAgLyoqXG4gICAgICogUmVuZGVycyB0ZXh0IGFuZCB1cGRhdGVzIGl0IHdoZW4gbmVlZGVkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHJlc3BlY3REaXJ0eSAtIFdoZXRoZXIgdG8gYWJvcnQgdXBkYXRpbmcgdGhlIHRleHQgaWYgdGhlIFRleHQgaXNuJ3QgZGlydHkgYW5kIHRoZSBmdW5jdGlvbiBpcyBjYWxsZWQuXG4gICAgICovXG4gICAgVGV4dC5wcm90b3R5cGUudXBkYXRlVGV4dCA9IGZ1bmN0aW9uIHVwZGF0ZVRleHQgKHJlc3BlY3REaXJ0eSlcbiAgICB7XG4gICAgICAgIHZhciBzdHlsZSA9IHRoaXMuX3N0eWxlO1xuXG4gICAgICAgIC8vIGNoZWNrIGlmIHN0eWxlIGhhcyBjaGFuZ2VkLi5cbiAgICAgICAgaWYgKHRoaXMubG9jYWxTdHlsZUlEICE9PSBzdHlsZS5zdHlsZUlEKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMubG9jYWxTdHlsZUlEID0gc3R5bGUuc3R5bGVJRDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdGhpcy5kaXJ0eSAmJiByZXNwZWN0RGlydHkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2ZvbnQgPSB0aGlzLl9zdHlsZS50b0ZvbnRTdHJpbmcoKTtcblxuICAgICAgICB2YXIgY29udGV4dCA9IHRoaXMuY29udGV4dDtcbiAgICAgICAgdmFyIG1lYXN1cmVkID0gVGV4dE1ldHJpY3MubWVhc3VyZVRleHQodGhpcy5fdGV4dCB8fCAnICcsIHRoaXMuX3N0eWxlLCB0aGlzLl9zdHlsZS53b3JkV3JhcCwgdGhpcy5jYW52YXMpO1xuICAgICAgICB2YXIgd2lkdGggPSBtZWFzdXJlZC53aWR0aDtcbiAgICAgICAgdmFyIGhlaWdodCA9IG1lYXN1cmVkLmhlaWdodDtcbiAgICAgICAgdmFyIGxpbmVzID0gbWVhc3VyZWQubGluZXM7XG4gICAgICAgIHZhciBsaW5lSGVpZ2h0ID0gbWVhc3VyZWQubGluZUhlaWdodDtcbiAgICAgICAgdmFyIGxpbmVXaWR0aHMgPSBtZWFzdXJlZC5saW5lV2lkdGhzO1xuICAgICAgICB2YXIgbWF4TGluZVdpZHRoID0gbWVhc3VyZWQubWF4TGluZVdpZHRoO1xuICAgICAgICB2YXIgZm9udFByb3BlcnRpZXMgPSBtZWFzdXJlZC5mb250UHJvcGVydGllcztcblxuICAgICAgICB0aGlzLmNhbnZhcy53aWR0aCA9IE1hdGguY2VpbCgoTWF0aC5tYXgoMSwgd2lkdGgpICsgKHN0eWxlLnBhZGRpbmcgKiAyKSkgKiB0aGlzLl9yZXNvbHV0aW9uKTtcbiAgICAgICAgdGhpcy5jYW52YXMuaGVpZ2h0ID0gTWF0aC5jZWlsKChNYXRoLm1heCgxLCBoZWlnaHQpICsgKHN0eWxlLnBhZGRpbmcgKiAyKSkgKiB0aGlzLl9yZXNvbHV0aW9uKTtcblxuICAgICAgICBjb250ZXh0LnNjYWxlKHRoaXMuX3Jlc29sdXRpb24sIHRoaXMuX3Jlc29sdXRpb24pO1xuXG4gICAgICAgIGNvbnRleHQuY2xlYXJSZWN0KDAsIDAsIHRoaXMuY2FudmFzLndpZHRoLCB0aGlzLmNhbnZhcy5oZWlnaHQpO1xuXG4gICAgICAgIGNvbnRleHQuZm9udCA9IHRoaXMuX2ZvbnQ7XG4gICAgICAgIGNvbnRleHQubGluZVdpZHRoID0gc3R5bGUuc3Ryb2tlVGhpY2tuZXNzO1xuICAgICAgICBjb250ZXh0LnRleHRCYXNlbGluZSA9IHN0eWxlLnRleHRCYXNlbGluZTtcbiAgICAgICAgY29udGV4dC5saW5lSm9pbiA9IHN0eWxlLmxpbmVKb2luO1xuICAgICAgICBjb250ZXh0Lm1pdGVyTGltaXQgPSBzdHlsZS5taXRlckxpbWl0O1xuXG4gICAgICAgIHZhciBsaW5lUG9zaXRpb25YO1xuICAgICAgICB2YXIgbGluZVBvc2l0aW9uWTtcblxuICAgICAgICAvLyByZXF1aXJlIDIgcGFzc2VzIGlmIGEgc2hhZG93OyB0aGUgZmlyc3QgdG8gZHJhdyB0aGUgZHJvcCBzaGFkb3csIHRoZSBzZWNvbmQgdG8gZHJhdyB0aGUgdGV4dFxuICAgICAgICB2YXIgcGFzc2VzQ291bnQgPSBzdHlsZS5kcm9wU2hhZG93ID8gMiA6IDE7XG5cbiAgICAgICAgLy8gRm9yIHY0LCB3ZSBkcmV3IHRleHQgYXQgdGhlIGNvbG91cnMgb2YgdGhlIGRyb3Agc2hhZG93IHVuZGVybmVhdGggdGhlIG5vcm1hbCB0ZXh0LiBUaGlzIGdhdmUgdGhlIGNvcnJlY3QgekluZGV4LFxuICAgICAgICAvLyBidXQgZmVhdHVyZXMgc3VjaCBhcyBhbHBoYSBhbmQgc2hhZG93Ymx1ciBkaWQgbm90IGxvb2sgcmlnaHQgYXQgYWxsLCBzaW5jZSB3ZSB3ZXJlIHVzaW5nIGFjdHVhbCB0ZXh0IGFzIGEgc2hhZG93LlxuICAgICAgICAvL1xuICAgICAgICAvLyBGb3IgdjUuMC4wLCB3ZSBtb3ZlZCBvdmVyIHRvIGp1c3QgdXNlIHRoZSBjYW52YXMgQVBJIGZvciBkcm9wIHNoYWRvd3MsIHdoaWNoIG1hZGUgdGhlbSBsb29rIG11Y2ggbmljZXIgYW5kIG1vcmVcbiAgICAgICAgLy8gdmlzdWFsbHkgcGxlYXNlLCBidXQgbm93IGJlY2F1c2UgdGhlIHN0cm9rZSBpcyBkcmF3biBhbmQgdGhlbiB0aGUgZmlsbCwgZHJvcCBzaGFkb3dzIHdvdWxkIGFwcGVhciBvbiBib3RoIHRoZSBmaWxsXG4gICAgICAgIC8vIGFuZCB0aGUgc3Ryb2tlOyBhbmQgZmlsbCBkcm9wIHNoYWRvd3Mgd291bGQgYXBwZWFyIG92ZXIgdGhlIHRvcCBvZiB0aGUgc3Ryb2tlLlxuICAgICAgICAvL1xuICAgICAgICAvLyBGb3IgdjUuMS4xLCB0aGUgbmV3IHJvdXRlIGlzIHRvIHJldmVydCB0byB2NCBzdHlsZSBvZiBkcmF3aW5nIHRleHQgZmlyc3QgdG8gZ2V0IHRoZSBkcm9wIHNoYWRvd3MgdW5kZXJuZWF0aCBub3JtYWxcbiAgICAgICAgLy8gdGV4dCwgYnV0IGluc3RlYWQgZHJhd2luZyB0ZXh0IGluIHRoZSBjb3JyZWN0IGxvY2F0aW9uLCB3ZSdsbCBkcmF3IGl0IG9mZiBzY3JlZW4gKC1wYWRkaW5nWSksIGFuZCB0aGVuIGFkanVzdCB0aGVcbiAgICAgICAgLy8gZHJvcCBzaGFkb3cgc28gb25seSB0aGF0IGFwcGVhcnMgb24gc2NyZWVuICgrcGFkZGluZ1kpLiBOb3cgd2UnbGwgaGF2ZSB0aGUgY29ycmVjdCBkcmF3IG9yZGVyIG9mIHRoZSBzaGFkb3dcbiAgICAgICAgLy8gYmVuZWF0aCB0aGUgdGV4dCwgd2hpbHN0IGFsc28gaGF2aW5nIHRoZSBwcm9wZXIgdGV4dCBzaGFkb3cgc3R5bGluZy5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXNzZXNDb3VudDsgKytpKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgaXNTaGFkb3dQYXNzID0gc3R5bGUuZHJvcFNoYWRvdyAmJiBpID09PSAwO1xuICAgICAgICAgICAgdmFyIGRzT2Zmc2V0VGV4dCA9IGlzU2hhZG93UGFzcyA/IGhlaWdodCAqIDIgOiAwOyAvLyB3ZSBvbmx5IHdhbnQgdGhlIGRyb3Agc2hhZG93LCBzbyBwdXQgdGV4dCB3YXkgb2ZmLXNjcmVlblxuICAgICAgICAgICAgdmFyIGRzT2Zmc2V0U2hhZG93ID0gZHNPZmZzZXRUZXh0ICogdGhpcy5yZXNvbHV0aW9uO1xuXG4gICAgICAgICAgICBpZiAoaXNTaGFkb3dQYXNzKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIC8vIE9uIFNhZmFyaSwgdGV4dCB3aXRoIGdyYWRpZW50IGFuZCBkcm9wIHNoYWRvd3MgdG9nZXRoZXIgZG8gbm90IHBvc2l0aW9uIGNvcnJlY3RseVxuICAgICAgICAgICAgICAgIC8vIGlmIHRoZSBzY2FsZSBvZiB0aGUgY2FudmFzIGlzIG5vdCAxOiBodHRwczovL2J1Z3Mud2Via2l0Lm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MTk3Njg5XG4gICAgICAgICAgICAgICAgLy8gVGhlcmVmb3JlIHdlJ2xsIHNldCB0aGUgc3R5bGVzIHRvIGJlIGEgcGxhaW4gYmxhY2sgd2hpbHN0IGdlbmVyYXRpbmcgdGhpcyBkcm9wIHNoYWRvd1xuICAgICAgICAgICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gJ2JsYWNrJztcbiAgICAgICAgICAgICAgICBjb250ZXh0LnN0cm9rZVN0eWxlID0gJ2JsYWNrJztcblxuICAgICAgICAgICAgICAgIHZhciBkcm9wU2hhZG93Q29sb3IgPSBzdHlsZS5kcm9wU2hhZG93Q29sb3I7XG4gICAgICAgICAgICAgICAgdmFyIHJnYiA9IGhleDJyZ2IodHlwZW9mIGRyb3BTaGFkb3dDb2xvciA9PT0gJ251bWJlcicgPyBkcm9wU2hhZG93Q29sb3IgOiBzdHJpbmcyaGV4KGRyb3BTaGFkb3dDb2xvcikpO1xuXG4gICAgICAgICAgICAgICAgY29udGV4dC5zaGFkb3dDb2xvciA9IFwicmdiYShcIiArIChyZ2JbMF0gKiAyNTUpICsgXCIsXCIgKyAocmdiWzFdICogMjU1KSArIFwiLFwiICsgKHJnYlsyXSAqIDI1NSkgKyBcIixcIiArIChzdHlsZS5kcm9wU2hhZG93QWxwaGEpICsgXCIpXCI7XG4gICAgICAgICAgICAgICAgY29udGV4dC5zaGFkb3dCbHVyID0gc3R5bGUuZHJvcFNoYWRvd0JsdXI7XG4gICAgICAgICAgICAgICAgY29udGV4dC5zaGFkb3dPZmZzZXRYID0gTWF0aC5jb3Moc3R5bGUuZHJvcFNoYWRvd0FuZ2xlKSAqIHN0eWxlLmRyb3BTaGFkb3dEaXN0YW5jZTtcbiAgICAgICAgICAgICAgICBjb250ZXh0LnNoYWRvd09mZnNldFkgPSAoTWF0aC5zaW4oc3R5bGUuZHJvcFNoYWRvd0FuZ2xlKSAqIHN0eWxlLmRyb3BTaGFkb3dEaXN0YW5jZSkgKyBkc09mZnNldFNoYWRvdztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAvLyBzZXQgY2FudmFzIHRleHQgc3R5bGVzXG4gICAgICAgICAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSB0aGlzLl9nZW5lcmF0ZUZpbGxTdHlsZShzdHlsZSwgbGluZXMpO1xuICAgICAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSBzdHlsZS5zdHJva2U7XG5cbiAgICAgICAgICAgICAgICBjb250ZXh0LnNoYWRvd0NvbG9yID0gMDtcbiAgICAgICAgICAgICAgICBjb250ZXh0LnNoYWRvd0JsdXIgPSAwO1xuICAgICAgICAgICAgICAgIGNvbnRleHQuc2hhZG93T2Zmc2V0WCA9IDA7XG4gICAgICAgICAgICAgICAgY29udGV4dC5zaGFkb3dPZmZzZXRZID0gMDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gZHJhdyBsaW5lcyBsaW5lIGJ5IGxpbmVcbiAgICAgICAgICAgIGZvciAodmFyIGkkMSA9IDA7IGkkMSA8IGxpbmVzLmxlbmd0aDsgaSQxKyspXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbGluZVBvc2l0aW9uWCA9IHN0eWxlLnN0cm9rZVRoaWNrbmVzcyAvIDI7XG4gICAgICAgICAgICAgICAgbGluZVBvc2l0aW9uWSA9ICgoc3R5bGUuc3Ryb2tlVGhpY2tuZXNzIC8gMikgKyAoaSQxICogbGluZUhlaWdodCkpICsgZm9udFByb3BlcnRpZXMuYXNjZW50O1xuXG4gICAgICAgICAgICAgICAgaWYgKHN0eWxlLmFsaWduID09PSAncmlnaHQnKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbGluZVBvc2l0aW9uWCArPSBtYXhMaW5lV2lkdGggLSBsaW5lV2lkdGhzW2kkMV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHN0eWxlLmFsaWduID09PSAnY2VudGVyJylcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGxpbmVQb3NpdGlvblggKz0gKG1heExpbmVXaWR0aCAtIGxpbmVXaWR0aHNbaSQxXSkgLyAyO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChzdHlsZS5zdHJva2UgJiYgc3R5bGUuc3Ryb2tlVGhpY2tuZXNzKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kcmF3TGV0dGVyU3BhY2luZyhcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVzW2kkMV0sXG4gICAgICAgICAgICAgICAgICAgICAgICBsaW5lUG9zaXRpb25YICsgc3R5bGUucGFkZGluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVQb3NpdGlvblkgKyBzdHlsZS5wYWRkaW5nIC0gZHNPZmZzZXRUZXh0LFxuICAgICAgICAgICAgICAgICAgICAgICAgdHJ1ZVxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChzdHlsZS5maWxsKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kcmF3TGV0dGVyU3BhY2luZyhcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVzW2kkMV0sXG4gICAgICAgICAgICAgICAgICAgICAgICBsaW5lUG9zaXRpb25YICsgc3R5bGUucGFkZGluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVQb3NpdGlvblkgKyBzdHlsZS5wYWRkaW5nIC0gZHNPZmZzZXRUZXh0XG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy51cGRhdGVUZXh0dXJlKCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbmRlciB0aGUgdGV4dCB3aXRoIGxldHRlci1zcGFjaW5nLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0IC0gVGhlIHRleHQgdG8gZHJhd1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4IC0gSG9yaXpvbnRhbCBwb3NpdGlvbiB0byBkcmF3IHRoZSB0ZXh0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgLSBWZXJ0aWNhbCBwb3NpdGlvbiB0byBkcmF3IHRoZSB0ZXh0XG4gICAgICogQHBhcmFtIHtib29sZWFufSBbaXNTdHJva2U9ZmFsc2VdIC0gSXMgdGhpcyBkcmF3aW5nIGZvciB0aGUgb3V0c2lkZSBzdHJva2Ugb2YgdGhlXG4gICAgICogIHRleHQ/IElmIG5vdCwgaXQncyBmb3IgdGhlIGluc2lkZSBmaWxsXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBUZXh0LnByb3RvdHlwZS5kcmF3TGV0dGVyU3BhY2luZyA9IGZ1bmN0aW9uIGRyYXdMZXR0ZXJTcGFjaW5nICh0ZXh0LCB4LCB5LCBpc1N0cm9rZSlcbiAgICB7XG4gICAgICAgIGlmICggaXNTdHJva2UgPT09IHZvaWQgMCApIGlzU3Ryb2tlID0gZmFsc2U7XG5cbiAgICAgICAgdmFyIHN0eWxlID0gdGhpcy5fc3R5bGU7XG5cbiAgICAgICAgLy8gbGV0dGVyU3BhY2luZyBvZiAwIG1lYW5zIG5vcm1hbFxuICAgICAgICB2YXIgbGV0dGVyU3BhY2luZyA9IHN0eWxlLmxldHRlclNwYWNpbmc7XG5cbiAgICAgICAgaWYgKGxldHRlclNwYWNpbmcgPT09IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmIChpc1N0cm9rZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQuc3Ryb2tlVGV4dCh0ZXh0LCB4LCB5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQuZmlsbFRleHQodGV4dCwgeCwgeSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBjdXJyZW50UG9zaXRpb24gPSB4O1xuXG4gICAgICAgIC8vIFVzaW5nIEFycmF5LmZyb20gY29ycmVjdGx5IHNwbGl0cyBjaGFyYWN0ZXJzIHdoaWxzdCBrZWVwaW5nIGVtb2ppIHRvZ2V0aGVyLlxuICAgICAgICAvLyBUaGlzIGlzIG5vdCBzdXBwb3J0ZWQgb24gSUUgYXMgaXQgcmVxdWlyZXMgRVM2LCBzbyByZWd1bGFyIHRleHQgc3BsaXR0aW5nIG9jY3Vycy5cbiAgICAgICAgLy8gVGhpcyBhbHNvIGRvZXNuJ3QgYWNjb3VudCBmb3IgZW1vamkgdGhhdCBhcmUgbXVsdGlwbGUgZW1vamkgcHV0IHRvZ2V0aGVyIHRvIG1ha2Ugc29tZXRoaW5nIGVsc2UuXG4gICAgICAgIC8vIEhhbmRsaW5nIGFsbCBvZiB0aGlzIHdvdWxkIHJlcXVpcmUgYSBiaWcgbGlicmFyeSBpdHNlbGYuXG4gICAgICAgIC8vIGh0dHBzOi8vbWVkaXVtLmNvbS9AZ2lsdGF5YXIvaXRlcmF0aW5nLW92ZXItZW1vamktY2hhcmFjdGVycy10aGUtZXM2LXdheS1mMDZlNDU4OTUxNlxuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vb3JsaW5nL2dyYXBoZW1lLXNwbGl0dGVyXG4gICAgICAgIHZhciBzdHJpbmdBcnJheSA9IEFycmF5LmZyb20gPyBBcnJheS5mcm9tKHRleHQpIDogdGV4dC5zcGxpdCgnJyk7XG4gICAgICAgIHZhciBwcmV2aW91c1dpZHRoID0gdGhpcy5jb250ZXh0Lm1lYXN1cmVUZXh0KHRleHQpLndpZHRoO1xuICAgICAgICB2YXIgY3VycmVudFdpZHRoID0gMDtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0cmluZ0FycmF5Lmxlbmd0aDsgKytpKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgY3VycmVudENoYXIgPSBzdHJpbmdBcnJheVtpXTtcblxuICAgICAgICAgICAgaWYgKGlzU3Ryb2tlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dC5zdHJva2VUZXh0KGN1cnJlbnRDaGFyLCBjdXJyZW50UG9zaXRpb24sIHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dC5maWxsVGV4dChjdXJyZW50Q2hhciwgY3VycmVudFBvc2l0aW9uLCB5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGN1cnJlbnRXaWR0aCA9IHRoaXMuY29udGV4dC5tZWFzdXJlVGV4dCh0ZXh0LnN1YnN0cmluZyhpICsgMSkpLndpZHRoO1xuICAgICAgICAgICAgY3VycmVudFBvc2l0aW9uICs9IHByZXZpb3VzV2lkdGggLSBjdXJyZW50V2lkdGggKyBsZXR0ZXJTcGFjaW5nO1xuICAgICAgICAgICAgcHJldmlvdXNXaWR0aCA9IGN1cnJlbnRXaWR0aDtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRleHR1cmUgc2l6ZSBiYXNlZCBvbiBjYW52YXMgc2l6ZVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBUZXh0LnByb3RvdHlwZS51cGRhdGVUZXh0dXJlID0gZnVuY3Rpb24gdXBkYXRlVGV4dHVyZSAoKVxuICAgIHtcbiAgICAgICAgdmFyIGNhbnZhcyA9IHRoaXMuY2FudmFzO1xuXG4gICAgICAgIGlmICh0aGlzLl9zdHlsZS50cmltKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgdHJpbW1lZCA9IHRyaW1DYW52YXMoY2FudmFzKTtcblxuICAgICAgICAgICAgaWYgKHRyaW1tZWQuZGF0YSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjYW52YXMud2lkdGggPSB0cmltbWVkLndpZHRoO1xuICAgICAgICAgICAgICAgIGNhbnZhcy5oZWlnaHQgPSB0cmltbWVkLmhlaWdodDtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQucHV0SW1hZ2VEYXRhKHRyaW1tZWQuZGF0YSwgMCwgMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgdGV4dHVyZSA9IHRoaXMuX3RleHR1cmU7XG4gICAgICAgIHZhciBzdHlsZSA9IHRoaXMuX3N0eWxlO1xuICAgICAgICB2YXIgcGFkZGluZyA9IHN0eWxlLnRyaW0gPyAwIDogc3R5bGUucGFkZGluZztcbiAgICAgICAgdmFyIGJhc2VUZXh0dXJlID0gdGV4dHVyZS5iYXNlVGV4dHVyZTtcblxuICAgICAgICB0ZXh0dXJlLnRyaW0ud2lkdGggPSB0ZXh0dXJlLl9mcmFtZS53aWR0aCA9IE1hdGguY2VpbChjYW52YXMud2lkdGggLyB0aGlzLl9yZXNvbHV0aW9uKTtcbiAgICAgICAgdGV4dHVyZS50cmltLmhlaWdodCA9IHRleHR1cmUuX2ZyYW1lLmhlaWdodCA9IE1hdGguY2VpbChjYW52YXMuaGVpZ2h0IC8gdGhpcy5fcmVzb2x1dGlvbik7XG4gICAgICAgIHRleHR1cmUudHJpbS54ID0gLXBhZGRpbmc7XG4gICAgICAgIHRleHR1cmUudHJpbS55ID0gLXBhZGRpbmc7XG5cbiAgICAgICAgdGV4dHVyZS5vcmlnLndpZHRoID0gdGV4dHVyZS5fZnJhbWUud2lkdGggLSAocGFkZGluZyAqIDIpO1xuICAgICAgICB0ZXh0dXJlLm9yaWcuaGVpZ2h0ID0gdGV4dHVyZS5fZnJhbWUuaGVpZ2h0IC0gKHBhZGRpbmcgKiAyKTtcblxuICAgICAgICAvLyBjYWxsIHNwcml0ZSBvblRleHR1cmVVcGRhdGUgdG8gdXBkYXRlIHNjYWxlIGlmIF93aWR0aCBvciBfaGVpZ2h0IHdlcmUgc2V0XG4gICAgICAgIHRoaXMuX29uVGV4dHVyZVVwZGF0ZSgpO1xuXG4gICAgICAgIGJhc2VUZXh0dXJlLnNldFJlYWxTaXplKGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCwgdGhpcy5fcmVzb2x1dGlvbik7XG5cbiAgICAgICAgdGhpcy5kaXJ0eSA9IGZhbHNlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIHRoZSBvYmplY3QgdXNpbmcgdGhlIFdlYkdMIHJlbmRlcmVyXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXJcbiAgICAgKi9cbiAgICBUZXh0LnByb3RvdHlwZS5fcmVuZGVyID0gZnVuY3Rpb24gX3JlbmRlciAocmVuZGVyZXIpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5fYXV0b1Jlc29sdXRpb24gJiYgdGhpcy5fcmVzb2x1dGlvbiAhPT0gcmVuZGVyZXIucmVzb2x1dGlvbilcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fcmVzb2x1dGlvbiA9IHJlbmRlcmVyLnJlc29sdXRpb247XG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMudXBkYXRlVGV4dCh0cnVlKTtcblxuICAgICAgICBTcHJpdGUucHJvdG90eXBlLl9yZW5kZXIuY2FsbCh0aGlzLCByZW5kZXJlcik7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGxvY2FsIGJvdW5kcyBvZiB0aGUgdGV4dCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSByZWN0IC0gVGhlIG91dHB1dCByZWN0YW5nbGUuXG4gICAgICogQHJldHVybiB7UElYSS5SZWN0YW5nbGV9IFRoZSBib3VuZHMuXG4gICAgICovXG4gICAgVGV4dC5wcm90b3R5cGUuZ2V0TG9jYWxCb3VuZHMgPSBmdW5jdGlvbiBnZXRMb2NhbEJvdW5kcyAocmVjdClcbiAgICB7XG4gICAgICAgIHRoaXMudXBkYXRlVGV4dCh0cnVlKTtcblxuICAgICAgICByZXR1cm4gU3ByaXRlLnByb3RvdHlwZS5nZXRMb2NhbEJvdW5kcy5jYWxsKHRoaXMsIHJlY3QpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBjYWxjdWxhdGVzIHRoZSBib3VuZHMgb2YgdGhlIFRleHQgYXMgYSByZWN0YW5nbGUuIFRoZSBib3VuZHMgY2FsY3VsYXRpb24gdGFrZXMgdGhlIHdvcmxkVHJhbnNmb3JtIGludG8gYWNjb3VudC5cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgVGV4dC5wcm90b3R5cGUuX2NhbGN1bGF0ZUJvdW5kcyA9IGZ1bmN0aW9uIF9jYWxjdWxhdGVCb3VuZHMgKClcbiAgICB7XG4gICAgICAgIHRoaXMudXBkYXRlVGV4dCh0cnVlKTtcbiAgICAgICAgdGhpcy5jYWxjdWxhdGVWZXJ0aWNlcygpO1xuICAgICAgICAvLyBpZiB3ZSBoYXZlIGFscmVhZHkgZG9uZSB0aGlzIG9uIFRISVMgZnJhbWUuXG4gICAgICAgIHRoaXMuX2JvdW5kcy5hZGRRdWFkKHRoaXMudmVydGV4RGF0YSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIE1ldGhvZCB0byBiZSBjYWxsZWQgdXBvbiBhIFRleHRTdHlsZSBjaGFuZ2UuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBUZXh0LnByb3RvdHlwZS5fb25TdHlsZUNoYW5nZSA9IGZ1bmN0aW9uIF9vblN0eWxlQ2hhbmdlICgpXG4gICAge1xuICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogR2VuZXJhdGVzIHRoZSBmaWxsIHN0eWxlLiBDYW4gYXV0b21hdGljYWxseSBnZW5lcmF0ZSBhIGdyYWRpZW50IGJhc2VkIG9uIHRoZSBmaWxsIHN0eWxlIGJlaW5nIGFuIGFycmF5XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBzdHlsZSAtIFRoZSBzdHlsZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ1tdfSBsaW5lcyAtIFRoZSBsaW5lcyBvZiB0ZXh0LlxuICAgICAqIEByZXR1cm4ge3N0cmluZ3xudW1iZXJ8Q2FudmFzR3JhZGllbnR9IFRoZSBmaWxsIHN0eWxlXG4gICAgICovXG4gICAgVGV4dC5wcm90b3R5cGUuX2dlbmVyYXRlRmlsbFN0eWxlID0gZnVuY3Rpb24gX2dlbmVyYXRlRmlsbFN0eWxlIChzdHlsZSwgbGluZXMpXG4gICAge1xuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkoc3R5bGUuZmlsbCkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiBzdHlsZS5maWxsO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHN0eWxlLmZpbGwubGVuZ3RoID09PSAxKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gc3R5bGUuZmlsbFswXTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHRoZSBncmFkaWVudCB3aWxsIGJlIGV2ZW5seSBzcGFjZWQgb3V0IGFjY29yZGluZyB0byBob3cgbGFyZ2UgdGhlIGFycmF5IGlzLlxuICAgICAgICAvLyBbJyNGRjAwMDAnLCAnIzAwRkYwMCcsICcjMDAwMEZGJ10gd291bGQgY3JlYXRlZCBzdG9wcyBhdCAwLjI1LCAwLjUgYW5kIDAuNzVcbiAgICAgICAgdmFyIGdyYWRpZW50O1xuICAgICAgICB2YXIgdG90YWxJdGVyYXRpb25zO1xuICAgICAgICB2YXIgY3VycmVudEl0ZXJhdGlvbjtcbiAgICAgICAgdmFyIHN0b3A7XG5cbiAgICAgICAgdmFyIHdpZHRoID0gTWF0aC5jZWlsKHRoaXMuY2FudmFzLndpZHRoIC8gdGhpcy5fcmVzb2x1dGlvbik7XG4gICAgICAgIHZhciBoZWlnaHQgPSBNYXRoLmNlaWwodGhpcy5jYW52YXMuaGVpZ2h0IC8gdGhpcy5fcmVzb2x1dGlvbik7XG5cbiAgICAgICAgLy8gbWFrZSBhIGNvcHkgb2YgdGhlIHN0eWxlIHNldHRpbmdzLCBzbyB3ZSBjYW4gbWFuaXB1bGF0ZSB0aGVtIGxhdGVyXG4gICAgICAgIHZhciBmaWxsID0gc3R5bGUuZmlsbC5zbGljZSgpO1xuICAgICAgICB2YXIgZmlsbEdyYWRpZW50U3RvcHMgPSBzdHlsZS5maWxsR3JhZGllbnRTdG9wcy5zbGljZSgpO1xuXG4gICAgICAgIC8vIHdhbnRpbmcgdG8gZXZlbmx5IGRpc3RyaWJ1dGUgdGhlIGZpbGxzLiBTbyBhbiBhcnJheSBvZiA0IGNvbG91cnMgc2hvdWxkIGdpdmUgZmlsbHMgb2YgMC4yNSwgMC41IGFuZCAwLjc1XG4gICAgICAgIGlmICghZmlsbEdyYWRpZW50U3RvcHMubGVuZ3RoKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgbGVuZ3RoUGx1czEgPSBmaWxsLmxlbmd0aCArIDE7XG5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgbGVuZ3RoUGx1czE7ICsraSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBmaWxsR3JhZGllbnRTdG9wcy5wdXNoKGkgLyBsZW5ndGhQbHVzMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBzdG9wIHRoZSBibGVlZGluZyBvZiB0aGUgbGFzdCBncmFkaWVudCBvbiB0aGUgbGluZSBhYm92ZSB0byB0aGUgdG9wIGdyYWRpZW50IG9mIHRoZSB0aGlzIGxpbmVcbiAgICAgICAgLy8gYnkgaGFyZCBkZWZpbmluZyB0aGUgZmlyc3QgZ3JhZGllbnQgY29sb3VyIGF0IHBvaW50IDAsIGFuZCBsYXN0IGdyYWRpZW50IGNvbG91ciBhdCBwb2ludCAxXG4gICAgICAgIGZpbGwudW5zaGlmdChzdHlsZS5maWxsWzBdKTtcbiAgICAgICAgZmlsbEdyYWRpZW50U3RvcHMudW5zaGlmdCgwKTtcblxuICAgICAgICBmaWxsLnB1c2goc3R5bGUuZmlsbFtzdHlsZS5maWxsLmxlbmd0aCAtIDFdKTtcbiAgICAgICAgZmlsbEdyYWRpZW50U3RvcHMucHVzaCgxKTtcblxuICAgICAgICBpZiAoc3R5bGUuZmlsbEdyYWRpZW50VHlwZSA9PT0gVEVYVF9HUkFESUVOVC5MSU5FQVJfVkVSVElDQUwpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIHN0YXJ0IHRoZSBncmFkaWVudCBhdCB0aGUgdG9wIGNlbnRlciBvZiB0aGUgY2FudmFzLCBhbmQgZW5kIGF0IHRoZSBib3R0b20gbWlkZGxlIG9mIHRoZSBjYW52YXNcbiAgICAgICAgICAgIGdyYWRpZW50ID0gdGhpcy5jb250ZXh0LmNyZWF0ZUxpbmVhckdyYWRpZW50KHdpZHRoIC8gMiwgMCwgd2lkdGggLyAyLCBoZWlnaHQpO1xuXG4gICAgICAgICAgICAvLyB3ZSBuZWVkIHRvIHJlcGVhdCB0aGUgZ3JhZGllbnQgc28gdGhhdCBlYWNoIGluZGl2aWR1YWwgbGluZSBvZiB0ZXh0IGhhcyB0aGUgc2FtZSB2ZXJ0aWNhbCBncmFkaWVudCBlZmZlY3RcbiAgICAgICAgICAgIC8vIFsnI0ZGMDAwMCcsICcjMDBGRjAwJywgJyMwMDAwRkYnXSBvdmVyIDIgbGluZXMgd291bGQgY3JlYXRlIHN0b3BzIGF0IDAuMTI1LCAwLjI1LCAwLjM3NSwgMC42MjUsIDAuNzUsIDAuODc1XG4gICAgICAgICAgICB0b3RhbEl0ZXJhdGlvbnMgPSAoZmlsbC5sZW5ndGggKyAxKSAqIGxpbmVzLmxlbmd0aDtcbiAgICAgICAgICAgIGN1cnJlbnRJdGVyYXRpb24gPSAwO1xuICAgICAgICAgICAgZm9yICh2YXIgaSQxID0gMDsgaSQxIDwgbGluZXMubGVuZ3RoOyBpJDErKylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50SXRlcmF0aW9uICs9IDE7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBmaWxsLmxlbmd0aDsgaisrKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBmaWxsR3JhZGllbnRTdG9wc1tqXSA9PT0gJ251bWJlcicpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0b3AgPSAoZmlsbEdyYWRpZW50U3RvcHNbal0gLyBsaW5lcy5sZW5ndGgpICsgKGkkMSAvIGxpbmVzLmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdG9wID0gY3VycmVudEl0ZXJhdGlvbiAvIHRvdGFsSXRlcmF0aW9ucztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBncmFkaWVudC5hZGRDb2xvclN0b3Aoc3RvcCwgZmlsbFtqXSk7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRJdGVyYXRpb24rKztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBzdGFydCB0aGUgZ3JhZGllbnQgYXQgdGhlIGNlbnRlciBsZWZ0IG9mIHRoZSBjYW52YXMsIGFuZCBlbmQgYXQgdGhlIGNlbnRlciByaWdodCBvZiB0aGUgY2FudmFzXG4gICAgICAgICAgICBncmFkaWVudCA9IHRoaXMuY29udGV4dC5jcmVhdGVMaW5lYXJHcmFkaWVudCgwLCBoZWlnaHQgLyAyLCB3aWR0aCwgaGVpZ2h0IC8gMik7XG5cbiAgICAgICAgICAgIC8vIGNhbiBqdXN0IGV2ZW5seSBzcGFjZSBvdXQgdGhlIGdyYWRpZW50cyBpbiB0aGlzIGNhc2UsIGFzIG11bHRpcGxlIGxpbmVzIG1ha2VzIG5vIGRpZmZlcmVuY2VcbiAgICAgICAgICAgIC8vIHRvIGFuIGV2ZW4gbGVmdCB0byByaWdodCBncmFkaWVudFxuICAgICAgICAgICAgdG90YWxJdGVyYXRpb25zID0gZmlsbC5sZW5ndGggKyAxO1xuICAgICAgICAgICAgY3VycmVudEl0ZXJhdGlvbiA9IDE7XG5cbiAgICAgICAgICAgIGZvciAodmFyIGkkMiA9IDA7IGkkMiA8IGZpbGwubGVuZ3RoOyBpJDIrKylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGZpbGxHcmFkaWVudFN0b3BzW2kkMl0gPT09ICdudW1iZXInKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgc3RvcCA9IGZpbGxHcmFkaWVudFN0b3BzW2kkMl07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHN0b3AgPSBjdXJyZW50SXRlcmF0aW9uIC8gdG90YWxJdGVyYXRpb25zO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBncmFkaWVudC5hZGRDb2xvclN0b3Aoc3RvcCwgZmlsbFtpJDJdKTtcbiAgICAgICAgICAgICAgICBjdXJyZW50SXRlcmF0aW9uKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZ3JhZGllbnQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoaXMgdGV4dCBvYmplY3QuXG4gICAgICogTm90ZSogVW5saWtlIGEgU3ByaXRlLCBhIFRleHQgb2JqZWN0IHdpbGwgYXV0b21hdGljYWxseSBkZXN0cm95IGl0cyBiYXNlVGV4dHVyZSBhbmQgdGV4dHVyZSBhc1xuICAgICAqIHRoZSBtYWpvcml0eSBvZiB0aGUgdGltZSB0aGUgdGV4dHVyZSB3aWxsIG5vdCBiZSBzaGFyZWQgd2l0aCBhbnkgb3RoZXIgU3ByaXRlcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fGJvb2xlYW59IFtvcHRpb25zXSAtIE9wdGlvbnMgcGFyYW1ldGVyLiBBIGJvb2xlYW4gd2lsbCBhY3QgYXMgaWYgYWxsIG9wdGlvbnNcbiAgICAgKiAgaGF2ZSBiZWVuIHNldCB0byB0aGF0IHZhbHVlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jaGlsZHJlbj1mYWxzZV0gLSBpZiBzZXQgdG8gdHJ1ZSwgYWxsIHRoZSBjaGlsZHJlbiB3aWxsIGhhdmUgdGhlaXJcbiAgICAgKiAgZGVzdHJveSBtZXRob2QgY2FsbGVkIGFzIHdlbGwuICdvcHRpb25zJyB3aWxsIGJlIHBhc3NlZCBvbiB0byB0aG9zZSBjYWxscy5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnRleHR1cmU9dHJ1ZV0gLSBTaG91bGQgaXQgZGVzdHJveSB0aGUgY3VycmVudCB0ZXh0dXJlIG9mIHRoZSBzcHJpdGUgYXMgd2VsbFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYmFzZVRleHR1cmU9dHJ1ZV0gLSBTaG91bGQgaXQgZGVzdHJveSB0aGUgYmFzZSB0ZXh0dXJlIG9mIHRoZSBzcHJpdGUgYXMgd2VsbFxuICAgICAqL1xuICAgIFRleHQucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95IChvcHRpb25zKVxuICAgIHtcbiAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zID09PSAnYm9vbGVhbicpXG4gICAgICAgIHtcbiAgICAgICAgICAgIG9wdGlvbnMgPSB7IGNoaWxkcmVuOiBvcHRpb25zIH07XG4gICAgICAgIH1cblxuICAgICAgICBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgZGVmYXVsdERlc3Ryb3lPcHRpb25zLCBvcHRpb25zKTtcblxuICAgICAgICBTcHJpdGUucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzLCBvcHRpb25zKTtcblxuICAgICAgICAvLyBtYWtlIHN1cmUgdG8gcmVzZXQgdGhlIHRoZSBjb250ZXh0IGFuZCBjYW52YXMuLiBkb250IHdhbnQgdGhpcyBoYW5naW5nIGFyb3VuZCBpbiBtZW1vcnkhXG4gICAgICAgIHRoaXMuY29udGV4dCA9IG51bGw7XG4gICAgICAgIHRoaXMuY2FudmFzID0gbnVsbDtcblxuICAgICAgICB0aGlzLl9zdHlsZSA9IG51bGw7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSB3aWR0aCBvZiB0aGUgVGV4dCwgc2V0dGluZyB0aGlzIHdpbGwgYWN0dWFsbHkgbW9kaWZ5IHRoZSBzY2FsZSB0byBhY2hpZXZlIHRoZSB2YWx1ZSBzZXRcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMud2lkdGguZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHRoaXMudXBkYXRlVGV4dCh0cnVlKTtcblxuICAgICAgICByZXR1cm4gTWF0aC5hYnModGhpcy5zY2FsZS54KSAqIHRoaXMuX3RleHR1cmUub3JpZy53aWR0aDtcbiAgICB9O1xuXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLndpZHRoLnNldCA9IGZ1bmN0aW9uICh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICB0aGlzLnVwZGF0ZVRleHQodHJ1ZSk7XG5cbiAgICAgICAgdmFyIHMgPSBzaWduKHRoaXMuc2NhbGUueCkgfHwgMTtcblxuICAgICAgICB0aGlzLnNjYWxlLnggPSBzICogdmFsdWUgLyB0aGlzLl90ZXh0dXJlLm9yaWcud2lkdGg7XG4gICAgICAgIHRoaXMuX3dpZHRoID0gdmFsdWU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIFRleHQsIHNldHRpbmcgdGhpcyB3aWxsIGFjdHVhbGx5IG1vZGlmeSB0aGUgc2NhbGUgdG8gYWNoaWV2ZSB0aGUgdmFsdWUgc2V0XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLmhlaWdodC5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgdGhpcy51cGRhdGVUZXh0KHRydWUpO1xuXG4gICAgICAgIHJldHVybiBNYXRoLmFicyh0aGlzLnNjYWxlLnkpICogdGhpcy5fdGV4dHVyZS5vcmlnLmhlaWdodDtcbiAgICB9O1xuXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLmhlaWdodC5zZXQgPSBmdW5jdGlvbiAodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgdGhpcy51cGRhdGVUZXh0KHRydWUpO1xuXG4gICAgICAgIHZhciBzID0gc2lnbih0aGlzLnNjYWxlLnkpIHx8IDE7XG5cbiAgICAgICAgdGhpcy5zY2FsZS55ID0gcyAqIHZhbHVlIC8gdGhpcy5fdGV4dHVyZS5vcmlnLmhlaWdodDtcbiAgICAgICAgdGhpcy5faGVpZ2h0ID0gdmFsdWU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgc3R5bGUgb2YgdGhlIHRleHQuIFNldCB1cCBhbiBldmVudCBsaXN0ZW5lciB0byBsaXN0ZW4gZm9yIGNoYW5nZXMgb24gdGhlIHN0eWxlXG4gICAgICogb2JqZWN0IGFuZCBtYXJrIHRoZSB0ZXh0IGFzIGRpcnR5LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7b2JqZWN0fFBJWEkuVGV4dFN0eWxlfVxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5zdHlsZS5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3N0eWxlO1xuICAgIH07XG5cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMuc3R5bGUuc2V0ID0gZnVuY3Rpb24gKHN0eWxlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIHN0eWxlID0gc3R5bGUgfHwge307XG5cbiAgICAgICAgaWYgKHN0eWxlIGluc3RhbmNlb2YgVGV4dFN0eWxlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9zdHlsZSA9IHN0eWxlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fc3R5bGUgPSBuZXcgVGV4dFN0eWxlKHN0eWxlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMubG9jYWxTdHlsZUlEID0gLTE7XG4gICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIGNvcHkgZm9yIHRoZSB0ZXh0IG9iamVjdC4gVG8gc3BsaXQgYSBsaW5lIHlvdSBjYW4gdXNlICdcXG4nLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy50ZXh0LmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fdGV4dDtcbiAgICB9O1xuXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLnRleHQuc2V0ID0gZnVuY3Rpb24gKHRleHQpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgdGV4dCA9IFN0cmluZyh0ZXh0ID09PSBudWxsIHx8IHRleHQgPT09IHVuZGVmaW5lZCA/ICcnIDogdGV4dCk7XG5cbiAgICAgICAgaWYgKHRoaXMuX3RleHQgPT09IHRleHQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl90ZXh0ID0gdGV4dDtcbiAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSByZXNvbHV0aW9uIC8gZGV2aWNlIHBpeGVsIHJhdGlvIG9mIHRoZSBjYW52YXMuXG4gICAgICogVGhpcyBpcyBzZXQgdG8gYXV0b21hdGljYWxseSBtYXRjaCB0aGUgcmVuZGVyZXIgcmVzb2x1dGlvbiBieSBkZWZhdWx0LCBidXQgY2FuIGJlIG92ZXJyaWRkZW4gYnkgc2V0dGluZyBtYW51YWxseS5cbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMVxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5yZXNvbHV0aW9uLmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmVzb2x1dGlvbjtcbiAgICB9O1xuXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLnJlc29sdXRpb24uc2V0ID0gZnVuY3Rpb24gKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIHRoaXMuX2F1dG9SZXNvbHV0aW9uID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKHRoaXMuX3Jlc29sdXRpb24gPT09IHZhbHVlKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9yZXNvbHV0aW9uID0gdmFsdWU7XG4gICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgIH07XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyggVGV4dC5wcm90b3R5cGUsIHByb3RvdHlwZUFjY2Vzc29ycyApO1xuXG4gICAgcmV0dXJuIFRleHQ7XG59KFNwcml0ZSkpO1xuXG5leHBvcnQgeyBURVhUX0dSQURJRU5ULCBUZXh0LCBUZXh0TWV0cmljcywgVGV4dFN0eWxlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD10ZXh0LmVzLmpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS9wcmVwYXJlIC0gdjUuMi4wXG4gKiBDb21waWxlZCBXZWQsIDA2IE5vdiAyMDE5IDAyOjMyOjQzIFVUQ1xuICpcbiAqIEBwaXhpL3ByZXBhcmUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5pbXBvcnQgeyBzZXR0aW5ncyB9IGZyb20gJ0BwaXhpL3NldHRpbmdzJztcbmltcG9ydCB7IFRleHR1cmUsIEJhc2VUZXh0dXJlIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5pbXBvcnQgeyBHcmFwaGljcyB9IGZyb20gJ0BwaXhpL2dyYXBoaWNzJztcbmltcG9ydCB7IFRpY2tlciwgVVBEQVRFX1BSSU9SSVRZIH0gZnJvbSAnQHBpeGkvdGlja2VyJztcbmltcG9ydCB7IENvbnRhaW5lciB9IGZyb20gJ0BwaXhpL2Rpc3BsYXknO1xuaW1wb3J0IHsgVGV4dCwgVGV4dFN0eWxlLCBUZXh0TWV0cmljcyB9IGZyb20gJ0BwaXhpL3RleHQnO1xuXG4vKipcbiAqIERlZmF1bHQgbnVtYmVyIG9mIHVwbG9hZHMgcGVyIGZyYW1lIHVzaW5nIHByZXBhcmUgcGx1Z2luLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gKiBAbmFtZSBVUExPQURTX1BFUl9GUkFNRVxuICogQHR5cGUge251bWJlcn1cbiAqIEBkZWZhdWx0IDRcbiAqL1xuc2V0dGluZ3MuVVBMT0FEU19QRVJfRlJBTUUgPSA0O1xuXG4vKipcbiAqIENvdW50TGltaXRlciBsaW1pdHMgdGhlIG51bWJlciBvZiBpdGVtcyBoYW5kbGVkIGJ5IGEge0BsaW5rIFBJWEkucHJlcGFyZS5CYXNlUHJlcGFyZX0gdG8gYSBzcGVjaWZpZWRcbiAqIG51bWJlciBvZiBpdGVtcyBwZXIgZnJhbWUuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSS5wcmVwYXJlXG4gKi9cbnZhciBDb3VudExpbWl0ZXIgPSBmdW5jdGlvbiBDb3VudExpbWl0ZXIobWF4SXRlbXNQZXJGcmFtZSlcbntcbiAgICAvKipcbiAgICAgKiBUaGUgbWF4aW11bSBudW1iZXIgb2YgaXRlbXMgdGhhdCBjYW4gYmUgcHJlcGFyZWQgZWFjaCBmcmFtZS5cbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5tYXhJdGVtc1BlckZyYW1lID0gbWF4SXRlbXNQZXJGcmFtZTtcbiAgICAvKipcbiAgICAgKiBUaGUgbnVtYmVyIG9mIGl0ZW1zIHRoYXQgY2FuIGJlIHByZXBhcmVkIGluIHRoZSBjdXJyZW50IGZyYW1lLlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLml0ZW1zTGVmdCA9IDA7XG59O1xuXG4vKipcbiAqIFJlc2V0cyBhbnkgY291bnRpbmcgcHJvcGVydGllcyB0byBzdGFydCBmcmVzaCBvbiBhIG5ldyBmcmFtZS5cbiAqL1xuQ291bnRMaW1pdGVyLnByb3RvdHlwZS5iZWdpbkZyYW1lID0gZnVuY3Rpb24gYmVnaW5GcmFtZSAoKVxue1xuICAgIHRoaXMuaXRlbXNMZWZ0ID0gdGhpcy5tYXhJdGVtc1BlckZyYW1lO1xufTtcblxuLyoqXG4gKiBDaGVja3MgdG8gc2VlIGlmIGFub3RoZXIgaXRlbSBjYW4gYmUgdXBsb2FkZWQuIFRoaXMgc2hvdWxkIG9ubHkgYmUgY2FsbGVkIG9uY2UgcGVyIGl0ZW0uXG4gKiBAcmV0dXJuIHtib29sZWFufSBJZiB0aGUgaXRlbSBpcyBhbGxvd2VkIHRvIGJlIHVwbG9hZGVkLlxuICovXG5Db3VudExpbWl0ZXIucHJvdG90eXBlLmFsbG93ZWRUb1VwbG9hZCA9IGZ1bmN0aW9uIGFsbG93ZWRUb1VwbG9hZCAoKVxue1xuICAgIHJldHVybiB0aGlzLml0ZW1zTGVmdC0tID4gMDtcbn07XG5cbi8qKlxuICogVGhlIHByZXBhcmUgbWFuYWdlciBwcm92aWRlcyBmdW5jdGlvbmFsaXR5IHRvIHVwbG9hZCBjb250ZW50IHRvIHRoZSBHUFUuXG4gKlxuICogQmFzZVByZXBhcmUgaGFuZGxlcyBiYXNpYyBxdWV1aW5nIGZ1bmN0aW9uYWxpdHkgYW5kIGlzIGV4dGVuZGVkIGJ5XG4gKiB7QGxpbmsgUElYSS5wcmVwYXJlLlByZXBhcmV9IGFuZCB7QGxpbmsgUElYSS5wcmVwYXJlLkNhbnZhc1ByZXBhcmV9XG4gKiB0byBwcm92aWRlIHByZXBhcmF0aW9uIGNhcGFiaWxpdGllcyBzcGVjaWZpYyB0byB0aGVpciByZXNwZWN0aXZlIHJlbmRlcmVycy5cbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gQ3JlYXRlIGEgc3ByaXRlXG4gKiBjb25zdCBzcHJpdGUgPSBQSVhJLlNwcml0ZS5mcm9tKCdzb21ldGhpbmcucG5nJyk7XG4gKlxuICogLy8gTG9hZCBvYmplY3QgaW50byBHUFVcbiAqIGFwcC5yZW5kZXJlci5wbHVnaW5zLnByZXBhcmUudXBsb2FkKHNwcml0ZSwgKCkgPT4ge1xuICpcbiAqICAgICAvL1RleHR1cmUocykgaGFzIGJlZW4gdXBsb2FkZWQgdG8gR1BVXG4gKiAgICAgYXBwLnN0YWdlLmFkZENoaWxkKHNwcml0ZSk7XG4gKlxuICogfSlcbiAqXG4gKiBAYWJzdHJhY3RcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWEkucHJlcGFyZVxuICovXG52YXIgQmFzZVByZXBhcmUgPSBmdW5jdGlvbiBCYXNlUHJlcGFyZShyZW5kZXJlcilcbntcbiAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICAgIC8qKlxuICAgICAqIFRoZSBsaW1pdGVyIHRvIGJlIHVzZWQgdG8gY29udHJvbCBob3cgcXVpY2tseSBpdGVtcyBhcmUgcHJlcGFyZWQuXG4gICAgICogQHR5cGUge1BJWEkucHJlcGFyZS5Db3VudExpbWl0ZXJ8UElYSS5wcmVwYXJlLlRpbWVMaW1pdGVyfVxuICAgICAqL1xuICAgIHRoaXMubGltaXRlciA9IG5ldyBDb3VudExpbWl0ZXIoc2V0dGluZ3MuVVBMT0FEU19QRVJfRlJBTUUpO1xuXG4gICAgLyoqXG4gICAgICogUmVmZXJlbmNlIHRvIHRoZSByZW5kZXJlci5cbiAgICAgKiBAdHlwZSB7UElYSS5BYnN0cmFjdFJlbmRlcmVyfVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICB0aGlzLnJlbmRlcmVyID0gcmVuZGVyZXI7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgb25seSByZWFsIGRpZmZlcmVuY2UgYmV0d2VlbiBDYW52YXNQcmVwYXJlIGFuZCBQcmVwYXJlIGlzIHdoYXQgdGhleSBwYXNzXG4gICAgICogdG8gdXBsb2FkIGhvb2tzLiBUaGF0IGRpZmZlcmVudCBwYXJhbWV0ZXIgaXMgc3RvcmVkIGhlcmUuXG4gICAgICogQHR5cGUge1BJWEkucHJlcGFyZS5DYW52YXNQcmVwYXJlfFBJWEkuUmVuZGVyZXJ9XG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIHRoaXMudXBsb2FkSG9va0hlbHBlciA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBDb2xsZWN0aW9uIG9mIGl0ZW1zIHRvIHVwbG9hZHMgYXQgb25jZS5cbiAgICAgKiBAdHlwZSB7QXJyYXk8Kj59XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLnF1ZXVlID0gW107XG5cbiAgICAvKipcbiAgICAgKiBDb2xsZWN0aW9uIG9mIGFkZGl0aW9uYWwgaG9va3MgZm9yIGZpbmRpbmcgYXNzZXRzLlxuICAgICAqIEB0eXBlIHtBcnJheTxGdW5jdGlvbj59XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLmFkZEhvb2tzID0gW107XG5cbiAgICAvKipcbiAgICAgKiBDb2xsZWN0aW9uIG9mIGFkZGl0aW9uYWwgaG9va3MgZm9yIHByb2Nlc3NpbmcgYXNzZXRzLlxuICAgICAqIEB0eXBlIHtBcnJheTxGdW5jdGlvbj59XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLnVwbG9hZEhvb2tzID0gW107XG5cbiAgICAvKipcbiAgICAgKiBDYWxsYmFjayB0byBjYWxsIGFmdGVyIGNvbXBsZXRlZC5cbiAgICAgKiBAdHlwZSB7QXJyYXk8RnVuY3Rpb24+fVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5jb21wbGV0ZXMgPSBbXTtcblxuICAgIC8qKlxuICAgICAqIElmIHByZXBhcmUgaXMgdGlja2luZyAocnVubmluZykuXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLnRpY2tpbmcgPSBmYWxzZTtcblxuICAgIC8qKlxuICAgICAqICdib3VuZCcgY2FsbCBmb3IgcHJlcGFyZUl0ZW1zKCkuXG4gICAgICogQHR5cGUge0Z1bmN0aW9ufVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5kZWxheWVkVGljayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gdW5saWtlbHksIGJ1dCBpbiBjYXNlIHdlIHdlcmUgZGVzdHJveWVkIGJldHdlZW4gdGljaygpIGFuZCBkZWxheWVkVGljaygpXG4gICAgICAgIGlmICghdGhpcyQxLnF1ZXVlKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcyQxLnByZXBhcmVJdGVtcygpO1xuICAgIH07XG5cbiAgICAvLyBob29rcyB0byBmaW5kIHRoZSBjb3JyZWN0IHRleHR1cmVcbiAgICB0aGlzLnJlZ2lzdGVyRmluZEhvb2soZmluZFRleHQpO1xuICAgIHRoaXMucmVnaXN0ZXJGaW5kSG9vayhmaW5kVGV4dFN0eWxlKTtcbiAgICB0aGlzLnJlZ2lzdGVyRmluZEhvb2soZmluZE11bHRpcGxlQmFzZVRleHR1cmVzKTtcbiAgICB0aGlzLnJlZ2lzdGVyRmluZEhvb2soZmluZEJhc2VUZXh0dXJlKTtcbiAgICB0aGlzLnJlZ2lzdGVyRmluZEhvb2soZmluZFRleHR1cmUpO1xuXG4gICAgLy8gdXBsb2FkIGhvb2tzXG4gICAgdGhpcy5yZWdpc3RlclVwbG9hZEhvb2soZHJhd1RleHQpO1xuICAgIHRoaXMucmVnaXN0ZXJVcGxvYWRIb29rKGNhbGN1bGF0ZVRleHRTdHlsZSk7XG59O1xuXG4vKipcbiAqIFVwbG9hZCBhbGwgdGhlIHRleHR1cmVzIGFuZCBncmFwaGljcyB0byB0aGUgR1BVLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb258UElYSS5EaXNwbGF5T2JqZWN0fFBJWEkuQ29udGFpbmVyfFBJWEkuQmFzZVRleHR1cmV8UElYSS5UZXh0dXJlfFBJWEkuR3JhcGhpY3N8UElYSS5UZXh0fSBpdGVtIC1cbiAqICAgIEVpdGhlciB0aGUgY29udGFpbmVyIG9yIGRpc3BsYXkgb2JqZWN0IHRvIHNlYXJjaCBmb3IgaXRlbXMgdG8gdXBsb2FkLCB0aGUgaXRlbXMgdG8gdXBsb2FkIHRoZW1zZWx2ZXMsXG4gKiAgICBvciB0aGUgY2FsbGJhY2sgZnVuY3Rpb24sIGlmIGl0ZW1zIGhhdmUgYmVlbiBhZGRlZCB1c2luZyBgcHJlcGFyZS5hZGRgLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gW2RvbmVdIC0gT3B0aW9uYWwgY2FsbGJhY2sgd2hlbiBhbGwgcXVldWVkIHVwbG9hZHMgaGF2ZSBjb21wbGV0ZWRcbiAqL1xuQmFzZVByZXBhcmUucHJvdG90eXBlLnVwbG9hZCA9IGZ1bmN0aW9uIHVwbG9hZCAoaXRlbSwgZG9uZSlcbntcbiAgICBpZiAodHlwZW9mIGl0ZW0gPT09ICdmdW5jdGlvbicpXG4gICAge1xuICAgICAgICBkb25lID0gaXRlbTtcbiAgICAgICAgaXRlbSA9IG51bGw7XG4gICAgfVxuXG4gICAgLy8gSWYgYSBkaXNwbGF5IG9iamVjdCwgc2VhcmNoIGZvciBpdGVtc1xuICAgIC8vIHRoYXQgd2UgY291bGQgdXBsb2FkXG4gICAgaWYgKGl0ZW0pXG4gICAge1xuICAgICAgICB0aGlzLmFkZChpdGVtKTtcbiAgICB9XG5cbiAgICAvLyBHZXQgdGhlIGl0ZW1zIGZvciB1cGxvYWQgZnJvbSB0aGUgZGlzcGxheVxuICAgIGlmICh0aGlzLnF1ZXVlLmxlbmd0aClcbiAgICB7XG4gICAgICAgIGlmIChkb25lKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmNvbXBsZXRlcy5wdXNoKGRvbmUpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLnRpY2tpbmcpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudGlja2luZyA9IHRydWU7XG4gICAgICAgICAgICBUaWNrZXIuc3lzdGVtLmFkZE9uY2UodGhpcy50aWNrLCB0aGlzLCBVUERBVEVfUFJJT1JJVFkuVVRJTElUWSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAoZG9uZSlcbiAgICB7XG4gICAgICAgIGRvbmUoKTtcbiAgICB9XG59O1xuXG4vKipcbiAqIEhhbmRsZSB0aWNrIHVwZGF0ZVxuICpcbiAqIEBwcml2YXRlXG4gKi9cbkJhc2VQcmVwYXJlLnByb3RvdHlwZS50aWNrID0gZnVuY3Rpb24gdGljayAoKVxue1xuICAgIHNldFRpbWVvdXQodGhpcy5kZWxheWVkVGljaywgMCk7XG59O1xuXG4vKipcbiAqIEFjdHVhbGx5IHByZXBhcmUgaXRlbXMuIFRoaXMgaXMgaGFuZGxlZCBvdXRzaWRlIG9mIHRoZSB0aWNrIGJlY2F1c2UgaXQgd2lsbCB0YWtlIGEgd2hpbGVcbiAqIGFuZCB3ZSBkbyBOT1Qgd2FudCB0byBibG9jayB0aGUgY3VycmVudCBhbmltYXRpb24gZnJhbWUgZnJvbSByZW5kZXJpbmcuXG4gKlxuICogQHByaXZhdGVcbiAqL1xuQmFzZVByZXBhcmUucHJvdG90eXBlLnByZXBhcmVJdGVtcyA9IGZ1bmN0aW9uIHByZXBhcmVJdGVtcyAoKVxue1xuICAgIHRoaXMubGltaXRlci5iZWdpbkZyYW1lKCk7XG4gICAgLy8gVXBsb2FkIHRoZSBncmFwaGljc1xuICAgIHdoaWxlICh0aGlzLnF1ZXVlLmxlbmd0aCAmJiB0aGlzLmxpbWl0ZXIuYWxsb3dlZFRvVXBsb2FkKCkpXG4gICAge1xuICAgICAgICB2YXIgaXRlbSA9IHRoaXMucXVldWVbMF07XG4gICAgICAgIHZhciB1cGxvYWRlZCA9IGZhbHNlO1xuXG4gICAgICAgIGlmIChpdGVtICYmICFpdGVtLl9kZXN0cm95ZWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSB0aGlzLnVwbG9hZEhvb2tzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnVwbG9hZEhvb2tzW2ldKHRoaXMudXBsb2FkSG9va0hlbHBlciwgaXRlbSkpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnF1ZXVlLnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgICAgIHVwbG9hZGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF1cGxvYWRlZClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5xdWV1ZS5zaGlmdCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gV2UncmUgZmluaXNoZWRcbiAgICBpZiAoIXRoaXMucXVldWUubGVuZ3RoKVxuICAgIHtcbiAgICAgICAgdGhpcy50aWNraW5nID0gZmFsc2U7XG5cbiAgICAgICAgdmFyIGNvbXBsZXRlcyA9IHRoaXMuY29tcGxldGVzLnNsaWNlKDApO1xuXG4gICAgICAgIHRoaXMuY29tcGxldGVzLmxlbmd0aCA9IDA7XG5cbiAgICAgICAgZm9yICh2YXIgaSQxID0gMCwgbGVuJDEgPSBjb21wbGV0ZXMubGVuZ3RoOyBpJDEgPCBsZW4kMTsgaSQxKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbXBsZXRlc1tpJDFdKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZVxuICAgIHtcbiAgICAgICAgLy8gaWYgd2UgYXJlIG5vdCBmaW5pc2hlZCwgb24gdGhlIG5leHQgckFGIGRvIHRoaXMgYWdhaW5cbiAgICAgICAgVGlja2VyLnN5c3RlbS5hZGRPbmNlKHRoaXMudGljaywgdGhpcywgVVBEQVRFX1BSSU9SSVRZLlVUSUxJVFkpO1xuICAgIH1cbn07XG5cbi8qKlxuICogQWRkcyBob29rcyBmb3IgZmluZGluZyBpdGVtcy5cbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBhZGRIb29rIC0gRnVuY3Rpb24gY2FsbCB0aGF0IHRha2VzIHR3byBwYXJhbWV0ZXJzOiBgaXRlbToqLCBxdWV1ZTpBcnJheWBcbiAqICAgICAgZnVuY3Rpb24gbXVzdCByZXR1cm4gYHRydWVgIGlmIGl0IHdhcyBhYmxlIHRvIGFkZCBpdGVtIHRvIHRoZSBxdWV1ZS5cbiAqIEByZXR1cm4ge1BJWEkucHJlcGFyZS5CYXNlUHJlcGFyZX0gSW5zdGFuY2Ugb2YgcGx1Z2luIGZvciBjaGFpbmluZy5cbiAqL1xuQmFzZVByZXBhcmUucHJvdG90eXBlLnJlZ2lzdGVyRmluZEhvb2sgPSBmdW5jdGlvbiByZWdpc3RlckZpbmRIb29rIChhZGRIb29rKVxue1xuICAgIGlmIChhZGRIb29rKVxuICAgIHtcbiAgICAgICAgdGhpcy5hZGRIb29rcy5wdXNoKGFkZEhvb2spO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBBZGRzIGhvb2tzIGZvciB1cGxvYWRpbmcgaXRlbXMuXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gdXBsb2FkSG9vayAtIEZ1bmN0aW9uIGNhbGwgdGhhdCB0YWtlcyB0d28gcGFyYW1ldGVyczogYHByZXBhcmU6Q2FudmFzUHJlcGFyZSwgaXRlbToqYCBhbmRcbiAqICAgICAgZnVuY3Rpb24gbXVzdCByZXR1cm4gYHRydWVgIGlmIGl0IHdhcyBhYmxlIHRvIGhhbmRsZSB1cGxvYWQgb2YgaXRlbS5cbiAqIEByZXR1cm4ge1BJWEkucHJlcGFyZS5CYXNlUHJlcGFyZX0gSW5zdGFuY2Ugb2YgcGx1Z2luIGZvciBjaGFpbmluZy5cbiAqL1xuQmFzZVByZXBhcmUucHJvdG90eXBlLnJlZ2lzdGVyVXBsb2FkSG9vayA9IGZ1bmN0aW9uIHJlZ2lzdGVyVXBsb2FkSG9vayAodXBsb2FkSG9vaylcbntcbiAgICBpZiAodXBsb2FkSG9vaylcbiAgICB7XG4gICAgICAgIHRoaXMudXBsb2FkSG9va3MucHVzaCh1cGxvYWRIb29rKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogTWFudWFsbHkgYWRkIGFuIGl0ZW0gdG8gdGhlIHVwbG9hZGluZyBxdWV1ZS5cbiAqXG4gKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdHxQSVhJLkNvbnRhaW5lcnxQSVhJLkJhc2VUZXh0dXJlfFBJWEkuVGV4dHVyZXxQSVhJLkdyYXBoaWNzfFBJWEkuVGV4dHwqfSBpdGVtIC0gT2JqZWN0IHRvXG4gKiAgICBhZGQgdG8gdGhlIHF1ZXVlXG4gKiBAcmV0dXJuIHtQSVhJLnByZXBhcmUuQmFzZVByZXBhcmV9IEluc3RhbmNlIG9mIHBsdWdpbiBmb3IgY2hhaW5pbmcuXG4gKi9cbkJhc2VQcmVwYXJlLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiBhZGQgKGl0ZW0pXG57XG4gICAgLy8gQWRkIGFkZGl0aW9uYWwgaG9va3MgZm9yIGZpbmRpbmcgZWxlbWVudHMgb24gc3BlY2lhbFxuICAgIC8vIHR5cGVzIG9mIG9iamVjdHMgdGhhdFxuICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSB0aGlzLmFkZEhvb2tzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuYWRkSG9va3NbaV0oaXRlbSwgdGhpcy5xdWV1ZSkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gR2V0IGNoaWxkcmVuIHJlY3Vyc2l2ZWx5XG4gICAgaWYgKGl0ZW0gaW5zdGFuY2VvZiBDb250YWluZXIpXG4gICAge1xuICAgICAgICBmb3IgKHZhciBpJDEgPSBpdGVtLmNoaWxkcmVuLmxlbmd0aCAtIDE7IGkkMSA+PSAwOyBpJDEtLSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5hZGQoaXRlbS5jaGlsZHJlbltpJDFdKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBEZXN0cm95cyB0aGUgcGx1Z2luLCBkb24ndCB1c2UgYWZ0ZXIgdGhpcy5cbiAqXG4gKi9cbkJhc2VQcmVwYXJlLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSAoKVxue1xuICAgIGlmICh0aGlzLnRpY2tpbmcpXG4gICAge1xuICAgICAgICBUaWNrZXIuc3lzdGVtLnJlbW92ZSh0aGlzLnRpY2ssIHRoaXMpO1xuICAgIH1cbiAgICB0aGlzLnRpY2tpbmcgPSBmYWxzZTtcbiAgICB0aGlzLmFkZEhvb2tzID0gbnVsbDtcbiAgICB0aGlzLnVwbG9hZEhvb2tzID0gbnVsbDtcbiAgICB0aGlzLnJlbmRlcmVyID0gbnVsbDtcbiAgICB0aGlzLmNvbXBsZXRlcyA9IG51bGw7XG4gICAgdGhpcy5xdWV1ZSA9IG51bGw7XG4gICAgdGhpcy5saW1pdGVyID0gbnVsbDtcbiAgICB0aGlzLnVwbG9hZEhvb2tIZWxwZXIgPSBudWxsO1xufTtcblxuLyoqXG4gKiBCdWlsdC1pbiBob29rIHRvIGZpbmQgbXVsdGlwbGUgdGV4dHVyZXMgZnJvbSBvYmplY3RzIGxpa2UgQW5pbWF0ZWRTcHJpdGVzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gaXRlbSAtIERpc3BsYXkgb2JqZWN0IHRvIGNoZWNrXG4gKiBAcGFyYW0ge0FycmF5PCo+fSBxdWV1ZSAtIENvbGxlY3Rpb24gb2YgaXRlbXMgdG8gdXBsb2FkXG4gKiBAcmV0dXJuIHtib29sZWFufSBpZiBhIFBJWEkuVGV4dHVyZSBvYmplY3Qgd2FzIGZvdW5kLlxuICovXG5mdW5jdGlvbiBmaW5kTXVsdGlwbGVCYXNlVGV4dHVyZXMoaXRlbSwgcXVldWUpXG57XG4gICAgdmFyIHJlc3VsdCA9IGZhbHNlO1xuXG4gICAgLy8gT2JqZWN0cyB3aXRoIG11bHRpcGxlIHRleHR1cmVzXG4gICAgaWYgKGl0ZW0gJiYgaXRlbS5fdGV4dHVyZXMgJiYgaXRlbS5fdGV4dHVyZXMubGVuZ3RoKVxuICAgIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpdGVtLl90ZXh0dXJlcy5sZW5ndGg7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKGl0ZW0uX3RleHR1cmVzW2ldIGluc3RhbmNlb2YgVGV4dHVyZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB2YXIgYmFzZVRleHR1cmUgPSBpdGVtLl90ZXh0dXJlc1tpXS5iYXNlVGV4dHVyZTtcblxuICAgICAgICAgICAgICAgIGlmIChxdWV1ZS5pbmRleE9mKGJhc2VUZXh0dXJlKSA9PT0gLTEpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBxdWV1ZS5wdXNoKGJhc2VUZXh0dXJlKTtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIEJ1aWx0LWluIGhvb2sgdG8gZmluZCBCYXNlVGV4dHVyZXMgZnJvbSBUZXh0dXJlLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1BJWEkuVGV4dHVyZX0gaXRlbSAtIERpc3BsYXkgb2JqZWN0IHRvIGNoZWNrXG4gKiBAcGFyYW0ge0FycmF5PCo+fSBxdWV1ZSAtIENvbGxlY3Rpb24gb2YgaXRlbXMgdG8gdXBsb2FkXG4gKiBAcmV0dXJuIHtib29sZWFufSBpZiBhIFBJWEkuVGV4dHVyZSBvYmplY3Qgd2FzIGZvdW5kLlxuICovXG5mdW5jdGlvbiBmaW5kQmFzZVRleHR1cmUoaXRlbSwgcXVldWUpXG57XG4gICAgaWYgKGl0ZW0uYmFzZVRleHR1cmUgaW5zdGFuY2VvZiBCYXNlVGV4dHVyZSlcbiAgICB7XG4gICAgICAgIHZhciB0ZXh0dXJlID0gaXRlbS5iYXNlVGV4dHVyZTtcblxuICAgICAgICBpZiAocXVldWUuaW5kZXhPZih0ZXh0dXJlKSA9PT0gLTEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHF1ZXVlLnB1c2godGV4dHVyZSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG59XG5cbi8qKlxuICogQnVpbHQtaW4gaG9vayB0byBmaW5kIHRleHR1cmVzIGZyb20gb2JqZWN0cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IGl0ZW0gLSBEaXNwbGF5IG9iamVjdCB0byBjaGVja1xuICogQHBhcmFtIHtBcnJheTwqPn0gcXVldWUgLSBDb2xsZWN0aW9uIG9mIGl0ZW1zIHRvIHVwbG9hZFxuICogQHJldHVybiB7Ym9vbGVhbn0gaWYgYSBQSVhJLlRleHR1cmUgb2JqZWN0IHdhcyBmb3VuZC5cbiAqL1xuZnVuY3Rpb24gZmluZFRleHR1cmUoaXRlbSwgcXVldWUpXG57XG4gICAgaWYgKGl0ZW0uX3RleHR1cmUgJiYgaXRlbS5fdGV4dHVyZSBpbnN0YW5jZW9mIFRleHR1cmUpXG4gICAge1xuICAgICAgICB2YXIgdGV4dHVyZSA9IGl0ZW0uX3RleHR1cmUuYmFzZVRleHR1cmU7XG5cbiAgICAgICAgaWYgKHF1ZXVlLmluZGV4T2YodGV4dHVyZSkgPT09IC0xKVxuICAgICAgICB7XG4gICAgICAgICAgICBxdWV1ZS5wdXNoKHRleHR1cmUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIEJ1aWx0LWluIGhvb2sgdG8gZHJhdyBQSVhJLlRleHQgdG8gaXRzIHRleHR1cmUuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcnxQSVhJLkNhbnZhc1ByZXBhcmV9IGhlbHBlciAtIE5vdCB1c2VkIGJ5IHRoaXMgdXBsb2FkIGhhbmRsZXJcbiAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBpdGVtIC0gSXRlbSB0byBjaGVja1xuICogQHJldHVybiB7Ym9vbGVhbn0gSWYgaXRlbSB3YXMgdXBsb2FkZWQuXG4gKi9cbmZ1bmN0aW9uIGRyYXdUZXh0KGhlbHBlciwgaXRlbSlcbntcbiAgICBpZiAoaXRlbSBpbnN0YW5jZW9mIFRleHQpXG4gICAge1xuICAgICAgICAvLyB1cGRhdGluZyB0ZXh0IHdpbGwgcmV0dXJuIGVhcmx5IGlmIGl0IGlzIG5vdCBkaXJ0eVxuICAgICAgICBpdGVtLnVwZGF0ZVRleHQodHJ1ZSk7XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIEJ1aWx0LWluIGhvb2sgdG8gY2FsY3VsYXRlIGEgdGV4dCBzdHlsZSBmb3IgYSBQSVhJLlRleHQgb2JqZWN0LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ8UElYSS5DYW52YXNQcmVwYXJlfSBoZWxwZXIgLSBOb3QgdXNlZCBieSB0aGlzIHVwbG9hZCBoYW5kbGVyXG4gKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gaXRlbSAtIEl0ZW0gdG8gY2hlY2tcbiAqIEByZXR1cm4ge2Jvb2xlYW59IElmIGl0ZW0gd2FzIHVwbG9hZGVkLlxuICovXG5mdW5jdGlvbiBjYWxjdWxhdGVUZXh0U3R5bGUoaGVscGVyLCBpdGVtKVxue1xuICAgIGlmIChpdGVtIGluc3RhbmNlb2YgVGV4dFN0eWxlKVxuICAgIHtcbiAgICAgICAgdmFyIGZvbnQgPSBpdGVtLnRvRm9udFN0cmluZygpO1xuXG4gICAgICAgIFRleHRNZXRyaWNzLm1lYXN1cmVGb250KGZvbnQpO1xuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBCdWlsdC1pbiBob29rIHRvIGZpbmQgVGV4dCBvYmplY3RzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gaXRlbSAtIERpc3BsYXkgb2JqZWN0IHRvIGNoZWNrXG4gKiBAcGFyYW0ge0FycmF5PCo+fSBxdWV1ZSAtIENvbGxlY3Rpb24gb2YgaXRlbXMgdG8gdXBsb2FkXG4gKiBAcmV0dXJuIHtib29sZWFufSBpZiBhIFBJWEkuVGV4dCBvYmplY3Qgd2FzIGZvdW5kLlxuICovXG5mdW5jdGlvbiBmaW5kVGV4dChpdGVtLCBxdWV1ZSlcbntcbiAgICBpZiAoaXRlbSBpbnN0YW5jZW9mIFRleHQpXG4gICAge1xuICAgICAgICAvLyBwdXNoIHRoZSB0ZXh0IHN0eWxlIHRvIHByZXBhcmUgaXQgLSB0aGlzIGNhbiBiZSByZWFsbHkgZXhwZW5zaXZlXG4gICAgICAgIGlmIChxdWV1ZS5pbmRleE9mKGl0ZW0uc3R5bGUpID09PSAtMSlcbiAgICAgICAge1xuICAgICAgICAgICAgcXVldWUucHVzaChpdGVtLnN0eWxlKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBhbHNvIHB1c2ggdGhlIHRleHQgb2JqZWN0IHNvIHRoYXQgd2UgY2FuIHJlbmRlciBpdCAodG8gY2FudmFzL3RleHR1cmUpIGlmIG5lZWRlZFxuICAgICAgICBpZiAocXVldWUuaW5kZXhPZihpdGVtKSA9PT0gLTEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHF1ZXVlLnB1c2goaXRlbSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gYWxzbyBwdXNoIHRoZSBUZXh0J3MgdGV4dHVyZSBmb3IgdXBsb2FkIHRvIEdQVVxuICAgICAgICB2YXIgdGV4dHVyZSA9IGl0ZW0uX3RleHR1cmUuYmFzZVRleHR1cmU7XG5cbiAgICAgICAgaWYgKHF1ZXVlLmluZGV4T2YodGV4dHVyZSkgPT09IC0xKVxuICAgICAgICB7XG4gICAgICAgICAgICBxdWV1ZS5wdXNoKHRleHR1cmUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIEJ1aWx0LWluIGhvb2sgdG8gZmluZCBUZXh0U3R5bGUgb2JqZWN0cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtQSVhJLlRleHRTdHlsZX0gaXRlbSAtIERpc3BsYXkgb2JqZWN0IHRvIGNoZWNrXG4gKiBAcGFyYW0ge0FycmF5PCo+fSBxdWV1ZSAtIENvbGxlY3Rpb24gb2YgaXRlbXMgdG8gdXBsb2FkXG4gKiBAcmV0dXJuIHtib29sZWFufSBpZiBhIFBJWEkuVGV4dFN0eWxlIG9iamVjdCB3YXMgZm91bmQuXG4gKi9cbmZ1bmN0aW9uIGZpbmRUZXh0U3R5bGUoaXRlbSwgcXVldWUpXG57XG4gICAgaWYgKGl0ZW0gaW5zdGFuY2VvZiBUZXh0U3R5bGUpXG4gICAge1xuICAgICAgICBpZiAocXVldWUuaW5kZXhPZihpdGVtKSA9PT0gLTEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHF1ZXVlLnB1c2goaXRlbSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG59XG5cbi8qKlxuICogVGhlIHByZXBhcmUgbWFuYWdlciBwcm92aWRlcyBmdW5jdGlvbmFsaXR5IHRvIHVwbG9hZCBjb250ZW50IHRvIHRoZSBHUFUuXG4gKlxuICogQW4gaW5zdGFuY2Ugb2YgdGhpcyBjbGFzcyBpcyBhdXRvbWF0aWNhbGx5IGNyZWF0ZWQgYnkgZGVmYXVsdCwgYW5kIGNhbiBiZSBmb3VuZCBhdCBgcmVuZGVyZXIucGx1Z2lucy5wcmVwYXJlYFxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5wcmVwYXJlLkJhc2VQcmVwYXJlXG4gKiBAbWVtYmVyb2YgUElYSS5wcmVwYXJlXG4gKi9cbnZhciBQcmVwYXJlID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoQmFzZVByZXBhcmUpIHtcbiAgICBmdW5jdGlvbiBQcmVwYXJlKHJlbmRlcmVyKVxuICAgIHtcbiAgICAgICAgQmFzZVByZXBhcmUuY2FsbCh0aGlzLCByZW5kZXJlcik7XG5cbiAgICAgICAgdGhpcy51cGxvYWRIb29rSGVscGVyID0gdGhpcy5yZW5kZXJlcjtcblxuICAgICAgICAvLyBBZGQgdGV4dHVyZXMgYW5kIGdyYXBoaWNzIHRvIHVwbG9hZFxuICAgICAgICB0aGlzLnJlZ2lzdGVyRmluZEhvb2soZmluZEdyYXBoaWNzKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlclVwbG9hZEhvb2sodXBsb2FkQmFzZVRleHR1cmVzKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlclVwbG9hZEhvb2sodXBsb2FkR3JhcGhpY3MpO1xuICAgIH1cblxuICAgIGlmICggQmFzZVByZXBhcmUgKSBQcmVwYXJlLl9fcHJvdG9fXyA9IEJhc2VQcmVwYXJlO1xuICAgIFByZXBhcmUucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggQmFzZVByZXBhcmUgJiYgQmFzZVByZXBhcmUucHJvdG90eXBlICk7XG4gICAgUHJlcGFyZS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBQcmVwYXJlO1xuXG4gICAgcmV0dXJuIFByZXBhcmU7XG59KEJhc2VQcmVwYXJlKSk7XG4vKipcbiAqIEJ1aWx0LWluIGhvb2sgdG8gdXBsb2FkIFBJWEkuVGV4dHVyZSBvYmplY3RzIHRvIHRoZSBHUFUuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBpbnN0YW5jZSBvZiB0aGUgd2ViZ2wgcmVuZGVyZXJcbiAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gaXRlbSAtIEl0ZW0gdG8gY2hlY2tcbiAqIEByZXR1cm4ge2Jvb2xlYW59IElmIGl0ZW0gd2FzIHVwbG9hZGVkLlxuICovXG5mdW5jdGlvbiB1cGxvYWRCYXNlVGV4dHVyZXMocmVuZGVyZXIsIGl0ZW0pXG57XG4gICAgaWYgKGl0ZW0gaW5zdGFuY2VvZiBCYXNlVGV4dHVyZSlcbiAgICB7XG4gICAgICAgIC8vIGlmIHRoZSB0ZXh0dXJlIGFscmVhZHkgaGFzIGEgR0wgdGV4dHVyZSwgdGhlbiB0aGUgdGV4dHVyZSBoYXMgYmVlbiBwcmVwYXJlZCBvciByZW5kZXJlZFxuICAgICAgICAvLyBiZWZvcmUgbm93LiBJZiB0aGUgdGV4dHVyZSBjaGFuZ2VkLCB0aGVuIHRoZSBjaGFuZ2VyIHNob3VsZCBiZSBjYWxsaW5nIHRleHR1cmUudXBkYXRlKCkgd2hpY2hcbiAgICAgICAgLy8gcmV1cGxvYWRzIHRoZSB0ZXh0dXJlIHdpdGhvdXQgbmVlZCBmb3IgcHJlcGFyaW5nIGl0IGFnYWluXG4gICAgICAgIGlmICghaXRlbS5fZ2xUZXh0dXJlc1tyZW5kZXJlci5DT05URVhUX1VJRF0pXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJlbmRlcmVyLnRleHR1cmUuYmluZChpdGVtKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBCdWlsdC1pbiBob29rIHRvIHVwbG9hZCBQSVhJLkdyYXBoaWNzIHRvIHRoZSBHUFUuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBpbnN0YW5jZSBvZiB0aGUgd2ViZ2wgcmVuZGVyZXJcbiAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBpdGVtIC0gSXRlbSB0byBjaGVja1xuICogQHJldHVybiB7Ym9vbGVhbn0gSWYgaXRlbSB3YXMgdXBsb2FkZWQuXG4gKi9cbmZ1bmN0aW9uIHVwbG9hZEdyYXBoaWNzKHJlbmRlcmVyLCBpdGVtKVxue1xuICAgIGlmICghKGl0ZW0gaW5zdGFuY2VvZiBHcmFwaGljcykpXG4gICAge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgdmFyIGdlb21ldHJ5ID0gaXRlbS5nZW9tZXRyeTtcblxuICAgIC8vIHVwZGF0ZSBkaXJ0eSBncmFwaGljcyB0byBnZXQgYmF0Y2hlc1xuICAgIGl0ZW0uZmluaXNoUG9seSgpO1xuICAgIGdlb21ldHJ5LnVwZGF0ZUJhdGNoZXMoKTtcblxuICAgIHZhciBiYXRjaGVzID0gZ2VvbWV0cnkuYmF0Y2hlcztcblxuICAgIC8vIHVwbG9hZCBhbGwgdGV4dHVyZXMgZm91bmQgaW4gc3R5bGVzXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBiYXRjaGVzLmxlbmd0aDsgaSsrKVxuICAgIHtcbiAgICAgICAgdmFyIHJlZiA9IGJhdGNoZXNbaV0uc3R5bGU7XG4gICAgICAgIHZhciB0ZXh0dXJlID0gcmVmLnRleHR1cmU7XG5cbiAgICAgICAgaWYgKHRleHR1cmUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHVwbG9hZEJhc2VUZXh0dXJlcyhyZW5kZXJlciwgdGV4dHVyZS5iYXNlVGV4dHVyZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBpZiBpdHMgbm90IGJhdGNoYWJsZSAtIHVwZGF0ZSB2YW8gZm9yIHBhcnRpY3VsYXIgc2hhZGVyXG4gICAgaWYgKCFnZW9tZXRyeS5iYXRjaGFibGUpXG4gICAge1xuICAgICAgICByZW5kZXJlci5nZW9tZXRyeS5iaW5kKGdlb21ldHJ5LCBpdGVtLl9yZXNvbHZlRGlyZWN0U2hhZGVyKCkpO1xuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xufVxuXG4vKipcbiAqIEJ1aWx0LWluIGhvb2sgdG8gZmluZCBncmFwaGljcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IGl0ZW0gLSBEaXNwbGF5IG9iamVjdCB0byBjaGVja1xuICogQHBhcmFtIHtBcnJheTwqPn0gcXVldWUgLSBDb2xsZWN0aW9uIG9mIGl0ZW1zIHRvIHVwbG9hZFxuICogQHJldHVybiB7Ym9vbGVhbn0gaWYgYSBQSVhJLkdyYXBoaWNzIG9iamVjdCB3YXMgZm91bmQuXG4gKi9cbmZ1bmN0aW9uIGZpbmRHcmFwaGljcyhpdGVtLCBxdWV1ZSlcbntcbiAgICBpZiAoaXRlbSBpbnN0YW5jZW9mIEdyYXBoaWNzKVxuICAgIHtcbiAgICAgICAgcXVldWUucHVzaChpdGVtKTtcblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG59XG5cbi8qKlxuICogVGltZUxpbWl0ZXIgbGltaXRzIHRoZSBudW1iZXIgb2YgaXRlbXMgaGFuZGxlZCBieSBhIHtAbGluayBQSVhJLkJhc2VQcmVwYXJlfSB0byBhIHNwZWNpZmllZFxuICogbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyBwZXIgZnJhbWUuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSS5wcmVwYXJlXG4gKi9cbnZhciBUaW1lTGltaXRlciA9IGZ1bmN0aW9uIFRpbWVMaW1pdGVyKG1heE1pbGxpc2Vjb25kcylcbntcbiAgICAvKipcbiAgICAgKiBUaGUgbWF4aW11bSBtaWxsaXNlY29uZHMgdGhhdCBjYW4gYmUgc3BlbnQgcHJlcGFyaW5nIGl0ZW1zIGVhY2ggZnJhbWUuXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMubWF4TWlsbGlzZWNvbmRzID0gbWF4TWlsbGlzZWNvbmRzO1xuICAgIC8qKlxuICAgICAqIFRoZSBzdGFydCB0aW1lIG9mIHRoZSBjdXJyZW50IGZyYW1lLlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLmZyYW1lU3RhcnQgPSAwO1xufTtcblxuLyoqXG4gKiBSZXNldHMgYW55IGNvdW50aW5nIHByb3BlcnRpZXMgdG8gc3RhcnQgZnJlc2ggb24gYSBuZXcgZnJhbWUuXG4gKi9cblRpbWVMaW1pdGVyLnByb3RvdHlwZS5iZWdpbkZyYW1lID0gZnVuY3Rpb24gYmVnaW5GcmFtZSAoKVxue1xuICAgIHRoaXMuZnJhbWVTdGFydCA9IERhdGUubm93KCk7XG59O1xuXG4vKipcbiAqIENoZWNrcyB0byBzZWUgaWYgYW5vdGhlciBpdGVtIGNhbiBiZSB1cGxvYWRlZC4gVGhpcyBzaG91bGQgb25seSBiZSBjYWxsZWQgb25jZSBwZXIgaXRlbS5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IElmIHRoZSBpdGVtIGlzIGFsbG93ZWQgdG8gYmUgdXBsb2FkZWQuXG4gKi9cblRpbWVMaW1pdGVyLnByb3RvdHlwZS5hbGxvd2VkVG9VcGxvYWQgPSBmdW5jdGlvbiBhbGxvd2VkVG9VcGxvYWQgKClcbntcbiAgICByZXR1cm4gRGF0ZS5ub3coKSAtIHRoaXMuZnJhbWVTdGFydCA8IHRoaXMubWF4TWlsbGlzZWNvbmRzO1xufTtcblxuLyoqXG4gKiBUaGUgcHJlcGFyZSBuYW1lc3BhY2UgcHJvdmlkZXMgcmVuZGVyZXItc3BlY2lmaWMgcGx1Z2lucyBmb3IgcHJlLXJlbmRlcmluZyBEaXNwbGF5T2JqZWN0cy4gVGhlc2UgcGx1Z2lucyBhcmUgdXNlZnVsIGZvclxuICogYXN5bmNocm9ub3VzbHkgcHJlcGFyaW5nIGFuZCB1cGxvYWRpbmcgdG8gdGhlIEdQVSBhc3NldHMsIHRleHR1cmVzLCBncmFwaGljcyB3YWl0aW5nIHRvIGJlIGRpc3BsYXllZC5cbiAqXG4gKiBEbyBub3QgaW5zdGFudGlhdGUgdGhlc2UgcGx1Z2lucyBkaXJlY3RseS4gSXQgaXMgYXZhaWxhYmxlIGZyb20gdGhlIGByZW5kZXJlci5wbHVnaW5zYCBwcm9wZXJ0eS5cbiAqIFNlZSB7QGxpbmsgUElYSS5DYW52YXNSZW5kZXJlciNwbHVnaW5zfSBvciB7QGxpbmsgUElYSS5SZW5kZXJlciNwbHVnaW5zfS5cbiAqIEBleGFtcGxlXG4gKiAvLyBDcmVhdGUgYSBuZXcgYXBwbGljYXRpb25cbiAqIGNvbnN0IGFwcCA9IG5ldyBQSVhJLkFwcGxpY2F0aW9uKCk7XG4gKiBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGFwcC52aWV3KTtcbiAqXG4gKiAvLyBEb24ndCBzdGFydCByZW5kZXJpbmcgcmlnaHQgYXdheVxuICogYXBwLnN0b3AoKTtcbiAqXG4gKiAvLyBjcmVhdGUgYSBkaXNwbGF5IG9iamVjdFxuICogY29uc3QgcmVjdCA9IG5ldyBQSVhJLkdyYXBoaWNzKClcbiAqICAgICAuYmVnaW5GaWxsKDB4MDBmZjAwKVxuICogICAgIC5kcmF3UmVjdCg0MCwgNDAsIDIwMCwgMjAwKTtcbiAqXG4gKiAvLyBBZGQgdG8gdGhlIHN0YWdlXG4gKiBhcHAuc3RhZ2UuYWRkQ2hpbGQocmVjdCk7XG4gKlxuICogLy8gRG9uJ3Qgc3RhcnQgcmVuZGVyaW5nIHVudGlsIHRoZSBncmFwaGljIGlzIHVwbG9hZGVkIHRvIHRoZSBHUFVcbiAqIGFwcC5yZW5kZXJlci5wbHVnaW5zLnByZXBhcmUudXBsb2FkKGFwcC5zdGFnZSwgKCkgPT4ge1xuICogICAgIGFwcC5zdGFydCgpO1xuICogfSk7XG4gKiBAbmFtZXNwYWNlIFBJWEkucHJlcGFyZVxuICovXG5cbmV4cG9ydCB7IEJhc2VQcmVwYXJlLCBDb3VudExpbWl0ZXIsIFByZXBhcmUsIFRpbWVMaW1pdGVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wcmVwYXJlLmVzLmpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS9hcHAgLSB2NS4yLjBcbiAqIENvbXBpbGVkIFdlZCwgMDYgTm92IDIwMTkgMDI6MzI6NDMgVVRDXG4gKlxuICogQHBpeGkvYXBwIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgQ29udGFpbmVyIH0gZnJvbSAnQHBpeGkvZGlzcGxheSc7XG5pbXBvcnQgeyBhdXRvRGV0ZWN0UmVuZGVyZXIgfSBmcm9tICdAcGl4aS9jb3JlJztcblxuLyoqXG4gKiBDb252ZW5pZW5jZSBjbGFzcyB0byBjcmVhdGUgYSBuZXcgUElYSSBhcHBsaWNhdGlvbi5cbiAqXG4gKiBUaGlzIGNsYXNzIGF1dG9tYXRpY2FsbHkgY3JlYXRlcyB0aGUgcmVuZGVyZXIsIHRpY2tlciBhbmQgcm9vdCBjb250YWluZXIuXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIENyZWF0ZSB0aGUgYXBwbGljYXRpb25cbiAqIGNvbnN0IGFwcCA9IG5ldyBQSVhJLkFwcGxpY2F0aW9uKCk7XG4gKlxuICogLy8gQWRkIHRoZSB2aWV3IHRvIHRoZSBET01cbiAqIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYXBwLnZpZXcpO1xuICpcbiAqIC8vIGV4LCBhZGQgZGlzcGxheSBvYmplY3RzXG4gKiBhcHAuc3RhZ2UuYWRkQ2hpbGQoUElYSS5TcHJpdGUuZnJvbSgnc29tZXRoaW5nLnBuZycpKTtcbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBBcHBsaWNhdGlvbiA9IGZ1bmN0aW9uIEFwcGxpY2F0aW9uKG9wdGlvbnMpXG57XG4gICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgICAvLyBUaGUgZGVmYXVsdCBvcHRpb25zXG4gICAgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe1xuICAgICAgICBmb3JjZUNhbnZhczogZmFsc2UsXG4gICAgfSwgb3B0aW9ucyk7XG5cbiAgICAvKipcbiAgICAgKiBXZWJHTCByZW5kZXJlciBpZiBhdmFpbGFibGUsIG90aGVyd2lzZSBDYW52YXNSZW5kZXJlci5cbiAgICAgKiBAbWVtYmVyIHtQSVhJLlJlbmRlcmVyfFBJWEkuQ2FudmFzUmVuZGVyZXJ9XG4gICAgICovXG4gICAgdGhpcy5yZW5kZXJlciA9IGF1dG9EZXRlY3RSZW5kZXJlcihvcHRpb25zKTtcblxuICAgIC8qKlxuICAgICAqIFRoZSByb290IGRpc3BsYXkgY29udGFpbmVyIHRoYXQncyByZW5kZXJlZC5cbiAgICAgKiBAbWVtYmVyIHtQSVhJLkNvbnRhaW5lcn1cbiAgICAgKi9cbiAgICB0aGlzLnN0YWdlID0gbmV3IENvbnRhaW5lcigpO1xuXG4gICAgLy8gaW5zdGFsbCBwbHVnaW5zIGhlcmVcbiAgICBBcHBsaWNhdGlvbi5fcGx1Z2lucy5mb3JFYWNoKGZ1bmN0aW9uIChwbHVnaW4pIHtcbiAgICAgICAgcGx1Z2luLmluaXQuY2FsbCh0aGlzJDEsIG9wdGlvbnMpO1xuICAgIH0pO1xufTtcblxudmFyIHByb3RvdHlwZUFjY2Vzc29ycyA9IHsgdmlldzogeyBjb25maWd1cmFibGU6IHRydWUgfSxzY3JlZW46IHsgY29uZmlndXJhYmxlOiB0cnVlIH0gfTtcblxuLyoqXG4gKiBSZWdpc3RlciBhIG1pZGRsZXdhcmUgcGx1Z2luIGZvciB0aGUgYXBwbGljYXRpb25cbiAqIEBzdGF0aWNcbiAqIEBwYXJhbSB7UElYSS5BcHBsaWNhdGlvbi5QbHVnaW59IHBsdWdpbiAtIFBsdWdpbiBiZWluZyBpbnN0YWxsZWRcbiAqL1xuQXBwbGljYXRpb24ucmVnaXN0ZXJQbHVnaW4gPSBmdW5jdGlvbiByZWdpc3RlclBsdWdpbiAocGx1Z2luKVxue1xuICAgIEFwcGxpY2F0aW9uLl9wbHVnaW5zLnB1c2gocGx1Z2luKTtcbn07XG5cbi8qKlxuICogUmVuZGVyIHRoZSBjdXJyZW50IHN0YWdlLlxuICovXG5BcHBsaWNhdGlvbi5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyICgpXG57XG4gICAgdGhpcy5yZW5kZXJlci5yZW5kZXIodGhpcy5zdGFnZSk7XG59O1xuXG4vKipcbiAqIFJlZmVyZW5jZSB0byB0aGUgcmVuZGVyZXIncyBjYW52YXMgZWxlbWVudC5cbiAqIEBtZW1iZXIge0hUTUxDYW52YXNFbGVtZW50fVxuICogQHJlYWRvbmx5XG4gKi9cbnByb3RvdHlwZUFjY2Vzc29ycy52aWV3LmdldCA9IGZ1bmN0aW9uICgpXG57XG4gICAgcmV0dXJuIHRoaXMucmVuZGVyZXIudmlldztcbn07XG5cbi8qKlxuICogUmVmZXJlbmNlIHRvIHRoZSByZW5kZXJlcidzIHNjcmVlbiByZWN0YW5nbGUuIEl0cyBzYWZlIHRvIHVzZSBhcyBgZmlsdGVyQXJlYWAgb3IgYGhpdEFyZWFgIGZvciB0aGUgd2hvbGUgc2NyZWVuLlxuICogQG1lbWJlciB7UElYSS5SZWN0YW5nbGV9XG4gKiBAcmVhZG9ubHlcbiAqL1xucHJvdG90eXBlQWNjZXNzb3JzLnNjcmVlbi5nZXQgPSBmdW5jdGlvbiAoKVxue1xuICAgIHJldHVybiB0aGlzLnJlbmRlcmVyLnNjcmVlbjtcbn07XG5cbi8qKlxuICogRGVzdHJveSBhbmQgZG9uJ3QgdXNlIGFmdGVyIHRoaXMuXG4gKiBAcGFyYW0ge0Jvb2xlYW59IFtyZW1vdmVWaWV3PWZhbHNlXSBBdXRvbWF0aWNhbGx5IHJlbW92ZSBjYW52YXMgZnJvbSBET00uXG4gKiBAcGFyYW0ge29iamVjdHxib29sZWFufSBbc3RhZ2VPcHRpb25zXSAtIE9wdGlvbnMgcGFyYW1ldGVyLiBBIGJvb2xlYW4gd2lsbCBhY3QgYXMgaWYgYWxsIG9wdGlvbnNcbiAqICBoYXZlIGJlZW4gc2V0IHRvIHRoYXQgdmFsdWVcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW3N0YWdlT3B0aW9ucy5jaGlsZHJlbj1mYWxzZV0gLSBpZiBzZXQgdG8gdHJ1ZSwgYWxsIHRoZSBjaGlsZHJlbiB3aWxsIGhhdmUgdGhlaXIgZGVzdHJveVxuICogIG1ldGhvZCBjYWxsZWQgYXMgd2VsbC4gJ3N0YWdlT3B0aW9ucycgd2lsbCBiZSBwYXNzZWQgb24gdG8gdGhvc2UgY2FsbHMuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtzdGFnZU9wdGlvbnMudGV4dHVyZT1mYWxzZV0gLSBPbmx5IHVzZWQgZm9yIGNoaWxkIFNwcml0ZXMgaWYgc3RhZ2VPcHRpb25zLmNoaWxkcmVuIGlzIHNldFxuICogIHRvIHRydWUuIFNob3VsZCBpdCBkZXN0cm95IHRoZSB0ZXh0dXJlIG9mIHRoZSBjaGlsZCBzcHJpdGVcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW3N0YWdlT3B0aW9ucy5iYXNlVGV4dHVyZT1mYWxzZV0gLSBPbmx5IHVzZWQgZm9yIGNoaWxkIFNwcml0ZXMgaWYgc3RhZ2VPcHRpb25zLmNoaWxkcmVuIGlzIHNldFxuICogIHRvIHRydWUuIFNob3VsZCBpdCBkZXN0cm95IHRoZSBiYXNlIHRleHR1cmUgb2YgdGhlIGNoaWxkIHNwcml0ZVxuICovXG5BcHBsaWNhdGlvbi5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3kgKHJlbW92ZVZpZXcsIHN0YWdlT3B0aW9ucylcbntcbiAgICAgICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgICAvLyBEZXN0cm95IHBsdWdpbnMgaW4gdGhlIG9wcG9zaXRlIG9yZGVyXG4gICAgLy8gd2hpY2ggdGhleSB3ZXJlIGNvbnN0cnVjdGVkXG4gICAgdmFyIHBsdWdpbnMgPSBBcHBsaWNhdGlvbi5fcGx1Z2lucy5zbGljZSgwKTtcblxuICAgIHBsdWdpbnMucmV2ZXJzZSgpO1xuICAgIHBsdWdpbnMuZm9yRWFjaChmdW5jdGlvbiAocGx1Z2luKSB7XG4gICAgICAgIHBsdWdpbi5kZXN0cm95LmNhbGwodGhpcyQxKTtcbiAgICB9KTtcblxuICAgIHRoaXMuc3RhZ2UuZGVzdHJveShzdGFnZU9wdGlvbnMpO1xuICAgIHRoaXMuc3RhZ2UgPSBudWxsO1xuXG4gICAgdGhpcy5yZW5kZXJlci5kZXN0cm95KHJlbW92ZVZpZXcpO1xuICAgIHRoaXMucmVuZGVyZXIgPSBudWxsO1xuXG4gICAgdGhpcy5fb3B0aW9ucyA9IG51bGw7XG59O1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydGllcyggQXBwbGljYXRpb24ucHJvdG90eXBlLCBwcm90b3R5cGVBY2Nlc3NvcnMgKTtcblxuLyoqXG4gKiBAbWVtYmVyb2YgUElYSS5BcHBsaWNhdGlvblxuICogQHR5cGVkZWYge29iamVjdH0gUGx1Z2luXG4gKiBAcHJvcGVydHkge2Z1bmN0aW9ufSBpbml0IC0gQ2FsbGVkIHdoZW4gQXBwbGljYXRpb24gaXMgY29uc3RydWN0ZWQsIHNjb3BlZCB0byBBcHBsaWNhdGlvbiBpbnN0YW5jZS5cbiAqICBQYXNzZXMgaW4gYG9wdGlvbnNgIGFzIHRoZSBvbmx5IGFyZ3VtZW50LCB3aGljaCBhcmUgQXBwbGljYXRpb24gY29uc3RydWN0b3Igb3B0aW9ucy5cbiAqIEBwcm9wZXJ0eSB7ZnVuY3Rpb259IGRlc3Ryb3kgLSBDYWxsZWQgd2hlbiBkZXN0cm95aW5nIEFwcGxpY2F0aW9uLCBzY29wZWQgdG8gQXBwbGljYXRpb24gaW5zdGFuY2VcbiAqL1xuXG4vKipcbiAqIENvbGxlY3Rpb24gb2YgaW5zdGFsbGVkIHBsdWdpbnMuXG4gKiBAc3RhdGljXG4gKiBAcHJpdmF0ZVxuICogQHR5cGUge1BJWEkuQXBwbGljYXRpb24uUGx1Z2luW119XG4gKi9cbkFwcGxpY2F0aW9uLl9wbHVnaW5zID0gW107XG5cbi8qKlxuICogTWlkZGxld2FyZSBmb3IgZm9yIEFwcGxpY2F0aW9uJ3MgcmVzaXplIGZ1bmN0aW9uYWxpdHlcbiAqIEBwcml2YXRlXG4gKiBAY2xhc3NcbiAqL1xudmFyIFJlc2l6ZVBsdWdpbiA9IGZ1bmN0aW9uIFJlc2l6ZVBsdWdpbiAoKSB7fTtcblxuUmVzaXplUGx1Z2luLmluaXQgPSBmdW5jdGlvbiBpbml0IChvcHRpb25zKVxue1xuICAgICAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICAgIC8qKlxuICAgICAqIFRoZSBlbGVtZW50IG9yIHdpbmRvdyB0byByZXNpemUgdGhlIGFwcGxpY2F0aW9uIHRvLlxuICAgICAqIEB0eXBlIHtXaW5kb3d8SFRNTEVsZW1lbnR9XG4gICAgICogQG5hbWUgcmVzaXplVG9cbiAgICAgKiBAbWVtYmVyb2YgUElYSS5BcHBsaWNhdGlvbiNcbiAgICAgKi9cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJ3Jlc2l6ZVRvJyxcbiAgICAgICAge1xuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQoZG9tKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLnJlc2l6ZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5fcmVzaXplVG8gPSBkb207XG4gICAgICAgICAgICAgICAgaWYgKGRvbSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLnJlc2l6ZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVzaXplKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fcmVzaXplVG87XG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIElmIGByZXNpemVUb2AgaXMgc2V0LCBjYWxsaW5nIHRoaXMgZnVuY3Rpb25cbiAgICAgKiB3aWxsIHJlc2l6ZSB0byB0aGUgd2lkdGggYW5kIGhlaWdodCBvZiB0aGF0IGVsZW1lbnQuXG4gICAgICogQG1ldGhvZCBQSVhJLkFwcGxpY2F0aW9uI3Jlc2l6ZVxuICAgICAqL1xuICAgIHRoaXMucmVzaXplID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcyQxLl9yZXNpemVUbylcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gUmVzaXplIHRvIHRoZSB3aW5kb3dcbiAgICAgICAgICAgIGlmICh0aGlzJDEuX3Jlc2l6ZVRvID09PSB3aW5kb3cpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcyQxLnJlbmRlcmVyLnJlc2l6ZShcbiAgICAgICAgICAgICAgICAgICAgd2luZG93LmlubmVyV2lkdGgsXG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5pbm5lckhlaWdodFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBSZXNpemUgdG8gb3RoZXIgSFRNTCBlbnRpdGllc1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMkMS5yZW5kZXJlci5yZXNpemUoXG4gICAgICAgICAgICAgICAgICAgIHRoaXMkMS5fcmVzaXplVG8uY2xpZW50V2lkdGgsXG4gICAgICAgICAgICAgICAgICAgIHRoaXMkMS5fcmVzaXplVG8uY2xpZW50SGVpZ2h0XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvLyBPbiByZXNpemVcbiAgICB0aGlzLl9yZXNpemVUbyA9IG51bGw7XG4gICAgdGhpcy5yZXNpemVUbyA9IG9wdGlvbnMucmVzaXplVG8gfHwgbnVsbDtcbn07XG5cbi8qKlxuICogQ2xlYW4gdXAgdGhlIHRpY2tlciwgc2NvcGVkIHRvIGFwcGxpY2F0aW9uXG4gKiBAc3RhdGljXG4gKiBAcHJpdmF0ZVxuICovXG5SZXNpemVQbHVnaW4uZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3kgKClcbntcbiAgICB0aGlzLnJlc2l6ZVRvID0gbnVsbDtcbiAgICB0aGlzLnJlc2l6ZSA9IG51bGw7XG59O1xuXG5BcHBsaWNhdGlvbi5yZWdpc3RlclBsdWdpbihSZXNpemVQbHVnaW4pO1xuXG5leHBvcnQgeyBBcHBsaWNhdGlvbiB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLmVzLmpzLm1hcFxuIiwiLyohXG4gKiByZXNvdXJjZS1sb2FkZXIgLSB2My4wLjFcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9waXhpanMvcGl4aS1zb3VuZFxuICogQ29tcGlsZWQgVHVlLCAwMiBKdWwgMjAxOSAxNDowNjoxOCBVVENcbiAqXG4gKiByZXNvdXJjZS1sb2FkZXIgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5pbXBvcnQgcGFyc2VVcmkgZnJvbSAncGFyc2UtdXJpJztcbmltcG9ydCBTaWduYWwgZnJvbSAnbWluaS1zaWduYWxzJztcblxuLyoqXG4gKiBTbWFsbGVyIHZlcnNpb24gb2YgdGhlIGFzeW5jIGxpYnJhcnkgY29uc3RydWN0cy5cbiAqXG4gKiBAbmFtZXNwYWNlIGFzeW5jXG4gKi9cblxuLyoqXG4gKiBOb29wIGZ1bmN0aW9uXG4gKlxuICogQGlnbm9yZVxuICogQGZ1bmN0aW9uXG4gKiBAbWVtYmVyb2YgYXN5bmNcbiAqL1xuZnVuY3Rpb24gX25vb3AoKSB7fVxuLyogZW1wdHkgKi9cblxuLyoqXG4gKiBJdGVyYXRlcyBhbiBhcnJheSBpbiBzZXJpZXMuXG4gKlxuICogQG1lbWJlcm9mIGFzeW5jXG4gKiBAZnVuY3Rpb24gZWFjaFNlcmllc1xuICogQHBhcmFtIHtBcnJheS48Kj59IGFycmF5IC0gQXJyYXkgdG8gaXRlcmF0ZS5cbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGl0ZXJhdG9yIC0gRnVuY3Rpb24gdG8gY2FsbCBmb3IgZWFjaCBlbGVtZW50LlxuICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2sgLSBGdW5jdGlvbiB0byBjYWxsIHdoZW4gZG9uZSwgb3Igb24gZXJyb3IuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtkZWZlck5leHQ9ZmFsc2VdIC0gQnJlYWsgc3luY2hyb25vdXMgZWFjaCBsb29wIGJ5IGNhbGxpbmcgbmV4dCB3aXRoIGEgc2V0VGltZW91dCBvZiAxLlxuICovXG5cblxuZnVuY3Rpb24gZWFjaFNlcmllcyhhcnJheSwgaXRlcmF0b3IsIGNhbGxiYWNrLCBkZWZlck5leHQpIHtcbiAgdmFyIGkgPSAwO1xuICB2YXIgbGVuID0gYXJyYXkubGVuZ3RoO1xuXG4gIChmdW5jdGlvbiBuZXh0KGVycikge1xuICAgIGlmIChlcnIgfHwgaSA9PT0gbGVuKSB7XG4gICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgY2FsbGJhY2soZXJyKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChkZWZlck5leHQpIHtcbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICBpdGVyYXRvcihhcnJheVtpKytdLCBuZXh0KTtcbiAgICAgIH0sIDEpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpdGVyYXRvcihhcnJheVtpKytdLCBuZXh0KTtcbiAgICB9XG4gIH0pKCk7XG59XG4vKipcbiAqIEVuc3VyZXMgYSBmdW5jdGlvbiBpcyBvbmx5IGNhbGxlZCBvbmNlLlxuICpcbiAqIEBpZ25vcmVcbiAqIEBtZW1iZXJvZiBhc3luY1xuICogQHBhcmFtIHtmdW5jdGlvbn0gZm4gLSBUaGUgZnVuY3Rpb24gdG8gd3JhcC5cbiAqIEByZXR1cm4ge2Z1bmN0aW9ufSBUaGUgd3JhcHBpbmcgZnVuY3Rpb24uXG4gKi9cblxuZnVuY3Rpb24gb25seU9uY2UoZm4pIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIG9uY2VXcmFwcGVyKCkge1xuICAgIGlmIChmbiA9PT0gbnVsbCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYWxsYmFjayB3YXMgYWxyZWFkeSBjYWxsZWQuJyk7XG4gICAgfVxuXG4gICAgdmFyIGNhbGxGbiA9IGZuO1xuICAgIGZuID0gbnVsbDtcbiAgICBjYWxsRm4uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfTtcbn1cbi8qKlxuICogQXN5bmMgcXVldWUgaW1wbGVtZW50YXRpb24sXG4gKlxuICogQG1lbWJlcm9mIGFzeW5jXG4gKiBAZnVuY3Rpb24gcXVldWVcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IHdvcmtlciAtIFRoZSB3b3JrZXIgZnVuY3Rpb24gdG8gY2FsbCBmb3IgZWFjaCB0YXNrLlxuICogQHBhcmFtIHtudW1iZXJ9IGNvbmN1cnJlbmN5IC0gSG93IG1hbnkgd29ya2VycyB0byBydW4gaW4gcGFycmFsbGVsLlxuICogQHJldHVybiB7Kn0gVGhlIGFzeW5jIHF1ZXVlIG9iamVjdC5cbiAqL1xuXG5cbmZ1bmN0aW9uIHF1ZXVlKHdvcmtlciwgY29uY3VycmVuY3kpIHtcbiAgaWYgKGNvbmN1cnJlbmN5ID09IG51bGwpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWVxLW51bGwsZXFlcWVxXG4gICAgY29uY3VycmVuY3kgPSAxO1xuICB9IGVsc2UgaWYgKGNvbmN1cnJlbmN5ID09PSAwKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdDb25jdXJyZW5jeSBtdXN0IG5vdCBiZSB6ZXJvJyk7XG4gIH1cblxuICB2YXIgd29ya2VycyA9IDA7XG4gIHZhciBxID0ge1xuICAgIF90YXNrczogW10sXG4gICAgY29uY3VycmVuY3k6IGNvbmN1cnJlbmN5LFxuICAgIHNhdHVyYXRlZDogX25vb3AsXG4gICAgdW5zYXR1cmF0ZWQ6IF9ub29wLFxuICAgIGJ1ZmZlcjogY29uY3VycmVuY3kgLyA0LFxuICAgIGVtcHR5OiBfbm9vcCxcbiAgICBkcmFpbjogX25vb3AsXG4gICAgZXJyb3I6IF9ub29wLFxuICAgIHN0YXJ0ZWQ6IGZhbHNlLFxuICAgIHBhdXNlZDogZmFsc2UsXG4gICAgcHVzaDogZnVuY3Rpb24gcHVzaChkYXRhLCBjYWxsYmFjaykge1xuICAgICAgX2luc2VydChkYXRhLCBmYWxzZSwgY2FsbGJhY2spO1xuICAgIH0sXG4gICAga2lsbDogZnVuY3Rpb24ga2lsbCgpIHtcbiAgICAgIHdvcmtlcnMgPSAwO1xuICAgICAgcS5kcmFpbiA9IF9ub29wO1xuICAgICAgcS5zdGFydGVkID0gZmFsc2U7XG4gICAgICBxLl90YXNrcyA9IFtdO1xuICAgIH0sXG4gICAgdW5zaGlmdDogZnVuY3Rpb24gdW5zaGlmdChkYXRhLCBjYWxsYmFjaykge1xuICAgICAgX2luc2VydChkYXRhLCB0cnVlLCBjYWxsYmFjayk7XG4gICAgfSxcbiAgICBwcm9jZXNzOiBmdW5jdGlvbiBwcm9jZXNzKCkge1xuICAgICAgd2hpbGUgKCFxLnBhdXNlZCAmJiB3b3JrZXJzIDwgcS5jb25jdXJyZW5jeSAmJiBxLl90YXNrcy5sZW5ndGgpIHtcbiAgICAgICAgdmFyIHRhc2sgPSBxLl90YXNrcy5zaGlmdCgpO1xuXG4gICAgICAgIGlmIChxLl90YXNrcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICBxLmVtcHR5KCk7XG4gICAgICAgIH1cblxuICAgICAgICB3b3JrZXJzICs9IDE7XG5cbiAgICAgICAgaWYgKHdvcmtlcnMgPT09IHEuY29uY3VycmVuY3kpIHtcbiAgICAgICAgICBxLnNhdHVyYXRlZCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgd29ya2VyKHRhc2suZGF0YSwgb25seU9uY2UoX25leHQodGFzaykpKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGxlbmd0aDogZnVuY3Rpb24gbGVuZ3RoKCkge1xuICAgICAgcmV0dXJuIHEuX3Rhc2tzLmxlbmd0aDtcbiAgICB9LFxuICAgIHJ1bm5pbmc6IGZ1bmN0aW9uIHJ1bm5pbmcoKSB7XG4gICAgICByZXR1cm4gd29ya2VycztcbiAgICB9LFxuICAgIGlkbGU6IGZ1bmN0aW9uIGlkbGUoKSB7XG4gICAgICByZXR1cm4gcS5fdGFza3MubGVuZ3RoICsgd29ya2VycyA9PT0gMDtcbiAgICB9LFxuICAgIHBhdXNlOiBmdW5jdGlvbiBwYXVzZSgpIHtcbiAgICAgIGlmIChxLnBhdXNlZCA9PT0gdHJ1ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHEucGF1c2VkID0gdHJ1ZTtcbiAgICB9LFxuICAgIHJlc3VtZTogZnVuY3Rpb24gcmVzdW1lKCkge1xuICAgICAgaWYgKHEucGF1c2VkID09PSBmYWxzZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHEucGF1c2VkID0gZmFsc2U7IC8vIE5lZWQgdG8gY2FsbCBxLnByb2Nlc3Mgb25jZSBwZXIgY29uY3VycmVudFxuICAgICAgLy8gd29ya2VyIHRvIHByZXNlcnZlIGZ1bGwgY29uY3VycmVuY3kgYWZ0ZXIgcGF1c2VcblxuICAgICAgZm9yICh2YXIgdyA9IDE7IHcgPD0gcS5jb25jdXJyZW5jeTsgdysrKSB7XG4gICAgICAgIHEucHJvY2VzcygpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBmdW5jdGlvbiBfaW5zZXJ0KGRhdGEsIGluc2VydEF0RnJvbnQsIGNhbGxiYWNrKSB7XG4gICAgaWYgKGNhbGxiYWNrICE9IG51bGwgJiYgdHlwZW9mIGNhbGxiYWNrICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWVxLW51bGwsZXFlcWVxXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ3Rhc2sgY2FsbGJhY2sgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XG4gICAgfVxuXG4gICAgcS5zdGFydGVkID0gdHJ1ZTtcblxuICAgIGlmIChkYXRhID09IG51bGwgJiYgcS5pZGxlKCkpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tZXEtbnVsbCxlcWVxZXFcbiAgICAgIC8vIGNhbGwgZHJhaW4gaW1tZWRpYXRlbHkgaWYgdGhlcmUgYXJlIG5vIHRhc2tzXG4gICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHEuZHJhaW4oKTtcbiAgICAgIH0sIDEpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBpdGVtID0ge1xuICAgICAgZGF0YTogZGF0YSxcbiAgICAgIGNhbGxiYWNrOiB0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicgPyBjYWxsYmFjayA6IF9ub29wXG4gICAgfTtcblxuICAgIGlmIChpbnNlcnRBdEZyb250KSB7XG4gICAgICBxLl90YXNrcy51bnNoaWZ0KGl0ZW0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBxLl90YXNrcy5wdXNoKGl0ZW0pO1xuICAgIH1cblxuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHEucHJvY2VzcygpO1xuICAgIH0sIDEpO1xuICB9XG5cbiAgZnVuY3Rpb24gX25leHQodGFzaykge1xuICAgIHJldHVybiBmdW5jdGlvbiBuZXh0KCkge1xuICAgICAgd29ya2VycyAtPSAxO1xuICAgICAgdGFzay5jYWxsYmFjay5hcHBseSh0YXNrLCBhcmd1bWVudHMpO1xuXG4gICAgICBpZiAoYXJndW1lbnRzWzBdICE9IG51bGwpIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1lcS1udWxsLGVxZXFlcVxuICAgICAgICBxLmVycm9yKGFyZ3VtZW50c1swXSwgdGFzay5kYXRhKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHdvcmtlcnMgPD0gcS5jb25jdXJyZW5jeSAtIHEuYnVmZmVyKSB7XG4gICAgICAgIHEudW5zYXR1cmF0ZWQoKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHEuaWRsZSgpKSB7XG4gICAgICAgIHEuZHJhaW4oKTtcbiAgICAgIH1cblxuICAgICAgcS5wcm9jZXNzKCk7XG4gICAgfTtcbiAgfVxuXG4gIHJldHVybiBxO1xufVxuXG52YXIgYXN5bmMgPSAoe1xuICAgIGVhY2hTZXJpZXM6IGVhY2hTZXJpZXMsXG4gICAgcXVldWU6IHF1ZXVlXG59KTtcblxuLy8gYSBzaW1wbGUgaW4tbWVtb3J5IGNhY2hlIGZvciByZXNvdXJjZXNcbnZhciBjYWNoZSA9IHt9O1xuLyoqXG4gKiBBIHNpbXBsZSBpbi1tZW1vcnkgY2FjaGUgZm9yIHJlc291cmNlLlxuICpcbiAqIEBtZW1iZXJvZiBtaWRkbGV3YXJlXG4gKiBAZnVuY3Rpb24gY2FjaGluZ1xuICogQGV4YW1wbGVcbiAqIGltcG9ydCB7IExvYWRlciwgbWlkZGxld2FyZSB9IGZyb20gJ3Jlc291cmNlLWxvYWRlcic7XG4gKiBjb25zdCBsb2FkZXIgPSBuZXcgTG9hZGVyKCk7XG4gKiBsb2FkZXIudXNlKG1pZGRsZXdhcmUuY2FjaGluZyk7XG4gKiBAcGFyYW0ge1Jlc291cmNlfSByZXNvdXJjZSAtIEN1cnJlbnQgUmVzb3VyY2VcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IG5leHQgLSBDYWxsYmFjayB3aGVuIGNvbXBsZXRlXG4gKi9cblxuZnVuY3Rpb24gY2FjaGluZyhyZXNvdXJjZSwgbmV4dCkge1xuICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gIC8vIGlmIGNhY2hlZCwgdGhlbiBzZXQgZGF0YSBhbmQgY29tcGxldGUgdGhlIHJlc291cmNlXG4gIGlmIChjYWNoZVtyZXNvdXJjZS51cmxdKSB7XG4gICAgcmVzb3VyY2UuZGF0YSA9IGNhY2hlW3Jlc291cmNlLnVybF07XG4gICAgcmVzb3VyY2UuY29tcGxldGUoKTsgLy8gbWFya3MgcmVzb3VyY2UgbG9hZCBjb21wbGV0ZSBhbmQgc3RvcHMgcHJvY2Vzc2luZyBiZWZvcmUgbWlkZGxld2FyZXNcbiAgfSAvLyBpZiBub3QgY2FjaGVkLCB3YWl0IGZvciBjb21wbGV0ZSBhbmQgc3RvcmUgaXQgaW4gdGhlIGNhY2hlLlxuICBlbHNlIHtcbiAgICAgIHJlc291cmNlLm9uQ29tcGxldGUub25jZShmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBjYWNoZVtfdGhpcy51cmxdID0gX3RoaXMuZGF0YTtcbiAgICAgIH0pO1xuICAgIH1cblxuICBuZXh0KCk7XG59XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07XG4gICAgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlO1xuICAgIGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTtcbiAgICBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7XG4gIGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpO1xuICBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7XG4gIHJldHVybiBDb25zdHJ1Y3Rvcjtcbn1cblxudmFyIHVzZVhkciA9ICEhKHdpbmRvdy5YRG9tYWluUmVxdWVzdCAmJiAhKCd3aXRoQ3JlZGVudGlhbHMnIGluIG5ldyBYTUxIdHRwUmVxdWVzdCgpKSk7XG52YXIgdGVtcEFuY2hvciA9IG51bGw7IC8vIHNvbWUgc3RhdHVzIGNvbnN0YW50c1xuXG52YXIgU1RBVFVTX05PTkUgPSAwO1xudmFyIFNUQVRVU19PSyA9IDIwMDtcbnZhciBTVEFUVVNfRU1QVFkgPSAyMDQ7XG52YXIgU1RBVFVTX0lFX0JVR19FTVBUWSA9IDEyMjM7XG52YXIgU1RBVFVTX1RZUEVfT0sgPSAyOyAvLyBub29wXG5cbmZ1bmN0aW9uIF9ub29wJDEoKSB7fVxuLyogZW1wdHkgKi9cblxuLyoqXG4gKiBNYW5hZ2VzIHRoZSBzdGF0ZSBhbmQgbG9hZGluZyBvZiBhIHJlc291cmNlIGFuZCBhbGwgY2hpbGQgcmVzb3VyY2VzLlxuICpcbiAqIEBjbGFzc1xuICovXG5cblxudmFyIFJlc291cmNlID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uICgpIHtcbiAgLyoqXG4gICAqIFNldHMgdGhlIGxvYWQgdHlwZSB0byBiZSB1c2VkIGZvciBhIHNwZWNpZmljIGV4dGVuc2lvbi5cbiAgICpcbiAgICogQHN0YXRpY1xuICAgKiBAcGFyYW0ge3N0cmluZ30gZXh0bmFtZSAtIFRoZSBleHRlbnNpb24gdG8gc2V0IHRoZSB0eXBlIGZvciwgZS5nLiBcInBuZ1wiIG9yIFwiZm50XCJcbiAgICogQHBhcmFtIHtSZXNvdXJjZS5MT0FEX1RZUEV9IGxvYWRUeXBlIC0gVGhlIGxvYWQgdHlwZSB0byBzZXQgaXQgdG8uXG4gICAqL1xuICBSZXNvdXJjZS5zZXRFeHRlbnNpb25Mb2FkVHlwZSA9IGZ1bmN0aW9uIHNldEV4dGVuc2lvbkxvYWRUeXBlKGV4dG5hbWUsIGxvYWRUeXBlKSB7XG4gICAgc2V0RXh0TWFwKFJlc291cmNlLl9sb2FkVHlwZU1hcCwgZXh0bmFtZSwgbG9hZFR5cGUpO1xuICB9XG4gIC8qKlxuICAgKiBTZXRzIHRoZSBsb2FkIHR5cGUgdG8gYmUgdXNlZCBmb3IgYSBzcGVjaWZpYyBleHRlbnNpb24uXG4gICAqXG4gICAqIEBzdGF0aWNcbiAgICogQHBhcmFtIHtzdHJpbmd9IGV4dG5hbWUgLSBUaGUgZXh0ZW5zaW9uIHRvIHNldCB0aGUgdHlwZSBmb3IsIGUuZy4gXCJwbmdcIiBvciBcImZudFwiXG4gICAqIEBwYXJhbSB7UmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEV9IHhoclR5cGUgLSBUaGUgeGhyIHR5cGUgdG8gc2V0IGl0IHRvLlxuICAgKi9cbiAgO1xuXG4gIFJlc291cmNlLnNldEV4dGVuc2lvblhoclR5cGUgPSBmdW5jdGlvbiBzZXRFeHRlbnNpb25YaHJUeXBlKGV4dG5hbWUsIHhoclR5cGUpIHtcbiAgICBzZXRFeHRNYXAoUmVzb3VyY2UuX3hoclR5cGVNYXAsIGV4dG5hbWUsIHhoclR5cGUpO1xuICB9XG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSAtIFRoZSBuYW1lIG9mIHRoZSByZXNvdXJjZSB0byBsb2FkLlxuICAgKiBAcGFyYW0ge3N0cmluZ3xzdHJpbmdbXX0gdXJsIC0gVGhlIHVybCBmb3IgdGhpcyByZXNvdXJjZSwgZm9yIGF1ZGlvL3ZpZGVvIGxvYWRzIHlvdSBjYW4gcGFzc1xuICAgKiAgICAgIGFuIGFycmF5IG9mIHNvdXJjZXMuXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gLSBUaGUgb3B0aW9ucyBmb3IgdGhlIGxvYWQuXG4gICAqIEBwYXJhbSB7c3RyaW5nfGJvb2xlYW59IFtvcHRpb25zLmNyb3NzT3JpZ2luXSAtIElzIHRoaXMgcmVxdWVzdCBjcm9zcy1vcmlnaW4/IERlZmF1bHQgaXMgdG9cbiAgICogICAgICBkZXRlcm1pbmUgYXV0b21hdGljYWxseS5cbiAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnRpbWVvdXQ9MF0gLSBBIHRpbWVvdXQgaW4gbWlsbGlzZWNvbmRzIGZvciB0aGUgbG9hZC4gSWYgdGhlIGxvYWQgdGFrZXNcbiAgICogICAgICBsb25nZXIgdGhhbiB0aGlzIHRpbWUgaXQgaXMgY2FuY2VsbGVkIGFuZCB0aGUgbG9hZCBpcyBjb25zaWRlcmVkIGEgZmFpbHVyZS4gSWYgdGhpcyB2YWx1ZSBpc1xuICAgKiAgICAgIHNldCB0byBgMGAgdGhlbiB0aGVyZSBpcyBubyBleHBsaWNpdCB0aW1lb3V0LlxuICAgKiBAcGFyYW0ge1Jlc291cmNlLkxPQURfVFlQRX0gW29wdGlvbnMubG9hZFR5cGU9UmVzb3VyY2UuTE9BRF9UWVBFLlhIUl0gLSBIb3cgc2hvdWxkIHRoaXMgcmVzb3VyY2VcbiAgICogICAgICBiZSBsb2FkZWQ/XG4gICAqIEBwYXJhbSB7UmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEV9IFtvcHRpb25zLnhoclR5cGU9UmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuREVGQVVMVF0gLSBIb3dcbiAgICogICAgICBzaG91bGQgdGhlIGRhdGEgYmVpbmcgbG9hZGVkIGJlIGludGVycHJldGVkIHdoZW4gdXNpbmcgWEhSP1xuICAgKiBAcGFyYW0ge1Jlc291cmNlLklNZXRhZGF0YX0gW29wdGlvbnMubWV0YWRhdGFdIC0gRXh0cmEgY29uZmlndXJhdGlvbiBmb3IgbWlkZGxld2FyZSBhbmQgdGhlIFJlc291cmNlIG9iamVjdC5cbiAgICovXG4gIDtcblxuICBmdW5jdGlvbiBSZXNvdXJjZShuYW1lLCB1cmwsIG9wdGlvbnMpIHtcbiAgICBpZiAodHlwZW9mIG5hbWUgIT09ICdzdHJpbmcnIHx8IHR5cGVvZiB1cmwgIT09ICdzdHJpbmcnKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0JvdGggbmFtZSBhbmQgdXJsIGFyZSByZXF1aXJlZCBmb3IgY29uc3RydWN0aW5nIGEgcmVzb3VyY2UuJyk7XG4gICAgfVxuXG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgLyoqXG4gICAgICogVGhlIHN0YXRlIGZsYWdzIG9mIHRoaXMgcmVzb3VyY2UuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cblxuICAgIHRoaXMuX2ZsYWdzID0gMDsgLy8gc2V0IGRhdGEgdXJsIGZsYWcsIG5lZWRzIHRvIGJlIHNldCBlYXJseSBmb3Igc29tZSBfZGV0ZXJtaW5lWCBjaGVja3MgdG8gd29yay5cblxuICAgIHRoaXMuX3NldEZsYWcoUmVzb3VyY2UuU1RBVFVTX0ZMQUdTLkRBVEFfVVJMLCB1cmwuaW5kZXhPZignZGF0YTonKSA9PT0gMCk7XG4gICAgLyoqXG4gICAgICogVGhlIG5hbWUgb2YgdGhpcyByZXNvdXJjZS5cbiAgICAgKlxuICAgICAqIEByZWFkb25seVxuICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgKi9cblxuXG4gICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICAvKipcbiAgICAgKiBUaGUgdXJsIHVzZWQgdG8gbG9hZCB0aGlzIHJlc291cmNlLlxuICAgICAqXG4gICAgICogQHJlYWRvbmx5XG4gICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAqL1xuXG4gICAgdGhpcy51cmwgPSB1cmw7XG4gICAgLyoqXG4gICAgICogVGhlIGV4dGVuc2lvbiB1c2VkIHRvIGxvYWQgdGhpcyByZXNvdXJjZS5cbiAgICAgKlxuICAgICAqIEByZWFkb25seVxuICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgKi9cblxuICAgIHRoaXMuZXh0ZW5zaW9uID0gdGhpcy5fZ2V0RXh0ZW5zaW9uKCk7XG4gICAgLyoqXG4gICAgICogVGhlIGRhdGEgdGhhdCB3YXMgbG9hZGVkIGJ5IHRoZSByZXNvdXJjZS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge2FueX1cbiAgICAgKi9cblxuICAgIHRoaXMuZGF0YSA9IG51bGw7XG4gICAgLyoqXG4gICAgICogSXMgdGhpcyByZXF1ZXN0IGNyb3NzLW9yaWdpbj8gSWYgdW5zZXQsIGRldGVybWluZWQgYXV0b21hdGljYWxseS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgKi9cblxuICAgIHRoaXMuY3Jvc3NPcmlnaW4gPSBvcHRpb25zLmNyb3NzT3JpZ2luID09PSB0cnVlID8gJ2Fub255bW91cycgOiBvcHRpb25zLmNyb3NzT3JpZ2luO1xuICAgIC8qKlxuICAgICAqIEEgdGltZW91dCBpbiBtaWxsaXNlY29uZHMgZm9yIHRoZSBsb2FkLiBJZiB0aGUgbG9hZCB0YWtlcyBsb25nZXIgdGhhbiB0aGlzIHRpbWVcbiAgICAgKiBpdCBpcyBjYW5jZWxsZWQgYW5kIHRoZSBsb2FkIGlzIGNvbnNpZGVyZWQgYSBmYWlsdXJlLiBJZiB0aGlzIHZhbHVlIGlzIHNldCB0byBgMGBcbiAgICAgKiB0aGVuIHRoZXJlIGlzIG5vIGV4cGxpY2l0IHRpbWVvdXQuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG5cbiAgICB0aGlzLnRpbWVvdXQgPSBvcHRpb25zLnRpbWVvdXQgfHwgMDtcbiAgICAvKipcbiAgICAgKiBUaGUgbWV0aG9kIG9mIGxvYWRpbmcgdG8gdXNlIGZvciB0aGlzIHJlc291cmNlLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7UmVzb3VyY2UuTE9BRF9UWVBFfVxuICAgICAqL1xuXG4gICAgdGhpcy5sb2FkVHlwZSA9IG9wdGlvbnMubG9hZFR5cGUgfHwgdGhpcy5fZGV0ZXJtaW5lTG9hZFR5cGUoKTtcbiAgICAvKipcbiAgICAgKiBUaGUgdHlwZSB1c2VkIHRvIGxvYWQgdGhlIHJlc291cmNlIHZpYSBYSFIuIElmIHVuc2V0LCBkZXRlcm1pbmVkIGF1dG9tYXRpY2FsbHkuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICovXG5cbiAgICB0aGlzLnhoclR5cGUgPSBvcHRpb25zLnhoclR5cGU7XG4gICAgLyoqXG4gICAgICogRXh0cmEgaW5mbyBmb3IgbWlkZGxld2FyZSwgYW5kIGNvbnRyb2xsaW5nIHNwZWNpZmljcyBhYm91dCBob3cgdGhlIHJlc291cmNlIGxvYWRzLlxuICAgICAqXG4gICAgICogTm90ZSB0aGF0IGlmIHlvdSBwYXNzIGluIGEgYGxvYWRFbGVtZW50YCwgdGhlIFJlc291cmNlIGNsYXNzIHRha2VzIG93bmVyc2hpcCBvZiBpdC5cbiAgICAgKiBNZWFuaW5nIGl0IHdpbGwgbW9kaWZ5IGl0IGFzIGl0IHNlZXMgZml0LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7UmVzb3VyY2UuSU1ldGFkYXRhfVxuICAgICAqL1xuXG4gICAgdGhpcy5tZXRhZGF0YSA9IG9wdGlvbnMubWV0YWRhdGEgfHwge307XG4gICAgLyoqXG4gICAgICogVGhlIGVycm9yIHRoYXQgb2NjdXJyZWQgd2hpbGUgbG9hZGluZyAoaWYgYW55KS5cbiAgICAgKlxuICAgICAqIEByZWFkb25seVxuICAgICAqIEBtZW1iZXIge0Vycm9yfVxuICAgICAqL1xuXG4gICAgdGhpcy5lcnJvciA9IG51bGw7XG4gICAgLyoqXG4gICAgICogVGhlIFhIUiBvYmplY3QgdGhhdCB3YXMgdXNlZCB0byBsb2FkIHRoaXMgcmVzb3VyY2UuIFRoaXMgaXMgb25seSBzZXRcbiAgICAgKiB3aGVuIGBsb2FkVHlwZWAgaXMgYFJlc291cmNlLkxPQURfVFlQRS5YSFJgLlxuICAgICAqXG4gICAgICogQHJlYWRvbmx5XG4gICAgICogQG1lbWJlciB7WE1MSHR0cFJlcXVlc3R9XG4gICAgICovXG5cbiAgICB0aGlzLnhociA9IG51bGw7XG4gICAgLyoqXG4gICAgICogVGhlIGNoaWxkIHJlc291cmNlcyB0aGlzIHJlc291cmNlIG93bnMuXG4gICAgICpcbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKiBAbWVtYmVyIHtSZXNvdXJjZVtdfVxuICAgICAqL1xuXG4gICAgdGhpcy5jaGlsZHJlbiA9IFtdO1xuICAgIC8qKlxuICAgICAqIFRoZSByZXNvdXJjZSB0eXBlLlxuICAgICAqXG4gICAgICogQHJlYWRvbmx5XG4gICAgICogQG1lbWJlciB7UmVzb3VyY2UuVFlQRX1cbiAgICAgKi9cblxuICAgIHRoaXMudHlwZSA9IFJlc291cmNlLlRZUEUuVU5LTk9XTjtcbiAgICAvKipcbiAgICAgKiBUaGUgcHJvZ3Jlc3MgY2h1bmsgb3duZWQgYnkgdGhpcyByZXNvdXJjZS5cbiAgICAgKlxuICAgICAqIEByZWFkb25seVxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cblxuICAgIHRoaXMucHJvZ3Jlc3NDaHVuayA9IDA7XG4gICAgLyoqXG4gICAgICogVGhlIGBkZXF1ZXVlYCBtZXRob2QgdGhhdCB3aWxsIGJlIHVzZWQgYSBzdG9yYWdlIHBsYWNlIGZvciB0aGUgYXN5bmMgcXVldWUgZGVxdWV1ZSBtZXRob2RcbiAgICAgKiB1c2VkIHByaXZhdGVseSBieSB0aGUgbG9hZGVyLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbWVtYmVyIHtmdW5jdGlvbn1cbiAgICAgKi9cblxuICAgIHRoaXMuX2RlcXVldWUgPSBfbm9vcCQxO1xuICAgIC8qKlxuICAgICAqIFVzZWQgYSBzdG9yYWdlIHBsYWNlIGZvciB0aGUgb24gbG9hZCBiaW5kaW5nIHVzZWQgcHJpdmF0ZWx5IGJ5IHRoZSBsb2FkZXIuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBtZW1iZXIge2Z1bmN0aW9ufVxuICAgICAqL1xuXG4gICAgdGhpcy5fb25Mb2FkQmluZGluZyA9IG51bGw7XG4gICAgLyoqXG4gICAgICogVGhlIHRpbWVyIGZvciBlbGVtZW50IGxvYWRzIHRvIGNoZWNrIGlmIHRoZXkgdGltZW91dC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuXG4gICAgdGhpcy5fZWxlbWVudFRpbWVyID0gMDtcbiAgICAvKipcbiAgICAgKiBUaGUgYGNvbXBsZXRlYCBmdW5jdGlvbiBib3VuZCB0byB0aGlzIHJlc291cmNlJ3MgY29udGV4dC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG1lbWJlciB7ZnVuY3Rpb259XG4gICAgICovXG5cbiAgICB0aGlzLl9ib3VuZENvbXBsZXRlID0gdGhpcy5jb21wbGV0ZS5iaW5kKHRoaXMpO1xuICAgIC8qKlxuICAgICAqIFRoZSBgX29uRXJyb3JgIGZ1bmN0aW9uIGJvdW5kIHRvIHRoaXMgcmVzb3VyY2UncyBjb250ZXh0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbWVtYmVyIHtmdW5jdGlvbn1cbiAgICAgKi9cblxuICAgIHRoaXMuX2JvdW5kT25FcnJvciA9IHRoaXMuX29uRXJyb3IuYmluZCh0aGlzKTtcbiAgICAvKipcbiAgICAgKiBUaGUgYF9vblByb2dyZXNzYCBmdW5jdGlvbiBib3VuZCB0byB0aGlzIHJlc291cmNlJ3MgY29udGV4dC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG1lbWJlciB7ZnVuY3Rpb259XG4gICAgICovXG5cbiAgICB0aGlzLl9ib3VuZE9uUHJvZ3Jlc3MgPSB0aGlzLl9vblByb2dyZXNzLmJpbmQodGhpcyk7XG4gICAgLyoqXG4gICAgICogVGhlIGBfb25UaW1lb3V0YCBmdW5jdGlvbiBib3VuZCB0byB0aGlzIHJlc291cmNlJ3MgY29udGV4dC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG1lbWJlciB7ZnVuY3Rpb259XG4gICAgICovXG5cbiAgICB0aGlzLl9ib3VuZE9uVGltZW91dCA9IHRoaXMuX29uVGltZW91dC5iaW5kKHRoaXMpOyAvLyB4aHIgY2FsbGJhY2tzXG5cbiAgICB0aGlzLl9ib3VuZFhock9uRXJyb3IgPSB0aGlzLl94aHJPbkVycm9yLmJpbmQodGhpcyk7XG4gICAgdGhpcy5fYm91bmRYaHJPblRpbWVvdXQgPSB0aGlzLl94aHJPblRpbWVvdXQuYmluZCh0aGlzKTtcbiAgICB0aGlzLl9ib3VuZFhock9uQWJvcnQgPSB0aGlzLl94aHJPbkFib3J0LmJpbmQodGhpcyk7XG4gICAgdGhpcy5fYm91bmRYaHJPbkxvYWQgPSB0aGlzLl94aHJPbkxvYWQuYmluZCh0aGlzKTtcbiAgICAvKipcbiAgICAgKiBEaXNwYXRjaGVkIHdoZW4gdGhlIHJlc291cmNlIGJlaW5ncyB0byBsb2FkLlxuICAgICAqXG4gICAgICogVGhlIGNhbGxiYWNrIGxvb2tzIGxpa2Uge0BsaW5rIFJlc291cmNlLk9uU3RhcnRTaWduYWx9LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7U2lnbmFsPFJlc291cmNlLk9uU3RhcnRTaWduYWw+fVxuICAgICAqL1xuXG4gICAgdGhpcy5vblN0YXJ0ID0gbmV3IFNpZ25hbCgpO1xuICAgIC8qKlxuICAgICAqIERpc3BhdGNoZWQgZWFjaCB0aW1lIHByb2dyZXNzIG9mIHRoaXMgcmVzb3VyY2UgbG9hZCB1cGRhdGVzLlxuICAgICAqIE5vdCBhbGwgcmVzb3VyY2VzIHR5cGVzIGFuZCBsb2FkZXIgc3lzdGVtcyBjYW4gc3VwcG9ydCB0aGlzIGV2ZW50XG4gICAgICogc28gc29tZXRpbWVzIGl0IG1heSBub3QgYmUgYXZhaWxhYmxlLiBJZiB0aGUgcmVzb3VyY2VcbiAgICAgKiBpcyBiZWluZyBsb2FkZWQgb24gYSBtb2Rlcm4gYnJvd3NlciwgdXNpbmcgWEhSLCBhbmQgdGhlIHJlbW90ZSBzZXJ2ZXJcbiAgICAgKiBwcm9wZXJseSBzZXRzIENvbnRlbnQtTGVuZ3RoIGhlYWRlcnMsIHRoZW4gdGhpcyB3aWxsIGJlIGF2YWlsYWJsZS5cbiAgICAgKlxuICAgICAqIFRoZSBjYWxsYmFjayBsb29rcyBsaWtlIHtAbGluayBSZXNvdXJjZS5PblByb2dyZXNzU2lnbmFsfS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1NpZ25hbDxSZXNvdXJjZS5PblByb2dyZXNzU2lnbmFsPn1cbiAgICAgKi9cblxuICAgIHRoaXMub25Qcm9ncmVzcyA9IG5ldyBTaWduYWwoKTtcbiAgICAvKipcbiAgICAgKiBEaXNwYXRjaGVkIG9uY2UgdGhpcyByZXNvdXJjZSBoYXMgbG9hZGVkLCBpZiB0aGVyZSB3YXMgYW4gZXJyb3IgaXQgd2lsbFxuICAgICAqIGJlIGluIHRoZSBgZXJyb3JgIHByb3BlcnR5LlxuICAgICAqXG4gICAgICogVGhlIGNhbGxiYWNrIGxvb2tzIGxpa2Uge0BsaW5rIFJlc291cmNlLk9uQ29tcGxldGVTaWduYWx9LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7U2lnbmFsPFJlc291cmNlLk9uQ29tcGxldGVTaWduYWw+fVxuICAgICAqL1xuXG4gICAgdGhpcy5vbkNvbXBsZXRlID0gbmV3IFNpZ25hbCgpO1xuICAgIC8qKlxuICAgICAqIERpc3BhdGNoZWQgYWZ0ZXIgdGhpcyByZXNvdXJjZSBoYXMgaGFkIGFsbCB0aGUgKmFmdGVyKiBtaWRkbGV3YXJlIHJ1biBvbiBpdC5cbiAgICAgKlxuICAgICAqIFRoZSBjYWxsYmFjayBsb29rcyBsaWtlIHtAbGluayBSZXNvdXJjZS5PbkNvbXBsZXRlU2lnbmFsfS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1NpZ25hbDxSZXNvdXJjZS5PbkNvbXBsZXRlU2lnbmFsPn1cbiAgICAgKi9cblxuICAgIHRoaXMub25BZnRlck1pZGRsZXdhcmUgPSBuZXcgU2lnbmFsKCk7XG4gIH1cbiAgLyoqXG4gICAqIFdoZW4gdGhlIHJlc291cmNlIHN0YXJ0cyB0byBsb2FkLlxuICAgKlxuICAgKiBAbWVtYmVyb2YgUmVzb3VyY2VcbiAgICogQGNhbGxiYWNrIE9uU3RhcnRTaWduYWxcbiAgICogQHBhcmFtIHtSZXNvdXJjZX0gcmVzb3VyY2UgLSBUaGUgcmVzb3VyY2UgdGhhdCB0aGUgZXZlbnQgaGFwcGVuZWQgb24uXG4gICAqL1xuXG4gIC8qKlxuICAgKiBXaGVuIHRoZSByZXNvdXJjZSByZXBvcnRzIGxvYWRpbmcgcHJvZ3Jlc3MuXG4gICAqXG4gICAqIEBtZW1iZXJvZiBSZXNvdXJjZVxuICAgKiBAY2FsbGJhY2sgT25Qcm9ncmVzc1NpZ25hbFxuICAgKiBAcGFyYW0ge1Jlc291cmNlfSByZXNvdXJjZSAtIFRoZSByZXNvdXJjZSB0aGF0IHRoZSBldmVudCBoYXBwZW5lZCBvbi5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHBlcmNlbnRhZ2UgLSBUaGUgcHJvZ3Jlc3Mgb2YgdGhlIGxvYWQgaW4gdGhlIHJhbmdlIFswLCAxXS5cbiAgICovXG5cbiAgLyoqXG4gICAqIFdoZW4gdGhlIHJlc291cmNlIGZpbmlzaGVzIGxvYWRpbmcuXG4gICAqXG4gICAqIEBtZW1iZXJvZiBSZXNvdXJjZVxuICAgKiBAY2FsbGJhY2sgT25Db21wbGV0ZVNpZ25hbFxuICAgKiBAcGFyYW0ge1Jlc291cmNlfSByZXNvdXJjZSAtIFRoZSByZXNvdXJjZSB0aGF0IHRoZSBldmVudCBoYXBwZW5lZCBvbi5cbiAgICovXG5cbiAgLyoqXG4gICAqIEBtZW1iZXJvZiBSZXNvdXJjZVxuICAgKiBAdHlwZWRlZiB7b2JqZWN0fSBJTWV0YWRhdGFcbiAgICogQHByb3BlcnR5IHtIVE1MSW1hZ2VFbGVtZW50fEhUTUxBdWRpb0VsZW1lbnR8SFRNTFZpZGVvRWxlbWVudH0gW2xvYWRFbGVtZW50PW51bGxdIC0gVGhlXG4gICAqICAgICAgZWxlbWVudCB0byB1c2UgZm9yIGxvYWRpbmcsIGluc3RlYWQgb2YgY3JlYXRpbmcgb25lLlxuICAgKiBAcHJvcGVydHkge2Jvb2xlYW59IFtza2lwU291cmNlPWZhbHNlXSAtIFNraXBzIGFkZGluZyBzb3VyY2UocykgdG8gdGhlIGxvYWQgZWxlbWVudC4gVGhpc1xuICAgKiAgICAgIGlzIHVzZWZ1bCBpZiB5b3Ugd2FudCB0byBwYXNzIGluIGEgYGxvYWRFbGVtZW50YCB0aGF0IHlvdSBhbHJlYWR5IGFkZGVkIGxvYWQgc291cmNlcyB0by5cbiAgICogQHByb3BlcnR5IHtzdHJpbmd8c3RyaW5nW119IFttaW1lVHlwZV0gLSBUaGUgbWltZSB0eXBlIHRvIHVzZSBmb3IgdGhlIHNvdXJjZSBlbGVtZW50XG4gICAqICAgICAgb2YgYSB2aWRlby9hdWRpbyBlbG1lbnQuIElmIHRoZSB1cmxzIGFyZSBhbiBhcnJheSwgeW91IGNhbiBwYXNzIHRoaXMgYXMgYW4gYXJyYXkgYXMgd2VsbFxuICAgKiAgICAgIHdoZXJlIGVhY2ggaW5kZXggaXMgdGhlIG1pbWUgdHlwZSB0byB1c2UgZm9yIHRoZSBjb3JyZXNwb25kaW5nIHVybCBpbmRleC5cbiAgICovXG5cbiAgLyoqXG4gICAqIFN0b3JlcyB3aGV0aGVyIG9yIG5vdCB0aGlzIHVybCBpcyBhIGRhdGEgdXJsLlxuICAgKlxuICAgKiBAcmVhZG9ubHlcbiAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICovXG5cblxuICB2YXIgX3Byb3RvID0gUmVzb3VyY2UucHJvdG90eXBlO1xuXG4gIC8qKlxuICAgKiBNYXJrcyB0aGUgcmVzb3VyY2UgYXMgY29tcGxldGUuXG4gICAqXG4gICAqL1xuICBfcHJvdG8uY29tcGxldGUgPSBmdW5jdGlvbiBjb21wbGV0ZSgpIHtcbiAgICB0aGlzLl9jbGVhckV2ZW50cygpO1xuXG4gICAgdGhpcy5fZmluaXNoKCk7XG4gIH1cbiAgLyoqXG4gICAqIEFib3J0cyB0aGUgbG9hZGluZyBvZiB0aGlzIHJlc291cmNlLCB3aXRoIGFuIG9wdGlvbmFsIG1lc3NhZ2UuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBtZXNzYWdlIC0gVGhlIG1lc3NhZ2UgdG8gdXNlIGZvciB0aGUgZXJyb3JcbiAgICovXG4gIDtcblxuICBfcHJvdG8uYWJvcnQgPSBmdW5jdGlvbiBhYm9ydChtZXNzYWdlKSB7XG4gICAgLy8gYWJvcnQgY2FuIGJlIGNhbGxlZCBtdWx0aXBsZSB0aW1lcywgaWdub3JlIHN1YnNlcXVlbnQgY2FsbHMuXG4gICAgaWYgKHRoaXMuZXJyb3IpIHtcbiAgICAgIHJldHVybjtcbiAgICB9IC8vIHN0b3JlIGVycm9yXG5cblxuICAgIHRoaXMuZXJyb3IgPSBuZXcgRXJyb3IobWVzc2FnZSk7IC8vIGNsZWFyIGV2ZW50cyBiZWZvcmUgY2FsbGluZyBhYm9ydHNcblxuICAgIHRoaXMuX2NsZWFyRXZlbnRzKCk7IC8vIGFib3J0IHRoZSBhY3R1YWwgbG9hZGluZ1xuXG5cbiAgICBpZiAodGhpcy54aHIpIHtcbiAgICAgIHRoaXMueGhyLmFib3J0KCk7XG4gICAgfSBlbHNlIGlmICh0aGlzLnhkcikge1xuICAgICAgdGhpcy54ZHIuYWJvcnQoKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMuZGF0YSkge1xuICAgICAgLy8gc2luZ2xlIHNvdXJjZVxuICAgICAgaWYgKHRoaXMuZGF0YS5zcmMpIHtcbiAgICAgICAgdGhpcy5kYXRhLnNyYyA9IFJlc291cmNlLkVNUFRZX0dJRjtcbiAgICAgIH0gLy8gbXVsdGktc291cmNlXG4gICAgICBlbHNlIHtcbiAgICAgICAgICB3aGlsZSAodGhpcy5kYXRhLmZpcnN0Q2hpbGQpIHtcbiAgICAgICAgICAgIHRoaXMuZGF0YS5yZW1vdmVDaGlsZCh0aGlzLmRhdGEuZmlyc3RDaGlsZCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSAvLyBkb25lIG5vdy5cblxuXG4gICAgdGhpcy5fZmluaXNoKCk7XG4gIH1cbiAgLyoqXG4gICAqIEtpY2tzIG9mZiBsb2FkaW5nIG9mIHRoaXMgcmVzb3VyY2UuIFRoaXMgbWV0aG9kIGlzIGFzeW5jaHJvbm91cy5cbiAgICpcbiAgICogQHBhcmFtIHtSZXNvdXJjZS5PbkNvbXBsZXRlU2lnbmFsfSBbY2JdIC0gT3B0aW9uYWwgY2FsbGJhY2sgdG8gY2FsbCBvbmNlIHRoZSByZXNvdXJjZSBpcyBsb2FkZWQuXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmxvYWQgPSBmdW5jdGlvbiBsb2FkKGNiKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIGlmICh0aGlzLmlzTG9hZGluZykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmlzQ29tcGxldGUpIHtcbiAgICAgIGlmIChjYikge1xuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gY2IoX3RoaXMpO1xuICAgICAgICB9LCAxKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuO1xuICAgIH0gZWxzZSBpZiAoY2IpIHtcbiAgICAgIHRoaXMub25Db21wbGV0ZS5vbmNlKGNiKTtcbiAgICB9XG5cbiAgICB0aGlzLl9zZXRGbGFnKFJlc291cmNlLlNUQVRVU19GTEFHUy5MT0FESU5HLCB0cnVlKTtcblxuICAgIHRoaXMub25TdGFydC5kaXNwYXRjaCh0aGlzKTsgLy8gaWYgdW5zZXQsIGRldGVybWluZSB0aGUgdmFsdWVcblxuICAgIGlmICh0aGlzLmNyb3NzT3JpZ2luID09PSBmYWxzZSB8fCB0eXBlb2YgdGhpcy5jcm9zc09yaWdpbiAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHRoaXMuY3Jvc3NPcmlnaW4gPSB0aGlzLl9kZXRlcm1pbmVDcm9zc09yaWdpbih0aGlzLnVybCk7XG4gICAgfVxuXG4gICAgc3dpdGNoICh0aGlzLmxvYWRUeXBlKSB7XG4gICAgICBjYXNlIFJlc291cmNlLkxPQURfVFlQRS5JTUFHRTpcbiAgICAgICAgdGhpcy50eXBlID0gUmVzb3VyY2UuVFlQRS5JTUFHRTtcblxuICAgICAgICB0aGlzLl9sb2FkRWxlbWVudCgnaW1hZ2UnKTtcblxuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSBSZXNvdXJjZS5MT0FEX1RZUEUuQVVESU86XG4gICAgICAgIHRoaXMudHlwZSA9IFJlc291cmNlLlRZUEUuQVVESU87XG5cbiAgICAgICAgdGhpcy5fbG9hZFNvdXJjZUVsZW1lbnQoJ2F1ZGlvJyk7XG5cbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgUmVzb3VyY2UuTE9BRF9UWVBFLlZJREVPOlxuICAgICAgICB0aGlzLnR5cGUgPSBSZXNvdXJjZS5UWVBFLlZJREVPO1xuXG4gICAgICAgIHRoaXMuX2xvYWRTb3VyY2VFbGVtZW50KCd2aWRlbycpO1xuXG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlIFJlc291cmNlLkxPQURfVFlQRS5YSFI6XG4gICAgICAvKiBmYWxscyB0aHJvdWdoICovXG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGlmICh1c2VYZHIgJiYgdGhpcy5jcm9zc09yaWdpbikge1xuICAgICAgICAgIHRoaXMuX2xvYWRYZHIoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLl9sb2FkWGhyKCk7XG4gICAgICAgIH1cblxuICAgICAgICBicmVhaztcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIENoZWNrcyBpZiB0aGUgZmxhZyBpcyBzZXQuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBmbGFnIC0gVGhlIGZsYWcgdG8gY2hlY2suXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgdGhlIGZsYWcgaXMgc2V0LlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5faGFzRmxhZyA9IGZ1bmN0aW9uIF9oYXNGbGFnKGZsYWcpIHtcbiAgICByZXR1cm4gKHRoaXMuX2ZsYWdzICYgZmxhZykgIT09IDA7XG4gIH1cbiAgLyoqXG4gICAqIChVbilTZXRzIHRoZSBmbGFnLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge251bWJlcn0gZmxhZyAtIFRoZSBmbGFnIHRvICh1bilzZXQuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gdmFsdWUgLSBXaGV0aGVyIHRvIHNldCBvciAodW4pc2V0IHRoZSBmbGFnLlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5fc2V0RmxhZyA9IGZ1bmN0aW9uIF9zZXRGbGFnKGZsYWcsIHZhbHVlKSB7XG4gICAgdGhpcy5fZmxhZ3MgPSB2YWx1ZSA/IHRoaXMuX2ZsYWdzIHwgZmxhZyA6IHRoaXMuX2ZsYWdzICYgfmZsYWc7XG4gIH1cbiAgLyoqXG4gICAqIENsZWFycyBhbGwgdGhlIGV2ZW50cyBmcm9tIHRoZSB1bmRlcmx5aW5nIGxvYWRpbmcgc291cmNlLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5fY2xlYXJFdmVudHMgPSBmdW5jdGlvbiBfY2xlYXJFdmVudHMoKSB7XG4gICAgY2xlYXJUaW1lb3V0KHRoaXMuX2VsZW1lbnRUaW1lcik7XG5cbiAgICBpZiAodGhpcy5kYXRhICYmIHRoaXMuZGF0YS5yZW1vdmVFdmVudExpc3RlbmVyKSB7XG4gICAgICB0aGlzLmRhdGEucmVtb3ZlRXZlbnRMaXN0ZW5lcignZXJyb3InLCB0aGlzLl9ib3VuZE9uRXJyb3IsIGZhbHNlKTtcbiAgICAgIHRoaXMuZGF0YS5yZW1vdmVFdmVudExpc3RlbmVyKCdsb2FkJywgdGhpcy5fYm91bmRDb21wbGV0ZSwgZmFsc2UpO1xuICAgICAgdGhpcy5kYXRhLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Byb2dyZXNzJywgdGhpcy5fYm91bmRPblByb2dyZXNzLCBmYWxzZSk7XG4gICAgICB0aGlzLmRhdGEucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2FucGxheXRocm91Z2gnLCB0aGlzLl9ib3VuZENvbXBsZXRlLCBmYWxzZSk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMueGhyKSB7XG4gICAgICBpZiAodGhpcy54aHIucmVtb3ZlRXZlbnRMaXN0ZW5lcikge1xuICAgICAgICB0aGlzLnhoci5yZW1vdmVFdmVudExpc3RlbmVyKCdlcnJvcicsIHRoaXMuX2JvdW5kWGhyT25FcnJvciwgZmFsc2UpO1xuICAgICAgICB0aGlzLnhoci5yZW1vdmVFdmVudExpc3RlbmVyKCd0aW1lb3V0JywgdGhpcy5fYm91bmRYaHJPblRpbWVvdXQsIGZhbHNlKTtcbiAgICAgICAgdGhpcy54aHIucmVtb3ZlRXZlbnRMaXN0ZW5lcignYWJvcnQnLCB0aGlzLl9ib3VuZFhock9uQWJvcnQsIGZhbHNlKTtcbiAgICAgICAgdGhpcy54aHIucmVtb3ZlRXZlbnRMaXN0ZW5lcigncHJvZ3Jlc3MnLCB0aGlzLl9ib3VuZE9uUHJvZ3Jlc3MsIGZhbHNlKTtcbiAgICAgICAgdGhpcy54aHIucmVtb3ZlRXZlbnRMaXN0ZW5lcignbG9hZCcsIHRoaXMuX2JvdW5kWGhyT25Mb2FkLCBmYWxzZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnhoci5vbmVycm9yID0gbnVsbDtcbiAgICAgICAgdGhpcy54aHIub250aW1lb3V0ID0gbnVsbDtcbiAgICAgICAgdGhpcy54aHIub25wcm9ncmVzcyA9IG51bGw7XG4gICAgICAgIHRoaXMueGhyLm9ubG9hZCA9IG51bGw7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBGaW5hbGl6ZXMgdGhlIGxvYWQuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLl9maW5pc2ggPSBmdW5jdGlvbiBfZmluaXNoKCkge1xuICAgIGlmICh0aGlzLmlzQ29tcGxldGUpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQ29tcGxldGUgY2FsbGVkIGFnYWluIGZvciBhbiBhbHJlYWR5IGNvbXBsZXRlZCByZXNvdXJjZS4nKTtcbiAgICB9XG5cbiAgICB0aGlzLl9zZXRGbGFnKFJlc291cmNlLlNUQVRVU19GTEFHUy5DT01QTEVURSwgdHJ1ZSk7XG5cbiAgICB0aGlzLl9zZXRGbGFnKFJlc291cmNlLlNUQVRVU19GTEFHUy5MT0FESU5HLCBmYWxzZSk7XG5cbiAgICB0aGlzLm9uQ29tcGxldGUuZGlzcGF0Y2godGhpcyk7XG4gIH1cbiAgLyoqXG4gICAqIExvYWRzIHRoaXMgcmVzb3VyY2VzIHVzaW5nIGFuIGVsZW1lbnQgdGhhdCBoYXMgYSBzaW5nbGUgc291cmNlLFxuICAgKiBsaWtlIGFuIEhUTUxJbWFnZUVsZW1lbnQuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIC0gVGhlIHR5cGUgb2YgZWxlbWVudCB0byB1c2UuXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLl9sb2FkRWxlbWVudCA9IGZ1bmN0aW9uIF9sb2FkRWxlbWVudCh0eXBlKSB7XG4gICAgaWYgKHRoaXMubWV0YWRhdGEubG9hZEVsZW1lbnQpIHtcbiAgICAgIHRoaXMuZGF0YSA9IHRoaXMubWV0YWRhdGEubG9hZEVsZW1lbnQ7XG4gICAgfSBlbHNlIGlmICh0eXBlID09PSAnaW1hZ2UnICYmIHR5cGVvZiB3aW5kb3cuSW1hZ2UgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB0aGlzLmRhdGEgPSBuZXcgSW1hZ2UoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5kYXRhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0eXBlKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5jcm9zc09yaWdpbikge1xuICAgICAgdGhpcy5kYXRhLmNyb3NzT3JpZ2luID0gdGhpcy5jcm9zc09yaWdpbjtcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMubWV0YWRhdGEuc2tpcFNvdXJjZSkge1xuICAgICAgdGhpcy5kYXRhLnNyYyA9IHRoaXMudXJsO1xuICAgIH1cblxuICAgIHRoaXMuZGF0YS5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsIHRoaXMuX2JvdW5kT25FcnJvciwgZmFsc2UpO1xuICAgIHRoaXMuZGF0YS5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgdGhpcy5fYm91bmRDb21wbGV0ZSwgZmFsc2UpO1xuICAgIHRoaXMuZGF0YS5hZGRFdmVudExpc3RlbmVyKCdwcm9ncmVzcycsIHRoaXMuX2JvdW5kT25Qcm9ncmVzcywgZmFsc2UpO1xuXG4gICAgaWYgKHRoaXMudGltZW91dCkge1xuICAgICAgdGhpcy5fZWxlbWVudFRpbWVyID0gc2V0VGltZW91dCh0aGlzLl9ib3VuZE9uVGltZW91dCwgdGhpcy50aW1lb3V0KTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIExvYWRzIHRoaXMgcmVzb3VyY2VzIHVzaW5nIGFuIGVsZW1lbnQgdGhhdCBoYXMgbXVsdGlwbGUgc291cmNlcyxcbiAgICogbGlrZSBhbiBIVE1MQXVkaW9FbGVtZW50IG9yIEhUTUxWaWRlb0VsZW1lbnQuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIC0gVGhlIHR5cGUgb2YgZWxlbWVudCB0byB1c2UuXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLl9sb2FkU291cmNlRWxlbWVudCA9IGZ1bmN0aW9uIF9sb2FkU291cmNlRWxlbWVudCh0eXBlKSB7XG4gICAgaWYgKHRoaXMubWV0YWRhdGEubG9hZEVsZW1lbnQpIHtcbiAgICAgIHRoaXMuZGF0YSA9IHRoaXMubWV0YWRhdGEubG9hZEVsZW1lbnQ7XG4gICAgfSBlbHNlIGlmICh0eXBlID09PSAnYXVkaW8nICYmIHR5cGVvZiB3aW5kb3cuQXVkaW8gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB0aGlzLmRhdGEgPSBuZXcgQXVkaW8oKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5kYXRhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0eXBlKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5kYXRhID09PSBudWxsKSB7XG4gICAgICB0aGlzLmFib3J0KFwiVW5zdXBwb3J0ZWQgZWxlbWVudDogXCIgKyB0eXBlKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5jcm9zc09yaWdpbikge1xuICAgICAgdGhpcy5kYXRhLmNyb3NzT3JpZ2luID0gdGhpcy5jcm9zc09yaWdpbjtcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMubWV0YWRhdGEuc2tpcFNvdXJjZSkge1xuICAgICAgLy8gc3VwcG9ydCBmb3IgQ29jb29uSlMgQ2FudmFzKyBydW50aW1lLCBsYWNrcyBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzb3VyY2UnKVxuICAgICAgaWYgKG5hdmlnYXRvci5pc0NvY29vbkpTKSB7XG4gICAgICAgIHRoaXMuZGF0YS5zcmMgPSBBcnJheS5pc0FycmF5KHRoaXMudXJsKSA/IHRoaXMudXJsWzBdIDogdGhpcy51cmw7XG4gICAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkodGhpcy51cmwpKSB7XG4gICAgICAgIHZhciBtaW1lVHlwZXMgPSB0aGlzLm1ldGFkYXRhLm1pbWVUeXBlO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy51cmwubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICB0aGlzLmRhdGEuYXBwZW5kQ2hpbGQodGhpcy5fY3JlYXRlU291cmNlKHR5cGUsIHRoaXMudXJsW2ldLCBBcnJheS5pc0FycmF5KG1pbWVUeXBlcykgPyBtaW1lVHlwZXNbaV0gOiBtaW1lVHlwZXMpKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIF9taW1lVHlwZXMgPSB0aGlzLm1ldGFkYXRhLm1pbWVUeXBlO1xuICAgICAgICB0aGlzLmRhdGEuYXBwZW5kQ2hpbGQodGhpcy5fY3JlYXRlU291cmNlKHR5cGUsIHRoaXMudXJsLCBBcnJheS5pc0FycmF5KF9taW1lVHlwZXMpID8gX21pbWVUeXBlc1swXSA6IF9taW1lVHlwZXMpKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLmRhdGEuYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCB0aGlzLl9ib3VuZE9uRXJyb3IsIGZhbHNlKTtcbiAgICB0aGlzLmRhdGEuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIHRoaXMuX2JvdW5kQ29tcGxldGUsIGZhbHNlKTtcbiAgICB0aGlzLmRhdGEuYWRkRXZlbnRMaXN0ZW5lcigncHJvZ3Jlc3MnLCB0aGlzLl9ib3VuZE9uUHJvZ3Jlc3MsIGZhbHNlKTtcbiAgICB0aGlzLmRhdGEuYWRkRXZlbnRMaXN0ZW5lcignY2FucGxheXRocm91Z2gnLCB0aGlzLl9ib3VuZENvbXBsZXRlLCBmYWxzZSk7XG4gICAgdGhpcy5kYXRhLmxvYWQoKTtcblxuICAgIGlmICh0aGlzLnRpbWVvdXQpIHtcbiAgICAgIHRoaXMuX2VsZW1lbnRUaW1lciA9IHNldFRpbWVvdXQodGhpcy5fYm91bmRPblRpbWVvdXQsIHRoaXMudGltZW91dCk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBMb2FkcyB0aGlzIHJlc291cmNlcyB1c2luZyBhbiBYTUxIdHRwUmVxdWVzdC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG4gIDtcblxuICBfcHJvdG8uX2xvYWRYaHIgPSBmdW5jdGlvbiBfbG9hZFhocigpIHtcbiAgICAvLyBpZiB1bnNldCwgZGV0ZXJtaW5lIHRoZSB2YWx1ZVxuICAgIGlmICh0eXBlb2YgdGhpcy54aHJUeXBlICE9PSAnc3RyaW5nJykge1xuICAgICAgdGhpcy54aHJUeXBlID0gdGhpcy5fZGV0ZXJtaW5lWGhyVHlwZSgpO1xuICAgIH1cblxuICAgIHZhciB4aHIgPSB0aGlzLnhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpOyAvLyBzZXQgdGhlIHJlcXVlc3QgdHlwZSBhbmQgdXJsXG5cbiAgICB4aHIub3BlbignR0VUJywgdGhpcy51cmwsIHRydWUpO1xuICAgIHhoci50aW1lb3V0ID0gdGhpcy50aW1lb3V0OyAvLyBsb2FkIGpzb24gYXMgdGV4dCBhbmQgcGFyc2UgaXQgb3Vyc2VsdmVzLiBXZSBkbyB0aGlzIGJlY2F1c2Ugc29tZSBicm93c2Vyc1xuICAgIC8vICpjb3VnaCogc2FmYXJpICpjb3VnaCogY2FuJ3QgZGVhbCB3aXRoIGl0LlxuXG4gICAgaWYgKHRoaXMueGhyVHlwZSA9PT0gUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuSlNPTiB8fCB0aGlzLnhoclR5cGUgPT09IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkRPQ1VNRU5UKSB7XG4gICAgICB4aHIucmVzcG9uc2VUeXBlID0gUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuVEVYVDtcbiAgICB9IGVsc2Uge1xuICAgICAgeGhyLnJlc3BvbnNlVHlwZSA9IHRoaXMueGhyVHlwZTtcbiAgICB9XG5cbiAgICB4aHIuYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCB0aGlzLl9ib3VuZFhock9uRXJyb3IsIGZhbHNlKTtcbiAgICB4aHIuYWRkRXZlbnRMaXN0ZW5lcigndGltZW91dCcsIHRoaXMuX2JvdW5kWGhyT25UaW1lb3V0LCBmYWxzZSk7XG4gICAgeGhyLmFkZEV2ZW50TGlzdGVuZXIoJ2Fib3J0JywgdGhpcy5fYm91bmRYaHJPbkFib3J0LCBmYWxzZSk7XG4gICAgeGhyLmFkZEV2ZW50TGlzdGVuZXIoJ3Byb2dyZXNzJywgdGhpcy5fYm91bmRPblByb2dyZXNzLCBmYWxzZSk7XG4gICAgeGhyLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCB0aGlzLl9ib3VuZFhock9uTG9hZCwgZmFsc2UpO1xuICAgIHhoci5zZW5kKCk7XG4gIH1cbiAgLyoqXG4gICAqIExvYWRzIHRoaXMgcmVzb3VyY2VzIHVzaW5nIGFuIFhEb21haW5SZXF1ZXN0LiBUaGlzIGlzIGhlcmUgYmVjYXVzZSB3ZSBuZWVkIHRvIHN1cHBvcnQgSUU5IChncm9zcykuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLl9sb2FkWGRyID0gZnVuY3Rpb24gX2xvYWRYZHIoKSB7XG4gICAgLy8gaWYgdW5zZXQsIGRldGVybWluZSB0aGUgdmFsdWVcbiAgICBpZiAodHlwZW9mIHRoaXMueGhyVHlwZSAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHRoaXMueGhyVHlwZSA9IHRoaXMuX2RldGVybWluZVhoclR5cGUoKTtcbiAgICB9XG5cbiAgICB2YXIgeGRyID0gdGhpcy54aHIgPSBuZXcgWERvbWFpblJlcXVlc3QoKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bmRlZlxuICAgIC8vIFhEb21haW5SZXF1ZXN0IGhhcyBhIGZldyBxdWlya3MuIE9jY2FzaW9uYWxseSBpdCB3aWxsIGFib3J0IHJlcXVlc3RzXG4gICAgLy8gQSB3YXkgdG8gYXZvaWQgdGhpcyBpcyB0byBtYWtlIHN1cmUgQUxMIGNhbGxiYWNrcyBhcmUgc2V0IGV2ZW4gaWYgbm90IHVzZWRcbiAgICAvLyBNb3JlIGluZm8gaGVyZTogaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8xNTc4Njk2Ni94ZG9tYWlucmVxdWVzdC1hYm9ydHMtcG9zdC1vbi1pZS05XG5cbiAgICB4ZHIudGltZW91dCA9IHRoaXMudGltZW91dCB8fCA1MDAwOyAvLyBYRFIgbmVlZHMgYSB0aW1lb3V0IHZhbHVlIG9yIGl0IGJyZWFrcyBpbiBJRTlcblxuICAgIHhkci5vbmVycm9yID0gdGhpcy5fYm91bmRYaHJPbkVycm9yO1xuICAgIHhkci5vbnRpbWVvdXQgPSB0aGlzLl9ib3VuZFhock9uVGltZW91dDtcbiAgICB4ZHIub25wcm9ncmVzcyA9IHRoaXMuX2JvdW5kT25Qcm9ncmVzcztcbiAgICB4ZHIub25sb2FkID0gdGhpcy5fYm91bmRYaHJPbkxvYWQ7XG4gICAgeGRyLm9wZW4oJ0dFVCcsIHRoaXMudXJsLCB0cnVlKTsgLy8gTm90ZTogVGhlIHhkci5zZW5kKCkgY2FsbCBpcyB3cmFwcGVkIGluIGEgdGltZW91dCB0byBwcmV2ZW50IGFuXG4gICAgLy8gaXNzdWUgd2l0aCB0aGUgaW50ZXJmYWNlIHdoZXJlIHNvbWUgcmVxdWVzdHMgYXJlIGxvc3QgaWYgbXVsdGlwbGVcbiAgICAvLyBYRG9tYWluUmVxdWVzdHMgYXJlIGJlaW5nIHNlbnQgYXQgdGhlIHNhbWUgdGltZS5cbiAgICAvLyBTb21lIGluZm8gaGVyZTogaHR0cHM6Ly9naXRodWIuY29tL3Bob3RvbnN0b3JtL3BoYXNlci9pc3N1ZXMvMTI0OFxuXG4gICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4geGRyLnNlbmQoKTtcbiAgICB9LCAxKTtcbiAgfVxuICAvKipcbiAgICogQ3JlYXRlcyBhIHNvdXJjZSB1c2VkIGluIGxvYWRpbmcgdmlhIGFuIGVsZW1lbnQuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIC0gVGhlIGVsZW1lbnQgdHlwZSAodmlkZW8gb3IgYXVkaW8pLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIC0gVGhlIHNvdXJjZSBVUkwgdG8gbG9hZCBmcm9tLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gW21pbWVdIC0gVGhlIG1pbWUgdHlwZSBvZiB0aGUgdmlkZW9cbiAgICogQHJldHVybiB7SFRNTFNvdXJjZUVsZW1lbnR9IFRoZSBzb3VyY2UgZWxlbWVudC5cbiAgICovXG4gIDtcblxuICBfcHJvdG8uX2NyZWF0ZVNvdXJjZSA9IGZ1bmN0aW9uIF9jcmVhdGVTb3VyY2UodHlwZSwgdXJsLCBtaW1lKSB7XG4gICAgaWYgKCFtaW1lKSB7XG4gICAgICBtaW1lID0gdHlwZSArIFwiL1wiICsgdGhpcy5fZ2V0RXh0ZW5zaW9uKHVybCk7XG4gICAgfVxuXG4gICAgdmFyIHNvdXJjZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NvdXJjZScpO1xuICAgIHNvdXJjZS5zcmMgPSB1cmw7XG4gICAgc291cmNlLnR5cGUgPSBtaW1lO1xuICAgIHJldHVybiBzb3VyY2U7XG4gIH1cbiAgLyoqXG4gICAqIENhbGxlZCBpZiBhIGxvYWQgZXJyb3JzIG91dC5cbiAgICpcbiAgICogQHBhcmFtIHtFdmVudH0gZXZlbnQgLSBUaGUgZXJyb3IgZXZlbnQgZnJvbSB0aGUgZWxlbWVudCB0aGF0IGVtaXRzIGl0LlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5fb25FcnJvciA9IGZ1bmN0aW9uIF9vbkVycm9yKGV2ZW50KSB7XG4gICAgdGhpcy5hYm9ydChcIkZhaWxlZCB0byBsb2FkIGVsZW1lbnQgdXNpbmc6IFwiICsgZXZlbnQudGFyZ2V0Lm5vZGVOYW1lKTtcbiAgfVxuICAvKipcbiAgICogQ2FsbGVkIGlmIGEgbG9hZCBwcm9ncmVzcyBldmVudCBmaXJlcyBmb3IgYW4gZWxlbWVudCBvciB4aHIveGRyLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge1hNTEh0dHBSZXF1ZXN0UHJvZ3Jlc3NFdmVudHxFdmVudH0gZXZlbnQgLSBQcm9ncmVzcyBldmVudC5cbiAgICovXG4gIDtcblxuICBfcHJvdG8uX29uUHJvZ3Jlc3MgPSBmdW5jdGlvbiBfb25Qcm9ncmVzcyhldmVudCkge1xuICAgIGlmIChldmVudCAmJiBldmVudC5sZW5ndGhDb21wdXRhYmxlKSB7XG4gICAgICB0aGlzLm9uUHJvZ3Jlc3MuZGlzcGF0Y2godGhpcywgZXZlbnQubG9hZGVkIC8gZXZlbnQudG90YWwpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogQ2FsbGVkIGlmIGEgdGltZW91dCBldmVudCBmaXJlcyBmb3IgYW4gZWxlbWVudC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG4gIDtcblxuICBfcHJvdG8uX29uVGltZW91dCA9IGZ1bmN0aW9uIF9vblRpbWVvdXQoKSB7XG4gICAgdGhpcy5hYm9ydChcIkxvYWQgdGltZWQgb3V0LlwiKTtcbiAgfVxuICAvKipcbiAgICogQ2FsbGVkIGlmIGFuIGVycm9yIGV2ZW50IGZpcmVzIGZvciB4aHIveGRyLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5feGhyT25FcnJvciA9IGZ1bmN0aW9uIF94aHJPbkVycm9yKCkge1xuICAgIHZhciB4aHIgPSB0aGlzLnhocjtcbiAgICB0aGlzLmFib3J0KHJlcVR5cGUoeGhyKSArIFwiIFJlcXVlc3QgZmFpbGVkLiBTdGF0dXM6IFwiICsgeGhyLnN0YXR1cyArIFwiLCB0ZXh0OiBcXFwiXCIgKyB4aHIuc3RhdHVzVGV4dCArIFwiXFxcIlwiKTtcbiAgfVxuICAvKipcbiAgICogQ2FsbGVkIGlmIGFuIGVycm9yIGV2ZW50IGZpcmVzIGZvciB4aHIveGRyLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5feGhyT25UaW1lb3V0ID0gZnVuY3Rpb24gX3hock9uVGltZW91dCgpIHtcbiAgICB2YXIgeGhyID0gdGhpcy54aHI7XG4gICAgdGhpcy5hYm9ydChyZXFUeXBlKHhocikgKyBcIiBSZXF1ZXN0IHRpbWVkIG91dC5cIik7XG4gIH1cbiAgLyoqXG4gICAqIENhbGxlZCBpZiBhbiBhYm9ydCBldmVudCBmaXJlcyBmb3IgeGhyL3hkci5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG4gIDtcblxuICBfcHJvdG8uX3hock9uQWJvcnQgPSBmdW5jdGlvbiBfeGhyT25BYm9ydCgpIHtcbiAgICB2YXIgeGhyID0gdGhpcy54aHI7XG4gICAgdGhpcy5hYm9ydChyZXFUeXBlKHhocikgKyBcIiBSZXF1ZXN0IHdhcyBhYm9ydGVkIGJ5IHRoZSB1c2VyLlwiKTtcbiAgfVxuICAvKipcbiAgICogQ2FsbGVkIHdoZW4gZGF0YSBzdWNjZXNzZnVsbHkgbG9hZHMgZnJvbSBhbiB4aHIveGRyIHJlcXVlc3QuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7WE1MSHR0cFJlcXVlc3RMb2FkRXZlbnR8RXZlbnR9IGV2ZW50IC0gTG9hZCBldmVudFxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5feGhyT25Mb2FkID0gZnVuY3Rpb24gX3hock9uTG9hZCgpIHtcbiAgICB2YXIgeGhyID0gdGhpcy54aHI7XG4gICAgdmFyIHRleHQgPSAnJztcbiAgICB2YXIgc3RhdHVzID0gdHlwZW9mIHhoci5zdGF0dXMgPT09ICd1bmRlZmluZWQnID8gU1RBVFVTX09LIDogeGhyLnN0YXR1czsgLy8gWERSIGhhcyBubyBgLnN0YXR1c2AsIGFzc3VtZSAyMDAuXG4gICAgLy8gcmVzcG9uc2VUZXh0IGlzIGFjY2Vzc2libGUgb25seSBpZiByZXNwb25zZVR5cGUgaXMgJycgb3IgJ3RleHQnIGFuZCBvbiBvbGRlciBicm93c2Vyc1xuXG4gICAgaWYgKHhoci5yZXNwb25zZVR5cGUgPT09ICcnIHx8IHhoci5yZXNwb25zZVR5cGUgPT09ICd0ZXh0JyB8fCB0eXBlb2YgeGhyLnJlc3BvbnNlVHlwZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHRleHQgPSB4aHIucmVzcG9uc2VUZXh0O1xuICAgIH0gLy8gc3RhdHVzIGNhbiBiZSAwIHdoZW4gdXNpbmcgdGhlIGBmaWxlOi8vYCBwcm90b2NvbCBzbyB3ZSBhbHNvIGNoZWNrIGlmIGEgcmVzcG9uc2UgaXMgc2V0LlxuICAgIC8vIElmIGl0IGhhcyBhIHJlc3BvbnNlLCB3ZSBhc3N1bWUgMjAwOyBvdGhlcndpc2UgYSAwIHN0YXR1cyBjb2RlIHdpdGggbm8gY29udGVudHMgaXMgYW4gYWJvcnRlZCByZXF1ZXN0LlxuXG5cbiAgICBpZiAoc3RhdHVzID09PSBTVEFUVVNfTk9ORSAmJiAodGV4dC5sZW5ndGggPiAwIHx8IHhoci5yZXNwb25zZVR5cGUgPT09IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkJVRkZFUikpIHtcbiAgICAgIHN0YXR1cyA9IFNUQVRVU19PSztcbiAgICB9IC8vIGhhbmRsZSBJRTkgYnVnOiBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzEwMDQ2OTcyL21zaWUtcmV0dXJucy1zdGF0dXMtY29kZS1vZi0xMjIzLWZvci1hamF4LXJlcXVlc3RcbiAgICBlbHNlIGlmIChzdGF0dXMgPT09IFNUQVRVU19JRV9CVUdfRU1QVFkpIHtcbiAgICAgICAgc3RhdHVzID0gU1RBVFVTX0VNUFRZO1xuICAgICAgfVxuXG4gICAgdmFyIHN0YXR1c1R5cGUgPSBzdGF0dXMgLyAxMDAgfCAwO1xuXG4gICAgaWYgKHN0YXR1c1R5cGUgPT09IFNUQVRVU19UWVBFX09LKSB7XG4gICAgICAvLyBpZiB0ZXh0LCBqdXN0IHJldHVybiBpdFxuICAgICAgaWYgKHRoaXMueGhyVHlwZSA9PT0gUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuVEVYVCkge1xuICAgICAgICB0aGlzLmRhdGEgPSB0ZXh0O1xuICAgICAgICB0aGlzLnR5cGUgPSBSZXNvdXJjZS5UWVBFLlRFWFQ7XG4gICAgICB9IC8vIGlmIGpzb24sIHBhcnNlIGludG8ganNvbiBvYmplY3RcbiAgICAgIGVsc2UgaWYgKHRoaXMueGhyVHlwZSA9PT0gUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuSlNPTikge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aGlzLmRhdGEgPSBKU09OLnBhcnNlKHRleHQpO1xuICAgICAgICAgICAgdGhpcy50eXBlID0gUmVzb3VyY2UuVFlQRS5KU09OO1xuICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHRoaXMuYWJvcnQoXCJFcnJvciB0cnlpbmcgdG8gcGFyc2UgbG9hZGVkIGpzb246IFwiICsgZSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICB9IC8vIGlmIHhtbCwgcGFyc2UgaW50byBhbiB4bWwgZG9jdW1lbnQgb3IgZGl2IGVsZW1lbnRcbiAgICAgICAgZWxzZSBpZiAodGhpcy54aHJUeXBlID09PSBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5ET0NVTUVOVCkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgaWYgKHdpbmRvdy5ET01QYXJzZXIpIHtcbiAgICAgICAgICAgICAgICB2YXIgZG9tcGFyc2VyID0gbmV3IERPTVBhcnNlcigpO1xuICAgICAgICAgICAgICAgIHRoaXMuZGF0YSA9IGRvbXBhcnNlci5wYXJzZUZyb21TdHJpbmcodGV4dCwgJ3RleHQveG1sJyk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFyIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgICAgIGRpdi5pbm5lckhUTUwgPSB0ZXh0O1xuICAgICAgICAgICAgICAgIHRoaXMuZGF0YSA9IGRpdjtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIHRoaXMudHlwZSA9IFJlc291cmNlLlRZUEUuWE1MO1xuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICB0aGlzLmFib3J0KFwiRXJyb3IgdHJ5aW5nIHRvIHBhcnNlIGxvYWRlZCB4bWw6IFwiICsgZSk7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IC8vIG90aGVyIHR5cGVzIGp1c3QgcmV0dXJuIHRoZSByZXNwb25zZVxuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICB0aGlzLmRhdGEgPSB4aHIucmVzcG9uc2UgfHwgdGV4dDtcbiAgICAgICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5hYm9ydChcIltcIiArIHhoci5zdGF0dXMgKyBcIl0gXCIgKyB4aHIuc3RhdHVzVGV4dCArIFwiOiBcIiArIHhoci5yZXNwb25zZVVSTCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5jb21wbGV0ZSgpO1xuICB9XG4gIC8qKlxuICAgKiBTZXRzIHRoZSBgY3Jvc3NPcmlnaW5gIHByb3BlcnR5IGZvciB0aGlzIHJlc291cmNlIGJhc2VkIG9uIGlmIHRoZSB1cmxcbiAgICogZm9yIHRoaXMgcmVzb3VyY2UgaXMgY3Jvc3Mtb3JpZ2luLiBJZiBjcm9zc09yaWdpbiB3YXMgbWFudWFsbHkgc2V0LCB0aGlzXG4gICAqIGZ1bmN0aW9uIGRvZXMgbm90aGluZy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IHVybCAtIFRoZSB1cmwgdG8gdGVzdC5cbiAgICogQHBhcmFtIHtvYmplY3R9IFtsb2M9d2luZG93LmxvY2F0aW9uXSAtIFRoZSBsb2NhdGlvbiBvYmplY3QgdG8gdGVzdCBhZ2FpbnN0LlxuICAgKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSBjcm9zc09yaWdpbiB2YWx1ZSB0byB1c2UgKG9yIGVtcHR5IHN0cmluZyBmb3Igbm9uZSkuXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLl9kZXRlcm1pbmVDcm9zc09yaWdpbiA9IGZ1bmN0aW9uIF9kZXRlcm1pbmVDcm9zc09yaWdpbih1cmwsIGxvYykge1xuICAgIC8vIGRhdGE6IGFuZCBqYXZhc2NyaXB0OiB1cmxzIGFyZSBjb25zaWRlcmVkIHNhbWUtb3JpZ2luXG4gICAgaWYgKHVybC5pbmRleE9mKCdkYXRhOicpID09PSAwKSB7XG4gICAgICByZXR1cm4gJyc7XG4gICAgfSAvLyBBIHNhbmRib3hlZCBpZnJhbWUgd2l0aG91dCB0aGUgJ2FsbG93LXNhbWUtb3JpZ2luJyBhdHRyaWJ1dGUgd2lsbCBoYXZlIGEgc3BlY2lhbFxuICAgIC8vIG9yaWdpbiBkZXNpZ25lZCBub3QgdG8gbWF0Y2ggd2luZG93LmxvY2F0aW9uLm9yaWdpbiwgYW5kIHdpbGwgYWx3YXlzIHJlcXVpcmVcbiAgICAvLyBjcm9zc09yaWdpbiByZXF1ZXN0cyByZWdhcmRsZXNzIG9mIHdoZXRoZXIgdGhlIGxvY2F0aW9uIG1hdGNoZXMuXG5cblxuICAgIGlmICh3aW5kb3cub3JpZ2luICE9PSB3aW5kb3cubG9jYXRpb24ub3JpZ2luKSB7XG4gICAgICByZXR1cm4gJ2Fub255bW91cyc7XG4gICAgfSAvLyBkZWZhdWx0IGlzIHdpbmRvdy5sb2NhdGlvblxuXG5cbiAgICBsb2MgPSBsb2MgfHwgd2luZG93LmxvY2F0aW9uO1xuXG4gICAgaWYgKCF0ZW1wQW5jaG9yKSB7XG4gICAgICB0ZW1wQW5jaG9yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgIH0gLy8gbGV0IHRoZSBicm93c2VyIGRldGVybWluZSB0aGUgZnVsbCBocmVmIGZvciB0aGUgdXJsIG9mIHRoaXMgcmVzb3VyY2UgYW5kIHRoZW5cbiAgICAvLyBwYXJzZSB3aXRoIHRoZSBub2RlIHVybCBsaWIsIHdlIGNhbid0IHVzZSB0aGUgcHJvcGVydGllcyBvZiB0aGUgYW5jaG9yIGVsZW1lbnRcbiAgICAvLyBiZWNhdXNlIHRoZXkgZG9uJ3Qgd29yayBpbiBJRTkgOihcblxuXG4gICAgdGVtcEFuY2hvci5ocmVmID0gdXJsO1xuICAgIHVybCA9IHBhcnNlVXJpKHRlbXBBbmNob3IuaHJlZiwge1xuICAgICAgc3RyaWN0TW9kZTogdHJ1ZVxuICAgIH0pO1xuICAgIHZhciBzYW1lUG9ydCA9ICF1cmwucG9ydCAmJiBsb2MucG9ydCA9PT0gJycgfHwgdXJsLnBvcnQgPT09IGxvYy5wb3J0O1xuICAgIHZhciBwcm90b2NvbCA9IHVybC5wcm90b2NvbCA/IHVybC5wcm90b2NvbCArIFwiOlwiIDogJyc7IC8vIGlmIGNyb3NzIG9yaWdpblxuXG4gICAgaWYgKHVybC5ob3N0ICE9PSBsb2MuaG9zdG5hbWUgfHwgIXNhbWVQb3J0IHx8IHByb3RvY29sICE9PSBsb2MucHJvdG9jb2wpIHtcbiAgICAgIHJldHVybiAnYW5vbnltb3VzJztcbiAgICB9XG5cbiAgICByZXR1cm4gJyc7XG4gIH1cbiAgLyoqXG4gICAqIERldGVybWluZXMgdGhlIHJlc3BvbnNlVHlwZSBvZiBhbiBYSFIgcmVxdWVzdCBiYXNlZCBvbiB0aGUgZXh0ZW5zaW9uIG9mIHRoZVxuICAgKiByZXNvdXJjZSBiZWluZyBsb2FkZWQuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEByZXR1cm4ge1Jlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFfSBUaGUgcmVzcG9uc2VUeXBlIHRvIHVzZS5cbiAgICovXG4gIDtcblxuICBfcHJvdG8uX2RldGVybWluZVhoclR5cGUgPSBmdW5jdGlvbiBfZGV0ZXJtaW5lWGhyVHlwZSgpIHtcbiAgICByZXR1cm4gUmVzb3VyY2UuX3hoclR5cGVNYXBbdGhpcy5leHRlbnNpb25dIHx8IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLlRFWFQ7XG4gIH1cbiAgLyoqXG4gICAqIERldGVybWluZXMgdGhlIGxvYWRUeXBlIG9mIGEgcmVzb3VyY2UgYmFzZWQgb24gdGhlIGV4dGVuc2lvbiBvZiB0aGVcbiAgICogcmVzb3VyY2UgYmVpbmcgbG9hZGVkLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcmV0dXJuIHtSZXNvdXJjZS5MT0FEX1RZUEV9IFRoZSBsb2FkVHlwZSB0byB1c2UuXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLl9kZXRlcm1pbmVMb2FkVHlwZSA9IGZ1bmN0aW9uIF9kZXRlcm1pbmVMb2FkVHlwZSgpIHtcbiAgICByZXR1cm4gUmVzb3VyY2UuX2xvYWRUeXBlTWFwW3RoaXMuZXh0ZW5zaW9uXSB8fCBSZXNvdXJjZS5MT0FEX1RZUEUuWEhSO1xuICB9XG4gIC8qKlxuICAgKiBFeHRyYWN0cyB0aGUgZXh0ZW5zaW9uIChzYW5zICcuJykgb2YgdGhlIGZpbGUgYmVpbmcgbG9hZGVkIGJ5IHRoZSByZXNvdXJjZS5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHJldHVybiB7c3RyaW5nfSBUaGUgZXh0ZW5zaW9uLlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5fZ2V0RXh0ZW5zaW9uID0gZnVuY3Rpb24gX2dldEV4dGVuc2lvbigpIHtcbiAgICB2YXIgdXJsID0gdGhpcy51cmw7XG4gICAgdmFyIGV4dCA9ICcnO1xuXG4gICAgaWYgKHRoaXMuaXNEYXRhVXJsKSB7XG4gICAgICB2YXIgc2xhc2hJbmRleCA9IHVybC5pbmRleE9mKCcvJyk7XG4gICAgICBleHQgPSB1cmwuc3Vic3RyaW5nKHNsYXNoSW5kZXggKyAxLCB1cmwuaW5kZXhPZignOycsIHNsYXNoSW5kZXgpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIHF1ZXJ5U3RhcnQgPSB1cmwuaW5kZXhPZignPycpO1xuICAgICAgdmFyIGhhc2hTdGFydCA9IHVybC5pbmRleE9mKCcjJyk7XG4gICAgICB2YXIgaW5kZXggPSBNYXRoLm1pbihxdWVyeVN0YXJ0ID4gLTEgPyBxdWVyeVN0YXJ0IDogdXJsLmxlbmd0aCwgaGFzaFN0YXJ0ID4gLTEgPyBoYXNoU3RhcnQgOiB1cmwubGVuZ3RoKTtcbiAgICAgIHVybCA9IHVybC5zdWJzdHJpbmcoMCwgaW5kZXgpO1xuICAgICAgZXh0ID0gdXJsLnN1YnN0cmluZyh1cmwubGFzdEluZGV4T2YoJy4nKSArIDEpO1xuICAgIH1cblxuICAgIHJldHVybiBleHQudG9Mb3dlckNhc2UoKTtcbiAgfVxuICAvKipcbiAgICogRGV0ZXJtaW5lcyB0aGUgbWltZSB0eXBlIG9mIGFuIFhIUiByZXF1ZXN0IGJhc2VkIG9uIHRoZSByZXNwb25zZVR5cGUgb2ZcbiAgICogcmVzb3VyY2UgYmVpbmcgbG9hZGVkLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge1Jlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFfSB0eXBlIC0gVGhlIHR5cGUgdG8gZ2V0IGEgbWltZSB0eXBlIGZvci5cbiAgICogQHJldHVybiB7c3RyaW5nfSBUaGUgbWltZSB0eXBlIHRvIHVzZS5cbiAgICovXG4gIDtcblxuICBfcHJvdG8uX2dldE1pbWVGcm9tWGhyVHlwZSA9IGZ1bmN0aW9uIF9nZXRNaW1lRnJvbVhoclR5cGUodHlwZSkge1xuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgY2FzZSBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5CVUZGRVI6XG4gICAgICAgIHJldHVybiAnYXBwbGljYXRpb24vb2N0ZXQtYmluYXJ5JztcblxuICAgICAgY2FzZSBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5CTE9COlxuICAgICAgICByZXR1cm4gJ2FwcGxpY2F0aW9uL2Jsb2InO1xuXG4gICAgICBjYXNlIFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkRPQ1VNRU5UOlxuICAgICAgICByZXR1cm4gJ2FwcGxpY2F0aW9uL3htbCc7XG5cbiAgICAgIGNhc2UgUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuSlNPTjpcbiAgICAgICAgcmV0dXJuICdhcHBsaWNhdGlvbi9qc29uJztcblxuICAgICAgY2FzZSBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5ERUZBVUxUOlxuICAgICAgY2FzZSBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5URVhUOlxuICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gJ3RleHQvcGxhaW4nO1xuICAgIH1cbiAgfTtcblxuICBfY3JlYXRlQ2xhc3MoUmVzb3VyY2UsIFt7XG4gICAga2V5OiBcImlzRGF0YVVybFwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2hhc0ZsYWcoUmVzb3VyY2UuU1RBVFVTX0ZMQUdTLkRBVEFfVVJMKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGVzY3JpYmVzIGlmIHRoaXMgcmVzb3VyY2UgaGFzIGZpbmlzaGVkIGxvYWRpbmcuIElzIHRydWUgd2hlbiB0aGUgcmVzb3VyY2UgaGFzIGNvbXBsZXRlbHlcbiAgICAgKiBsb2FkZWQuXG4gICAgICpcbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiaXNDb21wbGV0ZVwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2hhc0ZsYWcoUmVzb3VyY2UuU1RBVFVTX0ZMQUdTLkNPTVBMRVRFKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGVzY3JpYmVzIGlmIHRoaXMgcmVzb3VyY2UgaXMgY3VycmVudGx5IGxvYWRpbmcuIElzIHRydWUgd2hlbiB0aGUgcmVzb3VyY2Ugc3RhcnRzIGxvYWRpbmcsXG4gICAgICogYW5kIGlzIGZhbHNlIGFnYWluIHdoZW4gY29tcGxldGUuXG4gICAgICpcbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiaXNMb2FkaW5nXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5faGFzRmxhZyhSZXNvdXJjZS5TVEFUVVNfRkxBR1MuTE9BRElORyk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFJlc291cmNlO1xufSgpO1xuLyoqXG4gKiBUaGUgdHlwZXMgb2YgcmVzb3VyY2VzIGEgcmVzb3VyY2UgY291bGQgcmVwcmVzZW50LlxuICpcbiAqIEBzdGF0aWNcbiAqIEByZWFkb25seVxuICogQGVudW0ge251bWJlcn1cbiAqL1xuXG5cblJlc291cmNlLlNUQVRVU19GTEFHUyA9IHtcbiAgTk9ORTogMCxcbiAgREFUQV9VUkw6IDEgPDwgMCxcbiAgQ09NUExFVEU6IDEgPDwgMSxcbiAgTE9BRElORzogMSA8PCAyXG59O1xuLyoqXG4gKiBUaGUgdHlwZXMgb2YgcmVzb3VyY2VzIGEgcmVzb3VyY2UgY291bGQgcmVwcmVzZW50LlxuICpcbiAqIEBzdGF0aWNcbiAqIEByZWFkb25seVxuICogQGVudW0ge251bWJlcn1cbiAqL1xuXG5SZXNvdXJjZS5UWVBFID0ge1xuICBVTktOT1dOOiAwLFxuICBKU09OOiAxLFxuICBYTUw6IDIsXG4gIElNQUdFOiAzLFxuICBBVURJTzogNCxcbiAgVklERU86IDUsXG4gIFRFWFQ6IDZcbn07XG4vKipcbiAqIFRoZSB0eXBlcyBvZiBsb2FkaW5nIGEgcmVzb3VyY2UgY2FuIHVzZS5cbiAqXG4gKiBAc3RhdGljXG4gKiBAcmVhZG9ubHlcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKi9cblxuUmVzb3VyY2UuTE9BRF9UWVBFID0ge1xuICAvKiogVXNlcyBYTUxIdHRwUmVxdWVzdCB0byBsb2FkIHRoZSByZXNvdXJjZS4gKi9cbiAgWEhSOiAxLFxuXG4gIC8qKiBVc2VzIGFuIGBJbWFnZWAgb2JqZWN0IHRvIGxvYWQgdGhlIHJlc291cmNlLiAqL1xuICBJTUFHRTogMixcblxuICAvKiogVXNlcyBhbiBgQXVkaW9gIG9iamVjdCB0byBsb2FkIHRoZSByZXNvdXJjZS4gKi9cbiAgQVVESU86IDMsXG5cbiAgLyoqIFVzZXMgYSBgVmlkZW9gIG9iamVjdCB0byBsb2FkIHRoZSByZXNvdXJjZS4gKi9cbiAgVklERU86IDRcbn07XG4vKipcbiAqIFRoZSBYSFIgcmVhZHkgc3RhdGVzLCB1c2VkIGludGVybmFsbHkuXG4gKlxuICogQHN0YXRpY1xuICogQHJlYWRvbmx5XG4gKiBAZW51bSB7c3RyaW5nfVxuICovXG5cblJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFID0ge1xuICAvKiogc3RyaW5nICovXG4gIERFRkFVTFQ6ICd0ZXh0JyxcblxuICAvKiogQXJyYXlCdWZmZXIgKi9cbiAgQlVGRkVSOiAnYXJyYXlidWZmZXInLFxuXG4gIC8qKiBCbG9iICovXG4gIEJMT0I6ICdibG9iJyxcblxuICAvKiogRG9jdW1lbnQgKi9cbiAgRE9DVU1FTlQ6ICdkb2N1bWVudCcsXG5cbiAgLyoqIE9iamVjdCAqL1xuICBKU09OOiAnanNvbicsXG5cbiAgLyoqIFN0cmluZyAqL1xuICBURVhUOiAndGV4dCdcbn07XG5SZXNvdXJjZS5fbG9hZFR5cGVNYXAgPSB7XG4gIC8vIGltYWdlc1xuICBnaWY6IFJlc291cmNlLkxPQURfVFlQRS5JTUFHRSxcbiAgcG5nOiBSZXNvdXJjZS5MT0FEX1RZUEUuSU1BR0UsXG4gIGJtcDogUmVzb3VyY2UuTE9BRF9UWVBFLklNQUdFLFxuICBqcGc6IFJlc291cmNlLkxPQURfVFlQRS5JTUFHRSxcbiAganBlZzogUmVzb3VyY2UuTE9BRF9UWVBFLklNQUdFLFxuICB0aWY6IFJlc291cmNlLkxPQURfVFlQRS5JTUFHRSxcbiAgdGlmZjogUmVzb3VyY2UuTE9BRF9UWVBFLklNQUdFLFxuICB3ZWJwOiBSZXNvdXJjZS5MT0FEX1RZUEUuSU1BR0UsXG4gIHRnYTogUmVzb3VyY2UuTE9BRF9UWVBFLklNQUdFLFxuICBzdmc6IFJlc291cmNlLkxPQURfVFlQRS5JTUFHRSxcbiAgJ3N2Zyt4bWwnOiBSZXNvdXJjZS5MT0FEX1RZUEUuSU1BR0UsXG4gIC8vIGZvciBTVkcgZGF0YSB1cmxzXG4gIC8vIGF1ZGlvXG4gIG1wMzogUmVzb3VyY2UuTE9BRF9UWVBFLkFVRElPLFxuICBvZ2c6IFJlc291cmNlLkxPQURfVFlQRS5BVURJTyxcbiAgd2F2OiBSZXNvdXJjZS5MT0FEX1RZUEUuQVVESU8sXG4gIC8vIHZpZGVvc1xuICBtcDQ6IFJlc291cmNlLkxPQURfVFlQRS5WSURFTyxcbiAgd2VibTogUmVzb3VyY2UuTE9BRF9UWVBFLlZJREVPXG59O1xuUmVzb3VyY2UuX3hoclR5cGVNYXAgPSB7XG4gIC8vIHhtbFxuICB4aHRtbDogUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuRE9DVU1FTlQsXG4gIGh0bWw6IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkRPQ1VNRU5ULFxuICBodG06IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkRPQ1VNRU5ULFxuICB4bWw6IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkRPQ1VNRU5ULFxuICB0bXg6IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkRPQ1VNRU5ULFxuICBzdmc6IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkRPQ1VNRU5ULFxuICAvLyBUaGlzIHdhcyBhZGRlZCB0byBoYW5kbGUgVGlsZWQgVGlsZXNldCBYTUwsIGJ1dCAudHN4IGlzIGFsc28gYSBUeXBlU2NyaXB0IFJlYWN0IENvbXBvbmVudC5cbiAgLy8gU2luY2UgaXQgaXMgd2F5IGxlc3MgbGlrZWx5IGZvciBwZW9wbGUgdG8gYmUgbG9hZGluZyBUeXBlU2NyaXB0IGZpbGVzIGluc3RlYWQgb2YgVGlsZWQgZmlsZXMsXG4gIC8vIHRoaXMgc2hvdWxkIHByb2JhYmx5IGJlIGZpbmUuXG4gIHRzeDogUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuRE9DVU1FTlQsXG4gIC8vIGltYWdlc1xuICBnaWY6IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkJMT0IsXG4gIHBuZzogUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuQkxPQixcbiAgYm1wOiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5CTE9CLFxuICBqcGc6IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkJMT0IsXG4gIGpwZWc6IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkJMT0IsXG4gIHRpZjogUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuQkxPQixcbiAgdGlmZjogUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuQkxPQixcbiAgd2VicDogUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuQkxPQixcbiAgdGdhOiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5CTE9CLFxuICAvLyBqc29uXG4gIGpzb246IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkpTT04sXG4gIC8vIHRleHRcbiAgdGV4dDogUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuVEVYVCxcbiAgdHh0OiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5URVhULFxuICAvLyBmb250c1xuICB0dGY6IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkJVRkZFUixcbiAgb3RmOiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5CVUZGRVJcbn07IC8vIFdlIGNhbid0IHNldCB0aGUgYHNyY2AgYXR0cmlidXRlIHRvIGVtcHR5IHN0cmluZywgc28gb24gYWJvcnQgd2Ugc2V0IGl0IHRvIHRoaXMgMXB4IHRyYW5zcGFyZW50IGdpZlxuXG5SZXNvdXJjZS5FTVBUWV9HSUYgPSAnZGF0YTppbWFnZS9naWY7YmFzZTY0LFIwbEdPRGxoQVFBQkFJQUFBUC8vL3dBQUFDSDVCQUVBQUFBQUxBQUFBQUFCQUFFQUFBSUNSQUVBT3c9PSc7XG4vKipcbiAqIFF1aWNrIGhlbHBlciB0byBzZXQgYSB2YWx1ZSBvbiBvbmUgb2YgdGhlIGV4dGVuc2lvbiBtYXBzLiBFbnN1cmVzIHRoZXJlIGlzIG5vXG4gKiBkb3QgYXQgdGhlIHN0YXJ0IG9mIHRoZSBleHRlbnNpb24uXG4gKlxuICogQGlnbm9yZVxuICogQHBhcmFtIHtvYmplY3R9IG1hcCAtIFRoZSBtYXAgdG8gc2V0IG9uLlxuICogQHBhcmFtIHtzdHJpbmd9IGV4dG5hbWUgLSBUaGUgZXh0ZW5zaW9uIChvciBrZXkpIHRvIHNldC5cbiAqIEBwYXJhbSB7bnVtYmVyfSB2YWwgLSBUaGUgdmFsdWUgdG8gc2V0LlxuICovXG5cbmZ1bmN0aW9uIHNldEV4dE1hcChtYXAsIGV4dG5hbWUsIHZhbCkge1xuICBpZiAoZXh0bmFtZSAmJiBleHRuYW1lLmluZGV4T2YoJy4nKSA9PT0gMCkge1xuICAgIGV4dG5hbWUgPSBleHRuYW1lLnN1YnN0cmluZygxKTtcbiAgfVxuXG4gIGlmICghZXh0bmFtZSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIG1hcFtleHRuYW1lXSA9IHZhbDtcbn1cbi8qKlxuICogUXVpY2sgaGVscGVyIHRvIGdldCBzdHJpbmcgeGhyIHR5cGUuXG4gKlxuICogQGlnbm9yZVxuICogQHBhcmFtIHtYTUxIdHRwUmVxdWVzdHxYRG9tYWluUmVxdWVzdH0geGhyIC0gVGhlIHJlcXVlc3QgdG8gY2hlY2suXG4gKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSB0eXBlLlxuICovXG5cblxuZnVuY3Rpb24gcmVxVHlwZSh4aHIpIHtcbiAgcmV0dXJuIHhoci50b1N0cmluZygpLnJlcGxhY2UoJ29iamVjdCAnLCAnJyk7XG59XG5cbnZhciBfa2V5U3RyID0gJ0FCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky89Jztcbi8qKlxuICogRW5jb2RlcyBiaW5hcnkgaW50byBiYXNlNjQuXG4gKlxuICogQGZ1bmN0aW9uIGVuY29kZUJpbmFyeVxuICogQHBhcmFtIHtzdHJpbmd9IGlucHV0IFRoZSBpbnB1dCBkYXRhIHRvIGVuY29kZS5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSBlbmNvZGVkIGJhc2U2NCBzdHJpbmdcbiAqL1xuXG5mdW5jdGlvbiBlbmNvZGVCaW5hcnkoaW5wdXQpIHtcbiAgdmFyIG91dHB1dCA9ICcnO1xuICB2YXIgaW54ID0gMDtcblxuICB3aGlsZSAoaW54IDwgaW5wdXQubGVuZ3RoKSB7XG4gICAgLy8gRmlsbCBieXRlIGJ1ZmZlciBhcnJheVxuICAgIHZhciBieXRlYnVmZmVyID0gWzAsIDAsIDBdO1xuICAgIHZhciBlbmNvZGVkQ2hhckluZGV4ZXMgPSBbMCwgMCwgMCwgMF07XG5cbiAgICBmb3IgKHZhciBqbnggPSAwOyBqbnggPCBieXRlYnVmZmVyLmxlbmd0aDsgKytqbngpIHtcbiAgICAgIGlmIChpbnggPCBpbnB1dC5sZW5ndGgpIHtcbiAgICAgICAgLy8gdGhyb3cgYXdheSBoaWdoLW9yZGVyIGJ5dGUsIGFzIGRvY3VtZW50ZWQgYXQ6XG4gICAgICAgIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL0VuL1VzaW5nX1hNTEh0dHBSZXF1ZXN0I0hhbmRsaW5nX2JpbmFyeV9kYXRhXG4gICAgICAgIGJ5dGVidWZmZXJbam54XSA9IGlucHV0LmNoYXJDb2RlQXQoaW54KyspICYgMHhmZjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGJ5dGVidWZmZXJbam54XSA9IDA7XG4gICAgICB9XG4gICAgfSAvLyBHZXQgZWFjaCBlbmNvZGVkIGNoYXJhY3RlciwgNiBiaXRzIGF0IGEgdGltZVxuICAgIC8vIGluZGV4IDE6IGZpcnN0IDYgYml0c1xuXG5cbiAgICBlbmNvZGVkQ2hhckluZGV4ZXNbMF0gPSBieXRlYnVmZmVyWzBdID4+IDI7IC8vIGluZGV4IDI6IHNlY29uZCA2IGJpdHMgKDIgbGVhc3Qgc2lnbmlmaWNhbnQgYml0cyBmcm9tIGlucHV0IGJ5dGUgMSArIDQgbW9zdCBzaWduaWZpY2FudCBiaXRzIGZyb20gYnl0ZSAyKVxuXG4gICAgZW5jb2RlZENoYXJJbmRleGVzWzFdID0gKGJ5dGVidWZmZXJbMF0gJiAweDMpIDw8IDQgfCBieXRlYnVmZmVyWzFdID4+IDQ7IC8vIGluZGV4IDM6IHRoaXJkIDYgYml0cyAoNCBsZWFzdCBzaWduaWZpY2FudCBiaXRzIGZyb20gaW5wdXQgYnl0ZSAyICsgMiBtb3N0IHNpZ25pZmljYW50IGJpdHMgZnJvbSBieXRlIDMpXG5cbiAgICBlbmNvZGVkQ2hhckluZGV4ZXNbMl0gPSAoYnl0ZWJ1ZmZlclsxXSAmIDB4MGYpIDw8IDIgfCBieXRlYnVmZmVyWzJdID4+IDY7IC8vIGluZGV4IDM6IGZvcnRoIDYgYml0cyAoNiBsZWFzdCBzaWduaWZpY2FudCBiaXRzIGZyb20gaW5wdXQgYnl0ZSAzKVxuXG4gICAgZW5jb2RlZENoYXJJbmRleGVzWzNdID0gYnl0ZWJ1ZmZlclsyXSAmIDB4M2Y7IC8vIERldGVybWluZSB3aGV0aGVyIHBhZGRpbmcgaGFwcGVuZWQsIGFuZCBhZGp1c3QgYWNjb3JkaW5nbHlcblxuICAgIHZhciBwYWRkaW5nQnl0ZXMgPSBpbnggLSAoaW5wdXQubGVuZ3RoIC0gMSk7XG5cbiAgICBzd2l0Y2ggKHBhZGRpbmdCeXRlcykge1xuICAgICAgY2FzZSAyOlxuICAgICAgICAvLyBTZXQgbGFzdCAyIGNoYXJhY3RlcnMgdG8gcGFkZGluZyBjaGFyXG4gICAgICAgIGVuY29kZWRDaGFySW5kZXhlc1szXSA9IDY0O1xuICAgICAgICBlbmNvZGVkQ2hhckluZGV4ZXNbMl0gPSA2NDtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgMTpcbiAgICAgICAgLy8gU2V0IGxhc3QgY2hhcmFjdGVyIHRvIHBhZGRpbmcgY2hhclxuICAgICAgICBlbmNvZGVkQ2hhckluZGV4ZXNbM10gPSA2NDtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGJyZWFrO1xuICAgICAgLy8gTm8gcGFkZGluZyAtIHByb2NlZWRcbiAgICB9IC8vIE5vdyB3ZSB3aWxsIGdyYWIgZWFjaCBhcHByb3ByaWF0ZSBjaGFyYWN0ZXIgb3V0IG9mIG91ciBrZXlzdHJpbmdcbiAgICAvLyBiYXNlZCBvbiBvdXIgaW5kZXggYXJyYXkgYW5kIGFwcGVuZCBpdCB0byB0aGUgb3V0cHV0IHN0cmluZ1xuXG5cbiAgICBmb3IgKHZhciBfam54ID0gMDsgX2pueCA8IGVuY29kZWRDaGFySW5kZXhlcy5sZW5ndGg7ICsrX2pueCkge1xuICAgICAgb3V0cHV0ICs9IF9rZXlTdHIuY2hhckF0KGVuY29kZWRDaGFySW5kZXhlc1tfam54XSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG91dHB1dDtcbn1cblxudmFyIFVybCA9IHdpbmRvdy5VUkwgfHwgd2luZG93LndlYmtpdFVSTDtcbi8qKlxuICogQSBtaWRkbGV3YXJlIGZvciB0cmFuc2Zvcm1pbmcgWEhSIGxvYWRlZCBCbG9icyBpbnRvIG1vcmUgdXNlZnVsIG9iamVjdHNcbiAqXG4gKiBAbWVtYmVyb2YgbWlkZGxld2FyZVxuICogQGZ1bmN0aW9uIHBhcnNpbmdcbiAqIEBleGFtcGxlXG4gKiBpbXBvcnQgeyBMb2FkZXIsIG1pZGRsZXdhcmUgfSBmcm9tICdyZXNvdXJjZS1sb2FkZXInO1xuICogY29uc3QgbG9hZGVyID0gbmV3IExvYWRlcigpO1xuICogbG9hZGVyLnVzZShtaWRkbGV3YXJlLnBhcnNpbmcpO1xuICogQHBhcmFtIHtSZXNvdXJjZX0gcmVzb3VyY2UgLSBDdXJyZW50IFJlc291cmNlXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBuZXh0IC0gQ2FsbGJhY2sgd2hlbiBjb21wbGV0ZVxuICovXG5cbmZ1bmN0aW9uIHBhcnNpbmcocmVzb3VyY2UsIG5leHQpIHtcbiAgaWYgKCFyZXNvdXJjZS5kYXRhKSB7XG4gICAgbmV4dCgpO1xuICAgIHJldHVybjtcbiAgfSAvLyBpZiB0aGlzIHdhcyBhbiBYSFIgbG9hZCBvZiBhIGJsb2JcblxuXG4gIGlmIChyZXNvdXJjZS54aHIgJiYgcmVzb3VyY2UueGhyVHlwZSA9PT0gUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuQkxPQikge1xuICAgIC8vIGlmIHRoZXJlIGlzIG5vIGJsb2Igc3VwcG9ydCB3ZSBwcm9iYWJseSBnb3QgYSBiaW5hcnkgc3RyaW5nIGJhY2tcbiAgICBpZiAoIXdpbmRvdy5CbG9iIHx8IHR5cGVvZiByZXNvdXJjZS5kYXRhID09PSAnc3RyaW5nJykge1xuICAgICAgdmFyIHR5cGUgPSByZXNvdXJjZS54aHIuZ2V0UmVzcG9uc2VIZWFkZXIoJ2NvbnRlbnQtdHlwZScpOyAvLyB0aGlzIGlzIGFuIGltYWdlLCBjb252ZXJ0IHRoZSBiaW5hcnkgc3RyaW5nIGludG8gYSBkYXRhIHVybFxuXG4gICAgICBpZiAodHlwZSAmJiB0eXBlLmluZGV4T2YoJ2ltYWdlJykgPT09IDApIHtcbiAgICAgICAgcmVzb3VyY2UuZGF0YSA9IG5ldyBJbWFnZSgpO1xuICAgICAgICByZXNvdXJjZS5kYXRhLnNyYyA9IFwiZGF0YTpcIiArIHR5cGUgKyBcIjtiYXNlNjQsXCIgKyBlbmNvZGVCaW5hcnkocmVzb3VyY2UueGhyLnJlc3BvbnNlVGV4dCk7XG4gICAgICAgIHJlc291cmNlLnR5cGUgPSBSZXNvdXJjZS5UWVBFLklNQUdFOyAvLyB3YWl0IHVudGlsIHRoZSBpbWFnZSBsb2FkcyBhbmQgdGhlbiBjYWxsYmFja1xuXG4gICAgICAgIHJlc291cmNlLmRhdGEub25sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJlc291cmNlLmRhdGEub25sb2FkID0gbnVsbDtcbiAgICAgICAgICBuZXh0KCk7XG4gICAgICAgIH07IC8vIG5leHQgd2lsbCBiZSBjYWxsZWQgb24gbG9hZFxuXG5cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH0gLy8gaWYgY29udGVudCB0eXBlIHNheXMgdGhpcyBpcyBhbiBpbWFnZSwgdGhlbiB3ZSBzaG91bGQgdHJhbnNmb3JtIHRoZSBibG9iIGludG8gYW4gSW1hZ2Ugb2JqZWN0XG4gICAgZWxzZSBpZiAocmVzb3VyY2UuZGF0YS50eXBlLmluZGV4T2YoJ2ltYWdlJykgPT09IDApIHtcbiAgICAgICAgdmFyIHNyYyA9IFVybC5jcmVhdGVPYmplY3RVUkwocmVzb3VyY2UuZGF0YSk7XG4gICAgICAgIHJlc291cmNlLmJsb2IgPSByZXNvdXJjZS5kYXRhO1xuICAgICAgICByZXNvdXJjZS5kYXRhID0gbmV3IEltYWdlKCk7XG4gICAgICAgIHJlc291cmNlLmRhdGEuc3JjID0gc3JjO1xuICAgICAgICByZXNvdXJjZS50eXBlID0gUmVzb3VyY2UuVFlQRS5JTUFHRTsgLy8gY2xlYW51cCB0aGUgbm8gbG9uZ2VyIHVzZWQgYmxvYiBhZnRlciB0aGUgaW1hZ2UgbG9hZHNcbiAgICAgICAgLy8gVE9ETzogSXMgdGhpcyBjb3JyZWN0PyBXaWxsIHRoZSBpbWFnZSBiZSBpbnZhbGlkIGFmdGVyIHJldm9raW5nP1xuXG4gICAgICAgIHJlc291cmNlLmRhdGEub25sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIFVybC5yZXZva2VPYmplY3RVUkwoc3JjKTtcbiAgICAgICAgICByZXNvdXJjZS5kYXRhLm9ubG9hZCA9IG51bGw7XG4gICAgICAgICAgbmV4dCgpO1xuICAgICAgICB9OyAvLyBuZXh0IHdpbGwgYmUgY2FsbGVkIG9uIGxvYWQuXG5cblxuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gIH1cblxuICBuZXh0KCk7XG59XG5cbi8qKlxuICogQG5hbWVzcGFjZSBtaWRkbGV3YXJlXG4gKi9cblxudmFyIGluZGV4ID0gKHtcbiAgICBjYWNoaW5nOiBjYWNoaW5nLFxuICAgIHBhcnNpbmc6IHBhcnNpbmdcbn0pO1xuXG52YXIgTUFYX1BST0dSRVNTID0gMTAwO1xudmFyIHJneEV4dHJhY3RVcmxIYXNoID0gLygjW1xcdy1dKyk/JC87XG4vKipcbiAqIE1hbmFnZXMgdGhlIHN0YXRlIGFuZCBsb2FkaW5nIG9mIG11bHRpcGxlIHJlc291cmNlcyB0byBsb2FkLlxuICpcbiAqIEBjbGFzc1xuICovXG5cbnZhciBMb2FkZXIgPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKCkge1xuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd9IFtiYXNlVXJsPScnXSAtIFRoZSBiYXNlIHVybCBmb3IgYWxsIHJlc291cmNlcyBsb2FkZWQgYnkgdGhpcyBsb2FkZXIuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbY29uY3VycmVuY3k9MTBdIC0gVGhlIG51bWJlciBvZiByZXNvdXJjZXMgdG8gbG9hZCBjb25jdXJyZW50bHkuXG4gICAqL1xuICBmdW5jdGlvbiBMb2FkZXIoYmFzZVVybCwgY29uY3VycmVuY3kpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgaWYgKGJhc2VVcmwgPT09IHZvaWQgMCkge1xuICAgICAgYmFzZVVybCA9ICcnO1xuICAgIH1cblxuICAgIGlmIChjb25jdXJyZW5jeSA9PT0gdm9pZCAwKSB7XG4gICAgICBjb25jdXJyZW5jeSA9IDEwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIHVybCBmb3IgYWxsIHJlc291cmNlcyBsb2FkZWQgYnkgdGhpcyBsb2FkZXIuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICovXG4gICAgdGhpcy5iYXNlVXJsID0gYmFzZVVybDtcbiAgICAvKipcbiAgICAgKiBUaGUgcHJvZ3Jlc3MgcGVyY2VudCBvZiB0aGUgbG9hZGVyIGdvaW5nIHRocm91Z2ggdGhlIHF1ZXVlLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDBcbiAgICAgKi9cblxuICAgIHRoaXMucHJvZ3Jlc3MgPSAwO1xuICAgIC8qKlxuICAgICAqIExvYWRpbmcgc3RhdGUgb2YgdGhlIGxvYWRlciwgdHJ1ZSBpZiBpdCBpcyBjdXJyZW50bHkgbG9hZGluZyByZXNvdXJjZXMuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICovXG5cbiAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTtcbiAgICAvKipcbiAgICAgKiBBIHF1ZXJ5c3RyaW5nIHRvIGFwcGVuZCB0byBldmVyeSBVUkwgYWRkZWQgdG8gdGhlIGxvYWRlci5cbiAgICAgKlxuICAgICAqIFRoaXMgc2hvdWxkIGJlIGEgdmFsaWQgcXVlcnkgc3RyaW5nICp3aXRob3V0KiB0aGUgcXVlc3Rpb24tbWFyayAoYD9gKS4gVGhlIGxvYWRlciB3aWxsXG4gICAgICogYWxzbyAqbm90KiBlc2NhcGUgdmFsdWVzIGZvciB5b3UuIE1ha2Ugc3VyZSB0byBlc2NhcGUgeW91ciBwYXJhbWV0ZXJzIHdpdGhcbiAgICAgKiBbYGVuY29kZVVSSUNvbXBvbmVudGBdKGh0dHBzOi8vbWRuLmlvL2VuY29kZVVSSUNvbXBvbmVudCkgYmVmb3JlIGFzc2lnbmluZyB0aGlzIHByb3BlcnR5LlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBsb2FkZXIgPSBuZXcgTG9hZGVyKCk7XG4gICAgICpcbiAgICAgKiBsb2FkZXIuZGVmYXVsdFF1ZXJ5U3RyaW5nID0gJ3VzZXI9bWUmcGFzc3dvcmQ9c2VjcmV0JztcbiAgICAgKlxuICAgICAqIC8vIFRoaXMgd2lsbCByZXF1ZXN0ICdpbWFnZS5wbmc/dXNlcj1tZSZwYXNzd29yZD1zZWNyZXQnXG4gICAgICogbG9hZGVyLmFkZCgnaW1hZ2UucG5nJykubG9hZCgpO1xuICAgICAqXG4gICAgICogbG9hZGVyLnJlc2V0KCk7XG4gICAgICpcbiAgICAgKiAvLyBUaGlzIHdpbGwgcmVxdWVzdCAnaW1hZ2UucG5nP3Y9MSZ1c2VyPW1lJnBhc3N3b3JkPXNlY3JldCdcbiAgICAgKiBsb2FkZXIuYWRkKCdpYW1nZS5wbmc/dj0xJykubG9hZCgpO1xuICAgICAqXG4gICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAqIEBkZWZhdWx0ICcnXG4gICAgICovXG5cbiAgICB0aGlzLmRlZmF1bHRRdWVyeVN0cmluZyA9ICcnO1xuICAgIC8qKlxuICAgICAqIFRoZSBtaWRkbGV3YXJlIHRvIHJ1biBiZWZvcmUgbG9hZGluZyBlYWNoIHJlc291cmNlLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbWVtYmVyIHtmdW5jdGlvbltdfVxuICAgICAqL1xuXG4gICAgdGhpcy5fYmVmb3JlTWlkZGxld2FyZSA9IFtdO1xuICAgIC8qKlxuICAgICAqIFRoZSBtaWRkbGV3YXJlIHRvIHJ1biBhZnRlciBsb2FkaW5nIGVhY2ggcmVzb3VyY2UuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBtZW1iZXIge2Z1bmN0aW9uW119XG4gICAgICovXG5cbiAgICB0aGlzLl9hZnRlck1pZGRsZXdhcmUgPSBbXTtcbiAgICAvKipcbiAgICAgKiBUaGUgdHJhY2tzIHRoZSByZXNvdXJjZXMgd2UgYXJlIGN1cnJlbnRseSBjb21wbGV0aW5nIHBhcnNpbmcgZm9yLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbWVtYmVyIHtSZXNvdXJjZVtdfVxuICAgICAqL1xuXG4gICAgdGhpcy5fcmVzb3VyY2VzUGFyc2luZyA9IFtdO1xuICAgIC8qKlxuICAgICAqIFRoZSBgX2xvYWRSZXNvdXJjZWAgZnVuY3Rpb24gYm91bmQgd2l0aCB0aGlzIG9iamVjdCBjb250ZXh0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbWVtYmVyIHtmdW5jdGlvbn1cbiAgICAgKiBAcGFyYW0ge1Jlc291cmNlfSByIC0gVGhlIHJlc291cmNlIHRvIGxvYWRcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBkIC0gVGhlIGRlcXVldWUgZnVuY3Rpb25cbiAgICAgKiBAcmV0dXJuIHt1bmRlZmluZWR9XG4gICAgICovXG5cbiAgICB0aGlzLl9ib3VuZExvYWRSZXNvdXJjZSA9IGZ1bmN0aW9uIChyLCBkKSB7XG4gICAgICByZXR1cm4gX3RoaXMuX2xvYWRSZXNvdXJjZShyLCBkKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRoZSByZXNvdXJjZXMgd2FpdGluZyB0byBiZSBsb2FkZWQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBtZW1iZXIge1Jlc291cmNlW119XG4gICAgICovXG5cblxuICAgIHRoaXMuX3F1ZXVlID0gcXVldWUodGhpcy5fYm91bmRMb2FkUmVzb3VyY2UsIGNvbmN1cnJlbmN5KTtcblxuICAgIHRoaXMuX3F1ZXVlLnBhdXNlKCk7XG4gICAgLyoqXG4gICAgICogQWxsIHRoZSByZXNvdXJjZXMgZm9yIHRoaXMgbG9hZGVyIGtleWVkIGJ5IG5hbWUuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtvYmplY3Q8c3RyaW5nLCBSZXNvdXJjZT59XG4gICAgICovXG5cblxuICAgIHRoaXMucmVzb3VyY2VzID0ge307XG4gICAgLyoqXG4gICAgICogRGlzcGF0Y2hlZCBvbmNlIHBlciBsb2FkZWQgb3IgZXJyb3JlZCByZXNvdXJjZS5cbiAgICAgKlxuICAgICAqIFRoZSBjYWxsYmFjayBsb29rcyBsaWtlIHtAbGluayBMb2FkZXIuT25Qcm9ncmVzc1NpZ25hbH0uXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtTaWduYWw8TG9hZGVyLk9uUHJvZ3Jlc3NTaWduYWw+fVxuICAgICAqL1xuXG4gICAgdGhpcy5vblByb2dyZXNzID0gbmV3IFNpZ25hbCgpO1xuICAgIC8qKlxuICAgICAqIERpc3BhdGNoZWQgb25jZSBwZXIgZXJyb3JlZCByZXNvdXJjZS5cbiAgICAgKlxuICAgICAqIFRoZSBjYWxsYmFjayBsb29rcyBsaWtlIHtAbGluayBMb2FkZXIuT25FcnJvclNpZ25hbH0uXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtTaWduYWw8TG9hZGVyLk9uRXJyb3JTaWduYWw+fVxuICAgICAqL1xuXG4gICAgdGhpcy5vbkVycm9yID0gbmV3IFNpZ25hbCgpO1xuICAgIC8qKlxuICAgICAqIERpc3BhdGNoZWQgb25jZSBwZXIgbG9hZGVkIHJlc291cmNlLlxuICAgICAqXG4gICAgICogVGhlIGNhbGxiYWNrIGxvb2tzIGxpa2Uge0BsaW5rIExvYWRlci5PbkxvYWRTaWduYWx9LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7U2lnbmFsPExvYWRlci5PbkxvYWRTaWduYWw+fVxuICAgICAqL1xuXG4gICAgdGhpcy5vbkxvYWQgPSBuZXcgU2lnbmFsKCk7XG4gICAgLyoqXG4gICAgICogRGlzcGF0Y2hlZCB3aGVuIHRoZSBsb2FkZXIgYmVnaW5zIHRvIHByb2Nlc3MgdGhlIHF1ZXVlLlxuICAgICAqXG4gICAgICogVGhlIGNhbGxiYWNrIGxvb2tzIGxpa2Uge0BsaW5rIExvYWRlci5PblN0YXJ0U2lnbmFsfS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1NpZ25hbDxMb2FkZXIuT25TdGFydFNpZ25hbD59XG4gICAgICovXG5cbiAgICB0aGlzLm9uU3RhcnQgPSBuZXcgU2lnbmFsKCk7XG4gICAgLyoqXG4gICAgICogRGlzcGF0Y2hlZCB3aGVuIHRoZSBxdWV1ZWQgcmVzb3VyY2VzIGFsbCBsb2FkLlxuICAgICAqXG4gICAgICogVGhlIGNhbGxiYWNrIGxvb2tzIGxpa2Uge0BsaW5rIExvYWRlci5PbkNvbXBsZXRlU2lnbmFsfS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1NpZ25hbDxMb2FkZXIuT25Db21wbGV0ZVNpZ25hbD59XG4gICAgICovXG5cbiAgICB0aGlzLm9uQ29tcGxldGUgPSBuZXcgU2lnbmFsKCk7IC8vIEFkZCBkZWZhdWx0IGJlZm9yZSBtaWRkbGV3YXJlXG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IExvYWRlci5fZGVmYXVsdEJlZm9yZU1pZGRsZXdhcmUubGVuZ3RoOyArK2kpIHtcbiAgICAgIHRoaXMucHJlKExvYWRlci5fZGVmYXVsdEJlZm9yZU1pZGRsZXdhcmVbaV0pO1xuICAgIH0gLy8gQWRkIGRlZmF1bHQgYWZ0ZXIgbWlkZGxld2FyZVxuXG5cbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgTG9hZGVyLl9kZWZhdWx0QWZ0ZXJNaWRkbGV3YXJlLmxlbmd0aDsgKytfaSkge1xuICAgICAgdGhpcy51c2UoTG9hZGVyLl9kZWZhdWx0QWZ0ZXJNaWRkbGV3YXJlW19pXSk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBXaGVuIHRoZSBwcm9ncmVzcyBjaGFuZ2VzIHRoZSBsb2FkZXIgYW5kIHJlc291cmNlIGFyZSBkaXNhcHRjaGVkLlxuICAgKlxuICAgKiBAbWVtYmVyb2YgTG9hZGVyXG4gICAqIEBjYWxsYmFjayBPblByb2dyZXNzU2lnbmFsXG4gICAqIEBwYXJhbSB7TG9hZGVyfSBsb2FkZXIgLSBUaGUgbG9hZGVyIHRoZSBwcm9ncmVzcyBpcyBhZHZhbmNpbmcgb24uXG4gICAqIEBwYXJhbSB7UmVzb3VyY2V9IHJlc291cmNlIC0gVGhlIHJlc291cmNlIHRoYXQgaGFzIGNvbXBsZXRlZCBvciBmYWlsZWQgdG8gY2F1c2UgdGhlIHByb2dyZXNzIHRvIGFkdmFuY2UuXG4gICAqL1xuXG4gIC8qKlxuICAgKiBXaGVuIGFuIGVycm9yIG9jY3VycnMgdGhlIGxvYWRlciBhbmQgcmVzb3VyY2UgYXJlIGRpc2FwdGNoZWQuXG4gICAqXG4gICAqIEBtZW1iZXJvZiBMb2FkZXJcbiAgICogQGNhbGxiYWNrIE9uRXJyb3JTaWduYWxcbiAgICogQHBhcmFtIHtMb2FkZXJ9IGxvYWRlciAtIFRoZSBsb2FkZXIgdGhlIGVycm9yIGhhcHBlbmVkIGluLlxuICAgKiBAcGFyYW0ge1Jlc291cmNlfSByZXNvdXJjZSAtIFRoZSByZXNvdXJjZSB0aGF0IGNhdXNlZCB0aGUgZXJyb3IuXG4gICAqL1xuXG4gIC8qKlxuICAgKiBXaGVuIGEgbG9hZCBjb21wbGV0ZXMgdGhlIGxvYWRlciBhbmQgcmVzb3VyY2UgYXJlIGRpc2FwdGNoZWQuXG4gICAqXG4gICAqIEBtZW1iZXJvZiBMb2FkZXJcbiAgICogQGNhbGxiYWNrIE9uTG9hZFNpZ25hbFxuICAgKiBAcGFyYW0ge0xvYWRlcn0gbG9hZGVyIC0gVGhlIGxvYWRlciB0aGF0IGxhb2RlZCB0aGUgcmVzb3VyY2UuXG4gICAqIEBwYXJhbSB7UmVzb3VyY2V9IHJlc291cmNlIC0gVGhlIHJlc291cmNlIHRoYXQgaGFzIGNvbXBsZXRlZCBsb2FkaW5nLlxuICAgKi9cblxuICAvKipcbiAgICogV2hlbiB0aGUgbG9hZGVyIHN0YXJ0cyBsb2FkaW5nIHJlc291cmNlcyBpdCBkaXNwYXRjaGVzIHRoaXMgY2FsbGJhY2suXG4gICAqXG4gICAqIEBtZW1iZXJvZiBMb2FkZXJcbiAgICogQGNhbGxiYWNrIE9uU3RhcnRTaWduYWxcbiAgICogQHBhcmFtIHtMb2FkZXJ9IGxvYWRlciAtIFRoZSBsb2FkZXIgdGhhdCBoYXMgc3RhcnRlZCBsb2FkaW5nIHJlc291cmNlcy5cbiAgICovXG5cbiAgLyoqXG4gICAqIFdoZW4gdGhlIGxvYWRlciBjb21wbGV0ZXMgbG9hZGluZyByZXNvdXJjZXMgaXQgZGlzcGF0Y2hlcyB0aGlzIGNhbGxiYWNrLlxuICAgKlxuICAgKiBAbWVtYmVyb2YgTG9hZGVyXG4gICAqIEBjYWxsYmFjayBPbkNvbXBsZXRlU2lnbmFsXG4gICAqIEBwYXJhbSB7TG9hZGVyfSBsb2FkZXIgLSBUaGUgbG9hZGVyIHRoYXQgaGFzIGZpbmlzaGVkIGxvYWRpbmcgcmVzb3VyY2VzLlxuICAgKi9cblxuICAvKipcbiAgICogT3B0aW9ucyBmb3IgYSBjYWxsIHRvIGAuYWRkKClgLlxuICAgKlxuICAgKiBAc2VlIExvYWRlciNhZGRcbiAgICpcbiAgICogQHR5cGVkZWYge29iamVjdH0gSUFkZE9wdGlvbnNcbiAgICogQHByb3BlcnR5IHtzdHJpbmd9IFtuYW1lXSAtIFRoZSBuYW1lIG9mIHRoZSByZXNvdXJjZSB0byBsb2FkLCBpZiBub3QgcGFzc2VkIHRoZSB1cmwgaXMgdXNlZC5cbiAgICogQHByb3BlcnR5IHtzdHJpbmd9IFtrZXldIC0gQWxpYXMgZm9yIGBuYW1lYC5cbiAgICogQHByb3BlcnR5IHtzdHJpbmd9IFt1cmxdIC0gVGhlIHVybCBmb3IgdGhpcyByZXNvdXJjZSwgcmVsYXRpdmUgdG8gdGhlIGJhc2VVcmwgb2YgdGhpcyBsb2FkZXIuXG4gICAqIEBwcm9wZXJ0eSB7c3RyaW5nfGJvb2xlYW59IFtjcm9zc09yaWdpbl0gLSBJcyB0aGlzIHJlcXVlc3QgY3Jvc3Mtb3JpZ2luPyBEZWZhdWx0IGlzIHRvXG4gICAqICAgICAgZGV0ZXJtaW5lIGF1dG9tYXRpY2FsbHkuXG4gICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbdGltZW91dD0wXSAtIEEgdGltZW91dCBpbiBtaWxsaXNlY29uZHMgZm9yIHRoZSBsb2FkLiBJZiB0aGUgbG9hZCB0YWtlc1xuICAgKiAgICAgIGxvbmdlciB0aGFuIHRoaXMgdGltZSBpdCBpcyBjYW5jZWxsZWQgYW5kIHRoZSBsb2FkIGlzIGNvbnNpZGVyZWQgYSBmYWlsdXJlLiBJZiB0aGlzIHZhbHVlIGlzXG4gICAqICAgICAgc2V0IHRvIGAwYCB0aGVuIHRoZXJlIGlzIG5vIGV4cGxpY2l0IHRpbWVvdXQuXG4gICAqIEBwcm9wZXJ0eSB7UmVzb3VyY2UuTE9BRF9UWVBFfSBbbG9hZFR5cGU9UmVzb3VyY2UuTE9BRF9UWVBFLlhIUl0gLSBIb3cgc2hvdWxkIHRoaXMgcmVzb3VyY2VcbiAgICogICAgICBiZSBsb2FkZWQ/XG4gICAqIEBwcm9wZXJ0eSB7UmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEV9IFt4aHJUeXBlPVJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkRFRkFVTFRdIC0gSG93XG4gICAqICAgICAgc2hvdWxkIHRoZSBkYXRhIGJlaW5nIGxvYWRlZCBiZSBpbnRlcnByZXRlZCB3aGVuIHVzaW5nIFhIUj9cbiAgICogQHByb3BlcnR5IHtSZXNvdXJjZS5PbkNvbXBsZXRlU2lnbmFsfSBbb25Db21wbGV0ZV0gLSBDYWxsYmFjayB0byBhZGQgYW4gYW4gb25Db21wbGV0ZSBzaWduYWwgaXN0ZW5lci5cbiAgICogQHByb3BlcnR5IHtSZXNvdXJjZS5PbkNvbXBsZXRlU2lnbmFsfSBbY2FsbGJhY2tdIC0gQWxpYXMgZm9yIGBvbkNvbXBsZXRlYC5cbiAgICogQHByb3BlcnR5IHtSZXNvdXJjZS5JTWV0YWRhdGF9IFttZXRhZGF0YV0gLSBFeHRyYSBjb25maWd1cmF0aW9uIGZvciBtaWRkbGV3YXJlIGFuZCB0aGUgUmVzb3VyY2Ugb2JqZWN0LlxuICAgKi9cblxuICAvKiBlc2xpbnQtZGlzYWJsZSByZXF1aXJlLWpzZG9jLHZhbGlkLWpzZG9jICovXG5cbiAgLyoqXG4gICAqIEFkZHMgYSByZXNvdXJjZSAob3IgbXVsdGlwbGUgcmVzb3VyY2VzKSB0byB0aGUgbG9hZGVyIHF1ZXVlLlxuICAgKlxuICAgKiBUaGlzIGZ1bmN0aW9uIGNhbiB0YWtlIGEgd2lkZSB2YXJpZXR5IG9mIGRpZmZlcmVudCBwYXJhbWV0ZXJzLiBUaGUgb25seSB0aGluZyB0aGF0IGlzIGFsd2F5c1xuICAgKiByZXF1aXJlZCB0aGUgdXJsIHRvIGxvYWQuIEFsbCB0aGUgZm9sbG93aW5nIHdpbGwgd29yazpcbiAgICpcbiAgICogYGBganNcbiAgICogbG9hZGVyXG4gICAqICAgICAvLyBub3JtYWwgcGFyYW0gc3ludGF4XG4gICAqICAgICAuYWRkKCdrZXknLCAnaHR0cDovLy4uLicsIGZ1bmN0aW9uICgpIHt9KVxuICAgKiAgICAgLmFkZCgnaHR0cDovLy4uLicsIGZ1bmN0aW9uICgpIHt9KVxuICAgKiAgICAgLmFkZCgnaHR0cDovLy4uLicpXG4gICAqXG4gICAqICAgICAvLyBvYmplY3Qgc3ludGF4XG4gICAqICAgICAuYWRkKHtcbiAgICogICAgICAgICBuYW1lOiAna2V5MicsXG4gICAqICAgICAgICAgdXJsOiAnaHR0cDovLy4uLidcbiAgICogICAgIH0sIGZ1bmN0aW9uICgpIHt9KVxuICAgKiAgICAgLmFkZCh7XG4gICAqICAgICAgICAgdXJsOiAnaHR0cDovLy4uLidcbiAgICogICAgIH0sIGZ1bmN0aW9uICgpIHt9KVxuICAgKiAgICAgLmFkZCh7XG4gICAqICAgICAgICAgbmFtZTogJ2tleTMnLFxuICAgKiAgICAgICAgIHVybDogJ2h0dHA6Ly8uLi4nXG4gICAqICAgICAgICAgb25Db21wbGV0ZTogZnVuY3Rpb24gKCkge31cbiAgICogICAgIH0pXG4gICAqICAgICAuYWRkKHtcbiAgICogICAgICAgICB1cmw6ICdodHRwczovLy4uLicsXG4gICAqICAgICAgICAgb25Db21wbGV0ZTogZnVuY3Rpb24gKCkge30sXG4gICAqICAgICAgICAgY3Jvc3NPcmlnaW46IHRydWVcbiAgICogICAgIH0pXG4gICAqXG4gICAqICAgICAvLyB5b3UgY2FuIGFsc28gcGFzcyBhbiBhcnJheSBvZiBvYmplY3RzIG9yIHVybHMgb3IgYm90aFxuICAgKiAgICAgLmFkZChbXG4gICAqICAgICAgICAgeyBuYW1lOiAna2V5NCcsIHVybDogJ2h0dHA6Ly8uLi4nLCBvbkNvbXBsZXRlOiBmdW5jdGlvbiAoKSB7fSB9LFxuICAgKiAgICAgICAgIHsgdXJsOiAnaHR0cDovLy4uLicsIG9uQ29tcGxldGU6IGZ1bmN0aW9uICgpIHt9IH0sXG4gICAqICAgICAgICAgJ2h0dHA6Ly8uLi4nXG4gICAqICAgICBdKVxuICAgKlxuICAgKiAgICAgLy8gYW5kIHlvdSBjYW4gdXNlIGJvdGggcGFyYW1zIGFuZCBvcHRpb25zXG4gICAqICAgICAuYWRkKCdrZXknLCAnaHR0cDovLy4uLicsIHsgY3Jvc3NPcmlnaW46IHRydWUgfSwgZnVuY3Rpb24gKCkge30pXG4gICAqICAgICAuYWRkKCdodHRwOi8vLi4uJywgeyBjcm9zc09yaWdpbjogdHJ1ZSB9LCBmdW5jdGlvbiAoKSB7fSk7XG4gICAqIGBgYFxuICAgKlxuICAgKiBAZnVuY3Rpb25cbiAgICogQHZhcmlhdGlvbiAxXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIC0gVGhlIG5hbWUgb2YgdGhlIHJlc291cmNlIHRvIGxvYWQuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgLSBUaGUgdXJsIGZvciB0aGlzIHJlc291cmNlLCByZWxhdGl2ZSB0byB0aGUgYmFzZVVybCBvZiB0aGlzIGxvYWRlci5cbiAgICogQHBhcmFtIHtSZXNvdXJjZS5PbkNvbXBsZXRlU2lnbmFsfSBbY2FsbGJhY2tdIC0gRnVuY3Rpb24gdG8gY2FsbCB3aGVuIHRoaXMgc3BlY2lmaWMgcmVzb3VyY2UgY29tcGxldGVzIGxvYWRpbmcuXG4gICAqIEByZXR1cm4ge3RoaXN9IFJldHVybnMgaXRzZWxmLlxuICAgKi9cblxuICAvKipcbiAgKiBAZnVuY3Rpb25cbiAgKiBAdmFyaWF0aW9uIDJcbiAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSAtIFRoZSBuYW1lIG9mIHRoZSByZXNvdXJjZSB0byBsb2FkLlxuICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgLSBUaGUgdXJsIGZvciB0aGlzIHJlc291cmNlLCByZWxhdGl2ZSB0byB0aGUgYmFzZVVybCBvZiB0aGlzIGxvYWRlci5cbiAgKiBAcGFyYW0ge0lBZGRPcHRpb25zfSBbb3B0aW9uc10gLSBUaGUgb3B0aW9ucyBmb3IgdGhlIGxvYWQuXG4gICogQHBhcmFtIHtSZXNvdXJjZS5PbkNvbXBsZXRlU2lnbmFsfSBbY2FsbGJhY2tdIC0gRnVuY3Rpb24gdG8gY2FsbCB3aGVuIHRoaXMgc3BlY2lmaWMgcmVzb3VyY2UgY29tcGxldGVzIGxvYWRpbmcuXG4gICogQHJldHVybiB7dGhpc30gUmV0dXJucyBpdHNlbGYuXG4gICovXG5cbiAgLyoqXG4gICogQGZ1bmN0aW9uXG4gICogQHZhcmlhdGlvbiAzXG4gICogQHBhcmFtIHtzdHJpbmd9IHVybCAtIFRoZSB1cmwgZm9yIHRoaXMgcmVzb3VyY2UsIHJlbGF0aXZlIHRvIHRoZSBiYXNlVXJsIG9mIHRoaXMgbG9hZGVyLlxuICAqIEBwYXJhbSB7UmVzb3VyY2UuT25Db21wbGV0ZVNpZ25hbH0gW2NhbGxiYWNrXSAtIEZ1bmN0aW9uIHRvIGNhbGwgd2hlbiB0aGlzIHNwZWNpZmljIHJlc291cmNlIGNvbXBsZXRlcyBsb2FkaW5nLlxuICAqIEByZXR1cm4ge3RoaXN9IFJldHVybnMgaXRzZWxmLlxuICAqL1xuXG4gIC8qKlxuICAqIEBmdW5jdGlvblxuICAqIEB2YXJpYXRpb24gNFxuICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgLSBUaGUgdXJsIGZvciB0aGlzIHJlc291cmNlLCByZWxhdGl2ZSB0byB0aGUgYmFzZVVybCBvZiB0aGlzIGxvYWRlci5cbiAgKiBAcGFyYW0ge0lBZGRPcHRpb25zfSBbb3B0aW9uc10gLSBUaGUgb3B0aW9ucyBmb3IgdGhlIGxvYWQuXG4gICogQHBhcmFtIHtSZXNvdXJjZS5PbkNvbXBsZXRlU2lnbmFsfSBbY2FsbGJhY2tdIC0gRnVuY3Rpb24gdG8gY2FsbCB3aGVuIHRoaXMgc3BlY2lmaWMgcmVzb3VyY2UgY29tcGxldGVzIGxvYWRpbmcuXG4gICogQHJldHVybiB7dGhpc30gUmV0dXJucyBpdHNlbGYuXG4gICovXG5cbiAgLyoqXG4gICogQGZ1bmN0aW9uXG4gICogQHZhcmlhdGlvbiA1XG4gICogQHBhcmFtIHtJQWRkT3B0aW9uc30gb3B0aW9ucyAtIFRoZSBvcHRpb25zIGZvciB0aGUgbG9hZC4gVGhpcyBvYmplY3QgbXVzdCBjb250YWluIGEgYHVybGAgcHJvcGVydHkuXG4gICogQHBhcmFtIHtSZXNvdXJjZS5PbkNvbXBsZXRlU2lnbmFsfSBbY2FsbGJhY2tdIC0gRnVuY3Rpb24gdG8gY2FsbCB3aGVuIHRoaXMgc3BlY2lmaWMgcmVzb3VyY2UgY29tcGxldGVzIGxvYWRpbmcuXG4gICogQHJldHVybiB7dGhpc30gUmV0dXJucyBpdHNlbGYuXG4gICovXG5cbiAgLyoqXG4gICogQGZ1bmN0aW9uXG4gICogQHZhcmlhdGlvbiA2XG4gICogQHBhcmFtIHtBcnJheTxJQWRkT3B0aW9uc3xzdHJpbmc+fSByZXNvdXJjZXMgLSBBbiBhcnJheSBvZiByZXNvdXJjZXMgdG8gbG9hZCwgd2hlcmUgZWFjaCBpc1xuICAqICAgICAgZWl0aGVyIGFuIG9iamVjdCB3aXRoIHRoZSBvcHRpb25zIG9yIGEgc3RyaW5nIHVybC4gSWYgeW91IHBhc3MgYW4gb2JqZWN0LCBpdCBtdXN0IGNvbnRhaW4gYSBgdXJsYCBwcm9wZXJ0eS5cbiAgKiBAcGFyYW0ge1Jlc291cmNlLk9uQ29tcGxldGVTaWduYWx9IFtjYWxsYmFja10gLSBGdW5jdGlvbiB0byBjYWxsIHdoZW4gdGhpcyBzcGVjaWZpYyByZXNvdXJjZSBjb21wbGV0ZXMgbG9hZGluZy5cbiAgKiBAcmV0dXJuIHt0aGlzfSBSZXR1cm5zIGl0c2VsZi5cbiAgKi9cblxuXG4gIHZhciBfcHJvdG8gPSBMb2FkZXIucHJvdG90eXBlO1xuXG4gIF9wcm90by5hZGQgPSBmdW5jdGlvbiBhZGQobmFtZSwgdXJsLCBvcHRpb25zLCBjYikge1xuICAgIC8vIHNwZWNpYWwgY2FzZSBvZiBhbiBhcnJheSBvZiBvYmplY3RzIG9yIHVybHNcbiAgICBpZiAoQXJyYXkuaXNBcnJheShuYW1lKSkge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuYW1lLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIHRoaXMuYWRkKG5hbWVbaV0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9IC8vIGlmIGFuIG9iamVjdCBpcyBwYXNzZWQgaW5zdGVhZCBvZiBwYXJhbXNcblxuXG4gICAgaWYgKHR5cGVvZiBuYW1lID09PSAnb2JqZWN0Jykge1xuICAgICAgY2IgPSB1cmwgfHwgbmFtZS5jYWxsYmFjayB8fCBuYW1lLm9uQ29tcGxldGU7XG4gICAgICBvcHRpb25zID0gbmFtZTtcbiAgICAgIHVybCA9IG5hbWUudXJsO1xuICAgICAgbmFtZSA9IG5hbWUubmFtZSB8fCBuYW1lLmtleSB8fCBuYW1lLnVybDtcbiAgICB9IC8vIGNhc2Ugd2hlcmUgbm8gbmFtZSBpcyBwYXNzZWQgc2hpZnQgYWxsIGFyZ3Mgb3ZlciBieSBvbmUuXG5cblxuICAgIGlmICh0eXBlb2YgdXJsICE9PSAnc3RyaW5nJykge1xuICAgICAgY2IgPSBvcHRpb25zO1xuICAgICAgb3B0aW9ucyA9IHVybDtcbiAgICAgIHVybCA9IG5hbWU7XG4gICAgfSAvLyBub3cgdGhhdCB3ZSBzaGlmdGVkIG1ha2Ugc3VyZSB3ZSBoYXZlIGEgcHJvcGVyIHVybC5cblxuXG4gICAgaWYgKHR5cGVvZiB1cmwgIT09ICdzdHJpbmcnKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIHVybCBwYXNzZWQgdG8gYWRkIHJlc291cmNlIHRvIGxvYWRlci4nKTtcbiAgICB9IC8vIG9wdGlvbnMgYXJlIG9wdGlvbmFsIHNvIHBlb3BsZSBtaWdodCBwYXNzIGEgZnVuY3Rpb24gYW5kIG5vIG9wdGlvbnNcblxuXG4gICAgaWYgKHR5cGVvZiBvcHRpb25zID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBjYiA9IG9wdGlvbnM7XG4gICAgICBvcHRpb25zID0gbnVsbDtcbiAgICB9IC8vIGlmIGxvYWRpbmcgYWxyZWFkeSB5b3UgY2FuIG9ubHkgYWRkIHJlc291cmNlcyB0aGF0IGhhdmUgYSBwYXJlbnQuXG5cblxuICAgIGlmICh0aGlzLmxvYWRpbmcgJiYgKCFvcHRpb25zIHx8ICFvcHRpb25zLnBhcmVudFJlc291cmNlKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgYWRkIHJlc291cmNlcyB3aGlsZSB0aGUgbG9hZGVyIGlzIHJ1bm5pbmcuJyk7XG4gICAgfSAvLyBjaGVjayBpZiByZXNvdXJjZSBhbHJlYWR5IGV4aXN0cy5cblxuXG4gICAgaWYgKHRoaXMucmVzb3VyY2VzW25hbWVdKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJSZXNvdXJjZSBuYW1lZCBcXFwiXCIgKyBuYW1lICsgXCJcXFwiIGFscmVhZHkgZXhpc3RzLlwiKTtcbiAgICB9IC8vIGFkZCBiYXNlIHVybCBpZiB0aGlzIGlzbid0IGFuIGFic29sdXRlIHVybFxuXG5cbiAgICB1cmwgPSB0aGlzLl9wcmVwYXJlVXJsKHVybCk7IC8vIGNyZWF0ZSB0aGUgc3RvcmUgdGhlIHJlc291cmNlXG5cbiAgICB0aGlzLnJlc291cmNlc1tuYW1lXSA9IG5ldyBSZXNvdXJjZShuYW1lLCB1cmwsIG9wdGlvbnMpO1xuXG4gICAgaWYgKHR5cGVvZiBjYiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhpcy5yZXNvdXJjZXNbbmFtZV0ub25BZnRlck1pZGRsZXdhcmUub25jZShjYik7XG4gICAgfSAvLyBpZiBhY3RpdmVseSBsb2FkaW5nLCBtYWtlIHN1cmUgdG8gYWRqdXN0IHByb2dyZXNzIGNodW5rcyBmb3IgdGhhdCBwYXJlbnQgYW5kIGl0cyBjaGlsZHJlblxuXG5cbiAgICBpZiAodGhpcy5sb2FkaW5nKSB7XG4gICAgICB2YXIgcGFyZW50ID0gb3B0aW9ucy5wYXJlbnRSZXNvdXJjZTtcbiAgICAgIHZhciBpbmNvbXBsZXRlQ2hpbGRyZW4gPSBbXTtcblxuICAgICAgZm9yICh2YXIgX2kyID0gMDsgX2kyIDwgcGFyZW50LmNoaWxkcmVuLmxlbmd0aDsgKytfaTIpIHtcbiAgICAgICAgaWYgKCFwYXJlbnQuY2hpbGRyZW5bX2kyXS5pc0NvbXBsZXRlKSB7XG4gICAgICAgICAgaW5jb21wbGV0ZUNoaWxkcmVuLnB1c2gocGFyZW50LmNoaWxkcmVuW19pMl0pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHZhciBmdWxsQ2h1bmsgPSBwYXJlbnQucHJvZ3Jlc3NDaHVuayAqIChpbmNvbXBsZXRlQ2hpbGRyZW4ubGVuZ3RoICsgMSk7IC8vICsxIGZvciBwYXJlbnRcblxuICAgICAgdmFyIGVhY2hDaHVuayA9IGZ1bGxDaHVuayAvIChpbmNvbXBsZXRlQ2hpbGRyZW4ubGVuZ3RoICsgMik7IC8vICsyIGZvciBwYXJlbnQgJiBuZXcgY2hpbGRcblxuICAgICAgcGFyZW50LmNoaWxkcmVuLnB1c2godGhpcy5yZXNvdXJjZXNbbmFtZV0pO1xuICAgICAgcGFyZW50LnByb2dyZXNzQ2h1bmsgPSBlYWNoQ2h1bms7XG5cbiAgICAgIGZvciAodmFyIF9pMyA9IDA7IF9pMyA8IGluY29tcGxldGVDaGlsZHJlbi5sZW5ndGg7ICsrX2kzKSB7XG4gICAgICAgIGluY29tcGxldGVDaGlsZHJlbltfaTNdLnByb2dyZXNzQ2h1bmsgPSBlYWNoQ2h1bms7XG4gICAgICB9XG5cbiAgICAgIHRoaXMucmVzb3VyY2VzW25hbWVdLnByb2dyZXNzQ2h1bmsgPSBlYWNoQ2h1bms7XG4gICAgfSAvLyBhZGQgdGhlIHJlc291cmNlIHRvIHRoZSBxdWV1ZVxuXG5cbiAgICB0aGlzLl9xdWV1ZS5wdXNoKHRoaXMucmVzb3VyY2VzW25hbWVdKTtcblxuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIC8qIGVzbGludC1lbmFibGUgcmVxdWlyZS1qc2RvYyx2YWxpZC1qc2RvYyAqL1xuXG4gIC8qKlxuICAgKiBTZXRzIHVwIGEgbWlkZGxld2FyZSBmdW5jdGlvbiB0aGF0IHdpbGwgcnVuICpiZWZvcmUqIHRoZVxuICAgKiByZXNvdXJjZSBpcyBsb2FkZWQuXG4gICAqXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb259IGZuIC0gVGhlIG1pZGRsZXdhcmUgZnVuY3Rpb24gdG8gcmVnaXN0ZXIuXG4gICAqIEByZXR1cm4ge3RoaXN9IFJldHVybnMgaXRzZWxmLlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5wcmUgPSBmdW5jdGlvbiBwcmUoZm4pIHtcbiAgICB0aGlzLl9iZWZvcmVNaWRkbGV3YXJlLnB1c2goZm4pO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgLyoqXG4gICAqIFNldHMgdXAgYSBtaWRkbGV3YXJlIGZ1bmN0aW9uIHRoYXQgd2lsbCBydW4gKmFmdGVyKiB0aGVcbiAgICogcmVzb3VyY2UgaXMgbG9hZGVkLlxuICAgKlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBmbiAtIFRoZSBtaWRkbGV3YXJlIGZ1bmN0aW9uIHRvIHJlZ2lzdGVyLlxuICAgKiBAcmV0dXJuIHt0aGlzfSBSZXR1cm5zIGl0c2VsZi5cbiAgICovXG4gIDtcblxuICBfcHJvdG8udXNlID0gZnVuY3Rpb24gdXNlKGZuKSB7XG4gICAgdGhpcy5fYWZ0ZXJNaWRkbGV3YXJlLnB1c2goZm4pO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgLyoqXG4gICAqIFJlc2V0cyB0aGUgcXVldWUgb2YgdGhlIGxvYWRlciB0byBwcmVwYXJlIGZvciBhIG5ldyBsb2FkLlxuICAgKlxuICAgKiBAcmV0dXJuIHt0aGlzfSBSZXR1cm5zIGl0c2VsZi5cbiAgICovXG4gIDtcblxuICBfcHJvdG8ucmVzZXQgPSBmdW5jdGlvbiByZXNldCgpIHtcbiAgICB0aGlzLnByb2dyZXNzID0gMDtcbiAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTtcblxuICAgIHRoaXMuX3F1ZXVlLmtpbGwoKTtcblxuICAgIHRoaXMuX3F1ZXVlLnBhdXNlKCk7IC8vIGFib3J0IGFsbCByZXNvdXJjZSBsb2Fkc1xuXG5cbiAgICBmb3IgKHZhciBrIGluIHRoaXMucmVzb3VyY2VzKSB7XG4gICAgICB2YXIgcmVzID0gdGhpcy5yZXNvdXJjZXNba107XG5cbiAgICAgIGlmIChyZXMuX29uTG9hZEJpbmRpbmcpIHtcbiAgICAgICAgcmVzLl9vbkxvYWRCaW5kaW5nLmRldGFjaCgpO1xuICAgICAgfVxuXG4gICAgICBpZiAocmVzLmlzTG9hZGluZykge1xuICAgICAgICByZXMuYWJvcnQoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLnJlc291cmNlcyA9IHt9O1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIC8qKlxuICAgKiBTdGFydHMgbG9hZGluZyB0aGUgcXVldWVkIHJlc291cmNlcy5cbiAgICpcbiAgICogQHBhcmFtIHtmdW5jdGlvbn0gW2NiXSAtIE9wdGlvbmFsIGNhbGxiYWNrIHRoYXQgd2lsbCBiZSBib3VuZCB0byB0aGUgYGNvbXBsZXRlYCBldmVudC5cbiAgICogQHJldHVybiB7dGhpc30gUmV0dXJucyBpdHNlbGYuXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmxvYWQgPSBmdW5jdGlvbiBsb2FkKGNiKSB7XG4gICAgLy8gcmVnaXN0ZXIgY29tcGxldGUgY2FsbGJhY2sgaWYgdGhleSBwYXNzIG9uZVxuICAgIGlmICh0eXBlb2YgY2IgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRoaXMub25Db21wbGV0ZS5vbmNlKGNiKTtcbiAgICB9IC8vIGlmIHRoZSBxdWV1ZSBoYXMgYWxyZWFkeSBzdGFydGVkIHdlIGFyZSBkb25lIGhlcmVcblxuXG4gICAgaWYgKHRoaXMubG9hZGluZykge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX3F1ZXVlLmlkbGUoKSkge1xuICAgICAgdGhpcy5fb25TdGFydCgpO1xuXG4gICAgICB0aGlzLl9vbkNvbXBsZXRlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGRpc3RyaWJ1dGUgcHJvZ3Jlc3MgY2h1bmtzXG4gICAgICB2YXIgbnVtVGFza3MgPSB0aGlzLl9xdWV1ZS5fdGFza3MubGVuZ3RoO1xuICAgICAgdmFyIGNodW5rID0gTUFYX1BST0dSRVNTIC8gbnVtVGFza3M7XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5fcXVldWUuX3Rhc2tzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIHRoaXMuX3F1ZXVlLl90YXNrc1tpXS5kYXRhLnByb2dyZXNzQ2h1bmsgPSBjaHVuaztcbiAgICAgIH0gLy8gbm90aWZ5IHdlIGFyZSBzdGFydGluZ1xuXG5cbiAgICAgIHRoaXMuX29uU3RhcnQoKTsgLy8gc3RhcnQgbG9hZGluZ1xuXG5cbiAgICAgIHRoaXMuX3F1ZXVlLnJlc3VtZSgpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIC8qKlxuICAgKiBUaGUgbnVtYmVyIG9mIHJlc291cmNlcyB0byBsb2FkIGNvbmN1cnJlbnRseS5cbiAgICpcbiAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgKiBAZGVmYXVsdCAxMFxuICAgKi9cbiAgO1xuXG4gIC8qKlxuICAgKiBQcmVwYXJlcyBhIHVybCBmb3IgdXNhZ2UgYmFzZWQgb24gdGhlIGNvbmZpZ3VyYXRpb24gb2YgdGhpcyBvYmplY3RcbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IHVybCAtIFRoZSB1cmwgdG8gcHJlcGFyZS5cbiAgICogQHJldHVybiB7c3RyaW5nfSBUaGUgcHJlcGFyZWQgdXJsLlxuICAgKi9cbiAgX3Byb3RvLl9wcmVwYXJlVXJsID0gZnVuY3Rpb24gX3ByZXBhcmVVcmwodXJsKSB7XG4gICAgdmFyIHBhcnNlZFVybCA9IHBhcnNlVXJpKHVybCwge1xuICAgICAgc3RyaWN0TW9kZTogdHJ1ZVxuICAgIH0pO1xuICAgIHZhciByZXN1bHQ7IC8vIGFic29sdXRlIHVybCwganVzdCB1c2UgaXQgYXMgaXMuXG5cbiAgICBpZiAocGFyc2VkVXJsLnByb3RvY29sIHx8ICFwYXJzZWRVcmwucGF0aCB8fCB1cmwuaW5kZXhPZignLy8nKSA9PT0gMCkge1xuICAgICAgcmVzdWx0ID0gdXJsO1xuICAgIH0gLy8gaWYgYmFzZVVybCBkb2Vzbid0IGVuZCBpbiBzbGFzaCBhbmQgdXJsIGRvZXNuJ3Qgc3RhcnQgd2l0aCBzbGFzaCwgdGhlbiBhZGQgYSBzbGFzaCBpbmJldHdlZW5cbiAgICBlbHNlIGlmICh0aGlzLmJhc2VVcmwubGVuZ3RoICYmIHRoaXMuYmFzZVVybC5sYXN0SW5kZXhPZignLycpICE9PSB0aGlzLmJhc2VVcmwubGVuZ3RoIC0gMSAmJiB1cmwuY2hhckF0KDApICE9PSAnLycpIHtcbiAgICAgICAgcmVzdWx0ID0gdGhpcy5iYXNlVXJsICsgXCIvXCIgKyB1cmw7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXN1bHQgPSB0aGlzLmJhc2VVcmwgKyB1cmw7XG4gICAgICB9IC8vIGlmIHdlIG5lZWQgdG8gYWRkIGEgZGVmYXVsdCBxdWVyeXN0cmluZywgdGhlcmUgaXMgYSBiaXQgbW9yZSB3b3JrXG5cblxuICAgIGlmICh0aGlzLmRlZmF1bHRRdWVyeVN0cmluZykge1xuICAgICAgdmFyIGhhc2ggPSByZ3hFeHRyYWN0VXJsSGFzaC5leGVjKHJlc3VsdClbMF07XG4gICAgICByZXN1bHQgPSByZXN1bHQuc3Vic3RyKDAsIHJlc3VsdC5sZW5ndGggLSBoYXNoLmxlbmd0aCk7XG5cbiAgICAgIGlmIChyZXN1bHQuaW5kZXhPZignPycpICE9PSAtMSkge1xuICAgICAgICByZXN1bHQgKz0gXCImXCIgKyB0aGlzLmRlZmF1bHRRdWVyeVN0cmluZztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc3VsdCArPSBcIj9cIiArIHRoaXMuZGVmYXVsdFF1ZXJ5U3RyaW5nO1xuICAgICAgfVxuXG4gICAgICByZXN1bHQgKz0gaGFzaDtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG4gIC8qKlxuICAgKiBMb2FkcyBhIHNpbmdsZSByZXNvdXJjZS5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtSZXNvdXJjZX0gcmVzb3VyY2UgLSBUaGUgcmVzb3VyY2UgdG8gbG9hZC5cbiAgICogQHBhcmFtIHtmdW5jdGlvbn0gZGVxdWV1ZSAtIFRoZSBmdW5jdGlvbiB0byBjYWxsIHdoZW4gd2UgbmVlZCB0byBkZXF1ZXVlIHRoaXMgaXRlbS5cbiAgICovXG4gIDtcblxuICBfcHJvdG8uX2xvYWRSZXNvdXJjZSA9IGZ1bmN0aW9uIF9sb2FkUmVzb3VyY2UocmVzb3VyY2UsIGRlcXVldWUpIHtcbiAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgIHJlc291cmNlLl9kZXF1ZXVlID0gZGVxdWV1ZTsgLy8gcnVuIGJlZm9yZSBtaWRkbGV3YXJlXG5cbiAgICBlYWNoU2VyaWVzKHRoaXMuX2JlZm9yZU1pZGRsZXdhcmUsIGZ1bmN0aW9uIChmbiwgbmV4dCkge1xuICAgICAgZm4uY2FsbChfdGhpczIsIHJlc291cmNlLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIGlmIHRoZSBiZWZvcmUgbWlkZGxld2FyZSBtYXJrcyB0aGUgcmVzb3VyY2UgYXMgY29tcGxldGUsXG4gICAgICAgIC8vIGJyZWFrIGFuZCBkb24ndCBwcm9jZXNzIGFueSBtb3JlIGJlZm9yZSBtaWRkbGV3YXJlXG4gICAgICAgIG5leHQocmVzb3VyY2UuaXNDb21wbGV0ZSA/IHt9IDogbnVsbCk7XG4gICAgICB9KTtcbiAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAocmVzb3VyY2UuaXNDb21wbGV0ZSkge1xuICAgICAgICBfdGhpczIuX29uTG9hZChyZXNvdXJjZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXNvdXJjZS5fb25Mb2FkQmluZGluZyA9IHJlc291cmNlLm9uQ29tcGxldGUub25jZShfdGhpczIuX29uTG9hZCwgX3RoaXMyKTtcbiAgICAgICAgcmVzb3VyY2UubG9hZCgpO1xuICAgICAgfVxuICAgIH0sIHRydWUpO1xuICB9XG4gIC8qKlxuICAgKiBDYWxsZWQgb25jZSBsb2FkaW5nIGhhcyBzdGFydGVkLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5fb25TdGFydCA9IGZ1bmN0aW9uIF9vblN0YXJ0KCkge1xuICAgIHRoaXMucHJvZ3Jlc3MgPSAwO1xuICAgIHRoaXMubG9hZGluZyA9IHRydWU7XG4gICAgdGhpcy5vblN0YXJ0LmRpc3BhdGNoKHRoaXMpO1xuICB9XG4gIC8qKlxuICAgKiBDYWxsZWQgb25jZSBlYWNoIHJlc291cmNlIGhhcyBsb2FkZWQuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLl9vbkNvbXBsZXRlID0gZnVuY3Rpb24gX29uQ29tcGxldGUoKSB7XG4gICAgdGhpcy5wcm9ncmVzcyA9IE1BWF9QUk9HUkVTUztcbiAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTtcbiAgICB0aGlzLm9uQ29tcGxldGUuZGlzcGF0Y2godGhpcywgdGhpcy5yZXNvdXJjZXMpO1xuICB9XG4gIC8qKlxuICAgKiBDYWxsZWQgZWFjaCB0aW1lIGEgcmVzb3VyY2VzIGlzIGxvYWRlZC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtSZXNvdXJjZX0gcmVzb3VyY2UgLSBUaGUgcmVzb3VyY2UgdGhhdCB3YXMgbG9hZGVkXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLl9vbkxvYWQgPSBmdW5jdGlvbiBfb25Mb2FkKHJlc291cmNlKSB7XG4gICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cbiAgICByZXNvdXJjZS5fb25Mb2FkQmluZGluZyA9IG51bGw7IC8vIHJlbW92ZSB0aGlzIHJlc291cmNlIGZyb20gdGhlIGFzeW5jIHF1ZXVlLCBhbmQgYWRkIGl0IHRvIG91ciBsaXN0IG9mIHJlc291cmNlcyB0aGF0IGFyZSBiZWluZyBwYXJzZWRcblxuICAgIHRoaXMuX3Jlc291cmNlc1BhcnNpbmcucHVzaChyZXNvdXJjZSk7XG5cbiAgICByZXNvdXJjZS5fZGVxdWV1ZSgpOyAvLyBydW4gYWxsIHRoZSBhZnRlciBtaWRkbGV3YXJlIGZvciB0aGlzIHJlc291cmNlXG5cblxuICAgIGVhY2hTZXJpZXModGhpcy5fYWZ0ZXJNaWRkbGV3YXJlLCBmdW5jdGlvbiAoZm4sIG5leHQpIHtcbiAgICAgIGZuLmNhbGwoX3RoaXMzLCByZXNvdXJjZSwgbmV4dCk7XG4gICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgcmVzb3VyY2Uub25BZnRlck1pZGRsZXdhcmUuZGlzcGF0Y2gocmVzb3VyY2UpO1xuICAgICAgX3RoaXMzLnByb2dyZXNzID0gTWF0aC5taW4oTUFYX1BST0dSRVNTLCBfdGhpczMucHJvZ3Jlc3MgKyByZXNvdXJjZS5wcm9ncmVzc0NodW5rKTtcblxuICAgICAgX3RoaXMzLm9uUHJvZ3Jlc3MuZGlzcGF0Y2goX3RoaXMzLCByZXNvdXJjZSk7XG5cbiAgICAgIGlmIChyZXNvdXJjZS5lcnJvcikge1xuICAgICAgICBfdGhpczMub25FcnJvci5kaXNwYXRjaChyZXNvdXJjZS5lcnJvciwgX3RoaXMzLCByZXNvdXJjZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBfdGhpczMub25Mb2FkLmRpc3BhdGNoKF90aGlzMywgcmVzb3VyY2UpO1xuICAgICAgfVxuXG4gICAgICBfdGhpczMuX3Jlc291cmNlc1BhcnNpbmcuc3BsaWNlKF90aGlzMy5fcmVzb3VyY2VzUGFyc2luZy5pbmRleE9mKHJlc291cmNlKSwgMSk7IC8vIGRvIGNvbXBsZXRpb24gY2hlY2tcblxuXG4gICAgICBpZiAoX3RoaXMzLl9xdWV1ZS5pZGxlKCkgJiYgX3RoaXMzLl9yZXNvdXJjZXNQYXJzaW5nLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBfdGhpczMuX29uQ29tcGxldGUoKTtcbiAgICAgIH1cbiAgICB9LCB0cnVlKTtcbiAgfTtcblxuICBfY3JlYXRlQ2xhc3MoTG9hZGVyLCBbe1xuICAgIGtleTogXCJjb25jdXJyZW5jeVwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuX3F1ZXVlLmNvbmN1cnJlbmN5O1xuICAgIH0gLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAsXG4gICAgc2V0OiBmdW5jdGlvbiBzZXQoY29uY3VycmVuY3kpIHtcbiAgICAgIHRoaXMuX3F1ZXVlLmNvbmN1cnJlbmN5ID0gY29uY3VycmVuY3k7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIExvYWRlcjtcbn0oKTtcbi8qKlxuICogQSBkZWZhdWx0IGFycmF5IG9mIG1pZGRsZXdhcmUgdG8gcnVuIGJlZm9yZSBsb2FkaW5nIGVhY2ggcmVzb3VyY2UuXG4gKiBFYWNoIG9mIHRoZXNlIG1pZGRsZXdhcmVzIGFyZSBhZGRlZCB0byBhbnkgbmV3IExvYWRlciBpbnN0YW5jZXMgd2hlbiB0aGV5IGFyZSBjcmVhdGVkLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbWVtYmVyIHtmdW5jdGlvbltdfVxuICovXG5cblxuTG9hZGVyLl9kZWZhdWx0QmVmb3JlTWlkZGxld2FyZSA9IFtdO1xuLyoqXG4gKiBBIGRlZmF1bHQgYXJyYXkgb2YgbWlkZGxld2FyZSB0byBydW4gYWZ0ZXIgbG9hZGluZyBlYWNoIHJlc291cmNlLlxuICogRWFjaCBvZiB0aGVzZSBtaWRkbGV3YXJlcyBhcmUgYWRkZWQgdG8gYW55IG5ldyBMb2FkZXIgaW5zdGFuY2VzIHdoZW4gdGhleSBhcmUgY3JlYXRlZC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG1lbWJlciB7ZnVuY3Rpb25bXX1cbiAqL1xuXG5Mb2FkZXIuX2RlZmF1bHRBZnRlck1pZGRsZXdhcmUgPSBbXTtcbi8qKlxuICogU2V0cyB1cCBhIG1pZGRsZXdhcmUgZnVuY3Rpb24gdGhhdCB3aWxsIHJ1biAqYmVmb3JlKiB0aGVcbiAqIHJlc291cmNlIGlzIGxvYWRlZC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBmbiAtIFRoZSBtaWRkbGV3YXJlIGZ1bmN0aW9uIHRvIHJlZ2lzdGVyLlxuICogQHJldHVybiB7TG9hZGVyfSBSZXR1cm5zIGl0c2VsZi5cbiAqL1xuXG5Mb2FkZXIucHJlID0gZnVuY3Rpb24gTG9hZGVyUHJlU3RhdGljKGZuKSB7XG4gIExvYWRlci5fZGVmYXVsdEJlZm9yZU1pZGRsZXdhcmUucHVzaChmbik7XG5cbiAgcmV0dXJuIExvYWRlcjtcbn07XG4vKipcbiAqIFNldHMgdXAgYSBtaWRkbGV3YXJlIGZ1bmN0aW9uIHRoYXQgd2lsbCBydW4gKmFmdGVyKiB0aGVcbiAqIHJlc291cmNlIGlzIGxvYWRlZC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBmbiAtIFRoZSBtaWRkbGV3YXJlIGZ1bmN0aW9uIHRvIHJlZ2lzdGVyLlxuICogQHJldHVybiB7TG9hZGVyfSBSZXR1cm5zIGl0c2VsZi5cbiAqL1xuXG5cbkxvYWRlci51c2UgPSBmdW5jdGlvbiBMb2FkZXJVc2VTdGF0aWMoZm4pIHtcbiAgTG9hZGVyLl9kZWZhdWx0QWZ0ZXJNaWRkbGV3YXJlLnB1c2goZm4pO1xuXG4gIHJldHVybiBMb2FkZXI7XG59O1xuXG5leHBvcnQgeyBMb2FkZXIsIFJlc291cmNlLCBhc3luYywgZW5jb2RlQmluYXJ5LCBpbmRleCBhcyBtaWRkbGV3YXJlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZXNvdXJjZS1sb2FkZXIuZXNtLmpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS9sb2FkZXJzIC0gdjUuMi4wXG4gKiBDb21waWxlZCBXZWQsIDA2IE5vdiAyMDE5IDAyOjMyOjQzIFVUQ1xuICpcbiAqIEBwaXhpL2xvYWRlcnMgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5pbXBvcnQgeyBSZXNvdXJjZSwgTG9hZGVyIGFzIExvYWRlciQxLCBtaWRkbGV3YXJlIH0gZnJvbSAncmVzb3VyY2UtbG9hZGVyJztcbmltcG9ydCB7IEV2ZW50RW1pdHRlciB9IGZyb20gJ0BwaXhpL3V0aWxzJztcbmltcG9ydCB7IFRleHR1cmUgfSBmcm9tICdAcGl4aS9jb3JlJztcblxuLyoqXG4gKiBMb2FkZXIgcGx1Z2luIGZvciBoYW5kbGluZyBUZXh0dXJlIHJlc291cmNlcy5cbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEBpbXBsZW1lbnRzIFBJWEkuSUxvYWRlclBsdWdpblxuICovXG52YXIgVGV4dHVyZUxvYWRlciA9IGZ1bmN0aW9uIFRleHR1cmVMb2FkZXIgKCkge307XG5cblRleHR1cmVMb2FkZXIudXNlID0gZnVuY3Rpb24gdXNlIChyZXNvdXJjZSwgbmV4dClcbntcbiAgICAvLyBjcmVhdGUgYSBuZXcgdGV4dHVyZSBpZiB0aGUgZGF0YSBpcyBhbiBJbWFnZSBvYmplY3RcbiAgICBpZiAocmVzb3VyY2UuZGF0YSAmJiByZXNvdXJjZS50eXBlID09PSBSZXNvdXJjZS5UWVBFLklNQUdFKVxuICAgIHtcbiAgICAgICAgcmVzb3VyY2UudGV4dHVyZSA9IFRleHR1cmUuZnJvbUxvYWRlcihcbiAgICAgICAgICAgIHJlc291cmNlLmRhdGEsXG4gICAgICAgICAgICByZXNvdXJjZS51cmwsXG4gICAgICAgICAgICByZXNvdXJjZS5uYW1lXG4gICAgICAgICk7XG4gICAgfVxuICAgIG5leHQoKTtcbn07XG5cbi8qKlxuICogVGhlIG5ldyBsb2FkZXIsIGV4dGVuZHMgUmVzb3VyY2UgTG9hZGVyIGJ5IENoYWQgRW5nbGVyOiBodHRwczovL2dpdGh1Yi5jb20vZW5nbGVyY2ovcmVzb3VyY2UtbG9hZGVyXG4gKlxuICogYGBganNcbiAqIGNvbnN0IGxvYWRlciA9IFBJWEkuTG9hZGVyLnNoYXJlZDsgLy8gUGl4aUpTIGV4cG9zZXMgYSBwcmVtYWRlIGluc3RhbmNlIGZvciB5b3UgdG8gdXNlLlxuICogLy9vclxuICogY29uc3QgbG9hZGVyID0gbmV3IFBJWEkuTG9hZGVyKCk7IC8vIHlvdSBjYW4gYWxzbyBjcmVhdGUgeW91ciBvd24gaWYgeW91IHdhbnRcbiAqXG4gKiBjb25zdCBzcHJpdGVzID0ge307XG4gKlxuICogLy8gQ2hhaW5hYmxlIGBhZGRgIHRvIGVucXVldWUgYSByZXNvdXJjZVxuICogbG9hZGVyLmFkZCgnYnVubnknLCAnZGF0YS9idW5ueS5wbmcnKVxuICogICAgICAgLmFkZCgnc3BhY2VzaGlwJywgJ2Fzc2V0cy9zcHJpdGVzaGVldC5qc29uJyk7XG4gKiBsb2FkZXIuYWRkKCdzY29yZUZvbnQnLCAnYXNzZXRzL3Njb3JlLmZudCcpO1xuICpcbiAqIC8vIENoYWluYWJsZSBgcHJlYCB0byBhZGQgYSBtaWRkbGV3YXJlIHRoYXQgcnVucyBmb3IgZWFjaCByZXNvdXJjZSwgKmJlZm9yZSogbG9hZGluZyB0aGF0IHJlc291cmNlLlxuICogLy8gVGhpcyBpcyB1c2VmdWwgdG8gaW1wbGVtZW50IGN1c3RvbSBjYWNoaW5nIG1vZHVsZXMgKHVzaW5nIGZpbGVzeXN0ZW0sIGluZGV4ZWRkYiwgbWVtb3J5LCBldGMpLlxuICogbG9hZGVyLnByZShjYWNoaW5nTWlkZGxld2FyZSk7XG4gKlxuICogLy8gQ2hhaW5hYmxlIGB1c2VgIHRvIGFkZCBhIG1pZGRsZXdhcmUgdGhhdCBydW5zIGZvciBlYWNoIHJlc291cmNlLCAqYWZ0ZXIqIGxvYWRpbmcgdGhhdCByZXNvdXJjZS5cbiAqIC8vIFRoaXMgaXMgdXNlZnVsIHRvIGltcGxlbWVudCBjdXN0b20gcGFyc2luZyBtb2R1bGVzIChsaWtlIHNwcml0ZXNoZWV0IHBhcnNlcnMsIHNwaW5lIHBhcnNlciwgZXRjKS5cbiAqIGxvYWRlci51c2UocGFyc2luZ01pZGRsZXdhcmUpO1xuICpcbiAqIC8vIFRoZSBgbG9hZGAgbWV0aG9kIGxvYWRzIHRoZSBxdWV1ZSBvZiByZXNvdXJjZXMsIGFuZCBjYWxscyB0aGUgcGFzc2VkIGluIGNhbGxiYWNrIGNhbGxlZCBvbmNlIGFsbFxuICogLy8gcmVzb3VyY2VzIGhhdmUgbG9hZGVkLlxuICogbG9hZGVyLmxvYWQoKGxvYWRlciwgcmVzb3VyY2VzKSA9PiB7XG4gKiAgICAgLy8gcmVzb3VyY2VzIGlzIGFuIG9iamVjdCB3aGVyZSB0aGUga2V5IGlzIHRoZSBuYW1lIG9mIHRoZSByZXNvdXJjZSBsb2FkZWQgYW5kIHRoZSB2YWx1ZSBpcyB0aGUgcmVzb3VyY2Ugb2JqZWN0LlxuICogICAgIC8vIFRoZXkgaGF2ZSBhIGNvdXBsZSBkZWZhdWx0IHByb3BlcnRpZXM6XG4gKiAgICAgLy8gLSBgdXJsYDogVGhlIFVSTCB0aGF0IHRoZSByZXNvdXJjZSB3YXMgbG9hZGVkIGZyb21cbiAqICAgICAvLyAtIGBlcnJvcmA6IFRoZSBlcnJvciB0aGF0IGhhcHBlbmVkIHdoZW4gdHJ5aW5nIHRvIGxvYWQgKGlmIGFueSlcbiAqICAgICAvLyAtIGBkYXRhYDogVGhlIHJhdyBkYXRhIHRoYXQgd2FzIGxvYWRlZFxuICogICAgIC8vIGFsc28gbWF5IGNvbnRhaW4gb3RoZXIgcHJvcGVydGllcyBiYXNlZCBvbiB0aGUgbWlkZGxld2FyZSB0aGF0IHJ1bnMuXG4gKiAgICAgc3ByaXRlcy5idW5ueSA9IG5ldyBQSVhJLlRpbGluZ1Nwcml0ZShyZXNvdXJjZXMuYnVubnkudGV4dHVyZSk7XG4gKiAgICAgc3ByaXRlcy5zcGFjZXNoaXAgPSBuZXcgUElYSS5UaWxpbmdTcHJpdGUocmVzb3VyY2VzLnNwYWNlc2hpcC50ZXh0dXJlKTtcbiAqICAgICBzcHJpdGVzLnNjb3JlRm9udCA9IG5ldyBQSVhJLlRpbGluZ1Nwcml0ZShyZXNvdXJjZXMuc2NvcmVGb250LnRleHR1cmUpO1xuICogfSk7XG4gKlxuICogLy8gdGhyb3VnaG91dCB0aGUgcHJvY2VzcyBtdWx0aXBsZSBzaWduYWxzIGNhbiBiZSBkaXNwYXRjaGVkLlxuICogbG9hZGVyLm9uUHJvZ3Jlc3MuYWRkKCgpID0+IHt9KTsgLy8gY2FsbGVkIG9uY2UgcGVyIGxvYWRlZC9lcnJvcmVkIGZpbGVcbiAqIGxvYWRlci5vbkVycm9yLmFkZCgoKSA9PiB7fSk7IC8vIGNhbGxlZCBvbmNlIHBlciBlcnJvcmVkIGZpbGVcbiAqIGxvYWRlci5vbkxvYWQuYWRkKCgpID0+IHt9KTsgLy8gY2FsbGVkIG9uY2UgcGVyIGxvYWRlZCBmaWxlXG4gKiBsb2FkZXIub25Db21wbGV0ZS5hZGQoKCkgPT4ge30pOyAvLyBjYWxsZWQgb25jZSB3aGVuIHRoZSBxdWV1ZWQgcmVzb3VyY2VzIGFsbCBsb2FkLlxuICogYGBgXG4gKlxuICogQHNlZSBodHRwczovL2dpdGh1Yi5jb20vZW5nbGVyY2ovcmVzb3VyY2UtbG9hZGVyXG4gKlxuICogQGNsYXNzIExvYWRlclxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBwYXJhbSB7c3RyaW5nfSBbYmFzZVVybD0nJ10gLSBUaGUgYmFzZSB1cmwgZm9yIGFsbCByZXNvdXJjZXMgbG9hZGVkIGJ5IHRoaXMgbG9hZGVyLlxuICogQHBhcmFtIHtudW1iZXJ9IFtjb25jdXJyZW5jeT0xMF0gLSBUaGUgbnVtYmVyIG9mIHJlc291cmNlcyB0byBsb2FkIGNvbmN1cnJlbnRseS5cbiAqL1xudmFyIExvYWRlciA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKFJlc291cmNlTG9hZGVyKSB7XG4gICAgZnVuY3Rpb24gTG9hZGVyKGJhc2VVcmwsIGNvbmN1cnJlbmN5KVxuICAgIHtcbiAgICAgICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgICAgICAgUmVzb3VyY2VMb2FkZXIuY2FsbCh0aGlzLCBiYXNlVXJsLCBjb25jdXJyZW5jeSk7XG4gICAgICAgIEV2ZW50RW1pdHRlci5jYWxsKHRoaXMpO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgTG9hZGVyLl9wbHVnaW5zLmxlbmd0aDsgKytpKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgcGx1Z2luID0gTG9hZGVyLl9wbHVnaW5zW2ldO1xuICAgICAgICAgICAgdmFyIHByZSA9IHBsdWdpbi5wcmU7XG4gICAgICAgICAgICB2YXIgdXNlID0gcGx1Z2luLnVzZTtcblxuICAgICAgICAgICAgaWYgKHByZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLnByZShwcmUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodXNlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMudXNlKHVzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDb21wYXQgbGF5ZXIsIHRyYW5zbGF0ZSB0aGUgbmV3IHYyIHNpZ25hbHMgaW50byBvbGQgdjEgZXZlbnRzLlxuICAgICAgICB0aGlzLm9uU3RhcnQuYWRkKGZ1bmN0aW9uIChsKSB7IHJldHVybiB0aGlzJDEuZW1pdCgnc3RhcnQnLCBsKTsgfSk7XG4gICAgICAgIHRoaXMub25Qcm9ncmVzcy5hZGQoZnVuY3Rpb24gKGwsIHIpIHsgcmV0dXJuIHRoaXMkMS5lbWl0KCdwcm9ncmVzcycsIGwsIHIpOyB9KTtcbiAgICAgICAgdGhpcy5vbkVycm9yLmFkZChmdW5jdGlvbiAoZSwgbCwgcikgeyByZXR1cm4gdGhpcyQxLmVtaXQoJ2Vycm9yJywgZSwgbCwgcik7IH0pO1xuICAgICAgICB0aGlzLm9uTG9hZC5hZGQoZnVuY3Rpb24gKGwsIHIpIHsgcmV0dXJuIHRoaXMkMS5lbWl0KCdsb2FkJywgbCwgcik7IH0pO1xuICAgICAgICB0aGlzLm9uQ29tcGxldGUuYWRkKGZ1bmN0aW9uIChsLCByKSB7IHJldHVybiB0aGlzJDEuZW1pdCgnY29tcGxldGUnLCBsLCByKTsgfSk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIHRoaXMgbG9hZGVyIGNhbm5vdCBiZSBkZXN0cm95ZWQuXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9wcm90ZWN0ZWQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAoIFJlc291cmNlTG9hZGVyICkgTG9hZGVyLl9fcHJvdG9fXyA9IFJlc291cmNlTG9hZGVyO1xuICAgIExvYWRlci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBSZXNvdXJjZUxvYWRlciAmJiBSZXNvdXJjZUxvYWRlci5wcm90b3R5cGUgKTtcbiAgICBMb2FkZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gTG9hZGVyO1xuXG4gICAgdmFyIHN0YXRpY0FjY2Vzc29ycyA9IHsgc2hhcmVkOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH07XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95IHRoZSBsb2FkZXIsIHJlbW92ZXMgcmVmZXJlbmNlcy5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIExvYWRlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3kgKClcbiAgICB7XG4gICAgICAgIGlmICghdGhpcy5fcHJvdGVjdGVkKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZUFsbExpc3RlbmVycygpO1xuICAgICAgICAgICAgdGhpcy5yZXNldCgpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEEgcHJlbWFkZSBpbnN0YW5jZSBvZiB0aGUgbG9hZGVyIHRoYXQgY2FuIGJlIHVzZWQgdG8gbG9hZCByZXNvdXJjZXMuXG4gICAgICogQG5hbWUgc2hhcmVkXG4gICAgICogQHR5cGUge1BJWEkuTG9hZGVyfVxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5Mb2FkZXJcbiAgICAgKi9cbiAgICBzdGF0aWNBY2Nlc3NvcnMuc2hhcmVkLmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICB2YXIgc2hhcmVkID0gTG9hZGVyLl9zaGFyZWQ7XG5cbiAgICAgICAgaWYgKCFzaGFyZWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHNoYXJlZCA9IG5ldyBMb2FkZXIoKTtcbiAgICAgICAgICAgIHNoYXJlZC5fcHJvdGVjdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIExvYWRlci5fc2hhcmVkID0gc2hhcmVkO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHNoYXJlZDtcbiAgICB9O1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoIExvYWRlciwgc3RhdGljQWNjZXNzb3JzICk7XG5cbiAgICByZXR1cm4gTG9hZGVyO1xufShMb2FkZXIkMSkpO1xuXG4vLyBDb3B5IEVFMyBwcm90b3R5cGUgKG1peGluKVxuT2JqZWN0LmFzc2lnbihMb2FkZXIucHJvdG90eXBlLCBFdmVudEVtaXR0ZXIucHJvdG90eXBlKTtcblxuLyoqXG4gKiBDb2xsZWN0aW9uIG9mIGFsbCBpbnN0YWxsZWQgYHVzZWAgbWlkZGxld2FyZSBmb3IgTG9hZGVyLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXIge0FycmF5PFBJWEkuSUxvYWRlclBsdWdpbj59IF9wbHVnaW5zXG4gKiBAbWVtYmVyb2YgUElYSS5Mb2FkZXJcbiAqIEBwcml2YXRlXG4gKi9cbkxvYWRlci5fcGx1Z2lucyA9IFtdO1xuXG4vKipcbiAqIEFkZHMgYSBMb2FkZXIgcGx1Z2luIGZvciB0aGUgZ2xvYmFsIHNoYXJlZCBsb2FkZXIgYW5kIGFsbFxuICogbmV3IExvYWRlciBpbnN0YW5jZXMgY3JlYXRlZC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWV0aG9kIHJlZ2lzdGVyUGx1Z2luXG4gKiBAbWVtYmVyb2YgUElYSS5Mb2FkZXJcbiAqIEBwYXJhbSB7UElYSS5JTG9hZGVyUGx1Z2lufSBwbHVnaW4gLSBUaGUgcGx1Z2luIHRvIGFkZFxuICogQHJldHVybiB7UElYSS5Mb2FkZXJ9IFJlZmVyZW5jZSB0byBQSVhJLkxvYWRlciBmb3IgY2hhaW5pbmdcbiAqL1xuTG9hZGVyLnJlZ2lzdGVyUGx1Z2luID0gZnVuY3Rpb24gcmVnaXN0ZXJQbHVnaW4ocGx1Z2luKVxue1xuICAgIExvYWRlci5fcGx1Z2lucy5wdXNoKHBsdWdpbik7XG5cbiAgICBpZiAocGx1Z2luLmFkZClcbiAgICB7XG4gICAgICAgIHBsdWdpbi5hZGQoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gTG9hZGVyO1xufTtcblxuLy8gcGFyc2UgYW55IGJsb2IgaW50byBtb3JlIHVzYWJsZSBvYmplY3RzIChlLmcuIEltYWdlKVxuTG9hZGVyLnJlZ2lzdGVyUGx1Z2luKHsgdXNlOiBtaWRkbGV3YXJlLnBhcnNpbmcgfSk7XG5cbi8vIHBhcnNlIGFueSBJbWFnZSBvYmplY3RzIGludG8gdGV4dHVyZXNcbkxvYWRlci5yZWdpc3RlclBsdWdpbihUZXh0dXJlTG9hZGVyKTtcblxuLyoqXG4gKiBQbHVnaW4gdG8gYmUgaW5zdGFsbGVkIGZvciBoYW5kbGluZyBzcGVjaWZpYyBMb2FkZXIgcmVzb3VyY2VzLlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAdHlwZWRlZiBJTG9hZGVyUGx1Z2luXG4gKiBAcHJvcGVydHkge2Z1bmN0aW9ufSBbYWRkXSAtIEZ1bmN0aW9uIHRvIGNhbGwgaW1tZWRpYXRlIGFmdGVyIHJlZ2lzdGVyaW5nIHBsdWdpbi5cbiAqIEBwcm9wZXJ0eSB7UElYSS5Mb2FkZXIubG9hZGVyTWlkZGxld2FyZX0gW3ByZV0gLSBNaWRkbGV3YXJlIGZ1bmN0aW9uIHRvIHJ1biBiZWZvcmUgbG9hZCwgdGhlXG4gKiAgICAgICAgICAgYXJndW1lbnRzIGZvciB0aGlzIGFyZSBgKHJlc291cmNlLCBuZXh0KWBcbiAqIEBwcm9wZXJ0eSB7UElYSS5Mb2FkZXIubG9hZGVyTWlkZGxld2FyZX0gW3VzZV0gLSBNaWRkbGV3YXJlIGZ1bmN0aW9uIHRvIHJ1biBhZnRlciBsb2FkLCB0aGVcbiAqICAgICAgICAgICBhcmd1bWVudHMgZm9yIHRoaXMgYXJlIGAocmVzb3VyY2UsIG5leHQpYFxuICovXG5cbi8qKlxuICogQG1lbWJlcm9mIFBJWEkuTG9hZGVyXG4gKiBAY2FsbGJhY2sgbG9hZGVyTWlkZGxld2FyZVxuICogQHBhcmFtIHtQSVhJLkxvYWRlclJlc291cmNlfSByZXNvdXJjZVxuICogQHBhcmFtIHtmdW5jdGlvbn0gbmV4dFxuICovXG5cbi8qKlxuICogQG1lbWJlcm9mIFBJWEkuTG9hZGVyI1xuICogQG1lbWJlciB7b2JqZWN0fSBvblN0YXJ0XG4gKi9cblxuLyoqXG4gKiBAbWVtYmVyb2YgUElYSS5Mb2FkZXIjXG4gKiBAbWVtYmVyIHtvYmplY3R9IG9uUHJvZ3Jlc3NcbiAqL1xuXG4vKipcbiAqIEBtZW1iZXJvZiBQSVhJLkxvYWRlciNcbiAqIEBtZW1iZXIge29iamVjdH0gb25FcnJvclxuICovXG5cbi8qKlxuICogQG1lbWJlcm9mIFBJWEkuTG9hZGVyI1xuICogQG1lbWJlciB7b2JqZWN0fSBvbkxvYWRcbiAqL1xuXG4vKipcbiAqIEBtZW1iZXJvZiBQSVhJLkxvYWRlciNcbiAqIEBtZW1iZXIge29iamVjdH0gb25Db21wbGV0ZVxuICovXG5cbi8qKlxuICogQXBwbGljYXRpb24gcGx1Z2luIGZvciBzdXBwb3J0aW5nIGxvYWRlciBvcHRpb24uIEluc3RhbGxpbmcgdGhlIExvYWRlclBsdWdpblxuICogaXMgbm90IG5lY2Vzc2FyeSBpZiB1c2luZyAqKnBpeGkuanMqKiBvciAqKnBpeGkuanMtbGVnYWN5KiouXG4gKiBAZXhhbXBsZVxuICogaW1wb3J0IHtBcHBMb2FkZXJQbHVnaW59IGZyb20gJ0BwaXhpL2xvYWRlcnMnO1xuICogaW1wb3J0IHtBcHBsaWNhdGlvbn0gZnJvbSAnQHBpeGkvYXBwJztcbiAqIEFwcGxpY2F0aW9uLnJlZ2lzdGVyUGx1Z2luKEFwcExvYWRlclBsdWdpbik7XG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBBcHBMb2FkZXJQbHVnaW4gPSBmdW5jdGlvbiBBcHBMb2FkZXJQbHVnaW4gKCkge307XG5cbkFwcExvYWRlclBsdWdpbi5pbml0ID0gZnVuY3Rpb24gaW5pdCAob3B0aW9ucylcbntcbiAgICBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7XG4gICAgICAgIHNoYXJlZExvYWRlcjogZmFsc2UsXG4gICAgfSwgb3B0aW9ucyk7XG5cbiAgICAvKipcbiAgICAgKiBMb2FkZXIgaW5zdGFuY2UgdG8gaGVscCB3aXRoIGFzc2V0IGxvYWRpbmcuXG4gICAgICogQG5hbWUgUElYSS5BcHBsaWNhdGlvbiNsb2FkZXJcbiAgICAgKiBAdHlwZSB7UElYSS5Mb2FkZXJ9XG4gICAgICogQHJlYWRvbmx5XG4gICAgICovXG4gICAgdGhpcy5sb2FkZXIgPSBvcHRpb25zLnNoYXJlZExvYWRlciA/IExvYWRlci5zaGFyZWQgOiBuZXcgTG9hZGVyKCk7XG59O1xuXG4vKipcbiAqIENhbGxlZCB3aGVuIGFwcGxpY2F0aW9uIGRlc3Ryb3llZFxuICogQHByaXZhdGVcbiAqL1xuQXBwTG9hZGVyUGx1Z2luLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95ICgpXG57XG4gICAgaWYgKHRoaXMubG9hZGVyKVxuICAgIHtcbiAgICAgICAgdGhpcy5sb2FkZXIuZGVzdHJveSgpO1xuICAgICAgICB0aGlzLmxvYWRlciA9IG51bGw7XG4gICAgfVxufTtcblxuLyoqXG4gKiBSZWZlcmVuY2UgdG8gKip7QGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL2VuZ2xlcmNqL3Jlc291cmNlLWxvYWRlclxuICogcmVzb3VyY2UtbG9hZGVyfSoqJ3MgUmVzb3VyY2UgY2xhc3MuXG4gKiBAc2VlIGh0dHA6Ly9lbmdsZXJjai5naXRodWIuaW8vcmVzb3VyY2UtbG9hZGVyL1Jlc291cmNlLmh0bWxcbiAqIEBjbGFzcyBMb2FkZXJSZXNvdXJjZVxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIExvYWRlclJlc291cmNlID0gUmVzb3VyY2U7XG5cbmV4cG9ydCB7IEFwcExvYWRlclBsdWdpbiwgTG9hZGVyLCBMb2FkZXJSZXNvdXJjZSwgVGV4dHVyZUxvYWRlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bG9hZGVycy5lcy5qcy5tYXBcbiIsIi8qIVxuICogQHBpeGkvcGFydGljbGVzIC0gdjUuMi4wXG4gKiBDb21waWxlZCBXZWQsIDA2IE5vdiAyMDE5IDAyOjMyOjQzIFVUQ1xuICpcbiAqIEBwaXhpL3BhcnRpY2xlcyBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbmltcG9ydCB7IEJMRU5EX01PREVTLCBUWVBFUyB9IGZyb20gJ0BwaXhpL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBoZXgycmdiLCBjcmVhdGVJbmRpY2VzRm9yUXVhZHMsIGNvcnJlY3RCbGVuZE1vZGUsIHByZW11bHRpcGx5UmdiYSwgcHJlbXVsdGlwbHlUaW50IH0gZnJvbSAnQHBpeGkvdXRpbHMnO1xuaW1wb3J0IHsgQ29udGFpbmVyIH0gZnJvbSAnQHBpeGkvZGlzcGxheSc7XG5pbXBvcnQgeyBHZW9tZXRyeSwgQnVmZmVyLCBPYmplY3RSZW5kZXJlciwgU2hhZGVyIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5pbXBvcnQgeyBNYXRyaXggfSBmcm9tICdAcGl4aS9tYXRoJztcblxuLyoqXG4gKiBUaGUgUGFydGljbGVDb250YWluZXIgY2xhc3MgaXMgYSByZWFsbHkgZmFzdCB2ZXJzaW9uIG9mIHRoZSBDb250YWluZXIgYnVpbHQgc29sZWx5IGZvciBzcGVlZCxcbiAqIHNvIHVzZSB3aGVuIHlvdSBuZWVkIGEgbG90IG9mIHNwcml0ZXMgb3IgcGFydGljbGVzLlxuICpcbiAqIFRoZSB0cmFkZW9mZiBvZiB0aGUgUGFydGljbGVDb250YWluZXIgaXMgdGhhdCBtb3N0IGFkdmFuY2VkIGZ1bmN0aW9uYWxpdHkgd2lsbCBub3Qgd29yay5cbiAqIFBhcnRpY2xlQ29udGFpbmVyIGltcGxlbWVudHMgdGhlIGJhc2ljIG9iamVjdCB0cmFuc2Zvcm0gKHBvc2l0aW9uLCBzY2FsZSwgcm90YXRpb24pXG4gKiBhbmQgc29tZSBhZHZhbmNlZCBmdW5jdGlvbmFsaXR5IGxpa2UgdGludCAoYXMgb2YgdjQuNS42KS5cbiAqXG4gKiBPdGhlciBtb3JlIGFkdmFuY2VkIGZ1bmN0aW9uYWxpdHkgbGlrZSBtYXNraW5nLCBjaGlsZHJlbiwgZmlsdGVycywgZXRjIHdpbGwgbm90IHdvcmsgb24gc3ByaXRlcyBpbiB0aGlzIGJhdGNoLlxuICpcbiAqIEl0J3MgZXh0cmVtZWx5IGVhc3kgdG8gdXNlOlxuICogYGBganNcbiAqIGxldCBjb250YWluZXIgPSBuZXcgUGFydGljbGVDb250YWluZXIoKTtcbiAqXG4gKiBmb3IgKGxldCBpID0gMDsgaSA8IDEwMDsgKytpKVxuICoge1xuICogICAgIGxldCBzcHJpdGUgPSBQSVhJLlNwcml0ZS5mcm9tKFwibXlJbWFnZS5wbmdcIik7XG4gKiAgICAgY29udGFpbmVyLmFkZENoaWxkKHNwcml0ZSk7XG4gKiB9XG4gKiBgYGBcbiAqXG4gKiBBbmQgaGVyZSB5b3UgaGF2ZSBhIGh1bmRyZWQgc3ByaXRlcyB0aGF0IHdpbGwgYmUgcmVuZGVyZWQgYXQgdGhlIHNwZWVkIG9mIGxpZ2h0LlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5Db250YWluZXJcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBQYXJ0aWNsZUNvbnRhaW5lciA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKENvbnRhaW5lcikge1xuICAgIGZ1bmN0aW9uIFBhcnRpY2xlQ29udGFpbmVyKG1heFNpemUsIHByb3BlcnRpZXMsIGJhdGNoU2l6ZSwgYXV0b1Jlc2l6ZSlcbiAgICB7XG4gICAgICAgIGlmICggbWF4U2l6ZSA9PT0gdm9pZCAwICkgbWF4U2l6ZSA9IDE1MDA7XG4gICAgICAgIGlmICggYmF0Y2hTaXplID09PSB2b2lkIDAgKSBiYXRjaFNpemUgPSAxNjM4NDtcbiAgICAgICAgaWYgKCBhdXRvUmVzaXplID09PSB2b2lkIDAgKSBhdXRvUmVzaXplID0gZmFsc2U7XG5cbiAgICAgICAgQ29udGFpbmVyLmNhbGwodGhpcyk7XG5cbiAgICAgICAgLy8gTWFraW5nIHN1cmUgdGhlIGJhdGNoIHNpemUgaXMgdmFsaWRcbiAgICAgICAgLy8gNjU1MzUgaXMgbWF4IHZlcnRleCBpbmRleCBpbiB0aGUgaW5kZXggYnVmZmVyIChzZWUgUGFydGljbGVSZW5kZXJlcilcbiAgICAgICAgLy8gc28gbWF4IG51bWJlciBvZiBwYXJ0aWNsZXMgaXMgNjU1MzYgLyA0ID0gMTYzODRcbiAgICAgICAgdmFyIG1heEJhdGNoU2l6ZSA9IDE2Mzg0O1xuXG4gICAgICAgIGlmIChiYXRjaFNpemUgPiBtYXhCYXRjaFNpemUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGJhdGNoU2l6ZSA9IG1heEJhdGNoU2l6ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXQgcHJvcGVydGllcyB0byBiZSBkeW5hbWljICh0cnVlKSAvIHN0YXRpYyAoZmFsc2UpXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW5bXX1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3Byb3BlcnRpZXMgPSBbZmFsc2UsIHRydWUsIGZhbHNlLCBmYWxzZSwgZmFsc2VdO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9tYXhTaXplID0gbWF4U2l6ZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fYmF0Y2hTaXplID0gYmF0Y2hTaXplO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtBcnJheTxQSVhJLkJ1ZmZlcj59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9idWZmZXJzID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogZm9yIGV2ZXJ5IGJhdGNoIHN0b3JlcyBfdXBkYXRlSUQgY29ycmVzcG9uZGluZyB0byB0aGUgbGFzdCBjaGFuZ2UgaW4gdGhhdCBiYXRjaFxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJbXX1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2J1ZmZlclVwZGF0ZUlEcyA9IFtdO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiB3aGVuIGNoaWxkIGluc2VydGVkLCByZW1vdmVkIG9yIGNoYW5nZXMgcG9zaXRpb24gdGhpcyBudW1iZXIgZ29lcyB1cFxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJbXX1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3VwZGF0ZUlEID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICpcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaW50ZXJhY3RpdmVDaGlsZHJlbiA9IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYmxlbmQgbW9kZSB0byBiZSBhcHBsaWVkIHRvIHRoZSBzcHJpdGUuIEFwcGx5IGEgdmFsdWUgb2YgYFBJWEkuQkxFTkRfTU9ERVMuTk9STUFMYFxuICAgICAgICAgKiB0byByZXNldCB0aGUgYmxlbmQgbW9kZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLkJMRU5EX01PREVTLk5PUk1BTFxuICAgICAgICAgKiBAc2VlIFBJWEkuQkxFTkRfTU9ERVNcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYmxlbmRNb2RlID0gQkxFTkRfTU9ERVMuTk9STUFMO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiB0cnVlLCBjb250YWluZXIgYWxsb2NhdGVzIG1vcmUgYmF0Y2hlcyBpbiBjYXNlIHRoZXJlIGFyZSBtb3JlIHRoYW4gYG1heFNpemVgIHBhcnRpY2xlcy5cbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYXV0b1Jlc2l6ZSA9IGF1dG9SZXNpemU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIHRydWUgUGl4aUpTIHdpbGwgTWF0aC5mbG9vcigpIHgveSB2YWx1ZXMgd2hlbiByZW5kZXJpbmcsIHN0b3BwaW5nIHBpeGVsIGludGVycG9sYXRpb24uXG4gICAgICAgICAqIEFkdmFudGFnZXMgY2FuIGluY2x1ZGUgc2hhcnBlciBpbWFnZSBxdWFsaXR5IChsaWtlIHRleHQpIGFuZCBmYXN0ZXIgcmVuZGVyaW5nIG9uIGNhbnZhcy5cbiAgICAgICAgICogVGhlIG1haW4gZGlzYWR2YW50YWdlIGlzIG1vdmVtZW50IG9mIG9iamVjdHMgbWF5IGFwcGVhciBsZXNzIHNtb290aC5cbiAgICAgICAgICogRGVmYXVsdCB0byB0cnVlIGhlcmUgYXMgcGVyZm9ybWFuY2UgaXMgdXN1YWxseSB0aGUgcHJpb3JpdHkgZm9yIHBhcnRpY2xlcy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgdHJ1ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5yb3VuZFBpeGVscyA9IHRydWU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0ZXh0dXJlIHVzZWQgdG8gcmVuZGVyIHRoZSBjaGlsZHJlbi5cbiAgICAgICAgICpcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuQmFzZVRleHR1cmV9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmJhc2VUZXh0dXJlID0gbnVsbDtcblxuICAgICAgICB0aGlzLnNldFByb3BlcnRpZXMocHJvcGVydGllcyk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0aW50IGFwcGxpZWQgdG8gdGhlIGNvbnRhaW5lci5cbiAgICAgICAgICogVGhpcyBpcyBhIGhleCB2YWx1ZS4gQSB2YWx1ZSBvZiAweEZGRkZGRiB3aWxsIHJlbW92ZSBhbnkgdGludCBlZmZlY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMHhGRkZGRkZcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3RpbnQgPSAwO1xuICAgICAgICB0aGlzLnRpbnRSZ2IgPSBuZXcgRmxvYXQzMkFycmF5KDQpO1xuICAgICAgICB0aGlzLnRpbnQgPSAweEZGRkZGRjtcbiAgICB9XG5cbiAgICBpZiAoIENvbnRhaW5lciApIFBhcnRpY2xlQ29udGFpbmVyLl9fcHJvdG9fXyA9IENvbnRhaW5lcjtcbiAgICBQYXJ0aWNsZUNvbnRhaW5lci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBDb250YWluZXIgJiYgQ29udGFpbmVyLnByb3RvdHlwZSApO1xuICAgIFBhcnRpY2xlQ29udGFpbmVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFBhcnRpY2xlQ29udGFpbmVyO1xuXG4gICAgdmFyIHByb3RvdHlwZUFjY2Vzc29ycyA9IHsgdGludDogeyBjb25maWd1cmFibGU6IHRydWUgfSB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgcHJpdmF0ZSBwcm9wZXJ0aWVzIGFycmF5IHRvIGR5bmFtaWMgLyBzdGF0aWMgYmFzZWQgb24gdGhlIHBhc3NlZCBwcm9wZXJ0aWVzIG9iamVjdFxuICAgICAqXG4gICAgICogQHBhcmFtIHtvYmplY3R9IHByb3BlcnRpZXMgLSBUaGUgcHJvcGVydGllcyB0byBiZSB1cGxvYWRlZFxuICAgICAqL1xuICAgIFBhcnRpY2xlQ29udGFpbmVyLnByb3RvdHlwZS5zZXRQcm9wZXJ0aWVzID0gZnVuY3Rpb24gc2V0UHJvcGVydGllcyAocHJvcGVydGllcylcbiAgICB7XG4gICAgICAgIGlmIChwcm9wZXJ0aWVzKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9wcm9wZXJ0aWVzWzBdID0gJ3ZlcnRpY2VzJyBpbiBwcm9wZXJ0aWVzIHx8ICdzY2FsZScgaW4gcHJvcGVydGllc1xuICAgICAgICAgICAgICAgID8gISFwcm9wZXJ0aWVzLnZlcnRpY2VzIHx8ICEhcHJvcGVydGllcy5zY2FsZSA6IHRoaXMuX3Byb3BlcnRpZXNbMF07XG4gICAgICAgICAgICB0aGlzLl9wcm9wZXJ0aWVzWzFdID0gJ3Bvc2l0aW9uJyBpbiBwcm9wZXJ0aWVzID8gISFwcm9wZXJ0aWVzLnBvc2l0aW9uIDogdGhpcy5fcHJvcGVydGllc1sxXTtcbiAgICAgICAgICAgIHRoaXMuX3Byb3BlcnRpZXNbMl0gPSAncm90YXRpb24nIGluIHByb3BlcnRpZXMgPyAhIXByb3BlcnRpZXMucm90YXRpb24gOiB0aGlzLl9wcm9wZXJ0aWVzWzJdO1xuICAgICAgICAgICAgdGhpcy5fcHJvcGVydGllc1szXSA9ICd1dnMnIGluIHByb3BlcnRpZXMgPyAhIXByb3BlcnRpZXMudXZzIDogdGhpcy5fcHJvcGVydGllc1szXTtcbiAgICAgICAgICAgIHRoaXMuX3Byb3BlcnRpZXNbNF0gPSAndGludCcgaW4gcHJvcGVydGllcyB8fCAnYWxwaGEnIGluIHByb3BlcnRpZXNcbiAgICAgICAgICAgICAgICA/ICEhcHJvcGVydGllcy50aW50IHx8ICEhcHJvcGVydGllcy5hbHBoYSA6IHRoaXMuX3Byb3BlcnRpZXNbNF07XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgb2JqZWN0IHRyYW5zZm9ybSBmb3IgcmVuZGVyaW5nXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFBhcnRpY2xlQ29udGFpbmVyLnByb3RvdHlwZS51cGRhdGVUcmFuc2Zvcm0gPSBmdW5jdGlvbiB1cGRhdGVUcmFuc2Zvcm0gKClcbiAgICB7XG4gICAgICAgIC8vIFRPRE8gZG9uJ3QgbmVlZCB0byFcbiAgICAgICAgdGhpcy5kaXNwbGF5T2JqZWN0VXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgICAgIC8vICBQSVhJLkNvbnRhaW5lci5wcm90b3R5cGUudXBkYXRlVHJhbnNmb3JtLmNhbGwoIHRoaXMgKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIHRpbnQgYXBwbGllZCB0byB0aGUgY29udGFpbmVyLiBUaGlzIGlzIGEgaGV4IHZhbHVlLlxuICAgICAqIEEgdmFsdWUgb2YgMHhGRkZGRkYgd2lsbCByZW1vdmUgYW55IHRpbnQgZWZmZWN0LlxuICAgICAqKiBJTVBPUlRBTlQ6IFRoaXMgaXMgYSBXZWJHTCBvbmx5IGZlYXR1cmUgYW5kIHdpbGwgYmUgaWdub3JlZCBieSB0aGUgY2FudmFzIHJlbmRlcmVyLlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAweEZGRkZGRlxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy50aW50LmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fdGludDtcbiAgICB9O1xuXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLnRpbnQuc2V0ID0gZnVuY3Rpb24gKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIHRoaXMuX3RpbnQgPSB2YWx1ZTtcbiAgICAgICAgaGV4MnJnYih2YWx1ZSwgdGhpcy50aW50UmdiKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVuZGVycyB0aGUgY29udGFpbmVyIHVzaW5nIHRoZSBXZWJHTCByZW5kZXJlclxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHdlYmdsIHJlbmRlcmVyXG4gICAgICovXG4gICAgUGFydGljbGVDb250YWluZXIucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlciAocmVuZGVyZXIpXG4gICAge1xuICAgICAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICAgICAgICBpZiAoIXRoaXMudmlzaWJsZSB8fCB0aGlzLndvcmxkQWxwaGEgPD0gMCB8fCAhdGhpcy5jaGlsZHJlbi5sZW5ndGggfHwgIXRoaXMucmVuZGVyYWJsZSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLmJhc2VUZXh0dXJlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmJhc2VUZXh0dXJlID0gdGhpcy5jaGlsZHJlblswXS5fdGV4dHVyZS5iYXNlVGV4dHVyZTtcbiAgICAgICAgICAgIGlmICghdGhpcy5iYXNlVGV4dHVyZS52YWxpZClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLmJhc2VUZXh0dXJlLm9uY2UoJ3VwZGF0ZScsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMkMS5vbkNoaWxkcmVuQ2hhbmdlKDApOyB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJlbmRlcmVyLmJhdGNoLnNldE9iamVjdFJlbmRlcmVyKHJlbmRlcmVyLnBsdWdpbnMucGFydGljbGUpO1xuICAgICAgICByZW5kZXJlci5wbHVnaW5zLnBhcnRpY2xlLnJlbmRlcih0aGlzKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBmbGFnIHRoYXQgc3RhdGljIGRhdGEgc2hvdWxkIGJlIHVwZGF0ZWQgdG8gdHJ1ZVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc21hbGxlc3RDaGlsZEluZGV4IC0gVGhlIHNtYWxsZXN0IGNoaWxkIGluZGV4XG4gICAgICovXG4gICAgUGFydGljbGVDb250YWluZXIucHJvdG90eXBlLm9uQ2hpbGRyZW5DaGFuZ2UgPSBmdW5jdGlvbiBvbkNoaWxkcmVuQ2hhbmdlIChzbWFsbGVzdENoaWxkSW5kZXgpXG4gICAge1xuICAgICAgICB2YXIgYnVmZmVySW5kZXggPSBNYXRoLmZsb29yKHNtYWxsZXN0Q2hpbGRJbmRleCAvIHRoaXMuX2JhdGNoU2l6ZSk7XG5cbiAgICAgICAgd2hpbGUgKHRoaXMuX2J1ZmZlclVwZGF0ZUlEcy5sZW5ndGggPCBidWZmZXJJbmRleClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fYnVmZmVyVXBkYXRlSURzLnB1c2goMCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fYnVmZmVyVXBkYXRlSURzW2J1ZmZlckluZGV4XSA9ICsrdGhpcy5fdXBkYXRlSUQ7XG4gICAgfTtcblxuICAgIFBhcnRpY2xlQ29udGFpbmVyLnByb3RvdHlwZS5kaXNwb3NlID0gZnVuY3Rpb24gZGlzcG9zZSAoKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuX2J1ZmZlcnMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5fYnVmZmVycy5sZW5ndGg7ICsraSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9idWZmZXJzW2ldLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fYnVmZmVycyA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhlIGNvbnRhaW5lclxuICAgICAqXG4gICAgICogQHBhcmFtIHtvYmplY3R8Ym9vbGVhbn0gW29wdGlvbnNdIC0gT3B0aW9ucyBwYXJhbWV0ZXIuIEEgYm9vbGVhbiB3aWxsIGFjdCBhcyBpZiBhbGwgb3B0aW9uc1xuICAgICAqICBoYXZlIGJlZW4gc2V0IHRvIHRoYXQgdmFsdWVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNoaWxkcmVuPWZhbHNlXSAtIGlmIHNldCB0byB0cnVlLCBhbGwgdGhlIGNoaWxkcmVuIHdpbGwgaGF2ZSB0aGVpclxuICAgICAqICBkZXN0cm95IG1ldGhvZCBjYWxsZWQgYXMgd2VsbC4gJ29wdGlvbnMnIHdpbGwgYmUgcGFzc2VkIG9uIHRvIHRob3NlIGNhbGxzLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudGV4dHVyZT1mYWxzZV0gLSBPbmx5IHVzZWQgZm9yIGNoaWxkIFNwcml0ZXMgaWYgb3B0aW9ucy5jaGlsZHJlbiBpcyBzZXQgdG8gdHJ1ZVxuICAgICAqICBTaG91bGQgaXQgZGVzdHJveSB0aGUgdGV4dHVyZSBvZiB0aGUgY2hpbGQgc3ByaXRlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5iYXNlVGV4dHVyZT1mYWxzZV0gLSBPbmx5IHVzZWQgZm9yIGNoaWxkIFNwcml0ZXMgaWYgb3B0aW9ucy5jaGlsZHJlbiBpcyBzZXQgdG8gdHJ1ZVxuICAgICAqICBTaG91bGQgaXQgZGVzdHJveSB0aGUgYmFzZSB0ZXh0dXJlIG9mIHRoZSBjaGlsZCBzcHJpdGVcbiAgICAgKi9cbiAgICBQYXJ0aWNsZUNvbnRhaW5lci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3kgKG9wdGlvbnMpXG4gICAge1xuICAgICAgICBDb250YWluZXIucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzLCBvcHRpb25zKTtcblxuICAgICAgICB0aGlzLmRpc3Bvc2UoKTtcblxuICAgICAgICB0aGlzLl9wcm9wZXJ0aWVzID0gbnVsbDtcbiAgICAgICAgdGhpcy5fYnVmZmVycyA9IG51bGw7XG4gICAgICAgIHRoaXMuX2J1ZmZlclVwZGF0ZUlEcyA9IG51bGw7XG4gICAgfTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKCBQYXJ0aWNsZUNvbnRhaW5lci5wcm90b3R5cGUsIHByb3RvdHlwZUFjY2Vzc29ycyApO1xuXG4gICAgcmV0dXJuIFBhcnRpY2xlQ29udGFpbmVyO1xufShDb250YWluZXIpKTtcblxuLyoqXG4gKiBAYXV0aG9yIE1hdCBHcm92ZXNcbiAqXG4gKiBCaWcgdGhhbmtzIHRvIHRoZSB2ZXJ5IGNsZXZlciBNYXR0IERlc0xhdXJpZXJzIDxtYXR0ZGVzbD4gaHR0cHM6Ly9naXRodWIuY29tL21hdHRkZXNsL1xuICogZm9yIGNyZWF0aW5nIHRoZSBvcmlnaW5hbCBQaXhpSlMgdmVyc2lvbiFcbiAqIEFsc28gYSB0aGFua3MgdG8gaHR0cHM6Ly9naXRodWIuY29tL2JjaGV2YWxpZXIgZm9yIHR3ZWFraW5nIHRoZSB0aW50IGFuZCBhbHBoYSBzbyB0aGF0XG4gKiB0aGV5IG5vdyBzaGFyZSA0IGJ5dGVzIG9uIHRoZSB2ZXJ0ZXggYnVmZmVyXG4gKlxuICogSGVhdmlseSBpbnNwaXJlZCBieSBMaWJHRFgncyBQYXJ0aWNsZUJ1ZmZlcjpcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9saWJnZHgvbGliZ2R4L2Jsb2IvbWFzdGVyL2dkeC9zcmMvY29tL2JhZGxvZ2ljL2dkeC9ncmFwaGljcy9nMmQvUGFydGljbGVCdWZmZXIuamF2YVxuICovXG5cbi8qKlxuICogVGhlIHBhcnRpY2xlIGJ1ZmZlciBtYW5hZ2VzIHRoZSBzdGF0aWMgYW5kIGR5bmFtaWMgYnVmZmVycyBmb3IgYSBwYXJ0aWNsZSBjb250YWluZXIuXG4gKlxuICogQGNsYXNzXG4gKiBAcHJpdmF0ZVxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFBhcnRpY2xlQnVmZmVyID0gZnVuY3Rpb24gUGFydGljbGVCdWZmZXIocHJvcGVydGllcywgZHluYW1pY1Byb3BlcnR5RmxhZ3MsIHNpemUpXG57XG4gICAgdGhpcy5nZW9tZXRyeSA9IG5ldyBHZW9tZXRyeSgpO1xuXG4gICAgdGhpcy5pbmRleEJ1ZmZlciA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbnVtYmVyIG9mIHBhcnRpY2xlcyB0aGUgYnVmZmVyIGNhbiBob2xkXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnNpemUgPSBzaXplO1xuXG4gICAgLyoqXG4gICAgICogQSBsaXN0IG9mIHRoZSBwcm9wZXJ0aWVzIHRoYXQgYXJlIGR5bmFtaWMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBtZW1iZXIge29iamVjdFtdfVxuICAgICAqL1xuICAgIHRoaXMuZHluYW1pY1Byb3BlcnRpZXMgPSBbXTtcblxuICAgIC8qKlxuICAgICAqIEEgbGlzdCBvZiB0aGUgcHJvcGVydGllcyB0aGF0IGFyZSBzdGF0aWMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBtZW1iZXIge29iamVjdFtdfVxuICAgICAqL1xuICAgIHRoaXMuc3RhdGljUHJvcGVydGllcyA9IFtdO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wZXJ0aWVzLmxlbmd0aDsgKytpKVxuICAgIHtcbiAgICAgICAgdmFyIHByb3BlcnR5ID0gcHJvcGVydGllc1tpXTtcblxuICAgICAgICAvLyBNYWtlIGNvcHkgb2YgcHJvcGVydGllcyBvYmplY3Qgc28gdGhhdCB3aGVuIHdlIGVkaXQgdGhlIG9mZnNldCBpdCBkb2Vzbid0XG4gICAgICAgIC8vIGNoYW5nZSBhbGwgb3RoZXIgaW5zdGFuY2VzIG9mIHRoZSBvYmplY3QgbGl0ZXJhbFxuICAgICAgICBwcm9wZXJ0eSA9IHtcbiAgICAgICAgICAgIGF0dHJpYnV0ZU5hbWU6IHByb3BlcnR5LmF0dHJpYnV0ZU5hbWUsXG4gICAgICAgICAgICBzaXplOiBwcm9wZXJ0eS5zaXplLFxuICAgICAgICAgICAgdXBsb2FkRnVuY3Rpb246IHByb3BlcnR5LnVwbG9hZEZ1bmN0aW9uLFxuICAgICAgICAgICAgdHlwZTogcHJvcGVydHkudHlwZSB8fCBUWVBFUy5GTE9BVCxcbiAgICAgICAgICAgIG9mZnNldDogcHJvcGVydHkub2Zmc2V0LFxuICAgICAgICB9O1xuXG4gICAgICAgIGlmIChkeW5hbWljUHJvcGVydHlGbGFnc1tpXSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5keW5hbWljUHJvcGVydGllcy5wdXNoKHByb3BlcnR5KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGljUHJvcGVydGllcy5wdXNoKHByb3BlcnR5KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuc3RhdGljU3RyaWRlID0gMDtcbiAgICB0aGlzLnN0YXRpY0J1ZmZlciA9IG51bGw7XG4gICAgdGhpcy5zdGF0aWNEYXRhID0gbnVsbDtcbiAgICB0aGlzLnN0YXRpY0RhdGFVaW50MzIgPSBudWxsO1xuXG4gICAgdGhpcy5keW5hbWljU3RyaWRlID0gMDtcbiAgICB0aGlzLmR5bmFtaWNCdWZmZXIgPSBudWxsO1xuICAgIHRoaXMuZHluYW1pY0RhdGEgPSBudWxsO1xuICAgIHRoaXMuZHluYW1pY0RhdGFVaW50MzIgPSBudWxsO1xuXG4gICAgdGhpcy5fdXBkYXRlSUQgPSAwO1xuXG4gICAgdGhpcy5pbml0QnVmZmVycygpO1xufTtcblxuLyoqXG4gKiBTZXRzIHVwIHRoZSByZW5kZXJlciBjb250ZXh0IGFuZCBuZWNlc3NhcnkgYnVmZmVycy5cbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5QYXJ0aWNsZUJ1ZmZlci5wcm90b3R5cGUuaW5pdEJ1ZmZlcnMgPSBmdW5jdGlvbiBpbml0QnVmZmVycyAoKVxue1xuICAgIHZhciBnZW9tZXRyeSA9IHRoaXMuZ2VvbWV0cnk7XG5cbiAgICB2YXIgZHluYW1pY09mZnNldCA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBIb2xkcyB0aGUgaW5kaWNlcyBvZiB0aGUgZ2VvbWV0cnkgKHF1YWRzKSB0byBkcmF3XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtVaW50MTZBcnJheX1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMuaW5kZXhCdWZmZXIgPSBuZXcgQnVmZmVyKGNyZWF0ZUluZGljZXNGb3JRdWFkcyh0aGlzLnNpemUpLCB0cnVlLCB0cnVlKTtcbiAgICBnZW9tZXRyeS5hZGRJbmRleCh0aGlzLmluZGV4QnVmZmVyKTtcblxuICAgIHRoaXMuZHluYW1pY1N0cmlkZSA9IDA7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuZHluYW1pY1Byb3BlcnRpZXMubGVuZ3RoOyArK2kpXG4gICAge1xuICAgICAgICB2YXIgcHJvcGVydHkgPSB0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzW2ldO1xuXG4gICAgICAgIHByb3BlcnR5Lm9mZnNldCA9IGR5bmFtaWNPZmZzZXQ7XG4gICAgICAgIGR5bmFtaWNPZmZzZXQgKz0gcHJvcGVydHkuc2l6ZTtcbiAgICAgICAgdGhpcy5keW5hbWljU3RyaWRlICs9IHByb3BlcnR5LnNpemU7XG4gICAgfVxuXG4gICAgdmFyIGR5bkJ1ZmZlciA9IG5ldyBBcnJheUJ1ZmZlcih0aGlzLnNpemUgKiB0aGlzLmR5bmFtaWNTdHJpZGUgKiA0ICogNCk7XG5cbiAgICB0aGlzLmR5bmFtaWNEYXRhID0gbmV3IEZsb2F0MzJBcnJheShkeW5CdWZmZXIpO1xuICAgIHRoaXMuZHluYW1pY0RhdGFVaW50MzIgPSBuZXcgVWludDMyQXJyYXkoZHluQnVmZmVyKTtcbiAgICB0aGlzLmR5bmFtaWNCdWZmZXIgPSBuZXcgQnVmZmVyKHRoaXMuZHluYW1pY0RhdGEsIGZhbHNlLCBmYWxzZSk7XG5cbiAgICAvLyBzdGF0aWMgLy9cbiAgICB2YXIgc3RhdGljT2Zmc2V0ID0gMDtcblxuICAgIHRoaXMuc3RhdGljU3RyaWRlID0gMDtcblxuICAgIGZvciAodmFyIGkkMSA9IDA7IGkkMSA8IHRoaXMuc3RhdGljUHJvcGVydGllcy5sZW5ndGg7ICsraSQxKVxuICAgIHtcbiAgICAgICAgdmFyIHByb3BlcnR5JDEgPSB0aGlzLnN0YXRpY1Byb3BlcnRpZXNbaSQxXTtcblxuICAgICAgICBwcm9wZXJ0eSQxLm9mZnNldCA9IHN0YXRpY09mZnNldDtcbiAgICAgICAgc3RhdGljT2Zmc2V0ICs9IHByb3BlcnR5JDEuc2l6ZTtcbiAgICAgICAgdGhpcy5zdGF0aWNTdHJpZGUgKz0gcHJvcGVydHkkMS5zaXplO1xuICAgIH1cblxuICAgIHZhciBzdGF0QnVmZmVyID0gbmV3IEFycmF5QnVmZmVyKHRoaXMuc2l6ZSAqIHRoaXMuc3RhdGljU3RyaWRlICogNCAqIDQpO1xuXG4gICAgdGhpcy5zdGF0aWNEYXRhID0gbmV3IEZsb2F0MzJBcnJheShzdGF0QnVmZmVyKTtcbiAgICB0aGlzLnN0YXRpY0RhdGFVaW50MzIgPSBuZXcgVWludDMyQXJyYXkoc3RhdEJ1ZmZlcik7XG4gICAgdGhpcy5zdGF0aWNCdWZmZXIgPSBuZXcgQnVmZmVyKHRoaXMuc3RhdGljRGF0YSwgdHJ1ZSwgZmFsc2UpO1xuXG4gICAgZm9yICh2YXIgaSQyID0gMDsgaSQyIDwgdGhpcy5keW5hbWljUHJvcGVydGllcy5sZW5ndGg7ICsraSQyKVxuICAgIHtcbiAgICAgICAgdmFyIHByb3BlcnR5JDIgPSB0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzW2kkMl07XG5cbiAgICAgICAgZ2VvbWV0cnkuYWRkQXR0cmlidXRlKFxuICAgICAgICAgICAgcHJvcGVydHkkMi5hdHRyaWJ1dGVOYW1lLFxuICAgICAgICAgICAgdGhpcy5keW5hbWljQnVmZmVyLFxuICAgICAgICAgICAgMCxcbiAgICAgICAgICAgIHByb3BlcnR5JDIudHlwZSA9PT0gVFlQRVMuVU5TSUdORURfQllURSxcbiAgICAgICAgICAgIHByb3BlcnR5JDIudHlwZSxcbiAgICAgICAgICAgIHRoaXMuZHluYW1pY1N0cmlkZSAqIDQsXG4gICAgICAgICAgICBwcm9wZXJ0eSQyLm9mZnNldCAqIDRcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBmb3IgKHZhciBpJDMgPSAwOyBpJDMgPCB0aGlzLnN0YXRpY1Byb3BlcnRpZXMubGVuZ3RoOyArK2kkMylcbiAgICB7XG4gICAgICAgIHZhciBwcm9wZXJ0eSQzID0gdGhpcy5zdGF0aWNQcm9wZXJ0aWVzW2kkM107XG5cbiAgICAgICAgZ2VvbWV0cnkuYWRkQXR0cmlidXRlKFxuICAgICAgICAgICAgcHJvcGVydHkkMy5hdHRyaWJ1dGVOYW1lLFxuICAgICAgICAgICAgdGhpcy5zdGF0aWNCdWZmZXIsXG4gICAgICAgICAgICAwLFxuICAgICAgICAgICAgcHJvcGVydHkkMy50eXBlID09PSBUWVBFUy5VTlNJR05FRF9CWVRFLFxuICAgICAgICAgICAgcHJvcGVydHkkMy50eXBlLFxuICAgICAgICAgICAgdGhpcy5zdGF0aWNTdHJpZGUgKiA0LFxuICAgICAgICAgICAgcHJvcGVydHkkMy5vZmZzZXQgKiA0XG4gICAgICAgICk7XG4gICAgfVxufTtcblxuLyoqXG4gKiBVcGxvYWRzIHRoZSBkeW5hbWljIHByb3BlcnRpZXMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0W119IGNoaWxkcmVuIC0gVGhlIGNoaWxkcmVuIHRvIHVwbG9hZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydEluZGV4IC0gVGhlIGluZGV4IHRvIHN0YXJ0IGF0LlxuICogQHBhcmFtIHtudW1iZXJ9IGFtb3VudCAtIFRoZSBudW1iZXIgdG8gdXBsb2FkLlxuICovXG5QYXJ0aWNsZUJ1ZmZlci5wcm90b3R5cGUudXBsb2FkRHluYW1pYyA9IGZ1bmN0aW9uIHVwbG9hZER5bmFtaWMgKGNoaWxkcmVuLCBzdGFydEluZGV4LCBhbW91bnQpXG57XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzLmxlbmd0aDsgaSsrKVxuICAgIHtcbiAgICAgICAgdmFyIHByb3BlcnR5ID0gdGhpcy5keW5hbWljUHJvcGVydGllc1tpXTtcblxuICAgICAgICBwcm9wZXJ0eS51cGxvYWRGdW5jdGlvbihjaGlsZHJlbiwgc3RhcnRJbmRleCwgYW1vdW50LFxuICAgICAgICAgICAgcHJvcGVydHkudHlwZSA9PT0gVFlQRVMuVU5TSUdORURfQllURSA/IHRoaXMuZHluYW1pY0RhdGFVaW50MzIgOiB0aGlzLmR5bmFtaWNEYXRhLFxuICAgICAgICAgICAgdGhpcy5keW5hbWljU3RyaWRlLCBwcm9wZXJ0eS5vZmZzZXQpO1xuICAgIH1cblxuICAgIHRoaXMuZHluYW1pY0J1ZmZlci5fdXBkYXRlSUQrKztcbn07XG5cbi8qKlxuICogVXBsb2FkcyB0aGUgc3RhdGljIHByb3BlcnRpZXMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0W119IGNoaWxkcmVuIC0gVGhlIGNoaWxkcmVuIHRvIHVwbG9hZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydEluZGV4IC0gVGhlIGluZGV4IHRvIHN0YXJ0IGF0LlxuICogQHBhcmFtIHtudW1iZXJ9IGFtb3VudCAtIFRoZSBudW1iZXIgdG8gdXBsb2FkLlxuICovXG5QYXJ0aWNsZUJ1ZmZlci5wcm90b3R5cGUudXBsb2FkU3RhdGljID0gZnVuY3Rpb24gdXBsb2FkU3RhdGljIChjaGlsZHJlbiwgc3RhcnRJbmRleCwgYW1vdW50KVxue1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5zdGF0aWNQcm9wZXJ0aWVzLmxlbmd0aDsgaSsrKVxuICAgIHtcbiAgICAgICAgdmFyIHByb3BlcnR5ID0gdGhpcy5zdGF0aWNQcm9wZXJ0aWVzW2ldO1xuXG4gICAgICAgIHByb3BlcnR5LnVwbG9hZEZ1bmN0aW9uKGNoaWxkcmVuLCBzdGFydEluZGV4LCBhbW91bnQsXG4gICAgICAgICAgICBwcm9wZXJ0eS50eXBlID09PSBUWVBFUy5VTlNJR05FRF9CWVRFID8gdGhpcy5zdGF0aWNEYXRhVWludDMyIDogdGhpcy5zdGF0aWNEYXRhLFxuICAgICAgICAgICAgdGhpcy5zdGF0aWNTdHJpZGUsIHByb3BlcnR5Lm9mZnNldCk7XG4gICAgfVxuXG4gICAgdGhpcy5zdGF0aWNCdWZmZXIuX3VwZGF0ZUlEKys7XG59O1xuXG4vKipcbiAqIERlc3Ryb3lzIHRoZSBQYXJ0aWNsZUJ1ZmZlci5cbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5QYXJ0aWNsZUJ1ZmZlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3kgKClcbntcbiAgICB0aGlzLmluZGV4QnVmZmVyID0gbnVsbDtcblxuICAgIHRoaXMuZHluYW1pY1Byb3BlcnRpZXMgPSBudWxsO1xuICAgIC8vIHRoaXMuZHluYW1pY0J1ZmZlci5kZXN0cm95KCk7XG4gICAgdGhpcy5keW5hbWljQnVmZmVyID0gbnVsbDtcbiAgICB0aGlzLmR5bmFtaWNEYXRhID0gbnVsbDtcbiAgICB0aGlzLmR5bmFtaWNEYXRhVWludDMyID0gbnVsbDtcblxuICAgIHRoaXMuc3RhdGljUHJvcGVydGllcyA9IG51bGw7XG4gICAgLy8gdGhpcy5zdGF0aWNCdWZmZXIuZGVzdHJveSgpO1xuICAgIHRoaXMuc3RhdGljQnVmZmVyID0gbnVsbDtcbiAgICB0aGlzLnN0YXRpY0RhdGEgPSBudWxsO1xuICAgIHRoaXMuc3RhdGljRGF0YVVpbnQzMiA9IG51bGw7XG4gICAgLy8gYWxsIGJ1ZmZlcnMgYXJlIGRlc3Ryb3llZCBpbnNpZGUgZ2VvbWV0cnlcbiAgICB0aGlzLmdlb21ldHJ5LmRlc3Ryb3koKTtcbn07XG5cbnZhciB2ZXJ0ZXggPSBcImF0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjtcXG5hdHRyaWJ1dGUgdmVjMiBhVGV4dHVyZUNvb3JkO1xcbmF0dHJpYnV0ZSB2ZWM0IGFDb2xvcjtcXG5cXG5hdHRyaWJ1dGUgdmVjMiBhUG9zaXRpb25Db29yZDtcXG5hdHRyaWJ1dGUgZmxvYXQgYVJvdGF0aW9uO1xcblxcbnVuaWZvcm0gbWF0MyB0cmFuc2xhdGlvbk1hdHJpeDtcXG51bmlmb3JtIHZlYzQgdUNvbG9yO1xcblxcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcbnZhcnlpbmcgdmVjNCB2Q29sb3I7XFxuXFxudm9pZCBtYWluKHZvaWQpe1xcbiAgICBmbG9hdCB4ID0gKGFWZXJ0ZXhQb3NpdGlvbi54KSAqIGNvcyhhUm90YXRpb24pIC0gKGFWZXJ0ZXhQb3NpdGlvbi55KSAqIHNpbihhUm90YXRpb24pO1xcbiAgICBmbG9hdCB5ID0gKGFWZXJ0ZXhQb3NpdGlvbi54KSAqIHNpbihhUm90YXRpb24pICsgKGFWZXJ0ZXhQb3NpdGlvbi55KSAqIGNvcyhhUm90YXRpb24pO1xcblxcbiAgICB2ZWMyIHYgPSB2ZWMyKHgsIHkpO1xcbiAgICB2ID0gdiArIGFQb3NpdGlvbkNvb3JkO1xcblxcbiAgICBnbF9Qb3NpdGlvbiA9IHZlYzQoKHRyYW5zbGF0aW9uTWF0cml4ICogdmVjMyh2LCAxLjApKS54eSwgMC4wLCAxLjApO1xcblxcbiAgICB2VGV4dHVyZUNvb3JkID0gYVRleHR1cmVDb29yZDtcXG4gICAgdkNvbG9yID0gYUNvbG9yICogdUNvbG9yO1xcbn1cXG5cIjtcblxudmFyIGZyYWdtZW50ID0gXCJ2YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG52YXJ5aW5nIHZlYzQgdkNvbG9yO1xcblxcbnVuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyO1xcblxcbnZvaWQgbWFpbih2b2lkKXtcXG4gICAgdmVjNCBjb2xvciA9IHRleHR1cmUyRCh1U2FtcGxlciwgdlRleHR1cmVDb29yZCkgKiB2Q29sb3I7XFxuICAgIGdsX0ZyYWdDb2xvciA9IGNvbG9yO1xcbn1cIjtcblxuLyoqXG4gKiBAYXV0aG9yIE1hdCBHcm92ZXNcbiAqXG4gKiBCaWcgdGhhbmtzIHRvIHRoZSB2ZXJ5IGNsZXZlciBNYXR0IERlc0xhdXJpZXJzIDxtYXR0ZGVzbD4gaHR0cHM6Ly9naXRodWIuY29tL21hdHRkZXNsL1xuICogZm9yIGNyZWF0aW5nIHRoZSBvcmlnaW5hbCBQaXhpSlMgdmVyc2lvbiFcbiAqIEFsc28gYSB0aGFua3MgdG8gaHR0cHM6Ly9naXRodWIuY29tL2JjaGV2YWxpZXIgZm9yIHR3ZWFraW5nIHRoZSB0aW50IGFuZCBhbHBoYSBzbyB0aGF0IHRoZXkgbm93XG4gKiBzaGFyZSA0IGJ5dGVzIG9uIHRoZSB2ZXJ0ZXggYnVmZmVyXG4gKlxuICogSGVhdmlseSBpbnNwaXJlZCBieSBMaWJHRFgncyBQYXJ0aWNsZVJlbmRlcmVyOlxuICogaHR0cHM6Ly9naXRodWIuY29tL2xpYmdkeC9saWJnZHgvYmxvYi9tYXN0ZXIvZ2R4L3NyYy9jb20vYmFkbG9naWMvZ2R4L2dyYXBoaWNzL2cyZC9QYXJ0aWNsZVJlbmRlcmVyLmphdmFcbiAqL1xuXG4vKipcbiAqIFJlbmRlcmVyIGZvciBQYXJ0aWNsZXMgdGhhdCBpcyBkZXNpZ25lciBmb3Igc3BlZWQgb3ZlciBmZWF0dXJlIHNldC5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBQYXJ0aWNsZVJlbmRlcmVyID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoT2JqZWN0UmVuZGVyZXIpIHtcbiAgICBmdW5jdGlvbiBQYXJ0aWNsZVJlbmRlcmVyKHJlbmRlcmVyKVxuICAgIHtcbiAgICAgICAgT2JqZWN0UmVuZGVyZXIuY2FsbCh0aGlzLCByZW5kZXJlcik7XG5cbiAgICAgICAgLy8gNjU1MzUgaXMgbWF4IHZlcnRleCBpbmRleCBpbiB0aGUgaW5kZXggYnVmZmVyIChzZWUgUGFydGljbGVSZW5kZXJlcilcbiAgICAgICAgLy8gc28gbWF4IG51bWJlciBvZiBwYXJ0aWNsZXMgaXMgNjU1MzYgLyA0ID0gMTYzODRcbiAgICAgICAgLy8gYW5kIG1heCBudW1iZXIgb2YgZWxlbWVudCBpbiB0aGUgaW5kZXggYnVmZmVyIGlzIDE2Mzg0ICogNiA9IDk4MzA0XG4gICAgICAgIC8vIENyZWF0aW5nIGEgZnVsbCBpbmRleCBidWZmZXIsIG92ZXJoZWFkIGlzIDk4MzA0ICogMiA9IDE5NktvXG4gICAgICAgIC8vIGxldCBudW1JbmRpY2VzID0gOTgzMDQ7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBkZWZhdWx0IHNoYWRlciB0aGF0IGlzIHVzZWQgaWYgYSBzcHJpdGUgZG9lc24ndCBoYXZlIGEgbW9yZSBzcGVjaWZpYyBvbmUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuU2hhZGVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zaGFkZXIgPSBudWxsO1xuXG4gICAgICAgIHRoaXMucHJvcGVydGllcyA9IG51bGw7XG5cbiAgICAgICAgdGhpcy50ZW1wTWF0cml4ID0gbmV3IE1hdHJpeCgpO1xuXG4gICAgICAgIHRoaXMucHJvcGVydGllcyA9IFtcbiAgICAgICAgICAgIC8vIHZlcnRpY2VzRGF0YVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZU5hbWU6ICdhVmVydGV4UG9zaXRpb24nLFxuICAgICAgICAgICAgICAgIHNpemU6IDIsXG4gICAgICAgICAgICAgICAgdXBsb2FkRnVuY3Rpb246IHRoaXMudXBsb2FkVmVydGljZXMsXG4gICAgICAgICAgICAgICAgb2Zmc2V0OiAwLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8vIHBvc2l0aW9uRGF0YVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZU5hbWU6ICdhUG9zaXRpb25Db29yZCcsXG4gICAgICAgICAgICAgICAgc2l6ZTogMixcbiAgICAgICAgICAgICAgICB1cGxvYWRGdW5jdGlvbjogdGhpcy51cGxvYWRQb3NpdGlvbixcbiAgICAgICAgICAgICAgICBvZmZzZXQ6IDAsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLy8gcm90YXRpb25EYXRhXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYXR0cmlidXRlTmFtZTogJ2FSb3RhdGlvbicsXG4gICAgICAgICAgICAgICAgc2l6ZTogMSxcbiAgICAgICAgICAgICAgICB1cGxvYWRGdW5jdGlvbjogdGhpcy51cGxvYWRSb3RhdGlvbixcbiAgICAgICAgICAgICAgICBvZmZzZXQ6IDAsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLy8gdXZzRGF0YVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZU5hbWU6ICdhVGV4dHVyZUNvb3JkJyxcbiAgICAgICAgICAgICAgICBzaXplOiAyLFxuICAgICAgICAgICAgICAgIHVwbG9hZEZ1bmN0aW9uOiB0aGlzLnVwbG9hZFV2cyxcbiAgICAgICAgICAgICAgICBvZmZzZXQ6IDAsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLy8gdGludERhdGFcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBhdHRyaWJ1dGVOYW1lOiAnYUNvbG9yJyxcbiAgICAgICAgICAgICAgICBzaXplOiAxLFxuICAgICAgICAgICAgICAgIHR5cGU6IFRZUEVTLlVOU0lHTkVEX0JZVEUsXG4gICAgICAgICAgICAgICAgdXBsb2FkRnVuY3Rpb246IHRoaXMudXBsb2FkVGludCxcbiAgICAgICAgICAgICAgICBvZmZzZXQ6IDAsXG4gICAgICAgICAgICB9IF07XG5cbiAgICAgICAgdGhpcy5zaGFkZXIgPSBTaGFkZXIuZnJvbSh2ZXJ0ZXgsIGZyYWdtZW50LCB7fSk7XG4gICAgfVxuXG4gICAgaWYgKCBPYmplY3RSZW5kZXJlciApIFBhcnRpY2xlUmVuZGVyZXIuX19wcm90b19fID0gT2JqZWN0UmVuZGVyZXI7XG4gICAgUGFydGljbGVSZW5kZXJlci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBPYmplY3RSZW5kZXJlciAmJiBPYmplY3RSZW5kZXJlci5wcm90b3R5cGUgKTtcbiAgICBQYXJ0aWNsZVJlbmRlcmVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFBhcnRpY2xlUmVuZGVyZXI7XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIHRoZSBwYXJ0aWNsZSBjb250YWluZXIgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlBhcnRpY2xlQ29udGFpbmVyfSBjb250YWluZXIgLSBUaGUgY29udGFpbmVyIHRvIHJlbmRlciB1c2luZyB0aGlzIFBhcnRpY2xlUmVuZGVyZXJcbiAgICAgKi9cbiAgICBQYXJ0aWNsZVJlbmRlcmVyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIgKGNvbnRhaW5lcilcbiAgICB7XG4gICAgICAgIHZhciBjaGlsZHJlbiA9IGNvbnRhaW5lci5jaGlsZHJlbjtcbiAgICAgICAgdmFyIG1heFNpemUgPSBjb250YWluZXIuX21heFNpemU7XG4gICAgICAgIHZhciBiYXRjaFNpemUgPSBjb250YWluZXIuX2JhdGNoU2l6ZTtcbiAgICAgICAgdmFyIHJlbmRlcmVyID0gdGhpcy5yZW5kZXJlcjtcbiAgICAgICAgdmFyIHRvdGFsQ2hpbGRyZW4gPSBjaGlsZHJlbi5sZW5ndGg7XG5cbiAgICAgICAgaWYgKHRvdGFsQ2hpbGRyZW4gPT09IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0b3RhbENoaWxkcmVuID4gbWF4U2l6ZSAmJiAhY29udGFpbmVyLmF1dG9SZXNpemUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRvdGFsQ2hpbGRyZW4gPSBtYXhTaXplO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGJ1ZmZlcnMgPSBjb250YWluZXIuX2J1ZmZlcnM7XG5cbiAgICAgICAgaWYgKCFidWZmZXJzKVxuICAgICAgICB7XG4gICAgICAgICAgICBidWZmZXJzID0gY29udGFpbmVyLl9idWZmZXJzID0gdGhpcy5nZW5lcmF0ZUJ1ZmZlcnMoY29udGFpbmVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBiYXNlVGV4dHVyZSA9IGNoaWxkcmVuWzBdLl90ZXh0dXJlLmJhc2VUZXh0dXJlO1xuXG4gICAgICAgIC8vIGlmIHRoZSB1dnMgaGF2ZSBub3QgdXBkYXRlZCB0aGVuIG5vIHBvaW50IHJlbmRlcmluZyBqdXN0IHlldCFcbiAgICAgICAgdGhpcy5yZW5kZXJlci5zdGF0ZS5zZXRCbGVuZE1vZGUoY29ycmVjdEJsZW5kTW9kZShjb250YWluZXIuYmxlbmRNb2RlLCBiYXNlVGV4dHVyZS5hbHBoYU1vZGUpKTtcblxuICAgICAgICB2YXIgZ2wgPSByZW5kZXJlci5nbDtcblxuICAgICAgICB2YXIgbSA9IGNvbnRhaW5lci53b3JsZFRyYW5zZm9ybS5jb3B5VG8odGhpcy50ZW1wTWF0cml4KTtcblxuICAgICAgICBtLnByZXBlbmQocmVuZGVyZXIuZ2xvYmFsVW5pZm9ybXMudW5pZm9ybXMucHJvamVjdGlvbk1hdHJpeCk7XG5cbiAgICAgICAgdGhpcy5zaGFkZXIudW5pZm9ybXMudHJhbnNsYXRpb25NYXRyaXggPSBtLnRvQXJyYXkodHJ1ZSk7XG5cbiAgICAgICAgdGhpcy5zaGFkZXIudW5pZm9ybXMudUNvbG9yID0gcHJlbXVsdGlwbHlSZ2JhKGNvbnRhaW5lci50aW50UmdiLFxuICAgICAgICAgICAgY29udGFpbmVyLndvcmxkQWxwaGEsIHRoaXMuc2hhZGVyLnVuaWZvcm1zLnVDb2xvciwgYmFzZVRleHR1cmUuYWxwaGFNb2RlKTtcblxuICAgICAgICB0aGlzLnNoYWRlci51bmlmb3Jtcy51U2FtcGxlciA9IGJhc2VUZXh0dXJlO1xuXG4gICAgICAgIHRoaXMucmVuZGVyZXIuc2hhZGVyLmJpbmQodGhpcy5zaGFkZXIpO1xuXG4gICAgICAgIHZhciB1cGRhdGVTdGF0aWMgPSBmYWxzZTtcblxuICAgICAgICAvLyBub3cgbGV0cyB1cGxvYWQgYW5kIHJlbmRlciB0aGUgYnVmZmVycy4uXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBqID0gMDsgaSA8IHRvdGFsQ2hpbGRyZW47IGkgKz0gYmF0Y2hTaXplLCBqICs9IDEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBhbW91bnQgPSAodG90YWxDaGlsZHJlbiAtIGkpO1xuXG4gICAgICAgICAgICBpZiAoYW1vdW50ID4gYmF0Y2hTaXplKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGFtb3VudCA9IGJhdGNoU2l6ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGogPj0gYnVmZmVycy5sZW5ndGgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYnVmZmVycy5wdXNoKHRoaXMuX2dlbmVyYXRlT25lTW9yZUJ1ZmZlcihjb250YWluZXIpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIGJ1ZmZlciA9IGJ1ZmZlcnNbal07XG5cbiAgICAgICAgICAgIC8vIHdlIGFsd2F5cyB1cGxvYWQgdGhlIGR5bmFtaWNcbiAgICAgICAgICAgIGJ1ZmZlci51cGxvYWREeW5hbWljKGNoaWxkcmVuLCBpLCBhbW91bnQpO1xuXG4gICAgICAgICAgICB2YXIgYmlkID0gY29udGFpbmVyLl9idWZmZXJVcGRhdGVJRHNbal0gfHwgMDtcblxuICAgICAgICAgICAgdXBkYXRlU3RhdGljID0gdXBkYXRlU3RhdGljIHx8IChidWZmZXIuX3VwZGF0ZUlEIDwgYmlkKTtcbiAgICAgICAgICAgIC8vIHdlIG9ubHkgdXBsb2FkIHRoZSBzdGF0aWMgY29udGVudCB3aGVuIHdlIGhhdmUgdG8hXG4gICAgICAgICAgICBpZiAodXBkYXRlU3RhdGljKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGJ1ZmZlci5fdXBkYXRlSUQgPSBjb250YWluZXIuX3VwZGF0ZUlEO1xuICAgICAgICAgICAgICAgIGJ1ZmZlci51cGxvYWRTdGF0aWMoY2hpbGRyZW4sIGksIGFtb3VudCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGJpbmQgdGhlIGJ1ZmZlclxuICAgICAgICAgICAgcmVuZGVyZXIuZ2VvbWV0cnkuYmluZChidWZmZXIuZ2VvbWV0cnkpO1xuICAgICAgICAgICAgZ2wuZHJhd0VsZW1lbnRzKGdsLlRSSUFOR0xFUywgYW1vdW50ICogNiwgZ2wuVU5TSUdORURfU0hPUlQsIDApO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgb25lIHBhcnRpY2xlIGJ1ZmZlciBmb3IgZWFjaCBjaGlsZCBpbiB0aGUgY29udGFpbmVyIHdlIHdhbnQgdG8gcmVuZGVyIGFuZCB1cGRhdGVzIGludGVybmFsIHByb3BlcnRpZXNcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5QYXJ0aWNsZUNvbnRhaW5lcn0gY29udGFpbmVyIC0gVGhlIGNvbnRhaW5lciB0byByZW5kZXIgdXNpbmcgdGhpcyBQYXJ0aWNsZVJlbmRlcmVyXG4gICAgICogQHJldHVybiB7UElYSS5QYXJ0aWNsZUJ1ZmZlcltdfSBUaGUgYnVmZmVyc1xuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgUGFydGljbGVSZW5kZXJlci5wcm90b3R5cGUuZ2VuZXJhdGVCdWZmZXJzID0gZnVuY3Rpb24gZ2VuZXJhdGVCdWZmZXJzIChjb250YWluZXIpXG4gICAge1xuICAgICAgICB2YXIgYnVmZmVycyA9IFtdO1xuICAgICAgICB2YXIgc2l6ZSA9IGNvbnRhaW5lci5fbWF4U2l6ZTtcbiAgICAgICAgdmFyIGJhdGNoU2l6ZSA9IGNvbnRhaW5lci5fYmF0Y2hTaXplO1xuICAgICAgICB2YXIgZHluYW1pY1Byb3BlcnR5RmxhZ3MgPSBjb250YWluZXIuX3Byb3BlcnRpZXM7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzaXplOyBpICs9IGJhdGNoU2l6ZSlcbiAgICAgICAge1xuICAgICAgICAgICAgYnVmZmVycy5wdXNoKG5ldyBQYXJ0aWNsZUJ1ZmZlcih0aGlzLnByb3BlcnRpZXMsIGR5bmFtaWNQcm9wZXJ0eUZsYWdzLCBiYXRjaFNpemUpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBidWZmZXJzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIG9uZSBtb3JlIHBhcnRpY2xlIGJ1ZmZlciwgYmVjYXVzZSBjb250YWluZXIgaGFzIGF1dG9SZXNpemUgZmVhdHVyZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlBhcnRpY2xlQ29udGFpbmVyfSBjb250YWluZXIgLSBUaGUgY29udGFpbmVyIHRvIHJlbmRlciB1c2luZyB0aGlzIFBhcnRpY2xlUmVuZGVyZXJcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlBhcnRpY2xlQnVmZmVyfSBnZW5lcmF0ZWQgYnVmZmVyXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBQYXJ0aWNsZVJlbmRlcmVyLnByb3RvdHlwZS5fZ2VuZXJhdGVPbmVNb3JlQnVmZmVyID0gZnVuY3Rpb24gX2dlbmVyYXRlT25lTW9yZUJ1ZmZlciAoY29udGFpbmVyKVxuICAgIHtcbiAgICAgICAgdmFyIGJhdGNoU2l6ZSA9IGNvbnRhaW5lci5fYmF0Y2hTaXplO1xuICAgICAgICB2YXIgZHluYW1pY1Byb3BlcnR5RmxhZ3MgPSBjb250YWluZXIuX3Byb3BlcnRpZXM7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBQYXJ0aWNsZUJ1ZmZlcih0aGlzLnByb3BlcnRpZXMsIGR5bmFtaWNQcm9wZXJ0eUZsYWdzLCBiYXRjaFNpemUpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVcGxvYWRzIHRoZSB2ZXJ0aWNlcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0W119IGNoaWxkcmVuIC0gdGhlIGFycmF5IG9mIGRpc3BsYXkgb2JqZWN0cyB0byByZW5kZXJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnRJbmRleCAtIHRoZSBpbmRleCB0byBzdGFydCBmcm9tIGluIHRoZSBjaGlsZHJlbiBhcnJheVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhbW91bnQgLSB0aGUgYW1vdW50IG9mIGNoaWxkcmVuIHRoYXQgd2lsbCBoYXZlIHRoZWlyIHZlcnRpY2VzIHVwbG9hZGVkXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gYXJyYXkgLSBUaGUgdmVydGljZXMgdG8gdXBsb2FkLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgLSBTdHJpZGUgdG8gdXNlIGZvciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCAtIE9mZnNldCB0byBzdGFydCBhdC5cbiAgICAgKi9cbiAgICBQYXJ0aWNsZVJlbmRlcmVyLnByb3RvdHlwZS51cGxvYWRWZXJ0aWNlcyA9IGZ1bmN0aW9uIHVwbG9hZFZlcnRpY2VzIChjaGlsZHJlbiwgc3RhcnRJbmRleCwgYW1vdW50LCBhcnJheSwgc3RyaWRlLCBvZmZzZXQpXG4gICAge1xuICAgICAgICB2YXIgdzAgPSAwO1xuICAgICAgICB2YXIgdzEgPSAwO1xuICAgICAgICB2YXIgaDAgPSAwO1xuICAgICAgICB2YXIgaDEgPSAwO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYW1vdW50OyArK2kpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBzcHJpdGUgPSBjaGlsZHJlbltzdGFydEluZGV4ICsgaV07XG4gICAgICAgICAgICB2YXIgdGV4dHVyZSA9IHNwcml0ZS5fdGV4dHVyZTtcbiAgICAgICAgICAgIHZhciBzeCA9IHNwcml0ZS5zY2FsZS54O1xuICAgICAgICAgICAgdmFyIHN5ID0gc3ByaXRlLnNjYWxlLnk7XG4gICAgICAgICAgICB2YXIgdHJpbSA9IHRleHR1cmUudHJpbTtcbiAgICAgICAgICAgIHZhciBvcmlnID0gdGV4dHVyZS5vcmlnO1xuXG4gICAgICAgICAgICBpZiAodHJpbSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAvLyBpZiB0aGUgc3ByaXRlIGlzIHRyaW1tZWQgYW5kIGlzIG5vdCBhIHRpbGluZ3Nwcml0ZSB0aGVuIHdlIG5lZWQgdG8gYWRkIHRoZVxuICAgICAgICAgICAgICAgIC8vIGV4dHJhIHNwYWNlIGJlZm9yZSB0cmFuc2Zvcm1pbmcgdGhlIHNwcml0ZSBjb29yZHMuLlxuICAgICAgICAgICAgICAgIHcxID0gdHJpbS54IC0gKHNwcml0ZS5hbmNob3IueCAqIG9yaWcud2lkdGgpO1xuICAgICAgICAgICAgICAgIHcwID0gdzEgKyB0cmltLndpZHRoO1xuXG4gICAgICAgICAgICAgICAgaDEgPSB0cmltLnkgLSAoc3ByaXRlLmFuY2hvci55ICogb3JpZy5oZWlnaHQpO1xuICAgICAgICAgICAgICAgIGgwID0gaDEgKyB0cmltLmhlaWdodDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB3MCA9IChvcmlnLndpZHRoKSAqICgxIC0gc3ByaXRlLmFuY2hvci54KTtcbiAgICAgICAgICAgICAgICB3MSA9IChvcmlnLndpZHRoKSAqIC1zcHJpdGUuYW5jaG9yLng7XG5cbiAgICAgICAgICAgICAgICBoMCA9IG9yaWcuaGVpZ2h0ICogKDEgLSBzcHJpdGUuYW5jaG9yLnkpO1xuICAgICAgICAgICAgICAgIGgxID0gb3JpZy5oZWlnaHQgKiAtc3ByaXRlLmFuY2hvci55O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBhcnJheVtvZmZzZXRdID0gdzEgKiBzeDtcbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIDFdID0gaDEgKiBzeTtcblxuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlXSA9IHcwICogc3g7XG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGUgKyAxXSA9IGgxICogc3k7XG5cbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIChzdHJpZGUgKiAyKV0gPSB3MCAqIHN4O1xuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgKHN0cmlkZSAqIDIpICsgMV0gPSBoMCAqIHN5O1xuXG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAoc3RyaWRlICogMyldID0gdzEgKiBzeDtcbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIChzdHJpZGUgKiAzKSArIDFdID0gaDAgKiBzeTtcblxuICAgICAgICAgICAgb2Zmc2V0ICs9IHN0cmlkZSAqIDQ7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVXBsb2FkcyB0aGUgcG9zaXRpb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdFtdfSBjaGlsZHJlbiAtIHRoZSBhcnJheSBvZiBkaXNwbGF5IG9iamVjdHMgdG8gcmVuZGVyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0SW5kZXggLSB0aGUgaW5kZXggdG8gc3RhcnQgZnJvbSBpbiB0aGUgY2hpbGRyZW4gYXJyYXlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYW1vdW50IC0gdGhlIGFtb3VudCBvZiBjaGlsZHJlbiB0aGF0IHdpbGwgaGF2ZSB0aGVpciBwb3NpdGlvbnMgdXBsb2FkZWRcbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSBhcnJheSAtIFRoZSB2ZXJ0aWNlcyB0byB1cGxvYWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSAtIFN0cmlkZSB0byB1c2UgZm9yIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IC0gT2Zmc2V0IHRvIHN0YXJ0IGF0LlxuICAgICAqL1xuICAgIFBhcnRpY2xlUmVuZGVyZXIucHJvdG90eXBlLnVwbG9hZFBvc2l0aW9uID0gZnVuY3Rpb24gdXBsb2FkUG9zaXRpb24gKGNoaWxkcmVuLCBzdGFydEluZGV4LCBhbW91bnQsIGFycmF5LCBzdHJpZGUsIG9mZnNldClcbiAgICB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYW1vdW50OyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBzcHJpdGVQb3NpdGlvbiA9IGNoaWxkcmVuW3N0YXJ0SW5kZXggKyBpXS5wb3NpdGlvbjtcblxuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0XSA9IHNwcml0ZVBvc2l0aW9uLng7XG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAxXSA9IHNwcml0ZVBvc2l0aW9uLnk7XG5cbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIHN0cmlkZV0gPSBzcHJpdGVQb3NpdGlvbi54O1xuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlICsgMV0gPSBzcHJpdGVQb3NpdGlvbi55O1xuXG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAoc3RyaWRlICogMildID0gc3ByaXRlUG9zaXRpb24ueDtcbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIChzdHJpZGUgKiAyKSArIDFdID0gc3ByaXRlUG9zaXRpb24ueTtcblxuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgKHN0cmlkZSAqIDMpXSA9IHNwcml0ZVBvc2l0aW9uLng7XG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAoc3RyaWRlICogMykgKyAxXSA9IHNwcml0ZVBvc2l0aW9uLnk7XG5cbiAgICAgICAgICAgIG9mZnNldCArPSBzdHJpZGUgKiA0O1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFVwbG9hZHMgdGhlIHJvdGlhdGlvbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0W119IGNoaWxkcmVuIC0gdGhlIGFycmF5IG9mIGRpc3BsYXkgb2JqZWN0cyB0byByZW5kZXJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnRJbmRleCAtIHRoZSBpbmRleCB0byBzdGFydCBmcm9tIGluIHRoZSBjaGlsZHJlbiBhcnJheVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhbW91bnQgLSB0aGUgYW1vdW50IG9mIGNoaWxkcmVuIHRoYXQgd2lsbCBoYXZlIHRoZWlyIHJvdGF0aW9uIHVwbG9hZGVkXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gYXJyYXkgLSBUaGUgdmVydGljZXMgdG8gdXBsb2FkLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgLSBTdHJpZGUgdG8gdXNlIGZvciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCAtIE9mZnNldCB0byBzdGFydCBhdC5cbiAgICAgKi9cbiAgICBQYXJ0aWNsZVJlbmRlcmVyLnByb3RvdHlwZS51cGxvYWRSb3RhdGlvbiA9IGZ1bmN0aW9uIHVwbG9hZFJvdGF0aW9uIChjaGlsZHJlbiwgc3RhcnRJbmRleCwgYW1vdW50LCBhcnJheSwgc3RyaWRlLCBvZmZzZXQpXG4gICAge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFtb3VudDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgc3ByaXRlUm90YXRpb24gPSBjaGlsZHJlbltzdGFydEluZGV4ICsgaV0ucm90YXRpb247XG5cbiAgICAgICAgICAgIGFycmF5W29mZnNldF0gPSBzcHJpdGVSb3RhdGlvbjtcbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIHN0cmlkZV0gPSBzcHJpdGVSb3RhdGlvbjtcbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIChzdHJpZGUgKiAyKV0gPSBzcHJpdGVSb3RhdGlvbjtcbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIChzdHJpZGUgKiAzKV0gPSBzcHJpdGVSb3RhdGlvbjtcblxuICAgICAgICAgICAgb2Zmc2V0ICs9IHN0cmlkZSAqIDQ7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVXBsb2FkcyB0aGUgVXZzXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdFtdfSBjaGlsZHJlbiAtIHRoZSBhcnJheSBvZiBkaXNwbGF5IG9iamVjdHMgdG8gcmVuZGVyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0SW5kZXggLSB0aGUgaW5kZXggdG8gc3RhcnQgZnJvbSBpbiB0aGUgY2hpbGRyZW4gYXJyYXlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYW1vdW50IC0gdGhlIGFtb3VudCBvZiBjaGlsZHJlbiB0aGF0IHdpbGwgaGF2ZSB0aGVpciByb3RhdGlvbiB1cGxvYWRlZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IGFycmF5IC0gVGhlIHZlcnRpY2VzIHRvIHVwbG9hZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIC0gU3RyaWRlIHRvIHVzZSBmb3IgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgLSBPZmZzZXQgdG8gc3RhcnQgYXQuXG4gICAgICovXG4gICAgUGFydGljbGVSZW5kZXJlci5wcm90b3R5cGUudXBsb2FkVXZzID0gZnVuY3Rpb24gdXBsb2FkVXZzIChjaGlsZHJlbiwgc3RhcnRJbmRleCwgYW1vdW50LCBhcnJheSwgc3RyaWRlLCBvZmZzZXQpXG4gICAge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFtb3VudDsgKytpKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgdGV4dHVyZVV2cyA9IGNoaWxkcmVuW3N0YXJ0SW5kZXggKyBpXS5fdGV4dHVyZS5fdXZzO1xuXG4gICAgICAgICAgICBpZiAodGV4dHVyZVV2cylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBhcnJheVtvZmZzZXRdID0gdGV4dHVyZVV2cy54MDtcbiAgICAgICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAxXSA9IHRleHR1cmVVdnMueTA7XG5cbiAgICAgICAgICAgICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGVdID0gdGV4dHVyZVV2cy54MTtcbiAgICAgICAgICAgICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGUgKyAxXSA9IHRleHR1cmVVdnMueTE7XG5cbiAgICAgICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAoc3RyaWRlICogMildID0gdGV4dHVyZVV2cy54MjtcbiAgICAgICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAoc3RyaWRlICogMikgKyAxXSA9IHRleHR1cmVVdnMueTI7XG5cbiAgICAgICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAoc3RyaWRlICogMyldID0gdGV4dHVyZVV2cy54MztcbiAgICAgICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAoc3RyaWRlICogMykgKyAxXSA9IHRleHR1cmVVdnMueTM7XG5cbiAgICAgICAgICAgICAgICBvZmZzZXQgKz0gc3RyaWRlICogNDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAvLyBUT0RPIHlvdSBrbm93IHRoaXMgY2FuIGJlIGVhc2llciFcbiAgICAgICAgICAgICAgICBhcnJheVtvZmZzZXRdID0gMDtcbiAgICAgICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAxXSA9IDA7XG5cbiAgICAgICAgICAgICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGVdID0gMDtcbiAgICAgICAgICAgICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGUgKyAxXSA9IDA7XG5cbiAgICAgICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAoc3RyaWRlICogMildID0gMDtcbiAgICAgICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAoc3RyaWRlICogMikgKyAxXSA9IDA7XG5cbiAgICAgICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAoc3RyaWRlICogMyldID0gMDtcbiAgICAgICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAoc3RyaWRlICogMykgKyAxXSA9IDA7XG5cbiAgICAgICAgICAgICAgICBvZmZzZXQgKz0gc3RyaWRlICogNDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVcGxvYWRzIHRoZSB0aW50LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3RbXX0gY2hpbGRyZW4gLSB0aGUgYXJyYXkgb2YgZGlzcGxheSBvYmplY3RzIHRvIHJlbmRlclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydEluZGV4IC0gdGhlIGluZGV4IHRvIHN0YXJ0IGZyb20gaW4gdGhlIGNoaWxkcmVuIGFycmF5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGFtb3VudCAtIHRoZSBhbW91bnQgb2YgY2hpbGRyZW4gdGhhdCB3aWxsIGhhdmUgdGhlaXIgcm90YXRpb24gdXBsb2FkZWRcbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSBhcnJheSAtIFRoZSB2ZXJ0aWNlcyB0byB1cGxvYWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSAtIFN0cmlkZSB0byB1c2UgZm9yIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IC0gT2Zmc2V0IHRvIHN0YXJ0IGF0LlxuICAgICAqL1xuICAgIFBhcnRpY2xlUmVuZGVyZXIucHJvdG90eXBlLnVwbG9hZFRpbnQgPSBmdW5jdGlvbiB1cGxvYWRUaW50IChjaGlsZHJlbiwgc3RhcnRJbmRleCwgYW1vdW50LCBhcnJheSwgc3RyaWRlLCBvZmZzZXQpXG4gICAge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFtb3VudDsgKytpKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgc3ByaXRlID0gY2hpbGRyZW5bc3RhcnRJbmRleCArIGldO1xuICAgICAgICAgICAgdmFyIHByZW11bHRpcGxpZWQgPSBzcHJpdGUuX3RleHR1cmUuYmFzZVRleHR1cmUuYWxwaGFNb2RlID4gMDtcbiAgICAgICAgICAgIHZhciBhbHBoYSA9IHNwcml0ZS5hbHBoYTtcbiAgICAgICAgICAgIC8vIHdlIGRvbnQgY2FsbCBleHRyYSBmdW5jdGlvbiBpZiBhbHBoYSBpcyAxLjAsIHRoYXQncyBmYXN0ZXJcbiAgICAgICAgICAgIHZhciBhcmdiID0gYWxwaGEgPCAxLjAgJiYgcHJlbXVsdGlwbGllZCA/IHByZW11bHRpcGx5VGludChzcHJpdGUuX3RpbnRSR0IsIGFscGhhKVxuICAgICAgICAgICAgICAgIDogc3ByaXRlLl90aW50UkdCICsgKGFscGhhICogMjU1IDw8IDI0KTtcblxuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0XSA9IGFyZ2I7XG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGVdID0gYXJnYjtcbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIChzdHJpZGUgKiAyKV0gPSBhcmdiO1xuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgKHN0cmlkZSAqIDMpXSA9IGFyZ2I7XG5cbiAgICAgICAgICAgIG9mZnNldCArPSBzdHJpZGUgKiA0O1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoZSBQYXJ0aWNsZVJlbmRlcmVyLlxuICAgICAqL1xuICAgIFBhcnRpY2xlUmVuZGVyZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95ICgpXG4gICAge1xuICAgICAgICBPYmplY3RSZW5kZXJlci5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpO1xuXG4gICAgICAgIGlmICh0aGlzLnNoYWRlcilcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5zaGFkZXIuZGVzdHJveSgpO1xuICAgICAgICAgICAgdGhpcy5zaGFkZXIgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy50ZW1wTWF0cml4ID0gbnVsbDtcbiAgICB9O1xuXG4gICAgcmV0dXJuIFBhcnRpY2xlUmVuZGVyZXI7XG59KE9iamVjdFJlbmRlcmVyKSk7XG5cbmV4cG9ydCB7IFBhcnRpY2xlQ29udGFpbmVyLCBQYXJ0aWNsZVJlbmRlcmVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYXJ0aWNsZXMuZXMuanMubWFwXG4iLCIvKiFcbiAqIEBwaXhpL3Nwcml0ZXNoZWV0IC0gdjUuMi4wXG4gKiBDb21waWxlZCBXZWQsIDA2IE5vdiAyMDE5IDAyOjMyOjQzIFVUQ1xuICpcbiAqIEBwaXhpL3Nwcml0ZXNoZWV0IGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgUmVjdGFuZ2xlIH0gZnJvbSAnQHBpeGkvbWF0aCc7XG5pbXBvcnQgeyBUZXh0dXJlIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5pbXBvcnQgeyBnZXRSZXNvbHV0aW9uT2ZVcmwsIHVybCB9IGZyb20gJ0BwaXhpL3V0aWxzJztcbmltcG9ydCB7IExvYWRlclJlc291cmNlIH0gZnJvbSAnQHBpeGkvbG9hZGVycyc7XG5cbi8qKlxuICogVXRpbGl0eSBjbGFzcyBmb3IgbWFpbnRhaW5pbmcgcmVmZXJlbmNlIHRvIGEgY29sbGVjdGlvblxuICogb2YgVGV4dHVyZXMgb24gYSBzaW5nbGUgU3ByaXRlc2hlZXQuXG4gKlxuICogVG8gYWNjZXNzIGEgc3ByaXRlIHNoZWV0IGZyb20geW91ciBjb2RlIHBhc3MgaXRzIEpTT04gZGF0YSBmaWxlIHRvIFBpeGkncyBsb2FkZXI6XG4gKlxuICogYGBganNcbiAqIFBJWEkuTG9hZGVyLnNoYXJlZC5hZGQoXCJpbWFnZXMvc3ByaXRlc2hlZXQuanNvblwiKS5sb2FkKHNldHVwKTtcbiAqXG4gKiBmdW5jdGlvbiBzZXR1cCgpIHtcbiAqICAgbGV0IHNoZWV0ID0gUElYSS5Mb2FkZXIuc2hhcmVkLnJlc291cmNlc1tcImltYWdlcy9zcHJpdGVzaGVldC5qc29uXCJdLnNwcml0ZXNoZWV0O1xuICogICAuLi5cbiAqIH1cbiAqIGBgYFxuICogV2l0aCB0aGUgYHNoZWV0LnRleHR1cmVzYCB5b3UgY2FuIGNyZWF0ZSBTcHJpdGUgb2JqZWN0cyxgc2hlZXQuYW5pbWF0aW9uc2AgY2FuIGJlIHVzZWQgdG8gY3JlYXRlIGFuIEFuaW1hdGVkU3ByaXRlLlxuICpcbiAqIFNwcml0ZSBzaGVldHMgY2FuIGJlIHBhY2tlZCB1c2luZyB0b29scyBsaWtlIHtAbGluayBodHRwczovL2NvZGVhbmR3ZWIuY29tL3RleHR1cmVwYWNrZXJ8VGV4dHVyZVBhY2tlcn0sXG4gKiB7QGxpbmsgaHR0cHM6Ly9yZW5kZXJoanMubmV0L3Nob2Vib3gvfFNob2Vib3h9IG9yIHtAbGluayBodHRwczovL2dpdGh1Yi5jb20va3J6eXN6dG9mLW8vc3ByaXRlc2hlZXQuanN8U3ByaXRlc2hlZXQuanN9LlxuICogRGVmYXVsdCBhbmNob3IgcG9pbnRzIChzZWUge0BsaW5rIFBJWEkuVGV4dHVyZSNkZWZhdWx0QW5jaG9yfSkgYW5kIGdyb3VwaW5nIG9mIGFuaW1hdGlvbiBzcHJpdGVzIGFyZSBjdXJyZW50bHkgb25seVxuICogc3VwcG9ydGVkIGJ5IFRleHR1cmVQYWNrZXIuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgU3ByaXRlc2hlZXQgPSBmdW5jdGlvbiBTcHJpdGVzaGVldChiYXNlVGV4dHVyZSwgZGF0YSwgcmVzb2x1dGlvbkZpbGVuYW1lKVxue1xuICAgIGlmICggcmVzb2x1dGlvbkZpbGVuYW1lID09PSB2b2lkIDAgKSByZXNvbHV0aW9uRmlsZW5hbWUgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogUmVmZXJlbmNlIHRvIHRocyBzb3VyY2UgdGV4dHVyZVxuICAgICAqIEB0eXBlIHtQSVhJLkJhc2VUZXh0dXJlfVxuICAgICAqL1xuICAgIHRoaXMuYmFzZVRleHR1cmUgPSBiYXNlVGV4dHVyZTtcblxuICAgIC8qKlxuICAgICAqIEEgbWFwIGNvbnRhaW5pbmcgYWxsIHRleHR1cmVzIG9mIHRoZSBzcHJpdGUgc2hlZXQuXG4gICAgICogQ2FuIGJlIHVzZWQgdG8gY3JlYXRlIGEge0BsaW5rIFBJWEkuU3ByaXRlfFNwcml0ZX06XG4gICAgICogYGBganNcbiAgICAgKiBuZXcgUElYSS5TcHJpdGUoc2hlZXQudGV4dHVyZXNbXCJpbWFnZS5wbmdcIl0pO1xuICAgICAqIGBgYFxuICAgICAqIEBtZW1iZXIge09iamVjdH1cbiAgICAgKi9cbiAgICB0aGlzLnRleHR1cmVzID0ge307XG5cbiAgICAvKipcbiAgICAgKiBBIG1hcCBjb250YWluaW5nIHRoZSB0ZXh0dXJlcyBmb3IgZWFjaCBhbmltYXRpb24uXG4gICAgICogQ2FuIGJlIHVzZWQgdG8gY3JlYXRlIGFuIHtAbGluayBQSVhJLkFuaW1hdGVkU3ByaXRlfEFuaW1hdGVkU3ByaXRlfTpcbiAgICAgKiBgYGBqc1xuICAgICAqIG5ldyBQSVhJLkFuaW1hdGVkU3ByaXRlKHNoZWV0LmFuaW1hdGlvbnNbXCJhbmltX25hbWVcIl0pXG4gICAgICogYGBgXG4gICAgICogQG1lbWJlciB7T2JqZWN0fVxuICAgICAqL1xuICAgIHRoaXMuYW5pbWF0aW9ucyA9IHt9O1xuXG4gICAgLyoqXG4gICAgICogUmVmZXJlbmNlIHRvIHRoZSBvcmlnaW5hbCBKU09OIGRhdGEuXG4gICAgICogQHR5cGUge09iamVjdH1cbiAgICAgKi9cbiAgICB0aGlzLmRhdGEgPSBkYXRhO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHJlc29sdXRpb24gb2YgdGhlIHNwcml0ZXNoZWV0LlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5yZXNvbHV0aW9uID0gdGhpcy5fdXBkYXRlUmVzb2x1dGlvbihcbiAgICAgICAgcmVzb2x1dGlvbkZpbGVuYW1lXG4gICAgICAgIHx8ICh0aGlzLmJhc2VUZXh0dXJlLnJlc291cmNlID8gdGhpcy5iYXNlVGV4dHVyZS5yZXNvdXJjZS51cmwgOiBudWxsKVxuICAgICk7XG5cbiAgICAvKipcbiAgICAgKiBNYXAgb2Ygc3ByaXRlc2hlZXQgZnJhbWVzLlxuICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLl9mcmFtZXMgPSB0aGlzLmRhdGEuZnJhbWVzO1xuXG4gICAgLyoqXG4gICAgICogQ29sbGVjdGlvbiBvZiBmcmFtZSBuYW1lcy5cbiAgICAgKiBAdHlwZSB7c3RyaW5nW119XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLl9mcmFtZUtleXMgPSBPYmplY3Qua2V5cyh0aGlzLl9mcmFtZXMpO1xuXG4gICAgLyoqXG4gICAgICogQ3VycmVudCBiYXRjaCBpbmRleCBiZWluZyBwcm9jZXNzZWQuXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMuX2JhdGNoSW5kZXggPSAwO1xuXG4gICAgLyoqXG4gICAgICogQ2FsbGJhY2sgd2hlbiBwYXJzZSBpcyBjb21wbGV0ZWQuXG4gICAgICogQHR5cGUge0Z1bmN0aW9ufVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5fY2FsbGJhY2sgPSBudWxsO1xufTtcblxudmFyIHN0YXRpY0FjY2Vzc29ycyA9IHsgQkFUQ0hfU0laRTogeyBjb25maWd1cmFibGU6IHRydWUgfSB9O1xuXG4vKipcbiAqIEdlbmVyYXRlIHRoZSByZXNvbHV0aW9uIGZyb20gdGhlIGZpbGVuYW1lIG9yIGZhbGxiYWNrXG4gKiB0byB0aGUgbWV0YS5zY2FsZSBmaWVsZCBvZiB0aGUgSlNPTiBkYXRhLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge3N0cmluZ30gcmVzb2x1dGlvbkZpbGVuYW1lIC0gVGhlIGZpbGVuYW1lIHRvIHVzZSBmb3IgcmVzb2x2aW5nXG4gKiAgICB0aGUgZGVmYXVsdCByZXNvbHV0aW9uLlxuICogQHJldHVybiB7bnVtYmVyfSBSZXNvbHV0aW9uIHRvIHVzZSBmb3Igc3ByaXRlc2hlZXQuXG4gKi9cbnN0YXRpY0FjY2Vzc29ycy5CQVRDSF9TSVpFLmdldCA9IGZ1bmN0aW9uICgpXG57XG4gICAgcmV0dXJuIDEwMDA7XG59O1xuXG5TcHJpdGVzaGVldC5wcm90b3R5cGUuX3VwZGF0ZVJlc29sdXRpb24gPSBmdW5jdGlvbiBfdXBkYXRlUmVzb2x1dGlvbiAocmVzb2x1dGlvbkZpbGVuYW1lKVxue1xuICAgIHZhciBzY2FsZSA9IHRoaXMuZGF0YS5tZXRhLnNjYWxlO1xuXG4gICAgLy8gVXNlIGEgZGVmYXVsdFZhbHVlIG9mIGBudWxsYCB0byBjaGVjayBpZiBhIHVybC1iYXNlZCByZXNvbHV0aW9uIGlzIHNldFxuICAgIHZhciByZXNvbHV0aW9uID0gZ2V0UmVzb2x1dGlvbk9mVXJsKHJlc29sdXRpb25GaWxlbmFtZSwgbnVsbCk7XG5cbiAgICAvLyBObyByZXNvbHV0aW9uIGZvdW5kIHZpYSBVUkxcbiAgICBpZiAocmVzb2x1dGlvbiA9PT0gbnVsbClcbiAgICB7XG4gICAgICAgIC8vIFVzZSB0aGUgc2NhbGUgdmFsdWUgb3IgZGVmYXVsdCB0byAxXG4gICAgICAgIHJlc29sdXRpb24gPSBzY2FsZSAhPT0gdW5kZWZpbmVkID8gcGFyc2VGbG9hdChzY2FsZSkgOiAxO1xuICAgIH1cblxuICAgIC8vIEZvciBub24tMSByZXNvbHV0aW9ucywgdXBkYXRlIGJhc2VUZXh0dXJlXG4gICAgaWYgKHJlc29sdXRpb24gIT09IDEpXG4gICAge1xuICAgICAgICB0aGlzLmJhc2VUZXh0dXJlLnNldFJlc29sdXRpb24ocmVzb2x1dGlvbik7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc29sdXRpb247XG59O1xuXG4vKipcbiAqIFBhcnNlciBzcHJpdGVzaGVldCBmcm9tIGxvYWRlZCBkYXRhLiBUaGlzIGlzIGRvbmUgYXN5bmNocm9ub3VzbHlcbiAqIHRvIHByZXZlbnQgY3JlYXRpbmcgdG9vIG1hbnkgVGV4dHVyZSB3aXRoaW4gYSBzaW5nbGUgcHJvY2Vzcy5cbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayAtIENhbGxiYWNrIHdoZW4gY29tcGxldGUgcmV0dXJuc1xuICogICAgYSBtYXAgb2YgdGhlIFRleHR1cmVzIGZvciB0aGlzIHNwcml0ZXNoZWV0LlxuICovXG5TcHJpdGVzaGVldC5wcm90b3R5cGUucGFyc2UgPSBmdW5jdGlvbiBwYXJzZSAoY2FsbGJhY2spXG57XG4gICAgdGhpcy5fYmF0Y2hJbmRleCA9IDA7XG4gICAgdGhpcy5fY2FsbGJhY2sgPSBjYWxsYmFjaztcblxuICAgIGlmICh0aGlzLl9mcmFtZUtleXMubGVuZ3RoIDw9IFNwcml0ZXNoZWV0LkJBVENIX1NJWkUpXG4gICAge1xuICAgICAgICB0aGlzLl9wcm9jZXNzRnJhbWVzKDApO1xuICAgICAgICB0aGlzLl9wcm9jZXNzQW5pbWF0aW9ucygpO1xuICAgICAgICB0aGlzLl9wYXJzZUNvbXBsZXRlKCk7XG4gICAgfVxuICAgIGVsc2VcbiAgICB7XG4gICAgICAgIHRoaXMuX25leHRCYXRjaCgpO1xuICAgIH1cbn07XG5cbi8qKlxuICogUHJvY2VzcyBhIGJhdGNoIG9mIGZyYW1lc1xuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge251bWJlcn0gaW5pdGlhbEZyYW1lSW5kZXggLSBUaGUgaW5kZXggb2YgZnJhbWUgdG8gc3RhcnQuXG4gKi9cblNwcml0ZXNoZWV0LnByb3RvdHlwZS5fcHJvY2Vzc0ZyYW1lcyA9IGZ1bmN0aW9uIF9wcm9jZXNzRnJhbWVzIChpbml0aWFsRnJhbWVJbmRleClcbntcbiAgICB2YXIgZnJhbWVJbmRleCA9IGluaXRpYWxGcmFtZUluZGV4O1xuICAgIHZhciBtYXhGcmFtZXMgPSBTcHJpdGVzaGVldC5CQVRDSF9TSVpFO1xuXG4gICAgd2hpbGUgKGZyYW1lSW5kZXggLSBpbml0aWFsRnJhbWVJbmRleCA8IG1heEZyYW1lcyAmJiBmcmFtZUluZGV4IDwgdGhpcy5fZnJhbWVLZXlzLmxlbmd0aClcbiAgICB7XG4gICAgICAgIHZhciBpID0gdGhpcy5fZnJhbWVLZXlzW2ZyYW1lSW5kZXhdO1xuICAgICAgICB2YXIgZGF0YSA9IHRoaXMuX2ZyYW1lc1tpXTtcbiAgICAgICAgdmFyIHJlY3QgPSBkYXRhLmZyYW1lO1xuXG4gICAgICAgIGlmIChyZWN0KVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgZnJhbWUgPSBudWxsO1xuICAgICAgICAgICAgdmFyIHRyaW0gPSBudWxsO1xuICAgICAgICAgICAgdmFyIHNvdXJjZVNpemUgPSBkYXRhLnRyaW1tZWQgIT09IGZhbHNlICYmIGRhdGEuc291cmNlU2l6ZVxuICAgICAgICAgICAgICAgID8gZGF0YS5zb3VyY2VTaXplIDogZGF0YS5mcmFtZTtcblxuICAgICAgICAgICAgdmFyIG9yaWcgPSBuZXcgUmVjdGFuZ2xlKFxuICAgICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAgICAgMCxcbiAgICAgICAgICAgICAgICBNYXRoLmZsb29yKHNvdXJjZVNpemUudykgLyB0aGlzLnJlc29sdXRpb24sXG4gICAgICAgICAgICAgICAgTWF0aC5mbG9vcihzb3VyY2VTaXplLmgpIC8gdGhpcy5yZXNvbHV0aW9uXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICBpZiAoZGF0YS5yb3RhdGVkKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGZyYW1lID0gbmV3IFJlY3RhbmdsZShcbiAgICAgICAgICAgICAgICAgICAgTWF0aC5mbG9vcihyZWN0LngpIC8gdGhpcy5yZXNvbHV0aW9uLFxuICAgICAgICAgICAgICAgICAgICBNYXRoLmZsb29yKHJlY3QueSkgLyB0aGlzLnJlc29sdXRpb24sXG4gICAgICAgICAgICAgICAgICAgIE1hdGguZmxvb3IocmVjdC5oKSAvIHRoaXMucmVzb2x1dGlvbixcbiAgICAgICAgICAgICAgICAgICAgTWF0aC5mbG9vcihyZWN0LncpIC8gdGhpcy5yZXNvbHV0aW9uXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBmcmFtZSA9IG5ldyBSZWN0YW5nbGUoXG4gICAgICAgICAgICAgICAgICAgIE1hdGguZmxvb3IocmVjdC54KSAvIHRoaXMucmVzb2x1dGlvbixcbiAgICAgICAgICAgICAgICAgICAgTWF0aC5mbG9vcihyZWN0LnkpIC8gdGhpcy5yZXNvbHV0aW9uLFxuICAgICAgICAgICAgICAgICAgICBNYXRoLmZsb29yKHJlY3QudykgLyB0aGlzLnJlc29sdXRpb24sXG4gICAgICAgICAgICAgICAgICAgIE1hdGguZmxvb3IocmVjdC5oKSAvIHRoaXMucmVzb2x1dGlvblxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vICBDaGVjayB0byBzZWUgaWYgdGhlIHNwcml0ZSBpcyB0cmltbWVkXG4gICAgICAgICAgICBpZiAoZGF0YS50cmltbWVkICE9PSBmYWxzZSAmJiBkYXRhLnNwcml0ZVNvdXJjZVNpemUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdHJpbSA9IG5ldyBSZWN0YW5nbGUoXG4gICAgICAgICAgICAgICAgICAgIE1hdGguZmxvb3IoZGF0YS5zcHJpdGVTb3VyY2VTaXplLngpIC8gdGhpcy5yZXNvbHV0aW9uLFxuICAgICAgICAgICAgICAgICAgICBNYXRoLmZsb29yKGRhdGEuc3ByaXRlU291cmNlU2l6ZS55KSAvIHRoaXMucmVzb2x1dGlvbixcbiAgICAgICAgICAgICAgICAgICAgTWF0aC5mbG9vcihyZWN0LncpIC8gdGhpcy5yZXNvbHV0aW9uLFxuICAgICAgICAgICAgICAgICAgICBNYXRoLmZsb29yKHJlY3QuaCkgLyB0aGlzLnJlc29sdXRpb25cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnRleHR1cmVzW2ldID0gbmV3IFRleHR1cmUoXG4gICAgICAgICAgICAgICAgdGhpcy5iYXNlVGV4dHVyZSxcbiAgICAgICAgICAgICAgICBmcmFtZSxcbiAgICAgICAgICAgICAgICBvcmlnLFxuICAgICAgICAgICAgICAgIHRyaW0sXG4gICAgICAgICAgICAgICAgZGF0YS5yb3RhdGVkID8gMiA6IDAsXG4gICAgICAgICAgICAgICAgZGF0YS5hbmNob3JcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIC8vIGxldHMgYWxzbyBhZGQgdGhlIGZyYW1lIHRvIHBpeGkncyBnbG9iYWwgY2FjaGUgZm9yICdmcm9tJyBhbmQgJ2Zyb21Mb2FkZXInIGZ1bmN0aW9uc1xuICAgICAgICAgICAgVGV4dHVyZS5hZGRUb0NhY2hlKHRoaXMudGV4dHVyZXNbaV0sIGkpO1xuICAgICAgICB9XG5cbiAgICAgICAgZnJhbWVJbmRleCsrO1xuICAgIH1cbn07XG5cbi8qKlxuICogUGFyc2UgYW5pbWF0aW9ucyBjb25maWdcbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5TcHJpdGVzaGVldC5wcm90b3R5cGUuX3Byb2Nlc3NBbmltYXRpb25zID0gZnVuY3Rpb24gX3Byb2Nlc3NBbmltYXRpb25zICgpXG57XG4gICAgdmFyIGFuaW1hdGlvbnMgPSB0aGlzLmRhdGEuYW5pbWF0aW9ucyB8fCB7fTtcblxuICAgIGZvciAodmFyIGFuaW1OYW1lIGluIGFuaW1hdGlvbnMpXG4gICAge1xuICAgICAgICB0aGlzLmFuaW1hdGlvbnNbYW5pbU5hbWVdID0gW107XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYW5pbWF0aW9uc1thbmltTmFtZV0ubGVuZ3RoOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBmcmFtZU5hbWUgPSBhbmltYXRpb25zW2FuaW1OYW1lXVtpXTtcblxuICAgICAgICAgICAgdGhpcy5hbmltYXRpb25zW2FuaW1OYW1lXS5wdXNoKHRoaXMudGV4dHVyZXNbZnJhbWVOYW1lXSk7XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG4vKipcbiAqIFRoZSBwYXJzZSBoYXMgY29tcGxldGVkLlxuICpcbiAqIEBwcml2YXRlXG4gKi9cblNwcml0ZXNoZWV0LnByb3RvdHlwZS5fcGFyc2VDb21wbGV0ZSA9IGZ1bmN0aW9uIF9wYXJzZUNvbXBsZXRlICgpXG57XG4gICAgdmFyIGNhbGxiYWNrID0gdGhpcy5fY2FsbGJhY2s7XG5cbiAgICB0aGlzLl9jYWxsYmFjayA9IG51bGw7XG4gICAgdGhpcy5fYmF0Y2hJbmRleCA9IDA7XG4gICAgY2FsbGJhY2suY2FsbCh0aGlzLCB0aGlzLnRleHR1cmVzKTtcbn07XG5cbi8qKlxuICogQmVnaW4gdGhlIG5leHQgYmF0Y2ggb2YgdGV4dHVyZXMuXG4gKlxuICogQHByaXZhdGVcbiAqL1xuU3ByaXRlc2hlZXQucHJvdG90eXBlLl9uZXh0QmF0Y2ggPSBmdW5jdGlvbiBfbmV4dEJhdGNoICgpXG57XG4gICAgICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gICAgdGhpcy5fcHJvY2Vzc0ZyYW1lcyh0aGlzLl9iYXRjaEluZGV4ICogU3ByaXRlc2hlZXQuQkFUQ0hfU0laRSk7XG4gICAgdGhpcy5fYmF0Y2hJbmRleCsrO1xuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcyQxLl9iYXRjaEluZGV4ICogU3ByaXRlc2hlZXQuQkFUQ0hfU0laRSA8IHRoaXMkMS5fZnJhbWVLZXlzLmxlbmd0aClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcyQxLl9uZXh0QmF0Y2goKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMkMS5fcHJvY2Vzc0FuaW1hdGlvbnMoKTtcbiAgICAgICAgICAgIHRoaXMkMS5fcGFyc2VDb21wbGV0ZSgpO1xuICAgICAgICB9XG4gICAgfSwgMCk7XG59O1xuXG4vKipcbiAqIERlc3Ryb3kgU3ByaXRlc2hlZXQgYW5kIGRvbid0IHVzZSBhZnRlciB0aGlzLlxuICpcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Rlc3Ryb3lCYXNlPWZhbHNlXSBXaGV0aGVyIHRvIGRlc3Ryb3kgdGhlIGJhc2UgdGV4dHVyZSBhcyB3ZWxsXG4gKi9cblNwcml0ZXNoZWV0LnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSAoZGVzdHJveUJhc2UpXG57XG4gICAgICAgIGlmICggZGVzdHJveUJhc2UgPT09IHZvaWQgMCApIGRlc3Ryb3lCYXNlID0gZmFsc2U7XG5cbiAgICBmb3IgKHZhciBpIGluIHRoaXMudGV4dHVyZXMpXG4gICAge1xuICAgICAgICB0aGlzLnRleHR1cmVzW2ldLmRlc3Ryb3koKTtcbiAgICB9XG4gICAgdGhpcy5fZnJhbWVzID0gbnVsbDtcbiAgICB0aGlzLl9mcmFtZUtleXMgPSBudWxsO1xuICAgIHRoaXMuZGF0YSA9IG51bGw7XG4gICAgdGhpcy50ZXh0dXJlcyA9IG51bGw7XG4gICAgaWYgKGRlc3Ryb3lCYXNlKVxuICAgIHtcbiAgICAgICAgdGhpcy5iYXNlVGV4dHVyZS5kZXN0cm95KCk7XG4gICAgfVxuICAgIHRoaXMuYmFzZVRleHR1cmUgPSBudWxsO1xufTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoIFNwcml0ZXNoZWV0LCBzdGF0aWNBY2Nlc3NvcnMgKTtcblxuLyoqXG4gKiB7QGxpbmsgUElYSS5Mb2FkZXIgTG9hZGVyfSBtaWRkbGV3YXJlIGZvciBsb2FkaW5nIHRleHR1cmUgYXRsYXNlcyB0aGF0IGhhdmUgYmVlbiBjcmVhdGVkIHdpdGhcbiAqIFRleHR1cmVQYWNrZXIgb3Igc2ltaWxhciBKU09OLWJhc2VkIHNwcml0ZXNoZWV0LlxuICpcbiAqIFRoaXMgbWlkZGxld2FyZSBhdXRvbWF0aWNhbGx5IGdlbmVyYXRlcyBUZXh0dXJlIHJlc291cmNlcy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAaW1wbGVtZW50cyBQSVhJLklMb2FkZXJQbHVnaW5cbiAqL1xudmFyIFNwcml0ZXNoZWV0TG9hZGVyID0gZnVuY3Rpb24gU3ByaXRlc2hlZXRMb2FkZXIgKCkge307XG5cblNwcml0ZXNoZWV0TG9hZGVyLnVzZSA9IGZ1bmN0aW9uIHVzZSAocmVzb3VyY2UsIG5leHQpXG57XG4gICAgdmFyIGltYWdlUmVzb3VyY2VOYW1lID0gKHJlc291cmNlLm5hbWUpICsgXCJfaW1hZ2VcIjtcblxuICAgIC8vIHNraXAgaWYgbm8gZGF0YSwgaXRzIG5vdCBqc29uLCBpdCBpc24ndCBzcHJpdGVzaGVldCBkYXRhLCBvciB0aGUgaW1hZ2UgcmVzb3VyY2UgYWxyZWFkeSBleGlzdHNcbiAgICBpZiAoIXJlc291cmNlLmRhdGFcbiAgICAgICAgfHwgcmVzb3VyY2UudHlwZSAhPT0gTG9hZGVyUmVzb3VyY2UuVFlQRS5KU09OXG4gICAgICAgIHx8ICFyZXNvdXJjZS5kYXRhLmZyYW1lc1xuICAgICAgICB8fCB0aGlzLnJlc291cmNlc1tpbWFnZVJlc291cmNlTmFtZV1cbiAgICApXG4gICAge1xuICAgICAgICBuZXh0KCk7XG5cbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBsb2FkT3B0aW9ucyA9IHtcbiAgICAgICAgY3Jvc3NPcmlnaW46IHJlc291cmNlLmNyb3NzT3JpZ2luLFxuICAgICAgICBtZXRhZGF0YTogcmVzb3VyY2UubWV0YWRhdGEuaW1hZ2VNZXRhZGF0YSxcbiAgICAgICAgcGFyZW50UmVzb3VyY2U6IHJlc291cmNlLFxuICAgIH07XG5cbiAgICB2YXIgcmVzb3VyY2VQYXRoID0gU3ByaXRlc2hlZXRMb2FkZXIuZ2V0UmVzb3VyY2VQYXRoKHJlc291cmNlLCB0aGlzLmJhc2VVcmwpO1xuXG4gICAgLy8gbG9hZCB0aGUgaW1hZ2UgZm9yIHRoaXMgc2hlZXRcbiAgICB0aGlzLmFkZChpbWFnZVJlc291cmNlTmFtZSwgcmVzb3VyY2VQYXRoLCBsb2FkT3B0aW9ucywgZnVuY3Rpb24gb25JbWFnZUxvYWQocmVzKVxuICAgIHtcbiAgICAgICAgaWYgKHJlcy5lcnJvcilcbiAgICAgICAge1xuICAgICAgICAgICAgbmV4dChyZXMuZXJyb3IpO1xuXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgc3ByaXRlc2hlZXQgPSBuZXcgU3ByaXRlc2hlZXQoXG4gICAgICAgICAgICByZXMudGV4dHVyZS5iYXNlVGV4dHVyZSxcbiAgICAgICAgICAgIHJlc291cmNlLmRhdGEsXG4gICAgICAgICAgICByZXNvdXJjZS51cmxcbiAgICAgICAgKTtcblxuICAgICAgICBzcHJpdGVzaGVldC5wYXJzZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXNvdXJjZS5zcHJpdGVzaGVldCA9IHNwcml0ZXNoZWV0O1xuICAgICAgICAgICAgcmVzb3VyY2UudGV4dHVyZXMgPSBzcHJpdGVzaGVldC50ZXh0dXJlcztcbiAgICAgICAgICAgIG5leHQoKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG59O1xuXG4vKipcbiAqIEdldCB0aGUgc3ByaXRlc2hlZXRzIHJvb3QgcGF0aFxuICogQHBhcmFtIHtQSVhJLkxvYWRlclJlc291cmNlfSByZXNvdXJjZSAtIFJlc291cmNlIHRvIGNoZWNrIHBhdGhcbiAqIEBwYXJhbSB7c3RyaW5nfSBiYXNlVXJsIC0gQmFzZSByb290IHVybFxuICovXG5TcHJpdGVzaGVldExvYWRlci5nZXRSZXNvdXJjZVBhdGggPSBmdW5jdGlvbiBnZXRSZXNvdXJjZVBhdGggKHJlc291cmNlLCBiYXNlVXJsKVxue1xuICAgIC8vIFByZXBlbmQgdXJsIHBhdGggdW5sZXNzIHRoZSByZXNvdXJjZSBpbWFnZSBpcyBhIGRhdGEgdXJsXG4gICAgaWYgKHJlc291cmNlLmlzRGF0YVVybClcbiAgICB7XG4gICAgICAgIHJldHVybiByZXNvdXJjZS5kYXRhLm1ldGEuaW1hZ2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIHVybC5yZXNvbHZlKHJlc291cmNlLnVybC5yZXBsYWNlKGJhc2VVcmwsICcnKSwgcmVzb3VyY2UuZGF0YS5tZXRhLmltYWdlKTtcbn07XG5cbmV4cG9ydCB7IFNwcml0ZXNoZWV0LCBTcHJpdGVzaGVldExvYWRlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3ByaXRlc2hlZXQuZXMuanMubWFwXG4iLCIvKiFcbiAqIEBwaXhpL3Nwcml0ZS10aWxpbmcgLSB2NS4yLjBcbiAqIENvbXBpbGVkIFdlZCwgMDYgTm92IDIwMTkgMDI6MzI6NDMgVVRDXG4gKlxuICogQHBpeGkvc3ByaXRlLXRpbGluZyBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbmltcG9ydCB7IFRleHR1cmUsIFRleHR1cmVNYXRyaXgsIE9iamVjdFJlbmRlcmVyLCBTaGFkZXIsIFF1YWRVdiB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuaW1wb3J0IHsgUG9pbnQsIFJlY3RhbmdsZSwgVHJhbnNmb3JtLCBNYXRyaXggfSBmcm9tICdAcGl4aS9tYXRoJztcbmltcG9ydCB7IFRleHR1cmVDYWNoZSwgcHJlbXVsdGlwbHlUaW50VG9SZ2JhLCBjb3JyZWN0QmxlbmRNb2RlIH0gZnJvbSAnQHBpeGkvdXRpbHMnO1xuaW1wb3J0IHsgU3ByaXRlIH0gZnJvbSAnQHBpeGkvc3ByaXRlJztcbmltcG9ydCB7IFdSQVBfTU9ERVMgfSBmcm9tICdAcGl4aS9jb25zdGFudHMnO1xuXG52YXIgdGVtcFBvaW50ID0gbmV3IFBvaW50KCk7XG5cbi8qKlxuICogQSB0aWxpbmcgc3ByaXRlIGlzIGEgZmFzdCB3YXkgb2YgcmVuZGVyaW5nIGEgdGlsaW5nIGltYWdlXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLlNwcml0ZVxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFRpbGluZ1Nwcml0ZSA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKFNwcml0ZSkge1xuICAgIGZ1bmN0aW9uIFRpbGluZ1Nwcml0ZSh0ZXh0dXJlLCB3aWR0aCwgaGVpZ2h0KVxuICAgIHtcbiAgICAgICAgaWYgKCB3aWR0aCA9PT0gdm9pZCAwICkgd2lkdGggPSAxMDA7XG4gICAgICAgIGlmICggaGVpZ2h0ID09PSB2b2lkIDAgKSBoZWlnaHQgPSAxMDA7XG5cbiAgICAgICAgU3ByaXRlLmNhbGwodGhpcywgdGV4dHVyZSk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRpbGUgdHJhbnNmb3JtXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuVHJhbnNmb3JtfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50aWxlVHJhbnNmb3JtID0gbmV3IFRyYW5zZm9ybSgpO1xuXG4gICAgICAgIC8vIC8vLyBwcml2YXRlXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB3aXRoIG9mIHRoZSB0aWxpbmcgc3ByaXRlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3dpZHRoID0gd2lkdGg7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIHRpbGluZyBzcHJpdGVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5faGVpZ2h0ID0gaGVpZ2h0O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDYW52YXMgcGF0dGVyblxuICAgICAgICAgKlxuICAgICAgICAgKiBAdHlwZSB7Q2FudmFzUGF0dGVybn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2NhbnZhc1BhdHRlcm4gPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBtYXRyaXggdGhhdCBpcyBhcHBsaWVkIHRvIFVWIHRvIGdldCB0aGUgY29vcmRzIGluIFRleHR1cmUgbm9ybWFsaXplZCBzcGFjZSB0byBjb29yZHMgaW4gQmFzZVRleHR1cmUgc3BhY2VcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5UZXh0dXJlTWF0cml4fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy51dk1hdHJpeCA9IHRleHR1cmUudXZNYXRyaXggfHwgbmV3IFRleHR1cmVNYXRyaXgodGV4dHVyZSk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFBsdWdpbiB0aGF0IGlzIHJlc3BvbnNpYmxlIGZvciByZW5kZXJpbmcgdGhpcyBlbGVtZW50LlxuICAgICAgICAgKiBBbGxvd3MgdG8gY3VzdG9taXplIHRoZSByZW5kZXJpbmcgcHJvY2VzcyB3aXRob3V0IG92ZXJyaWRpbmcgJ19yZW5kZXInIG1ldGhvZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKiBAZGVmYXVsdCAndGlsaW5nU3ByaXRlJ1xuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5wbHVnaW5OYW1lID0gJ3RpbGluZ1Nwcml0ZSc7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZXRoZXIgb3Igbm90IGFuY2hvciBhZmZlY3RzIHV2c1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy51dlJlc3BlY3RBbmNob3IgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAoIFNwcml0ZSApIFRpbGluZ1Nwcml0ZS5fX3Byb3RvX18gPSBTcHJpdGU7XG4gICAgVGlsaW5nU3ByaXRlLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIFNwcml0ZSAmJiBTcHJpdGUucHJvdG90eXBlICk7XG4gICAgVGlsaW5nU3ByaXRlLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFRpbGluZ1Nwcml0ZTtcblxuICAgIHZhciBwcm90b3R5cGVBY2Nlc3NvcnMgPSB7IGNsYW1wTWFyZ2luOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LHRpbGVTY2FsZTogeyBjb25maWd1cmFibGU6IHRydWUgfSx0aWxlUG9zaXRpb246IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sd2lkdGg6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0saGVpZ2h0OiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH07XG4gICAgLyoqXG4gICAgICogQ2hhbmdlcyBmcmFtZSBjbGFtcGluZyBpbiBjb3JyZXNwb25kaW5nIHRleHR1cmVUcmFuc2Zvcm0sIHNob3J0Y3V0XG4gICAgICogQ2hhbmdlIHRvIC0wLjUgdG8gYWRkIGEgcGl4ZWwgdG8gdGhlIGVkZ2UsIHJlY29tbWVuZGVkIGZvciB0cmFuc3BhcmVudCB0cmltbWVkIHRleHR1cmVzIGluIGF0bGFzXG4gICAgICpcbiAgICAgKiBAZGVmYXVsdCAwLjVcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLmNsYW1wTWFyZ2luLmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy51dk1hdHJpeC5jbGFtcE1hcmdpbjtcbiAgICB9O1xuXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLmNsYW1wTWFyZ2luLnNldCA9IGZ1bmN0aW9uICh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICB0aGlzLnV2TWF0cml4LmNsYW1wTWFyZ2luID0gdmFsdWU7XG4gICAgICAgIHRoaXMudXZNYXRyaXgudXBkYXRlKHRydWUpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgc2NhbGluZyBvZiB0aGUgaW1hZ2UgdGhhdCBpcyBiZWluZyB0aWxlZFxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5PYnNlcnZhYmxlUG9pbnR9XG4gICAgICovXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLnRpbGVTY2FsZS5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudGlsZVRyYW5zZm9ybS5zY2FsZTtcbiAgICB9O1xuXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLnRpbGVTY2FsZS5zZXQgPSBmdW5jdGlvbiAodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgdGhpcy50aWxlVHJhbnNmb3JtLnNjYWxlLmNvcHlGcm9tKHZhbHVlKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIG9mZnNldCBvZiB0aGUgaW1hZ2UgdGhhdCBpcyBiZWluZyB0aWxlZFxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5PYnNlcnZhYmxlUG9pbnR9XG4gICAgICovXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLnRpbGVQb3NpdGlvbi5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudGlsZVRyYW5zZm9ybS5wb3NpdGlvbjtcbiAgICB9O1xuXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLnRpbGVQb3NpdGlvbi5zZXQgPSBmdW5jdGlvbiAodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgdGhpcy50aWxlVHJhbnNmb3JtLnBvc2l0aW9uLmNvcHlGcm9tKHZhbHVlKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBUaWxpbmdTcHJpdGUucHJvdG90eXBlLl9vblRleHR1cmVVcGRhdGUgPSBmdW5jdGlvbiBfb25UZXh0dXJlVXBkYXRlICgpXG4gICAge1xuICAgICAgICBpZiAodGhpcy51dk1hdHJpeClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy51dk1hdHJpeC50ZXh0dXJlID0gdGhpcy5fdGV4dHVyZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9jYWNoZWRUaW50ID0gMHhGRkZGRkY7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgdGhlIG9iamVjdCB1c2luZyB0aGUgV2ViR0wgcmVuZGVyZXJcbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyXG4gICAgICovXG4gICAgVGlsaW5nU3ByaXRlLnByb3RvdHlwZS5fcmVuZGVyID0gZnVuY3Rpb24gX3JlbmRlciAocmVuZGVyZXIpXG4gICAge1xuICAgICAgICAvLyB0d2VhayBvdXIgdGV4dHVyZSB0ZW1wb3JhcmlseS4uXG4gICAgICAgIHZhciB0ZXh0dXJlID0gdGhpcy5fdGV4dHVyZTtcblxuICAgICAgICBpZiAoIXRleHR1cmUgfHwgIXRleHR1cmUudmFsaWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMudGlsZVRyYW5zZm9ybS51cGRhdGVMb2NhbFRyYW5zZm9ybSgpO1xuICAgICAgICB0aGlzLnV2TWF0cml4LnVwZGF0ZSgpO1xuXG4gICAgICAgIHJlbmRlcmVyLmJhdGNoLnNldE9iamVjdFJlbmRlcmVyKHJlbmRlcmVyLnBsdWdpbnNbdGhpcy5wbHVnaW5OYW1lXSk7XG4gICAgICAgIHJlbmRlcmVyLnBsdWdpbnNbdGhpcy5wbHVnaW5OYW1lXS5yZW5kZXIodGhpcyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIGJvdW5kcyBvZiB0aGUgdGlsaW5nIHNwcml0ZS5cbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBUaWxpbmdTcHJpdGUucHJvdG90eXBlLl9jYWxjdWxhdGVCb3VuZHMgPSBmdW5jdGlvbiBfY2FsY3VsYXRlQm91bmRzICgpXG4gICAge1xuICAgICAgICB2YXIgbWluWCA9IHRoaXMuX3dpZHRoICogLXRoaXMuX2FuY2hvci5feDtcbiAgICAgICAgdmFyIG1pblkgPSB0aGlzLl9oZWlnaHQgKiAtdGhpcy5fYW5jaG9yLl95O1xuICAgICAgICB2YXIgbWF4WCA9IHRoaXMuX3dpZHRoICogKDEgLSB0aGlzLl9hbmNob3IuX3gpO1xuICAgICAgICB2YXIgbWF4WSA9IHRoaXMuX2hlaWdodCAqICgxIC0gdGhpcy5fYW5jaG9yLl95KTtcblxuICAgICAgICB0aGlzLl9ib3VuZHMuYWRkRnJhbWUodGhpcy50cmFuc2Zvcm0sIG1pblgsIG1pblksIG1heFgsIG1heFkpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBsb2NhbCBib3VuZHMgb2YgdGhlIHNwcml0ZSBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSByZWN0IC0gVGhlIG91dHB1dCByZWN0YW5nbGUuXG4gICAgICogQHJldHVybiB7UElYSS5SZWN0YW5nbGV9IFRoZSBib3VuZHMuXG4gICAgICovXG4gICAgVGlsaW5nU3ByaXRlLnByb3RvdHlwZS5nZXRMb2NhbEJvdW5kcyA9IGZ1bmN0aW9uIGdldExvY2FsQm91bmRzIChyZWN0KVxuICAgIHtcbiAgICAgICAgLy8gd2UgY2FuIGRvIGEgZmFzdCBsb2NhbCBib3VuZHMgaWYgdGhlIHNwcml0ZSBoYXMgbm8gY2hpbGRyZW4hXG4gICAgICAgIGlmICh0aGlzLmNoaWxkcmVuLmxlbmd0aCA9PT0gMClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fYm91bmRzLm1pblggPSB0aGlzLl93aWR0aCAqIC10aGlzLl9hbmNob3IuX3g7XG4gICAgICAgICAgICB0aGlzLl9ib3VuZHMubWluWSA9IHRoaXMuX2hlaWdodCAqIC10aGlzLl9hbmNob3IuX3k7XG4gICAgICAgICAgICB0aGlzLl9ib3VuZHMubWF4WCA9IHRoaXMuX3dpZHRoICogKDEgLSB0aGlzLl9hbmNob3IuX3gpO1xuICAgICAgICAgICAgdGhpcy5fYm91bmRzLm1heFkgPSB0aGlzLl9oZWlnaHQgKiAoMSAtIHRoaXMuX2FuY2hvci5feSk7XG5cbiAgICAgICAgICAgIGlmICghcmVjdClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX2xvY2FsQm91bmRzUmVjdClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2xvY2FsQm91bmRzUmVjdCA9IG5ldyBSZWN0YW5nbGUoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZWN0ID0gdGhpcy5fbG9jYWxCb3VuZHNSZWN0O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYm91bmRzLmdldFJlY3RhbmdsZShyZWN0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBTcHJpdGUucHJvdG90eXBlLmdldExvY2FsQm91bmRzLmNhbGwodGhpcywgcmVjdCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBhIHBvaW50IGlzIGluc2lkZSB0aGlzIHRpbGluZyBzcHJpdGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUG9pbnR9IHBvaW50IC0gdGhlIHBvaW50IHRvIGNoZWNrXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gV2hldGhlciBvciBub3QgdGhlIHNwcml0ZSBjb250YWlucyB0aGUgcG9pbnQuXG4gICAgICovXG4gICAgVGlsaW5nU3ByaXRlLnByb3RvdHlwZS5jb250YWluc1BvaW50ID0gZnVuY3Rpb24gY29udGFpbnNQb2ludCAocG9pbnQpXG4gICAge1xuICAgICAgICB0aGlzLndvcmxkVHJhbnNmb3JtLmFwcGx5SW52ZXJzZShwb2ludCwgdGVtcFBvaW50KTtcblxuICAgICAgICB2YXIgd2lkdGggPSB0aGlzLl93aWR0aDtcbiAgICAgICAgdmFyIGhlaWdodCA9IHRoaXMuX2hlaWdodDtcbiAgICAgICAgdmFyIHgxID0gLXdpZHRoICogdGhpcy5hbmNob3IuX3g7XG5cbiAgICAgICAgaWYgKHRlbXBQb2ludC54ID49IHgxICYmIHRlbXBQb2ludC54IDwgeDEgKyB3aWR0aClcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIHkxID0gLWhlaWdodCAqIHRoaXMuYW5jaG9yLl95O1xuXG4gICAgICAgICAgICBpZiAodGVtcFBvaW50LnkgPj0geTEgJiYgdGVtcFBvaW50LnkgPCB5MSArIGhlaWdodClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhpcyBzcHJpdGUgYW5kIG9wdGlvbmFsbHkgaXRzIHRleHR1cmUgYW5kIGNoaWxkcmVuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge29iamVjdHxib29sZWFufSBbb3B0aW9uc10gLSBPcHRpb25zIHBhcmFtZXRlci4gQSBib29sZWFuIHdpbGwgYWN0IGFzIGlmIGFsbCBvcHRpb25zXG4gICAgICogIGhhdmUgYmVlbiBzZXQgdG8gdGhhdCB2YWx1ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY2hpbGRyZW49ZmFsc2VdIC0gaWYgc2V0IHRvIHRydWUsIGFsbCB0aGUgY2hpbGRyZW4gd2lsbCBoYXZlIHRoZWlyIGRlc3Ryb3lcbiAgICAgKiAgICAgIG1ldGhvZCBjYWxsZWQgYXMgd2VsbC4gJ29wdGlvbnMnIHdpbGwgYmUgcGFzc2VkIG9uIHRvIHRob3NlIGNhbGxzLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudGV4dHVyZT1mYWxzZV0gLSBTaG91bGQgaXQgZGVzdHJveSB0aGUgY3VycmVudCB0ZXh0dXJlIG9mIHRoZSBzcHJpdGUgYXMgd2VsbFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYmFzZVRleHR1cmU9ZmFsc2VdIC0gU2hvdWxkIGl0IGRlc3Ryb3kgdGhlIGJhc2UgdGV4dHVyZSBvZiB0aGUgc3ByaXRlIGFzIHdlbGxcbiAgICAgKi9cbiAgICBUaWxpbmdTcHJpdGUucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95IChvcHRpb25zKVxuICAgIHtcbiAgICAgICAgU3ByaXRlLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcywgb3B0aW9ucyk7XG5cbiAgICAgICAgdGhpcy50aWxlVHJhbnNmb3JtID0gbnVsbDtcbiAgICAgICAgdGhpcy51dk1hdHJpeCA9IG51bGw7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEhlbHBlciBmdW5jdGlvbiB0aGF0IGNyZWF0ZXMgYSBuZXcgdGlsaW5nIHNwcml0ZSBiYXNlZCBvbiB0aGUgc291cmNlIHlvdSBwcm92aWRlLlxuICAgICAqIFRoZSBzb3VyY2UgY2FuIGJlIC0gZnJhbWUgaWQsIGltYWdlIHVybCwgdmlkZW8gdXJsLCBjYW52YXMgZWxlbWVudCwgdmlkZW8gZWxlbWVudCwgYmFzZSB0ZXh0dXJlXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtudW1iZXJ8c3RyaW5nfFBJWEkuVGV4dHVyZXxIVE1MQ2FudmFzRWxlbWVudHxIVE1MVmlkZW9FbGVtZW50fSBzb3VyY2UgLSBTb3VyY2UgdG8gY3JlYXRlIHRleHR1cmUgZnJvbVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB3aWR0aCAtIHRoZSB3aWR0aCBvZiB0aGUgdGlsaW5nIHNwcml0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHQgLSB0aGUgaGVpZ2h0IG9mIHRoZSB0aWxpbmcgc3ByaXRlXG4gICAgICogQHJldHVybiB7UElYSS5UaWxpbmdTcHJpdGV9IFRoZSBuZXdseSBjcmVhdGVkIHRleHR1cmVcbiAgICAgKi9cbiAgICBUaWxpbmdTcHJpdGUuZnJvbSA9IGZ1bmN0aW9uIGZyb20gKHNvdXJjZSwgd2lkdGgsIGhlaWdodClcbiAgICB7XG4gICAgICAgIHJldHVybiBuZXcgVGlsaW5nU3ByaXRlKFRleHR1cmUuZnJvbShzb3VyY2UpLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSGVscGVyIGZ1bmN0aW9uIHRoYXQgY3JlYXRlcyBhIHRpbGluZyBzcHJpdGUgdGhhdCB3aWxsIHVzZSBhIHRleHR1cmUgZnJvbSB0aGUgVGV4dHVyZUNhY2hlIGJhc2VkIG9uIHRoZSBmcmFtZUlkXG4gICAgICogVGhlIGZyYW1lIGlkcyBhcmUgY3JlYXRlZCB3aGVuIGEgVGV4dHVyZSBwYWNrZXIgZmlsZSBoYXMgYmVlbiBsb2FkZWRcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZnJhbWVJZCAtIFRoZSBmcmFtZSBJZCBvZiB0aGUgdGV4dHVyZSBpbiB0aGUgY2FjaGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2lkdGggLSB0aGUgd2lkdGggb2YgdGhlIHRpbGluZyBzcHJpdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IC0gdGhlIGhlaWdodCBvZiB0aGUgdGlsaW5nIHNwcml0ZVxuICAgICAqIEByZXR1cm4ge1BJWEkuVGlsaW5nU3ByaXRlfSBBIG5ldyBUaWxpbmdTcHJpdGUgdXNpbmcgYSB0ZXh0dXJlIGZyb20gdGhlIHRleHR1cmUgY2FjaGUgbWF0Y2hpbmcgdGhlIGZyYW1lSWRcbiAgICAgKi9cbiAgICBUaWxpbmdTcHJpdGUuZnJvbUZyYW1lID0gZnVuY3Rpb24gZnJvbUZyYW1lIChmcmFtZUlkLCB3aWR0aCwgaGVpZ2h0KVxuICAgIHtcbiAgICAgICAgdmFyIHRleHR1cmUgPSBUZXh0dXJlQ2FjaGVbZnJhbWVJZF07XG5cbiAgICAgICAgaWYgKCF0ZXh0dXJlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoKFwiVGhlIGZyYW1lSWQgXFxcIlwiICsgZnJhbWVJZCArIFwiXFxcIiBkb2VzIG5vdCBleGlzdCBpbiB0aGUgdGV4dHVyZSBjYWNoZSBcIiArICh0aGlzKSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5ldyBUaWxpbmdTcHJpdGUodGV4dHVyZSwgd2lkdGgsIGhlaWdodCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEhlbHBlciBmdW5jdGlvbiB0aGF0IGNyZWF0ZXMgYSBzcHJpdGUgdGhhdCB3aWxsIGNvbnRhaW4gYSB0ZXh0dXJlIGJhc2VkIG9uIGFuIGltYWdlIHVybFxuICAgICAqIElmIHRoZSBpbWFnZSBpcyBub3QgaW4gdGhlIHRleHR1cmUgY2FjaGUgaXQgd2lsbCBiZSBsb2FkZWRcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaW1hZ2VJZCAtIFRoZSBpbWFnZSB1cmwgb2YgdGhlIHRleHR1cmVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2lkdGggLSB0aGUgd2lkdGggb2YgdGhlIHRpbGluZyBzcHJpdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IC0gdGhlIGhlaWdodCBvZiB0aGUgdGlsaW5nIHNwcml0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gLSBTZWUge0BsaW5rIFBJWEkuQmFzZVRleHR1cmV9J3MgY29uc3RydWN0b3IgZm9yIG9wdGlvbnMuXG4gICAgICogQHJldHVybiB7UElYSS5UaWxpbmdTcHJpdGV9IEEgbmV3IFRpbGluZ1Nwcml0ZSB1c2luZyBhIHRleHR1cmUgZnJvbSB0aGUgdGV4dHVyZSBjYWNoZSBtYXRjaGluZyB0aGUgaW1hZ2UgaWRcbiAgICAgKi9cbiAgICBUaWxpbmdTcHJpdGUuZnJvbUltYWdlID0gZnVuY3Rpb24gZnJvbUltYWdlIChpbWFnZUlkLCB3aWR0aCwgaGVpZ2h0LCBvcHRpb25zKVxuICAgIHtcbiAgICAgICAgLy8gRmFsbGJhY2sgc3VwcG9ydCBmb3IgY3Jvc3NvcmlnaW4sIHNjYWxlTW9kZSBwYXJhbWV0ZXJzXG4gICAgICAgIGlmIChvcHRpb25zICYmIHR5cGVvZiBvcHRpb25zICE9PSAnb2JqZWN0JylcbiAgICAgICAge1xuICAgICAgICAgICAgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICBzY2FsZU1vZGU6IGFyZ3VtZW50c1s0XSxcbiAgICAgICAgICAgICAgICByZXNvdXJjZU9wdGlvbnM6IHtcbiAgICAgICAgICAgICAgICAgICAgY3Jvc3NvcmlnaW46IGFyZ3VtZW50c1szXSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBuZXcgVGlsaW5nU3ByaXRlKFRleHR1cmUuZnJvbShpbWFnZUlkLCBvcHRpb25zKSwgd2lkdGgsIGhlaWdodCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSB3aWR0aCBvZiB0aGUgc3ByaXRlLCBzZXR0aW5nIHRoaXMgd2lsbCBhY3R1YWxseSBtb2RpZnkgdGhlIHNjYWxlIHRvIGFjaGlldmUgdGhlIHZhbHVlIHNldFxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy53aWR0aC5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3dpZHRoO1xuICAgIH07XG5cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMud2lkdGguc2V0ID0gZnVuY3Rpb24gKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIHRoaXMuX3dpZHRoID0gdmFsdWU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIFRpbGluZ1Nwcml0ZSwgc2V0dGluZyB0aGlzIHdpbGwgYWN0dWFsbHkgbW9kaWZ5IHRoZSBzY2FsZSB0byBhY2hpZXZlIHRoZSB2YWx1ZSBzZXRcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMuaGVpZ2h0LmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5faGVpZ2h0O1xuICAgIH07XG5cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMuaGVpZ2h0LnNldCA9IGZ1bmN0aW9uICh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICB0aGlzLl9oZWlnaHQgPSB2YWx1ZTtcbiAgICB9O1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoIFRpbGluZ1Nwcml0ZS5wcm90b3R5cGUsIHByb3RvdHlwZUFjY2Vzc29ycyApO1xuXG4gICAgcmV0dXJuIFRpbGluZ1Nwcml0ZTtcbn0oU3ByaXRlKSk7XG5cbnZhciB2ZXJ0ZXggPSBcImF0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjtcXG5hdHRyaWJ1dGUgdmVjMiBhVGV4dHVyZUNvb3JkO1xcblxcbnVuaWZvcm0gbWF0MyBwcm9qZWN0aW9uTWF0cml4O1xcbnVuaWZvcm0gbWF0MyB0cmFuc2xhdGlvbk1hdHJpeDtcXG51bmlmb3JtIG1hdDMgdVRyYW5zZm9ybTtcXG5cXG52YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG5cXG52b2lkIG1haW4odm9pZClcXG57XFxuICAgIGdsX1Bvc2l0aW9uID0gdmVjNCgocHJvamVjdGlvbk1hdHJpeCAqIHRyYW5zbGF0aW9uTWF0cml4ICogdmVjMyhhVmVydGV4UG9zaXRpb24sIDEuMCkpLnh5LCAwLjAsIDEuMCk7XFxuXFxuICAgIHZUZXh0dXJlQ29vcmQgPSAodVRyYW5zZm9ybSAqIHZlYzMoYVRleHR1cmVDb29yZCwgMS4wKSkueHk7XFxufVxcblwiO1xuXG52YXIgZnJhZ21lbnQgPSBcInZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcblxcbnVuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyO1xcbnVuaWZvcm0gdmVjNCB1Q29sb3I7XFxudW5pZm9ybSBtYXQzIHVNYXBDb29yZDtcXG51bmlmb3JtIHZlYzQgdUNsYW1wRnJhbWU7XFxudW5pZm9ybSB2ZWMyIHVDbGFtcE9mZnNldDtcXG5cXG52b2lkIG1haW4odm9pZClcXG57XFxuICAgIHZlYzIgY29vcmQgPSB2VGV4dHVyZUNvb3JkIC0gZmxvb3IodlRleHR1cmVDb29yZCAtIHVDbGFtcE9mZnNldCk7XFxuICAgIGNvb3JkID0gKHVNYXBDb29yZCAqIHZlYzMoY29vcmQsIDEuMCkpLnh5O1xcbiAgICBjb29yZCA9IGNsYW1wKGNvb3JkLCB1Q2xhbXBGcmFtZS54eSwgdUNsYW1wRnJhbWUuencpO1xcblxcbiAgICB2ZWM0IHRleFNhbXBsZSA9IHRleHR1cmUyRCh1U2FtcGxlciwgY29vcmQpO1xcbiAgICBnbF9GcmFnQ29sb3IgPSB0ZXhTYW1wbGUgKiB1Q29sb3I7XFxufVxcblwiO1xuXG52YXIgZnJhZ21lbnRTaW1wbGUgPSBcInZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcblxcbnVuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyO1xcbnVuaWZvcm0gdmVjNCB1Q29sb3I7XFxuXFxudm9pZCBtYWluKHZvaWQpXFxue1xcbiAgICB2ZWM0IHNhbXBsZSA9IHRleHR1cmUyRCh1U2FtcGxlciwgdlRleHR1cmVDb29yZCk7XFxuICAgIGdsX0ZyYWdDb2xvciA9IHNhbXBsZSAqIHVDb2xvcjtcXG59XFxuXCI7XG5cbnZhciB0ZW1wTWF0ID0gbmV3IE1hdHJpeCgpO1xuXG4vKipcbiAqIFdlYkdMIHJlbmRlcmVyIHBsdWdpbiBmb3IgdGlsaW5nIHNwcml0ZXNcbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAZXh0ZW5kcyBQSVhJLk9iamVjdFJlbmRlcmVyXG4gKi9cbnZhciBUaWxpbmdTcHJpdGVSZW5kZXJlciA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKE9iamVjdFJlbmRlcmVyKSB7XG4gICAgZnVuY3Rpb24gVGlsaW5nU3ByaXRlUmVuZGVyZXIocmVuZGVyZXIpXG4gICAge1xuICAgICAgICBPYmplY3RSZW5kZXJlci5jYWxsKHRoaXMsIHJlbmRlcmVyKTtcblxuICAgICAgICB2YXIgdW5pZm9ybXMgPSB7IGdsb2JhbHM6IHRoaXMucmVuZGVyZXIuZ2xvYmFsVW5pZm9ybXMgfTtcblxuICAgICAgICB0aGlzLnNoYWRlciA9IFNoYWRlci5mcm9tKHZlcnRleCwgZnJhZ21lbnQsIHVuaWZvcm1zKTtcblxuICAgICAgICB0aGlzLnNpbXBsZVNoYWRlciA9IFNoYWRlci5mcm9tKHZlcnRleCwgZnJhZ21lbnRTaW1wbGUsIHVuaWZvcm1zKTtcblxuICAgICAgICB0aGlzLnF1YWQgPSBuZXcgUXVhZFV2KCk7XG4gICAgfVxuXG4gICAgaWYgKCBPYmplY3RSZW5kZXJlciApIFRpbGluZ1Nwcml0ZVJlbmRlcmVyLl9fcHJvdG9fXyA9IE9iamVjdFJlbmRlcmVyO1xuICAgIFRpbGluZ1Nwcml0ZVJlbmRlcmVyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIE9iamVjdFJlbmRlcmVyICYmIE9iamVjdFJlbmRlcmVyLnByb3RvdHlwZSApO1xuICAgIFRpbGluZ1Nwcml0ZVJlbmRlcmVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFRpbGluZ1Nwcml0ZVJlbmRlcmVyO1xuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuVGlsaW5nU3ByaXRlfSB0cyB0aWxpbmdTcHJpdGUgdG8gYmUgcmVuZGVyZWRcbiAgICAgKi9cbiAgICBUaWxpbmdTcHJpdGVSZW5kZXJlci5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyICh0cylcbiAgICB7XG4gICAgICAgIHZhciByZW5kZXJlciA9IHRoaXMucmVuZGVyZXI7XG4gICAgICAgIHZhciBxdWFkID0gdGhpcy5xdWFkO1xuXG4gICAgICAgIHZhciB2ZXJ0aWNlcyA9IHF1YWQudmVydGljZXM7XG5cbiAgICAgICAgdmVydGljZXNbMF0gPSB2ZXJ0aWNlc1s2XSA9ICh0cy5fd2lkdGgpICogLXRzLmFuY2hvci54O1xuICAgICAgICB2ZXJ0aWNlc1sxXSA9IHZlcnRpY2VzWzNdID0gdHMuX2hlaWdodCAqIC10cy5hbmNob3IueTtcblxuICAgICAgICB2ZXJ0aWNlc1syXSA9IHZlcnRpY2VzWzRdID0gKHRzLl93aWR0aCkgKiAoMS4wIC0gdHMuYW5jaG9yLngpO1xuICAgICAgICB2ZXJ0aWNlc1s1XSA9IHZlcnRpY2VzWzddID0gdHMuX2hlaWdodCAqICgxLjAgLSB0cy5hbmNob3IueSk7XG5cbiAgICAgICAgaWYgKHRzLnV2UmVzcGVjdEFuY2hvcilcbiAgICAgICAge1xuICAgICAgICAgICAgdmVydGljZXMgPSBxdWFkLnV2cztcblxuICAgICAgICAgICAgdmVydGljZXNbMF0gPSB2ZXJ0aWNlc1s2XSA9IC10cy5hbmNob3IueDtcbiAgICAgICAgICAgIHZlcnRpY2VzWzFdID0gdmVydGljZXNbM10gPSAtdHMuYW5jaG9yLnk7XG5cbiAgICAgICAgICAgIHZlcnRpY2VzWzJdID0gdmVydGljZXNbNF0gPSAxLjAgLSB0cy5hbmNob3IueDtcbiAgICAgICAgICAgIHZlcnRpY2VzWzVdID0gdmVydGljZXNbN10gPSAxLjAgLSB0cy5hbmNob3IueTtcbiAgICAgICAgfVxuXG4gICAgICAgIHF1YWQuaW52YWxpZGF0ZSgpO1xuXG4gICAgICAgIHZhciB0ZXggPSB0cy5fdGV4dHVyZTtcbiAgICAgICAgdmFyIGJhc2VUZXggPSB0ZXguYmFzZVRleHR1cmU7XG4gICAgICAgIHZhciBsdCA9IHRzLnRpbGVUcmFuc2Zvcm0ubG9jYWxUcmFuc2Zvcm07XG4gICAgICAgIHZhciB1diA9IHRzLnV2TWF0cml4O1xuICAgICAgICB2YXIgaXNTaW1wbGUgPSBiYXNlVGV4LmlzUG93ZXJPZlR3b1xuICAgICAgICAgICAgJiYgdGV4LmZyYW1lLndpZHRoID09PSBiYXNlVGV4LndpZHRoICYmIHRleC5mcmFtZS5oZWlnaHQgPT09IGJhc2VUZXguaGVpZ2h0O1xuXG4gICAgICAgIC8vIGF1dG8sIGZvcmNlIHJlcGVhdCB3cmFwTW9kZSBmb3IgYmlnIHRpbGluZyB0ZXh0dXJlc1xuICAgICAgICBpZiAoaXNTaW1wbGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICghYmFzZVRleC5fZ2xUZXh0dXJlc1tyZW5kZXJlci5DT05URVhUX1VJRF0pXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKGJhc2VUZXgud3JhcE1vZGUgPT09IFdSQVBfTU9ERVMuQ0xBTVApXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBiYXNlVGV4LndyYXBNb2RlID0gV1JBUF9NT0RFUy5SRVBFQVQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlzU2ltcGxlID0gYmFzZVRleC53cmFwTW9kZSAhPT0gV1JBUF9NT0RFUy5DTEFNUDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBzaGFkZXIgPSBpc1NpbXBsZSA/IHRoaXMuc2ltcGxlU2hhZGVyIDogdGhpcy5zaGFkZXI7XG5cbiAgICAgICAgdmFyIHcgPSB0ZXgud2lkdGg7XG4gICAgICAgIHZhciBoID0gdGV4LmhlaWdodDtcbiAgICAgICAgdmFyIFcgPSB0cy5fd2lkdGg7XG4gICAgICAgIHZhciBIID0gdHMuX2hlaWdodDtcblxuICAgICAgICB0ZW1wTWF0LnNldChsdC5hICogdyAvIFcsXG4gICAgICAgICAgICBsdC5iICogdyAvIEgsXG4gICAgICAgICAgICBsdC5jICogaCAvIFcsXG4gICAgICAgICAgICBsdC5kICogaCAvIEgsXG4gICAgICAgICAgICBsdC50eCAvIFcsXG4gICAgICAgICAgICBsdC50eSAvIEgpO1xuXG4gICAgICAgIC8vIHRoYXQgcGFydCBpcyB0aGUgc2FtZSBhcyBhYm92ZTpcbiAgICAgICAgLy8gdGVtcE1hdC5pZGVudGl0eSgpO1xuICAgICAgICAvLyB0ZW1wTWF0LnNjYWxlKHRleC53aWR0aCwgdGV4LmhlaWdodCk7XG4gICAgICAgIC8vIHRlbXBNYXQucHJlcGVuZChsdCk7XG4gICAgICAgIC8vIHRlbXBNYXQuc2NhbGUoMS4wIC8gdHMuX3dpZHRoLCAxLjAgLyB0cy5faGVpZ2h0KTtcblxuICAgICAgICB0ZW1wTWF0LmludmVydCgpO1xuICAgICAgICBpZiAoaXNTaW1wbGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRlbXBNYXQucHJlcGVuZCh1di5tYXBDb29yZCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBzaGFkZXIudW5pZm9ybXMudU1hcENvb3JkID0gdXYubWFwQ29vcmQudG9BcnJheSh0cnVlKTtcbiAgICAgICAgICAgIHNoYWRlci51bmlmb3Jtcy51Q2xhbXBGcmFtZSA9IHV2LnVDbGFtcEZyYW1lO1xuICAgICAgICAgICAgc2hhZGVyLnVuaWZvcm1zLnVDbGFtcE9mZnNldCA9IHV2LnVDbGFtcE9mZnNldDtcbiAgICAgICAgfVxuXG4gICAgICAgIHNoYWRlci51bmlmb3Jtcy51VHJhbnNmb3JtID0gdGVtcE1hdC50b0FycmF5KHRydWUpO1xuICAgICAgICBzaGFkZXIudW5pZm9ybXMudUNvbG9yID0gcHJlbXVsdGlwbHlUaW50VG9SZ2JhKHRzLnRpbnQsIHRzLndvcmxkQWxwaGEsXG4gICAgICAgICAgICBzaGFkZXIudW5pZm9ybXMudUNvbG9yLCBiYXNlVGV4LmFscGhhTW9kZSk7XG4gICAgICAgIHNoYWRlci51bmlmb3Jtcy50cmFuc2xhdGlvbk1hdHJpeCA9IHRzLnRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybS50b0FycmF5KHRydWUpO1xuICAgICAgICBzaGFkZXIudW5pZm9ybXMudVNhbXBsZXIgPSB0ZXg7XG5cbiAgICAgICAgcmVuZGVyZXIuc2hhZGVyLmJpbmQoc2hhZGVyKTtcbiAgICAgICAgcmVuZGVyZXIuZ2VvbWV0cnkuYmluZChxdWFkKTsvLyAsIHJlbmRlcmVyLnNoYWRlci5nZXRHTFNoYWRlcigpKTtcblxuICAgICAgICByZW5kZXJlci5zdGF0ZS5zZXRCbGVuZE1vZGUoY29ycmVjdEJsZW5kTW9kZSh0cy5ibGVuZE1vZGUsIGJhc2VUZXguYWxwaGFNb2RlKSk7XG4gICAgICAgIHJlbmRlcmVyLmdlb21ldHJ5LmRyYXcodGhpcy5yZW5kZXJlci5nbC5UUklBTkdMRVMsIDYsIDApO1xuICAgIH07XG5cbiAgICByZXR1cm4gVGlsaW5nU3ByaXRlUmVuZGVyZXI7XG59KE9iamVjdFJlbmRlcmVyKSk7XG5cbmV4cG9ydCB7IFRpbGluZ1Nwcml0ZSwgVGlsaW5nU3ByaXRlUmVuZGVyZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNwcml0ZS10aWxpbmcuZXMuanMubWFwXG4iLCIvKiFcbiAqIEBwaXhpL3RleHQtYml0bWFwIC0gdjUuMi4wXG4gKiBDb21waWxlZCBXZWQsIDA2IE5vdiAyMDE5IDAyOjMyOjQzIFVUQ1xuICpcbiAqIEBwaXhpL3RleHQtYml0bWFwIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgVGV4dHVyZSB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuaW1wb3J0IHsgQ29udGFpbmVyIH0gZnJvbSAnQHBpeGkvZGlzcGxheSc7XG5pbXBvcnQgeyBQb2ludCwgUmVjdGFuZ2xlLCBPYnNlcnZhYmxlUG9pbnQgfSBmcm9tICdAcGl4aS9tYXRoJztcbmltcG9ydCB7IHNldHRpbmdzIH0gZnJvbSAnQHBpeGkvc2V0dGluZ3MnO1xuaW1wb3J0IHsgU3ByaXRlIH0gZnJvbSAnQHBpeGkvc3ByaXRlJztcbmltcG9ydCB7IHJlbW92ZUl0ZW1zLCBnZXRSZXNvbHV0aW9uT2ZVcmwgfSBmcm9tICdAcGl4aS91dGlscyc7XG5pbXBvcnQgeyBMb2FkZXJSZXNvdXJjZSB9IGZyb20gJ0BwaXhpL2xvYWRlcnMnO1xuXG4vKipcbiAqIEEgQml0bWFwVGV4dCBvYmplY3Qgd2lsbCBjcmVhdGUgYSBsaW5lIG9yIG11bHRpcGxlIGxpbmVzIG9mIHRleHQgdXNpbmcgYml0bWFwIGZvbnQuXG4gKlxuICogVGhlIHByaW1hcnkgYWR2YW50YWdlIG9mIHRoaXMgY2xhc3Mgb3ZlciBUZXh0IGlzIHRoYXQgYWxsIG9mIHlvdXIgdGV4dHVyZXMgYXJlIHByZS1nZW5lcmF0ZWQgYW5kIGxvYWRpbmcsXG4gKiBtZWFuaW5nIHRoYXQgcmVuZGVyaW5nIGlzIGZhc3QsIGFuZCBjaGFuZ2luZyB0ZXh0IGhhcyBubyBwZXJmb3JtYW5jZSBpbXBsaWNhdGlvbnMuXG4gKlxuICogVGhlIHByaW1hcnkgZGlzYWR2YW50YWdlIGlzIHRoYXQgeW91IG5lZWQgdG8gcHJlbG9hZCB0aGUgYml0bWFwIGZvbnQgYXNzZXRzLCBhbmQgdGh1cyB0aGUgc3R5bGluZyBpcyBzZXQgaW4gc3RvbmUuXG4gKiBTdXBwb3J0aW5nIGNoYXJhY3RlciBzZXRzIG90aGVyIHRoYW4gbGF0aW4sIHN1Y2ggYXMgQ0pLIGxhbmd1YWdlcywgbWF5IGJlIGltcHJhY3RpY2FsIGR1ZSB0byB0aGUgbnVtYmVyIG9mIGNoYXJhY3RlcnMuXG4gKlxuICogVG8gc3BsaXQgYSBsaW5lIHlvdSBjYW4gdXNlICdcXG4nLCAnXFxyJyBvciAnXFxyXFxuJyBpbiB5b3VyIHN0cmluZy5cbiAqXG4gKiBZb3UgY2FuIGdlbmVyYXRlIHRoZSBmbnQgZmlsZXMgdXNpbmdcbiAqIGh0dHA6Ly93d3cuYW5nZWxjb2RlLmNvbS9wcm9kdWN0cy9ibWZvbnQvIGZvciBXaW5kb3dzIG9yXG4gKiBodHRwOi8vd3d3LmJtZ2x5cGguY29tLyBmb3IgTWFjLlxuICpcbiAqIEEgQml0bWFwVGV4dCBjYW4gb25seSBiZSBjcmVhdGVkIHdoZW4gdGhlIGZvbnQgaXMgbG9hZGVkLlxuICpcbiAqIGBgYGpzXG4gKiAvLyBpbiB0aGlzIGNhc2UgdGhlIGZvbnQgaXMgaW4gYSBmaWxlIGNhbGxlZCAnZGVzeXJlbC5mbnQnXG4gKiBsZXQgYml0bWFwVGV4dCA9IG5ldyBQSVhJLkJpdG1hcFRleHQoXCJ0ZXh0IHVzaW5nIGEgZmFuY3kgZm9udCFcIiwge2ZvbnQ6IFwiMzVweCBEZXN5cmVsXCIsIGFsaWduOiBcInJpZ2h0XCJ9KTtcbiAqIGBgYFxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5Db250YWluZXJcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBCaXRtYXBUZXh0ID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoQ29udGFpbmVyKSB7XG4gICAgZnVuY3Rpb24gQml0bWFwVGV4dCh0ZXh0LCBzdHlsZSlcbiAgICB7XG4gICAgICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuICAgICAgICBpZiAoIHN0eWxlID09PSB2b2lkIDAgKSBzdHlsZSA9IHt9O1xuXG4gICAgICAgIENvbnRhaW5lci5jYWxsKHRoaXMpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcml2YXRlIHRyYWNrZXIgZm9yIHRoZSB3aWR0aCBvZiB0aGUgb3ZlcmFsbCB0ZXh0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3RleHRXaWR0aCA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByaXZhdGUgdHJhY2tlciBmb3IgdGhlIGhlaWdodCBvZiB0aGUgb3ZlcmFsbCB0ZXh0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3RleHRIZWlnaHQgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcml2YXRlIHRyYWNrZXIgZm9yIHRoZSBsZXR0ZXIgc3ByaXRlIHBvb2wuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuU3ByaXRlW119XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9nbHlwaHMgPSBbXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUHJpdmF0ZSB0cmFja2VyIGZvciB0aGUgY3VycmVudCBzdHlsZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fZm9udCA9IHtcbiAgICAgICAgICAgIHRpbnQ6IHN0eWxlLnRpbnQgIT09IHVuZGVmaW5lZCA/IHN0eWxlLnRpbnQgOiAweEZGRkZGRixcbiAgICAgICAgICAgIGFsaWduOiBzdHlsZS5hbGlnbiB8fCAnbGVmdCcsXG4gICAgICAgICAgICBuYW1lOiBudWxsLFxuICAgICAgICAgICAgc2l6ZTogMCxcbiAgICAgICAgfTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUHJpdmF0ZSB0cmFja2VyIGZvciB0aGUgY3VycmVudCBmb250LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtvYmplY3R9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmZvbnQgPSBzdHlsZS5mb250OyAvLyBydW4gZm9udCBzZXR0ZXJcblxuICAgICAgICAvKipcbiAgICAgICAgICogUHJpdmF0ZSB0cmFja2VyIGZvciB0aGUgY3VycmVudCB0ZXh0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl90ZXh0ID0gdGV4dDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG1heCB3aWR0aCBvZiB0aGlzIGJpdG1hcCB0ZXh0IGluIHBpeGVscy4gSWYgdGhlIHRleHQgcHJvdmlkZWQgaXMgbG9uZ2VyIHRoYW4gdGhlXG4gICAgICAgICAqIHZhbHVlIHByb3ZpZGVkLCBsaW5lIGJyZWFrcyB3aWxsIGJlIGF1dG9tYXRpY2FsbHkgaW5zZXJ0ZWQgaW4gdGhlIGxhc3Qgd2hpdGVzcGFjZS5cbiAgICAgICAgICogRGlzYWJsZSBieSBzZXR0aW5nIHZhbHVlIHRvIDBcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fbWF4V2lkdGggPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbWF4IGxpbmUgaGVpZ2h0LiBUaGlzIGlzIHVzZWZ1bCB3aGVuIHRyeWluZyB0byB1c2UgdGhlIHRvdGFsIGhlaWdodCBvZiB0aGUgVGV4dCxcbiAgICAgICAgICogaWU6IHdoZW4gdHJ5aW5nIHRvIHZlcnRpY2FsbHkgYWxpZ24uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX21heExpbmVIZWlnaHQgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBMZXR0ZXIgc3BhY2luZy4gVGhpcyBpcyB1c2VmdWwgZm9yIHNldHRpbmcgdGhlIHNwYWNlIGJldHdlZW4gY2hhcmFjdGVycy5cbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fbGV0dGVyU3BhY2luZyA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRleHQgYW5jaG9yLiByZWFkLW9ubHlcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5PYnNlcnZhYmxlUG9pbnR9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9hbmNob3IgPSBuZXcgT2JzZXJ2YWJsZVBvaW50KGZ1bmN0aW9uICgpIHsgdGhpcyQxLmRpcnR5ID0gdHJ1ZTsgfSwgdGhpcywgMCwgMCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBkaXJ0eSBzdGF0ZSBvZiB0aGlzIG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGlydHkgPSBmYWxzZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSWYgdHJ1ZSBQaXhpSlMgd2lsbCBNYXRoLmZsb29yKCkgeC95IHZhbHVlcyB3aGVuIHJlbmRlcmluZywgc3RvcHBpbmcgcGl4ZWwgaW50ZXJwb2xhdGlvbi5cbiAgICAgICAgICogQWR2YW50YWdlcyBjYW4gaW5jbHVkZSBzaGFycGVyIGltYWdlIHF1YWxpdHkgKGxpa2UgdGV4dCkgYW5kIGZhc3RlciByZW5kZXJpbmcgb24gY2FudmFzLlxuICAgICAgICAgKiBUaGUgbWFpbiBkaXNhZHZhbnRhZ2UgaXMgbW92ZW1lbnQgb2Ygb2JqZWN0cyBtYXkgYXBwZWFyIGxlc3Mgc21vb3RoLlxuICAgICAgICAgKiBUbyBzZXQgdGhlIGdsb2JhbCBkZWZhdWx0LCBjaGFuZ2Uge0BsaW5rIFBJWEkuc2V0dGluZ3MuUk9VTkRfUElYRUxTfVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5yb3VuZFBpeGVscyA9IHNldHRpbmdzLlJPVU5EX1BJWEVMUztcblxuICAgICAgICB0aGlzLnVwZGF0ZVRleHQoKTtcbiAgICB9XG5cbiAgICBpZiAoIENvbnRhaW5lciApIEJpdG1hcFRleHQuX19wcm90b19fID0gQ29udGFpbmVyO1xuICAgIEJpdG1hcFRleHQucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggQ29udGFpbmVyICYmIENvbnRhaW5lci5wcm90b3R5cGUgKTtcbiAgICBCaXRtYXBUZXh0LnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEJpdG1hcFRleHQ7XG5cbiAgICB2YXIgcHJvdG90eXBlQWNjZXNzb3JzID0geyB0aW50OiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LGFsaWduOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LGFuY2hvcjogeyBjb25maWd1cmFibGU6IHRydWUgfSxmb250OiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LHRleHQ6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sbWF4V2lkdGg6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sbWF4TGluZUhlaWdodDogeyBjb25maWd1cmFibGU6IHRydWUgfSx0ZXh0V2lkdGg6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sbGV0dGVyU3BhY2luZzogeyBjb25maWd1cmFibGU6IHRydWUgfSx0ZXh0SGVpZ2h0OiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH07XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIHRleHQgYW5kIHVwZGF0ZXMgaXQgd2hlbiBuZWVkZWRcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgQml0bWFwVGV4dC5wcm90b3R5cGUudXBkYXRlVGV4dCA9IGZ1bmN0aW9uIHVwZGF0ZVRleHQgKClcbiAgICB7XG4gICAgICAgIHZhciBkYXRhID0gQml0bWFwVGV4dC5mb250c1t0aGlzLl9mb250Lm5hbWVdO1xuICAgICAgICB2YXIgc2NhbGUgPSB0aGlzLl9mb250LnNpemUgLyBkYXRhLnNpemU7XG4gICAgICAgIHZhciBwb3MgPSBuZXcgUG9pbnQoKTtcbiAgICAgICAgdmFyIGNoYXJzID0gW107XG4gICAgICAgIHZhciBsaW5lV2lkdGhzID0gW107XG4gICAgICAgIHZhciB0ZXh0ID0gdGhpcy5fdGV4dC5yZXBsYWNlKC8oPzpcXHJcXG58XFxyKS9nLCAnXFxuJykgfHwgJyAnO1xuICAgICAgICB2YXIgdGV4dExlbmd0aCA9IHRleHQubGVuZ3RoO1xuICAgICAgICB2YXIgbWF4V2lkdGggPSB0aGlzLl9tYXhXaWR0aCAqIGRhdGEuc2l6ZSAvIHRoaXMuX2ZvbnQuc2l6ZTtcblxuICAgICAgICB2YXIgcHJldkNoYXJDb2RlID0gbnVsbDtcbiAgICAgICAgdmFyIGxhc3RMaW5lV2lkdGggPSAwO1xuICAgICAgICB2YXIgbWF4TGluZVdpZHRoID0gMDtcbiAgICAgICAgdmFyIGxpbmUgPSAwO1xuICAgICAgICB2YXIgbGFzdEJyZWFrUG9zID0gLTE7XG4gICAgICAgIHZhciBsYXN0QnJlYWtXaWR0aCA9IDA7XG4gICAgICAgIHZhciBzcGFjZXNSZW1vdmVkID0gMDtcbiAgICAgICAgdmFyIG1heExpbmVIZWlnaHQgPSAwO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGV4dExlbmd0aDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgY2hhckNvZGUgPSB0ZXh0LmNoYXJDb2RlQXQoaSk7XG4gICAgICAgICAgICB2YXIgY2hhciA9IHRleHQuY2hhckF0KGkpO1xuXG4gICAgICAgICAgICBpZiAoKC8oPzpcXHMpLykudGVzdChjaGFyKSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBsYXN0QnJlYWtQb3MgPSBpO1xuICAgICAgICAgICAgICAgIGxhc3RCcmVha1dpZHRoID0gbGFzdExpbmVXaWR0aDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGNoYXIgPT09ICdcXHInIHx8IGNoYXIgPT09ICdcXG4nKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGxpbmVXaWR0aHMucHVzaChsYXN0TGluZVdpZHRoKTtcbiAgICAgICAgICAgICAgICBtYXhMaW5lV2lkdGggPSBNYXRoLm1heChtYXhMaW5lV2lkdGgsIGxhc3RMaW5lV2lkdGgpO1xuICAgICAgICAgICAgICAgICsrbGluZTtcbiAgICAgICAgICAgICAgICArK3NwYWNlc1JlbW92ZWQ7XG5cbiAgICAgICAgICAgICAgICBwb3MueCA9IDA7XG4gICAgICAgICAgICAgICAgcG9zLnkgKz0gZGF0YS5saW5lSGVpZ2h0O1xuICAgICAgICAgICAgICAgIHByZXZDaGFyQ29kZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBjaGFyRGF0YSA9IGRhdGEuY2hhcnNbY2hhckNvZGVdO1xuXG4gICAgICAgICAgICBpZiAoIWNoYXJEYXRhKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAocHJldkNoYXJDb2RlICYmIGNoYXJEYXRhLmtlcm5pbmdbcHJldkNoYXJDb2RlXSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBwb3MueCArPSBjaGFyRGF0YS5rZXJuaW5nW3ByZXZDaGFyQ29kZV07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNoYXJzLnB1c2goe1xuICAgICAgICAgICAgICAgIHRleHR1cmU6IGNoYXJEYXRhLnRleHR1cmUsXG4gICAgICAgICAgICAgICAgbGluZTogbGluZSxcbiAgICAgICAgICAgICAgICBjaGFyQ29kZTogY2hhckNvZGUsXG4gICAgICAgICAgICAgICAgcG9zaXRpb246IG5ldyBQb2ludChwb3MueCArIGNoYXJEYXRhLnhPZmZzZXQgKyAodGhpcy5fbGV0dGVyU3BhY2luZyAvIDIpLCBwb3MueSArIGNoYXJEYXRhLnlPZmZzZXQpLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBwb3MueCArPSBjaGFyRGF0YS54QWR2YW5jZSArIHRoaXMuX2xldHRlclNwYWNpbmc7XG4gICAgICAgICAgICBsYXN0TGluZVdpZHRoID0gcG9zLng7XG4gICAgICAgICAgICBtYXhMaW5lSGVpZ2h0ID0gTWF0aC5tYXgobWF4TGluZUhlaWdodCwgKGNoYXJEYXRhLnlPZmZzZXQgKyBjaGFyRGF0YS50ZXh0dXJlLmhlaWdodCkpO1xuICAgICAgICAgICAgcHJldkNoYXJDb2RlID0gY2hhckNvZGU7XG5cbiAgICAgICAgICAgIGlmIChsYXN0QnJlYWtQb3MgIT09IC0xICYmIG1heFdpZHRoID4gMCAmJiBwb3MueCA+IG1heFdpZHRoKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICsrc3BhY2VzUmVtb3ZlZDtcbiAgICAgICAgICAgICAgICByZW1vdmVJdGVtcyhjaGFycywgMSArIGxhc3RCcmVha1BvcyAtIHNwYWNlc1JlbW92ZWQsIDEgKyBpIC0gbGFzdEJyZWFrUG9zKTtcbiAgICAgICAgICAgICAgICBpID0gbGFzdEJyZWFrUG9zO1xuICAgICAgICAgICAgICAgIGxhc3RCcmVha1BvcyA9IC0xO1xuXG4gICAgICAgICAgICAgICAgbGluZVdpZHRocy5wdXNoKGxhc3RCcmVha1dpZHRoKTtcbiAgICAgICAgICAgICAgICBtYXhMaW5lV2lkdGggPSBNYXRoLm1heChtYXhMaW5lV2lkdGgsIGxhc3RCcmVha1dpZHRoKTtcbiAgICAgICAgICAgICAgICBsaW5lKys7XG5cbiAgICAgICAgICAgICAgICBwb3MueCA9IDA7XG4gICAgICAgICAgICAgICAgcG9zLnkgKz0gZGF0YS5saW5lSGVpZ2h0O1xuICAgICAgICAgICAgICAgIHByZXZDaGFyQ29kZSA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgbGFzdENoYXIgPSB0ZXh0LmNoYXJBdCh0ZXh0Lmxlbmd0aCAtIDEpO1xuXG4gICAgICAgIGlmIChsYXN0Q2hhciAhPT0gJ1xccicgJiYgbGFzdENoYXIgIT09ICdcXG4nKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoKC8oPzpcXHMpLykudGVzdChsYXN0Q2hhcikpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbGFzdExpbmVXaWR0aCA9IGxhc3RCcmVha1dpZHRoO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsaW5lV2lkdGhzLnB1c2gobGFzdExpbmVXaWR0aCk7XG4gICAgICAgICAgICBtYXhMaW5lV2lkdGggPSBNYXRoLm1heChtYXhMaW5lV2lkdGgsIGxhc3RMaW5lV2lkdGgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGxpbmVBbGlnbk9mZnNldHMgPSBbXTtcblxuICAgICAgICBmb3IgKHZhciBpJDEgPSAwOyBpJDEgPD0gbGluZTsgaSQxKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBhbGlnbk9mZnNldCA9IDA7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLl9mb250LmFsaWduID09PSAncmlnaHQnKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGFsaWduT2Zmc2V0ID0gbWF4TGluZVdpZHRoIC0gbGluZVdpZHRoc1tpJDFdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5fZm9udC5hbGlnbiA9PT0gJ2NlbnRlcicpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYWxpZ25PZmZzZXQgPSAobWF4TGluZVdpZHRoIC0gbGluZVdpZHRoc1tpJDFdKSAvIDI7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxpbmVBbGlnbk9mZnNldHMucHVzaChhbGlnbk9mZnNldCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgbGVuQ2hhcnMgPSBjaGFycy5sZW5ndGg7XG4gICAgICAgIHZhciB0aW50ID0gdGhpcy50aW50O1xuXG4gICAgICAgIGZvciAodmFyIGkkMiA9IDA7IGkkMiA8IGxlbkNoYXJzOyBpJDIrKylcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIGMgPSB0aGlzLl9nbHlwaHNbaSQyXTsgLy8gZ2V0IHRoZSBuZXh0IGdseXBoIHNwcml0ZVxuXG4gICAgICAgICAgICBpZiAoYylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjLnRleHR1cmUgPSBjaGFyc1tpJDJdLnRleHR1cmU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYyA9IG5ldyBTcHJpdGUoY2hhcnNbaSQyXS50ZXh0dXJlKTtcbiAgICAgICAgICAgICAgICBjLnJvdW5kUGl4ZWxzID0gdGhpcy5yb3VuZFBpeGVscztcbiAgICAgICAgICAgICAgICB0aGlzLl9nbHlwaHMucHVzaChjKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYy5wb3NpdGlvbi54ID0gKGNoYXJzW2kkMl0ucG9zaXRpb24ueCArIGxpbmVBbGlnbk9mZnNldHNbY2hhcnNbaSQyXS5saW5lXSkgKiBzY2FsZTtcbiAgICAgICAgICAgIGMucG9zaXRpb24ueSA9IGNoYXJzW2kkMl0ucG9zaXRpb24ueSAqIHNjYWxlO1xuICAgICAgICAgICAgYy5zY2FsZS54ID0gYy5zY2FsZS55ID0gc2NhbGU7XG4gICAgICAgICAgICBjLnRpbnQgPSB0aW50O1xuXG4gICAgICAgICAgICBpZiAoIWMucGFyZW50KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuYWRkQ2hpbGQoYyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyByZW1vdmUgdW5uZWNlc3NhcnkgY2hpbGRyZW4uXG4gICAgICAgIGZvciAodmFyIGkkMyA9IGxlbkNoYXJzOyBpJDMgPCB0aGlzLl9nbHlwaHMubGVuZ3RoOyArK2kkMylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5yZW1vdmVDaGlsZCh0aGlzLl9nbHlwaHNbaSQzXSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl90ZXh0V2lkdGggPSBtYXhMaW5lV2lkdGggKiBzY2FsZTtcbiAgICAgICAgdGhpcy5fdGV4dEhlaWdodCA9IChwb3MueSArIGRhdGEubGluZUhlaWdodCkgKiBzY2FsZTtcblxuICAgICAgICAvLyBhcHBseSBhbmNob3JcbiAgICAgICAgaWYgKHRoaXMuYW5jaG9yLnggIT09IDAgfHwgdGhpcy5hbmNob3IueSAhPT0gMClcbiAgICAgICAge1xuICAgICAgICAgICAgZm9yICh2YXIgaSQ0ID0gMDsgaSQ0IDwgbGVuQ2hhcnM7IGkkNCsrKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuX2dseXBoc1tpJDRdLnggLT0gdGhpcy5fdGV4dFdpZHRoICogdGhpcy5hbmNob3IueDtcbiAgICAgICAgICAgICAgICB0aGlzLl9nbHlwaHNbaSQ0XS55IC09IHRoaXMuX3RleHRIZWlnaHQgKiB0aGlzLmFuY2hvci55O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuX21heExpbmVIZWlnaHQgPSBtYXhMaW5lSGVpZ2h0ICogc2NhbGU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIHRyYW5zZm9ybSBvZiB0aGlzIG9iamVjdFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBCaXRtYXBUZXh0LnByb3RvdHlwZS51cGRhdGVUcmFuc2Zvcm0gPSBmdW5jdGlvbiB1cGRhdGVUcmFuc2Zvcm0gKClcbiAgICB7XG4gICAgICAgIHRoaXMudmFsaWRhdGUoKTtcbiAgICAgICAgdGhpcy5jb250YWluZXJVcGRhdGVUcmFuc2Zvcm0oKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVmFsaWRhdGVzIHRleHQgYmVmb3JlIGNhbGxpbmcgcGFyZW50J3MgZ2V0TG9jYWxCb3VuZHNcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuUmVjdGFuZ2xlfSBUaGUgcmVjdGFuZ3VsYXIgYm91bmRpbmcgYXJlYVxuICAgICAqL1xuICAgIEJpdG1hcFRleHQucHJvdG90eXBlLmdldExvY2FsQm91bmRzID0gZnVuY3Rpb24gZ2V0TG9jYWxCb3VuZHMgKClcbiAgICB7XG4gICAgICAgIHRoaXMudmFsaWRhdGUoKTtcblxuICAgICAgICByZXR1cm4gQ29udGFpbmVyLnByb3RvdHlwZS5nZXRMb2NhbEJvdW5kcy5jYWxsKHRoaXMpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRleHQgd2hlbiBuZWVkZWRcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgQml0bWFwVGV4dC5wcm90b3R5cGUudmFsaWRhdGUgPSBmdW5jdGlvbiB2YWxpZGF0ZSAoKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuZGlydHkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlVGV4dCgpO1xuICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSB0aW50IG9mIHRoZSBCaXRtYXBUZXh0IG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMudGludC5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ZvbnQudGludDtcbiAgICB9O1xuXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLnRpbnQuc2V0ID0gZnVuY3Rpb24gKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIHRoaXMuX2ZvbnQudGludCA9ICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInICYmIHZhbHVlID49IDApID8gdmFsdWUgOiAweEZGRkZGRjtcblxuICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIGFsaWdubWVudCBvZiB0aGUgQml0bWFwVGV4dCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICogQGRlZmF1bHQgJ2xlZnQnXG4gICAgICovXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLmFsaWduLmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fZm9udC5hbGlnbjtcbiAgICB9O1xuXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLmFsaWduLnNldCA9IGZ1bmN0aW9uICh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICB0aGlzLl9mb250LmFsaWduID0gdmFsdWUgfHwgJ2xlZnQnO1xuXG4gICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYW5jaG9yIHNldHMgdGhlIG9yaWdpbiBwb2ludCBvZiB0aGUgdGV4dC5cbiAgICAgKlxuICAgICAqIFRoZSBkZWZhdWx0IGlzIGAoMCwwKWAsIHRoaXMgbWVhbnMgdGhlIHRleHQncyBvcmlnaW4gaXMgdGhlIHRvcCBsZWZ0LlxuICAgICAqXG4gICAgICogU2V0dGluZyB0aGUgYW5jaG9yIHRvIGAoMC41LDAuNSlgIG1lYW5zIHRoZSB0ZXh0J3Mgb3JpZ2luIGlzIGNlbnRlcmVkLlxuICAgICAqXG4gICAgICogU2V0dGluZyB0aGUgYW5jaG9yIHRvIGAoMSwxKWAgd291bGQgbWVhbiB0aGUgdGV4dCdzIG9yaWdpbiBwb2ludCB3aWxsIGJlIHRoZSBib3R0b20gcmlnaHQgY29ybmVyLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5Qb2ludCB8IG51bWJlcn1cbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMuYW5jaG9yLmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fYW5jaG9yO1xuICAgIH07XG5cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMuYW5jaG9yLnNldCA9IGZ1bmN0aW9uICh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fYW5jaG9yLnNldCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9hbmNob3IuY29weUZyb20odmFsdWUpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBmb250IGRlc2NyaXB0b3Igb2YgdGhlIEJpdG1hcFRleHQgb2JqZWN0LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7b2JqZWN0fVxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5mb250LmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fZm9udDtcbiAgICB9O1xuXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLmZvbnQuc2V0ID0gZnVuY3Rpb24gKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIGlmICghdmFsdWUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YWx1ZSA9IHZhbHVlLnNwbGl0KCcgJyk7XG5cbiAgICAgICAgICAgIHRoaXMuX2ZvbnQubmFtZSA9IHZhbHVlLmxlbmd0aCA9PT0gMSA/IHZhbHVlWzBdIDogdmFsdWUuc2xpY2UoMSkuam9pbignICcpO1xuICAgICAgICAgICAgdGhpcy5fZm9udC5zaXplID0gdmFsdWUubGVuZ3RoID49IDIgPyBwYXJzZUludCh2YWx1ZVswXSwgMTApIDogQml0bWFwVGV4dC5mb250c1t0aGlzLl9mb250Lm5hbWVdLnNpemU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9mb250Lm5hbWUgPSB2YWx1ZS5uYW1lO1xuICAgICAgICAgICAgdGhpcy5fZm9udC5zaXplID0gdHlwZW9mIHZhbHVlLnNpemUgPT09ICdudW1iZXInID8gdmFsdWUuc2l6ZSA6IHBhcnNlSW50KHZhbHVlLnNpemUsIDEwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdGV4dCBvZiB0aGUgQml0bWFwVGV4dCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICovXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLnRleHQuZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl90ZXh0O1xuICAgIH07XG5cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMudGV4dC5zZXQgPSBmdW5jdGlvbiAodGV4dCkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICB0ZXh0ID0gU3RyaW5nKHRleHQgPT09IG51bGwgfHwgdGV4dCA9PT0gdW5kZWZpbmVkID8gJycgOiB0ZXh0KTtcblxuICAgICAgICBpZiAodGhpcy5fdGV4dCA9PT0gdGV4dClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3RleHQgPSB0ZXh0O1xuICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIG1heCB3aWR0aCBvZiB0aGlzIGJpdG1hcCB0ZXh0IGluIHBpeGVscy4gSWYgdGhlIHRleHQgcHJvdmlkZWQgaXMgbG9uZ2VyIHRoYW4gdGhlXG4gICAgICogdmFsdWUgcHJvdmlkZWQsIGxpbmUgYnJlYWtzIHdpbGwgYmUgYXV0b21hdGljYWxseSBpbnNlcnRlZCBpbiB0aGUgbGFzdCB3aGl0ZXNwYWNlLlxuICAgICAqIERpc2FibGUgYnkgc2V0dGluZyB0aGUgdmFsdWUgdG8gMC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMubWF4V2lkdGguZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tYXhXaWR0aDtcbiAgICB9O1xuXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLm1heFdpZHRoLnNldCA9IGZ1bmN0aW9uICh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICBpZiAodGhpcy5fbWF4V2lkdGggPT09IHZhbHVlKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fbWF4V2lkdGggPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBtYXggbGluZSBoZWlnaHQuIFRoaXMgaXMgdXNlZnVsIHdoZW4gdHJ5aW5nIHRvIHVzZSB0aGUgdG90YWwgaGVpZ2h0IG9mIHRoZSBUZXh0LFxuICAgICAqIGkuZS4gd2hlbiB0cnlpbmcgdG8gdmVydGljYWxseSBhbGlnbi5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMubWF4TGluZUhlaWdodC5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgdGhpcy52YWxpZGF0ZSgpO1xuXG4gICAgICAgIHJldHVybiB0aGlzLl9tYXhMaW5lSGVpZ2h0O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgd2lkdGggb2YgdGhlIG92ZXJhbGwgdGV4dCwgZGlmZmVyZW50IGZyb20gZm9udFNpemUsXG4gICAgICogd2hpY2ggaXMgZGVmaW5lZCBpbiB0aGUgc3R5bGUgb2JqZWN0LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEByZWFkb25seVxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy50ZXh0V2lkdGguZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHRoaXMudmFsaWRhdGUoKTtcblxuICAgICAgICByZXR1cm4gdGhpcy5fdGV4dFdpZHRoO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBZGRpdGlvbmFsIHNwYWNlIGJldHdlZW4gY2hhcmFjdGVycy5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMubGV0dGVyU3BhY2luZy5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xldHRlclNwYWNpbmc7XG4gICAgfTtcblxuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5sZXR0ZXJTcGFjaW5nLnNldCA9IGZ1bmN0aW9uICh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICBpZiAodGhpcy5fbGV0dGVyU3BhY2luZyAhPT0gdmFsdWUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2xldHRlclNwYWNpbmcgPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIG92ZXJhbGwgdGV4dCwgZGlmZmVyZW50IGZyb20gZm9udFNpemUsXG4gICAgICogd2hpY2ggaXMgZGVmaW5lZCBpbiB0aGUgc3R5bGUgb2JqZWN0LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEByZWFkb25seVxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy50ZXh0SGVpZ2h0LmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICB0aGlzLnZhbGlkYXRlKCk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX3RleHRIZWlnaHQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlZ2lzdGVyIGEgYml0bWFwIGZvbnQgd2l0aCBkYXRhIGFuZCBhIHRleHR1cmUuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtYTUxEb2N1bWVudH0geG1sIC0gVGhlIFhNTCBkb2N1bWVudCBkYXRhLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0LjxzdHJpbmcsIFBJWEkuVGV4dHVyZT58UElYSS5UZXh0dXJlfFBJWEkuVGV4dHVyZVtdfSB0ZXh0dXJlcyAtIExpc3Qgb2YgdGV4dHVyZXMgZm9yIGVhY2ggcGFnZS5cbiAgICAgKiAgSWYgcHJvdmlkaW5nIGFuIG9iamVjdCwgdGhlIGtleSBpcyB0aGUgYDxwYWdlPmAgZWxlbWVudCdzIGBmaWxlYCBhdHRyaWJ1dGUgaW4gdGhlIEZOVCBmaWxlLlxuICAgICAqIEByZXR1cm4ge09iamVjdH0gUmVzdWx0IGZvbnQgb2JqZWN0IHdpdGggZm9udCwgc2l6ZSwgbGluZUhlaWdodCBhbmQgY2hhciBmaWVsZHMuXG4gICAgICovXG4gICAgQml0bWFwVGV4dC5yZWdpc3RlckZvbnQgPSBmdW5jdGlvbiByZWdpc3RlckZvbnQgKHhtbCwgdGV4dHVyZXMpXG4gICAge1xuICAgICAgICB2YXIgZGF0YSA9IHt9O1xuICAgICAgICB2YXIgaW5mbyA9IHhtbC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaW5mbycpWzBdO1xuICAgICAgICB2YXIgY29tbW9uID0geG1sLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdjb21tb24nKVswXTtcbiAgICAgICAgdmFyIHBhZ2VzID0geG1sLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdwYWdlJyk7XG4gICAgICAgIHZhciByZXMgPSBnZXRSZXNvbHV0aW9uT2ZVcmwocGFnZXNbMF0uZ2V0QXR0cmlidXRlKCdmaWxlJyksIHNldHRpbmdzLlJFU09MVVRJT04pO1xuICAgICAgICB2YXIgcGFnZXNUZXh0dXJlcyA9IHt9O1xuXG4gICAgICAgIGRhdGEuZm9udCA9IGluZm8uZ2V0QXR0cmlidXRlKCdmYWNlJyk7XG4gICAgICAgIGRhdGEuc2l6ZSA9IHBhcnNlSW50KGluZm8uZ2V0QXR0cmlidXRlKCdzaXplJyksIDEwKTtcbiAgICAgICAgZGF0YS5saW5lSGVpZ2h0ID0gcGFyc2VJbnQoY29tbW9uLmdldEF0dHJpYnV0ZSgnbGluZUhlaWdodCcpLCAxMCkgLyByZXM7XG4gICAgICAgIGRhdGEuY2hhcnMgPSB7fTtcblxuICAgICAgICAvLyBTaW5nbGUgdGV4dHVyZSwgY29udmVydCB0byBsaXN0XG4gICAgICAgIGlmICh0ZXh0dXJlcyBpbnN0YW5jZW9mIFRleHR1cmUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRleHR1cmVzID0gW3RleHR1cmVzXTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENvbnZlcnQgdGhlIGlucHV0IFRleHR1cmUsIFRleHR1cmVzIG9yIG9iamVjdFxuICAgICAgICAvLyBpbnRvIGEgcGFnZSBUZXh0dXJlIGxvb2t1cCBieSBcImlkXCJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYWdlcy5sZW5ndGg7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIGlkID0gcGFnZXNbaV0uZ2V0QXR0cmlidXRlKCdpZCcpO1xuICAgICAgICAgICAgdmFyIGZpbGUgPSBwYWdlc1tpXS5nZXRBdHRyaWJ1dGUoJ2ZpbGUnKTtcblxuICAgICAgICAgICAgcGFnZXNUZXh0dXJlc1tpZF0gPSB0ZXh0dXJlcyBpbnN0YW5jZW9mIEFycmF5ID8gdGV4dHVyZXNbaV0gOiB0ZXh0dXJlc1tmaWxlXTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHBhcnNlIGxldHRlcnNcbiAgICAgICAgdmFyIGxldHRlcnMgPSB4bWwuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2NoYXInKTtcblxuICAgICAgICBmb3IgKHZhciBpJDEgPSAwOyBpJDEgPCBsZXR0ZXJzLmxlbmd0aDsgaSQxKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBsZXR0ZXIgPSBsZXR0ZXJzW2kkMV07XG4gICAgICAgICAgICB2YXIgY2hhckNvZGUgPSBwYXJzZUludChsZXR0ZXIuZ2V0QXR0cmlidXRlKCdpZCcpLCAxMCk7XG4gICAgICAgICAgICB2YXIgcGFnZSA9IGxldHRlci5nZXRBdHRyaWJ1dGUoJ3BhZ2UnKSB8fCAwO1xuICAgICAgICAgICAgdmFyIHRleHR1cmVSZWN0ID0gbmV3IFJlY3RhbmdsZShcbiAgICAgICAgICAgICAgICAocGFyc2VJbnQobGV0dGVyLmdldEF0dHJpYnV0ZSgneCcpLCAxMCkgLyByZXMpICsgKHBhZ2VzVGV4dHVyZXNbcGFnZV0uZnJhbWUueCAvIHJlcyksXG4gICAgICAgICAgICAgICAgKHBhcnNlSW50KGxldHRlci5nZXRBdHRyaWJ1dGUoJ3knKSwgMTApIC8gcmVzKSArIChwYWdlc1RleHR1cmVzW3BhZ2VdLmZyYW1lLnkgLyByZXMpLFxuICAgICAgICAgICAgICAgIHBhcnNlSW50KGxldHRlci5nZXRBdHRyaWJ1dGUoJ3dpZHRoJyksIDEwKSAvIHJlcyxcbiAgICAgICAgICAgICAgICBwYXJzZUludChsZXR0ZXIuZ2V0QXR0cmlidXRlKCdoZWlnaHQnKSwgMTApIC8gcmVzXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICBkYXRhLmNoYXJzW2NoYXJDb2RlXSA9IHtcbiAgICAgICAgICAgICAgICB4T2Zmc2V0OiBwYXJzZUludChsZXR0ZXIuZ2V0QXR0cmlidXRlKCd4b2Zmc2V0JyksIDEwKSAvIHJlcyxcbiAgICAgICAgICAgICAgICB5T2Zmc2V0OiBwYXJzZUludChsZXR0ZXIuZ2V0QXR0cmlidXRlKCd5b2Zmc2V0JyksIDEwKSAvIHJlcyxcbiAgICAgICAgICAgICAgICB4QWR2YW5jZTogcGFyc2VJbnQobGV0dGVyLmdldEF0dHJpYnV0ZSgneGFkdmFuY2UnKSwgMTApIC8gcmVzLFxuICAgICAgICAgICAgICAgIGtlcm5pbmc6IHt9LFxuICAgICAgICAgICAgICAgIHRleHR1cmU6IG5ldyBUZXh0dXJlKHBhZ2VzVGV4dHVyZXNbcGFnZV0uYmFzZVRleHR1cmUsIHRleHR1cmVSZWN0KSxcbiAgICAgICAgICAgICAgICBwYWdlOiBwYWdlLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHBhcnNlIGtlcm5pbmdzXG4gICAgICAgIHZhciBrZXJuaW5ncyA9IHhtbC5nZXRFbGVtZW50c0J5VGFnTmFtZSgna2VybmluZycpO1xuXG4gICAgICAgIGZvciAodmFyIGkkMiA9IDA7IGkkMiA8IGtlcm5pbmdzLmxlbmd0aDsgaSQyKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBrZXJuaW5nID0ga2VybmluZ3NbaSQyXTtcbiAgICAgICAgICAgIHZhciBmaXJzdCA9IHBhcnNlSW50KGtlcm5pbmcuZ2V0QXR0cmlidXRlKCdmaXJzdCcpLCAxMCkgLyByZXM7XG4gICAgICAgICAgICB2YXIgc2Vjb25kID0gcGFyc2VJbnQoa2VybmluZy5nZXRBdHRyaWJ1dGUoJ3NlY29uZCcpLCAxMCkgLyByZXM7XG4gICAgICAgICAgICB2YXIgYW1vdW50ID0gcGFyc2VJbnQoa2VybmluZy5nZXRBdHRyaWJ1dGUoJ2Ftb3VudCcpLCAxMCkgLyByZXM7XG5cbiAgICAgICAgICAgIGlmIChkYXRhLmNoYXJzW3NlY29uZF0pXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGF0YS5jaGFyc1tzZWNvbmRdLmtlcm5pbmdbZmlyc3RdID0gYW1vdW50O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gSSdtIGxlYXZpbmcgdGhpcyBhcyBhIHRlbXBvcmFyeSBmaXggc28gd2UgY2FuIHRlc3QgdGhlIGJpdG1hcCBmb250cyBpbiB2M1xuICAgICAgICAvLyBidXQgaXQncyB2ZXJ5IGxpa2VseSB0byBjaGFuZ2VcbiAgICAgICAgQml0bWFwVGV4dC5mb250c1tkYXRhLmZvbnRdID0gZGF0YTtcblxuICAgICAgICByZXR1cm4gZGF0YTtcbiAgICB9O1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoIEJpdG1hcFRleHQucHJvdG90eXBlLCBwcm90b3R5cGVBY2Nlc3NvcnMgKTtcblxuICAgIHJldHVybiBCaXRtYXBUZXh0O1xufShDb250YWluZXIpKTtcblxuQml0bWFwVGV4dC5mb250cyA9IHt9O1xuXG4vKipcbiAqIHtAbGluayBQSVhJLkxvYWRlciBMb2FkZXJ9IG1pZGRsZXdhcmUgZm9yIGxvYWRpbmdcbiAqIGJpdG1hcC1iYXNlZCBmb250cyBzdWl0YWJsZSBmb3IgdXNpbmcgd2l0aCB7QGxpbmsgUElYSS5CaXRtYXBUZXh0fS5cbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEBpbXBsZW1lbnRzIFBJWEkuSUxvYWRlclBsdWdpblxuICovXG52YXIgQml0bWFwRm9udExvYWRlciA9IGZ1bmN0aW9uIEJpdG1hcEZvbnRMb2FkZXIgKCkge307XG5cbkJpdG1hcEZvbnRMb2FkZXIucGFyc2UgPSBmdW5jdGlvbiBwYXJzZSAocmVzb3VyY2UsIHRleHR1cmUpXG57XG4gICAgcmVzb3VyY2UuYml0bWFwRm9udCA9IEJpdG1hcFRleHQucmVnaXN0ZXJGb250KHJlc291cmNlLmRhdGEsIHRleHR1cmUpO1xufTtcblxuLyoqXG4gKiBDYWxsZWQgd2hlbiB0aGUgcGx1Z2luIGlzIGluc3RhbGxlZC5cbiAqXG4gKiBAc2VlIFBJWEkuTG9hZGVyLnJlZ2lzdGVyUGx1Z2luXG4gKi9cbkJpdG1hcEZvbnRMb2FkZXIuYWRkID0gZnVuY3Rpb24gYWRkICgpXG57XG4gICAgTG9hZGVyUmVzb3VyY2Uuc2V0RXh0ZW5zaW9uWGhyVHlwZSgnZm50JywgTG9hZGVyUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuRE9DVU1FTlQpO1xufTtcblxuLyoqXG4gKiBSZXBsYWNlbWVudCBmb3IgTm9kZUpTJ3MgcGF0aC5kaXJuYW1lXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtzdHJpbmd9IHVybCBQYXRoIHRvIGdldCBkaXJlY3RvcnkgZm9yXG4gKi9cbkJpdG1hcEZvbnRMb2FkZXIuZGlybmFtZSA9IGZ1bmN0aW9uIGRpcm5hbWUgKHVybClcbntcbiAgICB2YXIgZGlyID0gdXJsXG4gICAgICAgIC5yZXBsYWNlKC9cXC8kLywgJycpIC8vIHJlcGxhY2UgdHJhaWxpbmcgc2xhc2hcbiAgICAgICAgLnJlcGxhY2UoL1xcL1teXFwvXSokLywgJycpOyAvLyByZW1vdmUgZXZlcnl0aGluZyBhZnRlciB0aGUgbGFzdFxuXG4gICAgLy8gRmlsZSByZXF1ZXN0IGlzIHJlbGF0aXZlLCB1c2UgY3VycmVudCBkaXJlY3RvcnlcbiAgICBpZiAoZGlyID09PSB1cmwpXG4gICAge1xuICAgICAgICByZXR1cm4gJy4nO1xuICAgIH1cbiAgICAvLyBTdGFydGVkIHdpdGggYSBzbGFzaFxuICAgIGVsc2UgaWYgKGRpciA9PT0gJycpXG4gICAge1xuICAgICAgICByZXR1cm4gJy8nO1xuICAgIH1cblxuICAgIHJldHVybiBkaXI7XG59O1xuXG4vKipcbiAqIENhbGxlZCBhZnRlciBhIHJlc291cmNlIGlzIGxvYWRlZC5cbiAqIEBzZWUgUElYSS5Mb2FkZXIubG9hZGVyTWlkZGxld2FyZVxuICogQHBhcmFtIHtQSVhJLkxvYWRlclJlc291cmNlfSByZXNvdXJjZVxuICogQHBhcmFtIHtmdW5jdGlvbn0gbmV4dFxuICovXG5CaXRtYXBGb250TG9hZGVyLnVzZSA9IGZ1bmN0aW9uIHVzZSAocmVzb3VyY2UsIG5leHQpXG57XG4gICAgLy8gc2tpcCBpZiBubyBkYXRhIG9yIG5vdCB4bWwgZGF0YVxuICAgIGlmICghcmVzb3VyY2UuZGF0YSB8fCByZXNvdXJjZS50eXBlICE9PSBMb2FkZXJSZXNvdXJjZS5UWVBFLlhNTClcbiAgICB7XG4gICAgICAgIG5leHQoKTtcblxuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gc2tpcCBpZiBub3QgYml0bWFwIGZvbnQgZGF0YSwgdXNpbmcgc29tZSBzaWxseSBkdWNrLXR5cGluZ1xuICAgIGlmIChyZXNvdXJjZS5kYXRhLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdwYWdlJykubGVuZ3RoID09PSAwXG4gICAgICAgIHx8IHJlc291cmNlLmRhdGEuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2luZm8nKS5sZW5ndGggPT09IDBcbiAgICAgICAgfHwgcmVzb3VyY2UuZGF0YS5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaW5mbycpWzBdLmdldEF0dHJpYnV0ZSgnZmFjZScpID09PSBudWxsXG4gICAgKVxuICAgIHtcbiAgICAgICAgbmV4dCgpO1xuXG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgeG1sVXJsID0gIXJlc291cmNlLmlzRGF0YVVybCA/IEJpdG1hcEZvbnRMb2FkZXIuZGlybmFtZShyZXNvdXJjZS51cmwpIDogJyc7XG5cbiAgICBpZiAocmVzb3VyY2UuaXNEYXRhVXJsKVxuICAgIHtcbiAgICAgICAgaWYgKHhtbFVybCA9PT0gJy4nKVxuICAgICAgICB7XG4gICAgICAgICAgICB4bWxVcmwgPSAnJztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmJhc2VVcmwgJiYgeG1sVXJsKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBpZiBiYXNldXJsIGhhcyBhIHRyYWlsaW5nIHNsYXNoIHRoZW4gYWRkIG9uZSB0byB4bWxVcmwgc28gdGhlIHJlcGxhY2Ugd29ya3MgYmVsb3dcbiAgICAgICAgICAgIGlmICh0aGlzLmJhc2VVcmwuY2hhckF0KHRoaXMuYmFzZVVybC5sZW5ndGggLSAxKSA9PT0gJy8nKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHhtbFVybCArPSAnLyc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyByZW1vdmUgYmFzZVVybCBmcm9tIHhtbFVybFxuICAgIHhtbFVybCA9IHhtbFVybC5yZXBsYWNlKHRoaXMuYmFzZVVybCwgJycpO1xuXG4gICAgLy8gaWYgdGhlcmUgaXMgYW4geG1sVXJsIG5vdywgaXQgbmVlZHMgYSB0cmFpbGluZyBzbGFzaC4gRW5zdXJlIHRoYXQgaXQgZG9lcyBpZiB0aGUgc3RyaW5nIGlzbid0IGVtcHR5LlxuICAgIGlmICh4bWxVcmwgJiYgeG1sVXJsLmNoYXJBdCh4bWxVcmwubGVuZ3RoIC0gMSkgIT09ICcvJylcbiAgICB7XG4gICAgICAgIHhtbFVybCArPSAnLyc7XG4gICAgfVxuXG4gICAgdmFyIHBhZ2VzID0gcmVzb3VyY2UuZGF0YS5nZXRFbGVtZW50c0J5VGFnTmFtZSgncGFnZScpO1xuICAgIHZhciB0ZXh0dXJlcyA9IHt9O1xuXG4gICAgLy8gSGFuZGxlIGNvbXBsZXRlZCwgd2hlbiB0aGUgbnVtYmVyIG9mIHRleHR1cmVzXG4gICAgLy8gbG9hZCBpcyB0aGUgc2FtZSBudW1iZXIgYXMgcmVmZXJlbmNlcyBpbiB0aGUgZm50IGZpbGVcbiAgICB2YXIgY29tcGxldGVkID0gZnVuY3Rpb24gKHBhZ2UpIHtcbiAgICAgICAgdGV4dHVyZXNbcGFnZS5tZXRhZGF0YS5wYWdlRmlsZV0gPSBwYWdlLnRleHR1cmU7XG5cbiAgICAgICAgaWYgKE9iamVjdC5rZXlzKHRleHR1cmVzKS5sZW5ndGggPT09IHBhZ2VzLmxlbmd0aClcbiAgICAgICAge1xuICAgICAgICAgICAgQml0bWFwRm9udExvYWRlci5wYXJzZShyZXNvdXJjZSwgdGV4dHVyZXMpO1xuICAgICAgICAgICAgbmV4dCgpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGFnZXMubGVuZ3RoOyArK2kpXG4gICAge1xuICAgICAgICB2YXIgcGFnZUZpbGUgPSBwYWdlc1tpXS5nZXRBdHRyaWJ1dGUoJ2ZpbGUnKTtcbiAgICAgICAgdmFyIHVybCA9IHhtbFVybCArIHBhZ2VGaWxlO1xuICAgICAgICB2YXIgZXhpc3RzID0gZmFsc2U7XG5cbiAgICAgICAgLy8gaW5jYXNlIHRoZSBpbWFnZSBpcyBsb2FkZWQgb3V0c2lkZVxuICAgICAgICAvLyB1c2luZyB0aGUgc2FtZSBsb2FkZXIsIHJlc291cmNlIHdpbGwgYmUgYXZhaWxhYmxlXG4gICAgICAgIGZvciAodmFyIG5hbWUgaW4gdGhpcy5yZXNvdXJjZXMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBiaXRtYXBSZXNvdXJjZSA9IHRoaXMucmVzb3VyY2VzW25hbWVdO1xuXG4gICAgICAgICAgICBpZiAoYml0bWFwUmVzb3VyY2UudXJsID09PSB1cmwpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYml0bWFwUmVzb3VyY2UubWV0YWRhdGEucGFnZUZpbGUgPSBwYWdlRmlsZTtcbiAgICAgICAgICAgICAgICBpZiAoYml0bWFwUmVzb3VyY2UudGV4dHVyZSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNvbXBsZXRlZChiaXRtYXBSZXNvdXJjZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGJpdG1hcFJlc291cmNlLm9uQWZ0ZXJNaWRkbGV3YXJlLmFkZChjb21wbGV0ZWQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBleGlzdHMgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gdGV4dHVyZSBpcyBub3QgbG9hZGVkLCB3ZSdsbCBhdHRlbXB0IHRvIGFkZFxuICAgICAgICAvLyBpdCB0byB0aGUgbG9hZCBhbmQgYWRkIHRoZSB0ZXh0dXJlIHRvIHRoZSBsaXN0XG4gICAgICAgIGlmICghZXhpc3RzKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBTdGFuZGFyZCBsb2FkaW5nIG9wdGlvbnMgZm9yIGltYWdlc1xuICAgICAgICAgICAgdmFyIG9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgY3Jvc3NPcmlnaW46IHJlc291cmNlLmNyb3NzT3JpZ2luLFxuICAgICAgICAgICAgICAgIGxvYWRUeXBlOiBMb2FkZXJSZXNvdXJjZS5MT0FEX1RZUEUuSU1BR0UsXG4gICAgICAgICAgICAgICAgbWV0YWRhdGE6IE9iamVjdC5hc3NpZ24oXG4gICAgICAgICAgICAgICAgICAgIHsgcGFnZUZpbGU6IHBhZ2VGaWxlIH0sXG4gICAgICAgICAgICAgICAgICAgIHJlc291cmNlLm1ldGFkYXRhLmltYWdlTWV0YWRhdGFcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIHBhcmVudFJlc291cmNlOiByZXNvdXJjZSxcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHRoaXMuYWRkKHVybCwgb3B0aW9ucywgY29tcGxldGVkKTtcbiAgICAgICAgfVxuICAgIH1cbn07XG5cbmV4cG9ydCB7IEJpdG1hcEZvbnRMb2FkZXIsIEJpdG1hcFRleHQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRleHQtYml0bWFwLmVzLmpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS9maWx0ZXItYWxwaGEgLSB2NS4yLjBcbiAqIENvbXBpbGVkIFdlZCwgMDYgTm92IDIwMTkgMDI6MzI6NDMgVVRDXG4gKlxuICogQHBpeGkvZmlsdGVyLWFscGhhIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgRmlsdGVyLCBkZWZhdWx0VmVydGV4IH0gZnJvbSAnQHBpeGkvY29yZSc7XG5cbnZhciBmcmFnbWVudCA9IFwidmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxuXFxudW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXI7XFxudW5pZm9ybSBmbG9hdCB1QWxwaGE7XFxuXFxudm9pZCBtYWluKHZvaWQpXFxue1xcbiAgIGdsX0ZyYWdDb2xvciA9IHRleHR1cmUyRCh1U2FtcGxlciwgdlRleHR1cmVDb29yZCkgKiB1QWxwaGE7XFxufVxcblwiO1xuXG4vKipcbiAqIFNpbXBsZXN0IGZpbHRlciAtIGFwcGxpZXMgYWxwaGEuXG4gKlxuICogVXNlIHRoaXMgaW5zdGVhZCBvZiBDb250YWluZXIncyBhbHBoYSBwcm9wZXJ0eSB0byBhdm9pZCB2aXN1YWwgbGF5ZXJpbmcgb2YgaW5kaXZpZHVhbCBlbGVtZW50cy5cbiAqIEFscGhhRmlsdGVyIGFwcGxpZXMgYWxwaGEgZXZlbmx5IGFjcm9zcyB0aGUgZW50aXJlIGRpc3BsYXkgb2JqZWN0IGFuZCBhbnkgb3BhcXVlIGVsZW1lbnRzIGl0IGNvbnRhaW5zLlxuICogSWYgZWxlbWVudHMgYXJlIG5vdCBvcGFxdWUsIHRoZXkgd2lsbCBibGVuZCB3aXRoIGVhY2ggb3RoZXIgYW55d2F5LlxuICpcbiAqIFZlcnkgaGFuZHkgaWYgeW91IHdhbnQgdG8gdXNlIGNvbW1vbiBmZWF0dXJlcyBvZiBhbGwgZmlsdGVyczpcbiAqXG4gKiAxLiBBc3NpZ24gYSBibGVuZE1vZGUgdG8gdGhpcyBmaWx0ZXIsIGJsZW5kIGFsbCBlbGVtZW50cyBpbnNpZGUgZGlzcGxheSBvYmplY3Qgd2l0aCBiYWNrZ3JvdW5kLlxuICpcbiAqIDIuIFRvIHVzZSBjbGlwcGluZyBpbiBkaXNwbGF5IGNvb3JkaW5hdGVzLCBhc3NpZ24gYSBmaWx0ZXJBcmVhIHRvIHRoZSBzYW1lIGNvbnRhaW5lciB0aGF0IGhhcyB0aGlzIGZpbHRlci5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuRmlsdGVyXG4gKiBAbWVtYmVyb2YgUElYSS5maWx0ZXJzXG4gKi9cbnZhciBBbHBoYUZpbHRlciA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKEZpbHRlcikge1xuICAgIGZ1bmN0aW9uIEFscGhhRmlsdGVyKGFscGhhKVxuICAgIHtcbiAgICAgICAgaWYgKCBhbHBoYSA9PT0gdm9pZCAwICkgYWxwaGEgPSAxLjA7XG5cbiAgICAgICAgRmlsdGVyLmNhbGwodGhpcywgZGVmYXVsdFZlcnRleCwgZnJhZ21lbnQsIHsgdUFscGhhOiAxIH0pO1xuXG4gICAgICAgIHRoaXMuYWxwaGEgPSBhbHBoYTtcbiAgICB9XG5cbiAgICBpZiAoIEZpbHRlciApIEFscGhhRmlsdGVyLl9fcHJvdG9fXyA9IEZpbHRlcjtcbiAgICBBbHBoYUZpbHRlci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBGaWx0ZXIgJiYgRmlsdGVyLnByb3RvdHlwZSApO1xuICAgIEFscGhhRmlsdGVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEFscGhhRmlsdGVyO1xuXG4gICAgdmFyIHByb3RvdHlwZUFjY2Vzc29ycyA9IHsgYWxwaGE6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0gfTtcblxuICAgIC8qKlxuICAgICAqIENvZWZmaWNpZW50IGZvciBhbHBoYSBtdWx0aXBsaWNhdGlvblxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDFcbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMuYWxwaGEuZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnVuaWZvcm1zLnVBbHBoYTtcbiAgICB9O1xuXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLmFscGhhLnNldCA9IGZ1bmN0aW9uICh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICB0aGlzLnVuaWZvcm1zLnVBbHBoYSA9IHZhbHVlO1xuICAgIH07XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyggQWxwaGFGaWx0ZXIucHJvdG90eXBlLCBwcm90b3R5cGVBY2Nlc3NvcnMgKTtcblxuICAgIHJldHVybiBBbHBoYUZpbHRlcjtcbn0oRmlsdGVyKSk7XG5cbmV4cG9ydCB7IEFscGhhRmlsdGVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1maWx0ZXItYWxwaGEuZXMuanMubWFwXG4iLCIvKiFcbiAqIEBwaXhpL2ZpbHRlci1ibHVyIC0gdjUuMi4wXG4gKiBDb21waWxlZCBXZWQsIDA2IE5vdiAyMDE5IDAyOjMyOjQzIFVUQ1xuICpcbiAqIEBwaXhpL2ZpbHRlci1ibHVyIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgRmlsdGVyIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5pbXBvcnQgeyBzZXR0aW5ncyB9IGZyb20gJ0BwaXhpL3NldHRpbmdzJztcblxudmFyIHZlcnRUZW1wbGF0ZSA9IFwiXFxuICAgIGF0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjtcXG5cXG4gICAgdW5pZm9ybSBtYXQzIHByb2plY3Rpb25NYXRyaXg7XFxuXFxuICAgIHVuaWZvcm0gZmxvYXQgc3RyZW5ndGg7XFxuXFxuICAgIHZhcnlpbmcgdmVjMiB2Qmx1clRleENvb3Jkc1slc2l6ZSVdO1xcblxcbiAgICB1bmlmb3JtIHZlYzQgaW5wdXRTaXplO1xcbiAgICB1bmlmb3JtIHZlYzQgb3V0cHV0RnJhbWU7XFxuXFxuICAgIHZlYzQgZmlsdGVyVmVydGV4UG9zaXRpb24oIHZvaWQgKVxcbiAgICB7XFxuICAgICAgICB2ZWMyIHBvc2l0aW9uID0gYVZlcnRleFBvc2l0aW9uICogbWF4KG91dHB1dEZyYW1lLnp3LCB2ZWMyKDAuKSkgKyBvdXRwdXRGcmFtZS54eTtcXG5cXG4gICAgICAgIHJldHVybiB2ZWM0KChwcm9qZWN0aW9uTWF0cml4ICogdmVjMyhwb3NpdGlvbiwgMS4wKSkueHksIDAuMCwgMS4wKTtcXG4gICAgfVxcblxcbiAgICB2ZWMyIGZpbHRlclRleHR1cmVDb29yZCggdm9pZCApXFxuICAgIHtcXG4gICAgICAgIHJldHVybiBhVmVydGV4UG9zaXRpb24gKiAob3V0cHV0RnJhbWUuencgKiBpbnB1dFNpemUuencpO1xcbiAgICB9XFxuXFxuICAgIHZvaWQgbWFpbih2b2lkKVxcbiAgICB7XFxuICAgICAgICBnbF9Qb3NpdGlvbiA9IGZpbHRlclZlcnRleFBvc2l0aW9uKCk7XFxuXFxuICAgICAgICB2ZWMyIHRleHR1cmVDb29yZCA9IGZpbHRlclRleHR1cmVDb29yZCgpO1xcbiAgICAgICAgJWJsdXIlXFxuICAgIH1cIjtcblxuZnVuY3Rpb24gZ2VuZXJhdGVCbHVyVmVydFNvdXJjZShrZXJuZWxTaXplLCB4KVxue1xuICAgIHZhciBoYWxmTGVuZ3RoID0gTWF0aC5jZWlsKGtlcm5lbFNpemUgLyAyKTtcblxuICAgIHZhciB2ZXJ0U291cmNlID0gdmVydFRlbXBsYXRlO1xuXG4gICAgdmFyIGJsdXJMb29wID0gJyc7XG4gICAgdmFyIHRlbXBsYXRlO1xuICAgIC8vIGxldCB2YWx1ZTtcblxuICAgIGlmICh4KVxuICAgIHtcbiAgICAgICAgdGVtcGxhdGUgPSAndkJsdXJUZXhDb29yZHNbJWluZGV4JV0gPSAgdGV4dHVyZUNvb3JkICsgdmVjMiglc2FtcGxlSW5kZXglICogc3RyZW5ndGgsIDAuMCk7JztcbiAgICB9XG4gICAgZWxzZVxuICAgIHtcbiAgICAgICAgdGVtcGxhdGUgPSAndkJsdXJUZXhDb29yZHNbJWluZGV4JV0gPSAgdGV4dHVyZUNvb3JkICsgdmVjMigwLjAsICVzYW1wbGVJbmRleCUgKiBzdHJlbmd0aCk7JztcbiAgICB9XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGtlcm5lbFNpemU7IGkrKylcbiAgICB7XG4gICAgICAgIHZhciBibHVyID0gdGVtcGxhdGUucmVwbGFjZSgnJWluZGV4JScsIGkpO1xuXG4gICAgICAgIC8vIHZhbHVlID0gaTtcblxuICAgICAgICAvLyBpZihpID49IGhhbGZMZW5ndGgpXG4gICAgICAgIC8vIHtcbiAgICAgICAgLy8gICAgIHZhbHVlID0ga2VybmVsU2l6ZSAtIGkgLSAxO1xuICAgICAgICAvLyB9XG5cbiAgICAgICAgYmx1ciA9IGJsdXIucmVwbGFjZSgnJXNhbXBsZUluZGV4JScsICgoaSAtIChoYWxmTGVuZ3RoIC0gMSkpICsgXCIuMFwiKSk7XG5cbiAgICAgICAgYmx1ckxvb3AgKz0gYmx1cjtcbiAgICAgICAgYmx1ckxvb3AgKz0gJ1xcbic7XG4gICAgfVxuXG4gICAgdmVydFNvdXJjZSA9IHZlcnRTb3VyY2UucmVwbGFjZSgnJWJsdXIlJywgYmx1ckxvb3ApO1xuICAgIHZlcnRTb3VyY2UgPSB2ZXJ0U291cmNlLnJlcGxhY2UoJyVzaXplJScsIGtlcm5lbFNpemUpO1xuXG4gICAgcmV0dXJuIHZlcnRTb3VyY2U7XG59XG5cbnZhciBHQVVTU0lBTl9WQUxVRVMgPSB7XG4gICAgNTogWzAuMTUzMzg4LCAwLjIyMTQ2MSwgMC4yNTAzMDFdLFxuICAgIDc6IFswLjA3MTMwMywgMC4xMzE1MTQsIDAuMTg5ODc5LCAwLjIxNDYwN10sXG4gICAgOTogWzAuMDI4NTMyLCAwLjA2NzIzNCwgMC4xMjQwMDksIDAuMTc5MDQ0LCAwLjIwMjM2XSxcbiAgICAxMTogWzAuMDA5MywgMC4wMjgwMDIsIDAuMDY1OTg0LCAwLjEyMTcwMywgMC4xNzU3MTMsIDAuMTk4NTk2XSxcbiAgICAxMzogWzAuMDAyNDA2LCAwLjAwOTI1NSwgMC4wMjc4NjcsIDAuMDY1NjY2LCAwLjEyMTExNywgMC4xNzQ4NjgsIDAuMTk3NjQxXSxcbiAgICAxNTogWzAuMDAwNDg5LCAwLjAwMjQwMywgMC4wMDkyNDYsIDAuMDI3ODQsIDAuMDY1NjAyLCAwLjEyMDk5OSwgMC4xNzQ2OTcsIDAuMTk3NDQ4XSxcbn07XG5cbnZhciBmcmFnVGVtcGxhdGUgPSBbXG4gICAgJ3ZhcnlpbmcgdmVjMiB2Qmx1clRleENvb3Jkc1slc2l6ZSVdOycsXG4gICAgJ3VuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyOycsXG5cbiAgICAndm9pZCBtYWluKHZvaWQpJyxcbiAgICAneycsXG4gICAgJyAgICBnbF9GcmFnQ29sb3IgPSB2ZWM0KDAuMCk7JyxcbiAgICAnICAgICVibHVyJScsXG4gICAgJ30nIF0uam9pbignXFxuJyk7XG5cbmZ1bmN0aW9uIGdlbmVyYXRlQmx1ckZyYWdTb3VyY2Uoa2VybmVsU2l6ZSlcbntcbiAgICB2YXIga2VybmVsID0gR0FVU1NJQU5fVkFMVUVTW2tlcm5lbFNpemVdO1xuICAgIHZhciBoYWxmTGVuZ3RoID0ga2VybmVsLmxlbmd0aDtcblxuICAgIHZhciBmcmFnU291cmNlID0gZnJhZ1RlbXBsYXRlO1xuXG4gICAgdmFyIGJsdXJMb29wID0gJyc7XG4gICAgdmFyIHRlbXBsYXRlID0gJ2dsX0ZyYWdDb2xvciArPSB0ZXh0dXJlMkQodVNhbXBsZXIsIHZCbHVyVGV4Q29vcmRzWyVpbmRleCVdKSAqICV2YWx1ZSU7JztcbiAgICB2YXIgdmFsdWU7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGtlcm5lbFNpemU7IGkrKylcbiAgICB7XG4gICAgICAgIHZhciBibHVyID0gdGVtcGxhdGUucmVwbGFjZSgnJWluZGV4JScsIGkpO1xuXG4gICAgICAgIHZhbHVlID0gaTtcblxuICAgICAgICBpZiAoaSA+PSBoYWxmTGVuZ3RoKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YWx1ZSA9IGtlcm5lbFNpemUgLSBpIC0gMTtcbiAgICAgICAgfVxuXG4gICAgICAgIGJsdXIgPSBibHVyLnJlcGxhY2UoJyV2YWx1ZSUnLCBrZXJuZWxbdmFsdWVdKTtcblxuICAgICAgICBibHVyTG9vcCArPSBibHVyO1xuICAgICAgICBibHVyTG9vcCArPSAnXFxuJztcbiAgICB9XG5cbiAgICBmcmFnU291cmNlID0gZnJhZ1NvdXJjZS5yZXBsYWNlKCclYmx1ciUnLCBibHVyTG9vcCk7XG4gICAgZnJhZ1NvdXJjZSA9IGZyYWdTb3VyY2UucmVwbGFjZSgnJXNpemUlJywga2VybmVsU2l6ZSk7XG5cbiAgICByZXR1cm4gZnJhZ1NvdXJjZTtcbn1cblxuLyoqXG4gKiBUaGUgQmx1ckZpbHRlclBhc3MgYXBwbGllcyBhIGhvcml6b250YWwgb3IgdmVydGljYWwgR2F1c3NpYW4gYmx1ciB0byBhbiBvYmplY3QuXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkZpbHRlclxuICogQG1lbWJlcm9mIFBJWEkuZmlsdGVyc1xuICovXG52YXIgQmx1ckZpbHRlclBhc3MgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChGaWx0ZXIpIHtcbiAgICBmdW5jdGlvbiBCbHVyRmlsdGVyUGFzcyhob3Jpem9udGFsLCBzdHJlbmd0aCwgcXVhbGl0eSwgcmVzb2x1dGlvbiwga2VybmVsU2l6ZSlcbiAgICB7XG4gICAgICAgIGtlcm5lbFNpemUgPSBrZXJuZWxTaXplIHx8IDU7XG4gICAgICAgIHZhciB2ZXJ0U3JjID0gZ2VuZXJhdGVCbHVyVmVydFNvdXJjZShrZXJuZWxTaXplLCBob3Jpem9udGFsKTtcbiAgICAgICAgdmFyIGZyYWdTcmMgPSBnZW5lcmF0ZUJsdXJGcmFnU291cmNlKGtlcm5lbFNpemUpO1xuXG4gICAgICAgIEZpbHRlci5jYWxsKFxuICAgICAgICAgICAgLy8gdmVydGV4IHNoYWRlclxuICAgICAgICAgICAgdGhpcywgdmVydFNyYyxcbiAgICAgICAgICAgIC8vIGZyYWdtZW50IHNoYWRlclxuICAgICAgICAgICAgZnJhZ1NyY1xuICAgICAgICApO1xuXG4gICAgICAgIHRoaXMuaG9yaXpvbnRhbCA9IGhvcml6b250YWw7XG5cbiAgICAgICAgdGhpcy5yZXNvbHV0aW9uID0gcmVzb2x1dGlvbiB8fCBzZXR0aW5ncy5SRVNPTFVUSU9OO1xuXG4gICAgICAgIHRoaXMuX3F1YWxpdHkgPSAwO1xuXG4gICAgICAgIHRoaXMucXVhbGl0eSA9IHF1YWxpdHkgfHwgNDtcblxuICAgICAgICB0aGlzLmJsdXIgPSBzdHJlbmd0aCB8fCA4O1xuICAgIH1cblxuICAgIGlmICggRmlsdGVyICkgQmx1ckZpbHRlclBhc3MuX19wcm90b19fID0gRmlsdGVyO1xuICAgIEJsdXJGaWx0ZXJQYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIEZpbHRlciAmJiBGaWx0ZXIucHJvdG90eXBlICk7XG4gICAgQmx1ckZpbHRlclBhc3MucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQmx1ckZpbHRlclBhc3M7XG5cbiAgICB2YXIgcHJvdG90eXBlQWNjZXNzb3JzID0geyBibHVyOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LHF1YWxpdHk6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0gfTtcblxuICAgIEJsdXJGaWx0ZXJQYXNzLnByb3RvdHlwZS5hcHBseSA9IGZ1bmN0aW9uIGFwcGx5IChmaWx0ZXJNYW5hZ2VyLCBpbnB1dCwgb3V0cHV0LCBjbGVhcilcbiAgICB7XG4gICAgICAgIGlmIChvdXRwdXQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmhvcml6b250YWwpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy51bmlmb3Jtcy5zdHJlbmd0aCA9ICgxIC8gb3V0cHV0LndpZHRoKSAqIChvdXRwdXQud2lkdGggLyBpbnB1dC53aWR0aCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy51bmlmb3Jtcy5zdHJlbmd0aCA9ICgxIC8gb3V0cHV0LmhlaWdodCkgKiAob3V0cHV0LmhlaWdodCAvIGlucHV0LmhlaWdodCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGhpcy5ob3Jpem9udGFsKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy51bmlmb3Jtcy5zdHJlbmd0aCA9ICgxIC8gZmlsdGVyTWFuYWdlci5yZW5kZXJlci53aWR0aCkgKiAoZmlsdGVyTWFuYWdlci5yZW5kZXJlci53aWR0aCAvIGlucHV0LndpZHRoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVuaWZvcm1zLnN0cmVuZ3RoID0gKDEgLyBmaWx0ZXJNYW5hZ2VyLnJlbmRlcmVyLmhlaWdodCkgKiAoZmlsdGVyTWFuYWdlci5yZW5kZXJlci5oZWlnaHQgLyBpbnB1dC5oZWlnaHQpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBzY3JlZW4gc3BhY2UhXG4gICAgICAgIHRoaXMudW5pZm9ybXMuc3RyZW5ndGggKj0gdGhpcy5zdHJlbmd0aDtcbiAgICAgICAgdGhpcy51bmlmb3Jtcy5zdHJlbmd0aCAvPSB0aGlzLnBhc3NlcztcblxuICAgICAgICBpZiAodGhpcy5wYXNzZXMgPT09IDEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGZpbHRlck1hbmFnZXIuYXBwbHlGaWx0ZXIodGhpcywgaW5wdXQsIG91dHB1dCwgY2xlYXIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIHJlbmRlclRhcmdldCA9IGZpbHRlck1hbmFnZXIuZ2V0RmlsdGVyVGV4dHVyZSgpO1xuICAgICAgICAgICAgdmFyIHJlbmRlcmVyID0gZmlsdGVyTWFuYWdlci5yZW5kZXJlcjtcblxuICAgICAgICAgICAgdmFyIGZsaXAgPSBpbnB1dDtcbiAgICAgICAgICAgIHZhciBmbG9wID0gcmVuZGVyVGFyZ2V0O1xuXG4gICAgICAgICAgICB0aGlzLnN0YXRlLmJsZW5kID0gZmFsc2U7XG4gICAgICAgICAgICBmaWx0ZXJNYW5hZ2VyLmFwcGx5RmlsdGVyKHRoaXMsIGZsaXAsIGZsb3AsIGZhbHNlKTtcblxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCB0aGlzLnBhc3NlcyAtIDE7IGkrKylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZW5kZXJlci5yZW5kZXJUZXh0dXJlLmJpbmQoZmxpcCwgZmxpcC5maWx0ZXJGcmFtZSk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLnVuaWZvcm1zLnVTYW1wbGVyID0gZmxvcDtcblxuICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gZmxvcDtcblxuICAgICAgICAgICAgICAgIGZsb3AgPSBmbGlwO1xuICAgICAgICAgICAgICAgIGZsaXAgPSB0ZW1wO1xuXG4gICAgICAgICAgICAgICAgcmVuZGVyZXIuc2hhZGVyLmJpbmQodGhpcyk7XG4gICAgICAgICAgICAgICAgcmVuZGVyZXIuZ2VvbWV0cnkuZHJhdyg1KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5zdGF0ZS5ibGVuZCA9IHRydWU7XG4gICAgICAgICAgICBmaWx0ZXJNYW5hZ2VyLmFwcGx5RmlsdGVyKHRoaXMsIGZsb3AsIG91dHB1dCwgY2xlYXIpO1xuICAgICAgICAgICAgZmlsdGVyTWFuYWdlci5yZXR1cm5GaWx0ZXJUZXh0dXJlKHJlbmRlclRhcmdldCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHN0cmVuZ3RoIG9mIGJvdGggdGhlIGJsdXIuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMTZcbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMuYmx1ci5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RyZW5ndGg7XG4gICAgfTtcblxuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5ibHVyLnNldCA9IGZ1bmN0aW9uICh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICB0aGlzLnBhZGRpbmcgPSAxICsgKE1hdGguYWJzKHZhbHVlKSAqIDIpO1xuICAgICAgICB0aGlzLnN0cmVuZ3RoID0gdmFsdWU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHF1YWxpdHkgb2YgdGhlIGJsdXIgYnkgbW9kaWZ5aW5nIHRoZSBudW1iZXIgb2YgcGFzc2VzLiBNb3JlIHBhc3NlcyBtZWFucyBoaWdoZXJcbiAgICAgKiBxdWFpbGl0eSBibHVyaW5nIGJ1dCB0aGUgbG93ZXIgdGhlIHBlcmZvcm1hbmNlLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDRcbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMucXVhbGl0eS5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3F1YWxpdHk7XG4gICAgfTtcblxuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5xdWFsaXR5LnNldCA9IGZ1bmN0aW9uICh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICB0aGlzLl9xdWFsaXR5ID0gdmFsdWU7XG4gICAgICAgIHRoaXMucGFzc2VzID0gdmFsdWU7XG4gICAgfTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKCBCbHVyRmlsdGVyUGFzcy5wcm90b3R5cGUsIHByb3RvdHlwZUFjY2Vzc29ycyApO1xuXG4gICAgcmV0dXJuIEJsdXJGaWx0ZXJQYXNzO1xufShGaWx0ZXIpKTtcblxuLyoqXG4gKiBUaGUgQmx1ckZpbHRlciBhcHBsaWVzIGEgR2F1c3NpYW4gYmx1ciB0byBhbiBvYmplY3QuXG4gKlxuICogVGhlIHN0cmVuZ3RoIG9mIHRoZSBibHVyIGNhbiBiZSBzZXQgZm9yIHRoZSB4LWF4aXMgYW5kIHktYXhpcyBzZXBhcmF0ZWx5LlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5GaWx0ZXJcbiAqIEBtZW1iZXJvZiBQSVhJLmZpbHRlcnNcbiAqL1xudmFyIEJsdXJGaWx0ZXIgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChGaWx0ZXIpIHtcbiAgICBmdW5jdGlvbiBCbHVyRmlsdGVyKHN0cmVuZ3RoLCBxdWFsaXR5LCByZXNvbHV0aW9uLCBrZXJuZWxTaXplKVxuICAgIHtcbiAgICAgICAgRmlsdGVyLmNhbGwodGhpcyk7XG5cbiAgICAgICAgdGhpcy5ibHVyWEZpbHRlciA9IG5ldyBCbHVyRmlsdGVyUGFzcyh0cnVlLCBzdHJlbmd0aCwgcXVhbGl0eSwgcmVzb2x1dGlvbiwga2VybmVsU2l6ZSk7XG4gICAgICAgIHRoaXMuYmx1cllGaWx0ZXIgPSBuZXcgQmx1ckZpbHRlclBhc3MoZmFsc2UsIHN0cmVuZ3RoLCBxdWFsaXR5LCByZXNvbHV0aW9uLCBrZXJuZWxTaXplKTtcblxuICAgICAgICB0aGlzLnJlc29sdXRpb24gPSByZXNvbHV0aW9uIHx8IHNldHRpbmdzLlJFU09MVVRJT047XG4gICAgICAgIHRoaXMucXVhbGl0eSA9IHF1YWxpdHkgfHwgNDtcbiAgICAgICAgdGhpcy5ibHVyID0gc3RyZW5ndGggfHwgODtcblxuICAgICAgICB0aGlzLnJlcGVhdEVkZ2VQaXhlbHMgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAoIEZpbHRlciApIEJsdXJGaWx0ZXIuX19wcm90b19fID0gRmlsdGVyO1xuICAgIEJsdXJGaWx0ZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggRmlsdGVyICYmIEZpbHRlci5wcm90b3R5cGUgKTtcbiAgICBCbHVyRmlsdGVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEJsdXJGaWx0ZXI7XG5cbiAgICB2YXIgcHJvdG90eXBlQWNjZXNzb3JzID0geyBibHVyOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LHF1YWxpdHk6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sYmx1clg6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sYmx1clk6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sYmxlbmRNb2RlOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LHJlcGVhdEVkZ2VQaXhlbHM6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0gfTtcblxuICAgIC8qKlxuICAgICAqIEFwcGxpZXMgdGhlIGZpbHRlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5zeXN0ZW1zLkZpbHRlclN5c3RlbX0gZmlsdGVyTWFuYWdlciAtIFRoZSBtYW5hZ2VyLlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUZXh0dXJlfSBpbnB1dCAtIFRoZSBpbnB1dCB0YXJnZXQuXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlclRleHR1cmV9IG91dHB1dCAtIFRoZSBvdXRwdXQgdGFyZ2V0LlxuICAgICAqL1xuICAgIEJsdXJGaWx0ZXIucHJvdG90eXBlLmFwcGx5ID0gZnVuY3Rpb24gYXBwbHkgKGZpbHRlck1hbmFnZXIsIGlucHV0LCBvdXRwdXQsIGNsZWFyKVxuICAgIHtcbiAgICAgICAgdmFyIHhTdHJlbmd0aCA9IE1hdGguYWJzKHRoaXMuYmx1clhGaWx0ZXIuc3RyZW5ndGgpO1xuICAgICAgICB2YXIgeVN0cmVuZ3RoID0gTWF0aC5hYnModGhpcy5ibHVyWUZpbHRlci5zdHJlbmd0aCk7XG5cbiAgICAgICAgaWYgKHhTdHJlbmd0aCAmJiB5U3RyZW5ndGgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciByZW5kZXJUYXJnZXQgPSBmaWx0ZXJNYW5hZ2VyLmdldEZpbHRlclRleHR1cmUoKTtcblxuICAgICAgICAgICAgdGhpcy5ibHVyWEZpbHRlci5hcHBseShmaWx0ZXJNYW5hZ2VyLCBpbnB1dCwgcmVuZGVyVGFyZ2V0LCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuYmx1cllGaWx0ZXIuYXBwbHkoZmlsdGVyTWFuYWdlciwgcmVuZGVyVGFyZ2V0LCBvdXRwdXQsIGNsZWFyKTtcblxuICAgICAgICAgICAgZmlsdGVyTWFuYWdlci5yZXR1cm5GaWx0ZXJUZXh0dXJlKHJlbmRlclRhcmdldCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoeVN0cmVuZ3RoKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmJsdXJZRmlsdGVyLmFwcGx5KGZpbHRlck1hbmFnZXIsIGlucHV0LCBvdXRwdXQsIGNsZWFyKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuYmx1clhGaWx0ZXIuYXBwbHkoZmlsdGVyTWFuYWdlciwgaW5wdXQsIG91dHB1dCwgY2xlYXIpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIEJsdXJGaWx0ZXIucHJvdG90eXBlLnVwZGF0ZVBhZGRpbmcgPSBmdW5jdGlvbiB1cGRhdGVQYWRkaW5nICgpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5fcmVwZWF0RWRnZVBpeGVscylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5wYWRkaW5nID0gMDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMucGFkZGluZyA9IE1hdGgubWF4KE1hdGguYWJzKHRoaXMuYmx1clhGaWx0ZXIuc3RyZW5ndGgpLCBNYXRoLmFicyh0aGlzLmJsdXJZRmlsdGVyLnN0cmVuZ3RoKSkgKiAyO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHN0cmVuZ3RoIG9mIGJvdGggdGhlIGJsdXJYIGFuZCBibHVyWSBwcm9wZXJ0aWVzIHNpbXVsdGFuZW91c2x5XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMlxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5ibHVyLmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5ibHVyWEZpbHRlci5ibHVyO1xuICAgIH07XG5cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMuYmx1ci5zZXQgPSBmdW5jdGlvbiAodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgdGhpcy5ibHVyWEZpbHRlci5ibHVyID0gdGhpcy5ibHVyWUZpbHRlci5ibHVyID0gdmFsdWU7XG4gICAgICAgIHRoaXMudXBkYXRlUGFkZGluZygpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBudW1iZXIgb2YgcGFzc2VzIGZvciBibHVyLiBNb3JlIHBhc3NlcyBtZWFucyBoaWdoZXIgcXVhaWxpdHkgYmx1cmluZy5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAxXG4gICAgICovXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLnF1YWxpdHkuZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLmJsdXJYRmlsdGVyLnF1YWxpdHk7XG4gICAgfTtcblxuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5xdWFsaXR5LnNldCA9IGZ1bmN0aW9uICh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICB0aGlzLmJsdXJYRmlsdGVyLnF1YWxpdHkgPSB0aGlzLmJsdXJZRmlsdGVyLnF1YWxpdHkgPSB2YWx1ZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgc3RyZW5ndGggb2YgdGhlIGJsdXJYIHByb3BlcnR5XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMlxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5ibHVyWC5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYmx1clhGaWx0ZXIuYmx1cjtcbiAgICB9O1xuXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLmJsdXJYLnNldCA9IGZ1bmN0aW9uICh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICB0aGlzLmJsdXJYRmlsdGVyLmJsdXIgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy51cGRhdGVQYWRkaW5nKCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHN0cmVuZ3RoIG9mIHRoZSBibHVyWSBwcm9wZXJ0eVxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDJcbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMuYmx1clkuZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLmJsdXJZRmlsdGVyLmJsdXI7XG4gICAgfTtcblxuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5ibHVyWS5zZXQgPSBmdW5jdGlvbiAodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgdGhpcy5ibHVyWUZpbHRlci5ibHVyID0gdmFsdWU7XG4gICAgICAgIHRoaXMudXBkYXRlUGFkZGluZygpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBibGVuZG1vZGUgb2YgdGhlIGZpbHRlclxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IFBJWEkuQkxFTkRfTU9ERVMuTk9STUFMXG4gICAgICovXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLmJsZW5kTW9kZS5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYmx1cllGaWx0ZXIuYmxlbmRNb2RlO1xuICAgIH07XG5cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMuYmxlbmRNb2RlLnNldCA9IGZ1bmN0aW9uICh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICB0aGlzLmJsdXJZRmlsdGVyLmJsZW5kTW9kZSA9IHZhbHVlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBJZiBzZXQgdG8gdHJ1ZSB0aGUgZWRnZSBvZiB0aGUgdGFyZ2V0IHdpbGwgYmUgY2xhbXBlZFxuICAgICAqXG4gICAgICogQG1lbWJlciB7Ym9vbH1cbiAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5yZXBlYXRFZGdlUGl4ZWxzLmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmVwZWF0RWRnZVBpeGVscztcbiAgICB9O1xuXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLnJlcGVhdEVkZ2VQaXhlbHMuc2V0ID0gZnVuY3Rpb24gKHZhbHVlKVxuICAgIHtcbiAgICAgICAgdGhpcy5fcmVwZWF0RWRnZVBpeGVscyA9IHZhbHVlO1xuICAgICAgICB0aGlzLnVwZGF0ZVBhZGRpbmcoKTtcbiAgICB9O1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoIEJsdXJGaWx0ZXIucHJvdG90eXBlLCBwcm90b3R5cGVBY2Nlc3NvcnMgKTtcblxuICAgIHJldHVybiBCbHVyRmlsdGVyO1xufShGaWx0ZXIpKTtcblxuZXhwb3J0IHsgQmx1ckZpbHRlciwgQmx1ckZpbHRlclBhc3MgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZpbHRlci1ibHVyLmVzLmpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS9maWx0ZXItY29sb3ItbWF0cml4IC0gdjUuMi4wXG4gKiBDb21waWxlZCBXZWQsIDA2IE5vdiAyMDE5IDAyOjMyOjQzIFVUQ1xuICpcbiAqIEBwaXhpL2ZpbHRlci1jb2xvci1tYXRyaXggaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5pbXBvcnQgeyBGaWx0ZXIsIGRlZmF1bHRGaWx0ZXJWZXJ0ZXggfSBmcm9tICdAcGl4aS9jb3JlJztcblxudmFyIGZyYWdtZW50ID0gXCJ2YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG51bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcjtcXG51bmlmb3JtIGZsb2F0IG1bMjBdO1xcbnVuaWZvcm0gZmxvYXQgdUFscGhhO1xcblxcbnZvaWQgbWFpbih2b2lkKVxcbntcXG4gICAgdmVjNCBjID0gdGV4dHVyZTJEKHVTYW1wbGVyLCB2VGV4dHVyZUNvb3JkKTtcXG5cXG4gICAgaWYgKHVBbHBoYSA9PSAwLjApIHtcXG4gICAgICAgIGdsX0ZyYWdDb2xvciA9IGM7XFxuICAgICAgICByZXR1cm47XFxuICAgIH1cXG5cXG4gICAgLy8gVW4tcHJlbXVsdGlwbHkgYWxwaGEgYmVmb3JlIGFwcGx5aW5nIHRoZSBjb2xvciBtYXRyaXguIFNlZSBpc3N1ZSAjMzUzOS5cXG4gICAgaWYgKGMuYSA+IDAuMCkge1xcbiAgICAgIGMucmdiIC89IGMuYTtcXG4gICAgfVxcblxcbiAgICB2ZWM0IHJlc3VsdDtcXG5cXG4gICAgcmVzdWx0LnIgPSAobVswXSAqIGMucik7XFxuICAgICAgICByZXN1bHQuciArPSAobVsxXSAqIGMuZyk7XFxuICAgICAgICByZXN1bHQuciArPSAobVsyXSAqIGMuYik7XFxuICAgICAgICByZXN1bHQuciArPSAobVszXSAqIGMuYSk7XFxuICAgICAgICByZXN1bHQuciArPSBtWzRdO1xcblxcbiAgICByZXN1bHQuZyA9IChtWzVdICogYy5yKTtcXG4gICAgICAgIHJlc3VsdC5nICs9IChtWzZdICogYy5nKTtcXG4gICAgICAgIHJlc3VsdC5nICs9IChtWzddICogYy5iKTtcXG4gICAgICAgIHJlc3VsdC5nICs9IChtWzhdICogYy5hKTtcXG4gICAgICAgIHJlc3VsdC5nICs9IG1bOV07XFxuXFxuICAgIHJlc3VsdC5iID0gKG1bMTBdICogYy5yKTtcXG4gICAgICAgcmVzdWx0LmIgKz0gKG1bMTFdICogYy5nKTtcXG4gICAgICAgcmVzdWx0LmIgKz0gKG1bMTJdICogYy5iKTtcXG4gICAgICAgcmVzdWx0LmIgKz0gKG1bMTNdICogYy5hKTtcXG4gICAgICAgcmVzdWx0LmIgKz0gbVsxNF07XFxuXFxuICAgIHJlc3VsdC5hID0gKG1bMTVdICogYy5yKTtcXG4gICAgICAgcmVzdWx0LmEgKz0gKG1bMTZdICogYy5nKTtcXG4gICAgICAgcmVzdWx0LmEgKz0gKG1bMTddICogYy5iKTtcXG4gICAgICAgcmVzdWx0LmEgKz0gKG1bMThdICogYy5hKTtcXG4gICAgICAgcmVzdWx0LmEgKz0gbVsxOV07XFxuXFxuICAgIHZlYzMgcmdiID0gbWl4KGMucmdiLCByZXN1bHQucmdiLCB1QWxwaGEpO1xcblxcbiAgICAvLyBQcmVtdWx0aXBseSBhbHBoYSBhZ2Fpbi5cXG4gICAgcmdiICo9IHJlc3VsdC5hO1xcblxcbiAgICBnbF9GcmFnQ29sb3IgPSB2ZWM0KHJnYiwgcmVzdWx0LmEpO1xcbn1cXG5cIjtcblxuLyoqXG4gKiBUaGUgQ29sb3JNYXRyaXhGaWx0ZXIgY2xhc3MgbGV0cyB5b3UgYXBwbHkgYSA1eDQgbWF0cml4IHRyYW5zZm9ybWF0aW9uIG9uIHRoZSBSR0JBXG4gKiBjb2xvciBhbmQgYWxwaGEgdmFsdWVzIG9mIGV2ZXJ5IHBpeGVsIG9uIHlvdXIgZGlzcGxheU9iamVjdCB0byBwcm9kdWNlIGEgcmVzdWx0XG4gKiB3aXRoIGEgbmV3IHNldCBvZiBSR0JBIGNvbG9yIGFuZCBhbHBoYSB2YWx1ZXMuIEl0J3MgcHJldHR5IHBvd2VyZnVsIVxuICpcbiAqIGBgYGpzXG4gKiAgbGV0IGNvbG9yTWF0cml4ID0gbmV3IFBJWEkuZmlsdGVycy5Db2xvck1hdHJpeEZpbHRlcigpO1xuICogIGNvbnRhaW5lci5maWx0ZXJzID0gW2NvbG9yTWF0cml4XTtcbiAqICBjb2xvck1hdHJpeC5jb250cmFzdCgyKTtcbiAqIGBgYFxuICogQGF1dGhvciBDbMOpbWVudCBDaGVuZWJhdWx0IDxjbGVtZW50QGdvb2Rib3lkaWdpdGFsLmNvbT5cbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5GaWx0ZXJcbiAqIEBtZW1iZXJvZiBQSVhJLmZpbHRlcnNcbiAqL1xudmFyIENvbG9yTWF0cml4RmlsdGVyID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoRmlsdGVyKSB7XG4gICAgZnVuY3Rpb24gQ29sb3JNYXRyaXhGaWx0ZXIoKVxuICAgIHtcbiAgICAgICAgdmFyIHVuaWZvcm1zID0ge1xuICAgICAgICAgICAgbTogbmV3IEZsb2F0MzJBcnJheShbMSwgMCwgMCwgMCwgMCxcbiAgICAgICAgICAgICAgICAwLCAxLCAwLCAwLCAwLFxuICAgICAgICAgICAgICAgIDAsIDAsIDEsIDAsIDAsXG4gICAgICAgICAgICAgICAgMCwgMCwgMCwgMSwgMF0pLFxuICAgICAgICAgICAgdUFscGhhOiAxLFxuICAgICAgICB9O1xuXG4gICAgICAgIEZpbHRlci5jYWxsKHRoaXMsIGRlZmF1bHRGaWx0ZXJWZXJ0ZXgsIGZyYWdtZW50LCB1bmlmb3Jtcyk7XG5cbiAgICAgICAgdGhpcy5hbHBoYSA9IDE7XG4gICAgfVxuXG4gICAgaWYgKCBGaWx0ZXIgKSBDb2xvck1hdHJpeEZpbHRlci5fX3Byb3RvX18gPSBGaWx0ZXI7XG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggRmlsdGVyICYmIEZpbHRlci5wcm90b3R5cGUgKTtcbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBDb2xvck1hdHJpeEZpbHRlcjtcblxuICAgIHZhciBwcm90b3R5cGVBY2Nlc3NvcnMgPSB7IG1hdHJpeDogeyBjb25maWd1cmFibGU6IHRydWUgfSxhbHBoYTogeyBjb25maWd1cmFibGU6IHRydWUgfSB9O1xuXG4gICAgLyoqXG4gICAgICogVHJhbnNmb3JtcyBjdXJyZW50IG1hdHJpeCBhbmQgc2V0IHRoZSBuZXcgb25lXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSBtYXRyaXggLSA1eDQgbWF0cml4XG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLl9sb2FkTWF0cml4ID0gZnVuY3Rpb24gX2xvYWRNYXRyaXggKG1hdHJpeCwgbXVsdGlwbHkpXG4gICAge1xuICAgICAgICBpZiAoIG11bHRpcGx5ID09PSB2b2lkIDAgKSBtdWx0aXBseSA9IGZhbHNlO1xuXG4gICAgICAgIHZhciBuZXdNYXRyaXggPSBtYXRyaXg7XG5cbiAgICAgICAgaWYgKG11bHRpcGx5KVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9tdWx0aXBseShuZXdNYXRyaXgsIHRoaXMudW5pZm9ybXMubSwgbWF0cml4KTtcbiAgICAgICAgICAgIG5ld01hdHJpeCA9IHRoaXMuX2NvbG9yTWF0cml4KG5ld01hdHJpeCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBzZXQgdGhlIG5ldyBtYXRyaXhcbiAgICAgICAgdGhpcy51bmlmb3Jtcy5tID0gbmV3TWF0cml4O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBNdWx0aXBsaWVzIHR3byBtYXQ1J3NcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gb3V0IC0gNXg0IG1hdHJpeCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IGEgLSA1eDQgbWF0cml4IHRoZSBmaXJzdCBvcGVyYW5kXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gYiAtIDV4NCBtYXRyaXggdGhlIHNlY29uZCBvcGVyYW5kXG4gICAgICogQHJldHVybnMge251bWJlcltdfSA1eDQgbWF0cml4XG4gICAgICovXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLl9tdWx0aXBseSA9IGZ1bmN0aW9uIF9tdWx0aXBseSAob3V0LCBhLCBiKVxuICAgIHtcbiAgICAgICAgLy8gUmVkIENoYW5uZWxcbiAgICAgICAgb3V0WzBdID0gKGFbMF0gKiBiWzBdKSArIChhWzFdICogYls1XSkgKyAoYVsyXSAqIGJbMTBdKSArIChhWzNdICogYlsxNV0pO1xuICAgICAgICBvdXRbMV0gPSAoYVswXSAqIGJbMV0pICsgKGFbMV0gKiBiWzZdKSArIChhWzJdICogYlsxMV0pICsgKGFbM10gKiBiWzE2XSk7XG4gICAgICAgIG91dFsyXSA9IChhWzBdICogYlsyXSkgKyAoYVsxXSAqIGJbN10pICsgKGFbMl0gKiBiWzEyXSkgKyAoYVszXSAqIGJbMTddKTtcbiAgICAgICAgb3V0WzNdID0gKGFbMF0gKiBiWzNdKSArIChhWzFdICogYls4XSkgKyAoYVsyXSAqIGJbMTNdKSArIChhWzNdICogYlsxOF0pO1xuICAgICAgICBvdXRbNF0gPSAoYVswXSAqIGJbNF0pICsgKGFbMV0gKiBiWzldKSArIChhWzJdICogYlsxNF0pICsgKGFbM10gKiBiWzE5XSkgKyBhWzRdO1xuXG4gICAgICAgIC8vIEdyZWVuIENoYW5uZWxcbiAgICAgICAgb3V0WzVdID0gKGFbNV0gKiBiWzBdKSArIChhWzZdICogYls1XSkgKyAoYVs3XSAqIGJbMTBdKSArIChhWzhdICogYlsxNV0pO1xuICAgICAgICBvdXRbNl0gPSAoYVs1XSAqIGJbMV0pICsgKGFbNl0gKiBiWzZdKSArIChhWzddICogYlsxMV0pICsgKGFbOF0gKiBiWzE2XSk7XG4gICAgICAgIG91dFs3XSA9IChhWzVdICogYlsyXSkgKyAoYVs2XSAqIGJbN10pICsgKGFbN10gKiBiWzEyXSkgKyAoYVs4XSAqIGJbMTddKTtcbiAgICAgICAgb3V0WzhdID0gKGFbNV0gKiBiWzNdKSArIChhWzZdICogYls4XSkgKyAoYVs3XSAqIGJbMTNdKSArIChhWzhdICogYlsxOF0pO1xuICAgICAgICBvdXRbOV0gPSAoYVs1XSAqIGJbNF0pICsgKGFbNl0gKiBiWzldKSArIChhWzddICogYlsxNF0pICsgKGFbOF0gKiBiWzE5XSkgKyBhWzldO1xuXG4gICAgICAgIC8vIEJsdWUgQ2hhbm5lbFxuICAgICAgICBvdXRbMTBdID0gKGFbMTBdICogYlswXSkgKyAoYVsxMV0gKiBiWzVdKSArIChhWzEyXSAqIGJbMTBdKSArIChhWzEzXSAqIGJbMTVdKTtcbiAgICAgICAgb3V0WzExXSA9IChhWzEwXSAqIGJbMV0pICsgKGFbMTFdICogYls2XSkgKyAoYVsxMl0gKiBiWzExXSkgKyAoYVsxM10gKiBiWzE2XSk7XG4gICAgICAgIG91dFsxMl0gPSAoYVsxMF0gKiBiWzJdKSArIChhWzExXSAqIGJbN10pICsgKGFbMTJdICogYlsxMl0pICsgKGFbMTNdICogYlsxN10pO1xuICAgICAgICBvdXRbMTNdID0gKGFbMTBdICogYlszXSkgKyAoYVsxMV0gKiBiWzhdKSArIChhWzEyXSAqIGJbMTNdKSArIChhWzEzXSAqIGJbMThdKTtcbiAgICAgICAgb3V0WzE0XSA9IChhWzEwXSAqIGJbNF0pICsgKGFbMTFdICogYls5XSkgKyAoYVsxMl0gKiBiWzE0XSkgKyAoYVsxM10gKiBiWzE5XSkgKyBhWzE0XTtcblxuICAgICAgICAvLyBBbHBoYSBDaGFubmVsXG4gICAgICAgIG91dFsxNV0gPSAoYVsxNV0gKiBiWzBdKSArIChhWzE2XSAqIGJbNV0pICsgKGFbMTddICogYlsxMF0pICsgKGFbMThdICogYlsxNV0pO1xuICAgICAgICBvdXRbMTZdID0gKGFbMTVdICogYlsxXSkgKyAoYVsxNl0gKiBiWzZdKSArIChhWzE3XSAqIGJbMTFdKSArIChhWzE4XSAqIGJbMTZdKTtcbiAgICAgICAgb3V0WzE3XSA9IChhWzE1XSAqIGJbMl0pICsgKGFbMTZdICogYls3XSkgKyAoYVsxN10gKiBiWzEyXSkgKyAoYVsxOF0gKiBiWzE3XSk7XG4gICAgICAgIG91dFsxOF0gPSAoYVsxNV0gKiBiWzNdKSArIChhWzE2XSAqIGJbOF0pICsgKGFbMTddICogYlsxM10pICsgKGFbMThdICogYlsxOF0pO1xuICAgICAgICBvdXRbMTldID0gKGFbMTVdICogYls0XSkgKyAoYVsxNl0gKiBiWzldKSArIChhWzE3XSAqIGJbMTRdKSArIChhWzE4XSAqIGJbMTldKSArIGFbMTldO1xuXG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIEZsb2F0MzIgQXJyYXkgYW5kIG5vcm1hbGl6ZSB0aGUgb2Zmc2V0IGNvbXBvbmVudCB0byAwLTFcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gbWF0cml4IC0gNXg0IG1hdHJpeFxuICAgICAqIEByZXR1cm4ge251bWJlcltdfSA1eDQgbWF0cml4IHdpdGggYWxsIHZhbHVlcyBiZXR3ZWVuIDAtMVxuICAgICAqL1xuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5fY29sb3JNYXRyaXggPSBmdW5jdGlvbiBfY29sb3JNYXRyaXggKG1hdHJpeClcbiAgICB7XG4gICAgICAgIC8vIENyZWF0ZSBhIEZsb2F0MzIgQXJyYXkgYW5kIG5vcm1hbGl6ZSB0aGUgb2Zmc2V0IGNvbXBvbmVudCB0byAwLTFcbiAgICAgICAgdmFyIG0gPSBuZXcgRmxvYXQzMkFycmF5KG1hdHJpeCk7XG5cbiAgICAgICAgbVs0XSAvPSAyNTU7XG4gICAgICAgIG1bOV0gLz0gMjU1O1xuICAgICAgICBtWzE0XSAvPSAyNTU7XG4gICAgICAgIG1bMTldIC89IDI1NTtcblxuICAgICAgICByZXR1cm4gbTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQWRqdXN0cyBicmlnaHRuZXNzXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYiAtIHZhbHVlIG9mIHRoZSBicmlndGhuZXNzICgwLTEsIHdoZXJlIDAgaXMgYmxhY2spXG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLmJyaWdodG5lc3MgPSBmdW5jdGlvbiBicmlnaHRuZXNzIChiLCBtdWx0aXBseSlcbiAgICB7XG4gICAgICAgIHZhciBtYXRyaXggPSBbXG4gICAgICAgICAgICBiLCAwLCAwLCAwLCAwLFxuICAgICAgICAgICAgMCwgYiwgMCwgMCwgMCxcbiAgICAgICAgICAgIDAsIDAsIGIsIDAsIDAsXG4gICAgICAgICAgICAwLCAwLCAwLCAxLCAwIF07XG5cbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBtYXRyaWNlcyBpbiBncmV5IHNjYWxlc1xuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNjYWxlIC0gdmFsdWUgb2YgdGhlIGdyZXkgKDAtMSwgd2hlcmUgMCBpcyBibGFjaylcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG11bHRpcGx5IC0gaWYgdHJ1ZSwgY3VycmVudCBtYXRyaXggYW5kIG1hdHJpeCBhcmUgbXVsdGlwbGllZC4gSWYgZmFsc2UsXG4gICAgICogIGp1c3Qgc2V0IHRoZSBjdXJyZW50IG1hdHJpeCB3aXRoIEBwYXJhbSBtYXRyaXhcbiAgICAgKi9cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUuZ3JleXNjYWxlID0gZnVuY3Rpb24gZ3JleXNjYWxlIChzY2FsZSwgbXVsdGlwbHkpXG4gICAge1xuICAgICAgICB2YXIgbWF0cml4ID0gW1xuICAgICAgICAgICAgc2NhbGUsIHNjYWxlLCBzY2FsZSwgMCwgMCxcbiAgICAgICAgICAgIHNjYWxlLCBzY2FsZSwgc2NhbGUsIDAsIDAsXG4gICAgICAgICAgICBzY2FsZSwgc2NhbGUsIHNjYWxlLCAwLCAwLFxuICAgICAgICAgICAgMCwgMCwgMCwgMSwgMCBdO1xuXG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgYmxhY2sgYW5kIHdoaXRlIG1hdHJpY2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG11bHRpcGx5IC0gaWYgdHJ1ZSwgY3VycmVudCBtYXRyaXggYW5kIG1hdHJpeCBhcmUgbXVsdGlwbGllZC4gSWYgZmFsc2UsXG4gICAgICogIGp1c3Qgc2V0IHRoZSBjdXJyZW50IG1hdHJpeCB3aXRoIEBwYXJhbSBtYXRyaXhcbiAgICAgKi9cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUuYmxhY2tBbmRXaGl0ZSA9IGZ1bmN0aW9uIGJsYWNrQW5kV2hpdGUgKG11bHRpcGx5KVxuICAgIHtcbiAgICAgICAgdmFyIG1hdHJpeCA9IFtcbiAgICAgICAgICAgIDAuMywgMC42LCAwLjEsIDAsIDAsXG4gICAgICAgICAgICAwLjMsIDAuNiwgMC4xLCAwLCAwLFxuICAgICAgICAgICAgMC4zLCAwLjYsIDAuMSwgMCwgMCxcbiAgICAgICAgICAgIDAsIDAsIDAsIDEsIDAgXTtcblxuICAgICAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIGh1ZSBwcm9wZXJ0eSBvZiB0aGUgY29sb3JcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByb3RhdGlvbiAtIGluIGRlZ3JlZXNcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG11bHRpcGx5IC0gaWYgdHJ1ZSwgY3VycmVudCBtYXRyaXggYW5kIG1hdHJpeCBhcmUgbXVsdGlwbGllZC4gSWYgZmFsc2UsXG4gICAgICogIGp1c3Qgc2V0IHRoZSBjdXJyZW50IG1hdHJpeCB3aXRoIEBwYXJhbSBtYXRyaXhcbiAgICAgKi9cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUuaHVlID0gZnVuY3Rpb24gaHVlIChyb3RhdGlvbiwgbXVsdGlwbHkpXG4gICAge1xuICAgICAgICByb3RhdGlvbiA9IChyb3RhdGlvbiB8fCAwKSAvIDE4MCAqIE1hdGguUEk7XG5cbiAgICAgICAgdmFyIGNvc1IgPSBNYXRoLmNvcyhyb3RhdGlvbik7XG4gICAgICAgIHZhciBzaW5SID0gTWF0aC5zaW4ocm90YXRpb24pO1xuICAgICAgICB2YXIgc3FydCA9IE1hdGguc3FydDtcblxuICAgICAgICAvKiBhIGdvb2QgYXBwcm94aW1hdGlvbiBmb3IgaHVlIHJvdGF0aW9uXG4gICAgICAgICBUaGlzIG1hdHJpeCBpcyBmYXIgYmV0dGVyIHRoYW4gdGhlIHZlcnNpb25zIHdpdGggbWFnaWMgbHVtaW5hbmNlIGNvbnN0YW50c1xuICAgICAgICAgZm9ybWVybHkgdXNlZCBoZXJlLCBidXQgYWxzbyB1c2VkIGluIHRoZSBzdGFybGluZyBmcmFtZXdvcmsgKGZsYXNoKSBhbmQga25vd24gZnJvbSB0aGlzXG4gICAgICAgICBvbGQgcGFydCBvZiB0aGUgaW50ZXJuZXQ6IHF1YXNpbW9uZG8uY29tL2FyY2hpdmVzLzAwMDU2NS5waHBcblxuICAgICAgICAgVGhpcyBuZXcgbWF0cml4IGlzIGJhc2VkIG9uIHJnYiBjdWJlIHJvdGF0aW9uIGluIHNwYWNlLiBMb29rIGhlcmUgZm9yIGEgbW9yZSBkZXNjcmlwdGl2ZVxuICAgICAgICAgaW1wbGVtZW50YXRpb24gYXMgYSBzaGFkZXIgbm90IGEgZ2VuZXJhbCBtYXRyaXg6XG4gICAgICAgICBodHRwczovL2dpdGh1Yi5jb20vZXZhbncvZ2xmeC5qcy9ibG9iLzU4ODQxYzIzOTE5YmQ1OTc4N2VmZmMwMzMzYTQ4OTdiNDM4MzU0MTIvc3JjL2ZpbHRlcnMvYWRqdXN0L2h1ZXNhdHVyYXRpb24uanNcblxuICAgICAgICAgVGhpcyBpcyB0aGUgc291cmNlIGZvciB0aGUgY29kZTpcbiAgICAgICAgIHNlZSBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzg1MDc4ODUvc2hpZnQtaHVlLW9mLWFuLXJnYi1jb2xvci84NTEwNzUxIzg1MTA3NTFcbiAgICAgICAgICovXG5cbiAgICAgICAgdmFyIHcgPSAxIC8gMztcbiAgICAgICAgdmFyIHNxclcgPSBzcXJ0KHcpOyAvLyB3ZWlnaHQgaXNcblxuICAgICAgICB2YXIgYTAwID0gY29zUiArICgoMS4wIC0gY29zUikgKiB3KTtcbiAgICAgICAgdmFyIGEwMSA9ICh3ICogKDEuMCAtIGNvc1IpKSAtIChzcXJXICogc2luUik7XG4gICAgICAgIHZhciBhMDIgPSAodyAqICgxLjAgLSBjb3NSKSkgKyAoc3FyVyAqIHNpblIpO1xuXG4gICAgICAgIHZhciBhMTAgPSAodyAqICgxLjAgLSBjb3NSKSkgKyAoc3FyVyAqIHNpblIpO1xuICAgICAgICB2YXIgYTExID0gY29zUiArICh3ICogKDEuMCAtIGNvc1IpKTtcbiAgICAgICAgdmFyIGExMiA9ICh3ICogKDEuMCAtIGNvc1IpKSAtIChzcXJXICogc2luUik7XG5cbiAgICAgICAgdmFyIGEyMCA9ICh3ICogKDEuMCAtIGNvc1IpKSAtIChzcXJXICogc2luUik7XG4gICAgICAgIHZhciBhMjEgPSAodyAqICgxLjAgLSBjb3NSKSkgKyAoc3FyVyAqIHNpblIpO1xuICAgICAgICB2YXIgYTIyID0gY29zUiArICh3ICogKDEuMCAtIGNvc1IpKTtcblxuICAgICAgICB2YXIgbWF0cml4ID0gW1xuICAgICAgICAgICAgYTAwLCBhMDEsIGEwMiwgMCwgMCxcbiAgICAgICAgICAgIGExMCwgYTExLCBhMTIsIDAsIDAsXG4gICAgICAgICAgICBhMjAsIGEyMSwgYTIyLCAwLCAwLFxuICAgICAgICAgICAgMCwgMCwgMCwgMSwgMCBdO1xuXG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgY29udHJhc3QgbWF0cml4LCBpbmNyZWFzZSB0aGUgc2VwYXJhdGlvbiBiZXR3ZWVuIGRhcmsgYW5kIGJyaWdodFxuICAgICAqIEluY3JlYXNlIGNvbnRyYXN0IDogc2hhZG93cyBkYXJrZXIgYW5kIGhpZ2hsaWdodHMgYnJpZ2h0ZXJcbiAgICAgKiBEZWNyZWFzZSBjb250cmFzdCA6IGJyaW5nIHRoZSBzaGFkb3dzIHVwIGFuZCB0aGUgaGlnaGxpZ2h0cyBkb3duXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYW1vdW50IC0gdmFsdWUgb2YgdGhlIGNvbnRyYXN0ICgwLTEpXG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLmNvbnRyYXN0ID0gZnVuY3Rpb24gY29udHJhc3QgKGFtb3VudCwgbXVsdGlwbHkpXG4gICAge1xuICAgICAgICB2YXIgdiA9IChhbW91bnQgfHwgMCkgKyAxO1xuICAgICAgICB2YXIgbyA9IC0wLjUgKiAodiAtIDEpO1xuXG4gICAgICAgIHZhciBtYXRyaXggPSBbXG4gICAgICAgICAgICB2LCAwLCAwLCAwLCBvLFxuICAgICAgICAgICAgMCwgdiwgMCwgMCwgbyxcbiAgICAgICAgICAgIDAsIDAsIHYsIDAsIG8sXG4gICAgICAgICAgICAwLCAwLCAwLCAxLCAwIF07XG5cbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBzYXR1cmF0aW9uIG1hdHJpeCwgaW5jcmVhc2UgdGhlIHNlcGFyYXRpb24gYmV0d2VlbiBjb2xvcnNcbiAgICAgKiBJbmNyZWFzZSBzYXR1cmF0aW9uIDogaW5jcmVhc2UgY29udHJhc3QsIGJyaWdodG5lc3MsIGFuZCBzaGFycG5lc3NcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhbW91bnQgLSBUaGUgc2F0dXJhdGlvbiBhbW91bnQgKDAtMSlcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG11bHRpcGx5IC0gaWYgdHJ1ZSwgY3VycmVudCBtYXRyaXggYW5kIG1hdHJpeCBhcmUgbXVsdGlwbGllZC4gSWYgZmFsc2UsXG4gICAgICogIGp1c3Qgc2V0IHRoZSBjdXJyZW50IG1hdHJpeCB3aXRoIEBwYXJhbSBtYXRyaXhcbiAgICAgKi9cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUuc2F0dXJhdGUgPSBmdW5jdGlvbiBzYXR1cmF0ZSAoYW1vdW50LCBtdWx0aXBseSlcbiAgICB7XG4gICAgICAgIGlmICggYW1vdW50ID09PSB2b2lkIDAgKSBhbW91bnQgPSAwO1xuXG4gICAgICAgIHZhciB4ID0gKGFtb3VudCAqIDIgLyAzKSArIDE7XG4gICAgICAgIHZhciB5ID0gKCh4IC0gMSkgKiAtMC41KTtcblxuICAgICAgICB2YXIgbWF0cml4ID0gW1xuICAgICAgICAgICAgeCwgeSwgeSwgMCwgMCxcbiAgICAgICAgICAgIHksIHgsIHksIDAsIDAsXG4gICAgICAgICAgICB5LCB5LCB4LCAwLCAwLFxuICAgICAgICAgICAgMCwgMCwgMCwgMSwgMCBdO1xuXG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERlc2F0dXJhdGUgaW1hZ2UgKHJlbW92ZSBjb2xvcilcbiAgICAgKlxuICAgICAqIENhbGwgdGhlIHNhdHVyYXRlIGZ1bmN0aW9uXG4gICAgICpcbiAgICAgKi9cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUuZGVzYXR1cmF0ZSA9IGZ1bmN0aW9uIGRlc2F0dXJhdGUgKCkgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuICAgIHtcbiAgICAgICAgdGhpcy5zYXR1cmF0ZSgtMSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIE5lZ2F0aXZlIGltYWdlIChpbnZlcnNlIG9mIGNsYXNzaWMgcmdiIG1hdHJpeClcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5uZWdhdGl2ZSA9IGZ1bmN0aW9uIG5lZ2F0aXZlIChtdWx0aXBseSlcbiAgICB7XG4gICAgICAgIHZhciBtYXRyaXggPSBbXG4gICAgICAgICAgICAtMSwgMCwgMCwgMSwgMCxcbiAgICAgICAgICAgIDAsIC0xLCAwLCAxLCAwLFxuICAgICAgICAgICAgMCwgMCwgLTEsIDEsIDAsXG4gICAgICAgICAgICAwLCAwLCAwLCAxLCAwIF07XG5cbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2VwaWEgaW1hZ2VcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5zZXBpYSA9IGZ1bmN0aW9uIHNlcGlhIChtdWx0aXBseSlcbiAgICB7XG4gICAgICAgIHZhciBtYXRyaXggPSBbXG4gICAgICAgICAgICAwLjM5MywgMC43Njg5OTk5LCAwLjE4ODk5OTk5LCAwLCAwLFxuICAgICAgICAgICAgMC4zNDksIDAuNjg1OTk5OSwgMC4xNjc5OTk5OSwgMCwgMCxcbiAgICAgICAgICAgIDAuMjcyLCAwLjUzMzk5OTksIDAuMTMwOTk5OTksIDAsIDAsXG4gICAgICAgICAgICAwLCAwLCAwLCAxLCAwIF07XG5cbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ29sb3IgbW90aW9uIHBpY3R1cmUgcHJvY2VzcyBpbnZlbnRlZCBpbiAxOTE2ICh0aGFua3MgRG9taW5pYyBTemFibGV3c2tpKVxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLnRlY2huaWNvbG9yID0gZnVuY3Rpb24gdGVjaG5pY29sb3IgKG11bHRpcGx5KVxuICAgIHtcbiAgICAgICAgdmFyIG1hdHJpeCA9IFtcbiAgICAgICAgICAgIDEuOTEyNTI3Nzg5MTQ1NjA4MywgLTAuODU0NTM0NDk3Njk1MTY0NSwgLTAuMDkxNTU1MDg0ODI3NTU1ODUsIDAsIDExLjc5MzYwMzQzNDM3NzMzNyxcbiAgICAgICAgICAgIC0wLjMwODc4MzMzODU5MjgwOTcsIDEuNzY1ODkwODU1NTQ1ODQyOCwgLTAuMTA2MDE3NDMwNzQ3MjIyNDUsIDAsIC03MC4zNTIwNTE2MTQ2MTM5OCxcbiAgICAgICAgICAgIC0wLjIzMTEwMzM3NzU0ODYxNiwgLTAuNzUwMTg5OTE5NzQ0MDIxMiwgMS44NDc1OTc4MTYxMDgxODksIDAsIDMwLjk1MDk0MDg2OTQ5MTEzOCxcbiAgICAgICAgICAgIDAsIDAsIDAsIDEsIDAgXTtcblxuICAgICAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBQb2xhcm9pZCBmaWx0ZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5wb2xhcm9pZCA9IGZ1bmN0aW9uIHBvbGFyb2lkIChtdWx0aXBseSlcbiAgICB7XG4gICAgICAgIHZhciBtYXRyaXggPSBbXG4gICAgICAgICAgICAxLjQzOCwgLTAuMDYyLCAtMC4wNjIsIDAsIDAsXG4gICAgICAgICAgICAtMC4xMjIsIDEuMzc4LCAtMC4xMjIsIDAsIDAsXG4gICAgICAgICAgICAtMC4wMTYsIC0wLjAxNiwgMS40ODMsIDAsIDAsXG4gICAgICAgICAgICAwLCAwLCAwLCAxLCAwIF07XG5cbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRmlsdGVyIHdobyB0cmFuc2Zvcm1zIDogUmVkIC0+IEJsdWUgYW5kIEJsdWUgLT4gUmVkXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG11bHRpcGx5IC0gaWYgdHJ1ZSwgY3VycmVudCBtYXRyaXggYW5kIG1hdHJpeCBhcmUgbXVsdGlwbGllZC4gSWYgZmFsc2UsXG4gICAgICogIGp1c3Qgc2V0IHRoZSBjdXJyZW50IG1hdHJpeCB3aXRoIEBwYXJhbSBtYXRyaXhcbiAgICAgKi9cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUudG9CR1IgPSBmdW5jdGlvbiB0b0JHUiAobXVsdGlwbHkpXG4gICAge1xuICAgICAgICB2YXIgbWF0cml4ID0gW1xuICAgICAgICAgICAgMCwgMCwgMSwgMCwgMCxcbiAgICAgICAgICAgIDAsIDEsIDAsIDAsIDAsXG4gICAgICAgICAgICAxLCAwLCAwLCAwLCAwLFxuICAgICAgICAgICAgMCwgMCwgMCwgMSwgMCBdO1xuXG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENvbG9yIHJldmVyc2FsIGZpbG0gaW50cm9kdWNlZCBieSBFYXN0bWFuIEtvZGFrIGluIDE5MzUuICh0aGFua3MgRG9taW5pYyBTemFibGV3c2tpKVxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLmtvZGFjaHJvbWUgPSBmdW5jdGlvbiBrb2RhY2hyb21lIChtdWx0aXBseSlcbiAgICB7XG4gICAgICAgIHZhciBtYXRyaXggPSBbXG4gICAgICAgICAgICAxLjEyODU1ODIzOTY1OTM1MjUsIC0wLjM5NjczODIyODM2MDEzNDgsIC0wLjAzOTkyNTU5MTcyOTIxNzkzLCAwLCA2My43Mjk1ODc2MjE5NjUwMixcbiAgICAgICAgICAgIC0wLjE2NDA0MzM5OTYyMjQ0NjE2LCAxLjA4MzUyNTE1NjYyOTEzMDQsIC0wLjA1NDk4ODA1MTE1NjMzMTMyLCAwLCAyNC43MzI0MDc4OTY3MDYyMDMsXG4gICAgICAgICAgICAtMC4xNjc4NjAxMDcwNjE1NTc2MywgLTAuNTYwMzQxNjI3NzY5NTI0OCwgMS42MDE0ODUwNzYxOTY0OTQzLCAwLCAzNS42Mjk4MjgwNzQ2MDk0NixcbiAgICAgICAgICAgIDAsIDAsIDAsIDEsIDAgXTtcblxuICAgICAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBCcm93biBkZWxpY2lvdXMgYnJvd25pIGZpbHRlciAodGhhbmtzIERvbWluaWMgU3phYmxld3NraSlcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5icm93bmkgPSBmdW5jdGlvbiBicm93bmkgKG11bHRpcGx5KVxuICAgIHtcbiAgICAgICAgdmFyIG1hdHJpeCA9IFtcbiAgICAgICAgICAgIDAuNTk5NzAyMzQ5ODE1OTcxNSwgMC4zNDU1MzI0MzA0ODM5MTI2MywgLTAuMjcwODI5ODY3NDUzODA0MiwgMCwgNDcuNDMxOTI4NTU2MDA4NzMsXG4gICAgICAgICAgICAtMC4wMzc3MDMyNDk4Mzc3ODMxNTcsIDAuODYwOTU3NzU4Nzk5MjY0MSwgMC4xNTA1OTU1MjM4ODQ1OTkxMywgMCwgLTM2Ljk2ODQxNDk4MzE5MTI3LFxuICAgICAgICAgICAgMC4yNDExMzYzNTEyODE1MzMzNSwgLTAuMDc0NDEwMzc5MDg0MjI0OTIsIDAuNDQ5NzIxODIwNjQ4NzcxNTMsIDAsIC03LjU2MjA3NTI3NzU5MTI4MyxcbiAgICAgICAgICAgIDAsIDAsIDAsIDEsIDAgXTtcblxuICAgICAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBWaW50YWdlIGZpbHRlciAodGhhbmtzIERvbWluaWMgU3phYmxld3NraSlcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS52aW50YWdlID0gZnVuY3Rpb24gdmludGFnZSAobXVsdGlwbHkpXG4gICAge1xuICAgICAgICB2YXIgbWF0cml4ID0gW1xuICAgICAgICAgICAgMC42Mjc5MzQ1NjM1NjA1OTk0LCAwLjMyMDIxODM0MjA4MTkzNjcsIC0wLjAzOTY1NDA4MjExMzEyNDUzLCAwLCA5LjY1MTI4NTgzNTI5NDEyMyxcbiAgICAgICAgICAgIDAuMDI1NzgzOTc3MDQ4MDg4NjgsIDAuNjQ0MTE4ODY0NDM3NDc3MSwgMC4wMzI1OTEyNzYxNjE0OTI5NCwgMCwgNy40NjI4MjkxNzY0NzA1OTEsXG4gICAgICAgICAgICAwLjA0NjYwNTU1NTY3ODI3MTksIC0wLjA4NTEyMzI5ODcyNDc4OTEsIDAuNTI0MTY0ODAxODcwMDQ2NSwgMCwgNS4xNTkxOTA1ODgyMzUyOTYsXG4gICAgICAgICAgICAwLCAwLCAwLCAxLCAwIF07XG5cbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogV2UgZG9uJ3Qga25vdyBleGFjdGx5IHdoYXQgaXQgZG9lcywga2luZCBvZiBncmFkaWVudCBtYXAsIGJ1dCBmdW5ueSB0byBwbGF5IHdpdGghXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZGVzYXR1cmF0aW9uIC0gVG9uZSB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHRvbmVkIC0gVG9uZSB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGxpZ2h0Q29sb3IgLSBUb25lIHZhbHVlcywgZXhhbXBsZTogYDB4RkZFNTgwYFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBkYXJrQ29sb3IgLSBUb25lIHZhbHVlcywgZXhhbXBsZTogYDB4RkZFNTgwYFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5jb2xvclRvbmUgPSBmdW5jdGlvbiBjb2xvclRvbmUgKGRlc2F0dXJhdGlvbiwgdG9uZWQsIGxpZ2h0Q29sb3IsIGRhcmtDb2xvciwgbXVsdGlwbHkpXG4gICAge1xuICAgICAgICBkZXNhdHVyYXRpb24gPSBkZXNhdHVyYXRpb24gfHwgMC4yO1xuICAgICAgICB0b25lZCA9IHRvbmVkIHx8IDAuMTU7XG4gICAgICAgIGxpZ2h0Q29sb3IgPSBsaWdodENvbG9yIHx8IDB4RkZFNTgwO1xuICAgICAgICBkYXJrQ29sb3IgPSBkYXJrQ29sb3IgfHwgMHgzMzgwMDA7XG5cbiAgICAgICAgdmFyIGxSID0gKChsaWdodENvbG9yID4+IDE2KSAmIDB4RkYpIC8gMjU1O1xuICAgICAgICB2YXIgbEcgPSAoKGxpZ2h0Q29sb3IgPj4gOCkgJiAweEZGKSAvIDI1NTtcbiAgICAgICAgdmFyIGxCID0gKGxpZ2h0Q29sb3IgJiAweEZGKSAvIDI1NTtcblxuICAgICAgICB2YXIgZFIgPSAoKGRhcmtDb2xvciA+PiAxNikgJiAweEZGKSAvIDI1NTtcbiAgICAgICAgdmFyIGRHID0gKChkYXJrQ29sb3IgPj4gOCkgJiAweEZGKSAvIDI1NTtcbiAgICAgICAgdmFyIGRCID0gKGRhcmtDb2xvciAmIDB4RkYpIC8gMjU1O1xuXG4gICAgICAgIHZhciBtYXRyaXggPSBbXG4gICAgICAgICAgICAwLjMsIDAuNTksIDAuMTEsIDAsIDAsXG4gICAgICAgICAgICBsUiwgbEcsIGxCLCBkZXNhdHVyYXRpb24sIDAsXG4gICAgICAgICAgICBkUiwgZEcsIGRCLCB0b25lZCwgMCxcbiAgICAgICAgICAgIGxSIC0gZFIsIGxHIC0gZEcsIGxCIC0gZEIsIDAsIDAgXTtcblxuICAgICAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBOaWdodCBlZmZlY3RcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBpbnRlbnNpdHkgLSBUaGUgaW50ZW5zaXR5IG9mIHRoZSBuaWdodCBlZmZlY3QuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLm5pZ2h0ID0gZnVuY3Rpb24gbmlnaHQgKGludGVuc2l0eSwgbXVsdGlwbHkpXG4gICAge1xuICAgICAgICBpbnRlbnNpdHkgPSBpbnRlbnNpdHkgfHwgMC4xO1xuICAgICAgICB2YXIgbWF0cml4ID0gW1xuICAgICAgICAgICAgaW50ZW5zaXR5ICogKC0yLjApLCAtaW50ZW5zaXR5LCAwLCAwLCAwLFxuICAgICAgICAgICAgLWludGVuc2l0eSwgMCwgaW50ZW5zaXR5LCAwLCAwLFxuICAgICAgICAgICAgMCwgaW50ZW5zaXR5LCBpbnRlbnNpdHkgKiAyLjAsIDAsIDAsXG4gICAgICAgICAgICAwLCAwLCAwLCAxLCAwIF07XG5cbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUHJlZGF0b3IgZWZmZWN0XG4gICAgICpcbiAgICAgKiBFcmFzZSB0aGUgY3VycmVudCBtYXRyaXggYnkgc2V0dGluZyBhIG5ldyBpbmRlcGVudCBvbmVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhbW91bnQgLSBob3cgbXVjaCB0aGUgcHJlZGF0b3IgZmVlbHMgaGlzIGZ1dHVyZSB2aWN0aW1cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG11bHRpcGx5IC0gaWYgdHJ1ZSwgY3VycmVudCBtYXRyaXggYW5kIG1hdHJpeCBhcmUgbXVsdGlwbGllZC4gSWYgZmFsc2UsXG4gICAgICogIGp1c3Qgc2V0IHRoZSBjdXJyZW50IG1hdHJpeCB3aXRoIEBwYXJhbSBtYXRyaXhcbiAgICAgKi9cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUucHJlZGF0b3IgPSBmdW5jdGlvbiBwcmVkYXRvciAoYW1vdW50LCBtdWx0aXBseSlcbiAgICB7XG4gICAgICAgIHZhciBtYXRyaXggPSBbXG4gICAgICAgICAgICAvLyByb3cgMVxuICAgICAgICAgICAgMTEuMjI0MTMwNjMwNDkzMTY0ICogYW1vdW50LFxuICAgICAgICAgICAgLTQuNzk0NDg2OTk5NTExNzE5ICogYW1vdW50LFxuICAgICAgICAgICAgLTIuODc0NjExODU0NTUzMjIyNyAqIGFtb3VudCxcbiAgICAgICAgICAgIDAgKiBhbW91bnQsXG4gICAgICAgICAgICAwLjQwMzQyNDM4MjIwOTc3NzgzICogYW1vdW50LFxuICAgICAgICAgICAgLy8gcm93IDJcbiAgICAgICAgICAgIC0zLjYzMzA2OTc1MzY0Njg1MDYgKiBhbW91bnQsXG4gICAgICAgICAgICA5LjE5MzE1NzE5NjA0NDkyMiAqIGFtb3VudCxcbiAgICAgICAgICAgIC0yLjk1MTgxMDgzNjc5MTk5MiAqIGFtb3VudCxcbiAgICAgICAgICAgIDAgKiBhbW91bnQsXG4gICAgICAgICAgICAtMS4zMTYxMzUwNDg4NjYyNzIgKiBhbW91bnQsXG4gICAgICAgICAgICAvLyByb3cgM1xuICAgICAgICAgICAgLTMuMjE4NDE5NzkwMjY3OTQ0MyAqIGFtb3VudCxcbiAgICAgICAgICAgIC00LjIzNzUwMzA1MTc1NzgxMjUgKiBhbW91bnQsXG4gICAgICAgICAgICA3LjQ3NjQ0ODA1OTA4MjAzMSAqIGFtb3VudCxcbiAgICAgICAgICAgIDAgKiBhbW91bnQsXG4gICAgICAgICAgICAwLjgwNDQ0NTkyMjM3NDcyNTMgKiBhbW91bnQsXG4gICAgICAgICAgICAvLyByb3cgNFxuICAgICAgICAgICAgMCwgMCwgMCwgMSwgMCBdO1xuXG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIExTRCBlZmZlY3RcbiAgICAgKlxuICAgICAqIE11bHRpcGx5IHRoZSBjdXJyZW50IG1hdHJpeFxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLmxzZCA9IGZ1bmN0aW9uIGxzZCAobXVsdGlwbHkpXG4gICAge1xuICAgICAgICB2YXIgbWF0cml4ID0gW1xuICAgICAgICAgICAgMiwgLTAuNCwgMC41LCAwLCAwLFxuICAgICAgICAgICAgLTAuNSwgMiwgLTAuNCwgMCwgMCxcbiAgICAgICAgICAgIC0wLjQsIC0wLjUsIDMsIDAsIDAsXG4gICAgICAgICAgICAwLCAwLCAwLCAxLCAwIF07XG5cbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRXJhc2UgdGhlIGN1cnJlbnQgbWF0cml4IGJ5IHNldHRpbmcgdGhlIGRlZmF1bHQgb25lXG4gICAgICpcbiAgICAgKi9cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiByZXNldCAoKVxuICAgIHtcbiAgICAgICAgdmFyIG1hdHJpeCA9IFtcbiAgICAgICAgICAgIDEsIDAsIDAsIDAsIDAsXG4gICAgICAgICAgICAwLCAxLCAwLCAwLCAwLFxuICAgICAgICAgICAgMCwgMCwgMSwgMCwgMCxcbiAgICAgICAgICAgIDAsIDAsIDAsIDEsIDAgXTtcblxuICAgICAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgZmFsc2UpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbWF0cml4IG9mIHRoZSBjb2xvciBtYXRyaXggZmlsdGVyXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJbXX1cbiAgICAgKiBAZGVmYXVsdCBbMSwgMCwgMCwgMCwgMCwgMCwgMSwgMCwgMCwgMCwgMCwgMCwgMSwgMCwgMCwgMCwgMCwgMCwgMSwgMF1cbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMubWF0cml4LmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy51bmlmb3Jtcy5tO1xuICAgIH07XG5cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMubWF0cml4LnNldCA9IGZ1bmN0aW9uICh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICB0aGlzLnVuaWZvcm1zLm0gPSB2YWx1ZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIG9wYWNpdHkgdmFsdWUgdG8gdXNlIHdoZW4gbWl4aW5nIHRoZSBvcmlnaW5hbCBhbmQgcmVzdWx0YW50IGNvbG9ycy5cbiAgICAgKlxuICAgICAqIFdoZW4gdGhlIHZhbHVlIGlzIDAsIHRoZSBvcmlnaW5hbCBjb2xvciBpcyB1c2VkIHdpdGhvdXQgbW9kaWZpY2F0aW9uLlxuICAgICAqIFdoZW4gdGhlIHZhbHVlIGlzIDEsIHRoZSByZXN1bHQgY29sb3IgaXMgdXNlZC5cbiAgICAgKiBXaGVuIGluIHRoZSByYW5nZSAoMCwgMSkgdGhlIGNvbG9yIGlzIGludGVycG9sYXRlZCBiZXR3ZWVuIHRoZSBvcmlnaW5hbCBhbmQgcmVzdWx0IGJ5IHRoaXMgYW1vdW50LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDFcbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMuYWxwaGEuZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnVuaWZvcm1zLnVBbHBoYTtcbiAgICB9O1xuXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLmFscGhhLnNldCA9IGZ1bmN0aW9uICh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICB0aGlzLnVuaWZvcm1zLnVBbHBoYSA9IHZhbHVlO1xuICAgIH07XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyggQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLCBwcm90b3R5cGVBY2Nlc3NvcnMgKTtcblxuICAgIHJldHVybiBDb2xvck1hdHJpeEZpbHRlcjtcbn0oRmlsdGVyKSk7XG5cbi8vIEFtZXJpY2FuaXplZCBhbGlhc1xuQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLmdyYXlzY2FsZSA9IENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5ncmV5c2NhbGU7XG5cbmV4cG9ydCB7IENvbG9yTWF0cml4RmlsdGVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1maWx0ZXItY29sb3ItbWF0cml4LmVzLmpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS9maWx0ZXItZGlzcGxhY2VtZW50IC0gdjUuMi4wXG4gKiBDb21waWxlZCBXZWQsIDA2IE5vdiAyMDE5IDAyOjMyOjQzIFVUQ1xuICpcbiAqIEBwaXhpL2ZpbHRlci1kaXNwbGFjZW1lbnQgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5pbXBvcnQgeyBGaWx0ZXIgfSBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCB7IE1hdHJpeCwgUG9pbnQgfSBmcm9tICdAcGl4aS9tYXRoJztcblxudmFyIHZlcnRleCA9IFwiYXR0cmlidXRlIHZlYzIgYVZlcnRleFBvc2l0aW9uO1xcblxcbnVuaWZvcm0gbWF0MyBwcm9qZWN0aW9uTWF0cml4O1xcbnVuaWZvcm0gbWF0MyBmaWx0ZXJNYXRyaXg7XFxuXFxudmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxudmFyeWluZyB2ZWMyIHZGaWx0ZXJDb29yZDtcXG5cXG51bmlmb3JtIHZlYzQgaW5wdXRTaXplO1xcbnVuaWZvcm0gdmVjNCBvdXRwdXRGcmFtZTtcXG5cXG52ZWM0IGZpbHRlclZlcnRleFBvc2l0aW9uKCB2b2lkIClcXG57XFxuICAgIHZlYzIgcG9zaXRpb24gPSBhVmVydGV4UG9zaXRpb24gKiBtYXgob3V0cHV0RnJhbWUuencsIHZlYzIoMC4pKSArIG91dHB1dEZyYW1lLnh5O1xcblxcbiAgICByZXR1cm4gdmVjNCgocHJvamVjdGlvbk1hdHJpeCAqIHZlYzMocG9zaXRpb24sIDEuMCkpLnh5LCAwLjAsIDEuMCk7XFxufVxcblxcbnZlYzIgZmlsdGVyVGV4dHVyZUNvb3JkKCB2b2lkIClcXG57XFxuICAgIHJldHVybiBhVmVydGV4UG9zaXRpb24gKiAob3V0cHV0RnJhbWUuencgKiBpbnB1dFNpemUuencpO1xcbn1cXG5cXG52b2lkIG1haW4odm9pZClcXG57XFxuXFx0Z2xfUG9zaXRpb24gPSBmaWx0ZXJWZXJ0ZXhQb3NpdGlvbigpO1xcblxcdHZUZXh0dXJlQ29vcmQgPSBmaWx0ZXJUZXh0dXJlQ29vcmQoKTtcXG5cXHR2RmlsdGVyQ29vcmQgPSAoIGZpbHRlck1hdHJpeCAqIHZlYzMoIHZUZXh0dXJlQ29vcmQsIDEuMCkgICkueHk7XFxufVxcblwiO1xuXG52YXIgZnJhZ21lbnQgPSBcInZhcnlpbmcgdmVjMiB2RmlsdGVyQ29vcmQ7XFxudmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxuXFxudW5pZm9ybSB2ZWMyIHNjYWxlO1xcbnVuaWZvcm0gbWF0MiByb3RhdGlvbjtcXG51bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcjtcXG51bmlmb3JtIHNhbXBsZXIyRCBtYXBTYW1wbGVyO1xcblxcbnVuaWZvcm0gaGlnaHAgdmVjNCBpbnB1dFNpemU7XFxudW5pZm9ybSB2ZWM0IGlucHV0Q2xhbXA7XFxuXFxudm9pZCBtYWluKHZvaWQpXFxue1xcbiAgdmVjNCBtYXAgPSAgdGV4dHVyZTJEKG1hcFNhbXBsZXIsIHZGaWx0ZXJDb29yZCk7XFxuXFxuICBtYXAgLT0gMC41O1xcbiAgbWFwLnh5ID0gc2NhbGUgKiBpbnB1dFNpemUuencgKiAocm90YXRpb24gKiBtYXAueHkpO1xcblxcbiAgZ2xfRnJhZ0NvbG9yID0gdGV4dHVyZTJEKHVTYW1wbGVyLCBjbGFtcCh2ZWMyKHZUZXh0dXJlQ29vcmQueCArIG1hcC54LCB2VGV4dHVyZUNvb3JkLnkgKyBtYXAueSksIGlucHV0Q2xhbXAueHksIGlucHV0Q2xhbXAuencpKTtcXG59XFxuXCI7XG5cbi8qKlxuICogVGhlIERpc3BsYWNlbWVudEZpbHRlciBjbGFzcyB1c2VzIHRoZSBwaXhlbCB2YWx1ZXMgZnJvbSB0aGUgc3BlY2lmaWVkIHRleHR1cmVcbiAqIChjYWxsZWQgdGhlIGRpc3BsYWNlbWVudCBtYXApIHRvIHBlcmZvcm0gYSBkaXNwbGFjZW1lbnQgb2YgYW4gb2JqZWN0LlxuICpcbiAqIFlvdSBjYW4gdXNlIHRoaXMgZmlsdGVyIHRvIGFwcGx5IGFsbCBtYW5vciBvZiBjcmF6eSB3YXJwaW5nIGVmZmVjdHMuXG4gKiBDdXJyZW50bHkgdGhlIGByYCBwcm9wZXJ0eSBvZiB0aGUgdGV4dHVyZSBpcyB1c2VkIHRvIG9mZnNldCB0aGUgYHhgXG4gKiBhbmQgdGhlIGBnYCBwcm9wZXJ0eSBvZiB0aGUgdGV4dHVyZSBpcyB1c2VkIHRvIG9mZnNldCB0aGUgYHlgLlxuICpcbiAqIFRoZSB3YXkgaXQgd29ya3MgaXMgaXQgdXNlcyB0aGUgdmFsdWVzIG9mIHRoZSBkaXNwbGFjZW1lbnQgbWFwIHRvIGxvb2sgdXAgdGhlXG4gKiBjb3JyZWN0IHBpeGVscyB0byBvdXRwdXQuIFRoaXMgbWVhbnMgaXQncyBub3QgdGVjaG5pY2FsbHkgbW92aW5nIHRoZSBvcmlnaW5hbC5cbiAqIEluc3RlYWQsIGl0J3Mgc3RhcnRpbmcgYXQgdGhlIG91dHB1dCBhbmQgYXNraW5nIFwid2hpY2ggcGl4ZWwgZnJvbSB0aGUgb3JpZ2luYWwgZ29lcyBoZXJlXCIuXG4gKiBGb3IgZXhhbXBsZSwgaWYgYSBkaXNwbGFjZW1lbnQgbWFwIHBpeGVsIGhhcyBgcmVkID0gMWAgYW5kIHRoZSBmaWx0ZXIgc2NhbGUgaXMgYDIwYCxcbiAqIHRoaXMgZmlsdGVyIHdpbGwgb3V0cHV0IHRoZSBwaXhlbCBhcHByb3hpbWF0ZWx5IDIwIHBpeGVscyB0byB0aGUgcmlnaHQgb2YgdGhlIG9yaWdpbmFsLlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5GaWx0ZXJcbiAqIEBtZW1iZXJvZiBQSVhJLmZpbHRlcnNcbiAqL1xudmFyIERpc3BsYWNlbWVudEZpbHRlciA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKEZpbHRlcikge1xuICAgIGZ1bmN0aW9uIERpc3BsYWNlbWVudEZpbHRlcihzcHJpdGUsIHNjYWxlKVxuICAgIHtcbiAgICAgICAgdmFyIG1hc2tNYXRyaXggPSBuZXcgTWF0cml4KCk7XG5cbiAgICAgICAgc3ByaXRlLnJlbmRlcmFibGUgPSBmYWxzZTtcblxuICAgICAgICBGaWx0ZXIuY2FsbCh0aGlzLCB2ZXJ0ZXgsIGZyYWdtZW50LCB7XG4gICAgICAgICAgICBtYXBTYW1wbGVyOiBzcHJpdGUuX3RleHR1cmUsXG4gICAgICAgICAgICBmaWx0ZXJNYXRyaXg6IG1hc2tNYXRyaXgsXG4gICAgICAgICAgICBzY2FsZTogeyB4OiAxLCB5OiAxIH0sXG4gICAgICAgICAgICByb3RhdGlvbjogbmV3IEZsb2F0MzJBcnJheShbMSwgMCwgMCwgMV0pLFxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLm1hc2tTcHJpdGUgPSBzcHJpdGU7XG4gICAgICAgIHRoaXMubWFza01hdHJpeCA9IG1hc2tNYXRyaXg7XG5cbiAgICAgICAgaWYgKHNjYWxlID09PSBudWxsIHx8IHNjYWxlID09PSB1bmRlZmluZWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHNjYWxlID0gMjA7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogc2NhbGVYLCBzY2FsZVkgZm9yIGRpc3BsYWNlbWVudHNcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5Qb2ludH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc2NhbGUgPSBuZXcgUG9pbnQoc2NhbGUsIHNjYWxlKTtcbiAgICB9XG5cbiAgICBpZiAoIEZpbHRlciApIERpc3BsYWNlbWVudEZpbHRlci5fX3Byb3RvX18gPSBGaWx0ZXI7XG4gICAgRGlzcGxhY2VtZW50RmlsdGVyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIEZpbHRlciAmJiBGaWx0ZXIucHJvdG90eXBlICk7XG4gICAgRGlzcGxhY2VtZW50RmlsdGVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IERpc3BsYWNlbWVudEZpbHRlcjtcblxuICAgIHZhciBwcm90b3R5cGVBY2Nlc3NvcnMgPSB7IG1hcDogeyBjb25maWd1cmFibGU6IHRydWUgfSB9O1xuXG4gICAgLyoqXG4gICAgICogQXBwbGllcyB0aGUgZmlsdGVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLnN5c3RlbXMuRmlsdGVyU3lzdGVtfSBmaWx0ZXJNYW5hZ2VyIC0gVGhlIG1hbmFnZXIuXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlclRleHR1cmV9IGlucHV0IC0gVGhlIGlucHV0IHRhcmdldC5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyVGV4dHVyZX0gb3V0cHV0IC0gVGhlIG91dHB1dCB0YXJnZXQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBjbGVhciAtIFNob3VsZCB0aGUgb3V0cHV0IGJlIGNsZWFyZWQgYmVmb3JlIHJlbmRlcmluZyB0byBpdC5cbiAgICAgKi9cbiAgICBEaXNwbGFjZW1lbnRGaWx0ZXIucHJvdG90eXBlLmFwcGx5ID0gZnVuY3Rpb24gYXBwbHkgKGZpbHRlck1hbmFnZXIsIGlucHV0LCBvdXRwdXQsIGNsZWFyKVxuICAgIHtcbiAgICAgICAgLy8gZmlsbCBtYXNrTWF0cml4IHdpdGggX25vcm1hbGl6ZWQgc3ByaXRlIHRleHR1cmUgY29vcmRzX1xuICAgICAgICB0aGlzLnVuaWZvcm1zLmZpbHRlck1hdHJpeCA9IGZpbHRlck1hbmFnZXIuY2FsY3VsYXRlU3ByaXRlTWF0cml4KHRoaXMubWFza01hdHJpeCwgdGhpcy5tYXNrU3ByaXRlKTtcbiAgICAgICAgdGhpcy51bmlmb3Jtcy5zY2FsZS54ID0gdGhpcy5zY2FsZS54O1xuICAgICAgICB0aGlzLnVuaWZvcm1zLnNjYWxlLnkgPSB0aGlzLnNjYWxlLnk7XG5cbiAgICAgICAgLy8gRXh0cmFjdCByb3RhdGlvbiBmcm9tIHdvcmxkIHRyYW5zZm9ybVxuICAgICAgICB2YXIgd3QgPSB0aGlzLm1hc2tTcHJpdGUudHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtO1xuICAgICAgICB2YXIgbGVuWCA9IE1hdGguc3FydCgod3QuYSAqIHd0LmEpICsgKHd0LmIgKiB3dC5iKSk7XG4gICAgICAgIHZhciBsZW5ZID0gTWF0aC5zcXJ0KCh3dC5jICogd3QuYykgKyAod3QuZCAqIHd0LmQpKTtcblxuICAgICAgICBpZiAobGVuWCAhPT0gMCAmJiBsZW5ZICE9PSAwKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnVuaWZvcm1zLnJvdGF0aW9uWzBdID0gd3QuYSAvIGxlblg7XG4gICAgICAgICAgICB0aGlzLnVuaWZvcm1zLnJvdGF0aW9uWzFdID0gd3QuYiAvIGxlblg7XG4gICAgICAgICAgICB0aGlzLnVuaWZvcm1zLnJvdGF0aW9uWzJdID0gd3QuYyAvIGxlblk7XG4gICAgICAgICAgICB0aGlzLnVuaWZvcm1zLnJvdGF0aW9uWzNdID0gd3QuZCAvIGxlblk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBkcmF3IHRoZSBmaWx0ZXIuLi5cbiAgICAgICAgZmlsdGVyTWFuYWdlci5hcHBseUZpbHRlcih0aGlzLCBpbnB1dCwgb3V0cHV0LCBjbGVhcik7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSB0ZXh0dXJlIHVzZWQgZm9yIHRoZSBkaXNwbGFjZW1lbnQgbWFwLiBNdXN0IGJlIHBvd2VyIG9mIDIgc2l6ZWQgdGV4dHVyZS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1BJWEkuVGV4dHVyZX1cbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMubWFwLmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy51bmlmb3Jtcy5tYXBTYW1wbGVyO1xuICAgIH07XG5cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMubWFwLnNldCA9IGZ1bmN0aW9uICh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICB0aGlzLnVuaWZvcm1zLm1hcFNhbXBsZXIgPSB2YWx1ZTtcbiAgICB9O1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoIERpc3BsYWNlbWVudEZpbHRlci5wcm90b3R5cGUsIHByb3RvdHlwZUFjY2Vzc29ycyApO1xuXG4gICAgcmV0dXJuIERpc3BsYWNlbWVudEZpbHRlcjtcbn0oRmlsdGVyKSk7XG5cbmV4cG9ydCB7IERpc3BsYWNlbWVudEZpbHRlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZmlsdGVyLWRpc3BsYWNlbWVudC5lcy5qcy5tYXBcbiIsIi8qIVxuICogQHBpeGkvZmlsdGVyLWZ4YWEgLSB2NS4yLjBcbiAqIENvbXBpbGVkIFdlZCwgMDYgTm92IDIwMTkgMDI6MzI6NDMgVVRDXG4gKlxuICogQHBpeGkvZmlsdGVyLWZ4YWEgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5pbXBvcnQgeyBGaWx0ZXIgfSBmcm9tICdAcGl4aS9jb3JlJztcblxudmFyIHZlcnRleCA9IFwiXFxuYXR0cmlidXRlIHZlYzIgYVZlcnRleFBvc2l0aW9uO1xcblxcbnVuaWZvcm0gbWF0MyBwcm9qZWN0aW9uTWF0cml4O1xcblxcbnZhcnlpbmcgdmVjMiB2X3JnYk5XO1xcbnZhcnlpbmcgdmVjMiB2X3JnYk5FO1xcbnZhcnlpbmcgdmVjMiB2X3JnYlNXO1xcbnZhcnlpbmcgdmVjMiB2X3JnYlNFO1xcbnZhcnlpbmcgdmVjMiB2X3JnYk07XFxuXFxudmFyeWluZyB2ZWMyIHZGcmFnQ29vcmQ7XFxuXFxudW5pZm9ybSB2ZWM0IGlucHV0UGl4ZWw7XFxudW5pZm9ybSB2ZWM0IG91dHB1dEZyYW1lO1xcblxcbnZlYzQgZmlsdGVyVmVydGV4UG9zaXRpb24oIHZvaWQgKVxcbntcXG4gICAgdmVjMiBwb3NpdGlvbiA9IGFWZXJ0ZXhQb3NpdGlvbiAqIG1heChvdXRwdXRGcmFtZS56dywgdmVjMigwLikpICsgb3V0cHV0RnJhbWUueHk7XFxuXFxuICAgIHJldHVybiB2ZWM0KChwcm9qZWN0aW9uTWF0cml4ICogdmVjMyhwb3NpdGlvbiwgMS4wKSkueHksIDAuMCwgMS4wKTtcXG59XFxuXFxudm9pZCB0ZXhjb29yZHModmVjMiBmcmFnQ29vcmQsIHZlYzIgaW52ZXJzZVZQLFxcbiAgICAgICAgICAgICAgIG91dCB2ZWMyIHZfcmdiTlcsIG91dCB2ZWMyIHZfcmdiTkUsXFxuICAgICAgICAgICAgICAgb3V0IHZlYzIgdl9yZ2JTVywgb3V0IHZlYzIgdl9yZ2JTRSxcXG4gICAgICAgICAgICAgICBvdXQgdmVjMiB2X3JnYk0pIHtcXG4gICAgdl9yZ2JOVyA9IChmcmFnQ29vcmQgKyB2ZWMyKC0xLjAsIC0xLjApKSAqIGludmVyc2VWUDtcXG4gICAgdl9yZ2JORSA9IChmcmFnQ29vcmQgKyB2ZWMyKDEuMCwgLTEuMCkpICogaW52ZXJzZVZQO1xcbiAgICB2X3JnYlNXID0gKGZyYWdDb29yZCArIHZlYzIoLTEuMCwgMS4wKSkgKiBpbnZlcnNlVlA7XFxuICAgIHZfcmdiU0UgPSAoZnJhZ0Nvb3JkICsgdmVjMigxLjAsIDEuMCkpICogaW52ZXJzZVZQO1xcbiAgICB2X3JnYk0gPSB2ZWMyKGZyYWdDb29yZCAqIGludmVyc2VWUCk7XFxufVxcblxcbnZvaWQgbWFpbih2b2lkKSB7XFxuXFxuICAgZ2xfUG9zaXRpb24gPSBmaWx0ZXJWZXJ0ZXhQb3NpdGlvbigpO1xcblxcbiAgIHZGcmFnQ29vcmQgPSBhVmVydGV4UG9zaXRpb24gKiBvdXRwdXRGcmFtZS56dztcXG5cXG4gICB0ZXhjb29yZHModkZyYWdDb29yZCwgaW5wdXRQaXhlbC56dywgdl9yZ2JOVywgdl9yZ2JORSwgdl9yZ2JTVywgdl9yZ2JTRSwgdl9yZ2JNKTtcXG59XFxuXCI7XG5cbnZhciBmcmFnbWVudCA9IFwidmFyeWluZyB2ZWMyIHZfcmdiTlc7XFxudmFyeWluZyB2ZWMyIHZfcmdiTkU7XFxudmFyeWluZyB2ZWMyIHZfcmdiU1c7XFxudmFyeWluZyB2ZWMyIHZfcmdiU0U7XFxudmFyeWluZyB2ZWMyIHZfcmdiTTtcXG5cXG52YXJ5aW5nIHZlYzIgdkZyYWdDb29yZDtcXG51bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcjtcXG51bmlmb3JtIGhpZ2hwIHZlYzQgaW5wdXRQaXhlbDtcXG5cXG5cXG4vKipcXG4gQmFzaWMgRlhBQSBpbXBsZW1lbnRhdGlvbiBiYXNlZCBvbiB0aGUgY29kZSBvbiBnZWVrczNkLmNvbSB3aXRoIHRoZVxcbiBtb2RpZmljYXRpb24gdGhhdCB0aGUgdGV4dHVyZTJETG9kIHN0dWZmIHdhcyByZW1vdmVkIHNpbmNlIGl0J3NcXG4gdW5zdXBwb3J0ZWQgYnkgV2ViR0wuXFxuXFxuIC0tXFxuXFxuIEZyb206XFxuIGh0dHBzOi8vZ2l0aHViLmNvbS9taXRzdWhpa28vd2ViZ2wtbWVpbmNyYWZ0XFxuXFxuIENvcHlyaWdodCAoYykgMjAxMSBieSBBcm1pbiBSb25hY2hlci5cXG5cXG4gU29tZSByaWdodHMgcmVzZXJ2ZWQuXFxuXFxuIFJlZGlzdHJpYnV0aW9uIGFuZCB1c2UgaW4gc291cmNlIGFuZCBiaW5hcnkgZm9ybXMsIHdpdGggb3Igd2l0aG91dFxcbiBtb2RpZmljYXRpb24sIGFyZSBwZXJtaXR0ZWQgcHJvdmlkZWQgdGhhdCB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnMgYXJlXFxuIG1ldDpcXG5cXG4gKiBSZWRpc3RyaWJ1dGlvbnMgb2Ygc291cmNlIGNvZGUgbXVzdCByZXRhaW4gdGhlIGFib3ZlIGNvcHlyaWdodFxcbiBub3RpY2UsIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIuXFxuXFxuICogUmVkaXN0cmlidXRpb25zIGluIGJpbmFyeSBmb3JtIG11c3QgcmVwcm9kdWNlIHRoZSBhYm92ZVxcbiBjb3B5cmlnaHQgbm90aWNlLCB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZ1xcbiBkaXNjbGFpbWVyIGluIHRoZSBkb2N1bWVudGF0aW9uIGFuZC9vciBvdGhlciBtYXRlcmlhbHMgcHJvdmlkZWRcXG4gd2l0aCB0aGUgZGlzdHJpYnV0aW9uLlxcblxcbiAqIFRoZSBuYW1lcyBvZiB0aGUgY29udHJpYnV0b3JzIG1heSBub3QgYmUgdXNlZCB0byBlbmRvcnNlIG9yXFxuIHByb21vdGUgcHJvZHVjdHMgZGVyaXZlZCBmcm9tIHRoaXMgc29mdHdhcmUgd2l0aG91dCBzcGVjaWZpY1xcbiBwcmlvciB3cml0dGVuIHBlcm1pc3Npb24uXFxuXFxuIFRISVMgU09GVFdBUkUgSVMgUFJPVklERUQgQlkgVEhFIENPUFlSSUdIVCBIT0xERVJTIEFORCBDT05UUklCVVRPUlNcXG4gXFxcIkFTIElTXFxcIiBBTkQgQU5ZIEVYUFJFU1MgT1IgSU1QTElFRCBXQVJSQU5USUVTLCBJTkNMVURJTkcsIEJVVCBOT1RcXG4gTElNSVRFRCBUTywgVEhFIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFkgQU5EIEZJVE5FU1MgRk9SXFxuIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFSRSBESVNDTEFJTUVELiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQ09QWVJJR0hUXFxuIE9XTkVSIE9SIENPTlRSSUJVVE9SUyBCRSBMSUFCTEUgRk9SIEFOWSBESVJFQ1QsIElORElSRUNULCBJTkNJREVOVEFMLFxcbiBTUEVDSUFMLCBFWEVNUExBUlksIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyAoSU5DTFVESU5HLCBCVVQgTk9UXFxuIExJTUlURUQgVE8sIFBST0NVUkVNRU5UIE9GIFNVQlNUSVRVVEUgR09PRFMgT1IgU0VSVklDRVM7IExPU1MgT0YgVVNFLFxcbiBEQVRBLCBPUiBQUk9GSVRTOyBPUiBCVVNJTkVTUyBJTlRFUlJVUFRJT04pIEhPV0VWRVIgQ0FVU0VEIEFORCBPTiBBTllcXG4gVEhFT1JZIE9GIExJQUJJTElUWSwgV0hFVEhFUiBJTiBDT05UUkFDVCwgU1RSSUNUIExJQUJJTElUWSwgT1IgVE9SVFxcbiAoSU5DTFVESU5HIE5FR0xJR0VOQ0UgT1IgT1RIRVJXSVNFKSBBUklTSU5HIElOIEFOWSBXQVkgT1VUIE9GIFRIRSBVU0VcXG4gT0YgVEhJUyBTT0ZUV0FSRSwgRVZFTiBJRiBBRFZJU0VEIE9GIFRIRSBQT1NTSUJJTElUWSBPRiBTVUNIIERBTUFHRS5cXG4gKi9cXG5cXG4jaWZuZGVmIEZYQUFfUkVEVUNFX01JTlxcbiNkZWZpbmUgRlhBQV9SRURVQ0VfTUlOICAgKDEuMC8gMTI4LjApXFxuI2VuZGlmXFxuI2lmbmRlZiBGWEFBX1JFRFVDRV9NVUxcXG4jZGVmaW5lIEZYQUFfUkVEVUNFX01VTCAgICgxLjAgLyA4LjApXFxuI2VuZGlmXFxuI2lmbmRlZiBGWEFBX1NQQU5fTUFYXFxuI2RlZmluZSBGWEFBX1NQQU5fTUFYICAgICA4LjBcXG4jZW5kaWZcXG5cXG4vL29wdGltaXplZCB2ZXJzaW9uIGZvciBtb2JpbGUsIHdoZXJlIGRlcGVuZGVudFxcbi8vdGV4dHVyZSByZWFkcyBjYW4gYmUgYSBib3R0bGVuZWNrXFxudmVjNCBmeGFhKHNhbXBsZXIyRCB0ZXgsIHZlYzIgZnJhZ0Nvb3JkLCB2ZWMyIGludmVyc2VWUCxcXG4gICAgICAgICAgdmVjMiB2X3JnYk5XLCB2ZWMyIHZfcmdiTkUsXFxuICAgICAgICAgIHZlYzIgdl9yZ2JTVywgdmVjMiB2X3JnYlNFLFxcbiAgICAgICAgICB2ZWMyIHZfcmdiTSkge1xcbiAgICB2ZWM0IGNvbG9yO1xcbiAgICB2ZWMzIHJnYk5XID0gdGV4dHVyZTJEKHRleCwgdl9yZ2JOVykueHl6O1xcbiAgICB2ZWMzIHJnYk5FID0gdGV4dHVyZTJEKHRleCwgdl9yZ2JORSkueHl6O1xcbiAgICB2ZWMzIHJnYlNXID0gdGV4dHVyZTJEKHRleCwgdl9yZ2JTVykueHl6O1xcbiAgICB2ZWMzIHJnYlNFID0gdGV4dHVyZTJEKHRleCwgdl9yZ2JTRSkueHl6O1xcbiAgICB2ZWM0IHRleENvbG9yID0gdGV4dHVyZTJEKHRleCwgdl9yZ2JNKTtcXG4gICAgdmVjMyByZ2JNICA9IHRleENvbG9yLnh5ejtcXG4gICAgdmVjMyBsdW1hID0gdmVjMygwLjI5OSwgMC41ODcsIDAuMTE0KTtcXG4gICAgZmxvYXQgbHVtYU5XID0gZG90KHJnYk5XLCBsdW1hKTtcXG4gICAgZmxvYXQgbHVtYU5FID0gZG90KHJnYk5FLCBsdW1hKTtcXG4gICAgZmxvYXQgbHVtYVNXID0gZG90KHJnYlNXLCBsdW1hKTtcXG4gICAgZmxvYXQgbHVtYVNFID0gZG90KHJnYlNFLCBsdW1hKTtcXG4gICAgZmxvYXQgbHVtYU0gID0gZG90KHJnYk0sICBsdW1hKTtcXG4gICAgZmxvYXQgbHVtYU1pbiA9IG1pbihsdW1hTSwgbWluKG1pbihsdW1hTlcsIGx1bWFORSksIG1pbihsdW1hU1csIGx1bWFTRSkpKTtcXG4gICAgZmxvYXQgbHVtYU1heCA9IG1heChsdW1hTSwgbWF4KG1heChsdW1hTlcsIGx1bWFORSksIG1heChsdW1hU1csIGx1bWFTRSkpKTtcXG5cXG4gICAgbWVkaXVtcCB2ZWMyIGRpcjtcXG4gICAgZGlyLnggPSAtKChsdW1hTlcgKyBsdW1hTkUpIC0gKGx1bWFTVyArIGx1bWFTRSkpO1xcbiAgICBkaXIueSA9ICAoKGx1bWFOVyArIGx1bWFTVykgLSAobHVtYU5FICsgbHVtYVNFKSk7XFxuXFxuICAgIGZsb2F0IGRpclJlZHVjZSA9IG1heCgobHVtYU5XICsgbHVtYU5FICsgbHVtYVNXICsgbHVtYVNFKSAqXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAoMC4yNSAqIEZYQUFfUkVEVUNFX01VTCksIEZYQUFfUkVEVUNFX01JTik7XFxuXFxuICAgIGZsb2F0IHJjcERpck1pbiA9IDEuMCAvIChtaW4oYWJzKGRpci54KSwgYWJzKGRpci55KSkgKyBkaXJSZWR1Y2UpO1xcbiAgICBkaXIgPSBtaW4odmVjMihGWEFBX1NQQU5fTUFYLCBGWEFBX1NQQU5fTUFYKSxcXG4gICAgICAgICAgICAgIG1heCh2ZWMyKC1GWEFBX1NQQU5fTUFYLCAtRlhBQV9TUEFOX01BWCksXFxuICAgICAgICAgICAgICAgICAgZGlyICogcmNwRGlyTWluKSkgKiBpbnZlcnNlVlA7XFxuXFxuICAgIHZlYzMgcmdiQSA9IDAuNSAqIChcXG4gICAgICAgICAgICAgICAgICAgICAgIHRleHR1cmUyRCh0ZXgsIGZyYWdDb29yZCAqIGludmVyc2VWUCArIGRpciAqICgxLjAgLyAzLjAgLSAwLjUpKS54eXogK1xcbiAgICAgICAgICAgICAgICAgICAgICAgdGV4dHVyZTJEKHRleCwgZnJhZ0Nvb3JkICogaW52ZXJzZVZQICsgZGlyICogKDIuMCAvIDMuMCAtIDAuNSkpLnh5eik7XFxuICAgIHZlYzMgcmdiQiA9IHJnYkEgKiAwLjUgKyAwLjI1ICogKFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0dXJlMkQodGV4LCBmcmFnQ29vcmQgKiBpbnZlcnNlVlAgKyBkaXIgKiAtMC41KS54eXogK1xcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0dXJlMkQodGV4LCBmcmFnQ29vcmQgKiBpbnZlcnNlVlAgKyBkaXIgKiAwLjUpLnh5eik7XFxuXFxuICAgIGZsb2F0IGx1bWFCID0gZG90KHJnYkIsIGx1bWEpO1xcbiAgICBpZiAoKGx1bWFCIDwgbHVtYU1pbikgfHwgKGx1bWFCID4gbHVtYU1heCkpXFxuICAgICAgICBjb2xvciA9IHZlYzQocmdiQSwgdGV4Q29sb3IuYSk7XFxuICAgIGVsc2VcXG4gICAgICAgIGNvbG9yID0gdmVjNChyZ2JCLCB0ZXhDb2xvci5hKTtcXG4gICAgcmV0dXJuIGNvbG9yO1xcbn1cXG5cXG52b2lkIG1haW4oKSB7XFxuXFxuICAgICAgdmVjNCBjb2xvcjtcXG5cXG4gICAgICBjb2xvciA9IGZ4YWEodVNhbXBsZXIsIHZGcmFnQ29vcmQsIGlucHV0UGl4ZWwuencsIHZfcmdiTlcsIHZfcmdiTkUsIHZfcmdiU1csIHZfcmdiU0UsIHZfcmdiTSk7XFxuXFxuICAgICAgZ2xfRnJhZ0NvbG9yID0gY29sb3I7XFxufVxcblwiO1xuXG4vKipcbiAqIEJhc2ljIEZYQUEgKEZhc3QgQXBwcm94aW1hdGUgQW50aS1BbGlhc2luZykgaW1wbGVtZW50YXRpb24gYmFzZWQgb24gdGhlIGNvZGUgb24gZ2Vla3MzZC5jb21cbiAqIHdpdGggdGhlIG1vZGlmaWNhdGlvbiB0aGF0IHRoZSB0ZXh0dXJlMkRMb2Qgc3R1ZmYgd2FzIHJlbW92ZWQgc2luY2UgaXQgaXMgdW5zdXBwb3J0ZWQgYnkgV2ViR0wuXG4gKlxuICogQHNlZSBodHRwczovL2dpdGh1Yi5jb20vbWl0c3VoaWtvL3dlYmdsLW1laW5jcmFmdFxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5GaWx0ZXJcbiAqIEBtZW1iZXJvZiBQSVhJLmZpbHRlcnNcbiAqXG4gKi9cbnZhciBGWEFBRmlsdGVyID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoRmlsdGVyKSB7XG4gICAgZnVuY3Rpb24gRlhBQUZpbHRlcigpXG4gICAge1xuICAgICAgICAvLyBUT0RPIC0gbmVlZHMgd29ya1xuICAgICAgICBGaWx0ZXIuY2FsbCh0aGlzLCB2ZXJ0ZXgsIGZyYWdtZW50KTtcbiAgICB9XG5cbiAgICBpZiAoIEZpbHRlciApIEZYQUFGaWx0ZXIuX19wcm90b19fID0gRmlsdGVyO1xuICAgIEZYQUFGaWx0ZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggRmlsdGVyICYmIEZpbHRlci5wcm90b3R5cGUgKTtcbiAgICBGWEFBRmlsdGVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEZYQUFGaWx0ZXI7XG5cbiAgICByZXR1cm4gRlhBQUZpbHRlcjtcbn0oRmlsdGVyKSk7XG5cbmV4cG9ydCB7IEZYQUFGaWx0ZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZpbHRlci1meGFhLmVzLmpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS9maWx0ZXItbm9pc2UgLSB2NS4yLjBcbiAqIENvbXBpbGVkIFdlZCwgMDYgTm92IDIwMTkgMDI6MzI6NDMgVVRDXG4gKlxuICogQHBpeGkvZmlsdGVyLW5vaXNlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgRmlsdGVyLCBkZWZhdWx0RmlsdGVyVmVydGV4IH0gZnJvbSAnQHBpeGkvY29yZSc7XG5cbnZhciBmcmFnbWVudCA9IFwicHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xcblxcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcbnZhcnlpbmcgdmVjNCB2Q29sb3I7XFxuXFxudW5pZm9ybSBmbG9hdCB1Tm9pc2U7XFxudW5pZm9ybSBmbG9hdCB1U2VlZDtcXG51bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcjtcXG5cXG5mbG9hdCByYW5kKHZlYzIgY28pXFxue1xcbiAgICByZXR1cm4gZnJhY3Qoc2luKGRvdChjby54eSwgdmVjMigxMi45ODk4LCA3OC4yMzMpKSkgKiA0Mzc1OC41NDUzKTtcXG59XFxuXFxudm9pZCBtYWluKClcXG57XFxuICAgIHZlYzQgY29sb3IgPSB0ZXh0dXJlMkQodVNhbXBsZXIsIHZUZXh0dXJlQ29vcmQpO1xcbiAgICBmbG9hdCByYW5kb21WYWx1ZSA9IHJhbmQoZ2xfRnJhZ0Nvb3JkLnh5ICogdVNlZWQpO1xcbiAgICBmbG9hdCBkaWZmID0gKHJhbmRvbVZhbHVlIC0gMC41KSAqIHVOb2lzZTtcXG5cXG4gICAgLy8gVW4tcHJlbXVsdGlwbHkgYWxwaGEgYmVmb3JlIGFwcGx5aW5nIHRoZSBjb2xvciBtYXRyaXguIFNlZSBpc3N1ZSAjMzUzOS5cXG4gICAgaWYgKGNvbG9yLmEgPiAwLjApIHtcXG4gICAgICAgIGNvbG9yLnJnYiAvPSBjb2xvci5hO1xcbiAgICB9XFxuXFxuICAgIGNvbG9yLnIgKz0gZGlmZjtcXG4gICAgY29sb3IuZyArPSBkaWZmO1xcbiAgICBjb2xvci5iICs9IGRpZmY7XFxuXFxuICAgIC8vIFByZW11bHRpcGx5IGFscGhhIGFnYWluLlxcbiAgICBjb2xvci5yZ2IgKj0gY29sb3IuYTtcXG5cXG4gICAgZ2xfRnJhZ0NvbG9yID0gY29sb3I7XFxufVxcblwiO1xuXG4vKipcbiAqIEBhdXRob3IgVmljbyBAdmljb2NvdGVhXG4gKiBvcmlnaW5hbCBmaWx0ZXI6IGh0dHBzOi8vZ2l0aHViLmNvbS9ldmFudy9nbGZ4LmpzL2Jsb2IvbWFzdGVyL3NyYy9maWx0ZXJzL2FkanVzdC9ub2lzZS5qc1xuICovXG5cbi8qKlxuICogQSBOb2lzZSBlZmZlY3QgZmlsdGVyLlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5GaWx0ZXJcbiAqIEBtZW1iZXJvZiBQSVhJLmZpbHRlcnNcbiAqL1xudmFyIE5vaXNlRmlsdGVyID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoRmlsdGVyKSB7XG4gICAgZnVuY3Rpb24gTm9pc2VGaWx0ZXIobm9pc2UsIHNlZWQpXG4gICAge1xuICAgICAgICBpZiAoIG5vaXNlID09PSB2b2lkIDAgKSBub2lzZSA9IDAuNTtcbiAgICAgICAgaWYgKCBzZWVkID09PSB2b2lkIDAgKSBzZWVkID0gTWF0aC5yYW5kb20oKTtcblxuICAgICAgICBGaWx0ZXIuY2FsbCh0aGlzLCBkZWZhdWx0RmlsdGVyVmVydGV4LCBmcmFnbWVudCwge1xuICAgICAgICAgICAgdU5vaXNlOiAwLFxuICAgICAgICAgICAgdVNlZWQ6IDAsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMubm9pc2UgPSBub2lzZTtcbiAgICAgICAgdGhpcy5zZWVkID0gc2VlZDtcbiAgICB9XG5cbiAgICBpZiAoIEZpbHRlciApIE5vaXNlRmlsdGVyLl9fcHJvdG9fXyA9IEZpbHRlcjtcbiAgICBOb2lzZUZpbHRlci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBGaWx0ZXIgJiYgRmlsdGVyLnByb3RvdHlwZSApO1xuICAgIE5vaXNlRmlsdGVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IE5vaXNlRmlsdGVyO1xuXG4gICAgdmFyIHByb3RvdHlwZUFjY2Vzc29ycyA9IHsgbm9pc2U6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sc2VlZDogeyBjb25maWd1cmFibGU6IHRydWUgfSB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIGFtb3VudCBvZiBub2lzZSB0byBhcHBseSwgdGhpcyB2YWx1ZSBzaG91bGQgYmUgaW4gdGhlIHJhbmdlICgwLCAxXS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAwLjVcbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMubm9pc2UuZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnVuaWZvcm1zLnVOb2lzZTtcbiAgICB9O1xuXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLm5vaXNlLnNldCA9IGZ1bmN0aW9uICh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICB0aGlzLnVuaWZvcm1zLnVOb2lzZSA9IHZhbHVlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBIHNlZWQgdmFsdWUgdG8gYXBwbHkgdG8gdGhlIHJhbmRvbSBub2lzZSBnZW5lcmF0aW9uLiBgTWF0aC5yYW5kb20oKWAgaXMgYSBnb29kIHZhbHVlIHRvIHVzZS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMuc2VlZC5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudW5pZm9ybXMudVNlZWQ7XG4gICAgfTtcblxuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5zZWVkLnNldCA9IGZ1bmN0aW9uICh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICB0aGlzLnVuaWZvcm1zLnVTZWVkID0gdmFsdWU7XG4gICAgfTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKCBOb2lzZUZpbHRlci5wcm90b3R5cGUsIHByb3RvdHlwZUFjY2Vzc29ycyApO1xuXG4gICAgcmV0dXJuIE5vaXNlRmlsdGVyO1xufShGaWx0ZXIpKTtcblxuZXhwb3J0IHsgTm9pc2VGaWx0ZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZpbHRlci1ub2lzZS5lcy5qcy5tYXBcbiIsIi8qIVxuICogQHBpeGkvbWl4aW4tY2FjaGUtYXMtYml0bWFwIC0gdjUuMi4wXG4gKiBDb21waWxlZCBXZWQsIDA2IE5vdiAyMDE5IDAyOjMyOjQzIFVUQ1xuICpcbiAqIEBwaXhpL21peGluLWNhY2hlLWFzLWJpdG1hcCBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbmltcG9ydCB7IFJlbmRlclRleHR1cmUsIEJhc2VUZXh0dXJlLCBUZXh0dXJlIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5pbXBvcnQgeyBTcHJpdGUgfSBmcm9tICdAcGl4aS9zcHJpdGUnO1xuaW1wb3J0IHsgRGlzcGxheU9iamVjdCB9IGZyb20gJ0BwaXhpL2Rpc3BsYXknO1xuaW1wb3J0IHsgTWF0cml4IH0gZnJvbSAnQHBpeGkvbWF0aCc7XG5pbXBvcnQgeyB1aWQgfSBmcm9tICdAcGl4aS91dGlscyc7XG5pbXBvcnQgeyBzZXR0aW5ncyB9IGZyb20gJ0BwaXhpL3NldHRpbmdzJztcblxudmFyIF90ZW1wTWF0cml4ID0gbmV3IE1hdHJpeCgpO1xuXG5EaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5fY2FjaGVBc0JpdG1hcCA9IGZhbHNlO1xuRGlzcGxheU9iamVjdC5wcm90b3R5cGUuX2NhY2hlRGF0YSA9IGZhbHNlO1xuXG4vLyBmaWd1cmVkIHRoZXJlcyBubyBwb2ludCBhZGRpbmcgQUxMIHRoZSBleHRyYSB2YXJpYWJsZXMgdG8gcHJvdG90eXBlLlxuLy8gdGhpcyBtb2RlbCBjYW4gaG9sZCB0aGUgaW5mb3JtYXRpb24gbmVlZGVkLiBUaGlzIGNhbiBhbHNvIGJlIGdlbmVyYXRlZCBvbiBkZW1hbmQgYXNcbi8vIG1vc3Qgb2JqZWN0cyBhcmUgbm90IGNhY2hlZCBhcyBiaXRtYXBzLlxuLyoqXG4gKiBAY2xhc3NcbiAqIEBpZ25vcmVcbiAqL1xudmFyIENhY2hlRGF0YSA9IGZ1bmN0aW9uIENhY2hlRGF0YSgpXG57XG4gICAgdGhpcy50ZXh0dXJlQ2FjaGVJZCA9IG51bGw7XG5cbiAgICB0aGlzLm9yaWdpbmFsUmVuZGVyID0gbnVsbDtcbiAgICB0aGlzLm9yaWdpbmFsUmVuZGVyQ2FudmFzID0gbnVsbDtcbiAgICB0aGlzLm9yaWdpbmFsQ2FsY3VsYXRlQm91bmRzID0gbnVsbDtcbiAgICB0aGlzLm9yaWdpbmFsR2V0TG9jYWxCb3VuZHMgPSBudWxsO1xuXG4gICAgdGhpcy5vcmlnaW5hbFVwZGF0ZVRyYW5zZm9ybSA9IG51bGw7XG4gICAgdGhpcy5vcmlnaW5hbEhpdFRlc3QgPSBudWxsO1xuICAgIHRoaXMub3JpZ2luYWxEZXN0cm95ID0gbnVsbDtcbiAgICB0aGlzLm9yaWdpbmFsTWFzayA9IG51bGw7XG4gICAgdGhpcy5vcmlnaW5hbEZpbHRlckFyZWEgPSBudWxsO1xuICAgIHRoaXMuc3ByaXRlID0gbnVsbDtcbn07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKERpc3BsYXlPYmplY3QucHJvdG90eXBlLCB7XG4gICAgLyoqXG4gICAgICogU2V0IHRoaXMgdG8gdHJ1ZSBpZiB5b3Ugd2FudCB0aGlzIGRpc3BsYXkgb2JqZWN0IHRvIGJlIGNhY2hlZCBhcyBhIGJpdG1hcC5cbiAgICAgKiBUaGlzIGJhc2ljYWxseSB0YWtlcyBhIHNuYXAgc2hvdCBvZiB0aGUgZGlzcGxheSBvYmplY3QgYXMgaXQgaXMgYXQgdGhhdCBtb21lbnQuIEl0IGNhblxuICAgICAqIHByb3ZpZGUgYSBwZXJmb3JtYW5jZSBiZW5lZml0IGZvciBjb21wbGV4IHN0YXRpYyBkaXNwbGF5T2JqZWN0cy5cbiAgICAgKiBUbyByZW1vdmUgc2ltcGx5IHNldCB0aGlzIHByb3BlcnR5IHRvIGBmYWxzZWBcbiAgICAgKlxuICAgICAqIElNUE9SVEFOVCBHT1RDSEEgLSBNYWtlIHN1cmUgdGhhdCBhbGwgeW91ciB0ZXh0dXJlcyBhcmUgcHJlbG9hZGVkIEJFRk9SRSBzZXR0aW5nIHRoaXMgcHJvcGVydHkgdG8gdHJ1ZVxuICAgICAqIGFzIGl0IHdpbGwgdGFrZSBhIHNuYXBzaG90IG9mIHdoYXQgaXMgY3VycmVudGx5IHRoZXJlLiBJZiB0aGUgdGV4dHVyZXMgaGF2ZSBub3QgbG9hZGVkIHRoZW4gdGhleSB3aWxsIG5vdCBhcHBlYXIuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkRpc3BsYXlPYmplY3QjXG4gICAgICovXG4gICAgY2FjaGVBc0JpdG1hcDoge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9jYWNoZUFzQml0bWFwO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSlcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2NhY2hlQXNCaXRtYXAgPT09IHZhbHVlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fY2FjaGVBc0JpdG1hcCA9IHZhbHVlO1xuXG4gICAgICAgICAgICB2YXIgZGF0YTtcblxuICAgICAgICAgICAgaWYgKHZhbHVlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5fY2FjaGVEYXRhKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fY2FjaGVEYXRhID0gbmV3IENhY2hlRGF0YSgpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGRhdGEgPSB0aGlzLl9jYWNoZURhdGE7XG5cbiAgICAgICAgICAgICAgICBkYXRhLm9yaWdpbmFsUmVuZGVyID0gdGhpcy5yZW5kZXI7XG4gICAgICAgICAgICAgICAgZGF0YS5vcmlnaW5hbFJlbmRlckNhbnZhcyA9IHRoaXMucmVuZGVyQ2FudmFzO1xuXG4gICAgICAgICAgICAgICAgZGF0YS5vcmlnaW5hbFVwZGF0ZVRyYW5zZm9ybSA9IHRoaXMudXBkYXRlVHJhbnNmb3JtO1xuICAgICAgICAgICAgICAgIGRhdGEub3JpZ2luYWxDYWxjdWxhdGVCb3VuZHMgPSB0aGlzLmNhbGN1bGF0ZUJvdW5kcztcbiAgICAgICAgICAgICAgICBkYXRhLm9yaWdpbmFsR2V0TG9jYWxCb3VuZHMgPSB0aGlzLmdldExvY2FsQm91bmRzO1xuXG4gICAgICAgICAgICAgICAgZGF0YS5vcmlnaW5hbERlc3Ryb3kgPSB0aGlzLmRlc3Ryb3k7XG5cbiAgICAgICAgICAgICAgICBkYXRhLm9yaWdpbmFsQ29udGFpbnNQb2ludCA9IHRoaXMuY29udGFpbnNQb2ludDtcblxuICAgICAgICAgICAgICAgIGRhdGEub3JpZ2luYWxNYXNrID0gdGhpcy5fbWFzaztcbiAgICAgICAgICAgICAgICBkYXRhLm9yaWdpbmFsRmlsdGVyQXJlYSA9IHRoaXMuZmlsdGVyQXJlYTtcblxuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyID0gdGhpcy5fcmVuZGVyQ2FjaGVkO1xuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyQ2FudmFzID0gdGhpcy5fcmVuZGVyQ2FjaGVkQ2FudmFzO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5kZXN0cm95ID0gdGhpcy5fY2FjaGVBc0JpdG1hcERlc3Ryb3k7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGF0YSA9IHRoaXMuX2NhY2hlRGF0YTtcblxuICAgICAgICAgICAgICAgIGlmIChkYXRhLnNwcml0ZSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2Rlc3Ryb3lDYWNoZWREaXNwbGF5T2JqZWN0KCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXIgPSBkYXRhLm9yaWdpbmFsUmVuZGVyO1xuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyQ2FudmFzID0gZGF0YS5vcmlnaW5hbFJlbmRlckNhbnZhcztcbiAgICAgICAgICAgICAgICB0aGlzLmNhbGN1bGF0ZUJvdW5kcyA9IGRhdGEub3JpZ2luYWxDYWxjdWxhdGVCb3VuZHM7XG4gICAgICAgICAgICAgICAgdGhpcy5nZXRMb2NhbEJvdW5kcyA9IGRhdGEub3JpZ2luYWxHZXRMb2NhbEJvdW5kcztcblxuICAgICAgICAgICAgICAgIHRoaXMuZGVzdHJveSA9IGRhdGEub3JpZ2luYWxEZXN0cm95O1xuXG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVUcmFuc2Zvcm0gPSBkYXRhLm9yaWdpbmFsVXBkYXRlVHJhbnNmb3JtO1xuICAgICAgICAgICAgICAgIHRoaXMuY29udGFpbnNQb2ludCA9IGRhdGEub3JpZ2luYWxDb250YWluc1BvaW50O1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fbWFzayA9IGRhdGEub3JpZ2luYWxNYXNrO1xuICAgICAgICAgICAgICAgIHRoaXMuZmlsdGVyQXJlYSA9IGRhdGEub3JpZ2luYWxGaWx0ZXJBcmVhO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgIH0sXG59KTtcblxuLyoqXG4gKiBSZW5kZXJzIGEgY2FjaGVkIHZlcnNpb24gb2YgdGhlIHNwcml0ZSB3aXRoIFdlYkdMXG4gKlxuICogQHByaXZhdGVcbiAqIEBmdW5jdGlvbiBfcmVuZGVyQ2FjaGVkXG4gKiBAbWVtYmVyb2YgUElYSS5EaXNwbGF5T2JqZWN0I1xuICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIHRoZSBXZWJHTCByZW5kZXJlclxuICovXG5EaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5fcmVuZGVyQ2FjaGVkID0gZnVuY3Rpb24gX3JlbmRlckNhY2hlZChyZW5kZXJlcilcbntcbiAgICBpZiAoIXRoaXMudmlzaWJsZSB8fCB0aGlzLndvcmxkQWxwaGEgPD0gMCB8fCAhdGhpcy5yZW5kZXJhYmxlKVxuICAgIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuX2luaXRDYWNoZWREaXNwbGF5T2JqZWN0KHJlbmRlcmVyKTtcblxuICAgIHRoaXMuX2NhY2hlRGF0YS5zcHJpdGUudHJhbnNmb3JtLl93b3JsZElEID0gdGhpcy50cmFuc2Zvcm0uX3dvcmxkSUQ7XG4gICAgdGhpcy5fY2FjaGVEYXRhLnNwcml0ZS53b3JsZEFscGhhID0gdGhpcy53b3JsZEFscGhhO1xuICAgIHRoaXMuX2NhY2hlRGF0YS5zcHJpdGUuX3JlbmRlcihyZW5kZXJlcik7XG59O1xuXG4vKipcbiAqIFByZXBhcmVzIHRoZSBXZWJHTCByZW5kZXJlciB0byBjYWNoZSB0aGUgc3ByaXRlXG4gKlxuICogQHByaXZhdGVcbiAqIEBmdW5jdGlvbiBfaW5pdENhY2hlZERpc3BsYXlPYmplY3RcbiAqIEBtZW1iZXJvZiBQSVhJLkRpc3BsYXlPYmplY3QjXG4gKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gdGhlIFdlYkdMIHJlbmRlcmVyXG4gKi9cbkRpc3BsYXlPYmplY3QucHJvdG90eXBlLl9pbml0Q2FjaGVkRGlzcGxheU9iamVjdCA9IGZ1bmN0aW9uIF9pbml0Q2FjaGVkRGlzcGxheU9iamVjdChyZW5kZXJlcilcbntcbiAgICBpZiAodGhpcy5fY2FjaGVEYXRhICYmIHRoaXMuX2NhY2hlRGF0YS5zcHJpdGUpXG4gICAge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gbWFrZSBzdXJlIGFscGhhIGlzIHNldCB0byAxIG90aGVyd2lzZSBpdCB3aWxsIGdldCByZW5kZXJlZCBhcyBpbnZpc2libGUhXG4gICAgdmFyIGNhY2hlQWxwaGEgPSB0aGlzLmFscGhhO1xuXG4gICAgdGhpcy5hbHBoYSA9IDE7XG5cbiAgICAvLyBmaXJzdCB3ZSBmbHVzaCBhbnl0aGluZyBsZWZ0IGluIHRoZSByZW5kZXJlciAob3RoZXJ3aXNlIGl0IHdvdWxkIGdldCByZW5kZXJlZCB0byB0aGUgY2FjaGVkIHRleHR1cmUpXG4gICAgcmVuZGVyZXIuYmF0Y2guZmx1c2goKTtcbiAgICAvLyB0aGlzLmZpbHRlcnM9IFtdO1xuXG4gICAgLy8gbmV4dCB3ZSBmaW5kIHRoZSBkaW1lbnNpb25zIG9mIHRoZSB1bnRyYW5zZm9ybWVkIG9iamVjdFxuICAgIC8vIHRoaXMgZnVuY3Rpb24gYWxzbyBjYWxscyB1cGRhdGV0cmFuc2Zvcm0gb24gYWxsIGl0cyBjaGlsZHJlbiBhcyBwYXJ0IG9mIHRoZSBtZWFzdXJpbmcuXG4gICAgLy8gVGhpcyBtZWFucyB3ZSBkb24ndCBuZWVkIHRvIHVwZGF0ZSB0aGUgdHJhbnNmb3JtIGFnYWluIGluIHRoaXMgZnVuY3Rpb25cbiAgICAvLyBUT0RPIHBhc3MgYW4gb2JqZWN0IHRvIGNsb25lIHRvbz8gc2F2ZXMgaGF2aW5nIHRvIGNyZWF0ZSBhIG5ldyBvbmUgZWFjaCB0aW1lIVxuICAgIHZhciBib3VuZHMgPSB0aGlzLmdldExvY2FsQm91bmRzKCkuY2xvbmUoKTtcblxuICAgIC8vIGFkZCBzb21lIHBhZGRpbmchXG4gICAgaWYgKHRoaXMuZmlsdGVycylcbiAgICB7XG4gICAgICAgIHZhciBwYWRkaW5nID0gdGhpcy5maWx0ZXJzWzBdLnBhZGRpbmc7XG5cbiAgICAgICAgYm91bmRzLnBhZChwYWRkaW5nKTtcbiAgICB9XG5cbiAgICBib3VuZHMuY2VpbChzZXR0aW5ncy5SRVNPTFVUSU9OKTtcblxuICAgIC8vIGZvciBub3cgd2UgY2FjaGUgdGhlIGN1cnJlbnQgcmVuZGVyVGFyZ2V0IHRoYXQgdGhlIFdlYkdMIHJlbmRlcmVyIGlzIGN1cnJlbnRseSB1c2luZy5cbiAgICAvLyB0aGlzIGNvdWxkIGJlIG1vcmUgZWxlZ2FudC4uXG4gICAgdmFyIGNhY2hlZFJlbmRlclRleHR1cmUgPSByZW5kZXJlci5yZW5kZXJUZXh0dXJlLmN1cnJlbnQ7XG4gICAgdmFyIGNhY2hlZFNvdXJjZUZyYW1lID0gcmVuZGVyZXIucmVuZGVyVGV4dHVyZS5zb3VyY2VGcmFtZTtcbiAgICB2YXIgY2FjaGVkUHJvamVjdGlvblRyYW5zZm9ybSA9IHJlbmRlcmVyLnByb2plY3Rpb24udHJhbnNmb3JtO1xuXG4gICAgLy8gV2UgYWxzbyBzdG9yZSB0aGUgZmlsdGVyIHN0YWNrIC0gSSB3aWxsIGRlZmluaXRlbHkgbG9vayB0byBjaGFuZ2UgaG93IHRoaXMgd29ya3MgYSBsaXR0bGUgbGF0ZXIgZG93biB0aGUgbGluZS5cbiAgICAvLyBjb25zdCBzdGFjayA9IHJlbmRlcmVyLmZpbHRlck1hbmFnZXIuZmlsdGVyU3RhY2s7XG5cbiAgICAvLyB0aGlzIHJlbmRlclRleHR1cmUgd2lsbCBiZSB1c2VkIHRvIHN0b3JlIHRoZSBjYWNoZWQgRGlzcGxheU9iamVjdFxuICAgIHZhciByZW5kZXJUZXh0dXJlID0gUmVuZGVyVGV4dHVyZS5jcmVhdGUoYm91bmRzLndpZHRoLCBib3VuZHMuaGVpZ2h0KTtcblxuICAgIHZhciB0ZXh0dXJlQ2FjaGVJZCA9IFwiY2FjaGVBc0JpdG1hcF9cIiArICh1aWQoKSk7XG5cbiAgICB0aGlzLl9jYWNoZURhdGEudGV4dHVyZUNhY2hlSWQgPSB0ZXh0dXJlQ2FjaGVJZDtcblxuICAgIEJhc2VUZXh0dXJlLmFkZFRvQ2FjaGUocmVuZGVyVGV4dHVyZS5iYXNlVGV4dHVyZSwgdGV4dHVyZUNhY2hlSWQpO1xuICAgIFRleHR1cmUuYWRkVG9DYWNoZShyZW5kZXJUZXh0dXJlLCB0ZXh0dXJlQ2FjaGVJZCk7XG5cbiAgICAvLyBuZWVkIHRvIHNldCAvL1xuICAgIHZhciBtID0gX3RlbXBNYXRyaXg7XG5cbiAgICBtLnR4ID0gLWJvdW5kcy54O1xuICAgIG0udHkgPSAtYm91bmRzLnk7XG5cbiAgICAvLyByZXNldFxuICAgIHRoaXMudHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtLmlkZW50aXR5KCk7XG5cbiAgICAvLyBzZXQgYWxsIHByb3BlcnRpZXMgdG8gdGhlcmUgb3JpZ2luYWwgc28gd2UgY2FuIHJlbmRlciB0byBhIHRleHR1cmVcbiAgICB0aGlzLnJlbmRlciA9IHRoaXMuX2NhY2hlRGF0YS5vcmlnaW5hbFJlbmRlcjtcblxuICAgIHJlbmRlcmVyLnJlbmRlcih0aGlzLCByZW5kZXJUZXh0dXJlLCB0cnVlLCBtLCB0cnVlKTtcblxuICAgIC8vIG5vdyByZXN0b3JlIHRoZSBzdGF0ZSBiZSBzZXR0aW5nIHRoZSBuZXcgcHJvcGVydGllc1xuICAgIHJlbmRlcmVyLnByb2plY3Rpb24udHJhbnNmb3JtID0gY2FjaGVkUHJvamVjdGlvblRyYW5zZm9ybTtcbiAgICByZW5kZXJlci5yZW5kZXJUZXh0dXJlLmJpbmQoY2FjaGVkUmVuZGVyVGV4dHVyZSwgY2FjaGVkU291cmNlRnJhbWUpO1xuXG4gICAgLy8gcmVuZGVyZXIuZmlsdGVyTWFuYWdlci5maWx0ZXJTdGFjayA9IHN0YWNrO1xuXG4gICAgdGhpcy5yZW5kZXIgPSB0aGlzLl9yZW5kZXJDYWNoZWQ7XG4gICAgLy8gdGhlIHJlc3QgaXMgdGhlIHNhbWUgYXMgZm9yIENhbnZhc1xuICAgIHRoaXMudXBkYXRlVHJhbnNmb3JtID0gdGhpcy5kaXNwbGF5T2JqZWN0VXBkYXRlVHJhbnNmb3JtO1xuICAgIHRoaXMuY2FsY3VsYXRlQm91bmRzID0gdGhpcy5fY2FsY3VsYXRlQ2FjaGVkQm91bmRzO1xuICAgIHRoaXMuZ2V0TG9jYWxCb3VuZHMgPSB0aGlzLl9nZXRDYWNoZWRMb2NhbEJvdW5kcztcblxuICAgIHRoaXMuX21hc2sgPSBudWxsO1xuICAgIHRoaXMuZmlsdGVyQXJlYSA9IG51bGw7XG5cbiAgICAvLyBjcmVhdGUgb3VyIGNhY2hlZCBzcHJpdGVcbiAgICB2YXIgY2FjaGVkU3ByaXRlID0gbmV3IFNwcml0ZShyZW5kZXJUZXh0dXJlKTtcblxuICAgIGNhY2hlZFNwcml0ZS50cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm0gPSB0aGlzLnRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybTtcbiAgICBjYWNoZWRTcHJpdGUuYW5jaG9yLnggPSAtKGJvdW5kcy54IC8gYm91bmRzLndpZHRoKTtcbiAgICBjYWNoZWRTcHJpdGUuYW5jaG9yLnkgPSAtKGJvdW5kcy55IC8gYm91bmRzLmhlaWdodCk7XG4gICAgY2FjaGVkU3ByaXRlLmFscGhhID0gY2FjaGVBbHBoYTtcbiAgICBjYWNoZWRTcHJpdGUuX2JvdW5kcyA9IHRoaXMuX2JvdW5kcztcblxuICAgIHRoaXMuX2NhY2hlRGF0YS5zcHJpdGUgPSBjYWNoZWRTcHJpdGU7XG5cbiAgICB0aGlzLnRyYW5zZm9ybS5fcGFyZW50SUQgPSAtMTtcbiAgICAvLyByZXN0b3JlIHRoZSB0cmFuc2Zvcm0gb2YgdGhlIGNhY2hlZCBzcHJpdGUgdG8gYXZvaWQgdGhlIG5hc3R5IGZsaWNrZXIuLlxuICAgIGlmICghdGhpcy5wYXJlbnQpXG4gICAge1xuICAgICAgICB0aGlzLnBhcmVudCA9IHJlbmRlcmVyLl90ZW1wRGlzcGxheU9iamVjdFBhcmVudDtcbiAgICAgICAgdGhpcy51cGRhdGVUcmFuc2Zvcm0oKTtcbiAgICAgICAgdGhpcy5wYXJlbnQgPSBudWxsO1xuICAgIH1cbiAgICBlbHNlXG4gICAge1xuICAgICAgICB0aGlzLnVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgIH1cblxuICAgIC8vIG1hcCB0aGUgaGl0IHRlc3QuLlxuICAgIHRoaXMuY29udGFpbnNQb2ludCA9IGNhY2hlZFNwcml0ZS5jb250YWluc1BvaW50LmJpbmQoY2FjaGVkU3ByaXRlKTtcbn07XG5cbi8qKlxuICogUmVuZGVycyBhIGNhY2hlZCB2ZXJzaW9uIG9mIHRoZSBzcHJpdGUgd2l0aCBjYW52YXNcbiAqXG4gKiBAcHJpdmF0ZVxuICogQGZ1bmN0aW9uIF9yZW5kZXJDYWNoZWRDYW52YXNcbiAqIEBtZW1iZXJvZiBQSVhJLkRpc3BsYXlPYmplY3QjXG4gKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gdGhlIFdlYkdMIHJlbmRlcmVyXG4gKi9cbkRpc3BsYXlPYmplY3QucHJvdG90eXBlLl9yZW5kZXJDYWNoZWRDYW52YXMgPSBmdW5jdGlvbiBfcmVuZGVyQ2FjaGVkQ2FudmFzKHJlbmRlcmVyKVxue1xuICAgIGlmICghdGhpcy52aXNpYmxlIHx8IHRoaXMud29ybGRBbHBoYSA8PSAwIHx8ICF0aGlzLnJlbmRlcmFibGUpXG4gICAge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5faW5pdENhY2hlZERpc3BsYXlPYmplY3RDYW52YXMocmVuZGVyZXIpO1xuXG4gICAgdGhpcy5fY2FjaGVEYXRhLnNwcml0ZS53b3JsZEFscGhhID0gdGhpcy53b3JsZEFscGhhO1xuICAgIHRoaXMuX2NhY2hlRGF0YS5zcHJpdGUuX3JlbmRlckNhbnZhcyhyZW5kZXJlcik7XG59O1xuXG4vLyBUT0RPIHRoaXMgY2FuIGJlIHRoZSBzYW1lIGFzIHRoZSBXZWJHTCB2ZXJzaW9uLi4gd2lsbCBuZWVkIHRvIGRvIGEgbGl0dGxlIHR3ZWFraW5nIGZpcnN0IHRob3VnaC4uXG4vKipcbiAqIFByZXBhcmVzIHRoZSBDYW52YXMgcmVuZGVyZXIgdG8gY2FjaGUgdGhlIHNwcml0ZVxuICpcbiAqIEBwcml2YXRlXG4gKiBAZnVuY3Rpb24gX2luaXRDYWNoZWREaXNwbGF5T2JqZWN0Q2FudmFzXG4gKiBAbWVtYmVyb2YgUElYSS5EaXNwbGF5T2JqZWN0I1xuICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIHRoZSBXZWJHTCByZW5kZXJlclxuICovXG5EaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5faW5pdENhY2hlZERpc3BsYXlPYmplY3RDYW52YXMgPSBmdW5jdGlvbiBfaW5pdENhY2hlZERpc3BsYXlPYmplY3RDYW52YXMocmVuZGVyZXIpXG57XG4gICAgaWYgKHRoaXMuX2NhY2hlRGF0YSAmJiB0aGlzLl9jYWNoZURhdGEuc3ByaXRlKVxuICAgIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIGdldCBib3VuZHMgYWN0dWFsbHkgdHJhbnNmb3JtcyB0aGUgb2JqZWN0IGZvciB1cyBhbHJlYWR5IVxuICAgIHZhciBib3VuZHMgPSB0aGlzLmdldExvY2FsQm91bmRzKCk7XG5cbiAgICB2YXIgY2FjaGVBbHBoYSA9IHRoaXMuYWxwaGE7XG5cbiAgICB0aGlzLmFscGhhID0gMTtcblxuICAgIHZhciBjYWNoZWRSZW5kZXJUYXJnZXQgPSByZW5kZXJlci5jb250ZXh0O1xuXG4gICAgYm91bmRzLmNlaWwoc2V0dGluZ3MuUkVTT0xVVElPTik7XG5cbiAgICB2YXIgcmVuZGVyVGV4dHVyZSA9IFJlbmRlclRleHR1cmUuY3JlYXRlKGJvdW5kcy53aWR0aCwgYm91bmRzLmhlaWdodCk7XG5cbiAgICB2YXIgdGV4dHVyZUNhY2hlSWQgPSBcImNhY2hlQXNCaXRtYXBfXCIgKyAodWlkKCkpO1xuXG4gICAgdGhpcy5fY2FjaGVEYXRhLnRleHR1cmVDYWNoZUlkID0gdGV4dHVyZUNhY2hlSWQ7XG5cbiAgICBCYXNlVGV4dHVyZS5hZGRUb0NhY2hlKHJlbmRlclRleHR1cmUuYmFzZVRleHR1cmUsIHRleHR1cmVDYWNoZUlkKTtcbiAgICBUZXh0dXJlLmFkZFRvQ2FjaGUocmVuZGVyVGV4dHVyZSwgdGV4dHVyZUNhY2hlSWQpO1xuXG4gICAgLy8gbmVlZCB0byBzZXQgLy9cbiAgICB2YXIgbSA9IF90ZW1wTWF0cml4O1xuXG4gICAgdGhpcy50cmFuc2Zvcm0ubG9jYWxUcmFuc2Zvcm0uY29weVRvKG0pO1xuICAgIG0uaW52ZXJ0KCk7XG5cbiAgICBtLnR4IC09IGJvdW5kcy54O1xuICAgIG0udHkgLT0gYm91bmRzLnk7XG5cbiAgICAvLyBtLmFwcGVuZCh0aGlzLnRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybS4pXG4gICAgLy8gc2V0IGFsbCBwcm9wZXJ0aWVzIHRvIHRoZXJlIG9yaWdpbmFsIHNvIHdlIGNhbiByZW5kZXIgdG8gYSB0ZXh0dXJlXG4gICAgdGhpcy5yZW5kZXJDYW52YXMgPSB0aGlzLl9jYWNoZURhdGEub3JpZ2luYWxSZW5kZXJDYW52YXM7XG5cbiAgICAvLyByZW5kZXJUZXh0dXJlLnJlbmRlcih0aGlzLCBtLCB0cnVlKTtcbiAgICByZW5kZXJlci5yZW5kZXIodGhpcywgcmVuZGVyVGV4dHVyZSwgdHJ1ZSwgbSwgZmFsc2UpO1xuXG4gICAgLy8gbm93IHJlc3RvcmUgdGhlIHN0YXRlIGJlIHNldHRpbmcgdGhlIG5ldyBwcm9wZXJ0aWVzXG4gICAgcmVuZGVyZXIuY29udGV4dCA9IGNhY2hlZFJlbmRlclRhcmdldDtcblxuICAgIHRoaXMucmVuZGVyQ2FudmFzID0gdGhpcy5fcmVuZGVyQ2FjaGVkQ2FudmFzO1xuICAgIC8vIHRoZSByZXN0IGlzIHRoZSBzYW1lIGFzIGZvciBXZWJHTFxuICAgIHRoaXMudXBkYXRlVHJhbnNmb3JtID0gdGhpcy5kaXNwbGF5T2JqZWN0VXBkYXRlVHJhbnNmb3JtO1xuICAgIHRoaXMuY2FsY3VsYXRlQm91bmRzID0gdGhpcy5fY2FsY3VsYXRlQ2FjaGVkQm91bmRzO1xuICAgIHRoaXMuZ2V0TG9jYWxCb3VuZHMgPSB0aGlzLl9nZXRDYWNoZWRMb2NhbEJvdW5kcztcblxuICAgIHRoaXMuX21hc2sgPSBudWxsO1xuICAgIHRoaXMuZmlsdGVyQXJlYSA9IG51bGw7XG5cbiAgICAvLyBjcmVhdGUgb3VyIGNhY2hlZCBzcHJpdGVcbiAgICB2YXIgY2FjaGVkU3ByaXRlID0gbmV3IFNwcml0ZShyZW5kZXJUZXh0dXJlKTtcblxuICAgIGNhY2hlZFNwcml0ZS50cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm0gPSB0aGlzLnRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybTtcbiAgICBjYWNoZWRTcHJpdGUuYW5jaG9yLnggPSAtKGJvdW5kcy54IC8gYm91bmRzLndpZHRoKTtcbiAgICBjYWNoZWRTcHJpdGUuYW5jaG9yLnkgPSAtKGJvdW5kcy55IC8gYm91bmRzLmhlaWdodCk7XG4gICAgY2FjaGVkU3ByaXRlLmFscGhhID0gY2FjaGVBbHBoYTtcbiAgICBjYWNoZWRTcHJpdGUuX2JvdW5kcyA9IHRoaXMuX2JvdW5kcztcblxuICAgIHRoaXMuX2NhY2hlRGF0YS5zcHJpdGUgPSBjYWNoZWRTcHJpdGU7XG5cbiAgICB0aGlzLnRyYW5zZm9ybS5fcGFyZW50SUQgPSAtMTtcbiAgICAvLyByZXN0b3JlIHRoZSB0cmFuc2Zvcm0gb2YgdGhlIGNhY2hlZCBzcHJpdGUgdG8gYXZvaWQgdGhlIG5hc3R5IGZsaWNrZXIuLlxuICAgIGlmICghdGhpcy5wYXJlbnQpXG4gICAge1xuICAgICAgICB0aGlzLnBhcmVudCA9IHJlbmRlcmVyLl90ZW1wRGlzcGxheU9iamVjdFBhcmVudDtcbiAgICAgICAgdGhpcy51cGRhdGVUcmFuc2Zvcm0oKTtcbiAgICAgICAgdGhpcy5wYXJlbnQgPSBudWxsO1xuICAgIH1cbiAgICBlbHNlXG4gICAge1xuICAgICAgICB0aGlzLnVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgIH1cblxuICAgIC8vIG1hcCB0aGUgaGl0IHRlc3QuLlxuICAgIHRoaXMuY29udGFpbnNQb2ludCA9IGNhY2hlZFNwcml0ZS5jb250YWluc1BvaW50LmJpbmQoY2FjaGVkU3ByaXRlKTtcbn07XG5cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgYm91bmRzIG9mIHRoZSBjYWNoZWQgc3ByaXRlXG4gKlxuICogQHByaXZhdGVcbiAqL1xuRGlzcGxheU9iamVjdC5wcm90b3R5cGUuX2NhbGN1bGF0ZUNhY2hlZEJvdW5kcyA9IGZ1bmN0aW9uIF9jYWxjdWxhdGVDYWNoZWRCb3VuZHMoKVxue1xuICAgIHRoaXMuX2JvdW5kcy5jbGVhcigpO1xuICAgIHRoaXMuX2NhY2hlRGF0YS5zcHJpdGUudHJhbnNmb3JtLl93b3JsZElEID0gdGhpcy50cmFuc2Zvcm0uX3dvcmxkSUQ7XG4gICAgdGhpcy5fY2FjaGVEYXRhLnNwcml0ZS5fY2FsY3VsYXRlQm91bmRzKCk7XG4gICAgdGhpcy5fbGFzdEJvdW5kc0lEID0gdGhpcy5fYm91bmRzSUQ7XG59O1xuXG4vKipcbiAqIEdldHMgdGhlIGJvdW5kcyBvZiB0aGUgY2FjaGVkIHNwcml0ZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHJldHVybiB7UmVjdGFuZ2xlfSBUaGUgbG9jYWwgYm91bmRzLlxuICovXG5EaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5fZ2V0Q2FjaGVkTG9jYWxCb3VuZHMgPSBmdW5jdGlvbiBfZ2V0Q2FjaGVkTG9jYWxCb3VuZHMoKVxue1xuICAgIHJldHVybiB0aGlzLl9jYWNoZURhdGEuc3ByaXRlLmdldExvY2FsQm91bmRzKCk7XG59O1xuXG4vKipcbiAqIERlc3Ryb3lzIHRoZSBjYWNoZWQgc3ByaXRlLlxuICpcbiAqIEBwcml2YXRlXG4gKi9cbkRpc3BsYXlPYmplY3QucHJvdG90eXBlLl9kZXN0cm95Q2FjaGVkRGlzcGxheU9iamVjdCA9IGZ1bmN0aW9uIF9kZXN0cm95Q2FjaGVkRGlzcGxheU9iamVjdCgpXG57XG4gICAgdGhpcy5fY2FjaGVEYXRhLnNwcml0ZS5fdGV4dHVyZS5kZXN0cm95KHRydWUpO1xuICAgIHRoaXMuX2NhY2hlRGF0YS5zcHJpdGUgPSBudWxsO1xuXG4gICAgQmFzZVRleHR1cmUucmVtb3ZlRnJvbUNhY2hlKHRoaXMuX2NhY2hlRGF0YS50ZXh0dXJlQ2FjaGVJZCk7XG4gICAgVGV4dHVyZS5yZW1vdmVGcm9tQ2FjaGUodGhpcy5fY2FjaGVEYXRhLnRleHR1cmVDYWNoZUlkKTtcblxuICAgIHRoaXMuX2NhY2hlRGF0YS50ZXh0dXJlQ2FjaGVJZCA9IG51bGw7XG59O1xuXG4vKipcbiAqIERlc3Ryb3lzIHRoZSBjYWNoZWQgb2JqZWN0LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge29iamVjdHxib29sZWFufSBbb3B0aW9uc10gLSBPcHRpb25zIHBhcmFtZXRlci4gQSBib29sZWFuIHdpbGwgYWN0IGFzIGlmIGFsbCBvcHRpb25zXG4gKiAgaGF2ZSBiZWVuIHNldCB0byB0aGF0IHZhbHVlLlxuICogIFVzZWQgd2hlbiBkZXN0cm95aW5nIGNvbnRhaW5lcnMsIHNlZSB0aGUgQ29udGFpbmVyLmRlc3Ryb3kgbWV0aG9kLlxuICovXG5EaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5fY2FjaGVBc0JpdG1hcERlc3Ryb3kgPSBmdW5jdGlvbiBfY2FjaGVBc0JpdG1hcERlc3Ryb3kob3B0aW9ucylcbntcbiAgICB0aGlzLmNhY2hlQXNCaXRtYXAgPSBmYWxzZTtcbiAgICB0aGlzLmRlc3Ryb3kob3B0aW9ucyk7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWl4aW4tY2FjaGUtYXMtYml0bWFwLmVzLmpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS9taXhpbi1nZXQtY2hpbGQtYnktbmFtZSAtIHY1LjIuMFxuICogQ29tcGlsZWQgV2VkLCAwNiBOb3YgMjAxOSAwMjozMjo0MyBVVENcbiAqXG4gKiBAcGl4aS9taXhpbi1nZXQtY2hpbGQtYnktbmFtZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbmltcG9ydCB7IERpc3BsYXlPYmplY3QsIENvbnRhaW5lciB9IGZyb20gJ0BwaXhpL2Rpc3BsYXknO1xuXG4vKipcbiAqIFRoZSBpbnN0YW5jZSBuYW1lIG9mIHRoZSBvYmplY3QuXG4gKlxuICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAqIEBtZW1iZXIge3N0cmluZ30gbmFtZVxuICovXG5EaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5uYW1lID0gbnVsbDtcblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBkaXNwbGF5IG9iamVjdCBpbiB0aGUgY29udGFpbmVyLlxuICpcbiAqIEBtZXRob2QgZ2V0Q2hpbGRCeU5hbWVcbiAqIEBtZW1iZXJvZiBQSVhJLkNvbnRhaW5lciNcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIC0gSW5zdGFuY2UgbmFtZS5cbiAqIEByZXR1cm4ge1BJWEkuRGlzcGxheU9iamVjdH0gVGhlIGNoaWxkIHdpdGggdGhlIHNwZWNpZmllZCBuYW1lLlxuICovXG5Db250YWluZXIucHJvdG90eXBlLmdldENoaWxkQnlOYW1lID0gZnVuY3Rpb24gZ2V0Q2hpbGRCeU5hbWUobmFtZSlcbntcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBpKyspXG4gICAge1xuICAgICAgICBpZiAodGhpcy5jaGlsZHJlbltpXS5uYW1lID09PSBuYW1lKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jaGlsZHJlbltpXTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1peGluLWdldC1jaGlsZC1ieS1uYW1lLmVzLmpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS9taXhpbi1nZXQtZ2xvYmFsLXBvc2l0aW9uIC0gdjUuMi4wXG4gKiBDb21waWxlZCBXZWQsIDA2IE5vdiAyMDE5IDAyOjMyOjQzIFVUQ1xuICpcbiAqIEBwaXhpL21peGluLWdldC1nbG9iYWwtcG9zaXRpb24gaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5pbXBvcnQgeyBEaXNwbGF5T2JqZWN0IH0gZnJvbSAnQHBpeGkvZGlzcGxheSc7XG5pbXBvcnQgeyBQb2ludCB9IGZyb20gJ0BwaXhpL21hdGgnO1xuXG4vKipcbiAqIFJldHVybnMgdGhlIGdsb2JhbCBwb3NpdGlvbiBvZiB0aGUgZGlzcGxheU9iamVjdC4gRG9lcyBub3QgZGVwZW5kIG9uIG9iamVjdCBzY2FsZSwgcm90YXRpb24gYW5kIHBpdm90LlxuICpcbiAqIEBtZXRob2QgZ2V0R2xvYmFsUG9zaXRpb25cbiAqIEBtZW1iZXJvZiBQSVhJLkRpc3BsYXlPYmplY3QjXG4gKiBAcGFyYW0ge1BJWEkuUG9pbnR9IFtwb2ludD1uZXcgUElYSS5Qb2ludCgpXSAtIFRoZSBwb2ludCB0byB3cml0ZSB0aGUgZ2xvYmFsIHZhbHVlIHRvLlxuICogQHBhcmFtIHtib29sZWFufSBbc2tpcFVwZGF0ZT1mYWxzZV0gLSBTZXR0aW5nIHRvIHRydWUgd2lsbCBzdG9wIHRoZSB0cmFuc2Zvcm1zIG9mIHRoZSBzY2VuZSBncmFwaCBmcm9tXG4gKiAgYmVpbmcgdXBkYXRlZC4gVGhpcyBtZWFucyB0aGUgY2FsY3VsYXRpb24gcmV0dXJuZWQgTUFZIGJlIG91dCBvZiBkYXRlIEJVVCB3aWxsIGdpdmUgeW91IGFcbiAqICBuaWNlIHBlcmZvcm1hbmNlIGJvb3N0LlxuICogQHJldHVybiB7UElYSS5Qb2ludH0gVGhlIHVwZGF0ZWQgcG9pbnQuXG4gKi9cbkRpc3BsYXlPYmplY3QucHJvdG90eXBlLmdldEdsb2JhbFBvc2l0aW9uID0gZnVuY3Rpb24gZ2V0R2xvYmFsUG9zaXRpb24ocG9pbnQsIHNraXBVcGRhdGUpXG57XG4gICAgaWYgKCBwb2ludCA9PT0gdm9pZCAwICkgcG9pbnQgPSBuZXcgUG9pbnQoKTtcbiAgICBpZiAoIHNraXBVcGRhdGUgPT09IHZvaWQgMCApIHNraXBVcGRhdGUgPSBmYWxzZTtcblxuICAgIGlmICh0aGlzLnBhcmVudClcbiAgICB7XG4gICAgICAgIHRoaXMucGFyZW50LnRvR2xvYmFsKHRoaXMucG9zaXRpb24sIHBvaW50LCBza2lwVXBkYXRlKTtcbiAgICB9XG4gICAgZWxzZVxuICAgIHtcbiAgICAgICAgcG9pbnQueCA9IHRoaXMucG9zaXRpb24ueDtcbiAgICAgICAgcG9pbnQueSA9IHRoaXMucG9zaXRpb24ueTtcbiAgICB9XG5cbiAgICByZXR1cm4gcG9pbnQ7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWl4aW4tZ2V0LWdsb2JhbC1wb3NpdGlvbi5lcy5qcy5tYXBcbiIsIi8qIVxuICogQHBpeGkvbWVzaCAtIHY1LjIuMFxuICogQ29tcGlsZWQgV2VkLCAwNiBOb3YgMjAxOSAwMjozMjo0MyBVVENcbiAqXG4gKiBAcGl4aS9tZXNoIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgU3RhdGUsIFNoYWRlciwgUHJvZ3JhbSwgVGV4dHVyZU1hdHJpeCwgR2VvbWV0cnksIEJ1ZmZlciB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuaW1wb3J0IHsgUG9pbnQsIFBvbHlnb24sIE1hdHJpeCB9IGZyb20gJ0BwaXhpL21hdGgnO1xuaW1wb3J0IHsgRFJBV19NT0RFUywgQkxFTkRfTU9ERVMsIFRZUEVTIH0gZnJvbSAnQHBpeGkvY29uc3RhbnRzJztcbmltcG9ydCB7IENvbnRhaW5lciB9IGZyb20gJ0BwaXhpL2Rpc3BsYXknO1xuaW1wb3J0IHsgc2V0dGluZ3MgfSBmcm9tICdAcGl4aS9zZXR0aW5ncyc7XG5pbXBvcnQgeyBwcmVtdWx0aXBseVRpbnRUb1JnYmEgfSBmcm9tICdAcGl4aS91dGlscyc7XG5cbi8qKlxuICogQ2xhc3MgY29udHJvbHMgY2FjaGUgZm9yIFVWIG1hcHBpbmcgZnJvbSBUZXh0dXJlIG5vcm1hbCBzcGFjZSB0byBCYXNlVGV4dHVyZSBub3JtYWwgc3BhY2UuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgTWVzaEJhdGNoVXZzID0gZnVuY3Rpb24gTWVzaEJhdGNoVXZzKHV2QnVmZmVyLCB1dk1hdHJpeClcbntcbiAgICAvKipcbiAgICAgKiBCdWZmZXIgd2l0aCBub3JtYWxpemVkIFVWJ3NcbiAgICAgKiBAbWVtYmVyIHtQSVhJLkJ1ZmZlcn1cbiAgICAgKi9cbiAgICB0aGlzLnV2QnVmZmVyID0gdXZCdWZmZXI7XG5cbiAgICAvKipcbiAgICAgKiBNYXRlcmlhbCBVViBtYXRyaXhcbiAgICAgKiBAbWVtYmVyIHtQSVhJLlRleHR1cmVNYXRyaXh9XG4gICAgICovXG4gICAgdGhpcy51dk1hdHJpeCA9IHV2TWF0cml4O1xuXG4gICAgLyoqXG4gICAgICogVVYgQnVmZmVyIGRhdGFcbiAgICAgKiBAbWVtYmVyIHtGbG9hdDMyQXJyYXl9XG4gICAgICogQHJlYWRvbmx5XG4gICAgICovXG4gICAgdGhpcy5kYXRhID0gbnVsbDtcblxuICAgIHRoaXMuX2J1ZmZlclVwZGF0ZUlkID0gLTE7XG5cbiAgICB0aGlzLl90ZXh0dXJlVXBkYXRlSWQgPSAtMTtcblxuICAgIHRoaXMuX3VwZGF0ZUlEID0gMDtcbn07XG5cbi8qKlxuICogdXBkYXRlc1xuICpcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gZm9yY2VVcGRhdGUgLSBmb3JjZSB0aGUgdXBkYXRlXG4gKi9cbk1lc2hCYXRjaFV2cy5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gdXBkYXRlIChmb3JjZVVwZGF0ZSlcbntcbiAgICBpZiAoIWZvcmNlVXBkYXRlXG4gICAgICAgICYmIHRoaXMuX2J1ZmZlclVwZGF0ZUlkID09PSB0aGlzLnV2QnVmZmVyLl91cGRhdGVJRFxuICAgICAgICAmJiB0aGlzLl90ZXh0dXJlVXBkYXRlSWQgPT09IHRoaXMudXZNYXRyaXguX3VwZGF0ZUlEKVxuICAgIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuX2J1ZmZlclVwZGF0ZUlkID0gdGhpcy51dkJ1ZmZlci5fdXBkYXRlSUQ7XG4gICAgdGhpcy5fdGV4dHVyZVVwZGF0ZUlkID0gdGhpcy51dk1hdHJpeC5fdXBkYXRlSUQ7XG5cbiAgICB2YXIgZGF0YSA9IHRoaXMudXZCdWZmZXIuZGF0YTtcblxuICAgIGlmICghdGhpcy5kYXRhIHx8IHRoaXMuZGF0YS5sZW5ndGggIT09IGRhdGEubGVuZ3RoKVxuICAgIHtcbiAgICAgICAgdGhpcy5kYXRhID0gbmV3IEZsb2F0MzJBcnJheShkYXRhLmxlbmd0aCk7XG4gICAgfVxuXG4gICAgdGhpcy51dk1hdHJpeC5tdWx0aXBseVV2cyhkYXRhLCB0aGlzLmRhdGEpO1xuXG4gICAgdGhpcy5fdXBkYXRlSUQrKztcbn07XG5cbnZhciB0ZW1wUG9pbnQgPSBuZXcgUG9pbnQoKTtcbnZhciB0ZW1wUG9seWdvbiA9IG5ldyBQb2x5Z29uKCk7XG5cbi8qKlxuICogQmFzZSBtZXNoIGNsYXNzLlxuICpcbiAqIFRoaXMgY2xhc3MgZW1wb3dlcnMgeW91IHRvIGhhdmUgbWF4aW11bSBmbGV4aWJpbGl0eSB0byByZW5kZXIgYW55IGtpbmQgb2YgV2ViR0wgdmlzdWFscyB5b3UgY2FuIHRoaW5rIG9mLlxuICogVGhpcyBjbGFzcyBhc3N1bWVzIGEgY2VydGFpbiBsZXZlbCBvZiBXZWJHTCBrbm93bGVkZ2UuXG4gKiBJZiB5b3Uga25vdyBhIGJpdCB0aGlzIHNob3VsZCBhYnN0cmFjdCBlbm91Z2ggYXdheSB0byBtYWtlIHlvdSBsaWZlIGVhc2llciFcbiAqXG4gKiBQcmV0dHkgbXVjaCBBTEwgV2ViR0wgY2FuIGJlIGJyb2tlbiBkb3duIGludG8gdGhlIGZvbGxvd2luZzpcbiAqIC0gR2VvbWV0cnkgLSBUaGUgc3RydWN0dXJlIGFuZCBkYXRhIGZvciB0aGUgbWVzaC4gVGhpcyBjYW4gaW5jbHVkZSBhbnl0aGluZyBmcm9tIHBvc2l0aW9ucywgdXZzLCBub3JtYWxzLCBjb2xvcnMgZXRjLi5cbiAqIC0gU2hhZGVyIC0gVGhpcyBpcyB0aGUgc2hhZGVyIHRoYXQgUGl4aUpTIHdpbGwgcmVuZGVyIHRoZSBnZW9tZXRyeSB3aXRoIChhdHRyaWJ1dGVzIGluIHRoZSBzaGFkZXIgbXVzdCBtYXRjaCB0aGUgZ2VvbWV0cnkpXG4gKiAtIFN0YXRlIC0gVGhpcyBpcyB0aGUgc3RhdGUgb2YgV2ViR0wgcmVxdWlyZWQgdG8gcmVuZGVyIHRoZSBtZXNoLlxuICpcbiAqIFRocm91Z2ggYSBjb21iaW5hdGlvbiBvZiB0aGUgYWJvdmUgZWxlbWVudHMgeW91IGNhbiByZW5kZXIgYW55dGhpbmcgeW91IHdhbnQsIDJEIG9yIDNEIVxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5Db250YWluZXJcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBNZXNoID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoQ29udGFpbmVyKSB7XG4gICAgZnVuY3Rpb24gTWVzaChnZW9tZXRyeSwgc2hhZGVyLCBzdGF0ZSwgZHJhd01vZGUpLy8gdmVydGljZXMsIHV2cywgaW5kaWNlcywgZHJhd01vZGUpXG4gICAge1xuICAgICAgICBpZiAoIGRyYXdNb2RlID09PSB2b2lkIDAgKSBkcmF3TW9kZSA9IERSQVdfTU9ERVMuVFJJQU5HTEVTO1xuXG4gICAgICAgIENvbnRhaW5lci5jYWxsKHRoaXMpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbmNsdWRlcyB2ZXJ0ZXggcG9zaXRpb25zLCBmYWNlIGluZGljZXMsIG5vcm1hbHMsIGNvbG9ycywgVVZzLCBhbmRcbiAgICAgICAgICogY3VzdG9tIGF0dHJpYnV0ZXMgd2l0aGluIGJ1ZmZlcnMsIHJlZHVjaW5nIHRoZSBjb3N0IG9mIHBhc3NpbmcgYWxsXG4gICAgICAgICAqIHRoaXMgZGF0YSB0byB0aGUgR1BVLiBDYW4gYmUgc2hhcmVkIGJldHdlZW4gbXVsdGlwbGUgTWVzaCBvYmplY3RzLlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkdlb21ldHJ5fVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZ2VvbWV0cnkgPSBnZW9tZXRyeTtcblxuICAgICAgICBnZW9tZXRyeS5yZWZDb3VudCsrO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXByZXNlbnRzIHRoZSB2ZXJ0ZXggYW5kIGZyYWdtZW50IHNoYWRlcnMgdGhhdCBwcm9jZXNzZXMgdGhlIGdlb21ldHJ5IGFuZCBydW5zIG9uIHRoZSBHUFUuXG4gICAgICAgICAqIENhbiBiZSBzaGFyZWQgYmV0d2VlbiBtdWx0aXBsZSBNZXNoIG9iamVjdHMuXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuU2hhZGVyfFBJWEkuTWVzaE1hdGVyaWFsfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zaGFkZXIgPSBzaGFkZXI7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlcHJlc2VudHMgdGhlIFdlYkdMIHN0YXRlIHRoZSBNZXNoIHJlcXVpcmVkIHRvIHJlbmRlciwgZXhjbHVkZXMgc2hhZGVyIGFuZCBnZW9tZXRyeS4gRS5nLixcbiAgICAgICAgICogYmxlbmQgbW9kZSwgY3VsbGluZywgZGVwdGggdGVzdGluZywgZGlyZWN0aW9uIG9mIHJlbmRlcmluZyB0cmlhbmdsZXMsIGJhY2tmYWNlLCBldGMuXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuU3RhdGV9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnN0YXRlID0gc3RhdGUgfHwgU3RhdGUuZm9yMmQoKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHdheSB0aGUgTWVzaCBzaG91bGQgYmUgZHJhd24sIGNhbiBiZSBhbnkgb2YgdGhlIHtAbGluayBQSVhJLkRSQVdfTU9ERVN9IGNvbnN0YW50cy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAc2VlIFBJWEkuRFJBV19NT0RFU1xuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kcmF3TW9kZSA9IGRyYXdNb2RlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUeXBpY2FsbHkgdGhlIGluZGV4IG9mIHRoZSBJbmRleEJ1ZmZlciB3aGVyZSB0byBzdGFydCBkcmF3aW5nLlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc3RhcnQgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBIb3cgbXVjaCBvZiB0aGUgZ2VvbWV0cnkgdG8gZHJhdywgYnkgZGVmYXVsdCBgMGAgcmVuZGVycyBldmVyeXRoaW5nLlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc2l6ZSA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIHRoZWFzZSBhcmUgdXNlZCBhcyBlYXN5IGFjY2VzcyBmb3IgYmF0Y2hpbmdcbiAgICAgICAgICogQG1lbWJlciB7RmxvYXQzMkFycmF5fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy51dnMgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiB0aGVhc2UgYXJlIHVzZWQgYXMgZWFzeSBhY2Nlc3MgZm9yIGJhdGNoaW5nXG4gICAgICAgICAqIEBtZW1iZXIge1VpbnQxNkFycmF5fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5pbmRpY2VzID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogdGhpcyBpcyB0aGUgY2FjaGluZyBsYXllciB1c2VkIGJ5IHRoZSBiYXRjaGVyXG4gICAgICAgICAqIEBtZW1iZXIge0Zsb2F0MzJBcnJheX1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudmVydGV4RGF0YSA9IG5ldyBGbG9hdDMyQXJyYXkoMSk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIGdlb21ldHJ5IGlzIGNoYW5nZWQgdXNlZCB0byBkZWNpZGUgdG8gcmUtdHJhbnNmb3JtXG4gICAgICAgICAqIHRoZSB2ZXJ0ZXhEYXRhLlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnZlcnRleERpcnR5ID0gMDtcblxuICAgICAgICB0aGlzLl90cmFuc2Zvcm1JRCA9IC0xO1xuXG4gICAgICAgIC8vIEluaGVyaXRlZCBmcm9tIERpc3BsYXlNb2RlLCBzZXQgZGVmYXVsdHNcbiAgICAgICAgdGhpcy50aW50ID0gMHhGRkZGRkY7XG4gICAgICAgIHRoaXMuYmxlbmRNb2RlID0gQkxFTkRfTU9ERVMuTk9STUFMO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbnRlcm5hbCByb3VuZFBpeGVscyBmaWVsZFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fcm91bmRQaXhlbHMgPSBzZXR0aW5ncy5ST1VORF9QSVhFTFM7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEJhdGNoZWQgVVYncyBhcmUgY2FjaGVkIGZvciBhdGxhcyB0ZXh0dXJlc1xuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk1lc2hCYXRjaFV2c31cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYmF0Y2hVdnMgPSBudWxsO1xuICAgIH1cblxuICAgIGlmICggQ29udGFpbmVyICkgTWVzaC5fX3Byb3RvX18gPSBDb250YWluZXI7XG4gICAgTWVzaC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBDb250YWluZXIgJiYgQ29udGFpbmVyLnByb3RvdHlwZSApO1xuICAgIE1lc2gucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gTWVzaDtcblxuICAgIHZhciBwcm90b3R5cGVBY2Nlc3NvcnMgPSB7IHV2QnVmZmVyOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LHZlcnRpY2VzQnVmZmVyOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LG1hdGVyaWFsOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LGJsZW5kTW9kZTogeyBjb25maWd1cmFibGU6IHRydWUgfSxyb3VuZFBpeGVsczogeyBjb25maWd1cmFibGU6IHRydWUgfSx0aW50OiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LHRleHR1cmU6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0gfTtcblxuICAgIC8qKlxuICAgICAqIFRvIGNoYW5nZSBtZXNoIHV2J3MsIGNoYW5nZSBpdHMgdXZCdWZmZXIgZGF0YSBhbmQgaW5jcmVtZW50IGl0cyBfdXBkYXRlSUQuXG4gICAgICogQG1lbWJlciB7UElYSS5CdWZmZXJ9XG4gICAgICogQHJlYWRvbmx5XG4gICAgICovXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLnV2QnVmZmVyLmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5nZW9tZXRyeS5idWZmZXJzWzFdO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUbyBjaGFuZ2UgbWVzaCB2ZXJ0aWNlcywgY2hhbmdlIGl0cyB1dkJ1ZmZlciBkYXRhIGFuZCBpbmNyZW1lbnQgaXRzIF91cGRhdGVJRC5cbiAgICAgKiBJbmNyZW1lbnRpbmcgX3VwZGF0ZUlEIGlzIG9wdGlvbmFsIGJlY2F1c2UgbW9zdCBvZiBNZXNoIG9iamVjdHMgZG8gaXQgYW55d2F5LlxuICAgICAqIEBtZW1iZXIge1BJWEkuQnVmZmVyfVxuICAgICAqIEByZWFkb25seVxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy52ZXJ0aWNlc0J1ZmZlci5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2VvbWV0cnkuYnVmZmVyc1swXTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQWxpYXMgZm9yIHtAbGluayBQSVhJLk1lc2gjc2hhZGVyfS5cbiAgICAgKiBAbWVtYmVyIHtQSVhJLlNoYWRlcnxQSVhJLk1lc2hNYXRlcmlhbH1cbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMubWF0ZXJpYWwuc2V0ID0gZnVuY3Rpb24gKHZhbHVlKVxuICAgIHtcbiAgICAgICAgdGhpcy5zaGFkZXIgPSB2YWx1ZTtcbiAgICB9O1xuXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLm1hdGVyaWFsLmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5zaGFkZXI7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBibGVuZCBtb2RlIHRvIGJlIGFwcGxpZWQgdG8gdGhlIE1lc2guIEFwcGx5IGEgdmFsdWUgb2ZcbiAgICAgKiBgUElYSS5CTEVORF9NT0RFUy5OT1JNQUxgIHRvIHJlc2V0IHRoZSBibGVuZCBtb2RlLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IFBJWEkuQkxFTkRfTU9ERVMuTk9STUFMO1xuICAgICAqIEBzZWUgUElYSS5CTEVORF9NT0RFU1xuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5ibGVuZE1vZGUuc2V0ID0gZnVuY3Rpb24gKHZhbHVlKVxuICAgIHtcbiAgICAgICAgdGhpcy5zdGF0ZS5ibGVuZE1vZGUgPSB2YWx1ZTtcbiAgICB9O1xuXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLmJsZW5kTW9kZS5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RhdGUuYmxlbmRNb2RlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBJZiB0cnVlIFBpeGlKUyB3aWxsIE1hdGguZmxvb3IoKSB4L3kgdmFsdWVzIHdoZW4gcmVuZGVyaW5nLCBzdG9wcGluZyBwaXhlbCBpbnRlcnBvbGF0aW9uLlxuICAgICAqIEFkdmFudGFnZXMgY2FuIGluY2x1ZGUgc2hhcnBlciBpbWFnZSBxdWFsaXR5IChsaWtlIHRleHQpIGFuZCBmYXN0ZXIgcmVuZGVyaW5nIG9uIGNhbnZhcy5cbiAgICAgKiBUaGUgbWFpbiBkaXNhZHZhbnRhZ2UgaXMgbW92ZW1lbnQgb2Ygb2JqZWN0cyBtYXkgYXBwZWFyIGxlc3Mgc21vb3RoLlxuICAgICAqIFRvIHNldCB0aGUgZ2xvYmFsIGRlZmF1bHQsIGNoYW5nZSB7QGxpbmsgUElYSS5zZXR0aW5ncy5ST1VORF9QSVhFTFN9XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICovXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLnJvdW5kUGl4ZWxzLnNldCA9IGZ1bmN0aW9uICh2YWx1ZSlcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLl9yb3VuZFBpeGVscyAhPT0gdmFsdWUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX3RyYW5zZm9ybUlEID0gLTE7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fcm91bmRQaXhlbHMgPSB2YWx1ZTtcbiAgICB9O1xuXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLnJvdW5kUGl4ZWxzLmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fcm91bmRQaXhlbHM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBtdWx0aXBseSB0aW50IGFwcGxpZWQgdG8gdGhlIE1lc2guIFRoaXMgaXMgYSBoZXggdmFsdWUuIEEgdmFsdWUgb2ZcbiAgICAgKiBgMHhGRkZGRkZgIHdpbGwgcmVtb3ZlIGFueSB0aW50IGVmZmVjdC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAweEZGRkZGRlxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy50aW50LmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5zaGFkZXIudGludDtcbiAgICB9O1xuXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLnRpbnQuc2V0ID0gZnVuY3Rpb24gKHZhbHVlKVxuICAgIHtcbiAgICAgICAgdGhpcy5zaGFkZXIudGludCA9IHZhbHVlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdGV4dHVyZSB0aGF0IHRoZSBNZXNoIHVzZXMuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLlRleHR1cmV9XG4gICAgICovXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLnRleHR1cmUuZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnNoYWRlci50ZXh0dXJlO1xuICAgIH07XG5cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMudGV4dHVyZS5zZXQgPSBmdW5jdGlvbiAodmFsdWUpXG4gICAge1xuICAgICAgICB0aGlzLnNoYWRlci50ZXh0dXJlID0gdmFsdWU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFN0YW5kYXJkIHJlbmRlcmVyIGRyYXcuXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBJbnN0YW5jZSB0byByZW5kZXJlci5cbiAgICAgKi9cbiAgICBNZXNoLnByb3RvdHlwZS5fcmVuZGVyID0gZnVuY3Rpb24gX3JlbmRlciAocmVuZGVyZXIpXG4gICAge1xuICAgICAgICAvLyBzZXQgcHJvcGVydGllcyBmb3IgYmF0Y2hpbmcuLlxuICAgICAgICAvLyBUT0RPIGNvdWxkIHVzZSBhIGRpZmZlcmVudCB3YXkgdG8gZ3JhYiB2ZXJ0cz9cbiAgICAgICAgdmFyIHZlcnRpY2VzID0gdGhpcy5nZW9tZXRyeS5idWZmZXJzWzBdLmRhdGE7XG5cbiAgICAgICAgLy8gVE9ETyBiZW5jaG1hcmsgY2hlY2sgZm9yIGF0dHJpYnV0ZSBzaXplLi5cbiAgICAgICAgaWYgKHRoaXMuc2hhZGVyLmJhdGNoYWJsZSAmJiB0aGlzLmRyYXdNb2RlID09PSBEUkFXX01PREVTLlRSSUFOR0xFUyAmJiB2ZXJ0aWNlcy5sZW5ndGggPCBNZXNoLkJBVENIQUJMRV9TSVpFICogMilcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fcmVuZGVyVG9CYXRjaChyZW5kZXJlcik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9yZW5kZXJEZWZhdWx0KHJlbmRlcmVyKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTdGFuZGFyZCBub24tYmF0Y2hpbmcgd2F5IG9mIHJlbmRlcmluZy5cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIEluc3RhbmNlIHRvIHJlbmRlcmVyLlxuICAgICAqL1xuICAgIE1lc2gucHJvdG90eXBlLl9yZW5kZXJEZWZhdWx0ID0gZnVuY3Rpb24gX3JlbmRlckRlZmF1bHQgKHJlbmRlcmVyKVxuICAgIHtcbiAgICAgICAgdmFyIHNoYWRlciA9IHRoaXMuc2hhZGVyO1xuXG4gICAgICAgIHNoYWRlci5hbHBoYSA9IHRoaXMud29ybGRBbHBoYTtcbiAgICAgICAgaWYgKHNoYWRlci51cGRhdGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHNoYWRlci51cGRhdGUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJlbmRlcmVyLmJhdGNoLmZsdXNoKCk7XG5cbiAgICAgICAgaWYgKHNoYWRlci5wcm9ncmFtLnVuaWZvcm1EYXRhLnRyYW5zbGF0aW9uTWF0cml4KVxuICAgICAgICB7XG4gICAgICAgICAgICBzaGFkZXIudW5pZm9ybXMudHJhbnNsYXRpb25NYXRyaXggPSB0aGlzLnRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybS50b0FycmF5KHRydWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gYmluZCBhbmQgc3luYyB1bmlmb3Jtcy4uXG4gICAgICAgIHJlbmRlcmVyLnNoYWRlci5iaW5kKHNoYWRlcik7XG5cbiAgICAgICAgLy8gc2V0IHN0YXRlLi5cbiAgICAgICAgcmVuZGVyZXIuc3RhdGUuc2V0KHRoaXMuc3RhdGUpO1xuXG4gICAgICAgIC8vIGJpbmQgdGhlIGdlb21ldHJ5Li4uXG4gICAgICAgIHJlbmRlcmVyLmdlb21ldHJ5LmJpbmQodGhpcy5nZW9tZXRyeSwgc2hhZGVyKTtcblxuICAgICAgICAvLyB0aGVuIHJlbmRlciBpdFxuICAgICAgICByZW5kZXJlci5nZW9tZXRyeS5kcmF3KHRoaXMuZHJhd01vZGUsIHRoaXMuc2l6ZSwgdGhpcy5zdGFydCwgdGhpcy5nZW9tZXRyeS5pbnN0YW5jZUNvdW50KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVuZGVyaW5nIGJ5IHVzaW5nIHRoZSBCYXRjaCBzeXN0ZW0uXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBJbnN0YW5jZSB0byByZW5kZXJlci5cbiAgICAgKi9cbiAgICBNZXNoLnByb3RvdHlwZS5fcmVuZGVyVG9CYXRjaCA9IGZ1bmN0aW9uIF9yZW5kZXJUb0JhdGNoIChyZW5kZXJlcilcbiAgICB7XG4gICAgICAgIHZhciBnZW9tZXRyeSA9IHRoaXMuZ2VvbWV0cnk7XG5cbiAgICAgICAgaWYgKHRoaXMuc2hhZGVyLnV2TWF0cml4KVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnNoYWRlci51dk1hdHJpeC51cGRhdGUoKTtcbiAgICAgICAgICAgIHRoaXMuY2FsY3VsYXRlVXZzKCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBzZXQgcHJvcGVydGllcyBmb3IgYmF0Y2hpbmcuLlxuICAgICAgICB0aGlzLmNhbGN1bGF0ZVZlcnRpY2VzKCk7XG4gICAgICAgIHRoaXMuaW5kaWNlcyA9IGdlb21ldHJ5LmluZGV4QnVmZmVyLmRhdGE7XG4gICAgICAgIHRoaXMuX3RpbnRSR0IgPSB0aGlzLnNoYWRlci5fdGludFJHQjtcbiAgICAgICAgdGhpcy5fdGV4dHVyZSA9IHRoaXMuc2hhZGVyLnRleHR1cmU7XG5cbiAgICAgICAgdmFyIHBsdWdpbk5hbWUgPSB0aGlzLm1hdGVyaWFsLnBsdWdpbk5hbWU7XG5cbiAgICAgICAgcmVuZGVyZXIuYmF0Y2guc2V0T2JqZWN0UmVuZGVyZXIocmVuZGVyZXIucGx1Z2luc1twbHVnaW5OYW1lXSk7XG4gICAgICAgIHJlbmRlcmVyLnBsdWdpbnNbcGx1Z2luTmFtZV0ucmVuZGVyKHRoaXMpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHZlcnRleERhdGEgZmllbGQgYmFzZWQgb24gdHJhbnNmb3JtIGFuZCB2ZXJ0aWNlc1xuICAgICAqL1xuICAgIE1lc2gucHJvdG90eXBlLmNhbGN1bGF0ZVZlcnRpY2VzID0gZnVuY3Rpb24gY2FsY3VsYXRlVmVydGljZXMgKClcbiAgICB7XG4gICAgICAgIHZhciBnZW9tZXRyeSA9IHRoaXMuZ2VvbWV0cnk7XG4gICAgICAgIHZhciB2ZXJ0aWNlcyA9IGdlb21ldHJ5LmJ1ZmZlcnNbMF0uZGF0YTtcblxuICAgICAgICBpZiAoZ2VvbWV0cnkudmVydGV4RGlydHlJZCA9PT0gdGhpcy52ZXJ0ZXhEaXJ0eSAmJiB0aGlzLl90cmFuc2Zvcm1JRCA9PT0gdGhpcy50cmFuc2Zvcm0uX3dvcmxkSUQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3RyYW5zZm9ybUlEID0gdGhpcy50cmFuc2Zvcm0uX3dvcmxkSUQ7XG5cbiAgICAgICAgaWYgKHRoaXMudmVydGV4RGF0YS5sZW5ndGggIT09IHZlcnRpY2VzLmxlbmd0aClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy52ZXJ0ZXhEYXRhID0gbmV3IEZsb2F0MzJBcnJheSh2ZXJ0aWNlcy5sZW5ndGgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHd0ID0gdGhpcy50cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm07XG4gICAgICAgIHZhciBhID0gd3QuYTtcbiAgICAgICAgdmFyIGIgPSB3dC5iO1xuICAgICAgICB2YXIgYyA9IHd0LmM7XG4gICAgICAgIHZhciBkID0gd3QuZDtcbiAgICAgICAgdmFyIHR4ID0gd3QudHg7XG4gICAgICAgIHZhciB0eSA9IHd0LnR5O1xuXG4gICAgICAgIHZhciB2ZXJ0ZXhEYXRhID0gdGhpcy52ZXJ0ZXhEYXRhO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmVydGV4RGF0YS5sZW5ndGggLyAyOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciB4ID0gdmVydGljZXNbKGkgKiAyKV07XG4gICAgICAgICAgICB2YXIgeSA9IHZlcnRpY2VzWyhpICogMikgKyAxXTtcblxuICAgICAgICAgICAgdmVydGV4RGF0YVsoaSAqIDIpXSA9IChhICogeCkgKyAoYyAqIHkpICsgdHg7XG4gICAgICAgICAgICB2ZXJ0ZXhEYXRhWyhpICogMikgKyAxXSA9IChiICogeCkgKyAoZCAqIHkpICsgdHk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fcm91bmRQaXhlbHMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkkMSA9IDA7IGkkMSA8IHZlcnRleERhdGEubGVuZ3RoOyBpJDErKylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB2ZXJ0ZXhEYXRhW2kkMV0gPSBNYXRoLnJvdW5kKHZlcnRleERhdGFbaSQxXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnZlcnRleERpcnR5ID0gZ2VvbWV0cnkudmVydGV4RGlydHlJZDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB1diBmaWVsZCBiYXNlZCBvbiBmcm9tIGdlb21ldHJ5IHV2J3Mgb3IgYmF0Y2hVdnNcbiAgICAgKi9cbiAgICBNZXNoLnByb3RvdHlwZS5jYWxjdWxhdGVVdnMgPSBmdW5jdGlvbiBjYWxjdWxhdGVVdnMgKClcbiAgICB7XG4gICAgICAgIHZhciBnZW9tVXZzID0gdGhpcy5nZW9tZXRyeS5idWZmZXJzWzFdO1xuXG4gICAgICAgIGlmICghdGhpcy5zaGFkZXIudXZNYXRyaXguaXNTaW1wbGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5iYXRjaFV2cylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLmJhdGNoVXZzID0gbmV3IE1lc2hCYXRjaFV2cyhnZW9tVXZzLCB0aGlzLnNoYWRlci51dk1hdHJpeCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmJhdGNoVXZzLnVwZGF0ZSgpO1xuICAgICAgICAgICAgdGhpcy51dnMgPSB0aGlzLmJhdGNoVXZzLmRhdGE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnV2cyA9IGdlb21VdnMuZGF0YTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBib3VuZHMgb2YgdGhlIG1lc2ggYXMgYSByZWN0YW5nbGUuIFRoZSBib3VuZHMgY2FsY3VsYXRpb24gdGFrZXMgdGhlIHdvcmxkVHJhbnNmb3JtIGludG8gYWNjb3VudC5cbiAgICAgKiB0aGVyZSBtdXN0IGJlIGEgYVZlcnRleFBvc2l0aW9uIGF0dHJpYnV0ZSBwcmVzZW50IGluIHRoZSBnZW9tZXRyeSBmb3IgYm91bmRzIHRvIGJlIGNhbGN1bGF0ZWQgY29ycmVjdGx5LlxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIE1lc2gucHJvdG90eXBlLl9jYWxjdWxhdGVCb3VuZHMgPSBmdW5jdGlvbiBfY2FsY3VsYXRlQm91bmRzICgpXG4gICAge1xuICAgICAgICB0aGlzLmNhbGN1bGF0ZVZlcnRpY2VzKCk7XG5cbiAgICAgICAgdGhpcy5fYm91bmRzLmFkZFZlcnRleERhdGEodGhpcy52ZXJ0ZXhEYXRhLCAwLCB0aGlzLnZlcnRleERhdGEubGVuZ3RoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGVzdHMgaWYgYSBwb2ludCBpcyBpbnNpZGUgdGhpcyBtZXNoLiBXb3JrcyBvbmx5IGZvciBQSVhJLkRSQVdfTU9ERVMuVFJJQU5HTEVTLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlBvaW50fSBwb2ludCB0aGUgcG9pbnQgdG8gdGVzdFxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IHRoZSByZXN1bHQgb2YgdGhlIHRlc3RcbiAgICAgKi9cbiAgICBNZXNoLnByb3RvdHlwZS5jb250YWluc1BvaW50ID0gZnVuY3Rpb24gY29udGFpbnNQb2ludCAocG9pbnQpXG4gICAge1xuICAgICAgICBpZiAoIXRoaXMuZ2V0Qm91bmRzKCkuY29udGFpbnMocG9pbnQueCwgcG9pbnQueSkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMud29ybGRUcmFuc2Zvcm0uYXBwbHlJbnZlcnNlKHBvaW50LCB0ZW1wUG9pbnQpO1xuXG4gICAgICAgIHZhciB2ZXJ0aWNlcyA9IHRoaXMuZ2VvbWV0cnkuZ2V0QnVmZmVyKCdhVmVydGV4UG9zaXRpb24nKS5kYXRhO1xuXG4gICAgICAgIHZhciBwb2ludHMgPSB0ZW1wUG9seWdvbi5wb2ludHM7XG4gICAgICAgIHZhciBpbmRpY2VzID0gIHRoaXMuZ2VvbWV0cnkuZ2V0SW5kZXgoKS5kYXRhO1xuICAgICAgICB2YXIgbGVuID0gaW5kaWNlcy5sZW5ndGg7XG4gICAgICAgIHZhciBzdGVwID0gdGhpcy5kcmF3TW9kZSA9PT0gNCA/IDMgOiAxO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpICsgMiA8IGxlbjsgaSArPSBzdGVwKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgaW5kMCA9IGluZGljZXNbaV0gKiAyO1xuICAgICAgICAgICAgdmFyIGluZDEgPSBpbmRpY2VzW2kgKyAxXSAqIDI7XG4gICAgICAgICAgICB2YXIgaW5kMiA9IGluZGljZXNbaSArIDJdICogMjtcblxuICAgICAgICAgICAgcG9pbnRzWzBdID0gdmVydGljZXNbaW5kMF07XG4gICAgICAgICAgICBwb2ludHNbMV0gPSB2ZXJ0aWNlc1tpbmQwICsgMV07XG4gICAgICAgICAgICBwb2ludHNbMl0gPSB2ZXJ0aWNlc1tpbmQxXTtcbiAgICAgICAgICAgIHBvaW50c1szXSA9IHZlcnRpY2VzW2luZDEgKyAxXTtcbiAgICAgICAgICAgIHBvaW50c1s0XSA9IHZlcnRpY2VzW2luZDJdO1xuICAgICAgICAgICAgcG9pbnRzWzVdID0gdmVydGljZXNbaW5kMiArIDFdO1xuXG4gICAgICAgICAgICBpZiAodGVtcFBvbHlnb24uY29udGFpbnModGVtcFBvaW50LngsIHRlbXBQb2ludC55KSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoZSBNZXNoIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fGJvb2xlYW59IFtvcHRpb25zXSAtIE9wdGlvbnMgcGFyYW1ldGVyLiBBIGJvb2xlYW4gd2lsbCBhY3QgYXMgaWYgYWxsXG4gICAgICogIG9wdGlvbnMgaGF2ZSBiZWVuIHNldCB0byB0aGF0IHZhbHVlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jaGlsZHJlbj1mYWxzZV0gLSBpZiBzZXQgdG8gdHJ1ZSwgYWxsIHRoZSBjaGlsZHJlbiB3aWxsIGhhdmVcbiAgICAgKiAgdGhlaXIgZGVzdHJveSBtZXRob2QgY2FsbGVkIGFzIHdlbGwuICdvcHRpb25zJyB3aWxsIGJlIHBhc3NlZCBvbiB0byB0aG9zZSBjYWxscy5cbiAgICAgKi9cbiAgICBNZXNoLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSAob3B0aW9ucylcbiAgICB7XG4gICAgICAgIENvbnRhaW5lci5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMsIG9wdGlvbnMpO1xuXG4gICAgICAgIHRoaXMuZ2VvbWV0cnkucmVmQ291bnQtLTtcbiAgICAgICAgaWYgKHRoaXMuZ2VvbWV0cnkucmVmQ291bnQgPT09IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuZ2VvbWV0cnkuZGlzcG9zZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5nZW9tZXRyeSA9IG51bGw7XG4gICAgICAgIHRoaXMuc2hhZGVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IG51bGw7XG4gICAgICAgIHRoaXMudXZzID0gbnVsbDtcbiAgICAgICAgdGhpcy5pbmRpY2VzID0gbnVsbDtcbiAgICAgICAgdGhpcy52ZXJ0ZXhEYXRhID0gbnVsbDtcbiAgICB9O1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoIE1lc2gucHJvdG90eXBlLCBwcm90b3R5cGVBY2Nlc3NvcnMgKTtcblxuICAgIHJldHVybiBNZXNoO1xufShDb250YWluZXIpKTtcblxuLyoqXG4gKiBUaGUgbWF4aW11bSBudW1iZXIgb2YgdmVydGljZXMgdG8gY29uc2lkZXIgYmF0Y2hhYmxlLiBHZW5lcmFsbHksIHRoZSBjb21wbGV4aXR5XG4gKiBvZiB0aGUgZ2VvbWV0cnkuXG4gKiBAbWVtYmVyb2YgUElYSS5NZXNoXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyIHtudW1iZXJ9IEJBVENIQUJMRV9TSVpFXG4gKi9cbk1lc2guQkFUQ0hBQkxFX1NJWkUgPSAxMDA7XG5cbnZhciB2ZXJ0ZXggPSBcImF0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjtcXG5hdHRyaWJ1dGUgdmVjMiBhVGV4dHVyZUNvb3JkO1xcblxcbnVuaWZvcm0gbWF0MyBwcm9qZWN0aW9uTWF0cml4O1xcbnVuaWZvcm0gbWF0MyB0cmFuc2xhdGlvbk1hdHJpeDtcXG51bmlmb3JtIG1hdDMgdVRleHR1cmVNYXRyaXg7XFxuXFxudmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxuXFxudm9pZCBtYWluKHZvaWQpXFxue1xcbiAgICBnbF9Qb3NpdGlvbiA9IHZlYzQoKHByb2plY3Rpb25NYXRyaXggKiB0cmFuc2xhdGlvbk1hdHJpeCAqIHZlYzMoYVZlcnRleFBvc2l0aW9uLCAxLjApKS54eSwgMC4wLCAxLjApO1xcblxcbiAgICB2VGV4dHVyZUNvb3JkID0gKHVUZXh0dXJlTWF0cml4ICogdmVjMyhhVGV4dHVyZUNvb3JkLCAxLjApKS54eTtcXG59XFxuXCI7XG5cbnZhciBmcmFnbWVudCA9IFwidmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxudW5pZm9ybSB2ZWM0IHVDb2xvcjtcXG5cXG51bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcjtcXG5cXG52b2lkIG1haW4odm9pZClcXG57XFxuICAgIGdsX0ZyYWdDb2xvciA9IHRleHR1cmUyRCh1U2FtcGxlciwgdlRleHR1cmVDb29yZCkgKiB1Q29sb3I7XFxufVxcblwiO1xuXG4vKipcbiAqIFNsaWdodGx5IG9waW5pb25hdGVkIGRlZmF1bHQgc2hhZGVyIGZvciBQaXhpSlMgMkQgb2JqZWN0cy5cbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEBleHRlbmRzIFBJWEkuU2hhZGVyXG4gKi9cbnZhciBNZXNoTWF0ZXJpYWwgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChTaGFkZXIpIHtcbiAgICBmdW5jdGlvbiBNZXNoTWF0ZXJpYWwodVNhbXBsZXIsIG9wdGlvbnMpXG4gICAge1xuICAgICAgICB2YXIgdW5pZm9ybXMgPSB7XG4gICAgICAgICAgICB1U2FtcGxlcjogdVNhbXBsZXIsXG4gICAgICAgICAgICBhbHBoYTogMSxcbiAgICAgICAgICAgIHVUZXh0dXJlTWF0cml4OiBNYXRyaXguSURFTlRJVFksXG4gICAgICAgICAgICB1Q29sb3I6IG5ldyBGbG9hdDMyQXJyYXkoWzEsIDEsIDEsIDFdKSxcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBTZXQgZGVmYXVsdHNcbiAgICAgICAgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe1xuICAgICAgICAgICAgdGludDogMHhGRkZGRkYsXG4gICAgICAgICAgICBhbHBoYTogMSxcbiAgICAgICAgICAgIHBsdWdpbk5hbWU6ICdiYXRjaCcsXG4gICAgICAgIH0sIG9wdGlvbnMpO1xuXG4gICAgICAgIGlmIChvcHRpb25zLnVuaWZvcm1zKVxuICAgICAgICB7XG4gICAgICAgICAgICBPYmplY3QuYXNzaWduKHVuaWZvcm1zLCBvcHRpb25zLnVuaWZvcm1zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIFNoYWRlci5jYWxsKHRoaXMsIG9wdGlvbnMucHJvZ3JhbSB8fCBQcm9ncmFtLmZyb20odmVydGV4LCBmcmFnbWVudCksIHVuaWZvcm1zKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogT25seSBkbyB1cGRhdGUgaWYgdGludCBvciBhbHBoYSBjaGFuZ2VzLlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fY29sb3JEaXJ0eSA9IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUZXh0dXJlTWF0cml4IGluc3RhbmNlIGZvciB0aGlzIE1lc2gsIHVzZWQgdG8gdHJhY2sgVGV4dHVyZSBjaGFuZ2VzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuVGV4dHVyZU1hdHJpeH1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnV2TWF0cml4ID0gbmV3IFRleHR1cmVNYXRyaXgodVNhbXBsZXIpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBgdHJ1ZWAgaWYgc2hhZGVyIGNhbiBiZSBiYXRjaCB3aXRoIHRoZSByZW5kZXJlcidzIGJhdGNoIHN5c3RlbS5cbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgdHJ1ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5iYXRjaGFibGUgPSBvcHRpb25zLnByb2dyYW0gPT09IHVuZGVmaW5lZDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUmVuZGVyZXIgcGx1Z2luIGZvciBiYXRjaGluZ1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqIEBkZWZhdWx0ICdiYXRjaCdcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucGx1Z2luTmFtZSA9IG9wdGlvbnMucGx1Z2luTmFtZTtcblxuICAgICAgICB0aGlzLnRpbnQgPSBvcHRpb25zLnRpbnQ7XG4gICAgICAgIHRoaXMuYWxwaGEgPSBvcHRpb25zLmFscGhhO1xuICAgIH1cblxuICAgIGlmICggU2hhZGVyICkgTWVzaE1hdGVyaWFsLl9fcHJvdG9fXyA9IFNoYWRlcjtcbiAgICBNZXNoTWF0ZXJpYWwucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggU2hhZGVyICYmIFNoYWRlci5wcm90b3R5cGUgKTtcbiAgICBNZXNoTWF0ZXJpYWwucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gTWVzaE1hdGVyaWFsO1xuXG4gICAgdmFyIHByb3RvdHlwZUFjY2Vzc29ycyA9IHsgdGV4dHVyZTogeyBjb25maWd1cmFibGU6IHRydWUgfSxhbHBoYTogeyBjb25maWd1cmFibGU6IHRydWUgfSx0aW50OiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH07XG5cbiAgICAvKipcbiAgICAgKiBSZWZlcmVuY2UgdG8gdGhlIHRleHR1cmUgYmVpbmcgcmVuZGVyZWQuXG4gICAgICogQG1lbWJlciB7UElYSS5UZXh0dXJlfVxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy50ZXh0dXJlLmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy51bmlmb3Jtcy51U2FtcGxlcjtcbiAgICB9O1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy50ZXh0dXJlLnNldCA9IGZ1bmN0aW9uICh2YWx1ZSlcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLnVuaWZvcm1zLnVTYW1wbGVyICE9PSB2YWx1ZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy51bmlmb3Jtcy51U2FtcGxlciA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy51dk1hdHJpeC50ZXh0dXJlID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBnZXRzIGF1dG9tYXRpY2FsbHkgc2V0IGJ5IHRoZSBvYmplY3QgdXNpbmcgdGhpcy5cbiAgICAgKlxuICAgICAqIEBkZWZhdWx0IDFcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLmFscGhhLnNldCA9IGZ1bmN0aW9uICh2YWx1ZSlcbiAgICB7XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gdGhpcy5fYWxwaGEpIHsgcmV0dXJuOyB9XG5cbiAgICAgICAgdGhpcy5fYWxwaGEgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5fY29sb3JEaXJ0eSA9IHRydWU7XG4gICAgfTtcbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMuYWxwaGEuZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hbHBoYTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogTXVsdGlwbHkgdGludCBmb3IgdGhlIG1hdGVyaWFsLlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAweEZGRkZGRlxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy50aW50LnNldCA9IGZ1bmN0aW9uICh2YWx1ZSlcbiAgICB7XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gdGhpcy5fdGludCkgeyByZXR1cm47IH1cblxuICAgICAgICB0aGlzLl90aW50ID0gdmFsdWU7XG4gICAgICAgIHRoaXMuX3RpbnRSR0IgPSAodmFsdWUgPj4gMTYpICsgKHZhbHVlICYgMHhmZjAwKSArICgodmFsdWUgJiAweGZmKSA8PCAxNik7XG4gICAgICAgIHRoaXMuX2NvbG9yRGlydHkgPSB0cnVlO1xuICAgIH07XG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLnRpbnQuZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl90aW50O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIGNhbGxlZCBhdXRvbWF0aWNhbGx5IGJ5IHRoZSBNZXNoLiBJbnRlbmRlZCB0byBiZSBvdmVycmlkZGVuIGZvciBjdXN0b21cbiAgICAgKiBNZXNoTWF0ZXJpYWwgb2JqZWN0cy5cbiAgICAgKi9cbiAgICBNZXNoTWF0ZXJpYWwucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIHVwZGF0ZSAoKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuX2NvbG9yRGlydHkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2NvbG9yRGlydHkgPSBmYWxzZTtcbiAgICAgICAgICAgIHZhciBiYXNlVGV4dHVyZSA9IHRoaXMudGV4dHVyZS5iYXNlVGV4dHVyZTtcblxuICAgICAgICAgICAgcHJlbXVsdGlwbHlUaW50VG9SZ2JhKHRoaXMuX3RpbnQsIHRoaXMuX2FscGhhLCB0aGlzLnVuaWZvcm1zLnVDb2xvciwgYmFzZVRleHR1cmUuYWxwaGFNb2RlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy51dk1hdHJpeC51cGRhdGUoKSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy51bmlmb3Jtcy51VGV4dHVyZU1hdHJpeCA9IHRoaXMudXZNYXRyaXgubWFwQ29vcmQ7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoIE1lc2hNYXRlcmlhbC5wcm90b3R5cGUsIHByb3RvdHlwZUFjY2Vzc29ycyApO1xuXG4gICAgcmV0dXJuIE1lc2hNYXRlcmlhbDtcbn0oU2hhZGVyKSk7XG5cbi8qKlxuICogU3RhbmRhcmQgMkQgZ2VvbWV0cnkgdXNlZCBpbiBQaXhpSlMuXG4gKlxuICogR2VvbWV0cnkgY2FuIGJlIGRlZmluZWQgd2l0aG91dCBwYXNzaW5nIGluIGEgc3R5bGUgb3IgZGF0YSBpZiByZXF1aXJlZC5cbiAqXG4gKiBgYGBqc1xuICogY29uc3QgZ2VvbWV0cnkgPSBuZXcgUElYSS5HZW9tZXRyeSgpO1xuICpcbiAqIGdlb21ldHJ5LmFkZEF0dHJpYnV0ZSgncG9zaXRpb25zJywgWzAsIDAsIDEwMCwgMCwgMTAwLCAxMDAsIDAsIDEwMF0sIDIpO1xuICogZ2VvbWV0cnkuYWRkQXR0cmlidXRlKCd1dnMnLCBbMCwwLDEsMCwxLDEsMCwxXSwgMik7XG4gKiBnZW9tZXRyeS5hZGRJbmRleChbMCwxLDIsMSwzLDJdKTtcbiAqXG4gKiBgYGBcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEBleHRlbmRzIFBJWEkuR2VvbWV0cnlcbiAqL1xudmFyIE1lc2hHZW9tZXRyeSA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKEdlb21ldHJ5KSB7XG4gICAgZnVuY3Rpb24gTWVzaEdlb21ldHJ5KHZlcnRpY2VzLCB1dnMsIGluZGV4KVxuICAgIHtcbiAgICAgICAgR2VvbWV0cnkuY2FsbCh0aGlzKTtcblxuICAgICAgICB2YXIgdmVydGljZXNCdWZmZXIgPSBuZXcgQnVmZmVyKHZlcnRpY2VzKTtcbiAgICAgICAgdmFyIHV2c0J1ZmZlciA9IG5ldyBCdWZmZXIodXZzLCB0cnVlKTtcbiAgICAgICAgdmFyIGluZGV4QnVmZmVyID0gbmV3IEJ1ZmZlcihpbmRleCwgdHJ1ZSwgdHJ1ZSk7XG5cbiAgICAgICAgdGhpcy5hZGRBdHRyaWJ1dGUoJ2FWZXJ0ZXhQb3NpdGlvbicsIHZlcnRpY2VzQnVmZmVyLCAyLCBmYWxzZSwgVFlQRVMuRkxPQVQpXG4gICAgICAgICAgICAuYWRkQXR0cmlidXRlKCdhVGV4dHVyZUNvb3JkJywgdXZzQnVmZmVyLCAyLCBmYWxzZSwgVFlQRVMuRkxPQVQpXG4gICAgICAgICAgICAuYWRkSW5kZXgoaW5kZXhCdWZmZXIpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEaXJ0eSBmbGFnIHRvIGxpbWl0IHVwZGF0ZSBjYWxscyBvbiBNZXNoLiBGb3IgZXhhbXBsZSxcbiAgICAgICAgICogbGltaXRpbmcgdXBkYXRlcyBvbiBhIHNpbmdsZSBNZXNoIGluc3RhbmNlIHdpdGggYSBzaGFyZWQgR2VvbWV0cnlcbiAgICAgICAgICogd2l0aGluIHRoZSByZW5kZXIgbG9vcC5cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAtMVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fdXBkYXRlSWQgPSAtMTtcbiAgICB9XG5cbiAgICBpZiAoIEdlb21ldHJ5ICkgTWVzaEdlb21ldHJ5Ll9fcHJvdG9fXyA9IEdlb21ldHJ5O1xuICAgIE1lc2hHZW9tZXRyeS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBHZW9tZXRyeSAmJiBHZW9tZXRyeS5wcm90b3R5cGUgKTtcbiAgICBNZXNoR2VvbWV0cnkucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gTWVzaEdlb21ldHJ5O1xuXG4gICAgdmFyIHByb3RvdHlwZUFjY2Vzc29ycyA9IHsgdmVydGV4RGlydHlJZDogeyBjb25maWd1cmFibGU6IHRydWUgfSB9O1xuXG4gICAgLyoqXG4gICAgICogSWYgdGhlIHZlcnRleCBwb3NpdGlvbiBpcyB1cGRhdGVkLlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy52ZXJ0ZXhEaXJ0eUlkLmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5idWZmZXJzWzBdLl91cGRhdGVJRDtcbiAgICB9O1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoIE1lc2hHZW9tZXRyeS5wcm90b3R5cGUsIHByb3RvdHlwZUFjY2Vzc29ycyApO1xuXG4gICAgcmV0dXJuIE1lc2hHZW9tZXRyeTtcbn0oR2VvbWV0cnkpKTtcblxuZXhwb3J0IHsgTWVzaCwgTWVzaEJhdGNoVXZzLCBNZXNoR2VvbWV0cnksIE1lc2hNYXRlcmlhbCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWVzaC5lcy5qcy5tYXBcbiIsIi8qIVxuICogQHBpeGkvbWVzaC1leHRyYXMgLSB2NS4yLjBcbiAqIENvbXBpbGVkIFdlZCwgMDYgTm92IDIwMTkgMDI6MzI6NDMgVVRDXG4gKlxuICogQHBpeGkvbWVzaC1leHRyYXMgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5pbXBvcnQgeyBNZXNoR2VvbWV0cnksIE1lc2gsIE1lc2hNYXRlcmlhbCB9IGZyb20gJ0BwaXhpL21lc2gnO1xuaW1wb3J0IHsgV1JBUF9NT0RFUyB9IGZyb20gJ0BwaXhpL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBUZXh0dXJlIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5cbnZhciBQbGFuZUdlb21ldHJ5ID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoTWVzaEdlb21ldHJ5KSB7XG4gICAgZnVuY3Rpb24gUGxhbmVHZW9tZXRyeSh3aWR0aCwgaGVpZ2h0LCBzZWdXaWR0aCwgc2VnSGVpZ2h0KVxuICAgIHtcbiAgICAgICAgaWYgKCB3aWR0aCA9PT0gdm9pZCAwICkgd2lkdGggPSAxMDA7XG4gICAgICAgIGlmICggaGVpZ2h0ID09PSB2b2lkIDAgKSBoZWlnaHQgPSAxMDA7XG4gICAgICAgIGlmICggc2VnV2lkdGggPT09IHZvaWQgMCApIHNlZ1dpZHRoID0gMTA7XG4gICAgICAgIGlmICggc2VnSGVpZ2h0ID09PSB2b2lkIDAgKSBzZWdIZWlnaHQgPSAxMDtcblxuICAgICAgICBNZXNoR2VvbWV0cnkuY2FsbCh0aGlzKTtcblxuICAgICAgICB0aGlzLnNlZ1dpZHRoID0gc2VnV2lkdGg7XG4gICAgICAgIHRoaXMuc2VnSGVpZ2h0ID0gc2VnSGVpZ2h0O1xuXG4gICAgICAgIHRoaXMud2lkdGggPSB3aWR0aDtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XG5cbiAgICAgICAgdGhpcy5idWlsZCgpO1xuICAgIH1cblxuICAgIGlmICggTWVzaEdlb21ldHJ5ICkgUGxhbmVHZW9tZXRyeS5fX3Byb3RvX18gPSBNZXNoR2VvbWV0cnk7XG4gICAgUGxhbmVHZW9tZXRyeS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBNZXNoR2VvbWV0cnkgJiYgTWVzaEdlb21ldHJ5LnByb3RvdHlwZSApO1xuICAgIFBsYW5lR2VvbWV0cnkucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gUGxhbmVHZW9tZXRyeTtcblxuICAgIC8qKlxuICAgICAqIFJlZnJlc2hlcyBwbGFuZSBjb29yZGluYXRlc1xuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgUGxhbmVHZW9tZXRyeS5wcm90b3R5cGUuYnVpbGQgPSBmdW5jdGlvbiBidWlsZCAoKVxuICAgIHtcbiAgICAgICAgdmFyIHRvdGFsID0gdGhpcy5zZWdXaWR0aCAqIHRoaXMuc2VnSGVpZ2h0O1xuICAgICAgICB2YXIgdmVydHMgPSBbXTtcbiAgICAgICAgdmFyIHV2cyA9IFtdO1xuICAgICAgICB2YXIgaW5kaWNlcyA9IFtdO1xuXG4gICAgICAgIHZhciBzZWdtZW50c1ggPSB0aGlzLnNlZ1dpZHRoIC0gMTtcbiAgICAgICAgdmFyIHNlZ21lbnRzWSA9IHRoaXMuc2VnSGVpZ2h0IC0gMTtcblxuICAgICAgICB2YXIgc2l6ZVggPSAodGhpcy53aWR0aCkgLyBzZWdtZW50c1g7XG4gICAgICAgIHZhciBzaXplWSA9ICh0aGlzLmhlaWdodCkgLyBzZWdtZW50c1k7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0b3RhbDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgeCA9IChpICUgdGhpcy5zZWdXaWR0aCk7XG4gICAgICAgICAgICB2YXIgeSA9ICgoaSAvIHRoaXMuc2VnV2lkdGgpIHwgMCk7XG5cbiAgICAgICAgICAgIHZlcnRzLnB1c2goeCAqIHNpemVYLCB5ICogc2l6ZVkpO1xuICAgICAgICAgICAgdXZzLnB1c2goeCAvIHNlZ21lbnRzWCwgeSAvIHNlZ21lbnRzWSk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgdG90YWxTdWIgPSBzZWdtZW50c1ggKiBzZWdtZW50c1k7XG5cbiAgICAgICAgZm9yICh2YXIgaSQxID0gMDsgaSQxIDwgdG90YWxTdWI7IGkkMSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgeHBvcyA9IGkkMSAlIHNlZ21lbnRzWDtcbiAgICAgICAgICAgIHZhciB5cG9zID0gKGkkMSAvIHNlZ21lbnRzWCkgfCAwO1xuXG4gICAgICAgICAgICB2YXIgdmFsdWUgPSAoeXBvcyAqIHRoaXMuc2VnV2lkdGgpICsgeHBvcztcbiAgICAgICAgICAgIHZhciB2YWx1ZTIgPSAoeXBvcyAqIHRoaXMuc2VnV2lkdGgpICsgeHBvcyArIDE7XG4gICAgICAgICAgICB2YXIgdmFsdWUzID0gKCh5cG9zICsgMSkgKiB0aGlzLnNlZ1dpZHRoKSArIHhwb3M7XG4gICAgICAgICAgICB2YXIgdmFsdWU0ID0gKCh5cG9zICsgMSkgKiB0aGlzLnNlZ1dpZHRoKSArIHhwb3MgKyAxO1xuXG4gICAgICAgICAgICBpbmRpY2VzLnB1c2godmFsdWUsIHZhbHVlMiwgdmFsdWUzLFxuICAgICAgICAgICAgICAgIHZhbHVlMiwgdmFsdWU0LCB2YWx1ZTMpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5idWZmZXJzWzBdLmRhdGEgPSBuZXcgRmxvYXQzMkFycmF5KHZlcnRzKTtcbiAgICAgICAgdGhpcy5idWZmZXJzWzFdLmRhdGEgPSBuZXcgRmxvYXQzMkFycmF5KHV2cyk7XG4gICAgICAgIHRoaXMuaW5kZXhCdWZmZXIuZGF0YSA9IG5ldyBVaW50MTZBcnJheShpbmRpY2VzKTtcblxuICAgICAgICAvLyBlbnN1cmUgdGhhdCB0aGUgY2hhbmdlcyBhcmUgdXBsb2FkZWRcbiAgICAgICAgdGhpcy5idWZmZXJzWzBdLnVwZGF0ZSgpO1xuICAgICAgICB0aGlzLmJ1ZmZlcnNbMV0udXBkYXRlKCk7XG4gICAgICAgIHRoaXMuaW5kZXhCdWZmZXIudXBkYXRlKCk7XG4gICAgfTtcblxuICAgIHJldHVybiBQbGFuZUdlb21ldHJ5O1xufShNZXNoR2VvbWV0cnkpKTtcblxuLyoqXG4gKiBSb3BlR2VvbWV0cnkgYWxsb3dzIHlvdSB0byBkcmF3IGEgZ2VvbWV0cnkgYWNyb3NzIHNldmVyYWwgcG9pbnRzIGFuZCB0aGVuIG1hbmlwdWxhdGUgdGhlc2UgcG9pbnRzLlxuICpcbiAqIGBgYGpzXG4gKiBmb3IgKGxldCBpID0gMDsgaSA8IDIwOyBpKyspIHtcbiAqICAgICBwb2ludHMucHVzaChuZXcgUElYSS5Qb2ludChpICogNTAsIDApKTtcbiAqIH07XG4gKiBjb25zdCByb3BlID0gbmV3IFBJWEkuUm9wZUdlb21ldHJ5KDEwMCwgcG9pbnRzKTtcbiAqIGBgYFxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5NZXNoR2VvbWV0cnlcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKlxuICovXG52YXIgUm9wZUdlb21ldHJ5ID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoTWVzaEdlb21ldHJ5KSB7XG4gICAgZnVuY3Rpb24gUm9wZUdlb21ldHJ5KHdpZHRoLCBwb2ludHMsIHRleHR1cmVTY2FsZSlcbiAgICB7XG4gICAgICAgIGlmICggd2lkdGggPT09IHZvaWQgMCApIHdpZHRoID0gMjAwO1xuICAgICAgICBpZiAoIHRleHR1cmVTY2FsZSA9PT0gdm9pZCAwICkgdGV4dHVyZVNjYWxlID0gMDtcblxuICAgICAgICBNZXNoR2VvbWV0cnkuY2FsbCh0aGlzLCBuZXcgRmxvYXQzMkFycmF5KHBvaW50cy5sZW5ndGggKiA0KSxcbiAgICAgICAgICAgIG5ldyBGbG9hdDMyQXJyYXkocG9pbnRzLmxlbmd0aCAqIDQpLFxuICAgICAgICAgICAgbmV3IFVpbnQxNkFycmF5KChwb2ludHMubGVuZ3RoIC0gMSkgKiA2KSk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFuIGFycmF5IG9mIHBvaW50cyB0aGF0IGRldGVybWluZSB0aGUgcm9wZVxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlBvaW50W119XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnBvaW50cyA9IHBvaW50cztcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHdpZHRoIChpLmUuLCB0aGlja25lc3MpIG9mIHRoZSByb3BlLlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEByZWFkT25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy53aWR0aCA9IHdpZHRoO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSb3BlIHRleHR1cmUgc2NhbGUsIGlmIHplcm8gdGhlbiB0aGUgcm9wZSB0ZXh0dXJlIGlzIHN0cmV0Y2hlZC5cbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcmVhZE9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudGV4dHVyZVNjYWxlID0gdGV4dHVyZVNjYWxlO1xuXG4gICAgICAgIHRoaXMuYnVpbGQoKTtcbiAgICB9XG5cbiAgICBpZiAoIE1lc2hHZW9tZXRyeSApIFJvcGVHZW9tZXRyeS5fX3Byb3RvX18gPSBNZXNoR2VvbWV0cnk7XG4gICAgUm9wZUdlb21ldHJ5LnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIE1lc2hHZW9tZXRyeSAmJiBNZXNoR2VvbWV0cnkucHJvdG90eXBlICk7XG4gICAgUm9wZUdlb21ldHJ5LnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFJvcGVHZW9tZXRyeTtcbiAgICAvKipcbiAgICAgKiBSZWZyZXNoZXMgUm9wZSBpbmRpY2VzIGFuZCB1dnNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFJvcGVHZW9tZXRyeS5wcm90b3R5cGUuYnVpbGQgPSBmdW5jdGlvbiBidWlsZCAoKVxuICAgIHtcbiAgICAgICAgdmFyIHBvaW50cyA9IHRoaXMucG9pbnRzO1xuXG4gICAgICAgIGlmICghcG9pbnRzKSB7IHJldHVybjsgfVxuXG4gICAgICAgIHZhciB2ZXJ0ZXhCdWZmZXIgPSB0aGlzLmdldEJ1ZmZlcignYVZlcnRleFBvc2l0aW9uJyk7XG4gICAgICAgIHZhciB1dkJ1ZmZlciA9IHRoaXMuZ2V0QnVmZmVyKCdhVGV4dHVyZUNvb3JkJyk7XG4gICAgICAgIHZhciBpbmRleEJ1ZmZlciA9IHRoaXMuZ2V0SW5kZXgoKTtcblxuICAgICAgICAvLyBpZiB0b28gbGl0dGxlIHBvaW50cywgb3IgdGV4dHVyZSBoYXNuJ3QgZ290IFVWcyBzZXQgeWV0IGp1c3QgbW92ZSBvbi5cbiAgICAgICAgaWYgKHBvaW50cy5sZW5ndGggPCAxKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBpZiB0aGUgbnVtYmVyIG9mIHBvaW50cyBoYXMgY2hhbmdlZCB3ZSB3aWxsIG5lZWQgdG8gcmVjcmVhdGUgdGhlIGFycmF5YnVmZmVyc1xuICAgICAgICBpZiAodmVydGV4QnVmZmVyLmRhdGEubGVuZ3RoIC8gNCAhPT0gcG9pbnRzLmxlbmd0aClcbiAgICAgICAge1xuICAgICAgICAgICAgdmVydGV4QnVmZmVyLmRhdGEgPSBuZXcgRmxvYXQzMkFycmF5KHBvaW50cy5sZW5ndGggKiA0KTtcbiAgICAgICAgICAgIHV2QnVmZmVyLmRhdGEgPSBuZXcgRmxvYXQzMkFycmF5KHBvaW50cy5sZW5ndGggKiA0KTtcbiAgICAgICAgICAgIGluZGV4QnVmZmVyLmRhdGEgPSBuZXcgVWludDE2QXJyYXkoKHBvaW50cy5sZW5ndGggLSAxKSAqIDYpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHV2cyA9IHV2QnVmZmVyLmRhdGE7XG4gICAgICAgIHZhciBpbmRpY2VzID0gaW5kZXhCdWZmZXIuZGF0YTtcblxuICAgICAgICB1dnNbMF0gPSAwO1xuICAgICAgICB1dnNbMV0gPSAwO1xuICAgICAgICB1dnNbMl0gPSAwO1xuICAgICAgICB1dnNbM10gPSAxO1xuXG4gICAgICAgIHZhciBhbW91bnQgPSAwO1xuICAgICAgICB2YXIgcHJldiA9IHBvaW50c1swXTtcbiAgICAgICAgdmFyIHRleHR1cmVXaWR0aCA9IHRoaXMud2lkdGggKiB0aGlzLnRleHR1cmVTY2FsZTtcbiAgICAgICAgdmFyIHRvdGFsID0gcG9pbnRzLmxlbmd0aDsgLy8gLSAxO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdG90YWw7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gdGltZSB0byBkbyBzb21lIHNtYXJ0IGRyYXdpbmchXG4gICAgICAgICAgICB2YXIgaW5kZXggPSBpICogNDtcblxuICAgICAgICAgICAgaWYgKHRoaXMudGV4dHVyZVNjYWxlID4gMClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAvLyBjYWxjdWxhdGUgcGl4ZWwgZGlzdGFuY2UgZnJvbSBwcmV2aW91cyBwb2ludFxuICAgICAgICAgICAgICAgIHZhciBkeCA9IHByZXYueCAtIHBvaW50c1tpXS54O1xuICAgICAgICAgICAgICAgIHZhciBkeSA9IHByZXYueSAtIHBvaW50c1tpXS55O1xuICAgICAgICAgICAgICAgIHZhciBkaXN0YW5jZSA9IE1hdGguc3FydCgoZHggKiBkeCkgKyAoZHkgKiBkeSkpO1xuXG4gICAgICAgICAgICAgICAgcHJldiA9IHBvaW50c1tpXTtcbiAgICAgICAgICAgICAgICBhbW91bnQgKz0gZGlzdGFuY2UgLyB0ZXh0dXJlV2lkdGg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgLy8gc3RyZXRjaCB0ZXh0dXJlXG4gICAgICAgICAgICAgICAgYW1vdW50ID0gaSAvICh0b3RhbCAtIDEpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB1dnNbaW5kZXhdID0gYW1vdW50O1xuICAgICAgICAgICAgdXZzW2luZGV4ICsgMV0gPSAwO1xuXG4gICAgICAgICAgICB1dnNbaW5kZXggKyAyXSA9IGFtb3VudDtcbiAgICAgICAgICAgIHV2c1tpbmRleCArIDNdID0gMTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBpbmRleENvdW50ID0gMDtcblxuICAgICAgICBmb3IgKHZhciBpJDEgPSAwOyBpJDEgPCB0b3RhbCAtIDE7IGkkMSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgaW5kZXgkMSA9IGkkMSAqIDI7XG5cbiAgICAgICAgICAgIGluZGljZXNbaW5kZXhDb3VudCsrXSA9IGluZGV4JDE7XG4gICAgICAgICAgICBpbmRpY2VzW2luZGV4Q291bnQrK10gPSBpbmRleCQxICsgMTtcbiAgICAgICAgICAgIGluZGljZXNbaW5kZXhDb3VudCsrXSA9IGluZGV4JDEgKyAyO1xuXG4gICAgICAgICAgICBpbmRpY2VzW2luZGV4Q291bnQrK10gPSBpbmRleCQxICsgMjtcbiAgICAgICAgICAgIGluZGljZXNbaW5kZXhDb3VudCsrXSA9IGluZGV4JDEgKyAxO1xuICAgICAgICAgICAgaW5kaWNlc1tpbmRleENvdW50KytdID0gaW5kZXgkMSArIDM7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBlbnN1cmUgdGhhdCB0aGUgY2hhbmdlcyBhcmUgdXBsb2FkZWRcbiAgICAgICAgdXZCdWZmZXIudXBkYXRlKCk7XG4gICAgICAgIGluZGV4QnVmZmVyLnVwZGF0ZSgpO1xuXG4gICAgICAgIHRoaXMudXBkYXRlVmVydGljZXMoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogcmVmcmVzaGVzIHZlcnRpY2VzIG9mIFJvcGUgbWVzaFxuICAgICAqL1xuICAgIFJvcGVHZW9tZXRyeS5wcm90b3R5cGUudXBkYXRlVmVydGljZXMgPSBmdW5jdGlvbiB1cGRhdGVWZXJ0aWNlcyAoKVxuICAgIHtcbiAgICAgICAgdmFyIHBvaW50cyA9IHRoaXMucG9pbnRzO1xuXG4gICAgICAgIGlmIChwb2ludHMubGVuZ3RoIDwgMSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGxhc3RQb2ludCA9IHBvaW50c1swXTtcbiAgICAgICAgdmFyIG5leHRQb2ludDtcbiAgICAgICAgdmFyIHBlcnBYID0gMDtcbiAgICAgICAgdmFyIHBlcnBZID0gMDtcblxuICAgICAgICB2YXIgdmVydGljZXMgPSB0aGlzLmJ1ZmZlcnNbMF0uZGF0YTtcbiAgICAgICAgdmFyIHRvdGFsID0gcG9pbnRzLmxlbmd0aDtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRvdGFsOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBwb2ludCA9IHBvaW50c1tpXTtcbiAgICAgICAgICAgIHZhciBpbmRleCA9IGkgKiA0O1xuXG4gICAgICAgICAgICBpZiAoaSA8IHBvaW50cy5sZW5ndGggLSAxKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5leHRQb2ludCA9IHBvaW50c1tpICsgMV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmV4dFBvaW50ID0gcG9pbnQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHBlcnBZID0gLShuZXh0UG9pbnQueCAtIGxhc3RQb2ludC54KTtcbiAgICAgICAgICAgIHBlcnBYID0gbmV4dFBvaW50LnkgLSBsYXN0UG9pbnQueTtcblxuICAgICAgICAgICAgdmFyIHBlcnBMZW5ndGggPSBNYXRoLnNxcnQoKHBlcnBYICogcGVycFgpICsgKHBlcnBZICogcGVycFkpKTtcbiAgICAgICAgICAgIHZhciBudW0gPSB0aGlzLnRleHR1cmVTY2FsZSA+IDAgPyB0aGlzLnRleHR1cmVTY2FsZSAqIHRoaXMud2lkdGggLyAyIDogdGhpcy53aWR0aCAvIDI7XG5cbiAgICAgICAgICAgIHBlcnBYIC89IHBlcnBMZW5ndGg7XG4gICAgICAgICAgICBwZXJwWSAvPSBwZXJwTGVuZ3RoO1xuXG4gICAgICAgICAgICBwZXJwWCAqPSBudW07XG4gICAgICAgICAgICBwZXJwWSAqPSBudW07XG5cbiAgICAgICAgICAgIHZlcnRpY2VzW2luZGV4XSA9IHBvaW50LnggKyBwZXJwWDtcbiAgICAgICAgICAgIHZlcnRpY2VzW2luZGV4ICsgMV0gPSBwb2ludC55ICsgcGVycFk7XG4gICAgICAgICAgICB2ZXJ0aWNlc1tpbmRleCArIDJdID0gcG9pbnQueCAtIHBlcnBYO1xuICAgICAgICAgICAgdmVydGljZXNbaW5kZXggKyAzXSA9IHBvaW50LnkgLSBwZXJwWTtcblxuICAgICAgICAgICAgbGFzdFBvaW50ID0gcG9pbnQ7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmJ1ZmZlcnNbMF0udXBkYXRlKCk7XG4gICAgfTtcblxuICAgIFJvcGVHZW9tZXRyeS5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gdXBkYXRlICgpXG4gICAge1xuICAgICAgICBpZiAodGhpcy50ZXh0dXJlU2NhbGUgPiAwKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmJ1aWxkKCk7IC8vIHdlIG5lZWQgdG8gdXBkYXRlIFVWc1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVWZXJ0aWNlcygpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHJldHVybiBSb3BlR2VvbWV0cnk7XG59KE1lc2hHZW9tZXRyeSkpO1xuXG4vKipcbiAqIFRoZSByb3BlIGFsbG93cyB5b3UgdG8gZHJhdyBhIHRleHR1cmUgYWNyb3NzIHNldmVyYWwgcG9pbnRzIGFuZCB0aGVuIG1hbmlwdWxhdGUgdGhlc2UgcG9pbnRzXG4gKlxuICpgYGBqc1xuICogZm9yIChsZXQgaSA9IDA7IGkgPCAyMDsgaSsrKSB7XG4gKiAgICAgcG9pbnRzLnB1c2gobmV3IFBJWEkuUG9pbnQoaSAqIDUwLCAwKSk7XG4gKiB9O1xuICogbGV0IHJvcGUgPSBuZXcgUElYSS5TaW1wbGVSb3BlKFBJWEkuVGV4dHVyZS5mcm9tKFwic25ha2UucG5nXCIpLCBwb2ludHMpO1xuICogIGBgYFxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5NZXNoXG4gKiBAbWVtYmVyb2YgUElYSVxuICpcbiAqL1xudmFyIFNpbXBsZVJvcGUgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChNZXNoKSB7XG4gICAgZnVuY3Rpb24gU2ltcGxlUm9wZSh0ZXh0dXJlLCBwb2ludHMsIHRleHR1cmVTY2FsZSlcbiAgICB7XG4gICAgICAgIGlmICggdGV4dHVyZVNjYWxlID09PSB2b2lkIDAgKSB0ZXh0dXJlU2NhbGUgPSAwO1xuXG4gICAgICAgIHZhciByb3BlR2VvbWV0cnkgPSBuZXcgUm9wZUdlb21ldHJ5KHRleHR1cmUuaGVpZ2h0LCBwb2ludHMsIHRleHR1cmVTY2FsZSk7XG4gICAgICAgIHZhciBtZXNoTWF0ZXJpYWwgPSBuZXcgTWVzaE1hdGVyaWFsKHRleHR1cmUpO1xuXG4gICAgICAgIGlmICh0ZXh0dXJlU2NhbGUgPiAwKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBhdHRlbXB0IHRvIHNldCBVViB3cmFwcGluZywgd2lsbCBmYWlsIG9uIG5vbi1wb3dlciBvZiB0d28gdGV4dHVyZXNcbiAgICAgICAgICAgIHRleHR1cmUuYmFzZVRleHR1cmUud3JhcE1vZGUgPSBXUkFQX01PREVTLlJFUEVBVDtcbiAgICAgICAgfVxuICAgICAgICBNZXNoLmNhbGwodGhpcywgcm9wZUdlb21ldHJ5LCBtZXNoTWF0ZXJpYWwpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiByZS1jYWxjdWxhdGUgdmVydGljZXMgYnkgcm9wZSBwb2ludHMgZWFjaCBmcmFtZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5hdXRvVXBkYXRlID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAoIE1lc2ggKSBTaW1wbGVSb3BlLl9fcHJvdG9fXyA9IE1lc2g7XG4gICAgU2ltcGxlUm9wZS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBNZXNoICYmIE1lc2gucHJvdG90eXBlICk7XG4gICAgU2ltcGxlUm9wZS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBTaW1wbGVSb3BlO1xuXG4gICAgU2ltcGxlUm9wZS5wcm90b3R5cGUuX3JlbmRlciA9IGZ1bmN0aW9uIF9yZW5kZXIgKHJlbmRlcmVyKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuYXV0b1VwZGF0ZVxuICAgICAgICAgICAgfHwgdGhpcy5nZW9tZXRyeS53aWR0aCAhPT0gdGhpcy5zaGFkZXIudGV4dHVyZS5oZWlnaHQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuZ2VvbWV0cnkud2lkdGggPSB0aGlzLnNoYWRlci50ZXh0dXJlLmhlaWdodDtcbiAgICAgICAgICAgIHRoaXMuZ2VvbWV0cnkudXBkYXRlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBNZXNoLnByb3RvdHlwZS5fcmVuZGVyLmNhbGwodGhpcywgcmVuZGVyZXIpO1xuICAgIH07XG5cbiAgICByZXR1cm4gU2ltcGxlUm9wZTtcbn0oTWVzaCkpO1xuXG4vKipcbiAqIFRoZSBTaW1wbGVQbGFuZSBhbGxvd3MgeW91IHRvIGRyYXcgYSB0ZXh0dXJlIGFjcm9zcyBzZXZlcmFsIHBvaW50cyBhbmQgdGhlbiBtYW5pcHVsYXRlIHRoZXNlIHBvaW50c1xuICpcbiAqYGBganNcbiAqIGZvciAobGV0IGkgPSAwOyBpIDwgMjA7IGkrKykge1xuICogICAgIHBvaW50cy5wdXNoKG5ldyBQSVhJLlBvaW50KGkgKiA1MCwgMCkpO1xuICogfTtcbiAqIGxldCBTaW1wbGVQbGFuZSA9IG5ldyBQSVhJLlNpbXBsZVBsYW5lKFBJWEkuVGV4dHVyZS5mcm9tKFwic25ha2UucG5nXCIpLCBwb2ludHMpO1xuICogIGBgYFxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5NZXNoXG4gKiBAbWVtYmVyb2YgUElYSVxuICpcbiAqL1xudmFyIFNpbXBsZVBsYW5lID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoTWVzaCkge1xuICAgIGZ1bmN0aW9uIFNpbXBsZVBsYW5lKHRleHR1cmUsIHZlcnRpY2VzWCwgdmVydGljZXNZKVxuICAgIHtcbiAgICAgICAgdmFyIHBsYW5lR2VvbWV0cnkgPSBuZXcgUGxhbmVHZW9tZXRyeSh0ZXh0dXJlLndpZHRoLCB0ZXh0dXJlLmhlaWdodCwgdmVydGljZXNYLCB2ZXJ0aWNlc1kpO1xuICAgICAgICB2YXIgbWVzaE1hdGVyaWFsID0gbmV3IE1lc2hNYXRlcmlhbChUZXh0dXJlLldISVRFKTtcblxuICAgICAgICBNZXNoLmNhbGwodGhpcywgcGxhbmVHZW9tZXRyeSwgbWVzaE1hdGVyaWFsKTtcblxuICAgICAgICAvLyBsZXRzIGNhbGwgdGhlIHNldHRlciB0byBlbnN1cmUgYWxsIG5lY2Vzc2FyeSB1cGRhdGVzIGFyZSBwZXJmb3JtZWRcbiAgICAgICAgdGhpcy50ZXh0dXJlID0gdGV4dHVyZTtcbiAgICB9XG5cbiAgICBpZiAoIE1lc2ggKSBTaW1wbGVQbGFuZS5fX3Byb3RvX18gPSBNZXNoO1xuICAgIFNpbXBsZVBsYW5lLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIE1lc2ggJiYgTWVzaC5wcm90b3R5cGUgKTtcbiAgICBTaW1wbGVQbGFuZS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBTaW1wbGVQbGFuZTtcblxuICAgIHZhciBwcm90b3R5cGVBY2Nlc3NvcnMgPSB7IHRleHR1cmU6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0gfTtcblxuICAgIC8qKlxuICAgICAqIE1ldGhvZCB1c2VkIGZvciBvdmVycmlkZXMsIHRvIGRvIHNvbWV0aGluZyBpbiBjYXNlIHRleHR1cmUgZnJhbWUgd2FzIGNoYW5nZWQuXG4gICAgICogTWVzaGVzIGJhc2VkIG9uIHBsYW5lIGNhbiBvdmVycmlkZSBpdCBhbmQgY2hhbmdlIG1vcmUgZGV0YWlscyBiYXNlZCBvbiB0ZXh0dXJlLlxuICAgICAqL1xuICAgIFNpbXBsZVBsYW5lLnByb3RvdHlwZS50ZXh0dXJlVXBkYXRlZCA9IGZ1bmN0aW9uIHRleHR1cmVVcGRhdGVkICgpXG4gICAge1xuICAgICAgICB0aGlzLl90ZXh0dXJlSUQgPSB0aGlzLnNoYWRlci50ZXh0dXJlLl91cGRhdGVJRDtcblxuICAgICAgICB0aGlzLmdlb21ldHJ5LndpZHRoID0gdGhpcy5zaGFkZXIudGV4dHVyZS53aWR0aDtcbiAgICAgICAgdGhpcy5nZW9tZXRyeS5oZWlnaHQgPSB0aGlzLnNoYWRlci50ZXh0dXJlLmhlaWdodDtcblxuICAgICAgICB0aGlzLmdlb21ldHJ5LmJ1aWxkKCk7XG4gICAgfTtcblxuICAgIHByb3RvdHlwZUFjY2Vzc29ycy50ZXh0dXJlLnNldCA9IGZ1bmN0aW9uICh2YWx1ZSlcbiAgICB7XG4gICAgICAgIC8vIFRyYWNrIHRleHR1cmUgc2FtZSB3YXkgc3ByaXRlIGRvZXMuXG4gICAgICAgIC8vIEZvciBnZW5lcmF0ZWQgbWVzaGVzIGxpa2UgTmluZVNsaWNlUGxhbmUgaXQgY2FuIGNoYW5nZSB0aGUgZ2VvbWV0cnkuXG4gICAgICAgIC8vIFVuZm9ydHVuYXRlbHksIHRoaXMgbWV0aG9kIG1pZ2h0IG5vdCB3b3JrIGlmIHlvdSBkaXJlY3RseSBjaGFuZ2UgdGV4dHVyZSBpbiBtYXRlcmlhbC5cblxuICAgICAgICBpZiAodGhpcy5zaGFkZXIudGV4dHVyZSA9PT0gdmFsdWUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc2hhZGVyLnRleHR1cmUgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5fdGV4dHVyZUlEID0gLTE7XG5cbiAgICAgICAgaWYgKHZhbHVlLmJhc2VUZXh0dXJlLnZhbGlkKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnRleHR1cmVVcGRhdGVkKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB2YWx1ZS5vbmNlKCd1cGRhdGUnLCB0aGlzLnRleHR1cmVVcGRhdGVkLCB0aGlzKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMudGV4dHVyZS5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2hhZGVyLnRleHR1cmU7XG4gICAgfTtcblxuICAgIFNpbXBsZVBsYW5lLnByb3RvdHlwZS5fcmVuZGVyID0gZnVuY3Rpb24gX3JlbmRlciAocmVuZGVyZXIpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5fdGV4dHVyZUlEICE9PSB0aGlzLnNoYWRlci50ZXh0dXJlLl91cGRhdGVJRClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy50ZXh0dXJlVXBkYXRlZCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgTWVzaC5wcm90b3R5cGUuX3JlbmRlci5jYWxsKHRoaXMsIHJlbmRlcmVyKTtcbiAgICB9O1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoIFNpbXBsZVBsYW5lLnByb3RvdHlwZSwgcHJvdG90eXBlQWNjZXNzb3JzICk7XG5cbiAgICByZXR1cm4gU2ltcGxlUGxhbmU7XG59KE1lc2gpKTtcblxuLyoqXG4gKiBUaGUgU2ltcGxlIE1lc2ggY2xhc3MgbWltaWNzIE1lc2ggaW4gUGl4aUpTIHY0LCBwcm92aWRpbmcgZWFzeS10by11c2UgY29uc3RydWN0b3IgYXJndW1lbnRzLlxuICogRm9yIG1vcmUgcm9idXN0IGN1c3RvbWl6YXRpb24sIHVzZSB7QGxpbmsgUElYSS5NZXNofS5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuTWVzaFxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFNpbXBsZU1lc2ggPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChNZXNoKSB7XG4gICAgZnVuY3Rpb24gU2ltcGxlTWVzaCh0ZXh0dXJlLCB2ZXJ0aWNlcywgdXZzLCBpbmRpY2VzLCBkcmF3TW9kZSlcbiAgICB7XG4gICAgICAgIGlmICggdGV4dHVyZSA9PT0gdm9pZCAwICkgdGV4dHVyZSA9IFRleHR1cmUuRU1QVFk7XG5cbiAgICAgICAgdmFyIGdlb21ldHJ5ID0gbmV3IE1lc2hHZW9tZXRyeSh2ZXJ0aWNlcywgdXZzLCBpbmRpY2VzKTtcblxuICAgICAgICBnZW9tZXRyeS5nZXRCdWZmZXIoJ2FWZXJ0ZXhQb3NpdGlvbicpLnN0YXRpYyA9IGZhbHNlO1xuXG4gICAgICAgIHZhciBtZXNoTWF0ZXJpYWwgPSBuZXcgTWVzaE1hdGVyaWFsKHRleHR1cmUpO1xuXG4gICAgICAgIE1lc2guY2FsbCh0aGlzLCBnZW9tZXRyeSwgbWVzaE1hdGVyaWFsLCBudWxsLCBkcmF3TW9kZSk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIHVwbG9hZCB2ZXJ0aWNlcyBidWZmZXIgZWFjaCBmcmFtZVxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5hdXRvVXBkYXRlID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAoIE1lc2ggKSBTaW1wbGVNZXNoLl9fcHJvdG9fXyA9IE1lc2g7XG4gICAgU2ltcGxlTWVzaC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBNZXNoICYmIE1lc2gucHJvdG90eXBlICk7XG4gICAgU2ltcGxlTWVzaC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBTaW1wbGVNZXNoO1xuXG4gICAgdmFyIHByb3RvdHlwZUFjY2Vzc29ycyA9IHsgdmVydGljZXM6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0gfTtcblxuICAgIC8qKlxuICAgICAqIENvbGxlY3Rpb24gb2YgdmVydGljZXMgZGF0YS5cbiAgICAgKiBAbWVtYmVyIHtGbG9hdDMyQXJyYXl9XG4gICAgICovXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLnZlcnRpY2VzLmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5nZW9tZXRyeS5nZXRCdWZmZXIoJ2FWZXJ0ZXhQb3NpdGlvbicpLmRhdGE7XG4gICAgfTtcbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMudmVydGljZXMuc2V0ID0gZnVuY3Rpb24gKHZhbHVlKVxuICAgIHtcbiAgICAgICAgdGhpcy5nZW9tZXRyeS5nZXRCdWZmZXIoJ2FWZXJ0ZXhQb3NpdGlvbicpLmRhdGEgPSB2YWx1ZTtcbiAgICB9O1xuXG4gICAgU2ltcGxlTWVzaC5wcm90b3R5cGUuX3JlbmRlciA9IGZ1bmN0aW9uIF9yZW5kZXIgKHJlbmRlcmVyKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuYXV0b1VwZGF0ZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5nZW9tZXRyeS5nZXRCdWZmZXIoJ2FWZXJ0ZXhQb3NpdGlvbicpLnVwZGF0ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgTWVzaC5wcm90b3R5cGUuX3JlbmRlci5jYWxsKHRoaXMsIHJlbmRlcmVyKTtcbiAgICB9O1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoIFNpbXBsZU1lc2gucHJvdG90eXBlLCBwcm90b3R5cGVBY2Nlc3NvcnMgKTtcblxuICAgIHJldHVybiBTaW1wbGVNZXNoO1xufShNZXNoKSk7XG5cbnZhciBERUZBVUxUX0JPUkRFUl9TSVpFID0gMTA7XG5cbi8qKlxuICogVGhlIE5pbmVTbGljZVBsYW5lIGFsbG93cyB5b3UgdG8gc3RyZXRjaCBhIHRleHR1cmUgdXNpbmcgOS1zbGljZSBzY2FsaW5nLiBUaGUgY29ybmVycyB3aWxsIHJlbWFpbiB1bnNjYWxlZCAodXNlZnVsXG4gKiBmb3IgYnV0dG9ucyB3aXRoIHJvdW5kZWQgY29ybmVycyBmb3IgZXhhbXBsZSkgYW5kIHRoZSBvdGhlciBhcmVhcyB3aWxsIGJlIHNjYWxlZCBob3Jpem9udGFsbHkgYW5kIG9yIHZlcnRpY2FsbHlcbiAqXG4gKmBgYGpzXG4gKiBsZXQgUGxhbmU5ID0gbmV3IFBJWEkuTmluZVNsaWNlUGxhbmUoUElYSS5UZXh0dXJlLmZyb20oJ0JveFdpdGhSb3VuZGVkQ29ybmVycy5wbmcnKSwgMTUsIDE1LCAxNSwgMTUpO1xuICogIGBgYFxuICogPHByZT5cbiAqICAgICAgQSAgICAgICAgICAgICAgICAgICAgICAgICAgQlxuICogICAgKy0tLSstLS0tLS0tLS0tLS0tLS0tLS0tLS0tKy0tLStcbiAqICBDIHwgMSB8ICAgICAgICAgIDIgICAgICAgICAgIHwgMyB8XG4gKiAgICArLS0tKy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0rLS0tK1xuICogICAgfCAgIHwgICAgICAgICAgICAgICAgICAgICAgfCAgIHxcbiAqICAgIHwgNCB8ICAgICAgICAgIDUgICAgICAgICAgIHwgNiB8XG4gKiAgICB8ICAgfCAgICAgICAgICAgICAgICAgICAgICB8ICAgfFxuICogICAgKy0tLSstLS0tLS0tLS0tLS0tLS0tLS0tLS0tKy0tLStcbiAqICBEIHwgNyB8ICAgICAgICAgIDggICAgICAgICAgIHwgOSB8XG4gKiAgICArLS0tKy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0rLS0tK1xuXG4gKiAgV2hlbiBjaGFuZ2luZyB0aGlzIG9iamVjdHMgd2lkdGggYW5kL29yIGhlaWdodDpcbiAqICAgICBhcmVhcyAxIDMgNyBhbmQgOSB3aWxsIHJlbWFpbiB1bnNjYWxlZC5cbiAqICAgICBhcmVhcyAyIGFuZCA4IHdpbGwgYmUgc3RyZXRjaGVkIGhvcml6b250YWxseVxuICogICAgIGFyZWFzIDQgYW5kIDYgd2lsbCBiZSBzdHJldGNoZWQgdmVydGljYWxseVxuICogICAgIGFyZWEgNSB3aWxsIGJlIHN0cmV0Y2hlZCBib3RoIGhvcml6b250YWxseSBhbmQgdmVydGljYWxseVxuICogPC9wcmU+XG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLlNpbXBsZVBsYW5lXG4gKiBAbWVtYmVyb2YgUElYSVxuICpcbiAqL1xudmFyIE5pbmVTbGljZVBsYW5lID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoU2ltcGxlUGxhbmUpIHtcbiAgICBmdW5jdGlvbiBOaW5lU2xpY2VQbGFuZSh0ZXh0dXJlLCBsZWZ0V2lkdGgsIHRvcEhlaWdodCwgcmlnaHRXaWR0aCwgYm90dG9tSGVpZ2h0KVxuICAgIHtcbiAgICAgICAgU2ltcGxlUGxhbmUuY2FsbCh0aGlzLCBUZXh0dXJlLldISVRFLCA0LCA0KTtcblxuICAgICAgICB0aGlzLl9vcmlnV2lkdGggPSB0ZXh0dXJlLm9yaWcud2lkdGg7XG4gICAgICAgIHRoaXMuX29yaWdIZWlnaHQgPSB0ZXh0dXJlLm9yaWcuaGVpZ2h0O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgd2lkdGggb2YgdGhlIE5pbmVTbGljZVBsYW5lLCBzZXR0aW5nIHRoaXMgd2lsbCBhY3R1YWxseSBtb2RpZnkgdGhlIHZlcnRpY2VzIGFuZCBVVidzIG9mIHRoaXMgcGxhbmVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAb3ZlcnJpZGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3dpZHRoID0gdGhpcy5fb3JpZ1dpZHRoO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSBOaW5lU2xpY2VQbGFuZSwgc2V0dGluZyB0aGlzIHdpbGwgYWN0dWFsbHkgbW9kaWZ5IHRoZSB2ZXJ0aWNlcyBhbmQgVVYncyBvZiB0aGlzIHBsYW5lXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQG92ZXJyaWRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9oZWlnaHQgPSB0aGlzLl9vcmlnSGVpZ2h0O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgd2lkdGggb2YgdGhlIGxlZnQgY29sdW1uIChhKVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9sZWZ0V2lkdGggPSB0eXBlb2YgbGVmdFdpZHRoICE9PSAndW5kZWZpbmVkJyA/IGxlZnRXaWR0aCA6IERFRkFVTFRfQk9SREVSX1NJWkU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB3aWR0aCBvZiB0aGUgcmlnaHQgY29sdW1uIChiKVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9yaWdodFdpZHRoID0gdHlwZW9mIHJpZ2h0V2lkdGggIT09ICd1bmRlZmluZWQnID8gcmlnaHRXaWR0aCA6IERFRkFVTFRfQk9SREVSX1NJWkU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIHRvcCByb3cgKGMpXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3RvcEhlaWdodCA9IHR5cGVvZiB0b3BIZWlnaHQgIT09ICd1bmRlZmluZWQnID8gdG9wSGVpZ2h0IDogREVGQVVMVF9CT1JERVJfU0laRTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGhlaWdodCBvZiB0aGUgYm90dG9tIHJvdyAoZClcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fYm90dG9tSGVpZ2h0ID0gdHlwZW9mIGJvdHRvbUhlaWdodCAhPT0gJ3VuZGVmaW5lZCcgPyBib3R0b21IZWlnaHQgOiBERUZBVUxUX0JPUkRFUl9TSVpFO1xuXG4gICAgICAgIC8vIGxldHMgY2FsbCB0aGUgc2V0dGVyIHRvIGVuc3VyZSBhbGwgbmVjZXNzYXJ5IHVwZGF0ZXMgYXJlIHBlcmZvcm1lZFxuICAgICAgICB0aGlzLnRleHR1cmUgPSB0ZXh0dXJlO1xuICAgIH1cblxuICAgIGlmICggU2ltcGxlUGxhbmUgKSBOaW5lU2xpY2VQbGFuZS5fX3Byb3RvX18gPSBTaW1wbGVQbGFuZTtcbiAgICBOaW5lU2xpY2VQbGFuZS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBTaW1wbGVQbGFuZSAmJiBTaW1wbGVQbGFuZS5wcm90b3R5cGUgKTtcbiAgICBOaW5lU2xpY2VQbGFuZS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBOaW5lU2xpY2VQbGFuZTtcblxuICAgIHZhciBwcm90b3R5cGVBY2Nlc3NvcnMgPSB7IHZlcnRpY2VzOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LHdpZHRoOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LGhlaWdodDogeyBjb25maWd1cmFibGU6IHRydWUgfSxsZWZ0V2lkdGg6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0scmlnaHRXaWR0aDogeyBjb25maWd1cmFibGU6IHRydWUgfSx0b3BIZWlnaHQ6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sYm90dG9tSGVpZ2h0OiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH07XG5cbiAgICBOaW5lU2xpY2VQbGFuZS5wcm90b3R5cGUudGV4dHVyZVVwZGF0ZWQgPSBmdW5jdGlvbiB0ZXh0dXJlVXBkYXRlZCAoKVxuICAgIHtcbiAgICAgICAgdGhpcy5fdGV4dHVyZUlEID0gdGhpcy5zaGFkZXIudGV4dHVyZS5fdXBkYXRlSUQ7XG4gICAgICAgIHRoaXMuX3JlZnJlc2goKTtcbiAgICB9O1xuXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLnZlcnRpY2VzLmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5nZW9tZXRyeS5nZXRCdWZmZXIoJ2FWZXJ0ZXhQb3NpdGlvbicpLmRhdGE7XG4gICAgfTtcblxuICAgIHByb3RvdHlwZUFjY2Vzc29ycy52ZXJ0aWNlcy5zZXQgPSBmdW5jdGlvbiAodmFsdWUpXG4gICAge1xuICAgICAgICB0aGlzLmdlb21ldHJ5LmdldEJ1ZmZlcignYVZlcnRleFBvc2l0aW9uJykuZGF0YSA9IHZhbHVlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBob3Jpem9udGFsIHZlcnRpY2VzLlxuICAgICAqXG4gICAgICovXG4gICAgTmluZVNsaWNlUGxhbmUucHJvdG90eXBlLnVwZGF0ZUhvcml6b250YWxWZXJ0aWNlcyA9IGZ1bmN0aW9uIHVwZGF0ZUhvcml6b250YWxWZXJ0aWNlcyAoKVxuICAgIHtcbiAgICAgICAgdmFyIHZlcnRpY2VzID0gdGhpcy52ZXJ0aWNlcztcblxuICAgICAgICB2YXIgaCA9IHRoaXMuX3RvcEhlaWdodCArIHRoaXMuX2JvdHRvbUhlaWdodDtcbiAgICAgICAgdmFyIHNjYWxlID0gdGhpcy5faGVpZ2h0ID4gaCA/IDEuMCA6IHRoaXMuX2hlaWdodCAvIGg7XG5cbiAgICAgICAgdmVydGljZXNbOV0gPSB2ZXJ0aWNlc1sxMV0gPSB2ZXJ0aWNlc1sxM10gPSB2ZXJ0aWNlc1sxNV0gPSB0aGlzLl90b3BIZWlnaHQgKiBzY2FsZTtcbiAgICAgICAgdmVydGljZXNbMTddID0gdmVydGljZXNbMTldID0gdmVydGljZXNbMjFdID0gdmVydGljZXNbMjNdID0gdGhpcy5faGVpZ2h0IC0gKHRoaXMuX2JvdHRvbUhlaWdodCAqIHNjYWxlKTtcbiAgICAgICAgdmVydGljZXNbMjVdID0gdmVydGljZXNbMjddID0gdmVydGljZXNbMjldID0gdmVydGljZXNbMzFdID0gdGhpcy5faGVpZ2h0O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSB2ZXJ0aWNhbCB2ZXJ0aWNlcy5cbiAgICAgKlxuICAgICAqL1xuICAgIE5pbmVTbGljZVBsYW5lLnByb3RvdHlwZS51cGRhdGVWZXJ0aWNhbFZlcnRpY2VzID0gZnVuY3Rpb24gdXBkYXRlVmVydGljYWxWZXJ0aWNlcyAoKVxuICAgIHtcbiAgICAgICAgdmFyIHZlcnRpY2VzID0gdGhpcy52ZXJ0aWNlcztcblxuICAgICAgICB2YXIgdyA9IHRoaXMuX2xlZnRXaWR0aCArIHRoaXMuX3JpZ2h0V2lkdGg7XG4gICAgICAgIHZhciBzY2FsZSA9IHRoaXMuX3dpZHRoID4gdyA/IDEuMCA6IHRoaXMuX3dpZHRoIC8gdztcblxuICAgICAgICB2ZXJ0aWNlc1syXSA9IHZlcnRpY2VzWzEwXSA9IHZlcnRpY2VzWzE4XSA9IHZlcnRpY2VzWzI2XSA9IHRoaXMuX2xlZnRXaWR0aCAqIHNjYWxlO1xuICAgICAgICB2ZXJ0aWNlc1s0XSA9IHZlcnRpY2VzWzEyXSA9IHZlcnRpY2VzWzIwXSA9IHZlcnRpY2VzWzI4XSA9IHRoaXMuX3dpZHRoIC0gKHRoaXMuX3JpZ2h0V2lkdGggKiBzY2FsZSk7XG4gICAgICAgIHZlcnRpY2VzWzZdID0gdmVydGljZXNbMTRdID0gdmVydGljZXNbMjJdID0gdmVydGljZXNbMzBdID0gdGhpcy5fd2lkdGg7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSB3aWR0aCBvZiB0aGUgTmluZVNsaWNlUGxhbmUsIHNldHRpbmcgdGhpcyB3aWxsIGFjdHVhbGx5IG1vZGlmeSB0aGUgdmVydGljZXMgYW5kIFVWJ3Mgb2YgdGhpcyBwbGFuZVxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy53aWR0aC5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3dpZHRoO1xuICAgIH07XG5cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMud2lkdGguc2V0ID0gZnVuY3Rpb24gKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIHRoaXMuX3dpZHRoID0gdmFsdWU7XG4gICAgICAgIHRoaXMuX3JlZnJlc2goKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIGhlaWdodCBvZiB0aGUgTmluZVNsaWNlUGxhbmUsIHNldHRpbmcgdGhpcyB3aWxsIGFjdHVhbGx5IG1vZGlmeSB0aGUgdmVydGljZXMgYW5kIFVWJ3Mgb2YgdGhpcyBwbGFuZVxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5oZWlnaHQuZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9oZWlnaHQ7XG4gICAgfTtcblxuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5oZWlnaHQuc2V0ID0gZnVuY3Rpb24gKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIHRoaXMuX2hlaWdodCA9IHZhbHVlO1xuICAgICAgICB0aGlzLl9yZWZyZXNoKCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSB3aWR0aCBvZiB0aGUgbGVmdCBjb2x1bW5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMubGVmdFdpZHRoLmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fbGVmdFdpZHRoO1xuICAgIH07XG5cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMubGVmdFdpZHRoLnNldCA9IGZ1bmN0aW9uICh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICB0aGlzLl9sZWZ0V2lkdGggPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5fcmVmcmVzaCgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgd2lkdGggb2YgdGhlIHJpZ2h0IGNvbHVtblxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5yaWdodFdpZHRoLmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmlnaHRXaWR0aDtcbiAgICB9O1xuXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLnJpZ2h0V2lkdGguc2V0ID0gZnVuY3Rpb24gKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIHRoaXMuX3JpZ2h0V2lkdGggPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5fcmVmcmVzaCgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSB0b3Agcm93XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLnRvcEhlaWdodC5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RvcEhlaWdodDtcbiAgICB9O1xuXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLnRvcEhlaWdodC5zZXQgPSBmdW5jdGlvbiAodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgdGhpcy5fdG9wSGVpZ2h0ID0gdmFsdWU7XG4gICAgICAgIHRoaXMuX3JlZnJlc2goKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIGhlaWdodCBvZiB0aGUgYm90dG9tIHJvd1xuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5ib3R0b21IZWlnaHQuZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9ib3R0b21IZWlnaHQ7XG4gICAgfTtcblxuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5ib3R0b21IZWlnaHQuc2V0ID0gZnVuY3Rpb24gKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIHRoaXMuX2JvdHRvbUhlaWdodCA9IHZhbHVlO1xuICAgICAgICB0aGlzLl9yZWZyZXNoKCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlZnJlc2hlcyBOaW5lU2xpY2VQbGFuZSBjb29yZHMuIEFsbCBvZiB0aGVtLlxuICAgICAqL1xuICAgIE5pbmVTbGljZVBsYW5lLnByb3RvdHlwZS5fcmVmcmVzaCA9IGZ1bmN0aW9uIF9yZWZyZXNoICgpXG4gICAge1xuICAgICAgICB2YXIgdGV4dHVyZSA9IHRoaXMudGV4dHVyZTtcblxuICAgICAgICB2YXIgdXZzID0gdGhpcy5nZW9tZXRyeS5idWZmZXJzWzFdLmRhdGE7XG5cbiAgICAgICAgdGhpcy5fb3JpZ1dpZHRoID0gdGV4dHVyZS5vcmlnLndpZHRoO1xuICAgICAgICB0aGlzLl9vcmlnSGVpZ2h0ID0gdGV4dHVyZS5vcmlnLmhlaWdodDtcblxuICAgICAgICB2YXIgX3V2dyA9IDEuMCAvIHRoaXMuX29yaWdXaWR0aDtcbiAgICAgICAgdmFyIF91dmggPSAxLjAgLyB0aGlzLl9vcmlnSGVpZ2h0O1xuXG4gICAgICAgIHV2c1swXSA9IHV2c1s4XSA9IHV2c1sxNl0gPSB1dnNbMjRdID0gMDtcbiAgICAgICAgdXZzWzFdID0gdXZzWzNdID0gdXZzWzVdID0gdXZzWzddID0gMDtcbiAgICAgICAgdXZzWzZdID0gdXZzWzE0XSA9IHV2c1syMl0gPSB1dnNbMzBdID0gMTtcbiAgICAgICAgdXZzWzI1XSA9IHV2c1syN10gPSB1dnNbMjldID0gdXZzWzMxXSA9IDE7XG5cbiAgICAgICAgdXZzWzJdID0gdXZzWzEwXSA9IHV2c1sxOF0gPSB1dnNbMjZdID0gX3V2dyAqIHRoaXMuX2xlZnRXaWR0aDtcbiAgICAgICAgdXZzWzRdID0gdXZzWzEyXSA9IHV2c1syMF0gPSB1dnNbMjhdID0gMSAtIChfdXZ3ICogdGhpcy5fcmlnaHRXaWR0aCk7XG4gICAgICAgIHV2c1s5XSA9IHV2c1sxMV0gPSB1dnNbMTNdID0gdXZzWzE1XSA9IF91dmggKiB0aGlzLl90b3BIZWlnaHQ7XG4gICAgICAgIHV2c1sxN10gPSB1dnNbMTldID0gdXZzWzIxXSA9IHV2c1syM10gPSAxIC0gKF91dmggKiB0aGlzLl9ib3R0b21IZWlnaHQpO1xuXG4gICAgICAgIHRoaXMudXBkYXRlSG9yaXpvbnRhbFZlcnRpY2VzKCk7XG4gICAgICAgIHRoaXMudXBkYXRlVmVydGljYWxWZXJ0aWNlcygpO1xuXG4gICAgICAgIHRoaXMuZ2VvbWV0cnkuYnVmZmVyc1swXS51cGRhdGUoKTtcbiAgICAgICAgdGhpcy5nZW9tZXRyeS5idWZmZXJzWzFdLnVwZGF0ZSgpO1xuICAgIH07XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyggTmluZVNsaWNlUGxhbmUucHJvdG90eXBlLCBwcm90b3R5cGVBY2Nlc3NvcnMgKTtcblxuICAgIHJldHVybiBOaW5lU2xpY2VQbGFuZTtcbn0oU2ltcGxlUGxhbmUpKTtcblxuZXhwb3J0IHsgTmluZVNsaWNlUGxhbmUsIFBsYW5lR2VvbWV0cnksIFJvcGVHZW9tZXRyeSwgU2ltcGxlTWVzaCwgU2ltcGxlUGxhbmUsIFNpbXBsZVJvcGUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1lc2gtZXh0cmFzLmVzLmpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS9zcHJpdGUtYW5pbWF0ZWQgLSB2NS4yLjBcbiAqIENvbXBpbGVkIFdlZCwgMDYgTm92IDIwMTkgMDI6MzI6NDMgVVRDXG4gKlxuICogQHBpeGkvc3ByaXRlLWFuaW1hdGVkIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgVGV4dHVyZSB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuaW1wb3J0IHsgU3ByaXRlIH0gZnJvbSAnQHBpeGkvc3ByaXRlJztcbmltcG9ydCB7IFRpY2tlciwgVVBEQVRFX1BSSU9SSVRZIH0gZnJvbSAnQHBpeGkvdGlja2VyJztcblxuLyoqXG4gKiBBbiBBbmltYXRlZFNwcml0ZSBpcyBhIHNpbXBsZSB3YXkgdG8gZGlzcGxheSBhbiBhbmltYXRpb24gZGVwaWN0ZWQgYnkgYSBsaXN0IG9mIHRleHR1cmVzLlxuICpcbiAqIGBgYGpzXG4gKiBsZXQgYWxpZW5JbWFnZXMgPSBbXCJpbWFnZV9zZXF1ZW5jZV8wMS5wbmdcIixcImltYWdlX3NlcXVlbmNlXzAyLnBuZ1wiLFwiaW1hZ2Vfc2VxdWVuY2VfMDMucG5nXCIsXCJpbWFnZV9zZXF1ZW5jZV8wNC5wbmdcIl07XG4gKiBsZXQgdGV4dHVyZUFycmF5ID0gW107XG4gKlxuICogZm9yIChsZXQgaT0wOyBpIDwgNDsgaSsrKVxuICoge1xuICogICAgICBsZXQgdGV4dHVyZSA9IFBJWEkuVGV4dHVyZS5mcm9tKGFsaWVuSW1hZ2VzW2ldKTtcbiAqICAgICAgdGV4dHVyZUFycmF5LnB1c2godGV4dHVyZSk7XG4gKiB9O1xuICpcbiAqIGxldCBhbmltYXRlZFNwcml0ZSA9IG5ldyBQSVhJLkFuaW1hdGVkU3ByaXRlKHRleHR1cmVBcnJheSk7XG4gKiBgYGBcbiAqXG4gKiBUaGUgbW9yZSBlZmZpY2llbnQgYW5kIHNpbXBsZXIgd2F5IHRvIGNyZWF0ZSBhbiBhbmltYXRlZCBzcHJpdGUgaXMgdXNpbmcgYSB7QGxpbmsgUElYSS5TcHJpdGVzaGVldH1cbiAqIGNvbnRhaW5pbmcgdGhlIGFuaW1hdGlvbiBkZWZpbml0aW9uczpcbiAqXG4gKiBgYGBqc1xuICogUElYSS5Mb2FkZXIuc2hhcmVkLmFkZChcImFzc2V0cy9zcHJpdGVzaGVldC5qc29uXCIpLmxvYWQoc2V0dXApO1xuICpcbiAqIGZ1bmN0aW9uIHNldHVwKCkge1xuICogICBsZXQgc2hlZXQgPSBQSVhJLkxvYWRlci5zaGFyZWQucmVzb3VyY2VzW1wiYXNzZXRzL3Nwcml0ZXNoZWV0Lmpzb25cIl0uc3ByaXRlc2hlZXQ7XG4gKiAgIGFuaW1hdGVkU3ByaXRlID0gbmV3IFBJWEkuQW5pbWF0ZWRTcHJpdGUoc2hlZXQuYW5pbWF0aW9uc1tcImltYWdlX3NlcXVlbmNlXCJdKTtcbiAqICAgLi4uXG4gKiB9XG4gKiBgYGBcbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuU3ByaXRlXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgQW5pbWF0ZWRTcHJpdGUgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChTcHJpdGUpIHtcbiAgICBmdW5jdGlvbiBBbmltYXRlZFNwcml0ZSh0ZXh0dXJlcywgYXV0b1VwZGF0ZSlcbiAgICB7XG4gICAgICAgIFNwcml0ZS5jYWxsKHRoaXMsIHRleHR1cmVzWzBdIGluc3RhbmNlb2YgVGV4dHVyZSA/IHRleHR1cmVzWzBdIDogdGV4dHVyZXNbMF0udGV4dHVyZSk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtQSVhJLlRleHR1cmVbXX1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3RleHR1cmVzID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUge251bWJlcltdfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fZHVyYXRpb25zID0gbnVsbDtcblxuICAgICAgICB0aGlzLnRleHR1cmVzID0gdGV4dHVyZXM7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIGB0cnVlYCB1c2VzIFBJWEkuVGlja2VyLnNoYXJlZCB0byBhdXRvIHVwZGF0ZSBhbmltYXRpb24gdGltZS5cbiAgICAgICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IHRydWVcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2F1dG9VcGRhdGUgPSBhdXRvVXBkYXRlICE9PSBmYWxzZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHNwZWVkIHRoYXQgdGhlIEFuaW1hdGVkU3ByaXRlIHdpbGwgcGxheSBhdC4gSGlnaGVyIGlzIGZhc3RlciwgbG93ZXIgaXMgc2xvd2VyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDFcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYW5pbWF0aW9uU3BlZWQgPSAxO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGV0aGVyIG9yIG5vdCB0aGUgYW5pbWF0ZSBzcHJpdGUgcmVwZWF0cyBhZnRlciBwbGF5aW5nLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCB0cnVlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmxvb3AgPSB0cnVlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVcGRhdGUgYW5jaG9yIHRvIFtUZXh0dXJlJ3MgZGVmYXVsdEFuY2hvcl17QGxpbmsgUElYSS5UZXh0dXJlI2RlZmF1bHRBbmNob3J9IHdoZW4gZnJhbWUgY2hhbmdlcy5cbiAgICAgICAgICpcbiAgICAgICAgICogVXNlZnVsIHdpdGggW3Nwcml0ZSBzaGVldCBhbmltYXRpb25zXXtAbGluayBQSVhJLlNwcml0ZXNoZWV0I2FuaW1hdGlvbnN9IGNyZWF0ZWQgd2l0aCB0b29scy5cbiAgICAgICAgICogQ2hhbmdpbmcgYW5jaG9yIGZvciBlYWNoIGZyYW1lIGFsbG93cyB0byBwaW4gc3ByaXRlIG9yaWdpbiB0byBjZXJ0YWluIG1vdmluZyBmZWF0dXJlXG4gICAgICAgICAqIG9mIHRoZSBmcmFtZSAoZS5nLiBsZWZ0IGZvb3QpLlxuICAgICAgICAgKlxuICAgICAgICAgKiBOb3RlOiBFbmFibGluZyB0aGlzIHdpbGwgb3ZlcnJpZGUgYW55IHByZXZpb3VzbHkgc2V0IGBhbmNob3JgIG9uIGVhY2ggZnJhbWUgY2hhbmdlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy51cGRhdGVBbmNob3IgPSBmYWxzZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRnVuY3Rpb24gdG8gY2FsbCB3aGVuIGFuIEFuaW1hdGVkU3ByaXRlIGZpbmlzaGVzIHBsYXlpbmcuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge0Z1bmN0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5vbkNvbXBsZXRlID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRnVuY3Rpb24gdG8gY2FsbCB3aGVuIGFuIEFuaW1hdGVkU3ByaXRlIGNoYW5nZXMgd2hpY2ggdGV4dHVyZSBpcyBiZWluZyByZW5kZXJlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7RnVuY3Rpb259XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm9uRnJhbWVDaGFuZ2UgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGdW5jdGlvbiB0byBjYWxsIHdoZW4gYGxvb3BgIGlzIHRydWUsIGFuZCBhbiBBbmltYXRlZFNwcml0ZSBpcyBwbGF5ZWQgYW5kIGxvb3BzIGFyb3VuZCB0byBzdGFydCBhZ2Fpbi5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7RnVuY3Rpb259XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm9uTG9vcCA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEVsYXBzZWQgdGltZSBzaW5jZSBhbmltYXRpb24gaGFzIGJlZW4gc3RhcnRlZCwgdXNlZCBpbnRlcm5hbGx5IHRvIGRpc3BsYXkgY3VycmVudCB0ZXh0dXJlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9jdXJyZW50VGltZSA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEluZGljYXRlcyBpZiB0aGUgQW5pbWF0ZWRTcHJpdGUgaXMgY3VycmVudGx5IHBsYXlpbmcuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5wbGF5aW5nID0gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKCBTcHJpdGUgKSBBbmltYXRlZFNwcml0ZS5fX3Byb3RvX18gPSBTcHJpdGU7XG4gICAgQW5pbWF0ZWRTcHJpdGUucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggU3ByaXRlICYmIFNwcml0ZS5wcm90b3R5cGUgKTtcbiAgICBBbmltYXRlZFNwcml0ZS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBBbmltYXRlZFNwcml0ZTtcblxuICAgIHZhciBwcm90b3R5cGVBY2Nlc3NvcnMgPSB7IHRvdGFsRnJhbWVzOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LHRleHR1cmVzOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LGN1cnJlbnRGcmFtZTogeyBjb25maWd1cmFibGU6IHRydWUgfSB9O1xuXG4gICAgLyoqXG4gICAgICogU3RvcHMgdGhlIEFuaW1hdGVkU3ByaXRlLlxuICAgICAqXG4gICAgICovXG4gICAgQW5pbWF0ZWRTcHJpdGUucHJvdG90eXBlLnN0b3AgPSBmdW5jdGlvbiBzdG9wICgpXG4gICAge1xuICAgICAgICBpZiAoIXRoaXMucGxheWluZylcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5wbGF5aW5nID0gZmFsc2U7XG4gICAgICAgIGlmICh0aGlzLl9hdXRvVXBkYXRlKVxuICAgICAgICB7XG4gICAgICAgICAgICBUaWNrZXIuc2hhcmVkLnJlbW92ZSh0aGlzLnVwZGF0ZSwgdGhpcyk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUGxheXMgdGhlIEFuaW1hdGVkU3ByaXRlLlxuICAgICAqXG4gICAgICovXG4gICAgQW5pbWF0ZWRTcHJpdGUucHJvdG90eXBlLnBsYXkgPSBmdW5jdGlvbiBwbGF5ICgpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5wbGF5aW5nKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnBsYXlpbmcgPSB0cnVlO1xuICAgICAgICBpZiAodGhpcy5fYXV0b1VwZGF0ZSlcbiAgICAgICAge1xuICAgICAgICAgICAgVGlja2VyLnNoYXJlZC5hZGQodGhpcy51cGRhdGUsIHRoaXMsIFVQREFURV9QUklPUklUWS5ISUdIKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTdG9wcyB0aGUgQW5pbWF0ZWRTcHJpdGUgYW5kIGdvZXMgdG8gYSBzcGVjaWZpYyBmcmFtZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBmcmFtZU51bWJlciAtIEZyYW1lIGluZGV4IHRvIHN0b3AgYXQuXG4gICAgICovXG4gICAgQW5pbWF0ZWRTcHJpdGUucHJvdG90eXBlLmdvdG9BbmRTdG9wID0gZnVuY3Rpb24gZ290b0FuZFN0b3AgKGZyYW1lTnVtYmVyKVxuICAgIHtcbiAgICAgICAgdGhpcy5zdG9wKCk7XG5cbiAgICAgICAgdmFyIHByZXZpb3VzRnJhbWUgPSB0aGlzLmN1cnJlbnRGcmFtZTtcblxuICAgICAgICB0aGlzLl9jdXJyZW50VGltZSA9IGZyYW1lTnVtYmVyO1xuXG4gICAgICAgIGlmIChwcmV2aW91c0ZyYW1lICE9PSB0aGlzLmN1cnJlbnRGcmFtZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVUZXh0dXJlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogR29lcyB0byBhIHNwZWNpZmljIGZyYW1lIGFuZCBiZWdpbnMgcGxheWluZyB0aGUgQW5pbWF0ZWRTcHJpdGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZnJhbWVOdW1iZXIgLSBGcmFtZSBpbmRleCB0byBzdGFydCBhdC5cbiAgICAgKi9cbiAgICBBbmltYXRlZFNwcml0ZS5wcm90b3R5cGUuZ290b0FuZFBsYXkgPSBmdW5jdGlvbiBnb3RvQW5kUGxheSAoZnJhbWVOdW1iZXIpXG4gICAge1xuICAgICAgICB2YXIgcHJldmlvdXNGcmFtZSA9IHRoaXMuY3VycmVudEZyYW1lO1xuXG4gICAgICAgIHRoaXMuX2N1cnJlbnRUaW1lID0gZnJhbWVOdW1iZXI7XG5cbiAgICAgICAgaWYgKHByZXZpb3VzRnJhbWUgIT09IHRoaXMuY3VycmVudEZyYW1lKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVRleHR1cmUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucGxheSgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBvYmplY3QgdHJhbnNmb3JtIGZvciByZW5kZXJpbmcuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkZWx0YVRpbWUgLSBUaW1lIHNpbmNlIGxhc3QgdGljay5cbiAgICAgKi9cbiAgICBBbmltYXRlZFNwcml0ZS5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gdXBkYXRlIChkZWx0YVRpbWUpXG4gICAge1xuICAgICAgICB2YXIgZWxhcHNlZCA9IHRoaXMuYW5pbWF0aW9uU3BlZWQgKiBkZWx0YVRpbWU7XG4gICAgICAgIHZhciBwcmV2aW91c0ZyYW1lID0gdGhpcy5jdXJyZW50RnJhbWU7XG5cbiAgICAgICAgaWYgKHRoaXMuX2R1cmF0aW9ucyAhPT0gbnVsbClcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIGxhZyA9IHRoaXMuX2N1cnJlbnRUaW1lICUgMSAqIHRoaXMuX2R1cmF0aW9uc1t0aGlzLmN1cnJlbnRGcmFtZV07XG5cbiAgICAgICAgICAgIGxhZyArPSBlbGFwc2VkIC8gNjAgKiAxMDAwO1xuXG4gICAgICAgICAgICB3aGlsZSAobGFnIDwgMClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9jdXJyZW50VGltZS0tO1xuICAgICAgICAgICAgICAgIGxhZyArPSB0aGlzLl9kdXJhdGlvbnNbdGhpcy5jdXJyZW50RnJhbWVdO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgc2lnbiA9IE1hdGguc2lnbih0aGlzLmFuaW1hdGlvblNwZWVkICogZGVsdGFUaW1lKTtcblxuICAgICAgICAgICAgdGhpcy5fY3VycmVudFRpbWUgPSBNYXRoLmZsb29yKHRoaXMuX2N1cnJlbnRUaW1lKTtcblxuICAgICAgICAgICAgd2hpbGUgKGxhZyA+PSB0aGlzLl9kdXJhdGlvbnNbdGhpcy5jdXJyZW50RnJhbWVdKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGxhZyAtPSB0aGlzLl9kdXJhdGlvbnNbdGhpcy5jdXJyZW50RnJhbWVdICogc2lnbjtcbiAgICAgICAgICAgICAgICB0aGlzLl9jdXJyZW50VGltZSArPSBzaWduO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9jdXJyZW50VGltZSArPSBsYWcgLyB0aGlzLl9kdXJhdGlvbnNbdGhpcy5jdXJyZW50RnJhbWVdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fY3VycmVudFRpbWUgKz0gZWxhcHNlZDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9jdXJyZW50VGltZSA8IDAgJiYgIXRoaXMubG9vcClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5nb3RvQW5kU3RvcCgwKTtcblxuICAgICAgICAgICAgaWYgKHRoaXMub25Db21wbGV0ZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9uQ29tcGxldGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLl9jdXJyZW50VGltZSA+PSB0aGlzLl90ZXh0dXJlcy5sZW5ndGggJiYgIXRoaXMubG9vcClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5nb3RvQW5kU3RvcCh0aGlzLl90ZXh0dXJlcy5sZW5ndGggLSAxKTtcblxuICAgICAgICAgICAgaWYgKHRoaXMub25Db21wbGV0ZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9uQ29tcGxldGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChwcmV2aW91c0ZyYW1lICE9PSB0aGlzLmN1cnJlbnRGcmFtZSlcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMubG9vcCAmJiB0aGlzLm9uTG9vcClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5hbmltYXRpb25TcGVlZCA+IDAgJiYgdGhpcy5jdXJyZW50RnJhbWUgPCBwcmV2aW91c0ZyYW1lKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vbkxvb3AoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5hbmltYXRpb25TcGVlZCA8IDAgJiYgdGhpcy5jdXJyZW50RnJhbWUgPiBwcmV2aW91c0ZyYW1lKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vbkxvb3AoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMudXBkYXRlVGV4dHVyZSgpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIGRpc3BsYXllZCB0ZXh0dXJlIHRvIG1hdGNoIHRoZSBjdXJyZW50IGZyYW1lIGluZGV4LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBBbmltYXRlZFNwcml0ZS5wcm90b3R5cGUudXBkYXRlVGV4dHVyZSA9IGZ1bmN0aW9uIHVwZGF0ZVRleHR1cmUgKClcbiAgICB7XG4gICAgICAgIHRoaXMuX3RleHR1cmUgPSB0aGlzLl90ZXh0dXJlc1t0aGlzLmN1cnJlbnRGcmFtZV07XG4gICAgICAgIHRoaXMuX3RleHR1cmVJRCA9IC0xO1xuICAgICAgICB0aGlzLl90ZXh0dXJlVHJpbW1lZElEID0gLTE7XG4gICAgICAgIHRoaXMuX2NhY2hlZFRpbnQgPSAweEZGRkZGRjtcbiAgICAgICAgdGhpcy51dnMgPSB0aGlzLl90ZXh0dXJlLl91dnMudXZzRmxvYXQzMjtcblxuICAgICAgICBpZiAodGhpcy51cGRhdGVBbmNob3IpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2FuY2hvci5jb3B5RnJvbSh0aGlzLl90ZXh0dXJlLmRlZmF1bHRBbmNob3IpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMub25GcmFtZUNoYW5nZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5vbkZyYW1lQ2hhbmdlKHRoaXMuY3VycmVudEZyYW1lKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTdG9wcyB0aGUgQW5pbWF0ZWRTcHJpdGUgYW5kIGRlc3Ryb3lzIGl0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtvYmplY3R8Ym9vbGVhbn0gW29wdGlvbnNdIC0gT3B0aW9ucyBwYXJhbWV0ZXIuIEEgYm9vbGVhbiB3aWxsIGFjdCBhcyBpZiBhbGwgb3B0aW9uc1xuICAgICAqICBoYXZlIGJlZW4gc2V0IHRvIHRoYXQgdmFsdWUuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jaGlsZHJlbj1mYWxzZV0gLSBJZiBzZXQgdG8gdHJ1ZSwgYWxsIHRoZSBjaGlsZHJlbiB3aWxsIGhhdmUgdGhlaXIgZGVzdHJveVxuICAgICAqICAgICAgbWV0aG9kIGNhbGxlZCBhcyB3ZWxsLiAnb3B0aW9ucycgd2lsbCBiZSBwYXNzZWQgb24gdG8gdGhvc2UgY2FsbHMuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy50ZXh0dXJlPWZhbHNlXSAtIFNob3VsZCBpdCBkZXN0cm95IHRoZSBjdXJyZW50IHRleHR1cmUgb2YgdGhlIHNwcml0ZSBhcyB3ZWxsLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYmFzZVRleHR1cmU9ZmFsc2VdIC0gU2hvdWxkIGl0IGRlc3Ryb3kgdGhlIGJhc2UgdGV4dHVyZSBvZiB0aGUgc3ByaXRlIGFzIHdlbGwuXG4gICAgICovXG4gICAgQW5pbWF0ZWRTcHJpdGUucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95IChvcHRpb25zKVxuICAgIHtcbiAgICAgICAgdGhpcy5zdG9wKCk7XG4gICAgICAgIFNwcml0ZS5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMsIG9wdGlvbnMpO1xuXG4gICAgICAgIHRoaXMub25Db21wbGV0ZSA9IG51bGw7XG4gICAgICAgIHRoaXMub25GcmFtZUNoYW5nZSA9IG51bGw7XG4gICAgICAgIHRoaXMub25Mb29wID0gbnVsbDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQSBzaG9ydCBoYW5kIHdheSBvZiBjcmVhdGluZyBhbiBBbmltYXRlZFNwcml0ZSBmcm9tIGFuIGFycmF5IG9mIGZyYW1lIGlkcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ1tdfSBmcmFtZXMgLSBUaGUgYXJyYXkgb2YgZnJhbWVzIGlkcyB0aGUgQW5pbWF0ZWRTcHJpdGUgd2lsbCB1c2UgYXMgaXRzIHRleHR1cmUgZnJhbWVzLlxuICAgICAqIEByZXR1cm4ge0FuaW1hdGVkU3ByaXRlfSBUaGUgbmV3IGFuaW1hdGVkIHNwcml0ZSB3aXRoIHRoZSBzcGVjaWZpZWQgZnJhbWVzLlxuICAgICAqL1xuICAgIEFuaW1hdGVkU3ByaXRlLmZyb21GcmFtZXMgPSBmdW5jdGlvbiBmcm9tRnJhbWVzIChmcmFtZXMpXG4gICAge1xuICAgICAgICB2YXIgdGV4dHVyZXMgPSBbXTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGZyYW1lcy5sZW5ndGg7ICsraSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGV4dHVyZXMucHVzaChUZXh0dXJlLmZyb20oZnJhbWVzW2ldKSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbmV3IEFuaW1hdGVkU3ByaXRlKHRleHR1cmVzKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQSBzaG9ydCBoYW5kIHdheSBvZiBjcmVhdGluZyBhbiBBbmltYXRlZFNwcml0ZSBmcm9tIGFuIGFycmF5IG9mIGltYWdlIGlkcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ1tdfSBpbWFnZXMgLSBUaGUgYXJyYXkgb2YgaW1hZ2UgdXJscyB0aGUgQW5pbWF0ZWRTcHJpdGUgd2lsbCB1c2UgYXMgaXRzIHRleHR1cmUgZnJhbWVzLlxuICAgICAqIEByZXR1cm4ge0FuaW1hdGVkU3ByaXRlfSBUaGUgbmV3IGFuaW1hdGUgc3ByaXRlIHdpdGggdGhlIHNwZWNpZmllZCBpbWFnZXMgYXMgZnJhbWVzLlxuICAgICAqL1xuICAgIEFuaW1hdGVkU3ByaXRlLmZyb21JbWFnZXMgPSBmdW5jdGlvbiBmcm9tSW1hZ2VzIChpbWFnZXMpXG4gICAge1xuICAgICAgICB2YXIgdGV4dHVyZXMgPSBbXTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGltYWdlcy5sZW5ndGg7ICsraSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGV4dHVyZXMucHVzaChUZXh0dXJlLmZyb20oaW1hZ2VzW2ldKSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbmV3IEFuaW1hdGVkU3ByaXRlKHRleHR1cmVzKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIHRvdGFsIG51bWJlciBvZiBmcmFtZXMgaW4gdGhlIEFuaW1hdGVkU3ByaXRlLiBUaGlzIGlzIHRoZSBzYW1lIGFzIG51bWJlciBvZiB0ZXh0dXJlc1xuICAgICAqIGFzc2lnbmVkIHRvIHRoZSBBbmltYXRlZFNwcml0ZS5cbiAgICAgKlxuICAgICAqIEByZWFkb25seVxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAwXG4gICAgICovXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLnRvdGFsRnJhbWVzLmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fdGV4dHVyZXMubGVuZ3RoO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYXJyYXkgb2YgdGV4dHVyZXMgdXNlZCBmb3IgdGhpcyBBbmltYXRlZFNwcml0ZS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1BJWEkuVGV4dHVyZVtdfVxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy50ZXh0dXJlcy5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RleHR1cmVzO1xuICAgIH07XG5cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMudGV4dHVyZXMuc2V0ID0gZnVuY3Rpb24gKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIGlmICh2YWx1ZVswXSBpbnN0YW5jZW9mIFRleHR1cmUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX3RleHR1cmVzID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLl9kdXJhdGlvbnMgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fdGV4dHVyZXMgPSBbXTtcbiAgICAgICAgICAgIHRoaXMuX2R1cmF0aW9ucyA9IFtdO1xuXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZhbHVlLmxlbmd0aDsgaSsrKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuX3RleHR1cmVzLnB1c2godmFsdWVbaV0udGV4dHVyZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5fZHVyYXRpb25zLnB1c2godmFsdWVbaV0udGltZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5nb3RvQW5kU3RvcCgwKTtcbiAgICAgICAgdGhpcy51cGRhdGVUZXh0dXJlKCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICogVGhlIEFuaW1hdGVkU3ByaXRlcyBjdXJyZW50IGZyYW1lIGluZGV4LlxuICAgICpcbiAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAqIEByZWFkb25seVxuICAgICovXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLmN1cnJlbnRGcmFtZS5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgdmFyIGN1cnJlbnRGcmFtZSA9IE1hdGguZmxvb3IodGhpcy5fY3VycmVudFRpbWUpICUgdGhpcy5fdGV4dHVyZXMubGVuZ3RoO1xuXG4gICAgICAgIGlmIChjdXJyZW50RnJhbWUgPCAwKVxuICAgICAgICB7XG4gICAgICAgICAgICBjdXJyZW50RnJhbWUgKz0gdGhpcy5fdGV4dHVyZXMubGVuZ3RoO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGN1cnJlbnRGcmFtZTtcbiAgICB9O1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoIEFuaW1hdGVkU3ByaXRlLnByb3RvdHlwZSwgcHJvdG90eXBlQWNjZXNzb3JzICk7XG5cbiAgICByZXR1cm4gQW5pbWF0ZWRTcHJpdGU7XG59KFNwcml0ZSkpO1xuXG4vKipcbiAqIEBtZW1iZXJvZiBQSVhJLkFuaW1hdGVkU3ByaXRlXG4gKiBAdHlwZWRlZiB7b2JqZWN0fSBGcmFtZU9iamVjdFxuICogQHR5cGUge29iamVjdH1cbiAqIEBwcm9wZXJ0eSB7UElYSS5UZXh0dXJlfSB0ZXh0dXJlIC0gVGhlIHtAbGluayBQSVhJLlRleHR1cmV9IG9mIHRoZSBmcmFtZVxuICogQHByb3BlcnR5IHtudW1iZXJ9IHRpbWUgLSB0aGUgZHVyYXRpb24gb2YgdGhlIGZyYW1lIGluIG1zXG4gKi9cblxuZXhwb3J0IHsgQW5pbWF0ZWRTcHJpdGUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNwcml0ZS1hbmltYXRlZC5lcy5qcy5tYXBcbiIsIi8qIVxuICogcGl4aS5qcyAtIHY1LjIuMFxuICogQ29tcGlsZWQgV2VkLCAwNiBOb3YgMjAxOSAwMjozMjo0MyBVVENcbiAqXG4gKiBwaXhpLmpzIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuaW1wb3J0ICdAcGl4aS9wb2x5ZmlsbCc7XG5pbXBvcnQgeyBBY2Nlc3NpYmlsaXR5TWFuYWdlciB9IGZyb20gJ0BwaXhpL2FjY2Vzc2liaWxpdHknO1xuaW1wb3J0ICogYXMgYWNjZXNzaWJpbGl0eSBmcm9tICdAcGl4aS9hY2Nlc3NpYmlsaXR5JztcbmV4cG9ydCB7IGFjY2Vzc2liaWxpdHkgfTtcbmltcG9ydCB7IEV4dHJhY3QgfSBmcm9tICdAcGl4aS9leHRyYWN0JztcbmltcG9ydCAqIGFzIGV4dHJhY3QgZnJvbSAnQHBpeGkvZXh0cmFjdCc7XG5leHBvcnQgeyBleHRyYWN0IH07XG5pbXBvcnQgeyBJbnRlcmFjdGlvbk1hbmFnZXIgfSBmcm9tICdAcGl4aS9pbnRlcmFjdGlvbic7XG5pbXBvcnQgKiBhcyBpbnRlcmFjdGlvbiBmcm9tICdAcGl4aS9pbnRlcmFjdGlvbic7XG5leHBvcnQgeyBpbnRlcmFjdGlvbiB9O1xuaW1wb3J0IHsgUHJlcGFyZSB9IGZyb20gJ0BwaXhpL3ByZXBhcmUnO1xuaW1wb3J0ICogYXMgcHJlcGFyZSBmcm9tICdAcGl4aS9wcmVwYXJlJztcbmV4cG9ydCB7IHByZXBhcmUgfTtcbmltcG9ydCB7IGRlcHJlY2F0aW9uIH0gZnJvbSAnQHBpeGkvdXRpbHMnO1xuaW1wb3J0ICogYXMgdXRpbHMgZnJvbSAnQHBpeGkvdXRpbHMnO1xuZXhwb3J0IHsgdXRpbHMgfTtcbmltcG9ydCB7IEFwcGxpY2F0aW9uIH0gZnJvbSAnQHBpeGkvYXBwJztcbmV4cG9ydCAqIGZyb20gJ0BwaXhpL2FwcCc7XG5pbXBvcnQgeyBSZW5kZXJlciwgQmF0Y2hSZW5kZXJlciB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuZXhwb3J0ICogZnJvbSAnQHBpeGkvY29yZSc7XG5pbXBvcnQgeyBMb2FkZXIsIEFwcExvYWRlclBsdWdpbiB9IGZyb20gJ0BwaXhpL2xvYWRlcnMnO1xuZXhwb3J0ICogZnJvbSAnQHBpeGkvbG9hZGVycyc7XG5pbXBvcnQgeyBQYXJ0aWNsZVJlbmRlcmVyIH0gZnJvbSAnQHBpeGkvcGFydGljbGVzJztcbmV4cG9ydCAqIGZyb20gJ0BwaXhpL3BhcnRpY2xlcyc7XG5pbXBvcnQgeyBTcHJpdGVzaGVldExvYWRlciB9IGZyb20gJ0BwaXhpL3Nwcml0ZXNoZWV0JztcbmV4cG9ydCAqIGZyb20gJ0BwaXhpL3Nwcml0ZXNoZWV0JztcbmltcG9ydCB7IFRpbGluZ1Nwcml0ZVJlbmRlcmVyIH0gZnJvbSAnQHBpeGkvc3ByaXRlLXRpbGluZyc7XG5leHBvcnQgKiBmcm9tICdAcGl4aS9zcHJpdGUtdGlsaW5nJztcbmltcG9ydCB7IEJpdG1hcEZvbnRMb2FkZXIgfSBmcm9tICdAcGl4aS90ZXh0LWJpdG1hcCc7XG5leHBvcnQgKiBmcm9tICdAcGl4aS90ZXh0LWJpdG1hcCc7XG5pbXBvcnQgeyBUaWNrZXJQbHVnaW4gfSBmcm9tICdAcGl4aS90aWNrZXInO1xuZXhwb3J0ICogZnJvbSAnQHBpeGkvdGlja2VyJztcbmltcG9ydCB7IEFscGhhRmlsdGVyIH0gZnJvbSAnQHBpeGkvZmlsdGVyLWFscGhhJztcbmltcG9ydCB7IEJsdXJGaWx0ZXIsIEJsdXJGaWx0ZXJQYXNzIH0gZnJvbSAnQHBpeGkvZmlsdGVyLWJsdXInO1xuaW1wb3J0IHsgQ29sb3JNYXRyaXhGaWx0ZXIgfSBmcm9tICdAcGl4aS9maWx0ZXItY29sb3ItbWF0cml4JztcbmltcG9ydCB7IERpc3BsYWNlbWVudEZpbHRlciB9IGZyb20gJ0BwaXhpL2ZpbHRlci1kaXNwbGFjZW1lbnQnO1xuaW1wb3J0IHsgRlhBQUZpbHRlciB9IGZyb20gJ0BwaXhpL2ZpbHRlci1meGFhJztcbmltcG9ydCB7IE5vaXNlRmlsdGVyIH0gZnJvbSAnQHBpeGkvZmlsdGVyLW5vaXNlJztcbmltcG9ydCAnQHBpeGkvbWl4aW4tY2FjaGUtYXMtYml0bWFwJztcbmltcG9ydCAnQHBpeGkvbWl4aW4tZ2V0LWNoaWxkLWJ5LW5hbWUnO1xuaW1wb3J0ICdAcGl4aS9taXhpbi1nZXQtZ2xvYmFsLXBvc2l0aW9uJztcbmV4cG9ydCAqIGZyb20gJ0BwaXhpL2NvbnN0YW50cyc7XG5leHBvcnQgKiBmcm9tICdAcGl4aS9kaXNwbGF5JztcbmV4cG9ydCAqIGZyb20gJ0BwaXhpL2dyYXBoaWNzJztcbmV4cG9ydCAqIGZyb20gJ0BwaXhpL21hdGgnO1xuZXhwb3J0ICogZnJvbSAnQHBpeGkvbWVzaCc7XG5leHBvcnQgKiBmcm9tICdAcGl4aS9tZXNoLWV4dHJhcyc7XG5leHBvcnQgKiBmcm9tICdAcGl4aS9ydW5uZXInO1xuZXhwb3J0ICogZnJvbSAnQHBpeGkvc3ByaXRlJztcbmV4cG9ydCAqIGZyb20gJ0BwaXhpL3Nwcml0ZS1hbmltYXRlZCc7XG5leHBvcnQgKiBmcm9tICdAcGl4aS90ZXh0JztcbmV4cG9ydCAqIGZyb20gJ0BwaXhpL3NldHRpbmdzJztcblxudmFyIHY1ID0gJzUuMC4wJztcblxuLyoqXG4gKiBEZXByZWNhdGlvbnMgKGJhY2t3YXJkIGNvbXBhdGliaWxpdGllcykgYXJlIGF1dG9tYXRpY2FsbHkgYXBwbGllZCBmb3IgYnJvd3NlciBidW5kbGVzXG4gKiBpbiB0aGUgVU1EIG1vZHVsZSBmb3JtYXQuIElmIHVzaW5nIFdlYnBhY2sgb3IgUm9sbHVwLCB5b3UnbGwgbmVlZCB0byBhcHBseSB0aGVzZVxuICogZGVwcmVjYXRpb25zIG1hbnVhbGx5IGJ5IGRvaW5nIHNvbWV0aGluZyBsaWtlIHRoaXM6XG4gKiBAZXhhbXBsZVxuICogaW1wb3J0ICogYXMgUElYSSBmcm9tICdwaXhpLmpzJztcbiAqIFBJWEkudXNlRGVwcmVjYXRlZCgpOyAvLyBNVVNUIGJlIGJvdW5kIHRvIG5hbWVzcGFjZVxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBmdW5jdGlvbiB1c2VEZXByZWNhdGVkXG4gKi9cbmZ1bmN0aW9uIHVzZURlcHJlY2F0ZWQoKVxue1xuICAgIHZhciBQSVhJID0gdGhpcztcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKFBJWEksIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjb25zdGFudCB7UmVnRXhwfHN0cmluZ30gU1ZHX1NJWkVcbiAgICAgICAgICogQG1lbWJlcm9mIFBJWElcbiAgICAgICAgICogQHNlZSBQSVhJLnJlc291cmNlcy5TVkdSZXNvdXJjZS5TVkdfU0laRVxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgU1ZHX1NJWkU6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkudXRpbHMuU1ZHX1NJWkUgcHJvcGVydHkgaGFzIG1vdmVkIHRvIFBJWEkucmVzb3VyY2VzLlNWR1Jlc291cmNlLlNWR19TSVpFJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5TVkdSZXNvdXJjZS5TVkdfU0laRTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzcyBQSVhJLlRyYW5zZm9ybVN0YXRpY1xuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKiBAc2VlIFBJWEkuVHJhbnNmb3JtXG4gICAgICAgICAqL1xuICAgICAgICBUcmFuc2Zvcm1TdGF0aWM6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuVHJhbnNmb3JtU3RhdGljIGNsYXNzIGhhcyBiZWVuIHJlbW92ZWQsIHVzZSBQSVhJLlRyYW5zZm9ybScpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkuVHJhbnNmb3JtO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzIFBJWEkuVHJhbnNmb3JtQmFzZVxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKiBAc2VlIFBJWEkuVHJhbnNmb3JtXG4gICAgICAgICAqL1xuICAgICAgICBUcmFuc2Zvcm1CYXNlOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLlRyYW5zZm9ybUJhc2UgY2xhc3MgaGFzIGJlZW4gcmVtb3ZlZCwgdXNlIFBJWEkuVHJhbnNmb3JtJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5UcmFuc2Zvcm07XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb25zdGFudHMgdGhhdCBzcGVjaWZ5IHRoZSB0cmFuc2Zvcm0gdHlwZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgKiBAY29uc3RhbnRcbiAgICAgICAgICogQG5hbWUgVFJBTlNGT1JNX01PREVcbiAgICAgICAgICogQG1lbWJlcm9mIFBJWElcbiAgICAgICAgICogQGVudW0ge251bWJlcn1cbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICogQHByb3BlcnR5IHtudW1iZXJ9IFNUQVRJQ1xuICAgICAgICAgKiBAcHJvcGVydHkge251bWJlcn0gRFlOQU1JQ1xuICAgICAgICAgKi9cbiAgICAgICAgVFJBTlNGT1JNX01PREU6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuVFJBTlNGT1JNX01PREUgcHJvcGVydHkgaGFzIGJlZW4gcmVtb3ZlZCcpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgU1RBVElDOiAwLCBEWU5BTUlDOiAxIH07XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3MgUElYSS5XZWJHTFJlbmRlcmVyXG4gICAgICAgICAqIEBzZWUgUElYSS5SZW5kZXJlclxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgV2ViR0xSZW5kZXJlcjoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5XZWJHTFJlbmRlcmVyIGNsYXNzIGhhcyBtb3ZlZCB0byBQSVhJLlJlbmRlcmVyJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5SZW5kZXJlcjtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzcyBQSVhJLkNhbnZhc1JlbmRlclRhcmdldFxuICAgICAgICAgKiBAc2VlIFBJWEkudXRpbHMuQ2FudmFzUmVuZGVyVGFyZ2V0XG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBDYW52YXNSZW5kZXJUYXJnZXQ6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuQ2FudmFzUmVuZGVyVGFyZ2V0IGNsYXNzIGhhcyBtb3ZlZCB0byBQSVhJLnV0aWxzLkNhbnZhc1JlbmRlclRhcmdldCcpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkudXRpbHMuQ2FudmFzUmVuZGVyVGFyZ2V0O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlcm9mIFBJWElcbiAgICAgICAgICogQG5hbWUgbG9hZGVyXG4gICAgICAgICAqIEB0eXBlIHtQSVhJLkxvYWRlcn1cbiAgICAgICAgICogQHNlZSBQSVhJLkxvYWRlci5zaGFyZWRcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICovXG4gICAgICAgIGxvYWRlcjoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5sb2FkZXIgaW5zdGFuY2UgaGFzIG1vdmVkIHRvIFBJWEkuTG9hZGVyLnNoYXJlZCcpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkuTG9hZGVyLnNoYXJlZDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzcyBQSVhJLkZpbHRlck1hbmFnZXJcbiAgICAgICAgICogQHNlZSBQSVhJLnN5c3RlbXMuRmlsdGVyU3lzdGVtXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBGaWx0ZXJNYW5hZ2VyOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLkZpbHRlck1hbmFnZXIgY2xhc3MgaGFzIG1vdmVkIHRvIFBJWEkuc3lzdGVtcy5GaWx0ZXJTeXN0ZW0nKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLnN5c3RlbXMuRmlsdGVyU3lzdGVtO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogQG5hbWVzcGFjZSBQSVhJLkNhbnZhc1RpbnRlclxuICAgICAgICAgKiBAc2VlIFBJWEkuY2FudmFzVXRpbHNcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4yLjBcbiAgICAgICAgICovXG4gICAgICAgIENhbnZhc1RpbnRlcjoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKCc1LjIuMCcsICdQSVhJLkNhbnZhc1RpbnRlciBuYW1lc3BhY2UgaGFzIG1vdmVkIHRvIFBJWEkuY2FudmFzVXRpbHMnKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLmNhbnZhc1V0aWxzO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogQG5hbWVzcGFjZSBQSVhJLkdyb3VwRDhcbiAgICAgICAgICogQHNlZSBQSVhJLmdyb3VwRDhcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4yLjBcbiAgICAgICAgICovXG4gICAgICAgIEdyb3VwRDg6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbignNS4yLjAnLCAnUElYSS5Hcm91cEQ4IG5hbWVzcGFjZSBoYXMgbW92ZWQgdG8gUElYSS5ncm91cEQ4Jyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5ncm91cEQ4O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbmFtZXNwYWNlIGhhcyBiZWVuIHJlbW92ZWQuIEFsbCBjbGFzc2VzIHByZXZpb3VzIG5lc3RlZFxuICAgICAqIHVuZGVyIHRoaXMgbmFtZXNwYWNlIGhhdmUgYmVlbiBtb3ZlZCB0byB0aGUgdG9wLWxldmVsIGBQSVhJYCBvYmplY3QuXG4gICAgICogQG5hbWVzcGFjZSBQSVhJLmV4dHJhc1xuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICovXG4gICAgUElYSS5leHRyYXMgPSB7fTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKFBJWEkuZXh0cmFzLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3MgUElYSS5leHRyYXMuVGlsaW5nU3ByaXRlXG4gICAgICAgICAqIEBzZWUgUElYSS5UaWxpbmdTcHJpdGVcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICovXG4gICAgICAgIFRpbGluZ1Nwcml0ZToge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5leHRyYXMuVGlsaW5nU3ByaXRlIGNsYXNzIGhhcyBtb3ZlZCB0byBQSVhJLlRpbGluZ1Nwcml0ZScpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkuVGlsaW5nU3ByaXRlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzcyBQSVhJLmV4dHJhcy5UaWxpbmdTcHJpdGVSZW5kZXJlclxuICAgICAgICAgKiBAc2VlIFBJWEkuVGlsaW5nU3ByaXRlUmVuZGVyZXJcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICovXG4gICAgICAgIFRpbGluZ1Nwcml0ZVJlbmRlcmVyOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLmV4dHJhcy5UaWxpbmdTcHJpdGVSZW5kZXJlciBjbGFzcyBoYXMgbW92ZWQgdG8gUElYSS5UaWxpbmdTcHJpdGVSZW5kZXJlcicpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkuVGlsaW5nU3ByaXRlUmVuZGVyZXI7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzIFBJWEkuZXh0cmFzLkFuaW1hdGVkU3ByaXRlXG4gICAgICAgICAqIEBzZWUgUElYSS5BbmltYXRlZFNwcml0ZVxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgQW5pbWF0ZWRTcHJpdGU6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuZXh0cmFzLkFuaW1hdGVkU3ByaXRlIGNsYXNzIGhhcyBtb3ZlZCB0byBQSVhJLkFuaW1hdGVkU3ByaXRlJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5BbmltYXRlZFNwcml0ZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3MgUElYSS5leHRyYXMuQml0bWFwVGV4dFxuICAgICAgICAgKiBAc2VlIFBJWEkuQml0bWFwVGV4dFxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgQml0bWFwVGV4dDoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5leHRyYXMuQml0bWFwVGV4dCBjbGFzcyBoYXMgbW92ZWQgdG8gUElYSS5CaXRtYXBUZXh0Jyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5CaXRtYXBUZXh0O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICB9KTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKFBJWEkudXRpbHMsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBmdW5jdGlvbiBQSVhJLnV0aWxzLmdldFN2Z1NpemVcbiAgICAgICAgICogQHNlZSBQSVhJLnJlc291cmNlcy5TVkdSZXNvdXJjZS5nZXRTaXplXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBnZXRTdmdTaXplOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLnV0aWxzLmdldFN2Z1NpemUgZnVuY3Rpb24gaGFzIG1vdmVkIHRvIFBJWEkucmVzb3VyY2VzLlNWR1Jlc291cmNlLmdldFNpemUnKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLlNWR1Jlc291cmNlLmdldFNpemU7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQWxsIGNsYXNzZXMgb24gdGhpcyBuYW1lc3BhY2UgaGF2ZSBtb3ZlZCB0byB0aGUgaGlnaC1sZXZlbCBgUElYSWAgb2JqZWN0LlxuICAgICAqIEBuYW1lc3BhY2UgUElYSS5tZXNoXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKi9cbiAgICBQSVhJLm1lc2ggPSB7fTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKFBJWEkubWVzaCwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzIFBJWEkubWVzaC5NZXNoXG4gICAgICAgICAqIEBzZWUgUElYSS5TaW1wbGVNZXNoXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBNZXNoOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLm1lc2guTWVzaCBjbGFzcyBoYXMgbW92ZWQgdG8gUElYSS5TaW1wbGVNZXNoJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5TaW1wbGVNZXNoO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzcyBQSVhJLm1lc2guTmluZVNsaWNlUGxhbmVcbiAgICAgICAgICogQHNlZSBQSVhJLk5pbmVTbGljZVBsYW5lXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBOaW5lU2xpY2VQbGFuZToge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5tZXNoLk5pbmVTbGljZVBsYW5lIGNsYXNzIGhhcyBtb3ZlZCB0byBQSVhJLk5pbmVTbGljZVBsYW5lJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5OaW5lU2xpY2VQbGFuZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3MgUElYSS5tZXNoLlBsYW5lXG4gICAgICAgICAqIEBzZWUgUElYSS5TaW1wbGVQbGFuZVxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgUGxhbmU6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkubWVzaC5QbGFuZSBjbGFzcyBoYXMgbW92ZWQgdG8gUElYSS5TaW1wbGVQbGFuZScpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkuU2ltcGxlUGxhbmU7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzIFBJWEkubWVzaC5Sb3BlXG4gICAgICAgICAqIEBzZWUgUElYSS5TaW1wbGVSb3BlXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBSb3BlOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLm1lc2guUm9wZSBjbGFzcyBoYXMgbW92ZWQgdG8gUElYSS5TaW1wbGVSb3BlJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5TaW1wbGVSb3BlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzcyBQSVhJLm1lc2guUmF3TWVzaFxuICAgICAgICAgKiBAc2VlIFBJWEkuTWVzaFxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgUmF3TWVzaDoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5tZXNoLlJhd01lc2ggY2xhc3MgaGFzIG1vdmVkIHRvIFBJWEkuTWVzaCcpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkuTWVzaDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3MgUElYSS5tZXNoLkNhbnZhc01lc2hSZW5kZXJlclxuICAgICAgICAgKiBAc2VlIFBJWEkuQ2FudmFzTWVzaFJlbmRlcmVyXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBDYW52YXNNZXNoUmVuZGVyZXI6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkubWVzaC5DYW52YXNNZXNoUmVuZGVyZXIgY2xhc3MgaGFzIG1vdmVkIHRvIFBJWEkuQ2FudmFzTWVzaFJlbmRlcmVyJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5DYW52YXNNZXNoUmVuZGVyZXI7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzIFBJWEkubWVzaC5NZXNoUmVuZGVyZXJcbiAgICAgICAgICogQHNlZSBQSVhJLk1lc2hSZW5kZXJlclxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgTWVzaFJlbmRlcmVyOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLm1lc2guTWVzaFJlbmRlcmVyIGNsYXNzIGhhcyBtb3ZlZCB0byBQSVhJLk1lc2hSZW5kZXJlcicpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkuTWVzaFJlbmRlcmVyO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbmFtZXNwYWNlIGhhcyBiZWVuIHJlbW92ZWQgYW5kIGl0ZW1zIGhhdmUgYmVlbiBtb3ZlZCB0b1xuICAgICAqIHRoZSB0b3AtbGV2ZWwgYFBJWElgIG9iamVjdC5cbiAgICAgKiBAbmFtZXNwYWNlIFBJWEkucGFydGljbGVzXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKi9cbiAgICBQSVhJLnBhcnRpY2xlcyA9IHt9O1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoUElYSS5wYXJ0aWNsZXMsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzcyBQSVhJLnBhcnRpY2xlcy5QYXJ0aWNsZUNvbnRhaW5lclxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKiBAc2VlIFBJWEkuUGFydGljbGVDb250YWluZXJcbiAgICAgICAgICovXG4gICAgICAgIFBhcnRpY2xlQ29udGFpbmVyOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLnBhcnRpY2xlcy5QYXJ0aWNsZUNvbnRhaW5lciBjbGFzcyBoYXMgbW92ZWQgdG8gUElYSS5QYXJ0aWNsZUNvbnRhaW5lcicpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkuUGFydGljbGVDb250YWluZXI7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzIFBJWEkucGFydGljbGVzLlBhcnRpY2xlUmVuZGVyZXJcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICogQHNlZSBQSVhJLlBhcnRpY2xlUmVuZGVyZXJcbiAgICAgICAgICovXG4gICAgICAgIFBhcnRpY2xlUmVuZGVyZXI6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkucGFydGljbGVzLlBhcnRpY2xlUmVuZGVyZXIgY2xhc3MgaGFzIG1vdmVkIHRvIFBJWEkuUGFydGljbGVSZW5kZXJlcicpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkuUGFydGljbGVSZW5kZXJlcjtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG5hbWVzcGFjZSBoYXMgYmVlbiByZW1vdmVkIGFuZCBpdGVtcyBoYXZlIGJlZW4gbW92ZWQgdG9cbiAgICAgKiB0aGUgdG9wLWxldmVsIGBQSVhJYCBvYmplY3QuXG4gICAgICogQG5hbWVzcGFjZSBQSVhJLnRpY2tlclxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICovXG4gICAgUElYSS50aWNrZXIgPSB7fTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKFBJWEkudGlja2VyLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3MgUElYSS50aWNrZXIuVGlja2VyXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqIEBzZWUgUElYSS5UaWNrZXJcbiAgICAgICAgICovXG4gICAgICAgIFRpY2tlcjoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS50aWNrZXIuVGlja2VyIGNsYXNzIGhhcyBtb3ZlZCB0byBQSVhJLlRpY2tlcicpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkuVGlja2VyO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuYW1lIFBJWEkudGlja2VyLnNoYXJlZFxuICAgICAgICAgKiBAdHlwZSB7UElYSS5UaWNrZXJ9XG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqIEBzZWUgUElYSS5UaWNrZXIuc2hhcmVkXG4gICAgICAgICAqL1xuICAgICAgICBzaGFyZWQ6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkudGlja2VyLnNoYXJlZCBpbnN0YW5jZSBoYXMgbW92ZWQgdG8gUElYSS5UaWNrZXIuc2hhcmVkJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5UaWNrZXIuc2hhcmVkO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIEFsbCBjbGFzc2VzIG9uIHRoaXMgbmFtZXNwYWNlIGhhdmUgbW92ZWQgdG8gdGhlIGhpZ2gtbGV2ZWwgYFBJWElgIG9iamVjdC5cbiAgICAgKiBAbmFtZXNwYWNlIFBJWEkubG9hZGVyc1xuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICovXG4gICAgUElYSS5sb2FkZXJzID0ge307XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhQSVhJLmxvYWRlcnMsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzcyBQSVhJLmxvYWRlcnMuTG9hZGVyXG4gICAgICAgICAqIEBzZWUgUElYSS5Mb2FkZXJcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICovXG4gICAgICAgIExvYWRlcjoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5sb2FkZXJzLkxvYWRlciBjbGFzcyBoYXMgbW92ZWQgdG8gUElYSS5Mb2FkZXInKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLkxvYWRlcjtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3MgUElYSS5sb2FkZXJzLlJlc291cmNlXG4gICAgICAgICAqIEBzZWUgUElYSS5Mb2FkZXJSZXNvdXJjZVxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgUmVzb3VyY2U6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkubG9hZGVycy5SZXNvdXJjZSBjbGFzcyBoYXMgbW92ZWQgdG8gUElYSS5Mb2FkZXJSZXNvdXJjZScpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkuTG9hZGVyUmVzb3VyY2U7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQGZ1bmN0aW9uIFBJWEkubG9hZGVycy5iaXRtYXBGb250UGFyc2VyXG4gICAgICAgICAqIEBzZWUgUElYSS5CaXRtYXBGb250TG9hZGVyLnVzZVxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgYml0bWFwRm9udFBhcnNlcjoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5sb2FkZXJzLmJpdG1hcEZvbnRQYXJzZXIgZnVuY3Rpb24gaGFzIG1vdmVkIHRvIFBJWEkuQml0bWFwRm9udExvYWRlci51c2UnKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLkJpdG1hcEZvbnRMb2FkZXIudXNlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBmdW5jdGlvbiBQSVhJLmxvYWRlcnMucGFyc2VCaXRtYXBGb250RGF0YVxuICAgICAgICAgKiBAc2VlIFBJWEkuQml0bWFwRm9udExvYWRlci5wYXJzZVxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgcGFyc2VCaXRtYXBGb250RGF0YToge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5sb2FkZXJzLnBhcnNlQml0bWFwRm9udERhdGEgZnVuY3Rpb24gaGFzIG1vdmVkIHRvIFBJWEkuQml0bWFwRm9udExvYWRlci5wYXJzZScpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkuQml0bWFwRm9udExvYWRlci5wYXJzZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAZnVuY3Rpb24gUElYSS5sb2FkZXJzLnNwcml0ZXNoZWV0UGFyc2VyXG4gICAgICAgICAqIEBzZWUgUElYSS5TcHJpdGVzaGVldExvYWRlci51c2VcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICovXG4gICAgICAgIHNwcml0ZXNoZWV0UGFyc2VyOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLmxvYWRlcnMuc3ByaXRlc2hlZXRQYXJzZXIgZnVuY3Rpb24gaGFzIG1vdmVkIHRvIFBJWEkuU3ByaXRlc2hlZXRMb2FkZXIudXNlJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5TcHJpdGVzaGVldExvYWRlci51c2U7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQGZ1bmN0aW9uIFBJWEkubG9hZGVycy5nZXRSZXNvdXJjZVBhdGhcbiAgICAgICAgICogQHNlZSBQSVhJLlNwcml0ZXNoZWV0TG9hZGVyLmdldFJlc291cmNlUGF0aFxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0UmVzb3VyY2VQYXRoOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLmxvYWRlcnMuZ2V0UmVzb3VyY2VQYXRoIHByb3BlcnR5IGhhcyBtb3ZlZCB0byBQSVhJLlNwcml0ZXNoZWV0TG9hZGVyLmdldFJlc291cmNlUGF0aCcpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkuU3ByaXRlc2hlZXRMb2FkZXIuZ2V0UmVzb3VyY2VQYXRoO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIEBmdW5jdGlvbiBQSVhJLmxvYWRlcnMuTG9hZGVyLmFkZFBpeGlNaWRkbGV3YXJlXG4gICAgICogQHNlZSBQSVhJLkxvYWRlci5yZWdpc3RlclBsdWdpblxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gbWlkZGxld2FyZVxuICAgICAqL1xuICAgIFBJWEkuTG9hZGVyLmFkZFBpeGlNaWRkbGV3YXJlID0gZnVuY3Rpb24gYWRkUGl4aU1pZGRsZXdhcmUobWlkZGxld2FyZSlcbiAgICB7XG4gICAgICAgIGRlcHJlY2F0aW9uKHY1LFxuICAgICAgICAgICAgJ1BJWEkubG9hZGVycy5Mb2FkZXIuYWRkUGl4aU1pZGRsZXdhcmUgZnVuY3Rpb24gaXMgZGVwcmVjYXRlZCwgdXNlIFBJWEkubG9hZGVycy5Mb2FkZXIucmVnaXN0ZXJQbHVnaW4nXG4gICAgICAgICk7XG5cbiAgICAgICAgcmV0dXJuIFBJWEkubG9hZGVycy5Mb2FkZXIucmVnaXN0ZXJQbHVnaW4oeyB1c2U6IG1pZGRsZXdhcmUoKSB9KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQGNsYXNzIFBJWEkuZXh0cmFjdC5XZWJHTEV4dHJhY3RcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqIEBzZWUgUElYSS5leHRyYWN0LkV4dHJhY3RcbiAgICAgKi9cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUElYSS5leHRyYWN0LCAnV2ViR0xFeHRyYWN0Jywge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5leHRyYWN0LldlYkdMRXh0cmFjdCBtZXRob2QgaGFzIG1vdmVkIHRvIFBJWEkuZXh0cmFjdC5FeHRyYWN0Jyk7XG5cbiAgICAgICAgICAgIHJldHVybiBQSVhJLmV4dHJhY3QuRXh0cmFjdDtcbiAgICAgICAgfSxcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIEBjbGFzcyBQSVhJLnByZXBhcmUuV2ViR0xQcmVwYXJlXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKiBAc2VlIFBJWEkucHJlcGFyZS5QcmVwYXJlXG4gICAgICovXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFBJWEkucHJlcGFyZSwgJ1dlYkdMUHJlcGFyZScsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKVxuICAgICAgICB7XG4gICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkucHJlcGFyZS5XZWJHTFByZXBhcmUgY2xhc3MgaGFzIG1vdmVkIHRvIFBJWEkucHJlcGFyZS5QcmVwYXJlJyk7XG5cbiAgICAgICAgICAgIHJldHVybiBQSVhJLnByZXBhcmUuUHJlcGFyZTtcbiAgICAgICAgfSxcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIEBtZXRob2QgUElYSS5Db250YWluZXIjX3JlbmRlcldlYkdMXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqIEBzZWUgUElYSS5Db250YWluZXIjcmVuZGVyXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciBJbnN0YW5jZSBvZiByZW5kZXJlclxuICAgICAqL1xuICAgIFBJWEkuQ29udGFpbmVyLnByb3RvdHlwZS5fcmVuZGVyV2ViR0wgPSBmdW5jdGlvbiBfcmVuZGVyV2ViR0wocmVuZGVyZXIpXG4gICAge1xuICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuQ29udGFpbmVyLl9yZW5kZXJXZWJHTCBtZXRob2QgaGFzIG1vdmVkIHRvIFBJWEkuQ29udGFpbmVyLl9yZW5kZXInKTtcblxuICAgICAgICB0aGlzLl9yZW5kZXIocmVuZGVyZXIpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBAbWV0aG9kIFBJWEkuQ29udGFpbmVyI3JlbmRlcldlYkdMXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKiBAc2VlIFBJWEkuQ29udGFpbmVyI3JlbmRlclxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgSW5zdGFuY2Ugb2YgcmVuZGVyZXJcbiAgICAgKi9cbiAgICBQSVhJLkNvbnRhaW5lci5wcm90b3R5cGUucmVuZGVyV2ViR0wgPSBmdW5jdGlvbiByZW5kZXJXZWJHTChyZW5kZXJlcilcbiAgICB7XG4gICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5Db250YWluZXIucmVuZGVyV2ViR0wgbWV0aG9kIGhhcyBtb3ZlZCB0byBQSVhJLkNvbnRhaW5lci5yZW5kZXInKTtcblxuICAgICAgICB0aGlzLnJlbmRlcihyZW5kZXJlcik7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEBtZXRob2QgUElYSS5EaXNwbGF5T2JqZWN0I3JlbmRlcldlYkdMXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKiBAc2VlIFBJWEkuRGlzcGxheU9iamVjdCNyZW5kZXJcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIEluc3RhbmNlIG9mIHJlbmRlcmVyXG4gICAgICovXG4gICAgUElYSS5EaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5yZW5kZXJXZWJHTCA9IGZ1bmN0aW9uIHJlbmRlcldlYkdMKHJlbmRlcmVyKVxuICAgIHtcbiAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLkRpc3BsYXlPYmplY3QucmVuZGVyV2ViR0wgbWV0aG9kIGhhcyBtb3ZlZCB0byBQSVhJLkRpc3BsYXlPYmplY3QucmVuZGVyJyk7XG5cbiAgICAgICAgdGhpcy5yZW5kZXIocmVuZGVyZXIpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBAbWV0aG9kIFBJWEkuQ29udGFpbmVyI3JlbmRlckFkdmFuY2VkV2ViR0xcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqIEBzZWUgUElYSS5Db250YWluZXIjcmVuZGVyQWR2YW5jZWRcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIEluc3RhbmNlIG9mIHJlbmRlcmVyXG4gICAgICovXG4gICAgUElYSS5Db250YWluZXIucHJvdG90eXBlLnJlbmRlckFkdmFuY2VkV2ViR0wgPSBmdW5jdGlvbiByZW5kZXJBZHZhbmNlZFdlYkdMKHJlbmRlcmVyKVxuICAgIHtcbiAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLkNvbnRhaW5lci5yZW5kZXJBZHZhbmNlZFdlYkdMIG1ldGhvZCBoYXMgbW92ZWQgdG8gUElYSS5Db250YWluZXIucmVuZGVyQWR2YW5jZWQnKTtcblxuICAgICAgICB0aGlzLnJlbmRlckFkdmFuY2VkKHJlbmRlcmVyKTtcbiAgICB9O1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoUElYSS5zZXR0aW5ncywge1xuICAgICAgICAvKipcbiAgICAgICAgICogRGVmYXVsdCB0cmFuc2Zvcm0gdHlwZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICAgICAgICAgKiBAdHlwZSB7UElYSS5UUkFOU0ZPUk1fTU9ERX1cbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5UUkFOU0ZPUk1fTU9ERS5TVEFUSUNcbiAgICAgICAgICovXG4gICAgICAgIFRSQU5TRk9STV9NT0RFOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLnNldHRpbmdzLlRSQU5TRk9STV9NT0RFIHByb3BlcnR5IGhhcyBiZWVuIHJlbW92ZWQnKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gc2V0KClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuc2V0dGluZ3MuVFJBTlNGT1JNX01PREUgcHJvcGVydHkgaGFzIGJlZW4gcmVtb3ZlZCcpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICB9KTtcblxuICAgIHZhciBCYXNlVGV4dHVyZSA9IFBJWEkuQmFzZVRleHR1cmU7XG5cbiAgICAvKipcbiAgICAgKiBAbWV0aG9kIGxvYWRTb3VyY2VcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5CYXNlVGV4dHVyZSNcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqL1xuICAgIEJhc2VUZXh0dXJlLnByb3RvdHlwZS5sb2FkU291cmNlID0gZnVuY3Rpb24gbG9hZFNvdXJjZShpbWFnZSlcbiAgICB7XG4gICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5CYXNlVGV4dHVyZS5sb2FkU291cmNlIG1ldGhvZCBoYXMgYmVlbiBkZXByZWNhdGVkJyk7XG5cbiAgICAgICAgdmFyIHJlc291cmNlID0gUElYSS5yZXNvdXJjZXMuYXV0b0RldGVjdFJlc291cmNlKGltYWdlKTtcblxuICAgICAgICByZXNvdXJjZS5pbnRlcm5hbCA9IHRydWU7XG5cbiAgICAgICAgdGhpcy5zZXRSZXNvdXJjZShyZXNvdXJjZSk7XG4gICAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgfTtcblxuICAgIHZhciBiYXNlVGV4dHVyZUlkRGVwcmVjYXRpb24gPSBmYWxzZTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKEJhc2VUZXh0dXJlLnByb3RvdHlwZSwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQG5hbWUgUElYSS5CYXNlVGV4dHVyZSNoYXNMb2FkZWRcbiAgICAgICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAc2VlIFBJWEkuQmFzZVRleHR1cmUjdmFsaWRcbiAgICAgICAgICovXG4gICAgICAgIGhhc0xvYWRlZDoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5CYXNlVGV4dHVyZS5oYXNMb2FkZWQgcHJvcGVydHkgaGFzIGJlZW4gcmVtb3ZlZCwgdXNlIFBJWEkuQmFzZVRleHR1cmUudmFsaWQnKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnZhbGlkO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuYW1lIFBJWEkuQmFzZVRleHR1cmUjaW1hZ2VVcmxcbiAgICAgICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICogQHNlZSBQSVhJLnJlc291cmNlLkltYWdlUmVzb3VyY2UjdXJsXG4gICAgICAgICAqL1xuICAgICAgICBpbWFnZVVybDoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5CYXNlVGV4dHVyZS5pbWFnZVVybCBwcm9wZXJ0eSBoYXMgYmVlbiByZW1vdmVkLCB1c2UgUElYSS5CYXNlVGV4dHVyZS5yZXNvdXJjZS51cmwnKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnJlc291cmNlICYmIHRoaXMucmVzb3VyY2UudXJsO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQoaW1hZ2VVcmwpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLkJhc2VUZXh0dXJlLmltYWdlVXJsIHByb3BlcnR5IGhhcyBiZWVuIHJlbW92ZWQsIHVzZSBQSVhJLkJhc2VUZXh0dXJlLnJlc291cmNlLnVybCcpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucmVzb3VyY2UpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlc291cmNlLnVybCA9IGltYWdlVXJsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmFtZSBQSVhJLkJhc2VUZXh0dXJlI3NvdXJjZVxuICAgICAgICAgKiBAdHlwZSB7SFRNTEltYWdlRWxlbWVudHxIVE1MQ2FudmFzRWxlbWVudHxIVE1MVmlkZW9FbGVtZW50fFNWR0VsZW1lbnR9XG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAc2VlIFBJWEkucmVzb3VyY2VzLkJhc2VJbWFnZVJlc291cmNlI3NvdXJjZVxuICAgICAgICAgKi9cbiAgICAgICAgc291cmNlOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLkJhc2VUZXh0dXJlLnNvdXJjZSBwcm9wZXJ0eSBoYXMgYmVlbiBtb3ZlZCwgdXNlIGBQSVhJLkJhc2VUZXh0dXJlLnJlc291cmNlLnNvdXJjZWAnKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnJlc291cmNlICYmIHRoaXMucmVzb3VyY2Uuc291cmNlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHNvdXJjZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuQmFzZVRleHR1cmUuc291cmNlIHByb3BlcnR5IGhhcyBiZWVuIG1vdmVkLCB1c2UgYFBJWEkuQmFzZVRleHR1cmUucmVzb3VyY2Uuc291cmNlYCAnXG4gICAgICAgICAgICAgICAgICAgICsgJ2lmIHlvdSB3YW50IHRvIHNldCBIVE1MQ2FudmFzRWxlbWVudC4gT3RoZXJ3aXNlLCBjcmVhdGUgbmV3IEJhc2VUZXh0dXJlLicpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucmVzb3VyY2UpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlc291cmNlLnNvdXJjZSA9IHNvdXJjZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmFtZSBQSVhJLkJhc2VUZXh0dXJlI3ByZW11bHRpcGx5QWxwaGFcbiAgICAgICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMi4wXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAc2VlIFBJWEkuQmFzZVRleHR1cmUjYWxwaGFNb2RlXG4gICAgICAgICAqL1xuICAgICAgICBwcmVtdWx0aXBseUFscGhhOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24oJzUuMi4wJywgJ1BJWEkuQmFzZVRleHR1cmUucHJlbXVsdGlwbHlBbHBoYSBwcm9wZXJ0eSBoYXMgYmVlbiBjaGFuZ2VkIHRvIGBhbHBoYU1vZGVgJ1xuICAgICAgICAgICAgICAgICAgICArICcsIHNlZSBgUElYSS5BTFBIQV9NT0RFU2AnKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmFscGhhTW9kZSAhPT0gMDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbignNS4yLjAnLCAnUElYSS5CYXNlVGV4dHVyZS5wcmVtdWx0aXBseUFscGhhIHByb3BlcnR5IGhhcyBiZWVuIGNoYW5nZWQgdG8gYGFscGhhTW9kZWAnXG4gICAgICAgICAgICAgICAgICAgICsgJywgc2VlIGBQSVhJLkFMUEhBX01PREVTYCcpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5hbHBoYU1vZGUgPSBOdW1iZXIodmFsdWUpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEJhdGNoIGxvY2FsIGZpZWxkLCBzdG9yZXMgY3VycmVudCB0ZXh0dXJlIGxvY2F0aW9uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBuYW1lIFBJWEkuQmFzZVRleHR1cmUjX2lkXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMi4wXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqIEBzZWUgUElYSS5CYXNlVGV4dHVyZSNfYmF0Y2hMb2NhdGlvblxuICAgICAgICAgKi9cbiAgICAgICAgX2lkOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKCFiYXNlVGV4dHVyZUlkRGVwcmVjYXRpb24pXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAvLyAjcG9wZWx5c2hldjogVGhhdCBwcm9wZXJ0eSB3YXMgYSBob3QgcGxhY2UsIEkgZG9uJ3Qgd2FudCB0byBjYWxsIGRlcHJlY2F0aW9uIG1ldGhvZCBvbiBpdCBpZiBwb3NzaWJsZVxuICAgICAgICAgICAgICAgICAgICBkZXByZWNhdGlvbignNS4yLjAnLCAnUElYSS5CYXNlVGV4dHVyZS5faWQgYmF0Y2ggbG9jYWwgZmllbGQgaGFzIGJlZW4gY2hhbmdlZCB0byBgX2JhdGNoTG9jYXRpb25gJyk7XG4gICAgICAgICAgICAgICAgICAgIGJhc2VUZXh0dXJlSWREZXByZWNhdGlvbiA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2JhdGNoTG9jYXRpb247XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5fYmF0Y2hMb2NhdGlvbiA9IHZhbHVlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIEBtZXRob2QgZnJvbUltYWdlXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJvZiBQSVhJLkJhc2VUZXh0dXJlXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKiBAc2VlIFBJWEkuQmFzZVRleHR1cmUuZnJvbVxuICAgICAqL1xuICAgIEJhc2VUZXh0dXJlLmZyb21JbWFnZSA9IGZ1bmN0aW9uIGZyb21JbWFnZShjYW52YXMsIGNyb3Nzb3JpZ2luLCBzY2FsZU1vZGUsIHNjYWxlKVxuICAgIHtcbiAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLkJhc2VUZXh0dXJlLmZyb21JbWFnZSBtZXRob2QgaGFzIGJlZW4gcmVwbGFjZWQgd2l0aCBQSVhJLkJhc2VUZXh0dXJlLmZyb20nKTtcblxuICAgICAgICB2YXIgcmVzb3VyY2VPcHRpb25zID0geyBzY2FsZTogc2NhbGUsIGNyb3Nzb3JpZ2luOiBjcm9zc29yaWdpbiB9O1xuXG4gICAgICAgIHJldHVybiBCYXNlVGV4dHVyZS5mcm9tKGNhbnZhcywgeyBzY2FsZU1vZGU6IHNjYWxlTW9kZSwgcmVzb3VyY2VPcHRpb25zOiByZXNvdXJjZU9wdGlvbnMgfSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEBtZXRob2QgZnJvbUNhbnZhc1xuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5CYXNlVGV4dHVyZVxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICogQHNlZSBQSVhJLkJhc2VUZXh0dXJlLmZyb21cbiAgICAgKi9cbiAgICBCYXNlVGV4dHVyZS5mcm9tQ2FudmFzID0gZnVuY3Rpb24gZnJvbUNhbnZhcyhjYW52YXMsIHNjYWxlTW9kZSlcbiAgICB7XG4gICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5CYXNlVGV4dHVyZS5mcm9tQ2FudmFzIG1ldGhvZCBoYXMgYmVlbiByZXBsYWNlZCB3aXRoIFBJWEkuQmFzZVRleHR1cmUuZnJvbScpO1xuXG4gICAgICAgIHJldHVybiBCYXNlVGV4dHVyZS5mcm9tKGNhbnZhcywgeyBzY2FsZU1vZGU6IHNjYWxlTW9kZSB9KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQG1ldGhvZCBmcm9tU1ZHXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJvZiBQSVhJLkJhc2VUZXh0dXJlXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKiBAc2VlIFBJWEkuQmFzZVRleHR1cmUuZnJvbVxuICAgICAqL1xuICAgIEJhc2VUZXh0dXJlLmZyb21TVkcgPSBmdW5jdGlvbiBmcm9tU1ZHKGNhbnZhcywgY3Jvc3NvcmlnaW4sIHNjYWxlTW9kZSwgc2NhbGUpXG4gICAge1xuICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuQmFzZVRleHR1cmUuZnJvbVNWRyBtZXRob2QgaGFzIGJlZW4gcmVwbGFjZWQgd2l0aCBQSVhJLkJhc2VUZXh0dXJlLmZyb20nKTtcblxuICAgICAgICB2YXIgcmVzb3VyY2VPcHRpb25zID0geyBzY2FsZTogc2NhbGUsIGNyb3Nzb3JpZ2luOiBjcm9zc29yaWdpbiB9O1xuXG4gICAgICAgIHJldHVybiBCYXNlVGV4dHVyZS5mcm9tKGNhbnZhcywgeyBzY2FsZU1vZGU6IHNjYWxlTW9kZSwgcmVzb3VyY2VPcHRpb25zOiByZXNvdXJjZU9wdGlvbnMgfSk7XG4gICAgfTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKFBJWEkucmVzb3VyY2VzLkltYWdlUmVzb3VyY2UucHJvdG90eXBlLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmFtZSBQSVhJLnJlc291cmNlcy5JbWFnZVJlc291cmNlI3ByZW11bHRpcGx5QWxwaGFcbiAgICAgICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMi4wXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAc2VlIFBJWEkucmVzb3VyY2VzLkltYWdlUmVzb3VyY2UjYWxwaGFNb2RlXG4gICAgICAgICAqL1xuICAgICAgICBwcmVtdWx0aXBseUFscGhhOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24oJzUuMi4wJywgJ1BJWEkucmVzb3VyY2VzLkltYWdlUmVzb3VyY2UucHJlbXVsdGlwbHlBbHBoYSBwcm9wZXJ0eSAnXG4gICAgICAgICAgICAgICAgICAgICsgJ2hhcyBiZWVuIGNoYW5nZWQgdG8gYGFscGhhTW9kZWAsIHNlZSBgUElYSS5BTFBIQV9NT0RFU2AnKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmFscGhhTW9kZSAhPT0gMDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbignNS4yLjAnLCAnUElYSS5yZXNvdXJjZXMuSW1hZ2VSZXNvdXJjZS5wcmVtdWx0aXBseUFscGhhIHByb3BlcnR5ICdcbiAgICAgICAgICAgICAgICAgICAgKyAnaGFzIGJlZW4gY2hhbmdlZCB0byBgYWxwaGFNb2RlYCwgc2VlIGBQSVhJLkFMUEhBX01PREVTYCcpO1xuICAgICAgICAgICAgICAgIHRoaXMuYWxwaGFNb2RlID0gTnVtYmVyKHZhbHVlKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBAbWV0aG9kIFBJWEkuUG9pbnQjY29weVxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICogQHNlZSBQSVhJLlBvaW50I2NvcHlGcm9tXG4gICAgICovXG4gICAgUElYSS5Qb2ludC5wcm90b3R5cGUuY29weSA9IGZ1bmN0aW9uIGNvcHkocClcbiAgICB7XG4gICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5Qb2ludC5jb3B5IG1ldGhvZCBoYXMgYmVlbiByZXBsYWNlZCB3aXRoIFBJWEkuUG9pbnQuY29weUZyb20nKTtcblxuICAgICAgICByZXR1cm4gdGhpcy5jb3B5RnJvbShwKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQG1ldGhvZCBQSVhJLk9ic2VydmFibGVQb2ludCNjb3B5XG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKiBAc2VlIFBJWEkuT2JzZXJ2YWJsZVBvaW50I2NvcHlGcm9tXG4gICAgICovXG4gICAgUElYSS5PYnNlcnZhYmxlUG9pbnQucHJvdG90eXBlLmNvcHkgPSBmdW5jdGlvbiBjb3B5KHApXG4gICAge1xuICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuT2JzZXJ2YWJsZVBvaW50LmNvcHkgbWV0aG9kIGhhcyBiZWVuIHJlcGxhY2VkIHdpdGggUElYSS5PYnNlcnZhYmxlUG9pbnQuY29weUZyb20nKTtcblxuICAgICAgICByZXR1cm4gdGhpcy5jb3B5RnJvbShwKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQG1ldGhvZCBQSVhJLlJlY3RhbmdsZSNjb3B5XG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKiBAc2VlIFBJWEkuUmVjdGFuZ2xlI2NvcHlGcm9tXG4gICAgICovXG4gICAgUElYSS5SZWN0YW5nbGUucHJvdG90eXBlLmNvcHkgPSBmdW5jdGlvbiBjb3B5KHApXG4gICAge1xuICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuUmVjdGFuZ2xlLmNvcHkgbWV0aG9kIGhhcyBiZWVuIHJlcGxhY2VkIHdpdGggUElYSS5SZWN0YW5nbGUuY29weUZyb20nKTtcblxuICAgICAgICByZXR1cm4gdGhpcy5jb3B5RnJvbShwKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQG1ldGhvZCBQSVhJLk1hdHJpeCNjb3B5XG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKiBAc2VlIFBJWEkuTWF0cml4I2NvcHlUb1xuICAgICAqL1xuICAgIFBJWEkuTWF0cml4LnByb3RvdHlwZS5jb3B5ID0gZnVuY3Rpb24gY29weShwKVxuICAgIHtcbiAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLk1hdHJpeC5jb3B5IG1ldGhvZCBoYXMgYmVlbiByZXBsYWNlZCB3aXRoIFBJWEkuTWF0cml4LmNvcHlUbycpO1xuXG4gICAgICAgIHJldHVybiB0aGlzLmNvcHlUbyhwKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQG1ldGhvZCBQSVhJLnN5c3RlbXMuU3RhdGVTeXN0ZW0jc2V0U3RhdGVcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjEuMFxuICAgICAqIEBzZWUgUElYSS5zeXN0ZW1zLlN0YXRlU3lzdGVtI3NldFxuICAgICAqL1xuICAgIFBJWEkuc3lzdGVtcy5TdGF0ZVN5c3RlbS5wcm90b3R5cGUuc2V0U3RhdGUgPSBmdW5jdGlvbiBzZXRTdGF0ZShzKVxuICAgIHtcbiAgICAgICAgZGVwcmVjYXRpb24oJ3Y1LjEuMCcsICdTdGF0ZVN5c3RlbS5zZXRTdGF0ZSBoYXMgYmVlbiByZW5hbWVkIHRvIFN0YXRlU3lzdGVtLnNldCcpO1xuXG4gICAgICAgIHJldHVybiB0aGlzLnNldChzKTtcbiAgICB9O1xuXG4gICAgT2JqZWN0LmFzc2lnbihQSVhJLnN5c3RlbXMuRmlsdGVyU3lzdGVtLnByb3RvdHlwZSwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQG1ldGhvZCBQSVhJLkZpbHRlck1hbmFnZXIjZ2V0UmVuZGVyVGFyZ2V0XG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqIEBzZWUgUElYSS5zeXN0ZW1zLkZpbHRlclN5c3RlbSNnZXRGaWx0ZXJUZXh0dXJlXG4gICAgICAgICAqL1xuICAgICAgICBnZXRSZW5kZXJUYXJnZXQ6IGZ1bmN0aW9uIGdldFJlbmRlclRhcmdldChjbGVhciwgcmVzb2x1dGlvbilcbiAgICAgICAge1xuICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsXG4gICAgICAgICAgICAgICAgJ1BJWEkuRmlsdGVyTWFuYWdlci5nZXRSZW5kZXJUYXJnZXQgbWV0aG9kIGhhcyBiZWVuIHJlcGxhY2VkIHdpdGggUElYSS5zeXN0ZW1zLkZpbHRlclN5c3RlbSNnZXRGaWx0ZXJUZXh0dXJlJ1xuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RmlsdGVyVGV4dHVyZShyZXNvbHV0aW9uKTtcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogQG1ldGhvZCBQSVhJLkZpbHRlck1hbmFnZXIjcmV0dXJuUmVuZGVyVGFyZ2V0XG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqIEBzZWUgUElYSS5zeXN0ZW1zLkZpbHRlclN5c3RlbSNyZXR1cm5GaWx0ZXJUZXh0dXJlXG4gICAgICAgICAqL1xuICAgICAgICByZXR1cm5SZW5kZXJUYXJnZXQ6IGZ1bmN0aW9uIHJldHVyblJlbmRlclRhcmdldChyZW5kZXJUZXh0dXJlKVxuICAgICAgICB7XG4gICAgICAgICAgICBkZXByZWNhdGlvbih2NSxcbiAgICAgICAgICAgICAgICAnUElYSS5GaWx0ZXJNYW5hZ2VyLnJldHVyblJlbmRlclRhcmdldCBtZXRob2QgaGFzIGJlZW4gcmVwbGFjZWQgd2l0aCAnXG4gICAgICAgICAgICAgICAgKyAnUElYSS5zeXN0ZW1zLkZpbHRlclN5c3RlbS5yZXR1cm5GaWx0ZXJUZXh0dXJlJ1xuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgdGhpcy5yZXR1cm5GaWx0ZXJUZXh0dXJlKHJlbmRlclRleHR1cmUpO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWV0aG9kIFBJWEkuc3lzdGVtcy5GaWx0ZXJTeXN0ZW0jY2FsY3VsYXRlU2NyZWVuU3BhY2VNYXRyaXhcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLk1hdHJpeH0gb3V0cHV0TWF0cml4IC0gdGhlIG1hdHJpeCB0byBvdXRwdXQgdG8uXG4gICAgICAgICAqIEByZXR1cm4ge1BJWEkuTWF0cml4fSBUaGUgbWFwcGVkIG1hdHJpeC5cbiAgICAgICAgICovXG4gICAgICAgIGNhbGN1bGF0ZVNjcmVlblNwYWNlTWF0cml4OiBmdW5jdGlvbiBjYWxjdWxhdGVTY3JlZW5TcGFjZU1hdHJpeChvdXRwdXRNYXRyaXgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5zeXN0ZW1zLkZpbHRlclN5c3RlbS5jYWxjdWxhdGVTY3JlZW5TcGFjZU1hdHJpeCBtZXRob2QgaXMgcmVtb3ZlZCwgJ1xuICAgICAgICAgICAgICAgICsgJ3VzZSBgKHZUZXh0dXJlQ29vcmQgKiBpbnB1dFNpemUueHkpICsgb3V0cHV0RnJhbWUueHlgIGluc3RlYWQnKTtcblxuICAgICAgICAgICAgdmFyIG1hcHBlZE1hdHJpeCA9IG91dHB1dE1hdHJpeC5pZGVudGl0eSgpO1xuICAgICAgICAgICAgdmFyIHJlZiA9IHRoaXMuYWN0aXZlU3RhdGU7XG4gICAgICAgICAgICB2YXIgc291cmNlRnJhbWUgPSByZWYuc291cmNlRnJhbWU7XG4gICAgICAgICAgICB2YXIgZGVzdGluYXRpb25GcmFtZSA9IHJlZi5kZXN0aW5hdGlvbkZyYW1lO1xuXG4gICAgICAgICAgICBtYXBwZWRNYXRyaXgudHJhbnNsYXRlKHNvdXJjZUZyYW1lLnggLyBkZXN0aW5hdGlvbkZyYW1lLndpZHRoLCBzb3VyY2VGcmFtZS55IC8gZGVzdGluYXRpb25GcmFtZS5oZWlnaHQpO1xuICAgICAgICAgICAgbWFwcGVkTWF0cml4LnNjYWxlKGRlc3RpbmF0aW9uRnJhbWUud2lkdGgsIGRlc3RpbmF0aW9uRnJhbWUuaGVpZ2h0KTtcblxuICAgICAgICAgICAgcmV0dXJuIG1hcHBlZE1hdHJpeDtcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogQG1ldGhvZCBQSVhJLnN5c3RlbXMuRmlsdGVyU3lzdGVtI2NhbGN1bGF0ZU5vcm1hbGl6ZWRTY3JlZW5TcGFjZU1hdHJpeFxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuTWF0cml4fSBvdXRwdXRNYXRyaXggLSBUaGUgbWF0cml4IHRvIG91dHB1dCB0by5cbiAgICAgICAgICogQHJldHVybiB7UElYSS5NYXRyaXh9IFRoZSBtYXBwZWQgbWF0cml4LlxuICAgICAgICAgKi9cbiAgICAgICAgY2FsY3VsYXRlTm9ybWFsaXplZFNjcmVlblNwYWNlTWF0cml4OiBmdW5jdGlvbiBjYWxjdWxhdGVOb3JtYWxpemVkU2NyZWVuU3BhY2VNYXRyaXgob3V0cHV0TWF0cml4KVxuICAgICAgICB7XG4gICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuc3lzdGVtcy5GaWx0ZXJNYW5hZ2VyLmNhbGN1bGF0ZU5vcm1hbGl6ZWRTY3JlZW5TcGFjZU1hdHJpeCBtZXRob2QgaXMgcmVtb3ZlZCwgJ1xuICAgICAgICAgICAgICAgICsgJ3VzZSBgKCh2VGV4dHVyZUNvb3JkICogaW5wdXRTaXplLnh5KSArIG91dHB1dEZyYW1lLnh5KSAvIG91dHB1dEZyYW1lLnp3YCBpbnN0ZWFkLicpO1xuXG4gICAgICAgICAgICB2YXIgcmVmID0gdGhpcy5hY3RpdmVTdGF0ZTtcbiAgICAgICAgICAgIHZhciBzb3VyY2VGcmFtZSA9IHJlZi5zb3VyY2VGcmFtZTtcbiAgICAgICAgICAgIHZhciBkZXN0aW5hdGlvbkZyYW1lID0gcmVmLmRlc3RpbmF0aW9uRnJhbWU7XG4gICAgICAgICAgICB2YXIgbWFwcGVkTWF0cml4ID0gb3V0cHV0TWF0cml4LmlkZW50aXR5KCk7XG5cbiAgICAgICAgICAgIG1hcHBlZE1hdHJpeC50cmFuc2xhdGUoc291cmNlRnJhbWUueCAvIGRlc3RpbmF0aW9uRnJhbWUud2lkdGgsIHNvdXJjZUZyYW1lLnkgLyBkZXN0aW5hdGlvbkZyYW1lLmhlaWdodCk7XG5cbiAgICAgICAgICAgIHZhciB0cmFuc2xhdGVTY2FsZVggPSAoZGVzdGluYXRpb25GcmFtZS53aWR0aCAvIHNvdXJjZUZyYW1lLndpZHRoKTtcbiAgICAgICAgICAgIHZhciB0cmFuc2xhdGVTY2FsZVkgPSAoZGVzdGluYXRpb25GcmFtZS5oZWlnaHQgLyBzb3VyY2VGcmFtZS5oZWlnaHQpO1xuXG4gICAgICAgICAgICBtYXBwZWRNYXRyaXguc2NhbGUodHJhbnNsYXRlU2NhbGVYLCB0cmFuc2xhdGVTY2FsZVkpO1xuXG4gICAgICAgICAgICByZXR1cm4gbWFwcGVkTWF0cml4O1xuICAgICAgICB9LFxuICAgIH0pO1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoUElYSS5SZW5kZXJUZXh0dXJlLnByb3RvdHlwZSwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQG5hbWUgUElYSS5SZW5kZXJUZXh0dXJlI3NvdXJjZUZyYW1lXG4gICAgICAgICAqIEB0eXBlIHtQSVhJLlJlY3RhbmdsZX1cbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBzb3VyY2VGcmFtZToge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5SZW5kZXJUZXh0dXJlLnNvdXJjZUZyYW1lIHByb3BlcnR5IGhhcyBiZWVuIHJlbW92ZWQnKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmZpbHRlckZyYW1lO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuYW1lIFBJWEkuUmVuZGVyVGV4dHVyZSNzaXplXG4gICAgICAgICAqIEB0eXBlIHtQSVhJLlJlY3RhbmdsZX1cbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBzaXplOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLlJlbmRlclRleHR1cmUuc2l6ZSBwcm9wZXJ0eSBoYXMgYmVlbiByZW1vdmVkJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fZnJhbWU7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQGNsYXNzIEJsdXJYRmlsdGVyXG4gICAgICogQG1lbWJlcm9mIFBJWEkuZmlsdGVyc1xuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICogQHNlZSBQSVhJLmZpbHRlcnMuQmx1ckZpbHRlclBhc3NcbiAgICAgKi9cbiAgICB2YXIgQmx1clhGaWx0ZXIgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChzdXBlcmNsYXNzKSB7XG4gICAgICAgIGZ1bmN0aW9uIEJsdXJYRmlsdGVyKHN0cmVuZ3RoLCBxdWFsaXR5LCByZXNvbHV0aW9uLCBrZXJuZWxTaXplKVxuICAgICAgICB7XG4gICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuZmlsdGVycy5CbHVyWEZpbHRlciBjbGFzcyBpcyBkZXByZWNhdGVkLCB1c2UgUElYSS5maWx0ZXJzLkJsdXJGaWx0ZXJQYXNzJyk7XG5cbiAgICAgICAgICAgIHN1cGVyY2xhc3MuY2FsbCh0aGlzLCB0cnVlLCBzdHJlbmd0aCwgcXVhbGl0eSwgcmVzb2x1dGlvbiwga2VybmVsU2l6ZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIHN1cGVyY2xhc3MgKSBCbHVyWEZpbHRlci5fX3Byb3RvX18gPSBzdXBlcmNsYXNzO1xuICAgICAgICBCbHVyWEZpbHRlci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBzdXBlcmNsYXNzICYmIHN1cGVyY2xhc3MucHJvdG90eXBlICk7XG4gICAgICAgIEJsdXJYRmlsdGVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEJsdXJYRmlsdGVyO1xuXG4gICAgICAgIHJldHVybiBCbHVyWEZpbHRlcjtcbiAgICB9KFBJWEkuZmlsdGVycy5CbHVyRmlsdGVyUGFzcykpO1xuXG4gICAgLyoqXG4gICAgICogQGNsYXNzIEJsdXJZRmlsdGVyXG4gICAgICogQG1lbWJlcm9mIFBJWEkuZmlsdGVyc1xuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICogQHNlZSBQSVhJLmZpbHRlcnMuQmx1ckZpbHRlclBhc3NcbiAgICAgKi9cbiAgICB2YXIgQmx1cllGaWx0ZXIgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChzdXBlcmNsYXNzKSB7XG4gICAgICAgIGZ1bmN0aW9uIEJsdXJZRmlsdGVyKHN0cmVuZ3RoLCBxdWFsaXR5LCByZXNvbHV0aW9uLCBrZXJuZWxTaXplKVxuICAgICAgICB7XG4gICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuZmlsdGVycy5CbHVyWUZpbHRlciBjbGFzcyBpcyBkZXByZWNhdGVkLCB1c2UgUElYSS5maWx0ZXJzLkJsdXJGaWx0ZXJQYXNzJyk7XG5cbiAgICAgICAgICAgIHN1cGVyY2xhc3MuY2FsbCh0aGlzLCBmYWxzZSwgc3RyZW5ndGgsIHF1YWxpdHksIHJlc29sdXRpb24sIGtlcm5lbFNpemUpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCBzdXBlcmNsYXNzICkgQmx1cllGaWx0ZXIuX19wcm90b19fID0gc3VwZXJjbGFzcztcbiAgICAgICAgQmx1cllGaWx0ZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggc3VwZXJjbGFzcyAmJiBzdXBlcmNsYXNzLnByb3RvdHlwZSApO1xuICAgICAgICBCbHVyWUZpbHRlci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBCbHVyWUZpbHRlcjtcblxuICAgICAgICByZXR1cm4gQmx1cllGaWx0ZXI7XG4gICAgfShQSVhJLmZpbHRlcnMuQmx1ckZpbHRlclBhc3MpKTtcblxuICAgIE9iamVjdC5hc3NpZ24oUElYSS5maWx0ZXJzLCB7XG4gICAgICAgIEJsdXJYRmlsdGVyOiBCbHVyWEZpbHRlcixcbiAgICAgICAgQmx1cllGaWx0ZXI6IEJsdXJZRmlsdGVyLFxuICAgIH0pO1xuXG4gICAgdmFyIFNwcml0ZSA9IFBJWEkuU3ByaXRlO1xuICAgIHZhciBUZXh0dXJlID0gUElYSS5UZXh0dXJlO1xuICAgIHZhciBHcmFwaGljcyA9IFBJWEkuR3JhcGhpY3M7XG5cbiAgICAvLyBTdXBwb3J0IGZvciBwaXhpLmpzLWxlZ2FjeSBiaWZ1cmNhdGlvblxuICAgIC8vIGdpdmUgdXNlcnMgYSBmcmllbmRseSBhc3Npc3QgdG8gdXNlIGxlZ2FjeVxuICAgIGlmICghR3JhcGhpY3MucHJvdG90eXBlLmdlbmVyYXRlQ2FudmFzVGV4dHVyZSlcbiAgICB7XG4gICAgICAgIEdyYXBoaWNzLnByb3RvdHlwZS5nZW5lcmF0ZUNhbnZhc1RleHR1cmUgPSBmdW5jdGlvbiBnZW5lcmF0ZUNhbnZhc1RleHR1cmUoKVxuICAgICAgICB7XG4gICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuR3JhcGhpY3MuZ2VuZXJhdGVDYW52YXNUZXh0dXJlIG1ldGhvZCBpcyBvbmx5IGF2YWlsYWJsZSBpbiBcInBpeGkuanMtbGVnYWN5XCInKTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqIEBtZW1iZXIge1BJWEkuR3JhcGhpY3N9IFBJWEkuR3JhcGhpY3MjZ3JhcGhpY3NEYXRhXG4gICAgICogQHNlZSBQSVhJLkdyYXBoaWNzI2dlb21ldHJ5XG4gICAgICogQHJlYWRvbmx5XG4gICAgICovXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFBJWEkuR3JhcGhpY3MucHJvdG90eXBlLCAnZ3JhcGhpY3NEYXRhJywge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5HcmFwaGljcy5ncmFwaGljc0RhdGEgcHJvcGVydHkgaXMgZGVwcmVjYXRlZCwgdXNlIFBJWEkuR3JhcGhpY3MuZ2VvbWV0cnkuZ3JhcGhpY3NEYXRhJyk7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdlb21ldHJ5LmdyYXBoaWNzRGF0YTtcbiAgICAgICAgfSxcbiAgICB9KTtcblxuICAgIC8vIFVzZSB0aGVzZSB0byBkZXByZWNhdGUgYWxsIHRoZSBTcHJpdGUgZnJvbSogbWV0aG9kc1xuICAgIGZ1bmN0aW9uIHNwcml0ZUZyb20obmFtZSwgc291cmNlLCBjcm9zc29yaWdpbiwgc2NhbGVNb2RlKVxuICAgIHtcbiAgICAgICAgZGVwcmVjYXRpb24odjUsIChcIlBJWEkuU3ByaXRlLlwiICsgbmFtZSArIFwiIG1ldGhvZCBpcyBkZXByZWNhdGVkLCB1c2UgUElYSS5TcHJpdGUuZnJvbVwiKSk7XG5cbiAgICAgICAgcmV0dXJuIFNwcml0ZS5mcm9tKHNvdXJjZSwge1xuICAgICAgICAgICAgcmVzb3VyY2VPcHRpb25zOiB7XG4gICAgICAgICAgICAgICAgc2NhbGU6IHNjYWxlTW9kZSxcbiAgICAgICAgICAgICAgICBjcm9zc29yaWdpbjogY3Jvc3NvcmlnaW4sXG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqIEBzZWUgUElYSS5TcHJpdGUuZnJvbVxuICAgICAqIEBtZXRob2QgUElYSS5TcHJpdGUuZnJvbUltYWdlXG4gICAgICogQHJldHVybiB7UElYSS5TcHJpdGV9XG4gICAgICovXG4gICAgU3ByaXRlLmZyb21JbWFnZSA9IHNwcml0ZUZyb20uYmluZChudWxsLCAnZnJvbUltYWdlJyk7XG5cbiAgICAvKipcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqIEBtZXRob2QgUElYSS5TcHJpdGUuZnJvbVNWR1xuICAgICAqIEBzZWUgUElYSS5TcHJpdGUuZnJvbVxuICAgICAqIEByZXR1cm4ge1BJWEkuU3ByaXRlfVxuICAgICAqL1xuICAgIFNwcml0ZS5mcm9tU1ZHID0gc3ByaXRlRnJvbS5iaW5kKG51bGwsICdmcm9tU1ZHJyk7XG5cbiAgICAvKipcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqIEBtZXRob2QgUElYSS5TcHJpdGUuZnJvbUNhbnZhc1xuICAgICAqIEBzZWUgUElYSS5TcHJpdGUuZnJvbVxuICAgICAqIEByZXR1cm4ge1BJWEkuU3ByaXRlfVxuICAgICAqL1xuICAgIFNwcml0ZS5mcm9tQ2FudmFzID0gc3ByaXRlRnJvbS5iaW5kKG51bGwsICdmcm9tQ2FudmFzJyk7XG5cbiAgICAvKipcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqIEBtZXRob2QgUElYSS5TcHJpdGUuZnJvbVZpZGVvXG4gICAgICogQHNlZSBQSVhJLlNwcml0ZS5mcm9tXG4gICAgICogQHJldHVybiB7UElYSS5TcHJpdGV9XG4gICAgICovXG4gICAgU3ByaXRlLmZyb21WaWRlbyA9IHNwcml0ZUZyb20uYmluZChudWxsLCAnZnJvbVZpZGVvJyk7XG5cbiAgICAvKipcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqIEBtZXRob2QgUElYSS5TcHJpdGUuZnJvbUZyYW1lXG4gICAgICogQHNlZSBQSVhJLlNwcml0ZS5mcm9tXG4gICAgICogQHJldHVybiB7UElYSS5TcHJpdGV9XG4gICAgICovXG4gICAgU3ByaXRlLmZyb21GcmFtZSA9IHNwcml0ZUZyb20uYmluZChudWxsLCAnZnJvbUZyYW1lJyk7XG5cbiAgICAvLyBVc2UgdGhlc2UgdG8gZGVwcmVjYXRlIGFsbCB0aGUgVGV4dHVyZSBmcm9tKiBtZXRob2RzXG4gICAgZnVuY3Rpb24gdGV4dHVyZUZyb20obmFtZSwgc291cmNlLCBjcm9zc29yaWdpbiwgc2NhbGVNb2RlKVxuICAgIHtcbiAgICAgICAgZGVwcmVjYXRpb24odjUsIChcIlBJWEkuVGV4dHVyZS5cIiArIG5hbWUgKyBcIiBtZXRob2QgaXMgZGVwcmVjYXRlZCwgdXNlIFBJWEkuVGV4dHVyZS5mcm9tXCIpKTtcblxuICAgICAgICByZXR1cm4gVGV4dHVyZS5mcm9tKHNvdXJjZSwge1xuICAgICAgICAgICAgcmVzb3VyY2VPcHRpb25zOiB7XG4gICAgICAgICAgICAgICAgc2NhbGU6IHNjYWxlTW9kZSxcbiAgICAgICAgICAgICAgICBjcm9zc29yaWdpbjogY3Jvc3NvcmlnaW4sXG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqIEBtZXRob2QgUElYSS5UZXh0dXJlLmZyb21JbWFnZVxuICAgICAqIEBzZWUgUElYSS5UZXh0dXJlLmZyb21cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlRleHR1cmV9XG4gICAgICovXG4gICAgVGV4dHVyZS5mcm9tSW1hZ2UgPSB0ZXh0dXJlRnJvbS5iaW5kKG51bGwsICdmcm9tSW1hZ2UnKTtcblxuICAgIC8qKlxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICogQG1ldGhvZCBQSVhJLlRleHR1cmUuZnJvbVNWR1xuICAgICAqIEBzZWUgUElYSS5UZXh0dXJlLmZyb21cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlRleHR1cmV9XG4gICAgICovXG4gICAgVGV4dHVyZS5mcm9tU1ZHID0gdGV4dHVyZUZyb20uYmluZChudWxsLCAnZnJvbVNWRycpO1xuXG4gICAgLyoqXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKiBAbWV0aG9kIFBJWEkuVGV4dHVyZS5mcm9tQ2FudmFzXG4gICAgICogQHNlZSBQSVhJLlRleHR1cmUuZnJvbVxuICAgICAqIEByZXR1cm4ge1BJWEkuVGV4dHVyZX1cbiAgICAgKi9cbiAgICBUZXh0dXJlLmZyb21DYW52YXMgPSB0ZXh0dXJlRnJvbS5iaW5kKG51bGwsICdmcm9tQ2FudmFzJyk7XG5cbiAgICAvKipcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqIEBtZXRob2QgUElYSS5UZXh0dXJlLmZyb21WaWRlb1xuICAgICAqIEBzZWUgUElYSS5UZXh0dXJlLmZyb21cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlRleHR1cmV9XG4gICAgICovXG4gICAgVGV4dHVyZS5mcm9tVmlkZW8gPSB0ZXh0dXJlRnJvbS5iaW5kKG51bGwsICdmcm9tVmlkZW8nKTtcblxuICAgIC8qKlxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICogQG1ldGhvZCBQSVhJLlRleHR1cmUuZnJvbUZyYW1lXG4gICAgICogQHNlZSBQSVhJLlRleHR1cmUuZnJvbVxuICAgICAqIEByZXR1cm4ge1BJWEkuVGV4dHVyZX1cbiAgICAgKi9cbiAgICBUZXh0dXJlLmZyb21GcmFtZSA9IHRleHR1cmVGcm9tLmJpbmQobnVsbCwgJ2Zyb21GcmFtZScpO1xuXG4gICAgLyoqXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufSBQSVhJLkFic3RyYWN0UmVuZGVyZXIjYXV0b1Jlc2l6ZVxuICAgICAqIEBzZWUgUElYSS5BYnN0cmFjdFJlbmRlcmVyI2F1dG9EZW5zaXR5XG4gICAgICovXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFBJWEkuQWJzdHJhY3RSZW5kZXJlci5wcm90b3R5cGUsICdhdXRvUmVzaXplJywge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5BYnN0cmFjdFJlbmRlcmVyLmF1dG9SZXNpemUgcHJvcGVydHkgaXMgZGVwcmVjYXRlZCwgJ1xuICAgICAgICAgICAgICAgICsgJ3VzZSBQSVhJLkFic3RyYWN0UmVuZGVyZXIuYXV0b0RlbnNpdHknKTtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYXV0b0RlbnNpdHk7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKVxuICAgICAgICB7XG4gICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuQWJzdHJhY3RSZW5kZXJlci5hdXRvUmVzaXplIHByb3BlcnR5IGlzIGRlcHJlY2F0ZWQsICdcbiAgICAgICAgICAgICAgICArICd1c2UgUElYSS5BYnN0cmFjdFJlbmRlcmVyLmF1dG9EZW5zaXR5Jyk7XG5cbiAgICAgICAgICAgIHRoaXMuYXV0b0RlbnNpdHkgPSB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICogQG1lbWJlciB7UElYSS5zeXN0ZW1zLlRleHR1cmVTeXN0ZW19IFBJWEkuUmVuZGVyZXIjdGV4dHVyZU1hbmFnZXJcbiAgICAgKiBAc2VlIFBJWEkuUmVuZGVyZXIjdGV4dHVyZVxuICAgICAqL1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShQSVhJLlJlbmRlcmVyLnByb3RvdHlwZSwgJ3RleHR1cmVNYW5hZ2VyJywge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5SZW5kZXJlci50ZXh0dXJlTWFuYWdlciBwcm9wZXJ0eSBpcyBkZXByZWNhdGVkLCB1c2UgUElYSS5SZW5kZXJlci50ZXh0dXJlJyk7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRleHR1cmU7XG4gICAgICAgIH0sXG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBAbmFtZXNwYWNlIFBJWEkudXRpbHMubWl4aW5zXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKi9cbiAgICBQSVhJLnV0aWxzLm1peGlucyA9IHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzLm1peGluc1xuICAgICAgICAgKiBAZnVuY3Rpb24gbWl4aW5cbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICovXG4gICAgICAgIG1peGluOiBmdW5jdGlvbiBtaXhpbigpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS51dGlscy5taXhpbnMubWl4aW4gZnVuY3Rpb24gaXMgbm8gbG9uZ2VyIGF2YWlsYWJsZScpO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlcm9mIFBJWEkudXRpbHMubWl4aW5zXG4gICAgICAgICAqIEBmdW5jdGlvbiBkZWxheU1peGluXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBkZWxheU1peGluOiBmdW5jdGlvbiBkZWxheU1peGluKClcbiAgICAgICAge1xuICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLnV0aWxzLm1peGlucy5kZWxheU1peGluIGZ1bmN0aW9uIGlzIG5vIGxvbmdlciBhdmFpbGFibGUnKTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzLm1peGluc1xuICAgICAgICAgKiBAZnVuY3Rpb24gcGVyZm9ybU1peGluc1xuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgcGVyZm9ybU1peGluczogZnVuY3Rpb24gcGVyZm9ybU1peGlucygpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS51dGlscy5taXhpbnMucGVyZm9ybU1peGlucyBmdW5jdGlvbiBpcyBubyBsb25nZXIgYXZhaWxhYmxlJyk7XG4gICAgICAgIH0sXG4gICAgfTtcbn1cblxuLy8gSW5zdGFsbCByZW5kZXJlciBwbHVnaW5zXG5SZW5kZXJlci5yZWdpc3RlclBsdWdpbignYWNjZXNzaWJpbGl0eScsIEFjY2Vzc2liaWxpdHlNYW5hZ2VyKTtcblJlbmRlcmVyLnJlZ2lzdGVyUGx1Z2luKCdleHRyYWN0JywgRXh0cmFjdCk7XG5SZW5kZXJlci5yZWdpc3RlclBsdWdpbignaW50ZXJhY3Rpb24nLCBJbnRlcmFjdGlvbk1hbmFnZXIpO1xuUmVuZGVyZXIucmVnaXN0ZXJQbHVnaW4oJ3BhcnRpY2xlJywgUGFydGljbGVSZW5kZXJlcik7XG5SZW5kZXJlci5yZWdpc3RlclBsdWdpbigncHJlcGFyZScsIFByZXBhcmUpO1xuUmVuZGVyZXIucmVnaXN0ZXJQbHVnaW4oJ2JhdGNoJywgQmF0Y2hSZW5kZXJlcik7XG5SZW5kZXJlci5yZWdpc3RlclBsdWdpbigndGlsaW5nU3ByaXRlJywgVGlsaW5nU3ByaXRlUmVuZGVyZXIpO1xuXG5Mb2FkZXIucmVnaXN0ZXJQbHVnaW4oQml0bWFwRm9udExvYWRlcik7XG5Mb2FkZXIucmVnaXN0ZXJQbHVnaW4oU3ByaXRlc2hlZXRMb2FkZXIpO1xuXG5BcHBsaWNhdGlvbi5yZWdpc3RlclBsdWdpbihUaWNrZXJQbHVnaW4pO1xuQXBwbGljYXRpb24ucmVnaXN0ZXJQbHVnaW4oQXBwTG9hZGVyUGx1Z2luKTtcblxuLyoqXG4gKiBTdHJpbmcgb2YgdGhlIGN1cnJlbnQgUElYSSB2ZXJzaW9uLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBjb25zdGFudFxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBuYW1lIFZFUlNJT05cbiAqIEB0eXBlIHtzdHJpbmd9XG4gKi9cbnZhciBWRVJTSU9OID0gJzUuMi4wJztcblxuLyoqXG4gKiBAbmFtZXNwYWNlIFBJWElcbiAqL1xuXG4vKipcbiAqIFRoaXMgbmFtZXNwYWNlIGNvbnRhaW5zIFdlYkdMLW9ubHkgZGlzcGxheSBmaWx0ZXJzIHRoYXQgY2FuIGJlIGFwcGxpZWRcbiAqIHRvIERpc3BsYXlPYmplY3RzIHVzaW5nIHRoZSB7QGxpbmsgUElYSS5EaXNwbGF5T2JqZWN0I2ZpbHRlcnMgZmlsdGVyc30gcHJvcGVydHkuXG4gKlxuICogU2luY2UgUGl4aUpTIG9ubHkgaGFkIGEgaGFuZGZ1bCBvZiBidWlsdC1pbiBmaWx0ZXJzLCBhZGRpdGlvbmFsIGZpbHRlcnNcbiAqIGNhbiBiZSBkb3dubG9hZGVkIHtAbGluayBodHRwczovL2dpdGh1Yi5jb20vcGl4aWpzL3BpeGktZmlsdGVycyBoZXJlfSBmcm9tIHRoZVxuICogUGl4aUpTIEZpbHRlcnMgcmVwb3NpdG9yeS5cbiAqXG4gKiBBbGwgZmlsdGVycyBtdXN0IGV4dGVuZCB7QGxpbmsgUElYSS5GaWx0ZXJ9LlxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBDcmVhdGUgYSBuZXcgYXBwbGljYXRpb25cbiAqIGNvbnN0IGFwcCA9IG5ldyBQSVhJLkFwcGxpY2F0aW9uKCk7XG4gKlxuICogLy8gRHJhdyBhIGdyZWVuIHJlY3RhbmdsZVxuICogY29uc3QgcmVjdCA9IG5ldyBQSVhJLkdyYXBoaWNzKClcbiAqICAgICAuYmVnaW5GaWxsKDB4MDBmZjAwKVxuICogICAgIC5kcmF3UmVjdCg0MCwgNDAsIDIwMCwgMjAwKTtcbiAqXG4gKiAvLyBBZGQgYSBibHVyIGZpbHRlclxuICogcmVjdC5maWx0ZXJzID0gW25ldyBQSVhJLmZpbHRlcnMuQmx1ckZpbHRlcigpXTtcbiAqXG4gKiAvLyBEaXNwbGF5IHJlY3RhbmdsZVxuICogYXBwLnN0YWdlLmFkZENoaWxkKHJlY3QpO1xuICogZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChhcHAudmlldyk7XG4gKiBAbmFtZXNwYWNlIFBJWEkuZmlsdGVyc1xuICovXG52YXIgZmlsdGVycyA9IHtcbiAgICBBbHBoYUZpbHRlcjogQWxwaGFGaWx0ZXIsXG4gICAgQmx1ckZpbHRlcjogQmx1ckZpbHRlcixcbiAgICBCbHVyRmlsdGVyUGFzczogQmx1ckZpbHRlclBhc3MsXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXI6IENvbG9yTWF0cml4RmlsdGVyLFxuICAgIERpc3BsYWNlbWVudEZpbHRlcjogRGlzcGxhY2VtZW50RmlsdGVyLFxuICAgIEZYQUFGaWx0ZXI6IEZYQUFGaWx0ZXIsXG4gICAgTm9pc2VGaWx0ZXI6IE5vaXNlRmlsdGVyLFxufTtcblxuZXhwb3J0IHsgVkVSU0lPTiwgZmlsdGVycywgdXNlRGVwcmVjYXRlZCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGl4aS5lcy5qcy5tYXBcbiIsInZhciBnO1xuXG4vLyBUaGlzIHdvcmtzIGluIG5vbi1zdHJpY3QgbW9kZVxuZyA9IChmdW5jdGlvbigpIHtcblx0cmV0dXJuIHRoaXM7XG59KSgpO1xuXG50cnkge1xuXHQvLyBUaGlzIHdvcmtzIGlmIGV2YWwgaXMgYWxsb3dlZCAoc2VlIENTUClcblx0ZyA9IGcgfHwgbmV3IEZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKTtcbn0gY2F0Y2ggKGUpIHtcblx0Ly8gVGhpcyB3b3JrcyBpZiB0aGUgd2luZG93IHJlZmVyZW5jZSBpcyBhdmFpbGFibGVcblx0aWYgKHR5cGVvZiB3aW5kb3cgPT09IFwib2JqZWN0XCIpIGcgPSB3aW5kb3c7XG59XG5cbi8vIGcgY2FuIHN0aWxsIGJlIHVuZGVmaW5lZCwgYnV0IG5vdGhpbmcgdG8gZG8gYWJvdXQgaXQuLi5cbi8vIFdlIHJldHVybiB1bmRlZmluZWQsIGluc3RlYWQgb2Ygbm90aGluZyBoZXJlLCBzbyBpdCdzXG4vLyBlYXNpZXIgdG8gaGFuZGxlIHRoaXMgY2FzZS4gaWYoIWdsb2JhbCkgeyAuLi59XG5cbm1vZHVsZS5leHBvcnRzID0gZztcbiIsImV4cG9ydCBjb25zdCBtYWluU2NyZWVuID0ge1xuICB3aWR0aDogNjAwLFxuICBoZWlnaHQ6IDQwMCxcbiAgYmFja2dyb3VuZENvbG9yOiAweEFBQUFBQVxufTtcblxuZXhwb3J0IGNvbnN0IGxpZmUgPSAzO1xuXG5leHBvcnQgY29uc3Qgc3BlZWQgPSAyO1xuXG5leHBvcnQgY29uc3Qgcm9hZHMgPSBbXG4gIHtcbiAgICB0eXBlOiAncGxhbnQnLFxuICAgIHk6IDBcbiAgfSxcbiAge1xuICAgIHR5cGU6ICdyb2FkJyxcbiAgICB5OiA0MFxuICB9LFxuICB7XG4gICAgdHlwZTogJ3JvYWQnLFxuICAgIHk6IDgwXG4gIH0sXG4gIHtcbiAgICB0eXBlOiAnd2F0ZXInLFxuICAgIHk6IDEyMFxuICB9LFxuICB7XG4gICAgdHlwZTogJ3BsYW50JyxcbiAgICB5OiAxNjBcbiAgfSxcbiAge1xuICAgIHR5cGU6ICd3YXRlcicsXG4gICAgeTogMjAwXG4gIH0sXG4gIHtcbiAgICB0eXBlOiAncm9hZCcsXG4gICAgeTogMjQwXG4gIH0sXG4gIHtcbiAgICB0eXBlOiAncm9hZCcsXG4gICAgeTogMjgwXG4gIH0sXG4gIHtcbiAgICB0eXBlOiAncm9hZCcsXG4gICAgeTogMzIwXG4gIH0sXG4gIHtcbiAgICB0eXBlOiAncGxhbnQnLFxuICAgIHk6IDM2MFxuICB9LFxuXTtcbiIsIi8vIENvcHlyaWdodCBKb3llbnQsIEluYy4gYW5kIG90aGVyIE5vZGUgY29udHJpYnV0b3JzLlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhXG4vLyBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlXG4vLyBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmdcbi8vIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCxcbi8vIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXRcbi8vIHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZVxuLy8gZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4vL1xuLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWRcbi8vIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuLy9cbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1Ncbi8vIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0Zcbi8vIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU5cbi8vIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLFxuLy8gREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SXG4vLyBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFXG4vLyBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBwdW55Y29kZSA9IHJlcXVpcmUoJ3B1bnljb2RlJyk7XG52YXIgdXRpbCA9IHJlcXVpcmUoJy4vdXRpbCcpO1xuXG5leHBvcnRzLnBhcnNlID0gdXJsUGFyc2U7XG5leHBvcnRzLnJlc29sdmUgPSB1cmxSZXNvbHZlO1xuZXhwb3J0cy5yZXNvbHZlT2JqZWN0ID0gdXJsUmVzb2x2ZU9iamVjdDtcbmV4cG9ydHMuZm9ybWF0ID0gdXJsRm9ybWF0O1xuXG5leHBvcnRzLlVybCA9IFVybDtcblxuZnVuY3Rpb24gVXJsKCkge1xuICB0aGlzLnByb3RvY29sID0gbnVsbDtcbiAgdGhpcy5zbGFzaGVzID0gbnVsbDtcbiAgdGhpcy5hdXRoID0gbnVsbDtcbiAgdGhpcy5ob3N0ID0gbnVsbDtcbiAgdGhpcy5wb3J0ID0gbnVsbDtcbiAgdGhpcy5ob3N0bmFtZSA9IG51bGw7XG4gIHRoaXMuaGFzaCA9IG51bGw7XG4gIHRoaXMuc2VhcmNoID0gbnVsbDtcbiAgdGhpcy5xdWVyeSA9IG51bGw7XG4gIHRoaXMucGF0aG5hbWUgPSBudWxsO1xuICB0aGlzLnBhdGggPSBudWxsO1xuICB0aGlzLmhyZWYgPSBudWxsO1xufVxuXG4vLyBSZWZlcmVuY2U6IFJGQyAzOTg2LCBSRkMgMTgwOCwgUkZDIDIzOTZcblxuLy8gZGVmaW5lIHRoZXNlIGhlcmUgc28gYXQgbGVhc3QgdGhleSBvbmx5IGhhdmUgdG8gYmVcbi8vIGNvbXBpbGVkIG9uY2Ugb24gdGhlIGZpcnN0IG1vZHVsZSBsb2FkLlxudmFyIHByb3RvY29sUGF0dGVybiA9IC9eKFthLXowLTkuKy1dKzopL2ksXG4gICAgcG9ydFBhdHRlcm4gPSAvOlswLTldKiQvLFxuXG4gICAgLy8gU3BlY2lhbCBjYXNlIGZvciBhIHNpbXBsZSBwYXRoIFVSTFxuICAgIHNpbXBsZVBhdGhQYXR0ZXJuID0gL14oXFwvXFwvPyg/IVxcLylbXlxcP1xcc10qKShcXD9bXlxcc10qKT8kLyxcblxuICAgIC8vIFJGQyAyMzk2OiBjaGFyYWN0ZXJzIHJlc2VydmVkIGZvciBkZWxpbWl0aW5nIFVSTHMuXG4gICAgLy8gV2UgYWN0dWFsbHkganVzdCBhdXRvLWVzY2FwZSB0aGVzZS5cbiAgICBkZWxpbXMgPSBbJzwnLCAnPicsICdcIicsICdgJywgJyAnLCAnXFxyJywgJ1xcbicsICdcXHQnXSxcblxuICAgIC8vIFJGQyAyMzk2OiBjaGFyYWN0ZXJzIG5vdCBhbGxvd2VkIGZvciB2YXJpb3VzIHJlYXNvbnMuXG4gICAgdW53aXNlID0gWyd7JywgJ30nLCAnfCcsICdcXFxcJywgJ14nLCAnYCddLmNvbmNhdChkZWxpbXMpLFxuXG4gICAgLy8gQWxsb3dlZCBieSBSRkNzLCBidXQgY2F1c2Ugb2YgWFNTIGF0dGFja3MuICBBbHdheXMgZXNjYXBlIHRoZXNlLlxuICAgIGF1dG9Fc2NhcGUgPSBbJ1xcJyddLmNvbmNhdCh1bndpc2UpLFxuICAgIC8vIENoYXJhY3RlcnMgdGhhdCBhcmUgbmV2ZXIgZXZlciBhbGxvd2VkIGluIGEgaG9zdG5hbWUuXG4gICAgLy8gTm90ZSB0aGF0IGFueSBpbnZhbGlkIGNoYXJzIGFyZSBhbHNvIGhhbmRsZWQsIGJ1dCB0aGVzZVxuICAgIC8vIGFyZSB0aGUgb25lcyB0aGF0IGFyZSAqZXhwZWN0ZWQqIHRvIGJlIHNlZW4sIHNvIHdlIGZhc3QtcGF0aFxuICAgIC8vIHRoZW0uXG4gICAgbm9uSG9zdENoYXJzID0gWyclJywgJy8nLCAnPycsICc7JywgJyMnXS5jb25jYXQoYXV0b0VzY2FwZSksXG4gICAgaG9zdEVuZGluZ0NoYXJzID0gWycvJywgJz8nLCAnIyddLFxuICAgIGhvc3RuYW1lTWF4TGVuID0gMjU1LFxuICAgIGhvc3RuYW1lUGFydFBhdHRlcm4gPSAvXlsrYS16MC05QS1aXy1dezAsNjN9JC8sXG4gICAgaG9zdG5hbWVQYXJ0U3RhcnQgPSAvXihbK2EtejAtOUEtWl8tXXswLDYzfSkoLiopJC8sXG4gICAgLy8gcHJvdG9jb2xzIHRoYXQgY2FuIGFsbG93IFwidW5zYWZlXCIgYW5kIFwidW53aXNlXCIgY2hhcnMuXG4gICAgdW5zYWZlUHJvdG9jb2wgPSB7XG4gICAgICAnamF2YXNjcmlwdCc6IHRydWUsXG4gICAgICAnamF2YXNjcmlwdDonOiB0cnVlXG4gICAgfSxcbiAgICAvLyBwcm90b2NvbHMgdGhhdCBuZXZlciBoYXZlIGEgaG9zdG5hbWUuXG4gICAgaG9zdGxlc3NQcm90b2NvbCA9IHtcbiAgICAgICdqYXZhc2NyaXB0JzogdHJ1ZSxcbiAgICAgICdqYXZhc2NyaXB0Oic6IHRydWVcbiAgICB9LFxuICAgIC8vIHByb3RvY29scyB0aGF0IGFsd2F5cyBjb250YWluIGEgLy8gYml0LlxuICAgIHNsYXNoZWRQcm90b2NvbCA9IHtcbiAgICAgICdodHRwJzogdHJ1ZSxcbiAgICAgICdodHRwcyc6IHRydWUsXG4gICAgICAnZnRwJzogdHJ1ZSxcbiAgICAgICdnb3BoZXInOiB0cnVlLFxuICAgICAgJ2ZpbGUnOiB0cnVlLFxuICAgICAgJ2h0dHA6JzogdHJ1ZSxcbiAgICAgICdodHRwczonOiB0cnVlLFxuICAgICAgJ2Z0cDonOiB0cnVlLFxuICAgICAgJ2dvcGhlcjonOiB0cnVlLFxuICAgICAgJ2ZpbGU6JzogdHJ1ZVxuICAgIH0sXG4gICAgcXVlcnlzdHJpbmcgPSByZXF1aXJlKCdxdWVyeXN0cmluZycpO1xuXG5mdW5jdGlvbiB1cmxQYXJzZSh1cmwsIHBhcnNlUXVlcnlTdHJpbmcsIHNsYXNoZXNEZW5vdGVIb3N0KSB7XG4gIGlmICh1cmwgJiYgdXRpbC5pc09iamVjdCh1cmwpICYmIHVybCBpbnN0YW5jZW9mIFVybCkgcmV0dXJuIHVybDtcblxuICB2YXIgdSA9IG5ldyBVcmw7XG4gIHUucGFyc2UodXJsLCBwYXJzZVF1ZXJ5U3RyaW5nLCBzbGFzaGVzRGVub3RlSG9zdCk7XG4gIHJldHVybiB1O1xufVxuXG5VcmwucHJvdG90eXBlLnBhcnNlID0gZnVuY3Rpb24odXJsLCBwYXJzZVF1ZXJ5U3RyaW5nLCBzbGFzaGVzRGVub3RlSG9zdCkge1xuICBpZiAoIXV0aWwuaXNTdHJpbmcodXJsKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJQYXJhbWV0ZXIgJ3VybCcgbXVzdCBiZSBhIHN0cmluZywgbm90IFwiICsgdHlwZW9mIHVybCk7XG4gIH1cblxuICAvLyBDb3B5IGNocm9tZSwgSUUsIG9wZXJhIGJhY2tzbGFzaC1oYW5kbGluZyBiZWhhdmlvci5cbiAgLy8gQmFjayBzbGFzaGVzIGJlZm9yZSB0aGUgcXVlcnkgc3RyaW5nIGdldCBjb252ZXJ0ZWQgdG8gZm9yd2FyZCBzbGFzaGVzXG4gIC8vIFNlZTogaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTI1OTE2XG4gIHZhciBxdWVyeUluZGV4ID0gdXJsLmluZGV4T2YoJz8nKSxcbiAgICAgIHNwbGl0dGVyID1cbiAgICAgICAgICAocXVlcnlJbmRleCAhPT0gLTEgJiYgcXVlcnlJbmRleCA8IHVybC5pbmRleE9mKCcjJykpID8gJz8nIDogJyMnLFxuICAgICAgdVNwbGl0ID0gdXJsLnNwbGl0KHNwbGl0dGVyKSxcbiAgICAgIHNsYXNoUmVnZXggPSAvXFxcXC9nO1xuICB1U3BsaXRbMF0gPSB1U3BsaXRbMF0ucmVwbGFjZShzbGFzaFJlZ2V4LCAnLycpO1xuICB1cmwgPSB1U3BsaXQuam9pbihzcGxpdHRlcik7XG5cbiAgdmFyIHJlc3QgPSB1cmw7XG5cbiAgLy8gdHJpbSBiZWZvcmUgcHJvY2VlZGluZy5cbiAgLy8gVGhpcyBpcyB0byBzdXBwb3J0IHBhcnNlIHN0dWZmIGxpa2UgXCIgIGh0dHA6Ly9mb28uY29tICBcXG5cIlxuICByZXN0ID0gcmVzdC50cmltKCk7XG5cbiAgaWYgKCFzbGFzaGVzRGVub3RlSG9zdCAmJiB1cmwuc3BsaXQoJyMnKS5sZW5ndGggPT09IDEpIHtcbiAgICAvLyBUcnkgZmFzdCBwYXRoIHJlZ2V4cFxuICAgIHZhciBzaW1wbGVQYXRoID0gc2ltcGxlUGF0aFBhdHRlcm4uZXhlYyhyZXN0KTtcbiAgICBpZiAoc2ltcGxlUGF0aCkge1xuICAgICAgdGhpcy5wYXRoID0gcmVzdDtcbiAgICAgIHRoaXMuaHJlZiA9IHJlc3Q7XG4gICAgICB0aGlzLnBhdGhuYW1lID0gc2ltcGxlUGF0aFsxXTtcbiAgICAgIGlmIChzaW1wbGVQYXRoWzJdKSB7XG4gICAgICAgIHRoaXMuc2VhcmNoID0gc2ltcGxlUGF0aFsyXTtcbiAgICAgICAgaWYgKHBhcnNlUXVlcnlTdHJpbmcpIHtcbiAgICAgICAgICB0aGlzLnF1ZXJ5ID0gcXVlcnlzdHJpbmcucGFyc2UodGhpcy5zZWFyY2guc3Vic3RyKDEpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLnF1ZXJ5ID0gdGhpcy5zZWFyY2guc3Vic3RyKDEpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHBhcnNlUXVlcnlTdHJpbmcpIHtcbiAgICAgICAgdGhpcy5zZWFyY2ggPSAnJztcbiAgICAgICAgdGhpcy5xdWVyeSA9IHt9O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICB9XG5cbiAgdmFyIHByb3RvID0gcHJvdG9jb2xQYXR0ZXJuLmV4ZWMocmVzdCk7XG4gIGlmIChwcm90bykge1xuICAgIHByb3RvID0gcHJvdG9bMF07XG4gICAgdmFyIGxvd2VyUHJvdG8gPSBwcm90by50b0xvd2VyQ2FzZSgpO1xuICAgIHRoaXMucHJvdG9jb2wgPSBsb3dlclByb3RvO1xuICAgIHJlc3QgPSByZXN0LnN1YnN0cihwcm90by5sZW5ndGgpO1xuICB9XG5cbiAgLy8gZmlndXJlIG91dCBpZiBpdCdzIGdvdCBhIGhvc3RcbiAgLy8gdXNlckBzZXJ2ZXIgaXMgKmFsd2F5cyogaW50ZXJwcmV0ZWQgYXMgYSBob3N0bmFtZSwgYW5kIHVybFxuICAvLyByZXNvbHV0aW9uIHdpbGwgdHJlYXQgLy9mb28vYmFyIGFzIGhvc3Q9Zm9vLHBhdGg9YmFyIGJlY2F1c2UgdGhhdCdzXG4gIC8vIGhvdyB0aGUgYnJvd3NlciByZXNvbHZlcyByZWxhdGl2ZSBVUkxzLlxuICBpZiAoc2xhc2hlc0Rlbm90ZUhvc3QgfHwgcHJvdG8gfHwgcmVzdC5tYXRjaCgvXlxcL1xcL1teQFxcL10rQFteQFxcL10rLykpIHtcbiAgICB2YXIgc2xhc2hlcyA9IHJlc3Quc3Vic3RyKDAsIDIpID09PSAnLy8nO1xuICAgIGlmIChzbGFzaGVzICYmICEocHJvdG8gJiYgaG9zdGxlc3NQcm90b2NvbFtwcm90b10pKSB7XG4gICAgICByZXN0ID0gcmVzdC5zdWJzdHIoMik7XG4gICAgICB0aGlzLnNsYXNoZXMgPSB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIGlmICghaG9zdGxlc3NQcm90b2NvbFtwcm90b10gJiZcbiAgICAgIChzbGFzaGVzIHx8IChwcm90byAmJiAhc2xhc2hlZFByb3RvY29sW3Byb3RvXSkpKSB7XG5cbiAgICAvLyB0aGVyZSdzIGEgaG9zdG5hbWUuXG4gICAgLy8gdGhlIGZpcnN0IGluc3RhbmNlIG9mIC8sID8sIDssIG9yICMgZW5kcyB0aGUgaG9zdC5cbiAgICAvL1xuICAgIC8vIElmIHRoZXJlIGlzIGFuIEAgaW4gdGhlIGhvc3RuYW1lLCB0aGVuIG5vbi1ob3N0IGNoYXJzICphcmUqIGFsbG93ZWRcbiAgICAvLyB0byB0aGUgbGVmdCBvZiB0aGUgbGFzdCBAIHNpZ24sIHVubGVzcyBzb21lIGhvc3QtZW5kaW5nIGNoYXJhY3RlclxuICAgIC8vIGNvbWVzICpiZWZvcmUqIHRoZSBALXNpZ24uXG4gICAgLy8gVVJMcyBhcmUgb2Jub3hpb3VzLlxuICAgIC8vXG4gICAgLy8gZXg6XG4gICAgLy8gaHR0cDovL2FAYkBjLyA9PiB1c2VyOmFAYiBob3N0OmNcbiAgICAvLyBodHRwOi8vYUBiP0BjID0+IHVzZXI6YSBob3N0OmMgcGF0aDovP0BjXG5cbiAgICAvLyB2MC4xMiBUT0RPKGlzYWFjcyk6IFRoaXMgaXMgbm90IHF1aXRlIGhvdyBDaHJvbWUgZG9lcyB0aGluZ3MuXG4gICAgLy8gUmV2aWV3IG91ciB0ZXN0IGNhc2UgYWdhaW5zdCBicm93c2VycyBtb3JlIGNvbXByZWhlbnNpdmVseS5cblxuICAgIC8vIGZpbmQgdGhlIGZpcnN0IGluc3RhbmNlIG9mIGFueSBob3N0RW5kaW5nQ2hhcnNcbiAgICB2YXIgaG9zdEVuZCA9IC0xO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaG9zdEVuZGluZ0NoYXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgaGVjID0gcmVzdC5pbmRleE9mKGhvc3RFbmRpbmdDaGFyc1tpXSk7XG4gICAgICBpZiAoaGVjICE9PSAtMSAmJiAoaG9zdEVuZCA9PT0gLTEgfHwgaGVjIDwgaG9zdEVuZCkpXG4gICAgICAgIGhvc3RFbmQgPSBoZWM7XG4gICAgfVxuXG4gICAgLy8gYXQgdGhpcyBwb2ludCwgZWl0aGVyIHdlIGhhdmUgYW4gZXhwbGljaXQgcG9pbnQgd2hlcmUgdGhlXG4gICAgLy8gYXV0aCBwb3J0aW9uIGNhbm5vdCBnbyBwYXN0LCBvciB0aGUgbGFzdCBAIGNoYXIgaXMgdGhlIGRlY2lkZXIuXG4gICAgdmFyIGF1dGgsIGF0U2lnbjtcbiAgICBpZiAoaG9zdEVuZCA9PT0gLTEpIHtcbiAgICAgIC8vIGF0U2lnbiBjYW4gYmUgYW55d2hlcmUuXG4gICAgICBhdFNpZ24gPSByZXN0Lmxhc3RJbmRleE9mKCdAJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGF0U2lnbiBtdXN0IGJlIGluIGF1dGggcG9ydGlvbi5cbiAgICAgIC8vIGh0dHA6Ly9hQGIvY0BkID0+IGhvc3Q6YiBhdXRoOmEgcGF0aDovY0BkXG4gICAgICBhdFNpZ24gPSByZXN0Lmxhc3RJbmRleE9mKCdAJywgaG9zdEVuZCk7XG4gICAgfVxuXG4gICAgLy8gTm93IHdlIGhhdmUgYSBwb3J0aW9uIHdoaWNoIGlzIGRlZmluaXRlbHkgdGhlIGF1dGguXG4gICAgLy8gUHVsbCB0aGF0IG9mZi5cbiAgICBpZiAoYXRTaWduICE9PSAtMSkge1xuICAgICAgYXV0aCA9IHJlc3Quc2xpY2UoMCwgYXRTaWduKTtcbiAgICAgIHJlc3QgPSByZXN0LnNsaWNlKGF0U2lnbiArIDEpO1xuICAgICAgdGhpcy5hdXRoID0gZGVjb2RlVVJJQ29tcG9uZW50KGF1dGgpO1xuICAgIH1cblxuICAgIC8vIHRoZSBob3N0IGlzIHRoZSByZW1haW5pbmcgdG8gdGhlIGxlZnQgb2YgdGhlIGZpcnN0IG5vbi1ob3N0IGNoYXJcbiAgICBob3N0RW5kID0gLTE7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBub25Ib3N0Q2hhcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBoZWMgPSByZXN0LmluZGV4T2Yobm9uSG9zdENoYXJzW2ldKTtcbiAgICAgIGlmIChoZWMgIT09IC0xICYmIChob3N0RW5kID09PSAtMSB8fCBoZWMgPCBob3N0RW5kKSlcbiAgICAgICAgaG9zdEVuZCA9IGhlYztcbiAgICB9XG4gICAgLy8gaWYgd2Ugc3RpbGwgaGF2ZSBub3QgaGl0IGl0LCB0aGVuIHRoZSBlbnRpcmUgdGhpbmcgaXMgYSBob3N0LlxuICAgIGlmIChob3N0RW5kID09PSAtMSlcbiAgICAgIGhvc3RFbmQgPSByZXN0Lmxlbmd0aDtcblxuICAgIHRoaXMuaG9zdCA9IHJlc3Quc2xpY2UoMCwgaG9zdEVuZCk7XG4gICAgcmVzdCA9IHJlc3Quc2xpY2UoaG9zdEVuZCk7XG5cbiAgICAvLyBwdWxsIG91dCBwb3J0LlxuICAgIHRoaXMucGFyc2VIb3N0KCk7XG5cbiAgICAvLyB3ZSd2ZSBpbmRpY2F0ZWQgdGhhdCB0aGVyZSBpcyBhIGhvc3RuYW1lLFxuICAgIC8vIHNvIGV2ZW4gaWYgaXQncyBlbXB0eSwgaXQgaGFzIHRvIGJlIHByZXNlbnQuXG4gICAgdGhpcy5ob3N0bmFtZSA9IHRoaXMuaG9zdG5hbWUgfHwgJyc7XG5cbiAgICAvLyBpZiBob3N0bmFtZSBiZWdpbnMgd2l0aCBbIGFuZCBlbmRzIHdpdGggXVxuICAgIC8vIGFzc3VtZSB0aGF0IGl0J3MgYW4gSVB2NiBhZGRyZXNzLlxuICAgIHZhciBpcHY2SG9zdG5hbWUgPSB0aGlzLmhvc3RuYW1lWzBdID09PSAnWycgJiZcbiAgICAgICAgdGhpcy5ob3N0bmFtZVt0aGlzLmhvc3RuYW1lLmxlbmd0aCAtIDFdID09PSAnXSc7XG5cbiAgICAvLyB2YWxpZGF0ZSBhIGxpdHRsZS5cbiAgICBpZiAoIWlwdjZIb3N0bmFtZSkge1xuICAgICAgdmFyIGhvc3RwYXJ0cyA9IHRoaXMuaG9zdG5hbWUuc3BsaXQoL1xcLi8pO1xuICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSBob3N0cGFydHMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgIHZhciBwYXJ0ID0gaG9zdHBhcnRzW2ldO1xuICAgICAgICBpZiAoIXBhcnQpIGNvbnRpbnVlO1xuICAgICAgICBpZiAoIXBhcnQubWF0Y2goaG9zdG5hbWVQYXJ0UGF0dGVybikpIHtcbiAgICAgICAgICB2YXIgbmV3cGFydCA9ICcnO1xuICAgICAgICAgIGZvciAodmFyIGogPSAwLCBrID0gcGFydC5sZW5ndGg7IGogPCBrOyBqKyspIHtcbiAgICAgICAgICAgIGlmIChwYXJ0LmNoYXJDb2RlQXQoaikgPiAxMjcpIHtcbiAgICAgICAgICAgICAgLy8gd2UgcmVwbGFjZSBub24tQVNDSUkgY2hhciB3aXRoIGEgdGVtcG9yYXJ5IHBsYWNlaG9sZGVyXG4gICAgICAgICAgICAgIC8vIHdlIG5lZWQgdGhpcyB0byBtYWtlIHN1cmUgc2l6ZSBvZiBob3N0bmFtZSBpcyBub3RcbiAgICAgICAgICAgICAgLy8gYnJva2VuIGJ5IHJlcGxhY2luZyBub24tQVNDSUkgYnkgbm90aGluZ1xuICAgICAgICAgICAgICBuZXdwYXJ0ICs9ICd4JztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIG5ld3BhcnQgKz0gcGFydFtqXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gd2UgdGVzdCBhZ2FpbiB3aXRoIEFTQ0lJIGNoYXIgb25seVxuICAgICAgICAgIGlmICghbmV3cGFydC5tYXRjaChob3N0bmFtZVBhcnRQYXR0ZXJuKSkge1xuICAgICAgICAgICAgdmFyIHZhbGlkUGFydHMgPSBob3N0cGFydHMuc2xpY2UoMCwgaSk7XG4gICAgICAgICAgICB2YXIgbm90SG9zdCA9IGhvc3RwYXJ0cy5zbGljZShpICsgMSk7XG4gICAgICAgICAgICB2YXIgYml0ID0gcGFydC5tYXRjaChob3N0bmFtZVBhcnRTdGFydCk7XG4gICAgICAgICAgICBpZiAoYml0KSB7XG4gICAgICAgICAgICAgIHZhbGlkUGFydHMucHVzaChiaXRbMV0pO1xuICAgICAgICAgICAgICBub3RIb3N0LnVuc2hpZnQoYml0WzJdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChub3RIb3N0Lmxlbmd0aCkge1xuICAgICAgICAgICAgICByZXN0ID0gJy8nICsgbm90SG9zdC5qb2luKCcuJykgKyByZXN0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5ob3N0bmFtZSA9IHZhbGlkUGFydHMuam9pbignLicpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuaG9zdG5hbWUubGVuZ3RoID4gaG9zdG5hbWVNYXhMZW4pIHtcbiAgICAgIHRoaXMuaG9zdG5hbWUgPSAnJztcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gaG9zdG5hbWVzIGFyZSBhbHdheXMgbG93ZXIgY2FzZS5cbiAgICAgIHRoaXMuaG9zdG5hbWUgPSB0aGlzLmhvc3RuYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgfVxuXG4gICAgaWYgKCFpcHY2SG9zdG5hbWUpIHtcbiAgICAgIC8vIElETkEgU3VwcG9ydDogUmV0dXJucyBhIHB1bnljb2RlZCByZXByZXNlbnRhdGlvbiBvZiBcImRvbWFpblwiLlxuICAgICAgLy8gSXQgb25seSBjb252ZXJ0cyBwYXJ0cyBvZiB0aGUgZG9tYWluIG5hbWUgdGhhdFxuICAgICAgLy8gaGF2ZSBub24tQVNDSUkgY2hhcmFjdGVycywgaS5lLiBpdCBkb2Vzbid0IG1hdHRlciBpZlxuICAgICAgLy8geW91IGNhbGwgaXQgd2l0aCBhIGRvbWFpbiB0aGF0IGFscmVhZHkgaXMgQVNDSUktb25seS5cbiAgICAgIHRoaXMuaG9zdG5hbWUgPSBwdW55Y29kZS50b0FTQ0lJKHRoaXMuaG9zdG5hbWUpO1xuICAgIH1cblxuICAgIHZhciBwID0gdGhpcy5wb3J0ID8gJzonICsgdGhpcy5wb3J0IDogJyc7XG4gICAgdmFyIGggPSB0aGlzLmhvc3RuYW1lIHx8ICcnO1xuICAgIHRoaXMuaG9zdCA9IGggKyBwO1xuICAgIHRoaXMuaHJlZiArPSB0aGlzLmhvc3Q7XG5cbiAgICAvLyBzdHJpcCBbIGFuZCBdIGZyb20gdGhlIGhvc3RuYW1lXG4gICAgLy8gdGhlIGhvc3QgZmllbGQgc3RpbGwgcmV0YWlucyB0aGVtLCB0aG91Z2hcbiAgICBpZiAoaXB2Nkhvc3RuYW1lKSB7XG4gICAgICB0aGlzLmhvc3RuYW1lID0gdGhpcy5ob3N0bmFtZS5zdWJzdHIoMSwgdGhpcy5ob3N0bmFtZS5sZW5ndGggLSAyKTtcbiAgICAgIGlmIChyZXN0WzBdICE9PSAnLycpIHtcbiAgICAgICAgcmVzdCA9ICcvJyArIHJlc3Q7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gbm93IHJlc3QgaXMgc2V0IHRvIHRoZSBwb3N0LWhvc3Qgc3R1ZmYuXG4gIC8vIGNob3Agb2ZmIGFueSBkZWxpbSBjaGFycy5cbiAgaWYgKCF1bnNhZmVQcm90b2NvbFtsb3dlclByb3RvXSkge1xuXG4gICAgLy8gRmlyc3QsIG1ha2UgMTAwJSBzdXJlIHRoYXQgYW55IFwiYXV0b0VzY2FwZVwiIGNoYXJzIGdldFxuICAgIC8vIGVzY2FwZWQsIGV2ZW4gaWYgZW5jb2RlVVJJQ29tcG9uZW50IGRvZXNuJ3QgdGhpbmsgdGhleVxuICAgIC8vIG5lZWQgdG8gYmUuXG4gICAgZm9yICh2YXIgaSA9IDAsIGwgPSBhdXRvRXNjYXBlLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgdmFyIGFlID0gYXV0b0VzY2FwZVtpXTtcbiAgICAgIGlmIChyZXN0LmluZGV4T2YoYWUpID09PSAtMSlcbiAgICAgICAgY29udGludWU7XG4gICAgICB2YXIgZXNjID0gZW5jb2RlVVJJQ29tcG9uZW50KGFlKTtcbiAgICAgIGlmIChlc2MgPT09IGFlKSB7XG4gICAgICAgIGVzYyA9IGVzY2FwZShhZSk7XG4gICAgICB9XG4gICAgICByZXN0ID0gcmVzdC5zcGxpdChhZSkuam9pbihlc2MpO1xuICAgIH1cbiAgfVxuXG5cbiAgLy8gY2hvcCBvZmYgZnJvbSB0aGUgdGFpbCBmaXJzdC5cbiAgdmFyIGhhc2ggPSByZXN0LmluZGV4T2YoJyMnKTtcbiAgaWYgKGhhc2ggIT09IC0xKSB7XG4gICAgLy8gZ290IGEgZnJhZ21lbnQgc3RyaW5nLlxuICAgIHRoaXMuaGFzaCA9IHJlc3Quc3Vic3RyKGhhc2gpO1xuICAgIHJlc3QgPSByZXN0LnNsaWNlKDAsIGhhc2gpO1xuICB9XG4gIHZhciBxbSA9IHJlc3QuaW5kZXhPZignPycpO1xuICBpZiAocW0gIT09IC0xKSB7XG4gICAgdGhpcy5zZWFyY2ggPSByZXN0LnN1YnN0cihxbSk7XG4gICAgdGhpcy5xdWVyeSA9IHJlc3Quc3Vic3RyKHFtICsgMSk7XG4gICAgaWYgKHBhcnNlUXVlcnlTdHJpbmcpIHtcbiAgICAgIHRoaXMucXVlcnkgPSBxdWVyeXN0cmluZy5wYXJzZSh0aGlzLnF1ZXJ5KTtcbiAgICB9XG4gICAgcmVzdCA9IHJlc3Quc2xpY2UoMCwgcW0pO1xuICB9IGVsc2UgaWYgKHBhcnNlUXVlcnlTdHJpbmcpIHtcbiAgICAvLyBubyBxdWVyeSBzdHJpbmcsIGJ1dCBwYXJzZVF1ZXJ5U3RyaW5nIHN0aWxsIHJlcXVlc3RlZFxuICAgIHRoaXMuc2VhcmNoID0gJyc7XG4gICAgdGhpcy5xdWVyeSA9IHt9O1xuICB9XG4gIGlmIChyZXN0KSB0aGlzLnBhdGhuYW1lID0gcmVzdDtcbiAgaWYgKHNsYXNoZWRQcm90b2NvbFtsb3dlclByb3RvXSAmJlxuICAgICAgdGhpcy5ob3N0bmFtZSAmJiAhdGhpcy5wYXRobmFtZSkge1xuICAgIHRoaXMucGF0aG5hbWUgPSAnLyc7XG4gIH1cblxuICAvL3RvIHN1cHBvcnQgaHR0cC5yZXF1ZXN0XG4gIGlmICh0aGlzLnBhdGhuYW1lIHx8IHRoaXMuc2VhcmNoKSB7XG4gICAgdmFyIHAgPSB0aGlzLnBhdGhuYW1lIHx8ICcnO1xuICAgIHZhciBzID0gdGhpcy5zZWFyY2ggfHwgJyc7XG4gICAgdGhpcy5wYXRoID0gcCArIHM7XG4gIH1cblxuICAvLyBmaW5hbGx5LCByZWNvbnN0cnVjdCB0aGUgaHJlZiBiYXNlZCBvbiB3aGF0IGhhcyBiZWVuIHZhbGlkYXRlZC5cbiAgdGhpcy5ocmVmID0gdGhpcy5mb3JtYXQoKTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vLyBmb3JtYXQgYSBwYXJzZWQgb2JqZWN0IGludG8gYSB1cmwgc3RyaW5nXG5mdW5jdGlvbiB1cmxGb3JtYXQob2JqKSB7XG4gIC8vIGVuc3VyZSBpdCdzIGFuIG9iamVjdCwgYW5kIG5vdCBhIHN0cmluZyB1cmwuXG4gIC8vIElmIGl0J3MgYW4gb2JqLCB0aGlzIGlzIGEgbm8tb3AuXG4gIC8vIHRoaXMgd2F5LCB5b3UgY2FuIGNhbGwgdXJsX2Zvcm1hdCgpIG9uIHN0cmluZ3NcbiAgLy8gdG8gY2xlYW4gdXAgcG90ZW50aWFsbHkgd29ua3kgdXJscy5cbiAgaWYgKHV0aWwuaXNTdHJpbmcob2JqKSkgb2JqID0gdXJsUGFyc2Uob2JqKTtcbiAgaWYgKCEob2JqIGluc3RhbmNlb2YgVXJsKSkgcmV0dXJuIFVybC5wcm90b3R5cGUuZm9ybWF0LmNhbGwob2JqKTtcbiAgcmV0dXJuIG9iai5mb3JtYXQoKTtcbn1cblxuVXJsLnByb3RvdHlwZS5mb3JtYXQgPSBmdW5jdGlvbigpIHtcbiAgdmFyIGF1dGggPSB0aGlzLmF1dGggfHwgJyc7XG4gIGlmIChhdXRoKSB7XG4gICAgYXV0aCA9IGVuY29kZVVSSUNvbXBvbmVudChhdXRoKTtcbiAgICBhdXRoID0gYXV0aC5yZXBsYWNlKC8lM0EvaSwgJzonKTtcbiAgICBhdXRoICs9ICdAJztcbiAgfVxuXG4gIHZhciBwcm90b2NvbCA9IHRoaXMucHJvdG9jb2wgfHwgJycsXG4gICAgICBwYXRobmFtZSA9IHRoaXMucGF0aG5hbWUgfHwgJycsXG4gICAgICBoYXNoID0gdGhpcy5oYXNoIHx8ICcnLFxuICAgICAgaG9zdCA9IGZhbHNlLFxuICAgICAgcXVlcnkgPSAnJztcblxuICBpZiAodGhpcy5ob3N0KSB7XG4gICAgaG9zdCA9IGF1dGggKyB0aGlzLmhvc3Q7XG4gIH0gZWxzZSBpZiAodGhpcy5ob3N0bmFtZSkge1xuICAgIGhvc3QgPSBhdXRoICsgKHRoaXMuaG9zdG5hbWUuaW5kZXhPZignOicpID09PSAtMSA/XG4gICAgICAgIHRoaXMuaG9zdG5hbWUgOlxuICAgICAgICAnWycgKyB0aGlzLmhvc3RuYW1lICsgJ10nKTtcbiAgICBpZiAodGhpcy5wb3J0KSB7XG4gICAgICBob3N0ICs9ICc6JyArIHRoaXMucG9ydDtcbiAgICB9XG4gIH1cblxuICBpZiAodGhpcy5xdWVyeSAmJlxuICAgICAgdXRpbC5pc09iamVjdCh0aGlzLnF1ZXJ5KSAmJlxuICAgICAgT2JqZWN0LmtleXModGhpcy5xdWVyeSkubGVuZ3RoKSB7XG4gICAgcXVlcnkgPSBxdWVyeXN0cmluZy5zdHJpbmdpZnkodGhpcy5xdWVyeSk7XG4gIH1cblxuICB2YXIgc2VhcmNoID0gdGhpcy5zZWFyY2ggfHwgKHF1ZXJ5ICYmICgnPycgKyBxdWVyeSkpIHx8ICcnO1xuXG4gIGlmIChwcm90b2NvbCAmJiBwcm90b2NvbC5zdWJzdHIoLTEpICE9PSAnOicpIHByb3RvY29sICs9ICc6JztcblxuICAvLyBvbmx5IHRoZSBzbGFzaGVkUHJvdG9jb2xzIGdldCB0aGUgLy8uICBOb3QgbWFpbHRvOiwgeG1wcDosIGV0Yy5cbiAgLy8gdW5sZXNzIHRoZXkgaGFkIHRoZW0gdG8gYmVnaW4gd2l0aC5cbiAgaWYgKHRoaXMuc2xhc2hlcyB8fFxuICAgICAgKCFwcm90b2NvbCB8fCBzbGFzaGVkUHJvdG9jb2xbcHJvdG9jb2xdKSAmJiBob3N0ICE9PSBmYWxzZSkge1xuICAgIGhvc3QgPSAnLy8nICsgKGhvc3QgfHwgJycpO1xuICAgIGlmIChwYXRobmFtZSAmJiBwYXRobmFtZS5jaGFyQXQoMCkgIT09ICcvJykgcGF0aG5hbWUgPSAnLycgKyBwYXRobmFtZTtcbiAgfSBlbHNlIGlmICghaG9zdCkge1xuICAgIGhvc3QgPSAnJztcbiAgfVxuXG4gIGlmIChoYXNoICYmIGhhc2guY2hhckF0KDApICE9PSAnIycpIGhhc2ggPSAnIycgKyBoYXNoO1xuICBpZiAoc2VhcmNoICYmIHNlYXJjaC5jaGFyQXQoMCkgIT09ICc/Jykgc2VhcmNoID0gJz8nICsgc2VhcmNoO1xuXG4gIHBhdGhuYW1lID0gcGF0aG5hbWUucmVwbGFjZSgvWz8jXS9nLCBmdW5jdGlvbihtYXRjaCkge1xuICAgIHJldHVybiBlbmNvZGVVUklDb21wb25lbnQobWF0Y2gpO1xuICB9KTtcbiAgc2VhcmNoID0gc2VhcmNoLnJlcGxhY2UoJyMnLCAnJTIzJyk7XG5cbiAgcmV0dXJuIHByb3RvY29sICsgaG9zdCArIHBhdGhuYW1lICsgc2VhcmNoICsgaGFzaDtcbn07XG5cbmZ1bmN0aW9uIHVybFJlc29sdmUoc291cmNlLCByZWxhdGl2ZSkge1xuICByZXR1cm4gdXJsUGFyc2Uoc291cmNlLCBmYWxzZSwgdHJ1ZSkucmVzb2x2ZShyZWxhdGl2ZSk7XG59XG5cblVybC5wcm90b3R5cGUucmVzb2x2ZSA9IGZ1bmN0aW9uKHJlbGF0aXZlKSB7XG4gIHJldHVybiB0aGlzLnJlc29sdmVPYmplY3QodXJsUGFyc2UocmVsYXRpdmUsIGZhbHNlLCB0cnVlKSkuZm9ybWF0KCk7XG59O1xuXG5mdW5jdGlvbiB1cmxSZXNvbHZlT2JqZWN0KHNvdXJjZSwgcmVsYXRpdmUpIHtcbiAgaWYgKCFzb3VyY2UpIHJldHVybiByZWxhdGl2ZTtcbiAgcmV0dXJuIHVybFBhcnNlKHNvdXJjZSwgZmFsc2UsIHRydWUpLnJlc29sdmVPYmplY3QocmVsYXRpdmUpO1xufVxuXG5VcmwucHJvdG90eXBlLnJlc29sdmVPYmplY3QgPSBmdW5jdGlvbihyZWxhdGl2ZSkge1xuICBpZiAodXRpbC5pc1N0cmluZyhyZWxhdGl2ZSkpIHtcbiAgICB2YXIgcmVsID0gbmV3IFVybCgpO1xuICAgIHJlbC5wYXJzZShyZWxhdGl2ZSwgZmFsc2UsIHRydWUpO1xuICAgIHJlbGF0aXZlID0gcmVsO1xuICB9XG5cbiAgdmFyIHJlc3VsdCA9IG5ldyBVcmwoKTtcbiAgdmFyIHRrZXlzID0gT2JqZWN0LmtleXModGhpcyk7XG4gIGZvciAodmFyIHRrID0gMDsgdGsgPCB0a2V5cy5sZW5ndGg7IHRrKyspIHtcbiAgICB2YXIgdGtleSA9IHRrZXlzW3RrXTtcbiAgICByZXN1bHRbdGtleV0gPSB0aGlzW3RrZXldO1xuICB9XG5cbiAgLy8gaGFzaCBpcyBhbHdheXMgb3ZlcnJpZGRlbiwgbm8gbWF0dGVyIHdoYXQuXG4gIC8vIGV2ZW4gaHJlZj1cIlwiIHdpbGwgcmVtb3ZlIGl0LlxuICByZXN1bHQuaGFzaCA9IHJlbGF0aXZlLmhhc2g7XG5cbiAgLy8gaWYgdGhlIHJlbGF0aXZlIHVybCBpcyBlbXB0eSwgdGhlbiB0aGVyZSdzIG5vdGhpbmcgbGVmdCB0byBkbyBoZXJlLlxuICBpZiAocmVsYXRpdmUuaHJlZiA9PT0gJycpIHtcbiAgICByZXN1bHQuaHJlZiA9IHJlc3VsdC5mb3JtYXQoKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLy8gaHJlZnMgbGlrZSAvL2Zvby9iYXIgYWx3YXlzIGN1dCB0byB0aGUgcHJvdG9jb2wuXG4gIGlmIChyZWxhdGl2ZS5zbGFzaGVzICYmICFyZWxhdGl2ZS5wcm90b2NvbCkge1xuICAgIC8vIHRha2UgZXZlcnl0aGluZyBleGNlcHQgdGhlIHByb3RvY29sIGZyb20gcmVsYXRpdmVcbiAgICB2YXIgcmtleXMgPSBPYmplY3Qua2V5cyhyZWxhdGl2ZSk7XG4gICAgZm9yICh2YXIgcmsgPSAwOyByayA8IHJrZXlzLmxlbmd0aDsgcmsrKykge1xuICAgICAgdmFyIHJrZXkgPSBya2V5c1tya107XG4gICAgICBpZiAocmtleSAhPT0gJ3Byb3RvY29sJylcbiAgICAgICAgcmVzdWx0W3JrZXldID0gcmVsYXRpdmVbcmtleV07XG4gICAgfVxuXG4gICAgLy91cmxQYXJzZSBhcHBlbmRzIHRyYWlsaW5nIC8gdG8gdXJscyBsaWtlIGh0dHA6Ly93d3cuZXhhbXBsZS5jb21cbiAgICBpZiAoc2xhc2hlZFByb3RvY29sW3Jlc3VsdC5wcm90b2NvbF0gJiZcbiAgICAgICAgcmVzdWx0Lmhvc3RuYW1lICYmICFyZXN1bHQucGF0aG5hbWUpIHtcbiAgICAgIHJlc3VsdC5wYXRoID0gcmVzdWx0LnBhdGhuYW1lID0gJy8nO1xuICAgIH1cblxuICAgIHJlc3VsdC5ocmVmID0gcmVzdWx0LmZvcm1hdCgpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICBpZiAocmVsYXRpdmUucHJvdG9jb2wgJiYgcmVsYXRpdmUucHJvdG9jb2wgIT09IHJlc3VsdC5wcm90b2NvbCkge1xuICAgIC8vIGlmIGl0J3MgYSBrbm93biB1cmwgcHJvdG9jb2wsIHRoZW4gY2hhbmdpbmdcbiAgICAvLyB0aGUgcHJvdG9jb2wgZG9lcyB3ZWlyZCB0aGluZ3NcbiAgICAvLyBmaXJzdCwgaWYgaXQncyBub3QgZmlsZTosIHRoZW4gd2UgTVVTVCBoYXZlIGEgaG9zdCxcbiAgICAvLyBhbmQgaWYgdGhlcmUgd2FzIGEgcGF0aFxuICAgIC8vIHRvIGJlZ2luIHdpdGgsIHRoZW4gd2UgTVVTVCBoYXZlIGEgcGF0aC5cbiAgICAvLyBpZiBpdCBpcyBmaWxlOiwgdGhlbiB0aGUgaG9zdCBpcyBkcm9wcGVkLFxuICAgIC8vIGJlY2F1c2UgdGhhdCdzIGtub3duIHRvIGJlIGhvc3RsZXNzLlxuICAgIC8vIGFueXRoaW5nIGVsc2UgaXMgYXNzdW1lZCB0byBiZSBhYnNvbHV0ZS5cbiAgICBpZiAoIXNsYXNoZWRQcm90b2NvbFtyZWxhdGl2ZS5wcm90b2NvbF0pIHtcbiAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMocmVsYXRpdmUpO1xuICAgICAgZm9yICh2YXIgdiA9IDA7IHYgPCBrZXlzLmxlbmd0aDsgdisrKSB7XG4gICAgICAgIHZhciBrID0ga2V5c1t2XTtcbiAgICAgICAgcmVzdWx0W2tdID0gcmVsYXRpdmVba107XG4gICAgICB9XG4gICAgICByZXN1bHQuaHJlZiA9IHJlc3VsdC5mb3JtYXQoKTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgcmVzdWx0LnByb3RvY29sID0gcmVsYXRpdmUucHJvdG9jb2w7XG4gICAgaWYgKCFyZWxhdGl2ZS5ob3N0ICYmICFob3N0bGVzc1Byb3RvY29sW3JlbGF0aXZlLnByb3RvY29sXSkge1xuICAgICAgdmFyIHJlbFBhdGggPSAocmVsYXRpdmUucGF0aG5hbWUgfHwgJycpLnNwbGl0KCcvJyk7XG4gICAgICB3aGlsZSAocmVsUGF0aC5sZW5ndGggJiYgIShyZWxhdGl2ZS5ob3N0ID0gcmVsUGF0aC5zaGlmdCgpKSk7XG4gICAgICBpZiAoIXJlbGF0aXZlLmhvc3QpIHJlbGF0aXZlLmhvc3QgPSAnJztcbiAgICAgIGlmICghcmVsYXRpdmUuaG9zdG5hbWUpIHJlbGF0aXZlLmhvc3RuYW1lID0gJyc7XG4gICAgICBpZiAocmVsUGF0aFswXSAhPT0gJycpIHJlbFBhdGgudW5zaGlmdCgnJyk7XG4gICAgICBpZiAocmVsUGF0aC5sZW5ndGggPCAyKSByZWxQYXRoLnVuc2hpZnQoJycpO1xuICAgICAgcmVzdWx0LnBhdGhuYW1lID0gcmVsUGF0aC5qb2luKCcvJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3VsdC5wYXRobmFtZSA9IHJlbGF0aXZlLnBhdGhuYW1lO1xuICAgIH1cbiAgICByZXN1bHQuc2VhcmNoID0gcmVsYXRpdmUuc2VhcmNoO1xuICAgIHJlc3VsdC5xdWVyeSA9IHJlbGF0aXZlLnF1ZXJ5O1xuICAgIHJlc3VsdC5ob3N0ID0gcmVsYXRpdmUuaG9zdCB8fCAnJztcbiAgICByZXN1bHQuYXV0aCA9IHJlbGF0aXZlLmF1dGg7XG4gICAgcmVzdWx0Lmhvc3RuYW1lID0gcmVsYXRpdmUuaG9zdG5hbWUgfHwgcmVsYXRpdmUuaG9zdDtcbiAgICByZXN1bHQucG9ydCA9IHJlbGF0aXZlLnBvcnQ7XG4gICAgLy8gdG8gc3VwcG9ydCBodHRwLnJlcXVlc3RcbiAgICBpZiAocmVzdWx0LnBhdGhuYW1lIHx8IHJlc3VsdC5zZWFyY2gpIHtcbiAgICAgIHZhciBwID0gcmVzdWx0LnBhdGhuYW1lIHx8ICcnO1xuICAgICAgdmFyIHMgPSByZXN1bHQuc2VhcmNoIHx8ICcnO1xuICAgICAgcmVzdWx0LnBhdGggPSBwICsgcztcbiAgICB9XG4gICAgcmVzdWx0LnNsYXNoZXMgPSByZXN1bHQuc2xhc2hlcyB8fCByZWxhdGl2ZS5zbGFzaGVzO1xuICAgIHJlc3VsdC5ocmVmID0gcmVzdWx0LmZvcm1hdCgpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICB2YXIgaXNTb3VyY2VBYnMgPSAocmVzdWx0LnBhdGhuYW1lICYmIHJlc3VsdC5wYXRobmFtZS5jaGFyQXQoMCkgPT09ICcvJyksXG4gICAgICBpc1JlbEFicyA9IChcbiAgICAgICAgICByZWxhdGl2ZS5ob3N0IHx8XG4gICAgICAgICAgcmVsYXRpdmUucGF0aG5hbWUgJiYgcmVsYXRpdmUucGF0aG5hbWUuY2hhckF0KDApID09PSAnLydcbiAgICAgICksXG4gICAgICBtdXN0RW5kQWJzID0gKGlzUmVsQWJzIHx8IGlzU291cmNlQWJzIHx8XG4gICAgICAgICAgICAgICAgICAgIChyZXN1bHQuaG9zdCAmJiByZWxhdGl2ZS5wYXRobmFtZSkpLFxuICAgICAgcmVtb3ZlQWxsRG90cyA9IG11c3RFbmRBYnMsXG4gICAgICBzcmNQYXRoID0gcmVzdWx0LnBhdGhuYW1lICYmIHJlc3VsdC5wYXRobmFtZS5zcGxpdCgnLycpIHx8IFtdLFxuICAgICAgcmVsUGF0aCA9IHJlbGF0aXZlLnBhdGhuYW1lICYmIHJlbGF0aXZlLnBhdGhuYW1lLnNwbGl0KCcvJykgfHwgW10sXG4gICAgICBwc3ljaG90aWMgPSByZXN1bHQucHJvdG9jb2wgJiYgIXNsYXNoZWRQcm90b2NvbFtyZXN1bHQucHJvdG9jb2xdO1xuXG4gIC8vIGlmIHRoZSB1cmwgaXMgYSBub24tc2xhc2hlZCB1cmwsIHRoZW4gcmVsYXRpdmVcbiAgLy8gbGlua3MgbGlrZSAuLi8uLiBzaG91bGQgYmUgYWJsZVxuICAvLyB0byBjcmF3bCB1cCB0byB0aGUgaG9zdG5hbWUsIGFzIHdlbGwuICBUaGlzIGlzIHN0cmFuZ2UuXG4gIC8vIHJlc3VsdC5wcm90b2NvbCBoYXMgYWxyZWFkeSBiZWVuIHNldCBieSBub3cuXG4gIC8vIExhdGVyIG9uLCBwdXQgdGhlIGZpcnN0IHBhdGggcGFydCBpbnRvIHRoZSBob3N0IGZpZWxkLlxuICBpZiAocHN5Y2hvdGljKSB7XG4gICAgcmVzdWx0Lmhvc3RuYW1lID0gJyc7XG4gICAgcmVzdWx0LnBvcnQgPSBudWxsO1xuICAgIGlmIChyZXN1bHQuaG9zdCkge1xuICAgICAgaWYgKHNyY1BhdGhbMF0gPT09ICcnKSBzcmNQYXRoWzBdID0gcmVzdWx0Lmhvc3Q7XG4gICAgICBlbHNlIHNyY1BhdGgudW5zaGlmdChyZXN1bHQuaG9zdCk7XG4gICAgfVxuICAgIHJlc3VsdC5ob3N0ID0gJyc7XG4gICAgaWYgKHJlbGF0aXZlLnByb3RvY29sKSB7XG4gICAgICByZWxhdGl2ZS5ob3N0bmFtZSA9IG51bGw7XG4gICAgICByZWxhdGl2ZS5wb3J0ID0gbnVsbDtcbiAgICAgIGlmIChyZWxhdGl2ZS5ob3N0KSB7XG4gICAgICAgIGlmIChyZWxQYXRoWzBdID09PSAnJykgcmVsUGF0aFswXSA9IHJlbGF0aXZlLmhvc3Q7XG4gICAgICAgIGVsc2UgcmVsUGF0aC51bnNoaWZ0KHJlbGF0aXZlLmhvc3QpO1xuICAgICAgfVxuICAgICAgcmVsYXRpdmUuaG9zdCA9IG51bGw7XG4gICAgfVxuICAgIG11c3RFbmRBYnMgPSBtdXN0RW5kQWJzICYmIChyZWxQYXRoWzBdID09PSAnJyB8fCBzcmNQYXRoWzBdID09PSAnJyk7XG4gIH1cblxuICBpZiAoaXNSZWxBYnMpIHtcbiAgICAvLyBpdCdzIGFic29sdXRlLlxuICAgIHJlc3VsdC5ob3N0ID0gKHJlbGF0aXZlLmhvc3QgfHwgcmVsYXRpdmUuaG9zdCA9PT0gJycpID9cbiAgICAgICAgICAgICAgICAgIHJlbGF0aXZlLmhvc3QgOiByZXN1bHQuaG9zdDtcbiAgICByZXN1bHQuaG9zdG5hbWUgPSAocmVsYXRpdmUuaG9zdG5hbWUgfHwgcmVsYXRpdmUuaG9zdG5hbWUgPT09ICcnKSA/XG4gICAgICAgICAgICAgICAgICAgICAgcmVsYXRpdmUuaG9zdG5hbWUgOiByZXN1bHQuaG9zdG5hbWU7XG4gICAgcmVzdWx0LnNlYXJjaCA9IHJlbGF0aXZlLnNlYXJjaDtcbiAgICByZXN1bHQucXVlcnkgPSByZWxhdGl2ZS5xdWVyeTtcbiAgICBzcmNQYXRoID0gcmVsUGF0aDtcbiAgICAvLyBmYWxsIHRocm91Z2ggdG8gdGhlIGRvdC1oYW5kbGluZyBiZWxvdy5cbiAgfSBlbHNlIGlmIChyZWxQYXRoLmxlbmd0aCkge1xuICAgIC8vIGl0J3MgcmVsYXRpdmVcbiAgICAvLyB0aHJvdyBhd2F5IHRoZSBleGlzdGluZyBmaWxlLCBhbmQgdGFrZSB0aGUgbmV3IHBhdGggaW5zdGVhZC5cbiAgICBpZiAoIXNyY1BhdGgpIHNyY1BhdGggPSBbXTtcbiAgICBzcmNQYXRoLnBvcCgpO1xuICAgIHNyY1BhdGggPSBzcmNQYXRoLmNvbmNhdChyZWxQYXRoKTtcbiAgICByZXN1bHQuc2VhcmNoID0gcmVsYXRpdmUuc2VhcmNoO1xuICAgIHJlc3VsdC5xdWVyeSA9IHJlbGF0aXZlLnF1ZXJ5O1xuICB9IGVsc2UgaWYgKCF1dGlsLmlzTnVsbE9yVW5kZWZpbmVkKHJlbGF0aXZlLnNlYXJjaCkpIHtcbiAgICAvLyBqdXN0IHB1bGwgb3V0IHRoZSBzZWFyY2guXG4gICAgLy8gbGlrZSBocmVmPSc/Zm9vJy5cbiAgICAvLyBQdXQgdGhpcyBhZnRlciB0aGUgb3RoZXIgdHdvIGNhc2VzIGJlY2F1c2UgaXQgc2ltcGxpZmllcyB0aGUgYm9vbGVhbnNcbiAgICBpZiAocHN5Y2hvdGljKSB7XG4gICAgICByZXN1bHQuaG9zdG5hbWUgPSByZXN1bHQuaG9zdCA9IHNyY1BhdGguc2hpZnQoKTtcbiAgICAgIC8vb2NjYXRpb25hbHkgdGhlIGF1dGggY2FuIGdldCBzdHVjayBvbmx5IGluIGhvc3RcbiAgICAgIC8vdGhpcyBlc3BlY2lhbGx5IGhhcHBlbnMgaW4gY2FzZXMgbGlrZVxuICAgICAgLy91cmwucmVzb2x2ZU9iamVjdCgnbWFpbHRvOmxvY2FsMUBkb21haW4xJywgJ2xvY2FsMkBkb21haW4yJylcbiAgICAgIHZhciBhdXRoSW5Ib3N0ID0gcmVzdWx0Lmhvc3QgJiYgcmVzdWx0Lmhvc3QuaW5kZXhPZignQCcpID4gMCA/XG4gICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5ob3N0LnNwbGl0KCdAJykgOiBmYWxzZTtcbiAgICAgIGlmIChhdXRoSW5Ib3N0KSB7XG4gICAgICAgIHJlc3VsdC5hdXRoID0gYXV0aEluSG9zdC5zaGlmdCgpO1xuICAgICAgICByZXN1bHQuaG9zdCA9IHJlc3VsdC5ob3N0bmFtZSA9IGF1dGhJbkhvc3Quc2hpZnQoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmVzdWx0LnNlYXJjaCA9IHJlbGF0aXZlLnNlYXJjaDtcbiAgICByZXN1bHQucXVlcnkgPSByZWxhdGl2ZS5xdWVyeTtcbiAgICAvL3RvIHN1cHBvcnQgaHR0cC5yZXF1ZXN0XG4gICAgaWYgKCF1dGlsLmlzTnVsbChyZXN1bHQucGF0aG5hbWUpIHx8ICF1dGlsLmlzTnVsbChyZXN1bHQuc2VhcmNoKSkge1xuICAgICAgcmVzdWx0LnBhdGggPSAocmVzdWx0LnBhdGhuYW1lID8gcmVzdWx0LnBhdGhuYW1lIDogJycpICtcbiAgICAgICAgICAgICAgICAgICAgKHJlc3VsdC5zZWFyY2ggPyByZXN1bHQuc2VhcmNoIDogJycpO1xuICAgIH1cbiAgICByZXN1bHQuaHJlZiA9IHJlc3VsdC5mb3JtYXQoKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgaWYgKCFzcmNQYXRoLmxlbmd0aCkge1xuICAgIC8vIG5vIHBhdGggYXQgYWxsLiAgZWFzeS5cbiAgICAvLyB3ZSd2ZSBhbHJlYWR5IGhhbmRsZWQgdGhlIG90aGVyIHN0dWZmIGFib3ZlLlxuICAgIHJlc3VsdC5wYXRobmFtZSA9IG51bGw7XG4gICAgLy90byBzdXBwb3J0IGh0dHAucmVxdWVzdFxuICAgIGlmIChyZXN1bHQuc2VhcmNoKSB7XG4gICAgICByZXN1bHQucGF0aCA9ICcvJyArIHJlc3VsdC5zZWFyY2g7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3VsdC5wYXRoID0gbnVsbDtcbiAgICB9XG4gICAgcmVzdWx0LmhyZWYgPSByZXN1bHQuZm9ybWF0KCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8vIGlmIGEgdXJsIEVORHMgaW4gLiBvciAuLiwgdGhlbiBpdCBtdXN0IGdldCBhIHRyYWlsaW5nIHNsYXNoLlxuICAvLyBob3dldmVyLCBpZiBpdCBlbmRzIGluIGFueXRoaW5nIGVsc2Ugbm9uLXNsYXNoeSxcbiAgLy8gdGhlbiBpdCBtdXN0IE5PVCBnZXQgYSB0cmFpbGluZyBzbGFzaC5cbiAgdmFyIGxhc3QgPSBzcmNQYXRoLnNsaWNlKC0xKVswXTtcbiAgdmFyIGhhc1RyYWlsaW5nU2xhc2ggPSAoXG4gICAgICAocmVzdWx0Lmhvc3QgfHwgcmVsYXRpdmUuaG9zdCB8fCBzcmNQYXRoLmxlbmd0aCA+IDEpICYmXG4gICAgICAobGFzdCA9PT0gJy4nIHx8IGxhc3QgPT09ICcuLicpIHx8IGxhc3QgPT09ICcnKTtcblxuICAvLyBzdHJpcCBzaW5nbGUgZG90cywgcmVzb2x2ZSBkb3VibGUgZG90cyB0byBwYXJlbnQgZGlyXG4gIC8vIGlmIHRoZSBwYXRoIHRyaWVzIHRvIGdvIGFib3ZlIHRoZSByb290LCBgdXBgIGVuZHMgdXAgPiAwXG4gIHZhciB1cCA9IDA7XG4gIGZvciAodmFyIGkgPSBzcmNQYXRoLmxlbmd0aDsgaSA+PSAwOyBpLS0pIHtcbiAgICBsYXN0ID0gc3JjUGF0aFtpXTtcbiAgICBpZiAobGFzdCA9PT0gJy4nKSB7XG4gICAgICBzcmNQYXRoLnNwbGljZShpLCAxKTtcbiAgICB9IGVsc2UgaWYgKGxhc3QgPT09ICcuLicpIHtcbiAgICAgIHNyY1BhdGguc3BsaWNlKGksIDEpO1xuICAgICAgdXArKztcbiAgICB9IGVsc2UgaWYgKHVwKSB7XG4gICAgICBzcmNQYXRoLnNwbGljZShpLCAxKTtcbiAgICAgIHVwLS07XG4gICAgfVxuICB9XG5cbiAgLy8gaWYgdGhlIHBhdGggaXMgYWxsb3dlZCB0byBnbyBhYm92ZSB0aGUgcm9vdCwgcmVzdG9yZSBsZWFkaW5nIC4uc1xuICBpZiAoIW11c3RFbmRBYnMgJiYgIXJlbW92ZUFsbERvdHMpIHtcbiAgICBmb3IgKDsgdXAtLTsgdXApIHtcbiAgICAgIHNyY1BhdGgudW5zaGlmdCgnLi4nKTtcbiAgICB9XG4gIH1cblxuICBpZiAobXVzdEVuZEFicyAmJiBzcmNQYXRoWzBdICE9PSAnJyAmJlxuICAgICAgKCFzcmNQYXRoWzBdIHx8IHNyY1BhdGhbMF0uY2hhckF0KDApICE9PSAnLycpKSB7XG4gICAgc3JjUGF0aC51bnNoaWZ0KCcnKTtcbiAgfVxuXG4gIGlmIChoYXNUcmFpbGluZ1NsYXNoICYmIChzcmNQYXRoLmpvaW4oJy8nKS5zdWJzdHIoLTEpICE9PSAnLycpKSB7XG4gICAgc3JjUGF0aC5wdXNoKCcnKTtcbiAgfVxuXG4gIHZhciBpc0Fic29sdXRlID0gc3JjUGF0aFswXSA9PT0gJycgfHxcbiAgICAgIChzcmNQYXRoWzBdICYmIHNyY1BhdGhbMF0uY2hhckF0KDApID09PSAnLycpO1xuXG4gIC8vIHB1dCB0aGUgaG9zdCBiYWNrXG4gIGlmIChwc3ljaG90aWMpIHtcbiAgICByZXN1bHQuaG9zdG5hbWUgPSByZXN1bHQuaG9zdCA9IGlzQWJzb2x1dGUgPyAnJyA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcmNQYXRoLmxlbmd0aCA/IHNyY1BhdGguc2hpZnQoKSA6ICcnO1xuICAgIC8vb2NjYXRpb25hbHkgdGhlIGF1dGggY2FuIGdldCBzdHVjayBvbmx5IGluIGhvc3RcbiAgICAvL3RoaXMgZXNwZWNpYWxseSBoYXBwZW5zIGluIGNhc2VzIGxpa2VcbiAgICAvL3VybC5yZXNvbHZlT2JqZWN0KCdtYWlsdG86bG9jYWwxQGRvbWFpbjEnLCAnbG9jYWwyQGRvbWFpbjInKVxuICAgIHZhciBhdXRoSW5Ib3N0ID0gcmVzdWx0Lmhvc3QgJiYgcmVzdWx0Lmhvc3QuaW5kZXhPZignQCcpID4gMCA/XG4gICAgICAgICAgICAgICAgICAgICByZXN1bHQuaG9zdC5zcGxpdCgnQCcpIDogZmFsc2U7XG4gICAgaWYgKGF1dGhJbkhvc3QpIHtcbiAgICAgIHJlc3VsdC5hdXRoID0gYXV0aEluSG9zdC5zaGlmdCgpO1xuICAgICAgcmVzdWx0Lmhvc3QgPSByZXN1bHQuaG9zdG5hbWUgPSBhdXRoSW5Ib3N0LnNoaWZ0KCk7XG4gICAgfVxuICB9XG5cbiAgbXVzdEVuZEFicyA9IG11c3RFbmRBYnMgfHwgKHJlc3VsdC5ob3N0ICYmIHNyY1BhdGgubGVuZ3RoKTtcblxuICBpZiAobXVzdEVuZEFicyAmJiAhaXNBYnNvbHV0ZSkge1xuICAgIHNyY1BhdGgudW5zaGlmdCgnJyk7XG4gIH1cblxuICBpZiAoIXNyY1BhdGgubGVuZ3RoKSB7XG4gICAgcmVzdWx0LnBhdGhuYW1lID0gbnVsbDtcbiAgICByZXN1bHQucGF0aCA9IG51bGw7XG4gIH0gZWxzZSB7XG4gICAgcmVzdWx0LnBhdGhuYW1lID0gc3JjUGF0aC5qb2luKCcvJyk7XG4gIH1cblxuICAvL3RvIHN1cHBvcnQgcmVxdWVzdC5odHRwXG4gIGlmICghdXRpbC5pc051bGwocmVzdWx0LnBhdGhuYW1lKSB8fCAhdXRpbC5pc051bGwocmVzdWx0LnNlYXJjaCkpIHtcbiAgICByZXN1bHQucGF0aCA9IChyZXN1bHQucGF0aG5hbWUgPyByZXN1bHQucGF0aG5hbWUgOiAnJykgK1xuICAgICAgICAgICAgICAgICAgKHJlc3VsdC5zZWFyY2ggPyByZXN1bHQuc2VhcmNoIDogJycpO1xuICB9XG4gIHJlc3VsdC5hdXRoID0gcmVsYXRpdmUuYXV0aCB8fCByZXN1bHQuYXV0aDtcbiAgcmVzdWx0LnNsYXNoZXMgPSByZXN1bHQuc2xhc2hlcyB8fCByZWxhdGl2ZS5zbGFzaGVzO1xuICByZXN1bHQuaHJlZiA9IHJlc3VsdC5mb3JtYXQoKTtcbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cblVybC5wcm90b3R5cGUucGFyc2VIb3N0ID0gZnVuY3Rpb24oKSB7XG4gIHZhciBob3N0ID0gdGhpcy5ob3N0O1xuICB2YXIgcG9ydCA9IHBvcnRQYXR0ZXJuLmV4ZWMoaG9zdCk7XG4gIGlmIChwb3J0KSB7XG4gICAgcG9ydCA9IHBvcnRbMF07XG4gICAgaWYgKHBvcnQgIT09ICc6Jykge1xuICAgICAgdGhpcy5wb3J0ID0gcG9ydC5zdWJzdHIoMSk7XG4gICAgfVxuICAgIGhvc3QgPSBob3N0LnN1YnN0cigwLCBob3N0Lmxlbmd0aCAtIHBvcnQubGVuZ3RoKTtcbiAgfVxuICBpZiAoaG9zdCkgdGhpcy5ob3N0bmFtZSA9IGhvc3Q7XG59O1xuIiwiJ3VzZSBzdHJpY3QnXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gcGFyc2VVUkkgKHN0ciwgb3B0cykge1xuICBvcHRzID0gb3B0cyB8fCB7fVxuXG4gIHZhciBvID0ge1xuICAgIGtleTogWydzb3VyY2UnLCAncHJvdG9jb2wnLCAnYXV0aG9yaXR5JywgJ3VzZXJJbmZvJywgJ3VzZXInLCAncGFzc3dvcmQnLCAnaG9zdCcsICdwb3J0JywgJ3JlbGF0aXZlJywgJ3BhdGgnLCAnZGlyZWN0b3J5JywgJ2ZpbGUnLCAncXVlcnknLCAnYW5jaG9yJ10sXG4gICAgcToge1xuICAgICAgbmFtZTogJ3F1ZXJ5S2V5JyxcbiAgICAgIHBhcnNlcjogLyg/Ol58JikoW14mPV0qKT0/KFteJl0qKS9nXG4gICAgfSxcbiAgICBwYXJzZXI6IHtcbiAgICAgIHN0cmljdDogL14oPzooW146XFwvPyNdKyk6KT8oPzpcXC9cXC8oKD86KChbXjpAXSopKD86OihbXjpAXSopKT8pP0ApPyhbXjpcXC8/I10qKSg/OjooXFxkKikpPykpPygoKCg/OltePyNcXC9dKlxcLykqKShbXj8jXSopKSg/OlxcPyhbXiNdKikpPyg/OiMoLiopKT8pLyxcbiAgICAgIGxvb3NlOiAvXig/Oig/IVteOkBdKzpbXjpAXFwvXSpAKShbXjpcXC8/Iy5dKyk6KT8oPzpcXC9cXC8pPygoPzooKFteOkBdKikoPzo6KFteOkBdKikpPyk/QCk/KFteOlxcLz8jXSopKD86OihcXGQqKSk/KSgoKFxcLyg/OltePyNdKD8hW14/I1xcL10qXFwuW14/I1xcLy5dKyg/Ols/I118JCkpKSpcXC8/KT8oW14/I1xcL10qKSkoPzpcXD8oW14jXSopKT8oPzojKC4qKSk/KS9cbiAgICB9XG4gIH1cblxuICB2YXIgbSA9IG8ucGFyc2VyW29wdHMuc3RyaWN0TW9kZSA/ICdzdHJpY3QnIDogJ2xvb3NlJ10uZXhlYyhzdHIpXG4gIHZhciB1cmkgPSB7fVxuICB2YXIgaSA9IDE0XG5cbiAgd2hpbGUgKGktLSkgdXJpW28ua2V5W2ldXSA9IG1baV0gfHwgJydcblxuICB1cmlbby5xLm5hbWVdID0ge31cbiAgdXJpW28ua2V5WzEyXV0ucmVwbGFjZShvLnEucGFyc2VyLCBmdW5jdGlvbiAoJDAsICQxLCAkMikge1xuICAgIGlmICgkMSkgdXJpW28ucS5uYW1lXVskMV0gPSAkMlxuICB9KVxuXG4gIHJldHVybiB1cmlcbn1cbiIsImltcG9ydCAqIGFzIFBJWEkgZnJvbSAncGl4aS5qcyc7XG5cbmltcG9ydCB7IFxuICBrZXlEb3duLCBcbiAga2V5VXAsIFxuICBwbGF5ZXIsIFxuICBzZXR1cFJvYWRzLCBcbiAgcm9hZHNMaXN0LCBcbiAgdHJlZXNMaXN0LFxuICBjb3VudExpZmUsIFxuICBnYW1lTG9vcCB9IGZyb20gJy4vY29udHJvbGxlcic7XG5pbXBvcnQgeyBtYWluU2NyZWVuIH0gZnJvbSAnLi9jb25maWcnO1xuXG5leHBvcnQgY29uc3QgYXBwID0gbmV3IFBJWEkuQXBwbGljYXRpb24obWFpblNjcmVlbik7XG5leHBvcnQgY29uc3QgY29udGFpbmVyID0gbmV3IFBJWEkuQ29udGFpbmVyKCk7XG5cbmNvbnRhaW5lci5zb3J0YWJsZUNoaWxkcmVuID0gdHJ1ZTtcblxuZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChhcHAudmlldyk7XG5hcHAuc3RhZ2UuYWRkQ2hpbGQoY29udGFpbmVyKTtcblxuc2V0dXBSb2FkcygpO1xucm9hZHNMaXN0LmZvckVhY2gocm9hZCA9PiB7XG4gIGNvbnRhaW5lci5hZGRDaGlsZChyb2FkKTtcbn0pO1xuXG50cmVlc0xpc3QuZm9yRWFjaCh0cmVlID0+IHtcbiAgY29udGFpbmVyLmFkZENoaWxkKHRyZWUpO1xufSk7XG5jb250YWluZXIuYWRkQ2hpbGQocGxheWVyKTtcblxuYXBwLnRpY2tlci5hZGQoZ2FtZUxvb3ApO1xuXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwga2V5RG93bik7XG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImtleXVwXCIsIGtleVVwKTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIGhhcyA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHlcbiAgLCBwcmVmaXggPSAnfic7XG5cbi8qKlxuICogQ29uc3RydWN0b3IgdG8gY3JlYXRlIGEgc3RvcmFnZSBmb3Igb3VyIGBFRWAgb2JqZWN0cy5cbiAqIEFuIGBFdmVudHNgIGluc3RhbmNlIGlzIGEgcGxhaW4gb2JqZWN0IHdob3NlIHByb3BlcnRpZXMgYXJlIGV2ZW50IG5hbWVzLlxuICpcbiAqIEBjb25zdHJ1Y3RvclxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gRXZlbnRzKCkge31cblxuLy9cbi8vIFdlIHRyeSB0byBub3QgaW5oZXJpdCBmcm9tIGBPYmplY3QucHJvdG90eXBlYC4gSW4gc29tZSBlbmdpbmVzIGNyZWF0aW5nIGFuXG4vLyBpbnN0YW5jZSBpbiB0aGlzIHdheSBpcyBmYXN0ZXIgdGhhbiBjYWxsaW5nIGBPYmplY3QuY3JlYXRlKG51bGwpYCBkaXJlY3RseS5cbi8vIElmIGBPYmplY3QuY3JlYXRlKG51bGwpYCBpcyBub3Qgc3VwcG9ydGVkIHdlIHByZWZpeCB0aGUgZXZlbnQgbmFtZXMgd2l0aCBhXG4vLyBjaGFyYWN0ZXIgdG8gbWFrZSBzdXJlIHRoYXQgdGhlIGJ1aWx0LWluIG9iamVjdCBwcm9wZXJ0aWVzIGFyZSBub3Rcbi8vIG92ZXJyaWRkZW4gb3IgdXNlZCBhcyBhbiBhdHRhY2sgdmVjdG9yLlxuLy9cbmlmIChPYmplY3QuY3JlYXRlKSB7XG4gIEV2ZW50cy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuXG4gIC8vXG4gIC8vIFRoaXMgaGFjayBpcyBuZWVkZWQgYmVjYXVzZSB0aGUgYF9fcHJvdG9fX2AgcHJvcGVydHkgaXMgc3RpbGwgaW5oZXJpdGVkIGluXG4gIC8vIHNvbWUgb2xkIGJyb3dzZXJzIGxpa2UgQW5kcm9pZCA0LCBpUGhvbmUgNS4xLCBPcGVyYSAxMSBhbmQgU2FmYXJpIDUuXG4gIC8vXG4gIGlmICghbmV3IEV2ZW50cygpLl9fcHJvdG9fXykgcHJlZml4ID0gZmFsc2U7XG59XG5cbi8qKlxuICogUmVwcmVzZW50YXRpb24gb2YgYSBzaW5nbGUgZXZlbnQgbGlzdGVuZXIuXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGxpc3RlbmVyIGZ1bmN0aW9uLlxuICogQHBhcmFtIHsqfSBjb250ZXh0IFRoZSBjb250ZXh0IHRvIGludm9rZSB0aGUgbGlzdGVuZXIgd2l0aC5cbiAqIEBwYXJhbSB7Qm9vbGVhbn0gW29uY2U9ZmFsc2VdIFNwZWNpZnkgaWYgdGhlIGxpc3RlbmVyIGlzIGEgb25lLXRpbWUgbGlzdGVuZXIuXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIEVFKGZuLCBjb250ZXh0LCBvbmNlKSB7XG4gIHRoaXMuZm4gPSBmbjtcbiAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgdGhpcy5vbmNlID0gb25jZSB8fCBmYWxzZTtcbn1cblxuLyoqXG4gKiBBZGQgYSBsaXN0ZW5lciBmb3IgYSBnaXZlbiBldmVudC5cbiAqXG4gKiBAcGFyYW0ge0V2ZW50RW1pdHRlcn0gZW1pdHRlciBSZWZlcmVuY2UgdG8gdGhlIGBFdmVudEVtaXR0ZXJgIGluc3RhbmNlLlxuICogQHBhcmFtIHsoU3RyaW5nfFN5bWJvbCl9IGV2ZW50IFRoZSBldmVudCBuYW1lLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGxpc3RlbmVyIGZ1bmN0aW9uLlxuICogQHBhcmFtIHsqfSBjb250ZXh0IFRoZSBjb250ZXh0IHRvIGludm9rZSB0aGUgbGlzdGVuZXIgd2l0aC5cbiAqIEBwYXJhbSB7Qm9vbGVhbn0gb25jZSBTcGVjaWZ5IGlmIHRoZSBsaXN0ZW5lciBpcyBhIG9uZS10aW1lIGxpc3RlbmVyLlxuICogQHJldHVybnMge0V2ZW50RW1pdHRlcn1cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGFkZExpc3RlbmVyKGVtaXR0ZXIsIGV2ZW50LCBmbiwgY29udGV4dCwgb25jZSkge1xuICBpZiAodHlwZW9mIGZuICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIGxpc3RlbmVyIG11c3QgYmUgYSBmdW5jdGlvbicpO1xuICB9XG5cbiAgdmFyIGxpc3RlbmVyID0gbmV3IEVFKGZuLCBjb250ZXh0IHx8IGVtaXR0ZXIsIG9uY2UpXG4gICAgLCBldnQgPSBwcmVmaXggPyBwcmVmaXggKyBldmVudCA6IGV2ZW50O1xuXG4gIGlmICghZW1pdHRlci5fZXZlbnRzW2V2dF0pIGVtaXR0ZXIuX2V2ZW50c1tldnRdID0gbGlzdGVuZXIsIGVtaXR0ZXIuX2V2ZW50c0NvdW50Kys7XG4gIGVsc2UgaWYgKCFlbWl0dGVyLl9ldmVudHNbZXZ0XS5mbikgZW1pdHRlci5fZXZlbnRzW2V2dF0ucHVzaChsaXN0ZW5lcik7XG4gIGVsc2UgZW1pdHRlci5fZXZlbnRzW2V2dF0gPSBbZW1pdHRlci5fZXZlbnRzW2V2dF0sIGxpc3RlbmVyXTtcblxuICByZXR1cm4gZW1pdHRlcjtcbn1cblxuLyoqXG4gKiBDbGVhciBldmVudCBieSBuYW1lLlxuICpcbiAqIEBwYXJhbSB7RXZlbnRFbWl0dGVyfSBlbWl0dGVyIFJlZmVyZW5jZSB0byB0aGUgYEV2ZW50RW1pdHRlcmAgaW5zdGFuY2UuXG4gKiBAcGFyYW0geyhTdHJpbmd8U3ltYm9sKX0gZXZ0IFRoZSBFdmVudCBuYW1lLlxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gY2xlYXJFdmVudChlbWl0dGVyLCBldnQpIHtcbiAgaWYgKC0tZW1pdHRlci5fZXZlbnRzQ291bnQgPT09IDApIGVtaXR0ZXIuX2V2ZW50cyA9IG5ldyBFdmVudHMoKTtcbiAgZWxzZSBkZWxldGUgZW1pdHRlci5fZXZlbnRzW2V2dF07XG59XG5cbi8qKlxuICogTWluaW1hbCBgRXZlbnRFbWl0dGVyYCBpbnRlcmZhY2UgdGhhdCBpcyBtb2xkZWQgYWdhaW5zdCB0aGUgTm9kZS5qc1xuICogYEV2ZW50RW1pdHRlcmAgaW50ZXJmYWNlLlxuICpcbiAqIEBjb25zdHJ1Y3RvclxuICogQHB1YmxpY1xuICovXG5mdW5jdGlvbiBFdmVudEVtaXR0ZXIoKSB7XG4gIHRoaXMuX2V2ZW50cyA9IG5ldyBFdmVudHMoKTtcbiAgdGhpcy5fZXZlbnRzQ291bnQgPSAwO1xufVxuXG4vKipcbiAqIFJldHVybiBhbiBhcnJheSBsaXN0aW5nIHRoZSBldmVudHMgZm9yIHdoaWNoIHRoZSBlbWl0dGVyIGhhcyByZWdpc3RlcmVkXG4gKiBsaXN0ZW5lcnMuXG4gKlxuICogQHJldHVybnMge0FycmF5fVxuICogQHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmV2ZW50TmFtZXMgPSBmdW5jdGlvbiBldmVudE5hbWVzKCkge1xuICB2YXIgbmFtZXMgPSBbXVxuICAgICwgZXZlbnRzXG4gICAgLCBuYW1lO1xuXG4gIGlmICh0aGlzLl9ldmVudHNDb3VudCA9PT0gMCkgcmV0dXJuIG5hbWVzO1xuXG4gIGZvciAobmFtZSBpbiAoZXZlbnRzID0gdGhpcy5fZXZlbnRzKSkge1xuICAgIGlmIChoYXMuY2FsbChldmVudHMsIG5hbWUpKSBuYW1lcy5wdXNoKHByZWZpeCA/IG5hbWUuc2xpY2UoMSkgOiBuYW1lKTtcbiAgfVxuXG4gIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7XG4gICAgcmV0dXJuIG5hbWVzLmNvbmNhdChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGV2ZW50cykpO1xuICB9XG5cbiAgcmV0dXJuIG5hbWVzO1xufTtcblxuLyoqXG4gKiBSZXR1cm4gdGhlIGxpc3RlbmVycyByZWdpc3RlcmVkIGZvciBhIGdpdmVuIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7KFN0cmluZ3xTeW1ib2wpfSBldmVudCBUaGUgZXZlbnQgbmFtZS5cbiAqIEByZXR1cm5zIHtBcnJheX0gVGhlIHJlZ2lzdGVyZWQgbGlzdGVuZXJzLlxuICogQHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmxpc3RlbmVycyA9IGZ1bmN0aW9uIGxpc3RlbmVycyhldmVudCkge1xuICB2YXIgZXZ0ID0gcHJlZml4ID8gcHJlZml4ICsgZXZlbnQgOiBldmVudFxuICAgICwgaGFuZGxlcnMgPSB0aGlzLl9ldmVudHNbZXZ0XTtcblxuICBpZiAoIWhhbmRsZXJzKSByZXR1cm4gW107XG4gIGlmIChoYW5kbGVycy5mbikgcmV0dXJuIFtoYW5kbGVycy5mbl07XG5cbiAgZm9yICh2YXIgaSA9IDAsIGwgPSBoYW5kbGVycy5sZW5ndGgsIGVlID0gbmV3IEFycmF5KGwpOyBpIDwgbDsgaSsrKSB7XG4gICAgZWVbaV0gPSBoYW5kbGVyc1tpXS5mbjtcbiAgfVxuXG4gIHJldHVybiBlZTtcbn07XG5cbi8qKlxuICogUmV0dXJuIHRoZSBudW1iZXIgb2YgbGlzdGVuZXJzIGxpc3RlbmluZyB0byBhIGdpdmVuIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7KFN0cmluZ3xTeW1ib2wpfSBldmVudCBUaGUgZXZlbnQgbmFtZS5cbiAqIEByZXR1cm5zIHtOdW1iZXJ9IFRoZSBudW1iZXIgb2YgbGlzdGVuZXJzLlxuICogQHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmxpc3RlbmVyQ291bnQgPSBmdW5jdGlvbiBsaXN0ZW5lckNvdW50KGV2ZW50KSB7XG4gIHZhciBldnQgPSBwcmVmaXggPyBwcmVmaXggKyBldmVudCA6IGV2ZW50XG4gICAgLCBsaXN0ZW5lcnMgPSB0aGlzLl9ldmVudHNbZXZ0XTtcblxuICBpZiAoIWxpc3RlbmVycykgcmV0dXJuIDA7XG4gIGlmIChsaXN0ZW5lcnMuZm4pIHJldHVybiAxO1xuICByZXR1cm4gbGlzdGVuZXJzLmxlbmd0aDtcbn07XG5cbi8qKlxuICogQ2FsbHMgZWFjaCBvZiB0aGUgbGlzdGVuZXJzIHJlZ2lzdGVyZWQgZm9yIGEgZ2l2ZW4gZXZlbnQuXG4gKlxuICogQHBhcmFtIHsoU3RyaW5nfFN5bWJvbCl9IGV2ZW50IFRoZSBldmVudCBuYW1lLlxuICogQHJldHVybnMge0Jvb2xlYW59IGB0cnVlYCBpZiB0aGUgZXZlbnQgaGFkIGxpc3RlbmVycywgZWxzZSBgZmFsc2VgLlxuICogQHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmVtaXQgPSBmdW5jdGlvbiBlbWl0KGV2ZW50LCBhMSwgYTIsIGEzLCBhNCwgYTUpIHtcbiAgdmFyIGV2dCA9IHByZWZpeCA/IHByZWZpeCArIGV2ZW50IDogZXZlbnQ7XG5cbiAgaWYgKCF0aGlzLl9ldmVudHNbZXZ0XSkgcmV0dXJuIGZhbHNlO1xuXG4gIHZhciBsaXN0ZW5lcnMgPSB0aGlzLl9ldmVudHNbZXZ0XVxuICAgICwgbGVuID0gYXJndW1lbnRzLmxlbmd0aFxuICAgICwgYXJnc1xuICAgICwgaTtcblxuICBpZiAobGlzdGVuZXJzLmZuKSB7XG4gICAgaWYgKGxpc3RlbmVycy5vbmNlKSB0aGlzLnJlbW92ZUxpc3RlbmVyKGV2ZW50LCBsaXN0ZW5lcnMuZm4sIHVuZGVmaW5lZCwgdHJ1ZSk7XG5cbiAgICBzd2l0Y2ggKGxlbikge1xuICAgICAgY2FzZSAxOiByZXR1cm4gbGlzdGVuZXJzLmZuLmNhbGwobGlzdGVuZXJzLmNvbnRleHQpLCB0cnVlO1xuICAgICAgY2FzZSAyOiByZXR1cm4gbGlzdGVuZXJzLmZuLmNhbGwobGlzdGVuZXJzLmNvbnRleHQsIGExKSwgdHJ1ZTtcbiAgICAgIGNhc2UgMzogcmV0dXJuIGxpc3RlbmVycy5mbi5jYWxsKGxpc3RlbmVycy5jb250ZXh0LCBhMSwgYTIpLCB0cnVlO1xuICAgICAgY2FzZSA0OiByZXR1cm4gbGlzdGVuZXJzLmZuLmNhbGwobGlzdGVuZXJzLmNvbnRleHQsIGExLCBhMiwgYTMpLCB0cnVlO1xuICAgICAgY2FzZSA1OiByZXR1cm4gbGlzdGVuZXJzLmZuLmNhbGwobGlzdGVuZXJzLmNvbnRleHQsIGExLCBhMiwgYTMsIGE0KSwgdHJ1ZTtcbiAgICAgIGNhc2UgNjogcmV0dXJuIGxpc3RlbmVycy5mbi5jYWxsKGxpc3RlbmVycy5jb250ZXh0LCBhMSwgYTIsIGEzLCBhNCwgYTUpLCB0cnVlO1xuICAgIH1cblxuICAgIGZvciAoaSA9IDEsIGFyZ3MgPSBuZXcgQXJyYXkobGVuIC0xKTsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcbiAgICB9XG5cbiAgICBsaXN0ZW5lcnMuZm4uYXBwbHkobGlzdGVuZXJzLmNvbnRleHQsIGFyZ3MpO1xuICB9IGVsc2Uge1xuICAgIHZhciBsZW5ndGggPSBsaXN0ZW5lcnMubGVuZ3RoXG4gICAgICAsIGo7XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChsaXN0ZW5lcnNbaV0ub25jZSkgdGhpcy5yZW1vdmVMaXN0ZW5lcihldmVudCwgbGlzdGVuZXJzW2ldLmZuLCB1bmRlZmluZWQsIHRydWUpO1xuXG4gICAgICBzd2l0Y2ggKGxlbikge1xuICAgICAgICBjYXNlIDE6IGxpc3RlbmVyc1tpXS5mbi5jYWxsKGxpc3RlbmVyc1tpXS5jb250ZXh0KTsgYnJlYWs7XG4gICAgICAgIGNhc2UgMjogbGlzdGVuZXJzW2ldLmZuLmNhbGwobGlzdGVuZXJzW2ldLmNvbnRleHQsIGExKTsgYnJlYWs7XG4gICAgICAgIGNhc2UgMzogbGlzdGVuZXJzW2ldLmZuLmNhbGwobGlzdGVuZXJzW2ldLmNvbnRleHQsIGExLCBhMik7IGJyZWFrO1xuICAgICAgICBjYXNlIDQ6IGxpc3RlbmVyc1tpXS5mbi5jYWxsKGxpc3RlbmVyc1tpXS5jb250ZXh0LCBhMSwgYTIsIGEzKTsgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgaWYgKCFhcmdzKSBmb3IgKGogPSAxLCBhcmdzID0gbmV3IEFycmF5KGxlbiAtMSk7IGogPCBsZW47IGorKykge1xuICAgICAgICAgICAgYXJnc1tqIC0gMV0gPSBhcmd1bWVudHNbal07XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgbGlzdGVuZXJzW2ldLmZuLmFwcGx5KGxpc3RlbmVyc1tpXS5jb250ZXh0LCBhcmdzKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn07XG5cbi8qKlxuICogQWRkIGEgbGlzdGVuZXIgZm9yIGEgZ2l2ZW4gZXZlbnQuXG4gKlxuICogQHBhcmFtIHsoU3RyaW5nfFN5bWJvbCl9IGV2ZW50IFRoZSBldmVudCBuYW1lLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGxpc3RlbmVyIGZ1bmN0aW9uLlxuICogQHBhcmFtIHsqfSBbY29udGV4dD10aGlzXSBUaGUgY29udGV4dCB0byBpbnZva2UgdGhlIGxpc3RlbmVyIHdpdGguXG4gKiBAcmV0dXJucyB7RXZlbnRFbWl0dGVyfSBgdGhpc2AuXG4gKiBAcHVibGljXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub24gPSBmdW5jdGlvbiBvbihldmVudCwgZm4sIGNvbnRleHQpIHtcbiAgcmV0dXJuIGFkZExpc3RlbmVyKHRoaXMsIGV2ZW50LCBmbiwgY29udGV4dCwgZmFsc2UpO1xufTtcblxuLyoqXG4gKiBBZGQgYSBvbmUtdGltZSBsaXN0ZW5lciBmb3IgYSBnaXZlbiBldmVudC5cbiAqXG4gKiBAcGFyYW0geyhTdHJpbmd8U3ltYm9sKX0gZXZlbnQgVGhlIGV2ZW50IG5hbWUuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBUaGUgbGlzdGVuZXIgZnVuY3Rpb24uXG4gKiBAcGFyYW0geyp9IFtjb250ZXh0PXRoaXNdIFRoZSBjb250ZXh0IHRvIGludm9rZSB0aGUgbGlzdGVuZXIgd2l0aC5cbiAqIEByZXR1cm5zIHtFdmVudEVtaXR0ZXJ9IGB0aGlzYC5cbiAqIEBwdWJsaWNcbiAqL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbmNlID0gZnVuY3Rpb24gb25jZShldmVudCwgZm4sIGNvbnRleHQpIHtcbiAgcmV0dXJuIGFkZExpc3RlbmVyKHRoaXMsIGV2ZW50LCBmbiwgY29udGV4dCwgdHJ1ZSk7XG59O1xuXG4vKipcbiAqIFJlbW92ZSB0aGUgbGlzdGVuZXJzIG9mIGEgZ2l2ZW4gZXZlbnQuXG4gKlxuICogQHBhcmFtIHsoU3RyaW5nfFN5bWJvbCl9IGV2ZW50IFRoZSBldmVudCBuYW1lLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gT25seSByZW1vdmUgdGhlIGxpc3RlbmVycyB0aGF0IG1hdGNoIHRoaXMgZnVuY3Rpb24uXG4gKiBAcGFyYW0geyp9IGNvbnRleHQgT25seSByZW1vdmUgdGhlIGxpc3RlbmVycyB0aGF0IGhhdmUgdGhpcyBjb250ZXh0LlxuICogQHBhcmFtIHtCb29sZWFufSBvbmNlIE9ubHkgcmVtb3ZlIG9uZS10aW1lIGxpc3RlbmVycy5cbiAqIEByZXR1cm5zIHtFdmVudEVtaXR0ZXJ9IGB0aGlzYC5cbiAqIEBwdWJsaWNcbiAqL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lciA9IGZ1bmN0aW9uIHJlbW92ZUxpc3RlbmVyKGV2ZW50LCBmbiwgY29udGV4dCwgb25jZSkge1xuICB2YXIgZXZ0ID0gcHJlZml4ID8gcHJlZml4ICsgZXZlbnQgOiBldmVudDtcblxuICBpZiAoIXRoaXMuX2V2ZW50c1tldnRdKSByZXR1cm4gdGhpcztcbiAgaWYgKCFmbikge1xuICAgIGNsZWFyRXZlbnQodGhpcywgZXZ0KTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIHZhciBsaXN0ZW5lcnMgPSB0aGlzLl9ldmVudHNbZXZ0XTtcblxuICBpZiAobGlzdGVuZXJzLmZuKSB7XG4gICAgaWYgKFxuICAgICAgbGlzdGVuZXJzLmZuID09PSBmbiAmJlxuICAgICAgKCFvbmNlIHx8IGxpc3RlbmVycy5vbmNlKSAmJlxuICAgICAgKCFjb250ZXh0IHx8IGxpc3RlbmVycy5jb250ZXh0ID09PSBjb250ZXh0KVxuICAgICkge1xuICAgICAgY2xlYXJFdmVudCh0aGlzLCBldnQpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBmb3IgKHZhciBpID0gMCwgZXZlbnRzID0gW10sIGxlbmd0aCA9IGxpc3RlbmVycy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgaWYgKFxuICAgICAgICBsaXN0ZW5lcnNbaV0uZm4gIT09IGZuIHx8XG4gICAgICAgIChvbmNlICYmICFsaXN0ZW5lcnNbaV0ub25jZSkgfHxcbiAgICAgICAgKGNvbnRleHQgJiYgbGlzdGVuZXJzW2ldLmNvbnRleHQgIT09IGNvbnRleHQpXG4gICAgICApIHtcbiAgICAgICAgZXZlbnRzLnB1c2gobGlzdGVuZXJzW2ldKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvL1xuICAgIC8vIFJlc2V0IHRoZSBhcnJheSwgb3IgcmVtb3ZlIGl0IGNvbXBsZXRlbHkgaWYgd2UgaGF2ZSBubyBtb3JlIGxpc3RlbmVycy5cbiAgICAvL1xuICAgIGlmIChldmVudHMubGVuZ3RoKSB0aGlzLl9ldmVudHNbZXZ0XSA9IGV2ZW50cy5sZW5ndGggPT09IDEgPyBldmVudHNbMF0gOiBldmVudHM7XG4gICAgZWxzZSBjbGVhckV2ZW50KHRoaXMsIGV2dCk7XG4gIH1cblxuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogUmVtb3ZlIGFsbCBsaXN0ZW5lcnMsIG9yIHRob3NlIG9mIHRoZSBzcGVjaWZpZWQgZXZlbnQuXG4gKlxuICogQHBhcmFtIHsoU3RyaW5nfFN5bWJvbCl9IFtldmVudF0gVGhlIGV2ZW50IG5hbWUuXG4gKiBAcmV0dXJucyB7RXZlbnRFbWl0dGVyfSBgdGhpc2AuXG4gKiBAcHVibGljXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlQWxsTGlzdGVuZXJzID0gZnVuY3Rpb24gcmVtb3ZlQWxsTGlzdGVuZXJzKGV2ZW50KSB7XG4gIHZhciBldnQ7XG5cbiAgaWYgKGV2ZW50KSB7XG4gICAgZXZ0ID0gcHJlZml4ID8gcHJlZml4ICsgZXZlbnQgOiBldmVudDtcbiAgICBpZiAodGhpcy5fZXZlbnRzW2V2dF0pIGNsZWFyRXZlbnQodGhpcywgZXZ0KTtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLl9ldmVudHMgPSBuZXcgRXZlbnRzKCk7XG4gICAgdGhpcy5fZXZlbnRzQ291bnQgPSAwO1xuICB9XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vL1xuLy8gQWxpYXMgbWV0aG9kcyBuYW1lcyBiZWNhdXNlIHBlb3BsZSByb2xsIGxpa2UgdGhhdC5cbi8vXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLm9mZiA9IEV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXI7XG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmFkZExpc3RlbmVyID0gRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbjtcblxuLy9cbi8vIEV4cG9zZSB0aGUgcHJlZml4LlxuLy9cbkV2ZW50RW1pdHRlci5wcmVmaXhlZCA9IHByZWZpeDtcblxuLy9cbi8vIEFsbG93IGBFdmVudEVtaXR0ZXJgIHRvIGJlIGltcG9ydGVkIGFzIG1vZHVsZSBuYW1lc3BhY2UuXG4vL1xuRXZlbnRFbWl0dGVyLkV2ZW50RW1pdHRlciA9IEV2ZW50RW1pdHRlcjtcblxuLy9cbi8vIEV4cG9zZSB0aGUgbW9kdWxlLlxuLy9cbmlmICgndW5kZWZpbmVkJyAhPT0gdHlwZW9mIG1vZHVsZSkge1xuICBtb2R1bGUuZXhwb3J0cyA9IEV2ZW50RW1pdHRlcjtcbn1cbiIsIid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSBlYXJjdXQ7XG5tb2R1bGUuZXhwb3J0cy5kZWZhdWx0ID0gZWFyY3V0O1xuXG5mdW5jdGlvbiBlYXJjdXQoZGF0YSwgaG9sZUluZGljZXMsIGRpbSkge1xuXG4gICAgZGltID0gZGltIHx8IDI7XG5cbiAgICB2YXIgaGFzSG9sZXMgPSBob2xlSW5kaWNlcyAmJiBob2xlSW5kaWNlcy5sZW5ndGgsXG4gICAgICAgIG91dGVyTGVuID0gaGFzSG9sZXMgPyBob2xlSW5kaWNlc1swXSAqIGRpbSA6IGRhdGEubGVuZ3RoLFxuICAgICAgICBvdXRlck5vZGUgPSBsaW5rZWRMaXN0KGRhdGEsIDAsIG91dGVyTGVuLCBkaW0sIHRydWUpLFxuICAgICAgICB0cmlhbmdsZXMgPSBbXTtcblxuICAgIGlmICghb3V0ZXJOb2RlIHx8IG91dGVyTm9kZS5uZXh0ID09PSBvdXRlck5vZGUucHJldikgcmV0dXJuIHRyaWFuZ2xlcztcblxuICAgIHZhciBtaW5YLCBtaW5ZLCBtYXhYLCBtYXhZLCB4LCB5LCBpbnZTaXplO1xuXG4gICAgaWYgKGhhc0hvbGVzKSBvdXRlck5vZGUgPSBlbGltaW5hdGVIb2xlcyhkYXRhLCBob2xlSW5kaWNlcywgb3V0ZXJOb2RlLCBkaW0pO1xuXG4gICAgLy8gaWYgdGhlIHNoYXBlIGlzIG5vdCB0b28gc2ltcGxlLCB3ZSdsbCB1c2Ugei1vcmRlciBjdXJ2ZSBoYXNoIGxhdGVyOyBjYWxjdWxhdGUgcG9seWdvbiBiYm94XG4gICAgaWYgKGRhdGEubGVuZ3RoID4gODAgKiBkaW0pIHtcbiAgICAgICAgbWluWCA9IG1heFggPSBkYXRhWzBdO1xuICAgICAgICBtaW5ZID0gbWF4WSA9IGRhdGFbMV07XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IGRpbTsgaSA8IG91dGVyTGVuOyBpICs9IGRpbSkge1xuICAgICAgICAgICAgeCA9IGRhdGFbaV07XG4gICAgICAgICAgICB5ID0gZGF0YVtpICsgMV07XG4gICAgICAgICAgICBpZiAoeCA8IG1pblgpIG1pblggPSB4O1xuICAgICAgICAgICAgaWYgKHkgPCBtaW5ZKSBtaW5ZID0geTtcbiAgICAgICAgICAgIGlmICh4ID4gbWF4WCkgbWF4WCA9IHg7XG4gICAgICAgICAgICBpZiAoeSA+IG1heFkpIG1heFkgPSB5O1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gbWluWCwgbWluWSBhbmQgaW52U2l6ZSBhcmUgbGF0ZXIgdXNlZCB0byB0cmFuc2Zvcm0gY29vcmRzIGludG8gaW50ZWdlcnMgZm9yIHotb3JkZXIgY2FsY3VsYXRpb25cbiAgICAgICAgaW52U2l6ZSA9IE1hdGgubWF4KG1heFggLSBtaW5YLCBtYXhZIC0gbWluWSk7XG4gICAgICAgIGludlNpemUgPSBpbnZTaXplICE9PSAwID8gMSAvIGludlNpemUgOiAwO1xuICAgIH1cblxuICAgIGVhcmN1dExpbmtlZChvdXRlck5vZGUsIHRyaWFuZ2xlcywgZGltLCBtaW5YLCBtaW5ZLCBpbnZTaXplKTtcblxuICAgIHJldHVybiB0cmlhbmdsZXM7XG59XG5cbi8vIGNyZWF0ZSBhIGNpcmN1bGFyIGRvdWJseSBsaW5rZWQgbGlzdCBmcm9tIHBvbHlnb24gcG9pbnRzIGluIHRoZSBzcGVjaWZpZWQgd2luZGluZyBvcmRlclxuZnVuY3Rpb24gbGlua2VkTGlzdChkYXRhLCBzdGFydCwgZW5kLCBkaW0sIGNsb2Nrd2lzZSkge1xuICAgIHZhciBpLCBsYXN0O1xuXG4gICAgaWYgKGNsb2Nrd2lzZSA9PT0gKHNpZ25lZEFyZWEoZGF0YSwgc3RhcnQsIGVuZCwgZGltKSA+IDApKSB7XG4gICAgICAgIGZvciAoaSA9IHN0YXJ0OyBpIDwgZW5kOyBpICs9IGRpbSkgbGFzdCA9IGluc2VydE5vZGUoaSwgZGF0YVtpXSwgZGF0YVtpICsgMV0sIGxhc3QpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGZvciAoaSA9IGVuZCAtIGRpbTsgaSA+PSBzdGFydDsgaSAtPSBkaW0pIGxhc3QgPSBpbnNlcnROb2RlKGksIGRhdGFbaV0sIGRhdGFbaSArIDFdLCBsYXN0KTtcbiAgICB9XG5cbiAgICBpZiAobGFzdCAmJiBlcXVhbHMobGFzdCwgbGFzdC5uZXh0KSkge1xuICAgICAgICByZW1vdmVOb2RlKGxhc3QpO1xuICAgICAgICBsYXN0ID0gbGFzdC5uZXh0O1xuICAgIH1cblxuICAgIHJldHVybiBsYXN0O1xufVxuXG4vLyBlbGltaW5hdGUgY29saW5lYXIgb3IgZHVwbGljYXRlIHBvaW50c1xuZnVuY3Rpb24gZmlsdGVyUG9pbnRzKHN0YXJ0LCBlbmQpIHtcbiAgICBpZiAoIXN0YXJ0KSByZXR1cm4gc3RhcnQ7XG4gICAgaWYgKCFlbmQpIGVuZCA9IHN0YXJ0O1xuXG4gICAgdmFyIHAgPSBzdGFydCxcbiAgICAgICAgYWdhaW47XG4gICAgZG8ge1xuICAgICAgICBhZ2FpbiA9IGZhbHNlO1xuXG4gICAgICAgIGlmICghcC5zdGVpbmVyICYmIChlcXVhbHMocCwgcC5uZXh0KSB8fCBhcmVhKHAucHJldiwgcCwgcC5uZXh0KSA9PT0gMCkpIHtcbiAgICAgICAgICAgIHJlbW92ZU5vZGUocCk7XG4gICAgICAgICAgICBwID0gZW5kID0gcC5wcmV2O1xuICAgICAgICAgICAgaWYgKHAgPT09IHAubmV4dCkgYnJlYWs7XG4gICAgICAgICAgICBhZ2FpbiA9IHRydWU7XG5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHAgPSBwLm5leHQ7XG4gICAgICAgIH1cbiAgICB9IHdoaWxlIChhZ2FpbiB8fCBwICE9PSBlbmQpO1xuXG4gICAgcmV0dXJuIGVuZDtcbn1cblxuLy8gbWFpbiBlYXIgc2xpY2luZyBsb29wIHdoaWNoIHRyaWFuZ3VsYXRlcyBhIHBvbHlnb24gKGdpdmVuIGFzIGEgbGlua2VkIGxpc3QpXG5mdW5jdGlvbiBlYXJjdXRMaW5rZWQoZWFyLCB0cmlhbmdsZXMsIGRpbSwgbWluWCwgbWluWSwgaW52U2l6ZSwgcGFzcykge1xuICAgIGlmICghZWFyKSByZXR1cm47XG5cbiAgICAvLyBpbnRlcmxpbmsgcG9seWdvbiBub2RlcyBpbiB6LW9yZGVyXG4gICAgaWYgKCFwYXNzICYmIGludlNpemUpIGluZGV4Q3VydmUoZWFyLCBtaW5YLCBtaW5ZLCBpbnZTaXplKTtcblxuICAgIHZhciBzdG9wID0gZWFyLFxuICAgICAgICBwcmV2LCBuZXh0O1xuXG4gICAgLy8gaXRlcmF0ZSB0aHJvdWdoIGVhcnMsIHNsaWNpbmcgdGhlbSBvbmUgYnkgb25lXG4gICAgd2hpbGUgKGVhci5wcmV2ICE9PSBlYXIubmV4dCkge1xuICAgICAgICBwcmV2ID0gZWFyLnByZXY7XG4gICAgICAgIG5leHQgPSBlYXIubmV4dDtcblxuICAgICAgICBpZiAoaW52U2l6ZSA/IGlzRWFySGFzaGVkKGVhciwgbWluWCwgbWluWSwgaW52U2l6ZSkgOiBpc0VhcihlYXIpKSB7XG4gICAgICAgICAgICAvLyBjdXQgb2ZmIHRoZSB0cmlhbmdsZVxuICAgICAgICAgICAgdHJpYW5nbGVzLnB1c2gocHJldi5pIC8gZGltKTtcbiAgICAgICAgICAgIHRyaWFuZ2xlcy5wdXNoKGVhci5pIC8gZGltKTtcbiAgICAgICAgICAgIHRyaWFuZ2xlcy5wdXNoKG5leHQuaSAvIGRpbSk7XG5cbiAgICAgICAgICAgIHJlbW92ZU5vZGUoZWFyKTtcblxuICAgICAgICAgICAgLy8gc2tpcHBpbmcgdGhlIG5leHQgdmVydGV4IGxlYWRzIHRvIGxlc3Mgc2xpdmVyIHRyaWFuZ2xlc1xuICAgICAgICAgICAgZWFyID0gbmV4dC5uZXh0O1xuICAgICAgICAgICAgc3RvcCA9IG5leHQubmV4dDtcblxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBlYXIgPSBuZXh0O1xuXG4gICAgICAgIC8vIGlmIHdlIGxvb3BlZCB0aHJvdWdoIHRoZSB3aG9sZSByZW1haW5pbmcgcG9seWdvbiBhbmQgY2FuJ3QgZmluZCBhbnkgbW9yZSBlYXJzXG4gICAgICAgIGlmIChlYXIgPT09IHN0b3ApIHtcbiAgICAgICAgICAgIC8vIHRyeSBmaWx0ZXJpbmcgcG9pbnRzIGFuZCBzbGljaW5nIGFnYWluXG4gICAgICAgICAgICBpZiAoIXBhc3MpIHtcbiAgICAgICAgICAgICAgICBlYXJjdXRMaW5rZWQoZmlsdGVyUG9pbnRzKGVhciksIHRyaWFuZ2xlcywgZGltLCBtaW5YLCBtaW5ZLCBpbnZTaXplLCAxKTtcblxuICAgICAgICAgICAgLy8gaWYgdGhpcyBkaWRuJ3Qgd29yaywgdHJ5IGN1cmluZyBhbGwgc21hbGwgc2VsZi1pbnRlcnNlY3Rpb25zIGxvY2FsbHlcbiAgICAgICAgICAgIH0gZWxzZSBpZiAocGFzcyA9PT0gMSkge1xuICAgICAgICAgICAgICAgIGVhciA9IGN1cmVMb2NhbEludGVyc2VjdGlvbnMoZmlsdGVyUG9pbnRzKGVhciksIHRyaWFuZ2xlcywgZGltKTtcbiAgICAgICAgICAgICAgICBlYXJjdXRMaW5rZWQoZWFyLCB0cmlhbmdsZXMsIGRpbSwgbWluWCwgbWluWSwgaW52U2l6ZSwgMik7XG5cbiAgICAgICAgICAgIC8vIGFzIGEgbGFzdCByZXNvcnQsIHRyeSBzcGxpdHRpbmcgdGhlIHJlbWFpbmluZyBwb2x5Z29uIGludG8gdHdvXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHBhc3MgPT09IDIpIHtcbiAgICAgICAgICAgICAgICBzcGxpdEVhcmN1dChlYXIsIHRyaWFuZ2xlcywgZGltLCBtaW5YLCBtaW5ZLCBpbnZTaXplKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8vIGNoZWNrIHdoZXRoZXIgYSBwb2x5Z29uIG5vZGUgZm9ybXMgYSB2YWxpZCBlYXIgd2l0aCBhZGphY2VudCBub2Rlc1xuZnVuY3Rpb24gaXNFYXIoZWFyKSB7XG4gICAgdmFyIGEgPSBlYXIucHJldixcbiAgICAgICAgYiA9IGVhcixcbiAgICAgICAgYyA9IGVhci5uZXh0O1xuXG4gICAgaWYgKGFyZWEoYSwgYiwgYykgPj0gMCkgcmV0dXJuIGZhbHNlOyAvLyByZWZsZXgsIGNhbid0IGJlIGFuIGVhclxuXG4gICAgLy8gbm93IG1ha2Ugc3VyZSB3ZSBkb24ndCBoYXZlIG90aGVyIHBvaW50cyBpbnNpZGUgdGhlIHBvdGVudGlhbCBlYXJcbiAgICB2YXIgcCA9IGVhci5uZXh0Lm5leHQ7XG5cbiAgICB3aGlsZSAocCAhPT0gZWFyLnByZXYpIHtcbiAgICAgICAgaWYgKHBvaW50SW5UcmlhbmdsZShhLngsIGEueSwgYi54LCBiLnksIGMueCwgYy55LCBwLngsIHAueSkgJiZcbiAgICAgICAgICAgIGFyZWEocC5wcmV2LCBwLCBwLm5leHQpID49IDApIHJldHVybiBmYWxzZTtcbiAgICAgICAgcCA9IHAubmV4dDtcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gaXNFYXJIYXNoZWQoZWFyLCBtaW5YLCBtaW5ZLCBpbnZTaXplKSB7XG4gICAgdmFyIGEgPSBlYXIucHJldixcbiAgICAgICAgYiA9IGVhcixcbiAgICAgICAgYyA9IGVhci5uZXh0O1xuXG4gICAgaWYgKGFyZWEoYSwgYiwgYykgPj0gMCkgcmV0dXJuIGZhbHNlOyAvLyByZWZsZXgsIGNhbid0IGJlIGFuIGVhclxuXG4gICAgLy8gdHJpYW5nbGUgYmJveDsgbWluICYgbWF4IGFyZSBjYWxjdWxhdGVkIGxpa2UgdGhpcyBmb3Igc3BlZWRcbiAgICB2YXIgbWluVFggPSBhLnggPCBiLnggPyAoYS54IDwgYy54ID8gYS54IDogYy54KSA6IChiLnggPCBjLnggPyBiLnggOiBjLngpLFxuICAgICAgICBtaW5UWSA9IGEueSA8IGIueSA/IChhLnkgPCBjLnkgPyBhLnkgOiBjLnkpIDogKGIueSA8IGMueSA/IGIueSA6IGMueSksXG4gICAgICAgIG1heFRYID0gYS54ID4gYi54ID8gKGEueCA+IGMueCA/IGEueCA6IGMueCkgOiAoYi54ID4gYy54ID8gYi54IDogYy54KSxcbiAgICAgICAgbWF4VFkgPSBhLnkgPiBiLnkgPyAoYS55ID4gYy55ID8gYS55IDogYy55KSA6IChiLnkgPiBjLnkgPyBiLnkgOiBjLnkpO1xuXG4gICAgLy8gei1vcmRlciByYW5nZSBmb3IgdGhlIGN1cnJlbnQgdHJpYW5nbGUgYmJveDtcbiAgICB2YXIgbWluWiA9IHpPcmRlcihtaW5UWCwgbWluVFksIG1pblgsIG1pblksIGludlNpemUpLFxuICAgICAgICBtYXhaID0gek9yZGVyKG1heFRYLCBtYXhUWSwgbWluWCwgbWluWSwgaW52U2l6ZSk7XG5cbiAgICB2YXIgcCA9IGVhci5wcmV2WixcbiAgICAgICAgbiA9IGVhci5uZXh0WjtcblxuICAgIC8vIGxvb2sgZm9yIHBvaW50cyBpbnNpZGUgdGhlIHRyaWFuZ2xlIGluIGJvdGggZGlyZWN0aW9uc1xuICAgIHdoaWxlIChwICYmIHAueiA+PSBtaW5aICYmIG4gJiYgbi56IDw9IG1heFopIHtcbiAgICAgICAgaWYgKHAgIT09IGVhci5wcmV2ICYmIHAgIT09IGVhci5uZXh0ICYmXG4gICAgICAgICAgICBwb2ludEluVHJpYW5nbGUoYS54LCBhLnksIGIueCwgYi55LCBjLngsIGMueSwgcC54LCBwLnkpICYmXG4gICAgICAgICAgICBhcmVhKHAucHJldiwgcCwgcC5uZXh0KSA+PSAwKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIHAgPSBwLnByZXZaO1xuXG4gICAgICAgIGlmIChuICE9PSBlYXIucHJldiAmJiBuICE9PSBlYXIubmV4dCAmJlxuICAgICAgICAgICAgcG9pbnRJblRyaWFuZ2xlKGEueCwgYS55LCBiLngsIGIueSwgYy54LCBjLnksIG4ueCwgbi55KSAmJlxuICAgICAgICAgICAgYXJlYShuLnByZXYsIG4sIG4ubmV4dCkgPj0gMCkgcmV0dXJuIGZhbHNlO1xuICAgICAgICBuID0gbi5uZXh0WjtcbiAgICB9XG5cbiAgICAvLyBsb29rIGZvciByZW1haW5pbmcgcG9pbnRzIGluIGRlY3JlYXNpbmcgei1vcmRlclxuICAgIHdoaWxlIChwICYmIHAueiA+PSBtaW5aKSB7XG4gICAgICAgIGlmIChwICE9PSBlYXIucHJldiAmJiBwICE9PSBlYXIubmV4dCAmJlxuICAgICAgICAgICAgcG9pbnRJblRyaWFuZ2xlKGEueCwgYS55LCBiLngsIGIueSwgYy54LCBjLnksIHAueCwgcC55KSAmJlxuICAgICAgICAgICAgYXJlYShwLnByZXYsIHAsIHAubmV4dCkgPj0gMCkgcmV0dXJuIGZhbHNlO1xuICAgICAgICBwID0gcC5wcmV2WjtcbiAgICB9XG5cbiAgICAvLyBsb29rIGZvciByZW1haW5pbmcgcG9pbnRzIGluIGluY3JlYXNpbmcgei1vcmRlclxuICAgIHdoaWxlIChuICYmIG4ueiA8PSBtYXhaKSB7XG4gICAgICAgIGlmIChuICE9PSBlYXIucHJldiAmJiBuICE9PSBlYXIubmV4dCAmJlxuICAgICAgICAgICAgcG9pbnRJblRyaWFuZ2xlKGEueCwgYS55LCBiLngsIGIueSwgYy54LCBjLnksIG4ueCwgbi55KSAmJlxuICAgICAgICAgICAgYXJlYShuLnByZXYsIG4sIG4ubmV4dCkgPj0gMCkgcmV0dXJuIGZhbHNlO1xuICAgICAgICBuID0gbi5uZXh0WjtcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbn1cblxuLy8gZ28gdGhyb3VnaCBhbGwgcG9seWdvbiBub2RlcyBhbmQgY3VyZSBzbWFsbCBsb2NhbCBzZWxmLWludGVyc2VjdGlvbnNcbmZ1bmN0aW9uIGN1cmVMb2NhbEludGVyc2VjdGlvbnMoc3RhcnQsIHRyaWFuZ2xlcywgZGltKSB7XG4gICAgdmFyIHAgPSBzdGFydDtcbiAgICBkbyB7XG4gICAgICAgIHZhciBhID0gcC5wcmV2LFxuICAgICAgICAgICAgYiA9IHAubmV4dC5uZXh0O1xuXG4gICAgICAgIGlmICghZXF1YWxzKGEsIGIpICYmIGludGVyc2VjdHMoYSwgcCwgcC5uZXh0LCBiKSAmJiBsb2NhbGx5SW5zaWRlKGEsIGIpICYmIGxvY2FsbHlJbnNpZGUoYiwgYSkpIHtcblxuICAgICAgICAgICAgdHJpYW5nbGVzLnB1c2goYS5pIC8gZGltKTtcbiAgICAgICAgICAgIHRyaWFuZ2xlcy5wdXNoKHAuaSAvIGRpbSk7XG4gICAgICAgICAgICB0cmlhbmdsZXMucHVzaChiLmkgLyBkaW0pO1xuXG4gICAgICAgICAgICAvLyByZW1vdmUgdHdvIG5vZGVzIGludm9sdmVkXG4gICAgICAgICAgICByZW1vdmVOb2RlKHApO1xuICAgICAgICAgICAgcmVtb3ZlTm9kZShwLm5leHQpO1xuXG4gICAgICAgICAgICBwID0gc3RhcnQgPSBiO1xuICAgICAgICB9XG4gICAgICAgIHAgPSBwLm5leHQ7XG4gICAgfSB3aGlsZSAocCAhPT0gc3RhcnQpO1xuXG4gICAgcmV0dXJuIGZpbHRlclBvaW50cyhwKTtcbn1cblxuLy8gdHJ5IHNwbGl0dGluZyBwb2x5Z29uIGludG8gdHdvIGFuZCB0cmlhbmd1bGF0ZSB0aGVtIGluZGVwZW5kZW50bHlcbmZ1bmN0aW9uIHNwbGl0RWFyY3V0KHN0YXJ0LCB0cmlhbmdsZXMsIGRpbSwgbWluWCwgbWluWSwgaW52U2l6ZSkge1xuICAgIC8vIGxvb2sgZm9yIGEgdmFsaWQgZGlhZ29uYWwgdGhhdCBkaXZpZGVzIHRoZSBwb2x5Z29uIGludG8gdHdvXG4gICAgdmFyIGEgPSBzdGFydDtcbiAgICBkbyB7XG4gICAgICAgIHZhciBiID0gYS5uZXh0Lm5leHQ7XG4gICAgICAgIHdoaWxlIChiICE9PSBhLnByZXYpIHtcbiAgICAgICAgICAgIGlmIChhLmkgIT09IGIuaSAmJiBpc1ZhbGlkRGlhZ29uYWwoYSwgYikpIHtcbiAgICAgICAgICAgICAgICAvLyBzcGxpdCB0aGUgcG9seWdvbiBpbiB0d28gYnkgdGhlIGRpYWdvbmFsXG4gICAgICAgICAgICAgICAgdmFyIGMgPSBzcGxpdFBvbHlnb24oYSwgYik7XG5cbiAgICAgICAgICAgICAgICAvLyBmaWx0ZXIgY29saW5lYXIgcG9pbnRzIGFyb3VuZCB0aGUgY3V0c1xuICAgICAgICAgICAgICAgIGEgPSBmaWx0ZXJQb2ludHMoYSwgYS5uZXh0KTtcbiAgICAgICAgICAgICAgICBjID0gZmlsdGVyUG9pbnRzKGMsIGMubmV4dCk7XG5cbiAgICAgICAgICAgICAgICAvLyBydW4gZWFyY3V0IG9uIGVhY2ggaGFsZlxuICAgICAgICAgICAgICAgIGVhcmN1dExpbmtlZChhLCB0cmlhbmdsZXMsIGRpbSwgbWluWCwgbWluWSwgaW52U2l6ZSk7XG4gICAgICAgICAgICAgICAgZWFyY3V0TGlua2VkKGMsIHRyaWFuZ2xlcywgZGltLCBtaW5YLCBtaW5ZLCBpbnZTaXplKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBiID0gYi5uZXh0O1xuICAgICAgICB9XG4gICAgICAgIGEgPSBhLm5leHQ7XG4gICAgfSB3aGlsZSAoYSAhPT0gc3RhcnQpO1xufVxuXG4vLyBsaW5rIGV2ZXJ5IGhvbGUgaW50byB0aGUgb3V0ZXIgbG9vcCwgcHJvZHVjaW5nIGEgc2luZ2xlLXJpbmcgcG9seWdvbiB3aXRob3V0IGhvbGVzXG5mdW5jdGlvbiBlbGltaW5hdGVIb2xlcyhkYXRhLCBob2xlSW5kaWNlcywgb3V0ZXJOb2RlLCBkaW0pIHtcbiAgICB2YXIgcXVldWUgPSBbXSxcbiAgICAgICAgaSwgbGVuLCBzdGFydCwgZW5kLCBsaXN0O1xuXG4gICAgZm9yIChpID0gMCwgbGVuID0gaG9sZUluZGljZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgc3RhcnQgPSBob2xlSW5kaWNlc1tpXSAqIGRpbTtcbiAgICAgICAgZW5kID0gaSA8IGxlbiAtIDEgPyBob2xlSW5kaWNlc1tpICsgMV0gKiBkaW0gOiBkYXRhLmxlbmd0aDtcbiAgICAgICAgbGlzdCA9IGxpbmtlZExpc3QoZGF0YSwgc3RhcnQsIGVuZCwgZGltLCBmYWxzZSk7XG4gICAgICAgIGlmIChsaXN0ID09PSBsaXN0Lm5leHQpIGxpc3Quc3RlaW5lciA9IHRydWU7XG4gICAgICAgIHF1ZXVlLnB1c2goZ2V0TGVmdG1vc3QobGlzdCkpO1xuICAgIH1cblxuICAgIHF1ZXVlLnNvcnQoY29tcGFyZVgpO1xuXG4gICAgLy8gcHJvY2VzcyBob2xlcyBmcm9tIGxlZnQgdG8gcmlnaHRcbiAgICBmb3IgKGkgPSAwOyBpIDwgcXVldWUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgZWxpbWluYXRlSG9sZShxdWV1ZVtpXSwgb3V0ZXJOb2RlKTtcbiAgICAgICAgb3V0ZXJOb2RlID0gZmlsdGVyUG9pbnRzKG91dGVyTm9kZSwgb3V0ZXJOb2RlLm5leHQpO1xuICAgIH1cblxuICAgIHJldHVybiBvdXRlck5vZGU7XG59XG5cbmZ1bmN0aW9uIGNvbXBhcmVYKGEsIGIpIHtcbiAgICByZXR1cm4gYS54IC0gYi54O1xufVxuXG4vLyBmaW5kIGEgYnJpZGdlIGJldHdlZW4gdmVydGljZXMgdGhhdCBjb25uZWN0cyBob2xlIHdpdGggYW4gb3V0ZXIgcmluZyBhbmQgYW5kIGxpbmsgaXRcbmZ1bmN0aW9uIGVsaW1pbmF0ZUhvbGUoaG9sZSwgb3V0ZXJOb2RlKSB7XG4gICAgb3V0ZXJOb2RlID0gZmluZEhvbGVCcmlkZ2UoaG9sZSwgb3V0ZXJOb2RlKTtcbiAgICBpZiAob3V0ZXJOb2RlKSB7XG4gICAgICAgIHZhciBiID0gc3BsaXRQb2x5Z29uKG91dGVyTm9kZSwgaG9sZSk7XG4gICAgICAgIGZpbHRlclBvaW50cyhiLCBiLm5leHQpO1xuICAgIH1cbn1cblxuLy8gRGF2aWQgRWJlcmx5J3MgYWxnb3JpdGhtIGZvciBmaW5kaW5nIGEgYnJpZGdlIGJldHdlZW4gaG9sZSBhbmQgb3V0ZXIgcG9seWdvblxuZnVuY3Rpb24gZmluZEhvbGVCcmlkZ2UoaG9sZSwgb3V0ZXJOb2RlKSB7XG4gICAgdmFyIHAgPSBvdXRlck5vZGUsXG4gICAgICAgIGh4ID0gaG9sZS54LFxuICAgICAgICBoeSA9IGhvbGUueSxcbiAgICAgICAgcXggPSAtSW5maW5pdHksXG4gICAgICAgIG07XG5cbiAgICAvLyBmaW5kIGEgc2VnbWVudCBpbnRlcnNlY3RlZCBieSBhIHJheSBmcm9tIHRoZSBob2xlJ3MgbGVmdG1vc3QgcG9pbnQgdG8gdGhlIGxlZnQ7XG4gICAgLy8gc2VnbWVudCdzIGVuZHBvaW50IHdpdGggbGVzc2VyIHggd2lsbCBiZSBwb3RlbnRpYWwgY29ubmVjdGlvbiBwb2ludFxuICAgIGRvIHtcbiAgICAgICAgaWYgKGh5IDw9IHAueSAmJiBoeSA+PSBwLm5leHQueSAmJiBwLm5leHQueSAhPT0gcC55KSB7XG4gICAgICAgICAgICB2YXIgeCA9IHAueCArIChoeSAtIHAueSkgKiAocC5uZXh0LnggLSBwLngpIC8gKHAubmV4dC55IC0gcC55KTtcbiAgICAgICAgICAgIGlmICh4IDw9IGh4ICYmIHggPiBxeCkge1xuICAgICAgICAgICAgICAgIHF4ID0geDtcbiAgICAgICAgICAgICAgICBpZiAoeCA9PT0gaHgpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGh5ID09PSBwLnkpIHJldHVybiBwO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaHkgPT09IHAubmV4dC55KSByZXR1cm4gcC5uZXh0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBtID0gcC54IDwgcC5uZXh0LnggPyBwIDogcC5uZXh0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHAgPSBwLm5leHQ7XG4gICAgfSB3aGlsZSAocCAhPT0gb3V0ZXJOb2RlKTtcblxuICAgIGlmICghbSkgcmV0dXJuIG51bGw7XG5cbiAgICBpZiAoaHggPT09IHF4KSByZXR1cm4gbTsgLy8gaG9sZSB0b3VjaGVzIG91dGVyIHNlZ21lbnQ7IHBpY2sgbGVmdG1vc3QgZW5kcG9pbnRcblxuICAgIC8vIGxvb2sgZm9yIHBvaW50cyBpbnNpZGUgdGhlIHRyaWFuZ2xlIG9mIGhvbGUgcG9pbnQsIHNlZ21lbnQgaW50ZXJzZWN0aW9uIGFuZCBlbmRwb2ludDtcbiAgICAvLyBpZiB0aGVyZSBhcmUgbm8gcG9pbnRzIGZvdW5kLCB3ZSBoYXZlIGEgdmFsaWQgY29ubmVjdGlvbjtcbiAgICAvLyBvdGhlcndpc2UgY2hvb3NlIHRoZSBwb2ludCBvZiB0aGUgbWluaW11bSBhbmdsZSB3aXRoIHRoZSByYXkgYXMgY29ubmVjdGlvbiBwb2ludFxuXG4gICAgdmFyIHN0b3AgPSBtLFxuICAgICAgICBteCA9IG0ueCxcbiAgICAgICAgbXkgPSBtLnksXG4gICAgICAgIHRhbk1pbiA9IEluZmluaXR5LFxuICAgICAgICB0YW47XG5cbiAgICBwID0gbTtcblxuICAgIGRvIHtcbiAgICAgICAgaWYgKGh4ID49IHAueCAmJiBwLnggPj0gbXggJiYgaHggIT09IHAueCAmJlxuICAgICAgICAgICAgICAgIHBvaW50SW5UcmlhbmdsZShoeSA8IG15ID8gaHggOiBxeCwgaHksIG14LCBteSwgaHkgPCBteSA/IHF4IDogaHgsIGh5LCBwLngsIHAueSkpIHtcblxuICAgICAgICAgICAgdGFuID0gTWF0aC5hYnMoaHkgLSBwLnkpIC8gKGh4IC0gcC54KTsgLy8gdGFuZ2VudGlhbFxuXG4gICAgICAgICAgICBpZiAobG9jYWxseUluc2lkZShwLCBob2xlKSAmJlxuICAgICAgICAgICAgICAgICh0YW4gPCB0YW5NaW4gfHwgKHRhbiA9PT0gdGFuTWluICYmIChwLnggPiBtLnggfHwgKHAueCA9PT0gbS54ICYmIHNlY3RvckNvbnRhaW5zU2VjdG9yKG0sIHApKSkpKSkge1xuICAgICAgICAgICAgICAgIG0gPSBwO1xuICAgICAgICAgICAgICAgIHRhbk1pbiA9IHRhbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHAgPSBwLm5leHQ7XG4gICAgfSB3aGlsZSAocCAhPT0gc3RvcCk7XG5cbiAgICByZXR1cm4gbTtcbn1cblxuLy8gd2hldGhlciBzZWN0b3IgaW4gdmVydGV4IG0gY29udGFpbnMgc2VjdG9yIGluIHZlcnRleCBwIGluIHRoZSBzYW1lIGNvb3JkaW5hdGVzXG5mdW5jdGlvbiBzZWN0b3JDb250YWluc1NlY3RvcihtLCBwKSB7XG4gICAgcmV0dXJuIGFyZWEobS5wcmV2LCBtLCBwLnByZXYpIDwgMCAmJiBhcmVhKHAubmV4dCwgbSwgbS5uZXh0KSA8IDA7XG59XG5cbi8vIGludGVybGluayBwb2x5Z29uIG5vZGVzIGluIHotb3JkZXJcbmZ1bmN0aW9uIGluZGV4Q3VydmUoc3RhcnQsIG1pblgsIG1pblksIGludlNpemUpIHtcbiAgICB2YXIgcCA9IHN0YXJ0O1xuICAgIGRvIHtcbiAgICAgICAgaWYgKHAueiA9PT0gbnVsbCkgcC56ID0gek9yZGVyKHAueCwgcC55LCBtaW5YLCBtaW5ZLCBpbnZTaXplKTtcbiAgICAgICAgcC5wcmV2WiA9IHAucHJldjtcbiAgICAgICAgcC5uZXh0WiA9IHAubmV4dDtcbiAgICAgICAgcCA9IHAubmV4dDtcbiAgICB9IHdoaWxlIChwICE9PSBzdGFydCk7XG5cbiAgICBwLnByZXZaLm5leHRaID0gbnVsbDtcbiAgICBwLnByZXZaID0gbnVsbDtcblxuICAgIHNvcnRMaW5rZWQocCk7XG59XG5cbi8vIFNpbW9uIFRhdGhhbSdzIGxpbmtlZCBsaXN0IG1lcmdlIHNvcnQgYWxnb3JpdGhtXG4vLyBodHRwOi8vd3d3LmNoaWFyay5ncmVlbmVuZC5vcmcudWsvfnNndGF0aGFtL2FsZ29yaXRobXMvbGlzdHNvcnQuaHRtbFxuZnVuY3Rpb24gc29ydExpbmtlZChsaXN0KSB7XG4gICAgdmFyIGksIHAsIHEsIGUsIHRhaWwsIG51bU1lcmdlcywgcFNpemUsIHFTaXplLFxuICAgICAgICBpblNpemUgPSAxO1xuXG4gICAgZG8ge1xuICAgICAgICBwID0gbGlzdDtcbiAgICAgICAgbGlzdCA9IG51bGw7XG4gICAgICAgIHRhaWwgPSBudWxsO1xuICAgICAgICBudW1NZXJnZXMgPSAwO1xuXG4gICAgICAgIHdoaWxlIChwKSB7XG4gICAgICAgICAgICBudW1NZXJnZXMrKztcbiAgICAgICAgICAgIHEgPSBwO1xuICAgICAgICAgICAgcFNpemUgPSAwO1xuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGluU2l6ZTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgcFNpemUrKztcbiAgICAgICAgICAgICAgICBxID0gcS5uZXh0WjtcbiAgICAgICAgICAgICAgICBpZiAoIXEpIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcVNpemUgPSBpblNpemU7XG5cbiAgICAgICAgICAgIHdoaWxlIChwU2l6ZSA+IDAgfHwgKHFTaXplID4gMCAmJiBxKSkge1xuXG4gICAgICAgICAgICAgICAgaWYgKHBTaXplICE9PSAwICYmIChxU2l6ZSA9PT0gMCB8fCAhcSB8fCBwLnogPD0gcS56KSkge1xuICAgICAgICAgICAgICAgICAgICBlID0gcDtcbiAgICAgICAgICAgICAgICAgICAgcCA9IHAubmV4dFo7XG4gICAgICAgICAgICAgICAgICAgIHBTaXplLS07XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZSA9IHE7XG4gICAgICAgICAgICAgICAgICAgIHEgPSBxLm5leHRaO1xuICAgICAgICAgICAgICAgICAgICBxU2l6ZS0tO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmICh0YWlsKSB0YWlsLm5leHRaID0gZTtcbiAgICAgICAgICAgICAgICBlbHNlIGxpc3QgPSBlO1xuXG4gICAgICAgICAgICAgICAgZS5wcmV2WiA9IHRhaWw7XG4gICAgICAgICAgICAgICAgdGFpbCA9IGU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHAgPSBxO1xuICAgICAgICB9XG5cbiAgICAgICAgdGFpbC5uZXh0WiA9IG51bGw7XG4gICAgICAgIGluU2l6ZSAqPSAyO1xuXG4gICAgfSB3aGlsZSAobnVtTWVyZ2VzID4gMSk7XG5cbiAgICByZXR1cm4gbGlzdDtcbn1cblxuLy8gei1vcmRlciBvZiBhIHBvaW50IGdpdmVuIGNvb3JkcyBhbmQgaW52ZXJzZSBvZiB0aGUgbG9uZ2VyIHNpZGUgb2YgZGF0YSBiYm94XG5mdW5jdGlvbiB6T3JkZXIoeCwgeSwgbWluWCwgbWluWSwgaW52U2l6ZSkge1xuICAgIC8vIGNvb3JkcyBhcmUgdHJhbnNmb3JtZWQgaW50byBub24tbmVnYXRpdmUgMTUtYml0IGludGVnZXIgcmFuZ2VcbiAgICB4ID0gMzI3NjcgKiAoeCAtIG1pblgpICogaW52U2l6ZTtcbiAgICB5ID0gMzI3NjcgKiAoeSAtIG1pblkpICogaW52U2l6ZTtcblxuICAgIHggPSAoeCB8ICh4IDw8IDgpKSAmIDB4MDBGRjAwRkY7XG4gICAgeCA9ICh4IHwgKHggPDwgNCkpICYgMHgwRjBGMEYwRjtcbiAgICB4ID0gKHggfCAoeCA8PCAyKSkgJiAweDMzMzMzMzMzO1xuICAgIHggPSAoeCB8ICh4IDw8IDEpKSAmIDB4NTU1NTU1NTU7XG5cbiAgICB5ID0gKHkgfCAoeSA8PCA4KSkgJiAweDAwRkYwMEZGO1xuICAgIHkgPSAoeSB8ICh5IDw8IDQpKSAmIDB4MEYwRjBGMEY7XG4gICAgeSA9ICh5IHwgKHkgPDwgMikpICYgMHgzMzMzMzMzMztcbiAgICB5ID0gKHkgfCAoeSA8PCAxKSkgJiAweDU1NTU1NTU1O1xuXG4gICAgcmV0dXJuIHggfCAoeSA8PCAxKTtcbn1cblxuLy8gZmluZCB0aGUgbGVmdG1vc3Qgbm9kZSBvZiBhIHBvbHlnb24gcmluZ1xuZnVuY3Rpb24gZ2V0TGVmdG1vc3Qoc3RhcnQpIHtcbiAgICB2YXIgcCA9IHN0YXJ0LFxuICAgICAgICBsZWZ0bW9zdCA9IHN0YXJ0O1xuICAgIGRvIHtcbiAgICAgICAgaWYgKHAueCA8IGxlZnRtb3N0LnggfHwgKHAueCA9PT0gbGVmdG1vc3QueCAmJiBwLnkgPCBsZWZ0bW9zdC55KSkgbGVmdG1vc3QgPSBwO1xuICAgICAgICBwID0gcC5uZXh0O1xuICAgIH0gd2hpbGUgKHAgIT09IHN0YXJ0KTtcblxuICAgIHJldHVybiBsZWZ0bW9zdDtcbn1cblxuLy8gY2hlY2sgaWYgYSBwb2ludCBsaWVzIHdpdGhpbiBhIGNvbnZleCB0cmlhbmdsZVxuZnVuY3Rpb24gcG9pbnRJblRyaWFuZ2xlKGF4LCBheSwgYngsIGJ5LCBjeCwgY3ksIHB4LCBweSkge1xuICAgIHJldHVybiAoY3ggLSBweCkgKiAoYXkgLSBweSkgLSAoYXggLSBweCkgKiAoY3kgLSBweSkgPj0gMCAmJlxuICAgICAgICAgICAoYXggLSBweCkgKiAoYnkgLSBweSkgLSAoYnggLSBweCkgKiAoYXkgLSBweSkgPj0gMCAmJlxuICAgICAgICAgICAoYnggLSBweCkgKiAoY3kgLSBweSkgLSAoY3ggLSBweCkgKiAoYnkgLSBweSkgPj0gMDtcbn1cblxuLy8gY2hlY2sgaWYgYSBkaWFnb25hbCBiZXR3ZWVuIHR3byBwb2x5Z29uIG5vZGVzIGlzIHZhbGlkIChsaWVzIGluIHBvbHlnb24gaW50ZXJpb3IpXG5mdW5jdGlvbiBpc1ZhbGlkRGlhZ29uYWwoYSwgYikge1xuICAgIHJldHVybiBhLm5leHQuaSAhPT0gYi5pICYmIGEucHJldi5pICE9PSBiLmkgJiYgIWludGVyc2VjdHNQb2x5Z29uKGEsIGIpICYmIC8vIGRvbmVzJ3QgaW50ZXJzZWN0IG90aGVyIGVkZ2VzXG4gICAgICAgICAgIChsb2NhbGx5SW5zaWRlKGEsIGIpICYmIGxvY2FsbHlJbnNpZGUoYiwgYSkgJiYgbWlkZGxlSW5zaWRlKGEsIGIpICYmIC8vIGxvY2FsbHkgdmlzaWJsZVxuICAgICAgICAgICAgKGFyZWEoYS5wcmV2LCBhLCBiLnByZXYpIHx8IGFyZWEoYSwgYi5wcmV2LCBiKSkgfHwgLy8gZG9lcyBub3QgY3JlYXRlIG9wcG9zaXRlLWZhY2luZyBzZWN0b3JzXG4gICAgICAgICAgICBlcXVhbHMoYSwgYikgJiYgYXJlYShhLnByZXYsIGEsIGEubmV4dCkgPiAwICYmIGFyZWEoYi5wcmV2LCBiLCBiLm5leHQpID4gMCk7IC8vIHNwZWNpYWwgemVyby1sZW5ndGggY2FzZVxufVxuXG4vLyBzaWduZWQgYXJlYSBvZiBhIHRyaWFuZ2xlXG5mdW5jdGlvbiBhcmVhKHAsIHEsIHIpIHtcbiAgICByZXR1cm4gKHEueSAtIHAueSkgKiAoci54IC0gcS54KSAtIChxLnggLSBwLngpICogKHIueSAtIHEueSk7XG59XG5cbi8vIGNoZWNrIGlmIHR3byBwb2ludHMgYXJlIGVxdWFsXG5mdW5jdGlvbiBlcXVhbHMocDEsIHAyKSB7XG4gICAgcmV0dXJuIHAxLnggPT09IHAyLnggJiYgcDEueSA9PT0gcDIueTtcbn1cblxuLy8gY2hlY2sgaWYgdHdvIHNlZ21lbnRzIGludGVyc2VjdFxuZnVuY3Rpb24gaW50ZXJzZWN0cyhwMSwgcTEsIHAyLCBxMikge1xuICAgIHZhciBvMSA9IHNpZ24oYXJlYShwMSwgcTEsIHAyKSk7XG4gICAgdmFyIG8yID0gc2lnbihhcmVhKHAxLCBxMSwgcTIpKTtcbiAgICB2YXIgbzMgPSBzaWduKGFyZWEocDIsIHEyLCBwMSkpO1xuICAgIHZhciBvNCA9IHNpZ24oYXJlYShwMiwgcTIsIHExKSk7XG5cbiAgICBpZiAobzEgIT09IG8yICYmIG8zICE9PSBvNCkgcmV0dXJuIHRydWU7IC8vIGdlbmVyYWwgY2FzZVxuXG4gICAgaWYgKG8xID09PSAwICYmIG9uU2VnbWVudChwMSwgcDIsIHExKSkgcmV0dXJuIHRydWU7IC8vIHAxLCBxMSBhbmQgcDIgYXJlIGNvbGxpbmVhciBhbmQgcDIgbGllcyBvbiBwMXExXG4gICAgaWYgKG8yID09PSAwICYmIG9uU2VnbWVudChwMSwgcTIsIHExKSkgcmV0dXJuIHRydWU7IC8vIHAxLCBxMSBhbmQgcTIgYXJlIGNvbGxpbmVhciBhbmQgcTIgbGllcyBvbiBwMXExXG4gICAgaWYgKG8zID09PSAwICYmIG9uU2VnbWVudChwMiwgcDEsIHEyKSkgcmV0dXJuIHRydWU7IC8vIHAyLCBxMiBhbmQgcDEgYXJlIGNvbGxpbmVhciBhbmQgcDEgbGllcyBvbiBwMnEyXG4gICAgaWYgKG80ID09PSAwICYmIG9uU2VnbWVudChwMiwgcTEsIHEyKSkgcmV0dXJuIHRydWU7IC8vIHAyLCBxMiBhbmQgcTEgYXJlIGNvbGxpbmVhciBhbmQgcTEgbGllcyBvbiBwMnEyXG5cbiAgICByZXR1cm4gZmFsc2U7XG59XG5cbi8vIGZvciBjb2xsaW5lYXIgcG9pbnRzIHAsIHEsIHIsIGNoZWNrIGlmIHBvaW50IHEgbGllcyBvbiBzZWdtZW50IHByXG5mdW5jdGlvbiBvblNlZ21lbnQocCwgcSwgcikge1xuICAgIHJldHVybiBxLnggPD0gTWF0aC5tYXgocC54LCByLngpICYmIHEueCA+PSBNYXRoLm1pbihwLngsIHIueCkgJiYgcS55IDw9IE1hdGgubWF4KHAueSwgci55KSAmJiBxLnkgPj0gTWF0aC5taW4ocC55LCByLnkpO1xufVxuXG5mdW5jdGlvbiBzaWduKG51bSkge1xuICAgIHJldHVybiBudW0gPiAwID8gMSA6IG51bSA8IDAgPyAtMSA6IDA7XG59XG5cbi8vIGNoZWNrIGlmIGEgcG9seWdvbiBkaWFnb25hbCBpbnRlcnNlY3RzIGFueSBwb2x5Z29uIHNlZ21lbnRzXG5mdW5jdGlvbiBpbnRlcnNlY3RzUG9seWdvbihhLCBiKSB7XG4gICAgdmFyIHAgPSBhO1xuICAgIGRvIHtcbiAgICAgICAgaWYgKHAuaSAhPT0gYS5pICYmIHAubmV4dC5pICE9PSBhLmkgJiYgcC5pICE9PSBiLmkgJiYgcC5uZXh0LmkgIT09IGIuaSAmJlxuICAgICAgICAgICAgICAgIGludGVyc2VjdHMocCwgcC5uZXh0LCBhLCBiKSkgcmV0dXJuIHRydWU7XG4gICAgICAgIHAgPSBwLm5leHQ7XG4gICAgfSB3aGlsZSAocCAhPT0gYSk7XG5cbiAgICByZXR1cm4gZmFsc2U7XG59XG5cbi8vIGNoZWNrIGlmIGEgcG9seWdvbiBkaWFnb25hbCBpcyBsb2NhbGx5IGluc2lkZSB0aGUgcG9seWdvblxuZnVuY3Rpb24gbG9jYWxseUluc2lkZShhLCBiKSB7XG4gICAgcmV0dXJuIGFyZWEoYS5wcmV2LCBhLCBhLm5leHQpIDwgMCA/XG4gICAgICAgIGFyZWEoYSwgYiwgYS5uZXh0KSA+PSAwICYmIGFyZWEoYSwgYS5wcmV2LCBiKSA+PSAwIDpcbiAgICAgICAgYXJlYShhLCBiLCBhLnByZXYpIDwgMCB8fCBhcmVhKGEsIGEubmV4dCwgYikgPCAwO1xufVxuXG4vLyBjaGVjayBpZiB0aGUgbWlkZGxlIHBvaW50IG9mIGEgcG9seWdvbiBkaWFnb25hbCBpcyBpbnNpZGUgdGhlIHBvbHlnb25cbmZ1bmN0aW9uIG1pZGRsZUluc2lkZShhLCBiKSB7XG4gICAgdmFyIHAgPSBhLFxuICAgICAgICBpbnNpZGUgPSBmYWxzZSxcbiAgICAgICAgcHggPSAoYS54ICsgYi54KSAvIDIsXG4gICAgICAgIHB5ID0gKGEueSArIGIueSkgLyAyO1xuICAgIGRvIHtcbiAgICAgICAgaWYgKCgocC55ID4gcHkpICE9PSAocC5uZXh0LnkgPiBweSkpICYmIHAubmV4dC55ICE9PSBwLnkgJiZcbiAgICAgICAgICAgICAgICAocHggPCAocC5uZXh0LnggLSBwLngpICogKHB5IC0gcC55KSAvIChwLm5leHQueSAtIHAueSkgKyBwLngpKVxuICAgICAgICAgICAgaW5zaWRlID0gIWluc2lkZTtcbiAgICAgICAgcCA9IHAubmV4dDtcbiAgICB9IHdoaWxlIChwICE9PSBhKTtcblxuICAgIHJldHVybiBpbnNpZGU7XG59XG5cbi8vIGxpbmsgdHdvIHBvbHlnb24gdmVydGljZXMgd2l0aCBhIGJyaWRnZTsgaWYgdGhlIHZlcnRpY2VzIGJlbG9uZyB0byB0aGUgc2FtZSByaW5nLCBpdCBzcGxpdHMgcG9seWdvbiBpbnRvIHR3bztcbi8vIGlmIG9uZSBiZWxvbmdzIHRvIHRoZSBvdXRlciByaW5nIGFuZCBhbm90aGVyIHRvIGEgaG9sZSwgaXQgbWVyZ2VzIGl0IGludG8gYSBzaW5nbGUgcmluZ1xuZnVuY3Rpb24gc3BsaXRQb2x5Z29uKGEsIGIpIHtcbiAgICB2YXIgYTIgPSBuZXcgTm9kZShhLmksIGEueCwgYS55KSxcbiAgICAgICAgYjIgPSBuZXcgTm9kZShiLmksIGIueCwgYi55KSxcbiAgICAgICAgYW4gPSBhLm5leHQsXG4gICAgICAgIGJwID0gYi5wcmV2O1xuXG4gICAgYS5uZXh0ID0gYjtcbiAgICBiLnByZXYgPSBhO1xuXG4gICAgYTIubmV4dCA9IGFuO1xuICAgIGFuLnByZXYgPSBhMjtcblxuICAgIGIyLm5leHQgPSBhMjtcbiAgICBhMi5wcmV2ID0gYjI7XG5cbiAgICBicC5uZXh0ID0gYjI7XG4gICAgYjIucHJldiA9IGJwO1xuXG4gICAgcmV0dXJuIGIyO1xufVxuXG4vLyBjcmVhdGUgYSBub2RlIGFuZCBvcHRpb25hbGx5IGxpbmsgaXQgd2l0aCBwcmV2aW91cyBvbmUgKGluIGEgY2lyY3VsYXIgZG91Ymx5IGxpbmtlZCBsaXN0KVxuZnVuY3Rpb24gaW5zZXJ0Tm9kZShpLCB4LCB5LCBsYXN0KSB7XG4gICAgdmFyIHAgPSBuZXcgTm9kZShpLCB4LCB5KTtcblxuICAgIGlmICghbGFzdCkge1xuICAgICAgICBwLnByZXYgPSBwO1xuICAgICAgICBwLm5leHQgPSBwO1xuXG4gICAgfSBlbHNlIHtcbiAgICAgICAgcC5uZXh0ID0gbGFzdC5uZXh0O1xuICAgICAgICBwLnByZXYgPSBsYXN0O1xuICAgICAgICBsYXN0Lm5leHQucHJldiA9IHA7XG4gICAgICAgIGxhc3QubmV4dCA9IHA7XG4gICAgfVxuICAgIHJldHVybiBwO1xufVxuXG5mdW5jdGlvbiByZW1vdmVOb2RlKHApIHtcbiAgICBwLm5leHQucHJldiA9IHAucHJldjtcbiAgICBwLnByZXYubmV4dCA9IHAubmV4dDtcblxuICAgIGlmIChwLnByZXZaKSBwLnByZXZaLm5leHRaID0gcC5uZXh0WjtcbiAgICBpZiAocC5uZXh0WikgcC5uZXh0Wi5wcmV2WiA9IHAucHJldlo7XG59XG5cbmZ1bmN0aW9uIE5vZGUoaSwgeCwgeSkge1xuICAgIC8vIHZlcnRleCBpbmRleCBpbiBjb29yZGluYXRlcyBhcnJheVxuICAgIHRoaXMuaSA9IGk7XG5cbiAgICAvLyB2ZXJ0ZXggY29vcmRpbmF0ZXNcbiAgICB0aGlzLnggPSB4O1xuICAgIHRoaXMueSA9IHk7XG5cbiAgICAvLyBwcmV2aW91cyBhbmQgbmV4dCB2ZXJ0ZXggbm9kZXMgaW4gYSBwb2x5Z29uIHJpbmdcbiAgICB0aGlzLnByZXYgPSBudWxsO1xuICAgIHRoaXMubmV4dCA9IG51bGw7XG5cbiAgICAvLyB6LW9yZGVyIGN1cnZlIHZhbHVlXG4gICAgdGhpcy56ID0gbnVsbDtcblxuICAgIC8vIHByZXZpb3VzIGFuZCBuZXh0IG5vZGVzIGluIHotb3JkZXJcbiAgICB0aGlzLnByZXZaID0gbnVsbDtcbiAgICB0aGlzLm5leHRaID0gbnVsbDtcblxuICAgIC8vIGluZGljYXRlcyB3aGV0aGVyIHRoaXMgaXMgYSBzdGVpbmVyIHBvaW50XG4gICAgdGhpcy5zdGVpbmVyID0gZmFsc2U7XG59XG5cbi8vIHJldHVybiBhIHBlcmNlbnRhZ2UgZGlmZmVyZW5jZSBiZXR3ZWVuIHRoZSBwb2x5Z29uIGFyZWEgYW5kIGl0cyB0cmlhbmd1bGF0aW9uIGFyZWE7XG4vLyB1c2VkIHRvIHZlcmlmeSBjb3JyZWN0bmVzcyBvZiB0cmlhbmd1bGF0aW9uXG5lYXJjdXQuZGV2aWF0aW9uID0gZnVuY3Rpb24gKGRhdGEsIGhvbGVJbmRpY2VzLCBkaW0sIHRyaWFuZ2xlcykge1xuICAgIHZhciBoYXNIb2xlcyA9IGhvbGVJbmRpY2VzICYmIGhvbGVJbmRpY2VzLmxlbmd0aDtcbiAgICB2YXIgb3V0ZXJMZW4gPSBoYXNIb2xlcyA/IGhvbGVJbmRpY2VzWzBdICogZGltIDogZGF0YS5sZW5ndGg7XG5cbiAgICB2YXIgcG9seWdvbkFyZWEgPSBNYXRoLmFicyhzaWduZWRBcmVhKGRhdGEsIDAsIG91dGVyTGVuLCBkaW0pKTtcbiAgICBpZiAoaGFzSG9sZXMpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGhvbGVJbmRpY2VzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgc3RhcnQgPSBob2xlSW5kaWNlc1tpXSAqIGRpbTtcbiAgICAgICAgICAgIHZhciBlbmQgPSBpIDwgbGVuIC0gMSA/IGhvbGVJbmRpY2VzW2kgKyAxXSAqIGRpbSA6IGRhdGEubGVuZ3RoO1xuICAgICAgICAgICAgcG9seWdvbkFyZWEgLT0gTWF0aC5hYnMoc2lnbmVkQXJlYShkYXRhLCBzdGFydCwgZW5kLCBkaW0pKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHZhciB0cmlhbmdsZXNBcmVhID0gMDtcbiAgICBmb3IgKGkgPSAwOyBpIDwgdHJpYW5nbGVzLmxlbmd0aDsgaSArPSAzKSB7XG4gICAgICAgIHZhciBhID0gdHJpYW5nbGVzW2ldICogZGltO1xuICAgICAgICB2YXIgYiA9IHRyaWFuZ2xlc1tpICsgMV0gKiBkaW07XG4gICAgICAgIHZhciBjID0gdHJpYW5nbGVzW2kgKyAyXSAqIGRpbTtcbiAgICAgICAgdHJpYW5nbGVzQXJlYSArPSBNYXRoLmFicyhcbiAgICAgICAgICAgIChkYXRhW2FdIC0gZGF0YVtjXSkgKiAoZGF0YVtiICsgMV0gLSBkYXRhW2EgKyAxXSkgLVxuICAgICAgICAgICAgKGRhdGFbYV0gLSBkYXRhW2JdKSAqIChkYXRhW2MgKyAxXSAtIGRhdGFbYSArIDFdKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHBvbHlnb25BcmVhID09PSAwICYmIHRyaWFuZ2xlc0FyZWEgPT09IDAgPyAwIDpcbiAgICAgICAgTWF0aC5hYnMoKHRyaWFuZ2xlc0FyZWEgLSBwb2x5Z29uQXJlYSkgLyBwb2x5Z29uQXJlYSk7XG59O1xuXG5mdW5jdGlvbiBzaWduZWRBcmVhKGRhdGEsIHN0YXJ0LCBlbmQsIGRpbSkge1xuICAgIHZhciBzdW0gPSAwO1xuICAgIGZvciAodmFyIGkgPSBzdGFydCwgaiA9IGVuZCAtIGRpbTsgaSA8IGVuZDsgaSArPSBkaW0pIHtcbiAgICAgICAgc3VtICs9IChkYXRhW2pdIC0gZGF0YVtpXSkgKiAoZGF0YVtpICsgMV0gKyBkYXRhW2ogKyAxXSk7XG4gICAgICAgIGogPSBpO1xuICAgIH1cbiAgICByZXR1cm4gc3VtO1xufVxuXG4vLyB0dXJuIGEgcG9seWdvbiBpbiBhIG11bHRpLWRpbWVuc2lvbmFsIGFycmF5IGZvcm0gKGUuZy4gYXMgaW4gR2VvSlNPTikgaW50byBhIGZvcm0gRWFyY3V0IGFjY2VwdHNcbmVhcmN1dC5mbGF0dGVuID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICB2YXIgZGltID0gZGF0YVswXVswXS5sZW5ndGgsXG4gICAgICAgIHJlc3VsdCA9IHt2ZXJ0aWNlczogW10sIGhvbGVzOiBbXSwgZGltZW5zaW9uczogZGltfSxcbiAgICAgICAgaG9sZUluZGV4ID0gMDtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGRhdGFbaV0ubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIGZvciAodmFyIGQgPSAwOyBkIDwgZGltOyBkKyspIHJlc3VsdC52ZXJ0aWNlcy5wdXNoKGRhdGFbaV1bal1bZF0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpID4gMCkge1xuICAgICAgICAgICAgaG9sZUluZGV4ICs9IGRhdGFbaSAtIDFdLmxlbmd0aDtcbiAgICAgICAgICAgIHJlc3VsdC5ob2xlcy5wdXNoKGhvbGVJbmRleCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn07XG4iLCIoZnVuY3Rpb24oZ2xvYmFsKXtcblxuLy9cbi8vIENoZWNrIGZvciBuYXRpdmUgUHJvbWlzZSBhbmQgaXQgaGFzIGNvcnJlY3QgaW50ZXJmYWNlXG4vL1xuXG52YXIgTmF0aXZlUHJvbWlzZSA9IGdsb2JhbFsnUHJvbWlzZSddO1xudmFyIG5hdGl2ZVByb21pc2VTdXBwb3J0ZWQgPVxuICBOYXRpdmVQcm9taXNlICYmXG4gIC8vIFNvbWUgb2YgdGhlc2UgbWV0aG9kcyBhcmUgbWlzc2luZyBmcm9tXG4gIC8vIEZpcmVmb3gvQ2hyb21lIGV4cGVyaW1lbnRhbCBpbXBsZW1lbnRhdGlvbnNcbiAgJ3Jlc29sdmUnIGluIE5hdGl2ZVByb21pc2UgJiZcbiAgJ3JlamVjdCcgaW4gTmF0aXZlUHJvbWlzZSAmJlxuICAnYWxsJyBpbiBOYXRpdmVQcm9taXNlICYmXG4gICdyYWNlJyBpbiBOYXRpdmVQcm9taXNlICYmXG4gIC8vIE9sZGVyIHZlcnNpb24gb2YgdGhlIHNwZWMgaGFkIGEgcmVzb2x2ZXIgb2JqZWN0XG4gIC8vIGFzIHRoZSBhcmcgcmF0aGVyIHRoYW4gYSBmdW5jdGlvblxuICAoZnVuY3Rpb24oKXtcbiAgICB2YXIgcmVzb2x2ZTtcbiAgICBuZXcgTmF0aXZlUHJvbWlzZShmdW5jdGlvbihyKXsgcmVzb2x2ZSA9IHI7IH0pO1xuICAgIHJldHVybiB0eXBlb2YgcmVzb2x2ZSA9PT0gJ2Z1bmN0aW9uJztcbiAgfSkoKTtcblxuXG4vL1xuLy8gZXhwb3J0IGlmIG5lY2Vzc2FyeVxuLy9cblxuaWYgKHR5cGVvZiBleHBvcnRzICE9PSAndW5kZWZpbmVkJyAmJiBleHBvcnRzKVxue1xuICAvLyBub2RlLmpzXG4gIGV4cG9ydHMuUHJvbWlzZSA9IG5hdGl2ZVByb21pc2VTdXBwb3J0ZWQgPyBOYXRpdmVQcm9taXNlIDogUHJvbWlzZTtcbiAgZXhwb3J0cy5Qb2x5ZmlsbCA9IFByb21pc2U7XG59XG5lbHNlXG57XG4gIC8vIEFNRFxuICBpZiAodHlwZW9mIGRlZmluZSA9PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpXG4gIHtcbiAgICBkZWZpbmUoZnVuY3Rpb24oKXtcbiAgICAgIHJldHVybiBuYXRpdmVQcm9taXNlU3VwcG9ydGVkID8gTmF0aXZlUHJvbWlzZSA6IFByb21pc2U7XG4gICAgfSk7XG4gIH1cbiAgZWxzZVxuICB7XG4gICAgLy8gaW4gYnJvd3NlciBhZGQgdG8gZ2xvYmFsXG4gICAgaWYgKCFuYXRpdmVQcm9taXNlU3VwcG9ydGVkKVxuICAgICAgZ2xvYmFsWydQcm9taXNlJ10gPSBQcm9taXNlO1xuICB9XG59XG5cblxuLy9cbi8vIFBvbHlmaWxsXG4vL1xuXG52YXIgUEVORElORyA9ICdwZW5kaW5nJztcbnZhciBTRUFMRUQgPSAnc2VhbGVkJztcbnZhciBGVUxGSUxMRUQgPSAnZnVsZmlsbGVkJztcbnZhciBSRUpFQ1RFRCA9ICdyZWplY3RlZCc7XG52YXIgTk9PUCA9IGZ1bmN0aW9uKCl7fTtcblxuZnVuY3Rpb24gaXNBcnJheSh2YWx1ZSkge1xuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKSA9PT0gJ1tvYmplY3QgQXJyYXldJztcbn1cblxuLy8gYXN5bmMgY2FsbHNcbnZhciBhc3luY1NldFRpbWVyID0gdHlwZW9mIHNldEltbWVkaWF0ZSAhPT0gJ3VuZGVmaW5lZCcgPyBzZXRJbW1lZGlhdGUgOiBzZXRUaW1lb3V0O1xudmFyIGFzeW5jUXVldWUgPSBbXTtcbnZhciBhc3luY1RpbWVyO1xuXG5mdW5jdGlvbiBhc3luY0ZsdXNoKCl7XG4gIC8vIHJ1biBwcm9taXNlIGNhbGxiYWNrc1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGFzeW5jUXVldWUubGVuZ3RoOyBpKyspXG4gICAgYXN5bmNRdWV1ZVtpXVswXShhc3luY1F1ZXVlW2ldWzFdKTtcblxuICAvLyByZXNldCBhc3luYyBhc3luY1F1ZXVlXG4gIGFzeW5jUXVldWUgPSBbXTtcbiAgYXN5bmNUaW1lciA9IGZhbHNlO1xufVxuXG5mdW5jdGlvbiBhc3luY0NhbGwoY2FsbGJhY2ssIGFyZyl7XG4gIGFzeW5jUXVldWUucHVzaChbY2FsbGJhY2ssIGFyZ10pO1xuXG4gIGlmICghYXN5bmNUaW1lcilcbiAge1xuICAgIGFzeW5jVGltZXIgPSB0cnVlO1xuICAgIGFzeW5jU2V0VGltZXIoYXN5bmNGbHVzaCwgMCk7XG4gIH1cbn1cblxuXG5mdW5jdGlvbiBpbnZva2VSZXNvbHZlcihyZXNvbHZlciwgcHJvbWlzZSkge1xuICBmdW5jdGlvbiByZXNvbHZlUHJvbWlzZSh2YWx1ZSkge1xuICAgIHJlc29sdmUocHJvbWlzZSwgdmFsdWUpO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVqZWN0UHJvbWlzZShyZWFzb24pIHtcbiAgICByZWplY3QocHJvbWlzZSwgcmVhc29uKTtcbiAgfVxuXG4gIHRyeSB7XG4gICAgcmVzb2x2ZXIocmVzb2x2ZVByb21pc2UsIHJlamVjdFByb21pc2UpO1xuICB9IGNhdGNoKGUpIHtcbiAgICByZWplY3RQcm9taXNlKGUpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGludm9rZUNhbGxiYWNrKHN1YnNjcmliZXIpe1xuICB2YXIgb3duZXIgPSBzdWJzY3JpYmVyLm93bmVyO1xuICB2YXIgc2V0dGxlZCA9IG93bmVyLnN0YXRlXztcbiAgdmFyIHZhbHVlID0gb3duZXIuZGF0YV87ICBcbiAgdmFyIGNhbGxiYWNrID0gc3Vic2NyaWJlcltzZXR0bGVkXTtcbiAgdmFyIHByb21pc2UgPSBzdWJzY3JpYmVyLnRoZW47XG5cbiAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJylcbiAge1xuICAgIHNldHRsZWQgPSBGVUxGSUxMRUQ7XG4gICAgdHJ5IHtcbiAgICAgIHZhbHVlID0gY2FsbGJhY2sodmFsdWUpO1xuICAgIH0gY2F0Y2goZSkge1xuICAgICAgcmVqZWN0KHByb21pc2UsIGUpO1xuICAgIH1cbiAgfVxuXG4gIGlmICghaGFuZGxlVGhlbmFibGUocHJvbWlzZSwgdmFsdWUpKVxuICB7XG4gICAgaWYgKHNldHRsZWQgPT09IEZVTEZJTExFRClcbiAgICAgIHJlc29sdmUocHJvbWlzZSwgdmFsdWUpO1xuXG4gICAgaWYgKHNldHRsZWQgPT09IFJFSkVDVEVEKVxuICAgICAgcmVqZWN0KHByb21pc2UsIHZhbHVlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBoYW5kbGVUaGVuYWJsZShwcm9taXNlLCB2YWx1ZSkge1xuICB2YXIgcmVzb2x2ZWQ7XG5cbiAgdHJ5IHtcbiAgICBpZiAocHJvbWlzZSA9PT0gdmFsdWUpXG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdBIHByb21pc2VzIGNhbGxiYWNrIGNhbm5vdCByZXR1cm4gdGhhdCBzYW1lIHByb21pc2UuJyk7XG5cbiAgICBpZiAodmFsdWUgJiYgKHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJyB8fCB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnKSlcbiAgICB7XG4gICAgICB2YXIgdGhlbiA9IHZhbHVlLnRoZW47ICAvLyB0aGVuIHNob3VsZCBiZSByZXRyaXZlZCBvbmx5IG9uY2VcblxuICAgICAgaWYgKHR5cGVvZiB0aGVuID09PSAnZnVuY3Rpb24nKVxuICAgICAge1xuICAgICAgICB0aGVuLmNhbGwodmFsdWUsIGZ1bmN0aW9uKHZhbCl7XG4gICAgICAgICAgaWYgKCFyZXNvbHZlZClcbiAgICAgICAgICB7XG4gICAgICAgICAgICByZXNvbHZlZCA9IHRydWU7XG5cbiAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gdmFsKVxuICAgICAgICAgICAgICByZXNvbHZlKHByb21pc2UsIHZhbCk7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgIGZ1bGZpbGwocHJvbWlzZSwgdmFsKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sIGZ1bmN0aW9uKHJlYXNvbil7XG4gICAgICAgICAgaWYgKCFyZXNvbHZlZClcbiAgICAgICAgICB7XG4gICAgICAgICAgICByZXNvbHZlZCA9IHRydWU7XG5cbiAgICAgICAgICAgIHJlamVjdChwcm9taXNlLCByZWFzb24pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuICB9IGNhdGNoIChlKSB7XG4gICAgaWYgKCFyZXNvbHZlZClcbiAgICAgIHJlamVjdChwcm9taXNlLCBlKTtcblxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5mdW5jdGlvbiByZXNvbHZlKHByb21pc2UsIHZhbHVlKXtcbiAgaWYgKHByb21pc2UgPT09IHZhbHVlIHx8ICFoYW5kbGVUaGVuYWJsZShwcm9taXNlLCB2YWx1ZSkpXG4gICAgZnVsZmlsbChwcm9taXNlLCB2YWx1ZSk7XG59XG5cbmZ1bmN0aW9uIGZ1bGZpbGwocHJvbWlzZSwgdmFsdWUpe1xuICBpZiAocHJvbWlzZS5zdGF0ZV8gPT09IFBFTkRJTkcpXG4gIHtcbiAgICBwcm9taXNlLnN0YXRlXyA9IFNFQUxFRDtcbiAgICBwcm9taXNlLmRhdGFfID0gdmFsdWU7XG5cbiAgICBhc3luY0NhbGwocHVibGlzaEZ1bGZpbGxtZW50LCBwcm9taXNlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiByZWplY3QocHJvbWlzZSwgcmVhc29uKXtcbiAgaWYgKHByb21pc2Uuc3RhdGVfID09PSBQRU5ESU5HKVxuICB7XG4gICAgcHJvbWlzZS5zdGF0ZV8gPSBTRUFMRUQ7XG4gICAgcHJvbWlzZS5kYXRhXyA9IHJlYXNvbjtcblxuICAgIGFzeW5jQ2FsbChwdWJsaXNoUmVqZWN0aW9uLCBwcm9taXNlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBwdWJsaXNoKHByb21pc2UpIHtcbiAgdmFyIGNhbGxiYWNrcyA9IHByb21pc2UudGhlbl87XG4gIHByb21pc2UudGhlbl8gPSB1bmRlZmluZWQ7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBjYWxsYmFja3MubGVuZ3RoOyBpKyspIHtcbiAgICBpbnZva2VDYWxsYmFjayhjYWxsYmFja3NbaV0pO1xuICB9XG59XG5cbmZ1bmN0aW9uIHB1Ymxpc2hGdWxmaWxsbWVudChwcm9taXNlKXtcbiAgcHJvbWlzZS5zdGF0ZV8gPSBGVUxGSUxMRUQ7XG4gIHB1Ymxpc2gocHJvbWlzZSk7XG59XG5cbmZ1bmN0aW9uIHB1Ymxpc2hSZWplY3Rpb24ocHJvbWlzZSl7XG4gIHByb21pc2Uuc3RhdGVfID0gUkVKRUNURUQ7XG4gIHB1Ymxpc2gocHJvbWlzZSk7XG59XG5cbi8qKlxuKiBAY2xhc3NcbiovXG5mdW5jdGlvbiBQcm9taXNlKHJlc29sdmVyKXtcbiAgaWYgKHR5cGVvZiByZXNvbHZlciAhPT0gJ2Z1bmN0aW9uJylcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdQcm9taXNlIGNvbnN0cnVjdG9yIHRha2VzIGEgZnVuY3Rpb24gYXJndW1lbnQnKTtcblxuICBpZiAodGhpcyBpbnN0YW5jZW9mIFByb21pc2UgPT09IGZhbHNlKVxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ZhaWxlZCB0byBjb25zdHJ1Y3QgXFwnUHJvbWlzZVxcJzogUGxlYXNlIHVzZSB0aGUgXFwnbmV3XFwnIG9wZXJhdG9yLCB0aGlzIG9iamVjdCBjb25zdHJ1Y3RvciBjYW5ub3QgYmUgY2FsbGVkIGFzIGEgZnVuY3Rpb24uJyk7XG5cbiAgdGhpcy50aGVuXyA9IFtdO1xuXG4gIGludm9rZVJlc29sdmVyKHJlc29sdmVyLCB0aGlzKTtcbn1cblxuUHJvbWlzZS5wcm90b3R5cGUgPSB7XG4gIGNvbnN0cnVjdG9yOiBQcm9taXNlLFxuXG4gIHN0YXRlXzogUEVORElORyxcbiAgdGhlbl86IG51bGwsXG4gIGRhdGFfOiB1bmRlZmluZWQsXG5cbiAgdGhlbjogZnVuY3Rpb24ob25GdWxmaWxsbWVudCwgb25SZWplY3Rpb24pe1xuICAgIHZhciBzdWJzY3JpYmVyID0ge1xuICAgICAgb3duZXI6IHRoaXMsXG4gICAgICB0aGVuOiBuZXcgdGhpcy5jb25zdHJ1Y3RvcihOT09QKSxcbiAgICAgIGZ1bGZpbGxlZDogb25GdWxmaWxsbWVudCxcbiAgICAgIHJlamVjdGVkOiBvblJlamVjdGlvblxuICAgIH07XG5cbiAgICBpZiAodGhpcy5zdGF0ZV8gPT09IEZVTEZJTExFRCB8fCB0aGlzLnN0YXRlXyA9PT0gUkVKRUNURUQpXG4gICAge1xuICAgICAgLy8gYWxyZWFkeSByZXNvbHZlZCwgY2FsbCBjYWxsYmFjayBhc3luY1xuICAgICAgYXN5bmNDYWxsKGludm9rZUNhbGxiYWNrLCBzdWJzY3JpYmVyKTtcbiAgICB9XG4gICAgZWxzZVxuICAgIHtcbiAgICAgIC8vIHN1YnNjcmliZVxuICAgICAgdGhpcy50aGVuXy5wdXNoKHN1YnNjcmliZXIpO1xuICAgIH1cblxuICAgIHJldHVybiBzdWJzY3JpYmVyLnRoZW47XG4gIH0sXG5cbiAgJ2NhdGNoJzogZnVuY3Rpb24ob25SZWplY3Rpb24pIHtcbiAgICByZXR1cm4gdGhpcy50aGVuKG51bGwsIG9uUmVqZWN0aW9uKTtcbiAgfVxufTtcblxuUHJvbWlzZS5hbGwgPSBmdW5jdGlvbihwcm9taXNlcyl7XG4gIHZhciBDbGFzcyA9IHRoaXM7XG5cbiAgaWYgKCFpc0FycmF5KHByb21pc2VzKSlcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdZb3UgbXVzdCBwYXNzIGFuIGFycmF5IHRvIFByb21pc2UuYWxsKCkuJyk7XG5cbiAgcmV0dXJuIG5ldyBDbGFzcyhmdW5jdGlvbihyZXNvbHZlLCByZWplY3Qpe1xuICAgIHZhciByZXN1bHRzID0gW107XG4gICAgdmFyIHJlbWFpbmluZyA9IDA7XG5cbiAgICBmdW5jdGlvbiByZXNvbHZlcihpbmRleCl7XG4gICAgICByZW1haW5pbmcrKztcbiAgICAgIHJldHVybiBmdW5jdGlvbih2YWx1ZSl7XG4gICAgICAgIHJlc3VsdHNbaW5kZXhdID0gdmFsdWU7XG4gICAgICAgIGlmICghLS1yZW1haW5pbmcpXG4gICAgICAgICAgcmVzb2x2ZShyZXN1bHRzKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IDAsIHByb21pc2U7IGkgPCBwcm9taXNlcy5sZW5ndGg7IGkrKylcbiAgICB7XG4gICAgICBwcm9taXNlID0gcHJvbWlzZXNbaV07XG5cbiAgICAgIGlmIChwcm9taXNlICYmIHR5cGVvZiBwcm9taXNlLnRoZW4gPT09ICdmdW5jdGlvbicpXG4gICAgICAgIHByb21pc2UudGhlbihyZXNvbHZlcihpKSwgcmVqZWN0KTtcbiAgICAgIGVsc2VcbiAgICAgICAgcmVzdWx0c1tpXSA9IHByb21pc2U7XG4gICAgfVxuXG4gICAgaWYgKCFyZW1haW5pbmcpXG4gICAgICByZXNvbHZlKHJlc3VsdHMpO1xuICB9KTtcbn07XG5cblByb21pc2UucmFjZSA9IGZ1bmN0aW9uKHByb21pc2VzKXtcbiAgdmFyIENsYXNzID0gdGhpcztcblxuICBpZiAoIWlzQXJyYXkocHJvbWlzZXMpKVxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1lvdSBtdXN0IHBhc3MgYW4gYXJyYXkgdG8gUHJvbWlzZS5yYWNlKCkuJyk7XG5cbiAgcmV0dXJuIG5ldyBDbGFzcyhmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICBmb3IgKHZhciBpID0gMCwgcHJvbWlzZTsgaSA8IHByb21pc2VzLmxlbmd0aDsgaSsrKVxuICAgIHtcbiAgICAgIHByb21pc2UgPSBwcm9taXNlc1tpXTtcblxuICAgICAgaWYgKHByb21pc2UgJiYgdHlwZW9mIHByb21pc2UudGhlbiA9PT0gJ2Z1bmN0aW9uJylcbiAgICAgICAgcHJvbWlzZS50aGVuKHJlc29sdmUsIHJlamVjdCk7XG4gICAgICBlbHNlXG4gICAgICAgIHJlc29sdmUocHJvbWlzZSk7XG4gICAgfVxuICB9KTtcbn07XG5cblByb21pc2UucmVzb2x2ZSA9IGZ1bmN0aW9uKHZhbHVlKXtcbiAgdmFyIENsYXNzID0gdGhpcztcblxuICBpZiAodmFsdWUgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZS5jb25zdHJ1Y3RvciA9PT0gQ2xhc3MpXG4gICAgcmV0dXJuIHZhbHVlO1xuXG4gIHJldHVybiBuZXcgQ2xhc3MoZnVuY3Rpb24ocmVzb2x2ZSl7XG4gICAgcmVzb2x2ZSh2YWx1ZSk7XG4gIH0pO1xufTtcblxuUHJvbWlzZS5yZWplY3QgPSBmdW5jdGlvbihyZWFzb24pe1xuICB2YXIgQ2xhc3MgPSB0aGlzO1xuXG4gIHJldHVybiBuZXcgQ2xhc3MoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KXtcbiAgICByZWplY3QocmVhc29uKTtcbiAgfSk7XG59O1xuXG59KSh0eXBlb2Ygd2luZG93ICE9ICd1bmRlZmluZWQnID8gd2luZG93IDogdHlwZW9mIGdsb2JhbCAhPSAndW5kZWZpbmVkJyA/IGdsb2JhbCA6IHR5cGVvZiBzZWxmICE9ICd1bmRlZmluZWQnID8gc2VsZiA6IHRoaXMpO1xuIiwiLypcbm9iamVjdC1hc3NpZ25cbihjKSBTaW5kcmUgU29yaHVzXG5AbGljZW5zZSBNSVRcbiovXG5cbid1c2Ugc3RyaWN0Jztcbi8qIGVzbGludC1kaXNhYmxlIG5vLXVudXNlZC12YXJzICovXG52YXIgZ2V0T3duUHJvcGVydHlTeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scztcbnZhciBoYXNPd25Qcm9wZXJ0eSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG52YXIgcHJvcElzRW51bWVyYWJsZSA9IE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGU7XG5cbmZ1bmN0aW9uIHRvT2JqZWN0KHZhbCkge1xuXHRpZiAodmFsID09PSBudWxsIHx8IHZhbCA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0dGhyb3cgbmV3IFR5cGVFcnJvcignT2JqZWN0LmFzc2lnbiBjYW5ub3QgYmUgY2FsbGVkIHdpdGggbnVsbCBvciB1bmRlZmluZWQnKTtcblx0fVxuXG5cdHJldHVybiBPYmplY3QodmFsKTtcbn1cblxuZnVuY3Rpb24gc2hvdWxkVXNlTmF0aXZlKCkge1xuXHR0cnkge1xuXHRcdGlmICghT2JqZWN0LmFzc2lnbikge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdC8vIERldGVjdCBidWdneSBwcm9wZXJ0eSBlbnVtZXJhdGlvbiBvcmRlciBpbiBvbGRlciBWOCB2ZXJzaW9ucy5cblxuXHRcdC8vIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTQxMThcblx0XHR2YXIgdGVzdDEgPSBuZXcgU3RyaW5nKCdhYmMnKTsgIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tbmV3LXdyYXBwZXJzXG5cdFx0dGVzdDFbNV0gPSAnZGUnO1xuXHRcdGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0ZXN0MSlbMF0gPT09ICc1Jykge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdC8vIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTMwNTZcblx0XHR2YXIgdGVzdDIgPSB7fTtcblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IDEwOyBpKyspIHtcblx0XHRcdHRlc3QyWydfJyArIFN0cmluZy5mcm9tQ2hhckNvZGUoaSldID0gaTtcblx0XHR9XG5cdFx0dmFyIG9yZGVyMiA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHRlc3QyKS5tYXAoZnVuY3Rpb24gKG4pIHtcblx0XHRcdHJldHVybiB0ZXN0MltuXTtcblx0XHR9KTtcblx0XHRpZiAob3JkZXIyLmpvaW4oJycpICE9PSAnMDEyMzQ1Njc4OScpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHQvLyBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvdjgvaXNzdWVzL2RldGFpbD9pZD0zMDU2XG5cdFx0dmFyIHRlc3QzID0ge307XG5cdFx0J2FiY2RlZmdoaWprbG1ub3BxcnN0Jy5zcGxpdCgnJykuZm9yRWFjaChmdW5jdGlvbiAobGV0dGVyKSB7XG5cdFx0XHR0ZXN0M1tsZXR0ZXJdID0gbGV0dGVyO1xuXHRcdH0pO1xuXHRcdGlmIChPYmplY3Qua2V5cyhPYmplY3QuYXNzaWduKHt9LCB0ZXN0MykpLmpvaW4oJycpICE9PVxuXHRcdFx0XHQnYWJjZGVmZ2hpamtsbW5vcHFyc3QnKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRydWU7XG5cdH0gY2F0Y2ggKGVycikge1xuXHRcdC8vIFdlIGRvbid0IGV4cGVjdCBhbnkgb2YgdGhlIGFib3ZlIHRvIHRocm93LCBidXQgYmV0dGVyIHRvIGJlIHNhZmUuXG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gc2hvdWxkVXNlTmF0aXZlKCkgPyBPYmplY3QuYXNzaWduIDogZnVuY3Rpb24gKHRhcmdldCwgc291cmNlKSB7XG5cdHZhciBmcm9tO1xuXHR2YXIgdG8gPSB0b09iamVjdCh0YXJnZXQpO1xuXHR2YXIgc3ltYm9scztcblxuXHRmb3IgKHZhciBzID0gMTsgcyA8IGFyZ3VtZW50cy5sZW5ndGg7IHMrKykge1xuXHRcdGZyb20gPSBPYmplY3QoYXJndW1lbnRzW3NdKTtcblxuXHRcdGZvciAodmFyIGtleSBpbiBmcm9tKSB7XG5cdFx0XHRpZiAoaGFzT3duUHJvcGVydHkuY2FsbChmcm9tLCBrZXkpKSB7XG5cdFx0XHRcdHRvW2tleV0gPSBmcm9tW2tleV07XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKGdldE93blByb3BlcnR5U3ltYm9scykge1xuXHRcdFx0c3ltYm9scyA9IGdldE93blByb3BlcnR5U3ltYm9scyhmcm9tKTtcblx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgc3ltYm9scy5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRpZiAocHJvcElzRW51bWVyYWJsZS5jYWxsKGZyb20sIHN5bWJvbHNbaV0pKSB7XG5cdFx0XHRcdFx0dG9bc3ltYm9sc1tpXV0gPSBmcm9tW3N5bWJvbHNbaV1dO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIHRvO1xufTtcbiIsIi8qIVxuICogQHBpeGkvcG9seWZpbGwgLSB2NS4yLjBcbiAqIENvbXBpbGVkIFdlZCwgMDYgTm92IDIwMTkgMDI6MzI6NDMgVVRDXG4gKlxuICogQHBpeGkvcG9seWZpbGwgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5pbXBvcnQgeyBQb2x5ZmlsbCB9IGZyb20gJ2VzNi1wcm9taXNlLXBvbHlmaWxsJztcbmltcG9ydCBvYmplY3RBc3NpZ24gZnJvbSAnb2JqZWN0LWFzc2lnbic7XG5cbi8vIFN1cHBvcnQgZm9yIElFIDkgLSAxMSB3aGljaCBkb2VzIG5vdCBpbmNsdWRlIFByb21pc2VzXG5pZiAoIXdpbmRvdy5Qcm9taXNlKVxue1xuICAgIHdpbmRvdy5Qcm9taXNlID0gUG9seWZpbGw7XG59XG5cbi8vIFJlZmVyZW5jZXM6XG5cbmlmICghT2JqZWN0LmFzc2lnbilcbntcbiAgICBPYmplY3QuYXNzaWduID0gb2JqZWN0QXNzaWduO1xufVxuXG52YXIgY29tbW9uanNHbG9iYWwgPSB0eXBlb2YgZ2xvYmFsVGhpcyAhPT0gJ3VuZGVmaW5lZCcgPyBnbG9iYWxUaGlzIDogdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cgOiB0eXBlb2YgZ2xvYmFsICE9PSAndW5kZWZpbmVkJyA/IGdsb2JhbCA6IHR5cGVvZiBzZWxmICE9PSAndW5kZWZpbmVkJyA/IHNlbGYgOiB7fTtcblxuLy8gUmVmZXJlbmNlczpcbi8vIGh0dHA6Ly9wYXVsaXJpc2guY29tLzIwMTEvcmVxdWVzdGFuaW1hdGlvbmZyYW1lLWZvci1zbWFydC1hbmltYXRpbmcvXG4vLyBodHRwczovL2dpc3QuZ2l0aHViLmNvbS8xNTc5NjcxXG4vLyBodHRwOi8vdXBkYXRlcy5odG1sNXJvY2tzLmNvbS8yMDEyLzA1L3JlcXVlc3RBbmltYXRpb25GcmFtZS1BUEktbm93LXdpdGgtc3ViLW1pbGxpc2Vjb25kLXByZWNpc2lvblxuLy8gaHR0cHM6Ly9naXN0LmdpdGh1Yi5jb20vdGltaGFsbC80MDc4NjE0XG4vLyBodHRwczovL2dpdGh1Yi5jb20vRmluYW5jaWFsLVRpbWVzL3BvbHlmaWxsLXNlcnZpY2UvdHJlZS9tYXN0ZXIvcG9seWZpbGxzL3JlcXVlc3RBbmltYXRpb25GcmFtZVxuXG4vLyBFeHBlY3RlZCB0byBiZSB1c2VkIHdpdGggQnJvd3NlcmZpeVxuLy8gQnJvd3NlcmlmeSBhdXRvbWF0aWNhbGx5IGRldGVjdHMgdGhlIHVzZSBvZiBgZ2xvYmFsYCBhbmQgcGFzc2VzIHRoZVxuLy8gY29ycmVjdCByZWZlcmVuY2Ugb2YgYGdsb2JhbGAsIGBzZWxmYCwgYW5kIGZpbmFsbHkgYHdpbmRvd2BcblxudmFyIE9ORV9GUkFNRV9USU1FID0gMTY7XG5cbi8vIERhdGUubm93XG5pZiAoIShEYXRlLm5vdyAmJiBEYXRlLnByb3RvdHlwZS5nZXRUaW1lKSlcbntcbiAgICBEYXRlLm5vdyA9IGZ1bmN0aW9uIG5vdygpXG4gICAge1xuICAgICAgICByZXR1cm4gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gICAgfTtcbn1cblxuLy8gcGVyZm9ybWFuY2Uubm93XG5pZiAoIShjb21tb25qc0dsb2JhbC5wZXJmb3JtYW5jZSAmJiBjb21tb25qc0dsb2JhbC5wZXJmb3JtYW5jZS5ub3cpKVxue1xuICAgIHZhciBzdGFydFRpbWUgPSBEYXRlLm5vdygpO1xuXG4gICAgaWYgKCFjb21tb25qc0dsb2JhbC5wZXJmb3JtYW5jZSlcbiAgICB7XG4gICAgICAgIGNvbW1vbmpzR2xvYmFsLnBlcmZvcm1hbmNlID0ge307XG4gICAgfVxuXG4gICAgY29tbW9uanNHbG9iYWwucGVyZm9ybWFuY2Uubm93ID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gRGF0ZS5ub3coKSAtIHN0YXJ0VGltZTsgfTtcbn1cblxuLy8gcmVxdWVzdEFuaW1hdGlvbkZyYW1lXG52YXIgbGFzdFRpbWUgPSBEYXRlLm5vdygpO1xudmFyIHZlbmRvcnMgPSBbJ21zJywgJ21veicsICd3ZWJraXQnLCAnbyddO1xuXG5mb3IgKHZhciB4ID0gMDsgeCA8IHZlbmRvcnMubGVuZ3RoICYmICFjb21tb25qc0dsb2JhbC5yZXF1ZXN0QW5pbWF0aW9uRnJhbWU7ICsreClcbntcbiAgICB2YXIgcCA9IHZlbmRvcnNbeF07XG5cbiAgICBjb21tb25qc0dsb2JhbC5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPSBjb21tb25qc0dsb2JhbFsocCArIFwiUmVxdWVzdEFuaW1hdGlvbkZyYW1lXCIpXTtcbiAgICBjb21tb25qc0dsb2JhbC5jYW5jZWxBbmltYXRpb25GcmFtZSA9IGNvbW1vbmpzR2xvYmFsWyhwICsgXCJDYW5jZWxBbmltYXRpb25GcmFtZVwiKV0gfHwgY29tbW9uanNHbG9iYWxbKHAgKyBcIkNhbmNlbFJlcXVlc3RBbmltYXRpb25GcmFtZVwiKV07XG59XG5cbmlmICghY29tbW9uanNHbG9iYWwucmVxdWVzdEFuaW1hdGlvbkZyYW1lKVxue1xuICAgIGNvbW1vbmpzR2xvYmFsLnJlcXVlc3RBbmltYXRpb25GcmFtZSA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgICAgICBpZiAodHlwZW9mIGNhbGxiYWNrICE9PSAnZnVuY3Rpb24nKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKChjYWxsYmFjayArIFwiaXMgbm90IGEgZnVuY3Rpb25cIikpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGN1cnJlbnRUaW1lID0gRGF0ZS5ub3coKTtcbiAgICAgICAgdmFyIGRlbGF5ID0gT05FX0ZSQU1FX1RJTUUgKyBsYXN0VGltZSAtIGN1cnJlbnRUaW1lO1xuXG4gICAgICAgIGlmIChkZWxheSA8IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIGRlbGF5ID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIGxhc3RUaW1lID0gY3VycmVudFRpbWU7XG5cbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgbGFzdFRpbWUgPSBEYXRlLm5vdygpO1xuICAgICAgICAgICAgY2FsbGJhY2socGVyZm9ybWFuY2Uubm93KCkpO1xuICAgICAgICB9LCBkZWxheSk7XG4gICAgfTtcbn1cblxuaWYgKCFjb21tb25qc0dsb2JhbC5jYW5jZWxBbmltYXRpb25GcmFtZSlcbntcbiAgICBjb21tb25qc0dsb2JhbC5jYW5jZWxBbmltYXRpb25GcmFtZSA9IGZ1bmN0aW9uIChpZCkgeyByZXR1cm4gY2xlYXJUaW1lb3V0KGlkKTsgfTtcbn1cblxuLy8gUmVmZXJlbmNlczpcbi8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL01hdGgvc2lnblxuXG5pZiAoIU1hdGguc2lnbilcbntcbiAgICBNYXRoLnNpZ24gPSBmdW5jdGlvbiBtYXRoU2lnbih4KVxuICAgIHtcbiAgICAgICAgeCA9IE51bWJlcih4KTtcblxuICAgICAgICBpZiAoeCA9PT0gMCB8fCBpc05hTih4KSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIHg7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4geCA+IDAgPyAxIDogLTE7XG4gICAgfTtcbn1cblxuLy8gUmVmZXJlbmNlczpcbi8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL051bWJlci9pc0ludGVnZXJcblxuaWYgKCFOdW1iZXIuaXNJbnRlZ2VyKVxue1xuICAgIE51bWJlci5pc0ludGVnZXIgPSBmdW5jdGlvbiBudW1iZXJJc0ludGVnZXIodmFsdWUpXG4gICAge1xuICAgICAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJyAmJiBpc0Zpbml0ZSh2YWx1ZSkgJiYgTWF0aC5mbG9vcih2YWx1ZSkgPT09IHZhbHVlO1xuICAgIH07XG59XG5cbmlmICghd2luZG93LkFycmF5QnVmZmVyKVxue1xuICAgIHdpbmRvdy5BcnJheUJ1ZmZlciA9IEFycmF5O1xufVxuXG5pZiAoIXdpbmRvdy5GbG9hdDMyQXJyYXkpXG57XG4gICAgd2luZG93LkZsb2F0MzJBcnJheSA9IEFycmF5O1xufVxuXG5pZiAoIXdpbmRvdy5VaW50MzJBcnJheSlcbntcbiAgICB3aW5kb3cuVWludDMyQXJyYXkgPSBBcnJheTtcbn1cblxuaWYgKCF3aW5kb3cuVWludDE2QXJyYXkpXG57XG4gICAgd2luZG93LlVpbnQxNkFycmF5ID0gQXJyYXk7XG59XG5cbmlmICghd2luZG93LlVpbnQ4QXJyYXkpXG57XG4gICAgd2luZG93LlVpbnQ4QXJyYXkgPSBBcnJheTtcbn1cblxuaWYgKCF3aW5kb3cuSW50MzJBcnJheSlcbntcbiAgICB3aW5kb3cuSW50MzJBcnJheSA9IEFycmF5O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cG9seWZpbGwuZXMuanMubWFwXG4iLCJ2YXIgc2NvcGUgPSAodHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBnbG9iYWwpIHx8XG4gICAgICAgICAgICAodHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIgJiYgc2VsZikgfHxcbiAgICAgICAgICAgIHdpbmRvdztcbnZhciBhcHBseSA9IEZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseTtcblxuLy8gRE9NIEFQSXMsIGZvciBjb21wbGV0ZW5lc3NcblxuZXhwb3J0cy5zZXRUaW1lb3V0ID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBuZXcgVGltZW91dChhcHBseS5jYWxsKHNldFRpbWVvdXQsIHNjb3BlLCBhcmd1bWVudHMpLCBjbGVhclRpbWVvdXQpO1xufTtcbmV4cG9ydHMuc2V0SW50ZXJ2YWwgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG5ldyBUaW1lb3V0KGFwcGx5LmNhbGwoc2V0SW50ZXJ2YWwsIHNjb3BlLCBhcmd1bWVudHMpLCBjbGVhckludGVydmFsKTtcbn07XG5leHBvcnRzLmNsZWFyVGltZW91dCA9XG5leHBvcnRzLmNsZWFySW50ZXJ2YWwgPSBmdW5jdGlvbih0aW1lb3V0KSB7XG4gIGlmICh0aW1lb3V0KSB7XG4gICAgdGltZW91dC5jbG9zZSgpO1xuICB9XG59O1xuXG5mdW5jdGlvbiBUaW1lb3V0KGlkLCBjbGVhckZuKSB7XG4gIHRoaXMuX2lkID0gaWQ7XG4gIHRoaXMuX2NsZWFyRm4gPSBjbGVhckZuO1xufVxuVGltZW91dC5wcm90b3R5cGUudW5yZWYgPSBUaW1lb3V0LnByb3RvdHlwZS5yZWYgPSBmdW5jdGlvbigpIHt9O1xuVGltZW91dC5wcm90b3R5cGUuY2xvc2UgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5fY2xlYXJGbi5jYWxsKHNjb3BlLCB0aGlzLl9pZCk7XG59O1xuXG4vLyBEb2VzIG5vdCBzdGFydCB0aGUgdGltZSwganVzdCBzZXRzIHVwIHRoZSBtZW1iZXJzIG5lZWRlZC5cbmV4cG9ydHMuZW5yb2xsID0gZnVuY3Rpb24oaXRlbSwgbXNlY3MpIHtcbiAgY2xlYXJUaW1lb3V0KGl0ZW0uX2lkbGVUaW1lb3V0SWQpO1xuICBpdGVtLl9pZGxlVGltZW91dCA9IG1zZWNzO1xufTtcblxuZXhwb3J0cy51bmVucm9sbCA9IGZ1bmN0aW9uKGl0ZW0pIHtcbiAgY2xlYXJUaW1lb3V0KGl0ZW0uX2lkbGVUaW1lb3V0SWQpO1xuICBpdGVtLl9pZGxlVGltZW91dCA9IC0xO1xufTtcblxuZXhwb3J0cy5fdW5yZWZBY3RpdmUgPSBleHBvcnRzLmFjdGl2ZSA9IGZ1bmN0aW9uKGl0ZW0pIHtcbiAgY2xlYXJUaW1lb3V0KGl0ZW0uX2lkbGVUaW1lb3V0SWQpO1xuXG4gIHZhciBtc2VjcyA9IGl0ZW0uX2lkbGVUaW1lb3V0O1xuICBpZiAobXNlY3MgPj0gMCkge1xuICAgIGl0ZW0uX2lkbGVUaW1lb3V0SWQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uIG9uVGltZW91dCgpIHtcbiAgICAgIGlmIChpdGVtLl9vblRpbWVvdXQpXG4gICAgICAgIGl0ZW0uX29uVGltZW91dCgpO1xuICAgIH0sIG1zZWNzKTtcbiAgfVxufTtcblxuLy8gc2V0aW1tZWRpYXRlIGF0dGFjaGVzIGl0c2VsZiB0byB0aGUgZ2xvYmFsIG9iamVjdFxucmVxdWlyZShcInNldGltbWVkaWF0ZVwiKTtcbi8vIE9uIHNvbWUgZXhvdGljIGVudmlyb25tZW50cywgaXQncyBub3QgY2xlYXIgd2hpY2ggb2JqZWN0IGBzZXRpbW1lZGlhdGVgIHdhc1xuLy8gYWJsZSB0byBpbnN0YWxsIG9udG8uICBTZWFyY2ggZWFjaCBwb3NzaWJpbGl0eSBpbiB0aGUgc2FtZSBvcmRlciBhcyB0aGVcbi8vIGBzZXRpbW1lZGlhdGVgIGxpYnJhcnkuXG5leHBvcnRzLnNldEltbWVkaWF0ZSA9ICh0eXBlb2Ygc2VsZiAhPT0gXCJ1bmRlZmluZWRcIiAmJiBzZWxmLnNldEltbWVkaWF0ZSkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgKHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIgJiYgZ2xvYmFsLnNldEltbWVkaWF0ZSkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgKHRoaXMgJiYgdGhpcy5zZXRJbW1lZGlhdGUpO1xuZXhwb3J0cy5jbGVhckltbWVkaWF0ZSA9ICh0eXBlb2Ygc2VsZiAhPT0gXCJ1bmRlZmluZWRcIiAmJiBzZWxmLmNsZWFySW1tZWRpYXRlKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICh0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiICYmIGdsb2JhbC5jbGVhckltbWVkaWF0ZSkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAodGhpcyAmJiB0aGlzLmNsZWFySW1tZWRpYXRlKTtcbiIsIihmdW5jdGlvbiAoZ2xvYmFsLCB1bmRlZmluZWQpIHtcbiAgICBcInVzZSBzdHJpY3RcIjtcblxuICAgIGlmIChnbG9iYWwuc2V0SW1tZWRpYXRlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgbmV4dEhhbmRsZSA9IDE7IC8vIFNwZWMgc2F5cyBncmVhdGVyIHRoYW4gemVyb1xuICAgIHZhciB0YXNrc0J5SGFuZGxlID0ge307XG4gICAgdmFyIGN1cnJlbnRseVJ1bm5pbmdBVGFzayA9IGZhbHNlO1xuICAgIHZhciBkb2MgPSBnbG9iYWwuZG9jdW1lbnQ7XG4gICAgdmFyIHJlZ2lzdGVySW1tZWRpYXRlO1xuXG4gICAgZnVuY3Rpb24gc2V0SW1tZWRpYXRlKGNhbGxiYWNrKSB7XG4gICAgICAvLyBDYWxsYmFjayBjYW4gZWl0aGVyIGJlIGEgZnVuY3Rpb24gb3IgYSBzdHJpbmdcbiAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgIT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICBjYWxsYmFjayA9IG5ldyBGdW5jdGlvbihcIlwiICsgY2FsbGJhY2spO1xuICAgICAgfVxuICAgICAgLy8gQ29weSBmdW5jdGlvbiBhcmd1bWVudHNcbiAgICAgIHZhciBhcmdzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGggLSAxKTtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJncy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGFyZ3NbaV0gPSBhcmd1bWVudHNbaSArIDFdO1xuICAgICAgfVxuICAgICAgLy8gU3RvcmUgYW5kIHJlZ2lzdGVyIHRoZSB0YXNrXG4gICAgICB2YXIgdGFzayA9IHsgY2FsbGJhY2s6IGNhbGxiYWNrLCBhcmdzOiBhcmdzIH07XG4gICAgICB0YXNrc0J5SGFuZGxlW25leHRIYW5kbGVdID0gdGFzaztcbiAgICAgIHJlZ2lzdGVySW1tZWRpYXRlKG5leHRIYW5kbGUpO1xuICAgICAgcmV0dXJuIG5leHRIYW5kbGUrKztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjbGVhckltbWVkaWF0ZShoYW5kbGUpIHtcbiAgICAgICAgZGVsZXRlIHRhc2tzQnlIYW5kbGVbaGFuZGxlXTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBydW4odGFzaykge1xuICAgICAgICB2YXIgY2FsbGJhY2sgPSB0YXNrLmNhbGxiYWNrO1xuICAgICAgICB2YXIgYXJncyA9IHRhc2suYXJncztcbiAgICAgICAgc3dpdGNoIChhcmdzLmxlbmd0aCkge1xuICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgIGNhbGxiYWNrKGFyZ3NbMF0pO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgIGNhbGxiYWNrKGFyZ3NbMF0sIGFyZ3NbMV0pO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgIGNhbGxiYWNrKGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0pO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjYWxsYmFjay5hcHBseSh1bmRlZmluZWQsIGFyZ3MpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBydW5JZlByZXNlbnQoaGFuZGxlKSB7XG4gICAgICAgIC8vIEZyb20gdGhlIHNwZWM6IFwiV2FpdCB1bnRpbCBhbnkgaW52b2NhdGlvbnMgb2YgdGhpcyBhbGdvcml0aG0gc3RhcnRlZCBiZWZvcmUgdGhpcyBvbmUgaGF2ZSBjb21wbGV0ZWQuXCJcbiAgICAgICAgLy8gU28gaWYgd2UncmUgY3VycmVudGx5IHJ1bm5pbmcgYSB0YXNrLCB3ZSdsbCBuZWVkIHRvIGRlbGF5IHRoaXMgaW52b2NhdGlvbi5cbiAgICAgICAgaWYgKGN1cnJlbnRseVJ1bm5pbmdBVGFzaykge1xuICAgICAgICAgICAgLy8gRGVsYXkgYnkgZG9pbmcgYSBzZXRUaW1lb3V0LiBzZXRJbW1lZGlhdGUgd2FzIHRyaWVkIGluc3RlYWQsIGJ1dCBpbiBGaXJlZm94IDcgaXQgZ2VuZXJhdGVkIGFcbiAgICAgICAgICAgIC8vIFwidG9vIG11Y2ggcmVjdXJzaW9uXCIgZXJyb3IuXG4gICAgICAgICAgICBzZXRUaW1lb3V0KHJ1bklmUHJlc2VudCwgMCwgaGFuZGxlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciB0YXNrID0gdGFza3NCeUhhbmRsZVtoYW5kbGVdO1xuICAgICAgICAgICAgaWYgKHRhc2spIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50bHlSdW5uaW5nQVRhc2sgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHJ1bih0YXNrKTtcbiAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICBjbGVhckltbWVkaWF0ZShoYW5kbGUpO1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50bHlSdW5uaW5nQVRhc2sgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpbnN0YWxsTmV4dFRpY2tJbXBsZW1lbnRhdGlvbigpIHtcbiAgICAgICAgcmVnaXN0ZXJJbW1lZGlhdGUgPSBmdW5jdGlvbihoYW5kbGUpIHtcbiAgICAgICAgICAgIHByb2Nlc3MubmV4dFRpY2soZnVuY3Rpb24gKCkgeyBydW5JZlByZXNlbnQoaGFuZGxlKTsgfSk7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY2FuVXNlUG9zdE1lc3NhZ2UoKSB7XG4gICAgICAgIC8vIFRoZSB0ZXN0IGFnYWluc3QgYGltcG9ydFNjcmlwdHNgIHByZXZlbnRzIHRoaXMgaW1wbGVtZW50YXRpb24gZnJvbSBiZWluZyBpbnN0YWxsZWQgaW5zaWRlIGEgd2ViIHdvcmtlcixcbiAgICAgICAgLy8gd2hlcmUgYGdsb2JhbC5wb3N0TWVzc2FnZWAgbWVhbnMgc29tZXRoaW5nIGNvbXBsZXRlbHkgZGlmZmVyZW50IGFuZCBjYW4ndCBiZSB1c2VkIGZvciB0aGlzIHB1cnBvc2UuXG4gICAgICAgIGlmIChnbG9iYWwucG9zdE1lc3NhZ2UgJiYgIWdsb2JhbC5pbXBvcnRTY3JpcHRzKSB7XG4gICAgICAgICAgICB2YXIgcG9zdE1lc3NhZ2VJc0FzeW5jaHJvbm91cyA9IHRydWU7XG4gICAgICAgICAgICB2YXIgb2xkT25NZXNzYWdlID0gZ2xvYmFsLm9ubWVzc2FnZTtcbiAgICAgICAgICAgIGdsb2JhbC5vbm1lc3NhZ2UgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBwb3N0TWVzc2FnZUlzQXN5bmNocm9ub3VzID0gZmFsc2U7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgZ2xvYmFsLnBvc3RNZXNzYWdlKFwiXCIsIFwiKlwiKTtcbiAgICAgICAgICAgIGdsb2JhbC5vbm1lc3NhZ2UgPSBvbGRPbk1lc3NhZ2U7XG4gICAgICAgICAgICByZXR1cm4gcG9zdE1lc3NhZ2VJc0FzeW5jaHJvbm91cztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGluc3RhbGxQb3N0TWVzc2FnZUltcGxlbWVudGF0aW9uKCkge1xuICAgICAgICAvLyBJbnN0YWxscyBhbiBldmVudCBoYW5kbGVyIG9uIGBnbG9iYWxgIGZvciB0aGUgYG1lc3NhZ2VgIGV2ZW50OiBzZWVcbiAgICAgICAgLy8gKiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9ET00vd2luZG93LnBvc3RNZXNzYWdlXG4gICAgICAgIC8vICogaHR0cDovL3d3dy53aGF0d2cub3JnL3NwZWNzL3dlYi1hcHBzL2N1cnJlbnQtd29yay9tdWx0aXBhZ2UvY29tbXMuaHRtbCNjcm9zc0RvY3VtZW50TWVzc2FnZXNcblxuICAgICAgICB2YXIgbWVzc2FnZVByZWZpeCA9IFwic2V0SW1tZWRpYXRlJFwiICsgTWF0aC5yYW5kb20oKSArIFwiJFwiO1xuICAgICAgICB2YXIgb25HbG9iYWxNZXNzYWdlID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgIGlmIChldmVudC5zb3VyY2UgPT09IGdsb2JhbCAmJlxuICAgICAgICAgICAgICAgIHR5cGVvZiBldmVudC5kYXRhID09PSBcInN0cmluZ1wiICYmXG4gICAgICAgICAgICAgICAgZXZlbnQuZGF0YS5pbmRleE9mKG1lc3NhZ2VQcmVmaXgpID09PSAwKSB7XG4gICAgICAgICAgICAgICAgcnVuSWZQcmVzZW50KCtldmVudC5kYXRhLnNsaWNlKG1lc3NhZ2VQcmVmaXgubGVuZ3RoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKGdsb2JhbC5hZGRFdmVudExpc3RlbmVyKSB7XG4gICAgICAgICAgICBnbG9iYWwuYWRkRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIiwgb25HbG9iYWxNZXNzYWdlLCBmYWxzZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBnbG9iYWwuYXR0YWNoRXZlbnQoXCJvbm1lc3NhZ2VcIiwgb25HbG9iYWxNZXNzYWdlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJlZ2lzdGVySW1tZWRpYXRlID0gZnVuY3Rpb24oaGFuZGxlKSB7XG4gICAgICAgICAgICBnbG9iYWwucG9zdE1lc3NhZ2UobWVzc2FnZVByZWZpeCArIGhhbmRsZSwgXCIqXCIpO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGluc3RhbGxNZXNzYWdlQ2hhbm5lbEltcGxlbWVudGF0aW9uKCkge1xuICAgICAgICB2YXIgY2hhbm5lbCA9IG5ldyBNZXNzYWdlQ2hhbm5lbCgpO1xuICAgICAgICBjaGFubmVsLnBvcnQxLm9ubWVzc2FnZSA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICB2YXIgaGFuZGxlID0gZXZlbnQuZGF0YTtcbiAgICAgICAgICAgIHJ1bklmUHJlc2VudChoYW5kbGUpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHJlZ2lzdGVySW1tZWRpYXRlID0gZnVuY3Rpb24oaGFuZGxlKSB7XG4gICAgICAgICAgICBjaGFubmVsLnBvcnQyLnBvc3RNZXNzYWdlKGhhbmRsZSk7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaW5zdGFsbFJlYWR5U3RhdGVDaGFuZ2VJbXBsZW1lbnRhdGlvbigpIHtcbiAgICAgICAgdmFyIGh0bWwgPSBkb2MuZG9jdW1lbnRFbGVtZW50O1xuICAgICAgICByZWdpc3RlckltbWVkaWF0ZSA9IGZ1bmN0aW9uKGhhbmRsZSkge1xuICAgICAgICAgICAgLy8gQ3JlYXRlIGEgPHNjcmlwdD4gZWxlbWVudDsgaXRzIHJlYWR5c3RhdGVjaGFuZ2UgZXZlbnQgd2lsbCBiZSBmaXJlZCBhc3luY2hyb25vdXNseSBvbmNlIGl0IGlzIGluc2VydGVkXG4gICAgICAgICAgICAvLyBpbnRvIHRoZSBkb2N1bWVudC4gRG8gc28sIHRodXMgcXVldWluZyB1cCB0aGUgdGFzay4gUmVtZW1iZXIgdG8gY2xlYW4gdXAgb25jZSBpdCdzIGJlZW4gY2FsbGVkLlxuICAgICAgICAgICAgdmFyIHNjcmlwdCA9IGRvYy5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpO1xuICAgICAgICAgICAgc2NyaXB0Lm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBydW5JZlByZXNlbnQoaGFuZGxlKTtcbiAgICAgICAgICAgICAgICBzY3JpcHQub25yZWFkeXN0YXRlY2hhbmdlID0gbnVsbDtcbiAgICAgICAgICAgICAgICBodG1sLnJlbW92ZUNoaWxkKHNjcmlwdCk7XG4gICAgICAgICAgICAgICAgc2NyaXB0ID0gbnVsbDtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBodG1sLmFwcGVuZENoaWxkKHNjcmlwdCk7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaW5zdGFsbFNldFRpbWVvdXRJbXBsZW1lbnRhdGlvbigpIHtcbiAgICAgICAgcmVnaXN0ZXJJbW1lZGlhdGUgPSBmdW5jdGlvbihoYW5kbGUpIHtcbiAgICAgICAgICAgIHNldFRpbWVvdXQocnVuSWZQcmVzZW50LCAwLCBoYW5kbGUpO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8vIElmIHN1cHBvcnRlZCwgd2Ugc2hvdWxkIGF0dGFjaCB0byB0aGUgcHJvdG90eXBlIG9mIGdsb2JhbCwgc2luY2UgdGhhdCBpcyB3aGVyZSBzZXRUaW1lb3V0IGV0IGFsLiBsaXZlLlxuICAgIHZhciBhdHRhY2hUbyA9IE9iamVjdC5nZXRQcm90b3R5cGVPZiAmJiBPYmplY3QuZ2V0UHJvdG90eXBlT2YoZ2xvYmFsKTtcbiAgICBhdHRhY2hUbyA9IGF0dGFjaFRvICYmIGF0dGFjaFRvLnNldFRpbWVvdXQgPyBhdHRhY2hUbyA6IGdsb2JhbDtcblxuICAgIC8vIERvbid0IGdldCBmb29sZWQgYnkgZS5nLiBicm93c2VyaWZ5IGVudmlyb25tZW50cy5cbiAgICBpZiAoe30udG9TdHJpbmcuY2FsbChnbG9iYWwucHJvY2VzcykgPT09IFwiW29iamVjdCBwcm9jZXNzXVwiKSB7XG4gICAgICAgIC8vIEZvciBOb2RlLmpzIGJlZm9yZSAwLjlcbiAgICAgICAgaW5zdGFsbE5leHRUaWNrSW1wbGVtZW50YXRpb24oKTtcblxuICAgIH0gZWxzZSBpZiAoY2FuVXNlUG9zdE1lc3NhZ2UoKSkge1xuICAgICAgICAvLyBGb3Igbm9uLUlFMTAgbW9kZXJuIGJyb3dzZXJzXG4gICAgICAgIGluc3RhbGxQb3N0TWVzc2FnZUltcGxlbWVudGF0aW9uKCk7XG5cbiAgICB9IGVsc2UgaWYgKGdsb2JhbC5NZXNzYWdlQ2hhbm5lbCkge1xuICAgICAgICAvLyBGb3Igd2ViIHdvcmtlcnMsIHdoZXJlIHN1cHBvcnRlZFxuICAgICAgICBpbnN0YWxsTWVzc2FnZUNoYW5uZWxJbXBsZW1lbnRhdGlvbigpO1xuXG4gICAgfSBlbHNlIGlmIChkb2MgJiYgXCJvbnJlYWR5c3RhdGVjaGFuZ2VcIiBpbiBkb2MuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKSkge1xuICAgICAgICAvLyBGb3IgSUUgNuKAkzhcbiAgICAgICAgaW5zdGFsbFJlYWR5U3RhdGVDaGFuZ2VJbXBsZW1lbnRhdGlvbigpO1xuXG4gICAgfSBlbHNlIHtcbiAgICAgICAgLy8gRm9yIG9sZGVyIGJyb3dzZXJzXG4gICAgICAgIGluc3RhbGxTZXRUaW1lb3V0SW1wbGVtZW50YXRpb24oKTtcbiAgICB9XG5cbiAgICBhdHRhY2hUby5zZXRJbW1lZGlhdGUgPSBzZXRJbW1lZGlhdGU7XG4gICAgYXR0YWNoVG8uY2xlYXJJbW1lZGlhdGUgPSBjbGVhckltbWVkaWF0ZTtcbn0odHlwZW9mIHNlbGYgPT09IFwidW5kZWZpbmVkXCIgPyB0eXBlb2YgZ2xvYmFsID09PSBcInVuZGVmaW5lZFwiID8gdGhpcyA6IGdsb2JhbCA6IHNlbGYpKTtcbiIsIi8vIHNoaW0gZm9yIHVzaW5nIHByb2Nlc3MgaW4gYnJvd3NlclxudmFyIHByb2Nlc3MgPSBtb2R1bGUuZXhwb3J0cyA9IHt9O1xuXG4vLyBjYWNoZWQgZnJvbSB3aGF0ZXZlciBnbG9iYWwgaXMgcHJlc2VudCBzbyB0aGF0IHRlc3QgcnVubmVycyB0aGF0IHN0dWIgaXRcbi8vIGRvbid0IGJyZWFrIHRoaW5ncy4gIEJ1dCB3ZSBuZWVkIHRvIHdyYXAgaXQgaW4gYSB0cnkgY2F0Y2ggaW4gY2FzZSBpdCBpc1xuLy8gd3JhcHBlZCBpbiBzdHJpY3QgbW9kZSBjb2RlIHdoaWNoIGRvZXNuJ3QgZGVmaW5lIGFueSBnbG9iYWxzLiAgSXQncyBpbnNpZGUgYVxuLy8gZnVuY3Rpb24gYmVjYXVzZSB0cnkvY2F0Y2hlcyBkZW9wdGltaXplIGluIGNlcnRhaW4gZW5naW5lcy5cblxudmFyIGNhY2hlZFNldFRpbWVvdXQ7XG52YXIgY2FjaGVkQ2xlYXJUaW1lb3V0O1xuXG5mdW5jdGlvbiBkZWZhdWx0U2V0VGltb3V0KCkge1xuICAgIHRocm93IG5ldyBFcnJvcignc2V0VGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xufVxuZnVuY3Rpb24gZGVmYXVsdENsZWFyVGltZW91dCAoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdjbGVhclRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbihmdW5jdGlvbiAoKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBzZXRUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBjbGVhclRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgfVxufSAoKSlcbmZ1bmN0aW9uIHJ1blRpbWVvdXQoZnVuKSB7XG4gICAgaWYgKGNhY2hlZFNldFRpbWVvdXQgPT09IHNldFRpbWVvdXQpIHtcbiAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfVxuICAgIC8vIGlmIHNldFRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRTZXRUaW1lb3V0ID09PSBkZWZhdWx0U2V0VGltb3V0IHx8ICFjYWNoZWRTZXRUaW1lb3V0KSAmJiBzZXRUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfSBjYXRjaChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbChudWxsLCBmdW4sIDApO1xuICAgICAgICB9IGNhdGNoKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3JcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwodGhpcywgZnVuLCAwKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG59XG5mdW5jdGlvbiBydW5DbGVhclRpbWVvdXQobWFya2VyKSB7XG4gICAgaWYgKGNhY2hlZENsZWFyVGltZW91dCA9PT0gY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIC8vIGlmIGNsZWFyVGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcbiAgICBpZiAoKGNhY2hlZENsZWFyVGltZW91dCA9PT0gZGVmYXVsdENsZWFyVGltZW91dCB8fCAhY2FjaGVkQ2xlYXJUaW1lb3V0KSAmJiBjbGVhclRpbWVvdXQpIHtcbiAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3NcbiAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0ICB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKG51bGwsIG1hcmtlcik7XG4gICAgICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3IuXG4gICAgICAgICAgICAvLyBTb21lIHZlcnNpb25zIG9mIEkuRS4gaGF2ZSBkaWZmZXJlbnQgcnVsZXMgZm9yIGNsZWFyVGltZW91dCB2cyBzZXRUaW1lb3V0XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwodGhpcywgbWFya2VyKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG5cbn1cbnZhciBxdWV1ZSA9IFtdO1xudmFyIGRyYWluaW5nID0gZmFsc2U7XG52YXIgY3VycmVudFF1ZXVlO1xudmFyIHF1ZXVlSW5kZXggPSAtMTtcblxuZnVuY3Rpb24gY2xlYW5VcE5leHRUaWNrKCkge1xuICAgIGlmICghZHJhaW5pbmcgfHwgIWN1cnJlbnRRdWV1ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgaWYgKGN1cnJlbnRRdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgcXVldWUgPSBjdXJyZW50UXVldWUuY29uY2F0KHF1ZXVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgfVxuICAgIGlmIChxdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgZHJhaW5RdWV1ZSgpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZHJhaW5RdWV1ZSgpIHtcbiAgICBpZiAoZHJhaW5pbmcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgdGltZW91dCA9IHJ1blRpbWVvdXQoY2xlYW5VcE5leHRUaWNrKTtcbiAgICBkcmFpbmluZyA9IHRydWU7XG5cbiAgICB2YXIgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIHdoaWxlKGxlbikge1xuICAgICAgICBjdXJyZW50UXVldWUgPSBxdWV1ZTtcbiAgICAgICAgcXVldWUgPSBbXTtcbiAgICAgICAgd2hpbGUgKCsrcXVldWVJbmRleCA8IGxlbikge1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRRdWV1ZSkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRRdWV1ZVtxdWV1ZUluZGV4XS5ydW4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgICAgIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB9XG4gICAgY3VycmVudFF1ZXVlID0gbnVsbDtcbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIHJ1bkNsZWFyVGltZW91dCh0aW1lb3V0KTtcbn1cblxucHJvY2Vzcy5uZXh0VGljayA9IGZ1bmN0aW9uIChmdW4pIHtcbiAgICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoIC0gMSk7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBxdWV1ZS5wdXNoKG5ldyBJdGVtKGZ1biwgYXJncykpO1xuICAgIGlmIChxdWV1ZS5sZW5ndGggPT09IDEgJiYgIWRyYWluaW5nKSB7XG4gICAgICAgIHJ1blRpbWVvdXQoZHJhaW5RdWV1ZSk7XG4gICAgfVxufTtcblxuLy8gdjggbGlrZXMgcHJlZGljdGlibGUgb2JqZWN0c1xuZnVuY3Rpb24gSXRlbShmdW4sIGFycmF5KSB7XG4gICAgdGhpcy5mdW4gPSBmdW47XG4gICAgdGhpcy5hcnJheSA9IGFycmF5O1xufVxuSXRlbS5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZnVuLmFwcGx5KG51bGwsIHRoaXMuYXJyYXkpO1xufTtcbnByb2Nlc3MudGl0bGUgPSAnYnJvd3Nlcic7XG5wcm9jZXNzLmJyb3dzZXIgPSB0cnVlO1xucHJvY2Vzcy5lbnYgPSB7fTtcbnByb2Nlc3MuYXJndiA9IFtdO1xucHJvY2Vzcy52ZXJzaW9uID0gJyc7IC8vIGVtcHR5IHN0cmluZyB0byBhdm9pZCByZWdleHAgaXNzdWVzXG5wcm9jZXNzLnZlcnNpb25zID0ge307XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG5wcm9jZXNzLm9uID0gbm9vcDtcbnByb2Nlc3MuYWRkTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5vbmNlID0gbm9vcDtcbnByb2Nlc3Mub2ZmID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBub29wO1xucHJvY2Vzcy5lbWl0ID0gbm9vcDtcbnByb2Nlc3MucHJlcGVuZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucHJlcGVuZE9uY2VMaXN0ZW5lciA9IG5vb3A7XG5cbnByb2Nlc3MubGlzdGVuZXJzID0gZnVuY3Rpb24gKG5hbWUpIHsgcmV0dXJuIFtdIH1cblxucHJvY2Vzcy5iaW5kaW5nID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xuXG5wcm9jZXNzLmN3ZCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuICcvJyB9O1xucHJvY2Vzcy5jaGRpciA9IGZ1bmN0aW9uIChkaXIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcbnByb2Nlc3MudW1hc2sgPSBmdW5jdGlvbigpIHsgcmV0dXJuIDA7IH07XG4iLCIvKiEgaHR0cHM6Ly9tdGhzLmJlL3B1bnljb2RlIHYxLjMuMiBieSBAbWF0aGlhcyAqL1xuOyhmdW5jdGlvbihyb290KSB7XG5cblx0LyoqIERldGVjdCBmcmVlIHZhcmlhYmxlcyAqL1xuXHR2YXIgZnJlZUV4cG9ydHMgPSB0eXBlb2YgZXhwb3J0cyA9PSAnb2JqZWN0JyAmJiBleHBvcnRzICYmXG5cdFx0IWV4cG9ydHMubm9kZVR5cGUgJiYgZXhwb3J0cztcblx0dmFyIGZyZWVNb2R1bGUgPSB0eXBlb2YgbW9kdWxlID09ICdvYmplY3QnICYmIG1vZHVsZSAmJlxuXHRcdCFtb2R1bGUubm9kZVR5cGUgJiYgbW9kdWxlO1xuXHR2YXIgZnJlZUdsb2JhbCA9IHR5cGVvZiBnbG9iYWwgPT0gJ29iamVjdCcgJiYgZ2xvYmFsO1xuXHRpZiAoXG5cdFx0ZnJlZUdsb2JhbC5nbG9iYWwgPT09IGZyZWVHbG9iYWwgfHxcblx0XHRmcmVlR2xvYmFsLndpbmRvdyA9PT0gZnJlZUdsb2JhbCB8fFxuXHRcdGZyZWVHbG9iYWwuc2VsZiA9PT0gZnJlZUdsb2JhbFxuXHQpIHtcblx0XHRyb290ID0gZnJlZUdsb2JhbDtcblx0fVxuXG5cdC8qKlxuXHQgKiBUaGUgYHB1bnljb2RlYCBvYmplY3QuXG5cdCAqIEBuYW1lIHB1bnljb2RlXG5cdCAqIEB0eXBlIE9iamVjdFxuXHQgKi9cblx0dmFyIHB1bnljb2RlLFxuXG5cdC8qKiBIaWdoZXN0IHBvc2l0aXZlIHNpZ25lZCAzMi1iaXQgZmxvYXQgdmFsdWUgKi9cblx0bWF4SW50ID0gMjE0NzQ4MzY0NywgLy8gYWthLiAweDdGRkZGRkZGIG9yIDJeMzEtMVxuXG5cdC8qKiBCb290c3RyaW5nIHBhcmFtZXRlcnMgKi9cblx0YmFzZSA9IDM2LFxuXHR0TWluID0gMSxcblx0dE1heCA9IDI2LFxuXHRza2V3ID0gMzgsXG5cdGRhbXAgPSA3MDAsXG5cdGluaXRpYWxCaWFzID0gNzIsXG5cdGluaXRpYWxOID0gMTI4LCAvLyAweDgwXG5cdGRlbGltaXRlciA9ICctJywgLy8gJ1xceDJEJ1xuXG5cdC8qKiBSZWd1bGFyIGV4cHJlc3Npb25zICovXG5cdHJlZ2V4UHVueWNvZGUgPSAvXnhuLS0vLFxuXHRyZWdleE5vbkFTQ0lJID0gL1teXFx4MjAtXFx4N0VdLywgLy8gdW5wcmludGFibGUgQVNDSUkgY2hhcnMgKyBub24tQVNDSUkgY2hhcnNcblx0cmVnZXhTZXBhcmF0b3JzID0gL1tcXHgyRVxcdTMwMDJcXHVGRjBFXFx1RkY2MV0vZywgLy8gUkZDIDM0OTAgc2VwYXJhdG9yc1xuXG5cdC8qKiBFcnJvciBtZXNzYWdlcyAqL1xuXHRlcnJvcnMgPSB7XG5cdFx0J292ZXJmbG93JzogJ092ZXJmbG93OiBpbnB1dCBuZWVkcyB3aWRlciBpbnRlZ2VycyB0byBwcm9jZXNzJyxcblx0XHQnbm90LWJhc2ljJzogJ0lsbGVnYWwgaW5wdXQgPj0gMHg4MCAobm90IGEgYmFzaWMgY29kZSBwb2ludCknLFxuXHRcdCdpbnZhbGlkLWlucHV0JzogJ0ludmFsaWQgaW5wdXQnXG5cdH0sXG5cblx0LyoqIENvbnZlbmllbmNlIHNob3J0Y3V0cyAqL1xuXHRiYXNlTWludXNUTWluID0gYmFzZSAtIHRNaW4sXG5cdGZsb29yID0gTWF0aC5mbG9vcixcblx0c3RyaW5nRnJvbUNoYXJDb2RlID0gU3RyaW5nLmZyb21DaGFyQ29kZSxcblxuXHQvKiogVGVtcG9yYXJ5IHZhcmlhYmxlICovXG5cdGtleTtcblxuXHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHQvKipcblx0ICogQSBnZW5lcmljIGVycm9yIHV0aWxpdHkgZnVuY3Rpb24uXG5cdCAqIEBwcml2YXRlXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlIFRoZSBlcnJvciB0eXBlLlxuXHQgKiBAcmV0dXJucyB7RXJyb3J9IFRocm93cyBhIGBSYW5nZUVycm9yYCB3aXRoIHRoZSBhcHBsaWNhYmxlIGVycm9yIG1lc3NhZ2UuXG5cdCAqL1xuXHRmdW5jdGlvbiBlcnJvcih0eXBlKSB7XG5cdFx0dGhyb3cgUmFuZ2VFcnJvcihlcnJvcnNbdHlwZV0pO1xuXHR9XG5cblx0LyoqXG5cdCAqIEEgZ2VuZXJpYyBgQXJyYXkjbWFwYCB1dGlsaXR5IGZ1bmN0aW9uLlxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuXHQgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBUaGUgZnVuY3Rpb24gdGhhdCBnZXRzIGNhbGxlZCBmb3IgZXZlcnkgYXJyYXlcblx0ICogaXRlbS5cblx0ICogQHJldHVybnMge0FycmF5fSBBIG5ldyBhcnJheSBvZiB2YWx1ZXMgcmV0dXJuZWQgYnkgdGhlIGNhbGxiYWNrIGZ1bmN0aW9uLlxuXHQgKi9cblx0ZnVuY3Rpb24gbWFwKGFycmF5LCBmbikge1xuXHRcdHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG5cdFx0dmFyIHJlc3VsdCA9IFtdO1xuXHRcdHdoaWxlIChsZW5ndGgtLSkge1xuXHRcdFx0cmVzdWx0W2xlbmd0aF0gPSBmbihhcnJheVtsZW5ndGhdKTtcblx0XHR9XG5cdFx0cmV0dXJuIHJlc3VsdDtcblx0fVxuXG5cdC8qKlxuXHQgKiBBIHNpbXBsZSBgQXJyYXkjbWFwYC1saWtlIHdyYXBwZXIgdG8gd29yayB3aXRoIGRvbWFpbiBuYW1lIHN0cmluZ3Mgb3IgZW1haWxcblx0ICogYWRkcmVzc2VzLlxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAcGFyYW0ge1N0cmluZ30gZG9tYWluIFRoZSBkb21haW4gbmFtZSBvciBlbWFpbCBhZGRyZXNzLlxuXHQgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBUaGUgZnVuY3Rpb24gdGhhdCBnZXRzIGNhbGxlZCBmb3IgZXZlcnlcblx0ICogY2hhcmFjdGVyLlxuXHQgKiBAcmV0dXJucyB7QXJyYXl9IEEgbmV3IHN0cmluZyBvZiBjaGFyYWN0ZXJzIHJldHVybmVkIGJ5IHRoZSBjYWxsYmFja1xuXHQgKiBmdW5jdGlvbi5cblx0ICovXG5cdGZ1bmN0aW9uIG1hcERvbWFpbihzdHJpbmcsIGZuKSB7XG5cdFx0dmFyIHBhcnRzID0gc3RyaW5nLnNwbGl0KCdAJyk7XG5cdFx0dmFyIHJlc3VsdCA9ICcnO1xuXHRcdGlmIChwYXJ0cy5sZW5ndGggPiAxKSB7XG5cdFx0XHQvLyBJbiBlbWFpbCBhZGRyZXNzZXMsIG9ubHkgdGhlIGRvbWFpbiBuYW1lIHNob3VsZCBiZSBwdW55Y29kZWQuIExlYXZlXG5cdFx0XHQvLyB0aGUgbG9jYWwgcGFydCAoaS5lLiBldmVyeXRoaW5nIHVwIHRvIGBAYCkgaW50YWN0LlxuXHRcdFx0cmVzdWx0ID0gcGFydHNbMF0gKyAnQCc7XG5cdFx0XHRzdHJpbmcgPSBwYXJ0c1sxXTtcblx0XHR9XG5cdFx0Ly8gQXZvaWQgYHNwbGl0KHJlZ2V4KWAgZm9yIElFOCBjb21wYXRpYmlsaXR5LiBTZWUgIzE3LlxuXHRcdHN0cmluZyA9IHN0cmluZy5yZXBsYWNlKHJlZ2V4U2VwYXJhdG9ycywgJ1xceDJFJyk7XG5cdFx0dmFyIGxhYmVscyA9IHN0cmluZy5zcGxpdCgnLicpO1xuXHRcdHZhciBlbmNvZGVkID0gbWFwKGxhYmVscywgZm4pLmpvaW4oJy4nKTtcblx0XHRyZXR1cm4gcmVzdWx0ICsgZW5jb2RlZDtcblx0fVxuXG5cdC8qKlxuXHQgKiBDcmVhdGVzIGFuIGFycmF5IGNvbnRhaW5pbmcgdGhlIG51bWVyaWMgY29kZSBwb2ludHMgb2YgZWFjaCBVbmljb2RlXG5cdCAqIGNoYXJhY3RlciBpbiB0aGUgc3RyaW5nLiBXaGlsZSBKYXZhU2NyaXB0IHVzZXMgVUNTLTIgaW50ZXJuYWxseSxcblx0ICogdGhpcyBmdW5jdGlvbiB3aWxsIGNvbnZlcnQgYSBwYWlyIG9mIHN1cnJvZ2F0ZSBoYWx2ZXMgKGVhY2ggb2Ygd2hpY2hcblx0ICogVUNTLTIgZXhwb3NlcyBhcyBzZXBhcmF0ZSBjaGFyYWN0ZXJzKSBpbnRvIGEgc2luZ2xlIGNvZGUgcG9pbnQsXG5cdCAqIG1hdGNoaW5nIFVURi0xNi5cblx0ICogQHNlZSBgcHVueWNvZGUudWNzMi5lbmNvZGVgXG5cdCAqIEBzZWUgPGh0dHBzOi8vbWF0aGlhc2J5bmVucy5iZS9ub3Rlcy9qYXZhc2NyaXB0LWVuY29kaW5nPlxuXHQgKiBAbWVtYmVyT2YgcHVueWNvZGUudWNzMlxuXHQgKiBAbmFtZSBkZWNvZGVcblx0ICogQHBhcmFtIHtTdHJpbmd9IHN0cmluZyBUaGUgVW5pY29kZSBpbnB1dCBzdHJpbmcgKFVDUy0yKS5cblx0ICogQHJldHVybnMge0FycmF5fSBUaGUgbmV3IGFycmF5IG9mIGNvZGUgcG9pbnRzLlxuXHQgKi9cblx0ZnVuY3Rpb24gdWNzMmRlY29kZShzdHJpbmcpIHtcblx0XHR2YXIgb3V0cHV0ID0gW10sXG5cdFx0ICAgIGNvdW50ZXIgPSAwLFxuXHRcdCAgICBsZW5ndGggPSBzdHJpbmcubGVuZ3RoLFxuXHRcdCAgICB2YWx1ZSxcblx0XHQgICAgZXh0cmE7XG5cdFx0d2hpbGUgKGNvdW50ZXIgPCBsZW5ndGgpIHtcblx0XHRcdHZhbHVlID0gc3RyaW5nLmNoYXJDb2RlQXQoY291bnRlcisrKTtcblx0XHRcdGlmICh2YWx1ZSA+PSAweEQ4MDAgJiYgdmFsdWUgPD0gMHhEQkZGICYmIGNvdW50ZXIgPCBsZW5ndGgpIHtcblx0XHRcdFx0Ly8gaGlnaCBzdXJyb2dhdGUsIGFuZCB0aGVyZSBpcyBhIG5leHQgY2hhcmFjdGVyXG5cdFx0XHRcdGV4dHJhID0gc3RyaW5nLmNoYXJDb2RlQXQoY291bnRlcisrKTtcblx0XHRcdFx0aWYgKChleHRyYSAmIDB4RkMwMCkgPT0gMHhEQzAwKSB7IC8vIGxvdyBzdXJyb2dhdGVcblx0XHRcdFx0XHRvdXRwdXQucHVzaCgoKHZhbHVlICYgMHgzRkYpIDw8IDEwKSArIChleHRyYSAmIDB4M0ZGKSArIDB4MTAwMDApO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdC8vIHVubWF0Y2hlZCBzdXJyb2dhdGU7IG9ubHkgYXBwZW5kIHRoaXMgY29kZSB1bml0LCBpbiBjYXNlIHRoZSBuZXh0XG5cdFx0XHRcdFx0Ly8gY29kZSB1bml0IGlzIHRoZSBoaWdoIHN1cnJvZ2F0ZSBvZiBhIHN1cnJvZ2F0ZSBwYWlyXG5cdFx0XHRcdFx0b3V0cHV0LnB1c2godmFsdWUpO1xuXHRcdFx0XHRcdGNvdW50ZXItLTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0b3V0cHV0LnB1c2godmFsdWUpO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRyZXR1cm4gb3V0cHV0O1xuXHR9XG5cblx0LyoqXG5cdCAqIENyZWF0ZXMgYSBzdHJpbmcgYmFzZWQgb24gYW4gYXJyYXkgb2YgbnVtZXJpYyBjb2RlIHBvaW50cy5cblx0ICogQHNlZSBgcHVueWNvZGUudWNzMi5kZWNvZGVgXG5cdCAqIEBtZW1iZXJPZiBwdW55Y29kZS51Y3MyXG5cdCAqIEBuYW1lIGVuY29kZVxuXHQgKiBAcGFyYW0ge0FycmF5fSBjb2RlUG9pbnRzIFRoZSBhcnJheSBvZiBudW1lcmljIGNvZGUgcG9pbnRzLlxuXHQgKiBAcmV0dXJucyB7U3RyaW5nfSBUaGUgbmV3IFVuaWNvZGUgc3RyaW5nIChVQ1MtMikuXG5cdCAqL1xuXHRmdW5jdGlvbiB1Y3MyZW5jb2RlKGFycmF5KSB7XG5cdFx0cmV0dXJuIG1hcChhcnJheSwgZnVuY3Rpb24odmFsdWUpIHtcblx0XHRcdHZhciBvdXRwdXQgPSAnJztcblx0XHRcdGlmICh2YWx1ZSA+IDB4RkZGRikge1xuXHRcdFx0XHR2YWx1ZSAtPSAweDEwMDAwO1xuXHRcdFx0XHRvdXRwdXQgKz0gc3RyaW5nRnJvbUNoYXJDb2RlKHZhbHVlID4+PiAxMCAmIDB4M0ZGIHwgMHhEODAwKTtcblx0XHRcdFx0dmFsdWUgPSAweERDMDAgfCB2YWx1ZSAmIDB4M0ZGO1xuXHRcdFx0fVxuXHRcdFx0b3V0cHV0ICs9IHN0cmluZ0Zyb21DaGFyQ29kZSh2YWx1ZSk7XG5cdFx0XHRyZXR1cm4gb3V0cHV0O1xuXHRcdH0pLmpvaW4oJycpO1xuXHR9XG5cblx0LyoqXG5cdCAqIENvbnZlcnRzIGEgYmFzaWMgY29kZSBwb2ludCBpbnRvIGEgZGlnaXQvaW50ZWdlci5cblx0ICogQHNlZSBgZGlnaXRUb0Jhc2ljKClgXG5cdCAqIEBwcml2YXRlXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBjb2RlUG9pbnQgVGhlIGJhc2ljIG51bWVyaWMgY29kZSBwb2ludCB2YWx1ZS5cblx0ICogQHJldHVybnMge051bWJlcn0gVGhlIG51bWVyaWMgdmFsdWUgb2YgYSBiYXNpYyBjb2RlIHBvaW50IChmb3IgdXNlIGluXG5cdCAqIHJlcHJlc2VudGluZyBpbnRlZ2VycykgaW4gdGhlIHJhbmdlIGAwYCB0byBgYmFzZSAtIDFgLCBvciBgYmFzZWAgaWZcblx0ICogdGhlIGNvZGUgcG9pbnQgZG9lcyBub3QgcmVwcmVzZW50IGEgdmFsdWUuXG5cdCAqL1xuXHRmdW5jdGlvbiBiYXNpY1RvRGlnaXQoY29kZVBvaW50KSB7XG5cdFx0aWYgKGNvZGVQb2ludCAtIDQ4IDwgMTApIHtcblx0XHRcdHJldHVybiBjb2RlUG9pbnQgLSAyMjtcblx0XHR9XG5cdFx0aWYgKGNvZGVQb2ludCAtIDY1IDwgMjYpIHtcblx0XHRcdHJldHVybiBjb2RlUG9pbnQgLSA2NTtcblx0XHR9XG5cdFx0aWYgKGNvZGVQb2ludCAtIDk3IDwgMjYpIHtcblx0XHRcdHJldHVybiBjb2RlUG9pbnQgLSA5Nztcblx0XHR9XG5cdFx0cmV0dXJuIGJhc2U7XG5cdH1cblxuXHQvKipcblx0ICogQ29udmVydHMgYSBkaWdpdC9pbnRlZ2VyIGludG8gYSBiYXNpYyBjb2RlIHBvaW50LlxuXHQgKiBAc2VlIGBiYXNpY1RvRGlnaXQoKWBcblx0ICogQHByaXZhdGVcblx0ICogQHBhcmFtIHtOdW1iZXJ9IGRpZ2l0IFRoZSBudW1lcmljIHZhbHVlIG9mIGEgYmFzaWMgY29kZSBwb2ludC5cblx0ICogQHJldHVybnMge051bWJlcn0gVGhlIGJhc2ljIGNvZGUgcG9pbnQgd2hvc2UgdmFsdWUgKHdoZW4gdXNlZCBmb3Jcblx0ICogcmVwcmVzZW50aW5nIGludGVnZXJzKSBpcyBgZGlnaXRgLCB3aGljaCBuZWVkcyB0byBiZSBpbiB0aGUgcmFuZ2Vcblx0ICogYDBgIHRvIGBiYXNlIC0gMWAuIElmIGBmbGFnYCBpcyBub24temVybywgdGhlIHVwcGVyY2FzZSBmb3JtIGlzXG5cdCAqIHVzZWQ7IGVsc2UsIHRoZSBsb3dlcmNhc2UgZm9ybSBpcyB1c2VkLiBUaGUgYmVoYXZpb3IgaXMgdW5kZWZpbmVkXG5cdCAqIGlmIGBmbGFnYCBpcyBub24temVybyBhbmQgYGRpZ2l0YCBoYXMgbm8gdXBwZXJjYXNlIGZvcm0uXG5cdCAqL1xuXHRmdW5jdGlvbiBkaWdpdFRvQmFzaWMoZGlnaXQsIGZsYWcpIHtcblx0XHQvLyAgMC4uMjUgbWFwIHRvIEFTQ0lJIGEuLnogb3IgQS4uWlxuXHRcdC8vIDI2Li4zNSBtYXAgdG8gQVNDSUkgMC4uOVxuXHRcdHJldHVybiBkaWdpdCArIDIyICsgNzUgKiAoZGlnaXQgPCAyNikgLSAoKGZsYWcgIT0gMCkgPDwgNSk7XG5cdH1cblxuXHQvKipcblx0ICogQmlhcyBhZGFwdGF0aW9uIGZ1bmN0aW9uIGFzIHBlciBzZWN0aW9uIDMuNCBvZiBSRkMgMzQ5Mi5cblx0ICogaHR0cDovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzQ5MiNzZWN0aW9uLTMuNFxuXHQgKiBAcHJpdmF0ZVxuXHQgKi9cblx0ZnVuY3Rpb24gYWRhcHQoZGVsdGEsIG51bVBvaW50cywgZmlyc3RUaW1lKSB7XG5cdFx0dmFyIGsgPSAwO1xuXHRcdGRlbHRhID0gZmlyc3RUaW1lID8gZmxvb3IoZGVsdGEgLyBkYW1wKSA6IGRlbHRhID4+IDE7XG5cdFx0ZGVsdGEgKz0gZmxvb3IoZGVsdGEgLyBudW1Qb2ludHMpO1xuXHRcdGZvciAoLyogbm8gaW5pdGlhbGl6YXRpb24gKi87IGRlbHRhID4gYmFzZU1pbnVzVE1pbiAqIHRNYXggPj4gMTsgayArPSBiYXNlKSB7XG5cdFx0XHRkZWx0YSA9IGZsb29yKGRlbHRhIC8gYmFzZU1pbnVzVE1pbik7XG5cdFx0fVxuXHRcdHJldHVybiBmbG9vcihrICsgKGJhc2VNaW51c1RNaW4gKyAxKSAqIGRlbHRhIC8gKGRlbHRhICsgc2tldykpO1xuXHR9XG5cblx0LyoqXG5cdCAqIENvbnZlcnRzIGEgUHVueWNvZGUgc3RyaW5nIG9mIEFTQ0lJLW9ubHkgc3ltYm9scyB0byBhIHN0cmluZyBvZiBVbmljb2RlXG5cdCAqIHN5bWJvbHMuXG5cdCAqIEBtZW1iZXJPZiBwdW55Y29kZVxuXHQgKiBAcGFyYW0ge1N0cmluZ30gaW5wdXQgVGhlIFB1bnljb2RlIHN0cmluZyBvZiBBU0NJSS1vbmx5IHN5bWJvbHMuXG5cdCAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSByZXN1bHRpbmcgc3RyaW5nIG9mIFVuaWNvZGUgc3ltYm9scy5cblx0ICovXG5cdGZ1bmN0aW9uIGRlY29kZShpbnB1dCkge1xuXHRcdC8vIERvbid0IHVzZSBVQ1MtMlxuXHRcdHZhciBvdXRwdXQgPSBbXSxcblx0XHQgICAgaW5wdXRMZW5ndGggPSBpbnB1dC5sZW5ndGgsXG5cdFx0ICAgIG91dCxcblx0XHQgICAgaSA9IDAsXG5cdFx0ICAgIG4gPSBpbml0aWFsTixcblx0XHQgICAgYmlhcyA9IGluaXRpYWxCaWFzLFxuXHRcdCAgICBiYXNpYyxcblx0XHQgICAgaixcblx0XHQgICAgaW5kZXgsXG5cdFx0ICAgIG9sZGksXG5cdFx0ICAgIHcsXG5cdFx0ICAgIGssXG5cdFx0ICAgIGRpZ2l0LFxuXHRcdCAgICB0LFxuXHRcdCAgICAvKiogQ2FjaGVkIGNhbGN1bGF0aW9uIHJlc3VsdHMgKi9cblx0XHQgICAgYmFzZU1pbnVzVDtcblxuXHRcdC8vIEhhbmRsZSB0aGUgYmFzaWMgY29kZSBwb2ludHM6IGxldCBgYmFzaWNgIGJlIHRoZSBudW1iZXIgb2YgaW5wdXQgY29kZVxuXHRcdC8vIHBvaW50cyBiZWZvcmUgdGhlIGxhc3QgZGVsaW1pdGVyLCBvciBgMGAgaWYgdGhlcmUgaXMgbm9uZSwgdGhlbiBjb3B5XG5cdFx0Ly8gdGhlIGZpcnN0IGJhc2ljIGNvZGUgcG9pbnRzIHRvIHRoZSBvdXRwdXQuXG5cblx0XHRiYXNpYyA9IGlucHV0Lmxhc3RJbmRleE9mKGRlbGltaXRlcik7XG5cdFx0aWYgKGJhc2ljIDwgMCkge1xuXHRcdFx0YmFzaWMgPSAwO1xuXHRcdH1cblxuXHRcdGZvciAoaiA9IDA7IGogPCBiYXNpYzsgKytqKSB7XG5cdFx0XHQvLyBpZiBpdCdzIG5vdCBhIGJhc2ljIGNvZGUgcG9pbnRcblx0XHRcdGlmIChpbnB1dC5jaGFyQ29kZUF0KGopID49IDB4ODApIHtcblx0XHRcdFx0ZXJyb3IoJ25vdC1iYXNpYycpO1xuXHRcdFx0fVxuXHRcdFx0b3V0cHV0LnB1c2goaW5wdXQuY2hhckNvZGVBdChqKSk7XG5cdFx0fVxuXG5cdFx0Ly8gTWFpbiBkZWNvZGluZyBsb29wOiBzdGFydCBqdXN0IGFmdGVyIHRoZSBsYXN0IGRlbGltaXRlciBpZiBhbnkgYmFzaWMgY29kZVxuXHRcdC8vIHBvaW50cyB3ZXJlIGNvcGllZDsgc3RhcnQgYXQgdGhlIGJlZ2lubmluZyBvdGhlcndpc2UuXG5cblx0XHRmb3IgKGluZGV4ID0gYmFzaWMgPiAwID8gYmFzaWMgKyAxIDogMDsgaW5kZXggPCBpbnB1dExlbmd0aDsgLyogbm8gZmluYWwgZXhwcmVzc2lvbiAqLykge1xuXG5cdFx0XHQvLyBgaW5kZXhgIGlzIHRoZSBpbmRleCBvZiB0aGUgbmV4dCBjaGFyYWN0ZXIgdG8gYmUgY29uc3VtZWQuXG5cdFx0XHQvLyBEZWNvZGUgYSBnZW5lcmFsaXplZCB2YXJpYWJsZS1sZW5ndGggaW50ZWdlciBpbnRvIGBkZWx0YWAsXG5cdFx0XHQvLyB3aGljaCBnZXRzIGFkZGVkIHRvIGBpYC4gVGhlIG92ZXJmbG93IGNoZWNraW5nIGlzIGVhc2llclxuXHRcdFx0Ly8gaWYgd2UgaW5jcmVhc2UgYGlgIGFzIHdlIGdvLCB0aGVuIHN1YnRyYWN0IG9mZiBpdHMgc3RhcnRpbmdcblx0XHRcdC8vIHZhbHVlIGF0IHRoZSBlbmQgdG8gb2J0YWluIGBkZWx0YWAuXG5cdFx0XHRmb3IgKG9sZGkgPSBpLCB3ID0gMSwgayA9IGJhc2U7IC8qIG5vIGNvbmRpdGlvbiAqLzsgayArPSBiYXNlKSB7XG5cblx0XHRcdFx0aWYgKGluZGV4ID49IGlucHV0TGVuZ3RoKSB7XG5cdFx0XHRcdFx0ZXJyb3IoJ2ludmFsaWQtaW5wdXQnKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGRpZ2l0ID0gYmFzaWNUb0RpZ2l0KGlucHV0LmNoYXJDb2RlQXQoaW5kZXgrKykpO1xuXG5cdFx0XHRcdGlmIChkaWdpdCA+PSBiYXNlIHx8IGRpZ2l0ID4gZmxvb3IoKG1heEludCAtIGkpIC8gdykpIHtcblx0XHRcdFx0XHRlcnJvcignb3ZlcmZsb3cnKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGkgKz0gZGlnaXQgKiB3O1xuXHRcdFx0XHR0ID0gayA8PSBiaWFzID8gdE1pbiA6IChrID49IGJpYXMgKyB0TWF4ID8gdE1heCA6IGsgLSBiaWFzKTtcblxuXHRcdFx0XHRpZiAoZGlnaXQgPCB0KSB7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRiYXNlTWludXNUID0gYmFzZSAtIHQ7XG5cdFx0XHRcdGlmICh3ID4gZmxvb3IobWF4SW50IC8gYmFzZU1pbnVzVCkpIHtcblx0XHRcdFx0XHRlcnJvcignb3ZlcmZsb3cnKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHcgKj0gYmFzZU1pbnVzVDtcblxuXHRcdFx0fVxuXG5cdFx0XHRvdXQgPSBvdXRwdXQubGVuZ3RoICsgMTtcblx0XHRcdGJpYXMgPSBhZGFwdChpIC0gb2xkaSwgb3V0LCBvbGRpID09IDApO1xuXG5cdFx0XHQvLyBgaWAgd2FzIHN1cHBvc2VkIHRvIHdyYXAgYXJvdW5kIGZyb20gYG91dGAgdG8gYDBgLFxuXHRcdFx0Ly8gaW5jcmVtZW50aW5nIGBuYCBlYWNoIHRpbWUsIHNvIHdlJ2xsIGZpeCB0aGF0IG5vdzpcblx0XHRcdGlmIChmbG9vcihpIC8gb3V0KSA+IG1heEludCAtIG4pIHtcblx0XHRcdFx0ZXJyb3IoJ292ZXJmbG93Jyk7XG5cdFx0XHR9XG5cblx0XHRcdG4gKz0gZmxvb3IoaSAvIG91dCk7XG5cdFx0XHRpICU9IG91dDtcblxuXHRcdFx0Ly8gSW5zZXJ0IGBuYCBhdCBwb3NpdGlvbiBgaWAgb2YgdGhlIG91dHB1dFxuXHRcdFx0b3V0cHV0LnNwbGljZShpKyssIDAsIG4pO1xuXG5cdFx0fVxuXG5cdFx0cmV0dXJuIHVjczJlbmNvZGUob3V0cHV0KTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDb252ZXJ0cyBhIHN0cmluZyBvZiBVbmljb2RlIHN5bWJvbHMgKGUuZy4gYSBkb21haW4gbmFtZSBsYWJlbCkgdG8gYVxuXHQgKiBQdW55Y29kZSBzdHJpbmcgb2YgQVNDSUktb25seSBzeW1ib2xzLlxuXHQgKiBAbWVtYmVyT2YgcHVueWNvZGVcblx0ICogQHBhcmFtIHtTdHJpbmd9IGlucHV0IFRoZSBzdHJpbmcgb2YgVW5pY29kZSBzeW1ib2xzLlxuXHQgKiBAcmV0dXJucyB7U3RyaW5nfSBUaGUgcmVzdWx0aW5nIFB1bnljb2RlIHN0cmluZyBvZiBBU0NJSS1vbmx5IHN5bWJvbHMuXG5cdCAqL1xuXHRmdW5jdGlvbiBlbmNvZGUoaW5wdXQpIHtcblx0XHR2YXIgbixcblx0XHQgICAgZGVsdGEsXG5cdFx0ICAgIGhhbmRsZWRDUENvdW50LFxuXHRcdCAgICBiYXNpY0xlbmd0aCxcblx0XHQgICAgYmlhcyxcblx0XHQgICAgaixcblx0XHQgICAgbSxcblx0XHQgICAgcSxcblx0XHQgICAgayxcblx0XHQgICAgdCxcblx0XHQgICAgY3VycmVudFZhbHVlLFxuXHRcdCAgICBvdXRwdXQgPSBbXSxcblx0XHQgICAgLyoqIGBpbnB1dExlbmd0aGAgd2lsbCBob2xkIHRoZSBudW1iZXIgb2YgY29kZSBwb2ludHMgaW4gYGlucHV0YC4gKi9cblx0XHQgICAgaW5wdXRMZW5ndGgsXG5cdFx0ICAgIC8qKiBDYWNoZWQgY2FsY3VsYXRpb24gcmVzdWx0cyAqL1xuXHRcdCAgICBoYW5kbGVkQ1BDb3VudFBsdXNPbmUsXG5cdFx0ICAgIGJhc2VNaW51c1QsXG5cdFx0ICAgIHFNaW51c1Q7XG5cblx0XHQvLyBDb252ZXJ0IHRoZSBpbnB1dCBpbiBVQ1MtMiB0byBVbmljb2RlXG5cdFx0aW5wdXQgPSB1Y3MyZGVjb2RlKGlucHV0KTtcblxuXHRcdC8vIENhY2hlIHRoZSBsZW5ndGhcblx0XHRpbnB1dExlbmd0aCA9IGlucHV0Lmxlbmd0aDtcblxuXHRcdC8vIEluaXRpYWxpemUgdGhlIHN0YXRlXG5cdFx0biA9IGluaXRpYWxOO1xuXHRcdGRlbHRhID0gMDtcblx0XHRiaWFzID0gaW5pdGlhbEJpYXM7XG5cblx0XHQvLyBIYW5kbGUgdGhlIGJhc2ljIGNvZGUgcG9pbnRzXG5cdFx0Zm9yIChqID0gMDsgaiA8IGlucHV0TGVuZ3RoOyArK2opIHtcblx0XHRcdGN1cnJlbnRWYWx1ZSA9IGlucHV0W2pdO1xuXHRcdFx0aWYgKGN1cnJlbnRWYWx1ZSA8IDB4ODApIHtcblx0XHRcdFx0b3V0cHV0LnB1c2goc3RyaW5nRnJvbUNoYXJDb2RlKGN1cnJlbnRWYWx1ZSkpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGhhbmRsZWRDUENvdW50ID0gYmFzaWNMZW5ndGggPSBvdXRwdXQubGVuZ3RoO1xuXG5cdFx0Ly8gYGhhbmRsZWRDUENvdW50YCBpcyB0aGUgbnVtYmVyIG9mIGNvZGUgcG9pbnRzIHRoYXQgaGF2ZSBiZWVuIGhhbmRsZWQ7XG5cdFx0Ly8gYGJhc2ljTGVuZ3RoYCBpcyB0aGUgbnVtYmVyIG9mIGJhc2ljIGNvZGUgcG9pbnRzLlxuXG5cdFx0Ly8gRmluaXNoIHRoZSBiYXNpYyBzdHJpbmcgLSBpZiBpdCBpcyBub3QgZW1wdHkgLSB3aXRoIGEgZGVsaW1pdGVyXG5cdFx0aWYgKGJhc2ljTGVuZ3RoKSB7XG5cdFx0XHRvdXRwdXQucHVzaChkZWxpbWl0ZXIpO1xuXHRcdH1cblxuXHRcdC8vIE1haW4gZW5jb2RpbmcgbG9vcDpcblx0XHR3aGlsZSAoaGFuZGxlZENQQ291bnQgPCBpbnB1dExlbmd0aCkge1xuXG5cdFx0XHQvLyBBbGwgbm9uLWJhc2ljIGNvZGUgcG9pbnRzIDwgbiBoYXZlIGJlZW4gaGFuZGxlZCBhbHJlYWR5LiBGaW5kIHRoZSBuZXh0XG5cdFx0XHQvLyBsYXJnZXIgb25lOlxuXHRcdFx0Zm9yIChtID0gbWF4SW50LCBqID0gMDsgaiA8IGlucHV0TGVuZ3RoOyArK2opIHtcblx0XHRcdFx0Y3VycmVudFZhbHVlID0gaW5wdXRbal07XG5cdFx0XHRcdGlmIChjdXJyZW50VmFsdWUgPj0gbiAmJiBjdXJyZW50VmFsdWUgPCBtKSB7XG5cdFx0XHRcdFx0bSA9IGN1cnJlbnRWYWx1ZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQvLyBJbmNyZWFzZSBgZGVsdGFgIGVub3VnaCB0byBhZHZhbmNlIHRoZSBkZWNvZGVyJ3MgPG4saT4gc3RhdGUgdG8gPG0sMD4sXG5cdFx0XHQvLyBidXQgZ3VhcmQgYWdhaW5zdCBvdmVyZmxvd1xuXHRcdFx0aGFuZGxlZENQQ291bnRQbHVzT25lID0gaGFuZGxlZENQQ291bnQgKyAxO1xuXHRcdFx0aWYgKG0gLSBuID4gZmxvb3IoKG1heEludCAtIGRlbHRhKSAvIGhhbmRsZWRDUENvdW50UGx1c09uZSkpIHtcblx0XHRcdFx0ZXJyb3IoJ292ZXJmbG93Jyk7XG5cdFx0XHR9XG5cblx0XHRcdGRlbHRhICs9IChtIC0gbikgKiBoYW5kbGVkQ1BDb3VudFBsdXNPbmU7XG5cdFx0XHRuID0gbTtcblxuXHRcdFx0Zm9yIChqID0gMDsgaiA8IGlucHV0TGVuZ3RoOyArK2opIHtcblx0XHRcdFx0Y3VycmVudFZhbHVlID0gaW5wdXRbal07XG5cblx0XHRcdFx0aWYgKGN1cnJlbnRWYWx1ZSA8IG4gJiYgKytkZWx0YSA+IG1heEludCkge1xuXHRcdFx0XHRcdGVycm9yKCdvdmVyZmxvdycpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKGN1cnJlbnRWYWx1ZSA9PSBuKSB7XG5cdFx0XHRcdFx0Ly8gUmVwcmVzZW50IGRlbHRhIGFzIGEgZ2VuZXJhbGl6ZWQgdmFyaWFibGUtbGVuZ3RoIGludGVnZXJcblx0XHRcdFx0XHRmb3IgKHEgPSBkZWx0YSwgayA9IGJhc2U7IC8qIG5vIGNvbmRpdGlvbiAqLzsgayArPSBiYXNlKSB7XG5cdFx0XHRcdFx0XHR0ID0gayA8PSBiaWFzID8gdE1pbiA6IChrID49IGJpYXMgKyB0TWF4ID8gdE1heCA6IGsgLSBiaWFzKTtcblx0XHRcdFx0XHRcdGlmIChxIDwgdCkge1xuXHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdHFNaW51c1QgPSBxIC0gdDtcblx0XHRcdFx0XHRcdGJhc2VNaW51c1QgPSBiYXNlIC0gdDtcblx0XHRcdFx0XHRcdG91dHB1dC5wdXNoKFxuXHRcdFx0XHRcdFx0XHRzdHJpbmdGcm9tQ2hhckNvZGUoZGlnaXRUb0Jhc2ljKHQgKyBxTWludXNUICUgYmFzZU1pbnVzVCwgMCkpXG5cdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdFx0cSA9IGZsb29yKHFNaW51c1QgLyBiYXNlTWludXNUKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRvdXRwdXQucHVzaChzdHJpbmdGcm9tQ2hhckNvZGUoZGlnaXRUb0Jhc2ljKHEsIDApKSk7XG5cdFx0XHRcdFx0YmlhcyA9IGFkYXB0KGRlbHRhLCBoYW5kbGVkQ1BDb3VudFBsdXNPbmUsIGhhbmRsZWRDUENvdW50ID09IGJhc2ljTGVuZ3RoKTtcblx0XHRcdFx0XHRkZWx0YSA9IDA7XG5cdFx0XHRcdFx0KytoYW5kbGVkQ1BDb3VudDtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQrK2RlbHRhO1xuXHRcdFx0KytuO1xuXG5cdFx0fVxuXHRcdHJldHVybiBvdXRwdXQuam9pbignJyk7XG5cdH1cblxuXHQvKipcblx0ICogQ29udmVydHMgYSBQdW55Y29kZSBzdHJpbmcgcmVwcmVzZW50aW5nIGEgZG9tYWluIG5hbWUgb3IgYW4gZW1haWwgYWRkcmVzc1xuXHQgKiB0byBVbmljb2RlLiBPbmx5IHRoZSBQdW55Y29kZWQgcGFydHMgb2YgdGhlIGlucHV0IHdpbGwgYmUgY29udmVydGVkLCBpLmUuXG5cdCAqIGl0IGRvZXNuJ3QgbWF0dGVyIGlmIHlvdSBjYWxsIGl0IG9uIGEgc3RyaW5nIHRoYXQgaGFzIGFscmVhZHkgYmVlblxuXHQgKiBjb252ZXJ0ZWQgdG8gVW5pY29kZS5cblx0ICogQG1lbWJlck9mIHB1bnljb2RlXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBpbnB1dCBUaGUgUHVueWNvZGVkIGRvbWFpbiBuYW1lIG9yIGVtYWlsIGFkZHJlc3MgdG9cblx0ICogY29udmVydCB0byBVbmljb2RlLlxuXHQgKiBAcmV0dXJucyB7U3RyaW5nfSBUaGUgVW5pY29kZSByZXByZXNlbnRhdGlvbiBvZiB0aGUgZ2l2ZW4gUHVueWNvZGVcblx0ICogc3RyaW5nLlxuXHQgKi9cblx0ZnVuY3Rpb24gdG9Vbmljb2RlKGlucHV0KSB7XG5cdFx0cmV0dXJuIG1hcERvbWFpbihpbnB1dCwgZnVuY3Rpb24oc3RyaW5nKSB7XG5cdFx0XHRyZXR1cm4gcmVnZXhQdW55Y29kZS50ZXN0KHN0cmluZylcblx0XHRcdFx0PyBkZWNvZGUoc3RyaW5nLnNsaWNlKDQpLnRvTG93ZXJDYXNlKCkpXG5cdFx0XHRcdDogc3RyaW5nO1xuXHRcdH0pO1xuXHR9XG5cblx0LyoqXG5cdCAqIENvbnZlcnRzIGEgVW5pY29kZSBzdHJpbmcgcmVwcmVzZW50aW5nIGEgZG9tYWluIG5hbWUgb3IgYW4gZW1haWwgYWRkcmVzcyB0b1xuXHQgKiBQdW55Y29kZS4gT25seSB0aGUgbm9uLUFTQ0lJIHBhcnRzIG9mIHRoZSBkb21haW4gbmFtZSB3aWxsIGJlIGNvbnZlcnRlZCxcblx0ICogaS5lLiBpdCBkb2Vzbid0IG1hdHRlciBpZiB5b3UgY2FsbCBpdCB3aXRoIGEgZG9tYWluIHRoYXQncyBhbHJlYWR5IGluXG5cdCAqIEFTQ0lJLlxuXHQgKiBAbWVtYmVyT2YgcHVueWNvZGVcblx0ICogQHBhcmFtIHtTdHJpbmd9IGlucHV0IFRoZSBkb21haW4gbmFtZSBvciBlbWFpbCBhZGRyZXNzIHRvIGNvbnZlcnQsIGFzIGFcblx0ICogVW5pY29kZSBzdHJpbmcuXG5cdCAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSBQdW55Y29kZSByZXByZXNlbnRhdGlvbiBvZiB0aGUgZ2l2ZW4gZG9tYWluIG5hbWUgb3Jcblx0ICogZW1haWwgYWRkcmVzcy5cblx0ICovXG5cdGZ1bmN0aW9uIHRvQVNDSUkoaW5wdXQpIHtcblx0XHRyZXR1cm4gbWFwRG9tYWluKGlucHV0LCBmdW5jdGlvbihzdHJpbmcpIHtcblx0XHRcdHJldHVybiByZWdleE5vbkFTQ0lJLnRlc3Qoc3RyaW5nKVxuXHRcdFx0XHQ/ICd4bi0tJyArIGVuY29kZShzdHJpbmcpXG5cdFx0XHRcdDogc3RyaW5nO1xuXHRcdH0pO1xuXHR9XG5cblx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0LyoqIERlZmluZSB0aGUgcHVibGljIEFQSSAqL1xuXHRwdW55Y29kZSA9IHtcblx0XHQvKipcblx0XHQgKiBBIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIGN1cnJlbnQgUHVueWNvZGUuanMgdmVyc2lvbiBudW1iZXIuXG5cdFx0ICogQG1lbWJlck9mIHB1bnljb2RlXG5cdFx0ICogQHR5cGUgU3RyaW5nXG5cdFx0ICovXG5cdFx0J3ZlcnNpb24nOiAnMS4zLjInLFxuXHRcdC8qKlxuXHRcdCAqIEFuIG9iamVjdCBvZiBtZXRob2RzIHRvIGNvbnZlcnQgZnJvbSBKYXZhU2NyaXB0J3MgaW50ZXJuYWwgY2hhcmFjdGVyXG5cdFx0ICogcmVwcmVzZW50YXRpb24gKFVDUy0yKSB0byBVbmljb2RlIGNvZGUgcG9pbnRzLCBhbmQgYmFjay5cblx0XHQgKiBAc2VlIDxodHRwczovL21hdGhpYXNieW5lbnMuYmUvbm90ZXMvamF2YXNjcmlwdC1lbmNvZGluZz5cblx0XHQgKiBAbWVtYmVyT2YgcHVueWNvZGVcblx0XHQgKiBAdHlwZSBPYmplY3Rcblx0XHQgKi9cblx0XHQndWNzMic6IHtcblx0XHRcdCdkZWNvZGUnOiB1Y3MyZGVjb2RlLFxuXHRcdFx0J2VuY29kZSc6IHVjczJlbmNvZGVcblx0XHR9LFxuXHRcdCdkZWNvZGUnOiBkZWNvZGUsXG5cdFx0J2VuY29kZSc6IGVuY29kZSxcblx0XHQndG9BU0NJSSc6IHRvQVNDSUksXG5cdFx0J3RvVW5pY29kZSc6IHRvVW5pY29kZVxuXHR9O1xuXG5cdC8qKiBFeHBvc2UgYHB1bnljb2RlYCAqL1xuXHQvLyBTb21lIEFNRCBidWlsZCBvcHRpbWl6ZXJzLCBsaWtlIHIuanMsIGNoZWNrIGZvciBzcGVjaWZpYyBjb25kaXRpb24gcGF0dGVybnNcblx0Ly8gbGlrZSB0aGUgZm9sbG93aW5nOlxuXHRpZiAoXG5cdFx0dHlwZW9mIGRlZmluZSA9PSAnZnVuY3Rpb24nICYmXG5cdFx0dHlwZW9mIGRlZmluZS5hbWQgPT0gJ29iamVjdCcgJiZcblx0XHRkZWZpbmUuYW1kXG5cdCkge1xuXHRcdGRlZmluZSgncHVueWNvZGUnLCBmdW5jdGlvbigpIHtcblx0XHRcdHJldHVybiBwdW55Y29kZTtcblx0XHR9KTtcblx0fSBlbHNlIGlmIChmcmVlRXhwb3J0cyAmJiBmcmVlTW9kdWxlKSB7XG5cdFx0aWYgKG1vZHVsZS5leHBvcnRzID09IGZyZWVFeHBvcnRzKSB7IC8vIGluIE5vZGUuanMgb3IgUmluZ29KUyB2MC44LjArXG5cdFx0XHRmcmVlTW9kdWxlLmV4cG9ydHMgPSBwdW55Y29kZTtcblx0XHR9IGVsc2UgeyAvLyBpbiBOYXJ3aGFsIG9yIFJpbmdvSlMgdjAuNy4wLVxuXHRcdFx0Zm9yIChrZXkgaW4gcHVueWNvZGUpIHtcblx0XHRcdFx0cHVueWNvZGUuaGFzT3duUHJvcGVydHkoa2V5KSAmJiAoZnJlZUV4cG9ydHNba2V5XSA9IHB1bnljb2RlW2tleV0pO1xuXHRcdFx0fVxuXHRcdH1cblx0fSBlbHNlIHsgLy8gaW4gUmhpbm8gb3IgYSB3ZWIgYnJvd3NlclxuXHRcdHJvb3QucHVueWNvZGUgPSBwdW55Y29kZTtcblx0fVxuXG59KHRoaXMpKTtcbiIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24obW9kdWxlKSB7XG5cdGlmICghbW9kdWxlLndlYnBhY2tQb2x5ZmlsbCkge1xuXHRcdG1vZHVsZS5kZXByZWNhdGUgPSBmdW5jdGlvbigpIHt9O1xuXHRcdG1vZHVsZS5wYXRocyA9IFtdO1xuXHRcdC8vIG1vZHVsZS5wYXJlbnQgPSB1bmRlZmluZWQgYnkgZGVmYXVsdFxuXHRcdGlmICghbW9kdWxlLmNoaWxkcmVuKSBtb2R1bGUuY2hpbGRyZW4gPSBbXTtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobW9kdWxlLCBcImxvYWRlZFwiLCB7XG5cdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuXHRcdFx0Z2V0OiBmdW5jdGlvbigpIHtcblx0XHRcdFx0cmV0dXJuIG1vZHVsZS5sO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShtb2R1bGUsIFwiaWRcIiwge1xuXHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcblx0XHRcdGdldDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHJldHVybiBtb2R1bGUuaTtcblx0XHRcdH1cblx0XHR9KTtcblx0XHRtb2R1bGUud2VicGFja1BvbHlmaWxsID0gMTtcblx0fVxuXHRyZXR1cm4gbW9kdWxlO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGlzU3RyaW5nOiBmdW5jdGlvbihhcmcpIHtcbiAgICByZXR1cm4gdHlwZW9mKGFyZykgPT09ICdzdHJpbmcnO1xuICB9LFxuICBpc09iamVjdDogZnVuY3Rpb24oYXJnKSB7XG4gICAgcmV0dXJuIHR5cGVvZihhcmcpID09PSAnb2JqZWN0JyAmJiBhcmcgIT09IG51bGw7XG4gIH0sXG4gIGlzTnVsbDogZnVuY3Rpb24oYXJnKSB7XG4gICAgcmV0dXJuIGFyZyA9PT0gbnVsbDtcbiAgfSxcbiAgaXNOdWxsT3JVbmRlZmluZWQ6IGZ1bmN0aW9uKGFyZykge1xuICAgIHJldHVybiBhcmcgPT0gbnVsbDtcbiAgfVxufTtcbiIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5kZWNvZGUgPSBleHBvcnRzLnBhcnNlID0gcmVxdWlyZSgnLi9kZWNvZGUnKTtcbmV4cG9ydHMuZW5jb2RlID0gZXhwb3J0cy5zdHJpbmdpZnkgPSByZXF1aXJlKCcuL2VuY29kZScpO1xuIiwiLy8gQ29weXJpZ2h0IEpveWVudCwgSW5jLiBhbmQgb3RoZXIgTm9kZSBjb250cmlidXRvcnMuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbi8vIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcbi8vIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuLy8gd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuLy8gZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdFxuLy8gcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlXG4vLyBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuLy8gaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuLy8gT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuLy8gTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTlxuLy8gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sXG4vLyBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1Jcbi8vIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEVcbi8vIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5cbid1c2Ugc3RyaWN0JztcblxuLy8gSWYgb2JqLmhhc093blByb3BlcnR5IGhhcyBiZWVuIG92ZXJyaWRkZW4sIHRoZW4gY2FsbGluZ1xuLy8gb2JqLmhhc093blByb3BlcnR5KHByb3ApIHdpbGwgYnJlYWsuXG4vLyBTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9qb3llbnQvbm9kZS9pc3N1ZXMvMTcwN1xuZnVuY3Rpb24gaGFzT3duUHJvcGVydHkob2JqLCBwcm9wKSB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihxcywgc2VwLCBlcSwgb3B0aW9ucykge1xuICBzZXAgPSBzZXAgfHwgJyYnO1xuICBlcSA9IGVxIHx8ICc9JztcbiAgdmFyIG9iaiA9IHt9O1xuXG4gIGlmICh0eXBlb2YgcXMgIT09ICdzdHJpbmcnIHx8IHFzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBvYmo7XG4gIH1cblxuICB2YXIgcmVnZXhwID0gL1xcKy9nO1xuICBxcyA9IHFzLnNwbGl0KHNlcCk7XG5cbiAgdmFyIG1heEtleXMgPSAxMDAwO1xuICBpZiAob3B0aW9ucyAmJiB0eXBlb2Ygb3B0aW9ucy5tYXhLZXlzID09PSAnbnVtYmVyJykge1xuICAgIG1heEtleXMgPSBvcHRpb25zLm1heEtleXM7XG4gIH1cblxuICB2YXIgbGVuID0gcXMubGVuZ3RoO1xuICAvLyBtYXhLZXlzIDw9IDAgbWVhbnMgdGhhdCB3ZSBzaG91bGQgbm90IGxpbWl0IGtleXMgY291bnRcbiAgaWYgKG1heEtleXMgPiAwICYmIGxlbiA+IG1heEtleXMpIHtcbiAgICBsZW4gPSBtYXhLZXlzO1xuICB9XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47ICsraSkge1xuICAgIHZhciB4ID0gcXNbaV0ucmVwbGFjZShyZWdleHAsICclMjAnKSxcbiAgICAgICAgaWR4ID0geC5pbmRleE9mKGVxKSxcbiAgICAgICAga3N0ciwgdnN0ciwgaywgdjtcblxuICAgIGlmIChpZHggPj0gMCkge1xuICAgICAga3N0ciA9IHguc3Vic3RyKDAsIGlkeCk7XG4gICAgICB2c3RyID0geC5zdWJzdHIoaWR4ICsgMSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGtzdHIgPSB4O1xuICAgICAgdnN0ciA9ICcnO1xuICAgIH1cblxuICAgIGsgPSBkZWNvZGVVUklDb21wb25lbnQoa3N0cik7XG4gICAgdiA9IGRlY29kZVVSSUNvbXBvbmVudCh2c3RyKTtcblxuICAgIGlmICghaGFzT3duUHJvcGVydHkob2JqLCBrKSkge1xuICAgICAgb2JqW2tdID0gdjtcbiAgICB9IGVsc2UgaWYgKGlzQXJyYXkob2JqW2tdKSkge1xuICAgICAgb2JqW2tdLnB1c2godik7XG4gICAgfSBlbHNlIHtcbiAgICAgIG9ialtrXSA9IFtvYmpba10sIHZdO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBvYmo7XG59O1xuXG52YXIgaXNBcnJheSA9IEFycmF5LmlzQXJyYXkgfHwgZnVuY3Rpb24gKHhzKSB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoeHMpID09PSAnW29iamVjdCBBcnJheV0nO1xufTtcbiIsIi8vIENvcHlyaWdodCBKb3llbnQsIEluYy4gYW5kIG90aGVyIE5vZGUgY29udHJpYnV0b3JzLlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhXG4vLyBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlXG4vLyBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmdcbi8vIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCxcbi8vIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXRcbi8vIHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZVxuLy8gZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4vL1xuLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWRcbi8vIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuLy9cbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1Ncbi8vIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0Zcbi8vIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU5cbi8vIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLFxuLy8gREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SXG4vLyBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFXG4vLyBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBzdHJpbmdpZnlQcmltaXRpdmUgPSBmdW5jdGlvbih2KSB7XG4gIHN3aXRjaCAodHlwZW9mIHYpIHtcbiAgICBjYXNlICdzdHJpbmcnOlxuICAgICAgcmV0dXJuIHY7XG5cbiAgICBjYXNlICdib29sZWFuJzpcbiAgICAgIHJldHVybiB2ID8gJ3RydWUnIDogJ2ZhbHNlJztcblxuICAgIGNhc2UgJ251bWJlcic6XG4gICAgICByZXR1cm4gaXNGaW5pdGUodikgPyB2IDogJyc7XG5cbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuICcnO1xuICB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG9iaiwgc2VwLCBlcSwgbmFtZSkge1xuICBzZXAgPSBzZXAgfHwgJyYnO1xuICBlcSA9IGVxIHx8ICc9JztcbiAgaWYgKG9iaiA9PT0gbnVsbCkge1xuICAgIG9iaiA9IHVuZGVmaW5lZDtcbiAgfVxuXG4gIGlmICh0eXBlb2Ygb2JqID09PSAnb2JqZWN0Jykge1xuICAgIHJldHVybiBtYXAob2JqZWN0S2V5cyhvYmopLCBmdW5jdGlvbihrKSB7XG4gICAgICB2YXIga3MgPSBlbmNvZGVVUklDb21wb25lbnQoc3RyaW5naWZ5UHJpbWl0aXZlKGspKSArIGVxO1xuICAgICAgaWYgKGlzQXJyYXkob2JqW2tdKSkge1xuICAgICAgICByZXR1cm4gbWFwKG9ialtrXSwgZnVuY3Rpb24odikge1xuICAgICAgICAgIHJldHVybiBrcyArIGVuY29kZVVSSUNvbXBvbmVudChzdHJpbmdpZnlQcmltaXRpdmUodikpO1xuICAgICAgICB9KS5qb2luKHNlcCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4ga3MgKyBlbmNvZGVVUklDb21wb25lbnQoc3RyaW5naWZ5UHJpbWl0aXZlKG9ialtrXSkpO1xuICAgICAgfVxuICAgIH0pLmpvaW4oc2VwKTtcblxuICB9XG5cbiAgaWYgKCFuYW1lKSByZXR1cm4gJyc7XG4gIHJldHVybiBlbmNvZGVVUklDb21wb25lbnQoc3RyaW5naWZ5UHJpbWl0aXZlKG5hbWUpKSArIGVxICtcbiAgICAgICAgIGVuY29kZVVSSUNvbXBvbmVudChzdHJpbmdpZnlQcmltaXRpdmUob2JqKSk7XG59O1xuXG52YXIgaXNBcnJheSA9IEFycmF5LmlzQXJyYXkgfHwgZnVuY3Rpb24gKHhzKSB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoeHMpID09PSAnW29iamVjdCBBcnJheV0nO1xufTtcblxuZnVuY3Rpb24gbWFwICh4cywgZikge1xuICBpZiAoeHMubWFwKSByZXR1cm4geHMubWFwKGYpO1xuICB2YXIgcmVzID0gW107XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgeHMubGVuZ3RoOyBpKyspIHtcbiAgICByZXMucHVzaChmKHhzW2ldLCBpKSk7XG4gIH1cbiAgcmV0dXJuIHJlcztcbn1cblxudmFyIG9iamVjdEtleXMgPSBPYmplY3Qua2V5cyB8fCBmdW5jdGlvbiAob2JqKSB7XG4gIHZhciByZXMgPSBbXTtcbiAgZm9yICh2YXIga2V5IGluIG9iaikge1xuICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSByZXMucHVzaChrZXkpO1xuICB9XG4gIHJldHVybiByZXM7XG59O1xuIiwiaW1wb3J0IHsgUGxheWVyIH0gZnJvbSAnLi9tb2RlbHMvcGxheWVyJztcbmltcG9ydCB7IFJvYWQgfSBmcm9tICcuL21vZGVscy9yb2FkJztcbmltcG9ydCB7IFRyZWUgfSBmcm9tICcuL21vZGVscy90cmVlJztcbmltcG9ydCB7IENhciB9IGZyb20gJy4vbW9kZWxzL2Nhcic7XG5pbXBvcnQgeyBCYXVsayB9IGZyb20gJy4vbW9kZWxzL2JhdWxrJztcbmltcG9ydCB7IFRleHQgfSBmcm9tICcuL21vZGVscy90ZXh0TGlmZSc7XG5cbmltcG9ydCB7IGNvbnRhaW5lciwgYXBwIH0gZnJvbSAnLi92aWV3JztcblxuaW1wb3J0IHsgbWFpblNjcmVlbiwgcm9hZHMsIGxpZmUsIHNwZWVkIH0gZnJvbSAnLi9jb25maWcnO1xuXG5leHBvcnQgbGV0IGNvdW50TGlmZTogbnVtYmVyID0gbGlmZTtcblxuY29uc3QgS0VZUyA9IFtdO1xuXG5leHBvcnQgY29uc3Qgcm9hZHNMaXN0ID0gW107XG5leHBvcnQgY29uc3QgdHJlZXNMaXN0ID0gW107XG5jb25zdCBtb3ZpbmdJdGVtc0xpc3QgPSBbXTtcbmNvbnN0IGFjdGlvblJvYWRzID0gW107XG5cbmV4cG9ydCBsZXQgcGxheWVyID0gbmV3IFBsYXllcihtYWluU2NyZWVuLndpZHRoIC8gMiwgbWFpblNjcmVlbi5oZWlnaHQgLSAyMCwgJy4vaW1nL3BsYXllci5wbmcnKTtcbmxldCB2aWV3TnVtYmVyTGlmZSA9IG5ldyBUZXh0KFN0cmluZyhjb3VudExpZmUpKTtcblxuY29uc3QgY2hlY2tUcmVlID0gKHg6IG51bWJlciwgeTogbnVtYmVyKSA9PiB7XG4gIGlmKHRyZWVzTGlzdC5zb21lKHRyZWUgPT4gKE1hdGguYWJzKHRyZWUueCAtIHgpIDwgMzAgJiYgdHJlZS55ID09PSB5KSkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgaWYoTWF0aC5hYnMocGxheWVyLnggLSB4KSA8IDMwICYmIHBsYXllci55ID09PSB5KSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIFxuICByZXR1cm4gdHJ1ZTtcbn1cblxuZXhwb3J0IGNvbnN0IHNldHVwUm9hZHMgPSAoKSA9PiB7XG4gIHJvYWRzLmZvckVhY2goKGl0ZW0sIGluZGV4KSA9PiB7XG4gICAgY29uc3Qgcm9hZCA9IG5ldyBSb2FkKGl0ZW0udHlwZSwgaXRlbS55KTtcbiAgICBcbiAgICByb2Fkc0xpc3QucHVzaChyb2FkKTtcbiAgICBcbiAgICBpZihpdGVtLnR5cGUgPT09ICdwbGFudCcpIHtcbiAgICAgIGNvbnN0IHF1YW50aXR5VHJlZXMgPSBNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkgKiAzICsgMyk7XG4gICAgICBmb3IgKGxldCBpID0gMTsgaSA8PSBxdWFudGl0eVRyZWVzOyBpKyspIHtcbiAgICAgICAgbGV0IHggPSBNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkgKiA1NzAgKyAxNSk7XG4gICAgICAgIHdoaWxlKCFjaGVja1RyZWUoeCwgaXRlbS55ICsgMjApKSB7IFxuICAgICAgICAgIHggPSBNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkgKiA1NzAgKyAxNSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdHJlZSA9IG5ldyBUcmVlKHgsIGl0ZW0ueSArIDIwKTtcbiAgICAgICAgdHJlZXNMaXN0LnB1c2godHJlZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYoaXRlbS50eXBlID09PSAncm9hZCcgfHwgaXRlbS50eXBlID09PSAnd2F0ZXInKSB7XG4gICAgICBhY3Rpb25Sb2Fkcy5wdXNoKHJvYWQpO1xuICAgIH0gIFxuICB9KTtcbn1cblxuY29uc3QgaXNJbnRlcnNlY3Rpb24gPSAoYSwgYikgPT4ge1xuIGNvbnN0IGFCb3ggPSBhLmdldEJvdW5kcygpO1xuIGNvbnN0IGJCb3ggPSBiLmdldEJvdW5kcygpO1xuXG4gcmV0dXJuIGFCb3gueCArIGFCb3gud2lkdGggPiBiQm94LnggJiZcbiAgICAgICAgYUJveC54IDwgYkJveC54ICsgYkJveC53aWR0aCAmJlxuICAgICAgICBhQm94LnkgKyBhQm94LmhlaWdodCA+IGJCb3gueSAmJlxuICAgICAgICBhQm94LnkgPCBiQm94LnkgKyBiQm94LmhlaWdodDtcbn1cblxuY29uc3QgbmV4dElzSW50ZXJzZWN0aW9uID0gKGEsIGFOZXh0WCwgYU5leHRZLCAgYikgPT4ge1xuICBjb25zdCBhQm94ID0gYS5nZXRCb3VuZHMoKTtcbiAgY29uc3QgYkJveCA9IGIuZ2V0Qm91bmRzKCk7XG4gXG4gIHJldHVybiBhQm94LngrYU5leHRYICsgYUJveC53aWR0aCA+PSBiQm94LnggJiZcbiAgICAgICAgIGFCb3gueCthTmV4dFggPD0gYkJveC54ICsgYkJveC53aWR0aCAmJlxuICAgICAgICAgYUJveC55K2FOZXh0WSArIGFCb3guaGVpZ2h0ID49IGJCb3gueSAmJlxuICAgICAgICAgYUJveC55K2FOZXh0WSA8PSBiQm94LnkgKyBiQm94LmhlaWdodDtcbn1cblxuY29uc3QgaXNJbnRlcnNlY3Rpb25CYXVsayA9IChwbGF5ZXI6IFBJWEkuU3ByaXRlLCBiYXVsazogUElYSS5TcHJpdGUpID0+IHtcbiAgY29uc3QgcGxheWVyQm94ID0gcGxheWVyLmdldEJvdW5kcygpO1xuICBjb25zdCBiYXVsa0JveCA9IGJhdWxrLmdldEJvdW5kcygpO1xuXG4gIHJldHVybiBwbGF5ZXJCb3gueCArIHBsYXllckJveC53aWR0aCAtIDE2ID4gYmF1bGtCb3gueCAmJlxuICAgICAgICAgcGxheWVyQm94LnggKyAxNiA8IGJhdWxrQm94LnggKyBiYXVsa0JveC53aWR0aCAmJlxuICAgICAgICAgcGxheWVyQm94LnkgKyBwbGF5ZXJCb3guaGVpZ2h0IC0gMTYgPiBiYXVsa0JveC55ICYmXG4gICAgICAgICBwbGF5ZXJCb3gueSArIDE2IDwgYmF1bGtCb3gueSArIGJhdWxrQm94LmhlaWdodDtcbn1cblxuY29uc3QgaXNJbnRlcnNlY3Rpb25XYXRlciA9IChwbGF5ZXI6IFBJWEkuU3ByaXRlLCB3YXRlcjogUElYSS5HcmFwaGljcykgPT4ge1xuICBjb25zdCBwbGF5ZXJCb3ggPSBwbGF5ZXIuZ2V0Qm91bmRzKCk7XG4gIGNvbnN0IHdhdGVyQm94ID0gd2F0ZXIuZ2V0Qm91bmRzKCk7XG5cbiAgcmV0dXJuIHBsYXllckJveC54ICsgcGxheWVyQm94LndpZHRoIC0gMjAgPj0gd2F0ZXJCb3gueCAmJlxuICAgICAgICAgcGxheWVyQm94LngrMjAgPD0gd2F0ZXJCb3gueCArIHdhdGVyQm94LndpZHRoICYmXG4gICAgICAgICBwbGF5ZXJCb3gueSArIHBsYXllckJveC5oZWlnaHQgLSAyMCA+PSB3YXRlckJveC55ICYmXG4gICAgICAgICBwbGF5ZXJCb3gueSsyMCA8PSB3YXRlckJveC55ICsgd2F0ZXJCb3guaGVpZ2h0O1xufVxuXG5leHBvcnQgY29uc3Qga2V5RG93biA9IGV2ZW50ID0+IHtcbiAgY29uc3QgeyBrZXlDb2RlIH0gPSBldmVudDtcbiAgS0VZU1trZXlDb2RlXSA9IHRydWU7XG4gIGNvbnNvbGUubG9nKGtleUNvZGUpO1xufVxuXG5leHBvcnQgY29uc3Qga2V5VXAgPSBldmVudCA9PiB7XG4gIGNvbnN0IHsga2V5Q29kZSB9ID0gZXZlbnQ7XG4gIEtFWVNba2V5Q29kZV0gPSBmYWxzZTtcbn1cblxuZXhwb3J0IGNvbnN0IGdhbWVMb29wID0gKCkgPT4ge1xuICBjb250YWluZXIuYWRkQ2hpbGQodmlld051bWJlckxpZmUpO1xuICBjb25zdCBtb3ZlUGxheWVyID0ge1xuICAgIHg6IDAsXG4gICAgeTogMFxuICB9O1xuXG4gIGlmIChLRVlTWyc4NyddIHx8IEtFWVNbJzM4J10pIHtcbiAgICBtb3ZlUGxheWVyLnkgPSAtc3BlZWRcbiAgfVxuXG4gIGlmIChLRVlTWyc4MyddIHx8IEtFWVNbJzQwJ10pIHtcbiAgICBtb3ZlUGxheWVyLnkgPSBzcGVlZDtcbiAgfVxuXG4gIGlmIChLRVlTWyc2OCddIHx8IEtFWVNbJzM5J10pIHtcbiAgICBtb3ZlUGxheWVyLnggPSBzcGVlZDtcbiAgfVxuXG4gIGlmIChLRVlTWyc2NSddIHx8IEtFWVNbJzM3J10pIHtcbiAgICBtb3ZlUGxheWVyLnggPSAtc3BlZWQ7XG4gIH1cbiAgaWYobW92ZVBsYXllci54IHx8IG1vdmVQbGF5ZXIueSkge1xuICAgIGlmKCF0cmVlc0xpc3Quc29tZShpdGVtID0+IG5leHRJc0ludGVyc2VjdGlvbihwbGF5ZXIsIG1vdmVQbGF5ZXIueCwgbW92ZVBsYXllci55LCBpdGVtKSkpIHtcbiAgICAgIHBsYXllci5tb3ZlKG1vdmVQbGF5ZXIueCwgbW92ZVBsYXllci55KTtcbiAgICB9XG4gIH1cbiAgcGxheWVyLm9uQmF1bGsgPSBmYWxzZTtcbiAgbW92aW5nSXRlbXNMaXN0LmZvckVhY2goaXRlbSA9PiB7XG4gICAgaWYoaXRlbS50eXBlSXRlbSA9PT0gJ2NhcicgJiYgaXNJbnRlcnNlY3Rpb24ocGxheWVyLCBpdGVtKSkge1xuICAgICAgY29udGFpbmVyLnJlbW92ZUNoaWxkKHBsYXllcik7XG4gICAgICBjb250YWluZXIucmVtb3ZlQ2hpbGQodmlld051bWJlckxpZmUpO1xuICAgICAgY291bnRMaWZlIC0tO1xuICAgICAgdmlld051bWJlckxpZmUgPSBuZXcgVGV4dChTdHJpbmcoY291bnRMaWZlKSk7XG4gICAgICBjb250YWluZXIuYWRkQ2hpbGQodmlld051bWJlckxpZmUpO1xuICAgICAgaWYoY291bnRMaWZlICE9PSAwKSB7XG4gICAgICAgIHBsYXllciA9IG5ldyBQbGF5ZXIobWFpblNjcmVlbi53aWR0aCAvIDIsIG1haW5TY3JlZW4uaGVpZ2h0IC0gMTUsICcuL2ltZy9wbGF5ZXIucG5nJyk7XG4gICAgICAgIGNvbnRhaW5lci5hZGRDaGlsZChwbGF5ZXIpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZihpdGVtLnR5cGVJdGVtID09PSAnYmF1bGsnICYmIGlzSW50ZXJzZWN0aW9uQmF1bGsocGxheWVyLCBpdGVtKSkge1xuICAgICAgcGxheWVyLm9uQmF1bGsgPSB0cnVlO1xuICAgICAgcGxheWVyLnN3aW0oaXRlbS54KTtcbiAgICB9XG4gIH0pO1xuXG4gIGFjdGlvblJvYWRzLmZvckVhY2gocm9hZCA9PiB7XG4gICAgaWYocm9hZC5jYW5DcmVhdGVJdGVtKSB7XG4gICAgICBjb25zdCBzcmNDYXIgPSByb2FkLmRpcmVjdGlvbiA9PT0gJ3JpZ2h0JyA/ICcuL2ltZy90cnVjay1yaWdodC5wbmcnIDogJy4vaW1nL3RydWNrLWxlZnQucG5nJztcbiAgICAgIGNvbnN0IGl0ZW0gPSByb2FkLnR5cGUgPT09ICdyb2FkJyA/IG5ldyBDYXIocm9hZC5jZW50ZXJSb2FkLCBzcmNDYXIsIHJvYWQuZGlyZWN0aW9uKSA6IG5ldyBCYXVsayhyb2FkLmNlbnRlclJvYWQgLHJvYWQuZGlyZWN0aW9uKTtcbiAgICAgIGNvbnRhaW5lci5hZGRDaGlsZChpdGVtKTtcbiAgICAgIG1vdmluZ0l0ZW1zTGlzdC5wdXNoKGl0ZW0pO1xuICAgICAgcm9hZC5jYW5DcmVhdGVJdGVtID0gZmFsc2U7XG4gICAgICByb2FkLndhaXRpbmdGb3JDcmVhdGVJdGVtKCk7XG4gICAgfVxuICAgIGlmKHJvYWQudHlwZSA9PT0gJ3dhdGVyJyAmJiBpc0ludGVyc2VjdGlvbldhdGVyKHBsYXllciwgcm9hZCkgJiYgIXBsYXllci5vbkJhdWxrKSB7XG4gICAgICBjb250YWluZXIucmVtb3ZlQ2hpbGQocGxheWVyKTtcbiAgICAgIGNvbnRhaW5lci5yZW1vdmVDaGlsZCh2aWV3TnVtYmVyTGlmZSk7XG4gICAgICBjb3VudExpZmUgLS07XG4gICAgICB2aWV3TnVtYmVyTGlmZSA9IG5ldyBUZXh0KFN0cmluZyhjb3VudExpZmUpKTtcbiAgICAgIGNvbnRhaW5lci5hZGRDaGlsZCh2aWV3TnVtYmVyTGlmZSk7XG4gICAgICBpZihjb3VudExpZmUgIT09IDApIHtcbiAgICAgICAgcGxheWVyID0gbmV3IFBsYXllcihtYWluU2NyZWVuLndpZHRoIC8gMiwgbWFpblNjcmVlbi5oZWlnaHQgLSAxNSwgJy4vaW1nL3BsYXllci5wbmcnKTtcbiAgICAgICAgY29udGFpbmVyLmFkZENoaWxkKHBsYXllcik7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbiAgXG4gIGNvbnRhaW5lci5zb3J0Q2hpbGRyZW4oKTtcblxuICBtb3ZpbmdJdGVtc0xpc3QuZm9yRWFjaChpdGVtID0+IHtcbiAgICBpdGVtLm1vdmUoKVxuICAgIGlmKGl0ZW0ueCA+IDYzMCB8fCBpdGVtLnggPCAtMzApIHtcbiAgICAgIGl0ZW0uZGVhZCA9IHRydWU7XG4gICAgfVxuICB9KTtcblxuICBtb3ZpbmdJdGVtc0xpc3QuZm9yRWFjaCgoaXRlbSwgaW5kZXgpID0+IHtcbiAgICBpZihpdGVtLmRlYWQpIHtcbiAgICAgIGNvbnRhaW5lci5yZW1vdmVDaGlsZChpdGVtKTtcbiAgICAgIG1vdmluZ0l0ZW1zTGlzdC5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIH1cbiAgfSk7XG5cbiAgaWYoY291bnRMaWZlIDwgMSkgYXBwLnRpY2tlci5zdG9wKCk7XG59XG4iLCJpbXBvcnQgKiBhcyBQSVhJIGZyb20gJ3BpeGkuanMnO1xuaW1wb3J0IHsgbWFpblNjcmVlbiB9IGZyb20gJy4uL2NvbmZpZyc7XG5cbmV4cG9ydCBjbGFzcyBQbGF5ZXIgZXh0ZW5kcyBQSVhJLlNwcml0ZXtcbiAgb25CYXVsazogYm9vbGVhbjtcbiAgXG4gIGNvbnN0cnVjdG9yKHg6IG51bWJlciwgeTogbnVtYmVyLCBzcmM6IHN0cmluZykge1xuICAgIHN1cGVyKFBJWEkuVGV4dHVyZS5mcm9tKHNyYykpO1xuICAgIHRoaXMuYW5jaG9yLnNldCgwLjUpO1xuICAgIHRoaXMueCA9IHg7XG4gICAgdGhpcy55ID0geTtcbiAgICB0aGlzLnpJbmRleCA9IDI7XG4gICAgdGhpcy5vbkJhdWxrID0gZmFsc2U7XG4gIH1cbiAgXG4gIG1vdmUoeF9tb3ZlOiBudW1iZXIsIHlfbW92ZTogbnVtYmVyKSB7XG4gICAgaWYgKHRoaXMueCArIHhfbW92ZSA+PSAxNSAmJiB0aGlzLnggKyB4X21vdmUgPD0gbWFpblNjcmVlbi53aWR0aCAtIDE1KSB7XG4gICAgICB0aGlzLnggKz0geF9tb3ZlO1xuICAgIH07XG4gICAgaWYgKHRoaXMueSArIHlfbW92ZSA+PSAxNSAmJiB0aGlzLnkgKyB5X21vdmUgPD0gbWFpblNjcmVlbi5oZWlnaHQgLSAxNSkge1xuICAgICAgdGhpcy55ICs9IHlfbW92ZTtcbiAgICB9XG4gIH1cblxuICBzd2ltKG5ld1g6IG51bWJlcikge1xuICAgIGlmIChuZXdYID49IDE1ICYmIG5ld1ggPD0gbWFpblNjcmVlbi53aWR0aCAtIDE1KSB7XG4gICAgICB0aGlzLnggPSBuZXdYO1xuICAgIH1cbiAgfVxufTtcbiIsImltcG9ydCAqIGFzIFBJWEkgZnJvbSAncGl4aS5qcyc7XG5cbmV4cG9ydCBjbGFzcyBSb2FkIGV4dGVuZHMgUElYSS5HcmFwaGljc3tcbiAgZGlyZWN0aW9uOiBzdHJpbmc7XG4gIGNhbkNyZWF0ZUl0ZW06IGJvb2xlYW47XG4gIGNlbnRlclJvYWQ6IG51bWJlcjtcbiAgdHlwZTogc3RyaW5nO1xuXG4gIGNvbnN0cnVjdG9yKHR5cGVSb2FkOiBzdHJpbmcsIHk6IG51bWJlcikge1xuICAgIHN1cGVyKCk7XG4gICAgY29uc3Qgc2VsZWN0Q29sb3IgPSAoc3RyOiBzdHJpbmcpID0+IHtcbiAgICAgIHN3aXRjaCAoc3RyKSB7XG4gICAgICAgIGNhc2UgJ3BsYW50JzpcbiAgICAgICAgICByZXR1cm4gMHhDQzk5MzM7XG4gICAgICAgIGNhc2UgJ3JvYWQnOlxuICAgICAgICAgIHJldHVybiAweEFBQUFBQTtcbiAgICAgICAgY2FzZSAnd2F0ZXInOlxuICAgICAgICAgIHJldHVybiAwWDAwQUNFRTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZXR1cm4gMHhBQUFBQUE7XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IGNvbG9yID0gc2VsZWN0Q29sb3IodHlwZVJvYWQpO1xuXG4gICAgdGhpcy5saW5lU3R5bGUoMSwgMHhGRkZGRkYsIDEpO1xuICAgIHRoaXMuYmVnaW5GaWxsKGNvbG9yLCAwLjI1KTtcbiAgICB0aGlzLmRyYXdSZWN0KDAsIHksIDYwMCwgNDApO1xuICAgIHRoaXMuZW5kRmlsbCgpO1xuXG4gICAgdGhpcy5kaXJlY3Rpb24gPSBNYXRoLnJhbmRvbSgpID4gMC41ID8gJ2xlZnQnIDogJ3JpZ2h0JztcbiAgICB0aGlzLmNlbnRlclJvYWQgPSB5ICsgMjA7XG4gICAgdGhpcy5jYW5DcmVhdGVJdGVtID0gdHJ1ZTtcbiAgICB0aGlzLnR5cGUgPSB0eXBlUm9hZDtcbiAgfVxuXG4gIHdhaXRpbmdGb3JDcmVhdGVJdGVtKCkge1xuICAgIGNvbnN0IHRpbWVyID0gTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpKjIwMDAgKyAxMDAwKTtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHRoaXMuY2FuQ3JlYXRlSXRlbSA9IHRydWU7XG4gICAgfSwgdGltZXIpO1xuICB9XG4gIFxufVxuIiwiaW1wb3J0ICogYXMgUElYSSBmcm9tICdwaXhpLmpzJztcblxuZXhwb3J0IGNsYXNzIFRyZWUgZXh0ZW5kcyBQSVhJLkdyYXBoaWNzIHtcblxuICBjb25zdHJ1Y3Rvcih4OiBudW1iZXIsIHk6IG51bWJlcikge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5iZWdpbkZpbGwoMHgzRTY5MTMpO1xuICAgIHRoaXMuZHJhd0NpcmNsZSh4LCB5LCAxNSk7XG4gICAgdGhpcy5lbmRGaWxsKCk7XG4gIH0gXG59XG4iLCJpbXBvcnQgKiBhcyBQSVhJIGZyb20gJ3BpeGkuanMnO1xuaW1wb3J0IHsgc3BlZWQgfSBmcm9tICcuLi9jb25maWcnO1xuXG5leHBvcnQgY2xhc3MgQ2FyIGV4dGVuZHMgUElYSS5TcHJpdGUge1xuICBkaXJlY3Rpb246IHN0cmluZztcbiAgdHlwZUl0ZW06IHN0cmluZyA9ICdjYXInO1xuICBcbiAgY29uc3RydWN0b3IoeTogbnVtYmVyLCBzcmM6IHN0cmluZywgZGlyZWN0aW9uOiBzdHJpbmcpIHtcblxuICAgIHN1cGVyKFBJWEkuVGV4dHVyZS5mcm9tKHNyYykpXG4gICAgXG4gICAgdGhpcy5hbmNob3Iuc2V0KDAuNSk7XG4gICAgdGhpcy54ID0gZGlyZWN0aW9uID09PSAncmlnaHQnID8gMTYgOiA1ODQ7XG4gICAgdGhpcy55ID0geTtcbiAgICB0aGlzLmRpcmVjdGlvbiA9IGRpcmVjdGlvbjtcbiAgICB0aGlzLnpJbmRleCA9IDE7XG4gIH1cbiAgXG4gIG1vdmUoKSB7XG4gICAgaWYgKHRoaXMuZGlyZWN0aW9uID09PSAncmlnaHQnKSB7XG4gICAgICB0aGlzLnggKz0gc3BlZWQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMueCAtPSBzcGVlZDtcbiAgICB9XG4gIH1cbn07IiwiaW1wb3J0ICogYXMgUElYSSBmcm9tICdwaXhpLmpzJztcbmltcG9ydCB7IHNwZWVkIH0gZnJvbSAnLi4vY29uZmlnJztcblxuZXhwb3J0IGNsYXNzIEJhdWxrIGV4dGVuZHMgUElYSS5TcHJpdGUge1xuICBkaXJlY3Rpb246IHN0cmluZztcbiAgdHlwZUl0ZW06IHN0cmluZyA9ICdiYXVsayc7XG5cbiAgY29uc3RydWN0b3IoeTogbnVtYmVyLCBkaXJlY3Rpb246IHN0cmluZykge1xuICAgIHN1cGVyKFBJWEkuVGV4dHVyZS5mcm9tKCcuL2ltZy9iYXVsay5wbmcnKSlcbiAgICB0aGlzLmFuY2hvci5zZXQoMC41KTtcbiAgICB0aGlzLnggPSBkaXJlY3Rpb24gPT09ICdyaWdodCcgPyAtMzAgOiA2MzA7XG4gICAgdGhpcy55ID0geTtcbiAgICB0aGlzLmRpcmVjdGlvbiA9IGRpcmVjdGlvbjtcbiAgICB0aGlzLnpJbmRleCA9IDE7XG4gIH1cbiAgXG4gIG1vdmUoKSB7XG4gICAgaWYgKHRoaXMuZGlyZWN0aW9uID09PSAncmlnaHQnKSB7XG4gICAgICB0aGlzLnggKz0gc3BlZWQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMueCAtPSBzcGVlZDtcbiAgICB9XG4gIH1cblxufSIsImltcG9ydCAqIGFzIFBJWEkgZnJvbSAncGl4aS5qcyc7XG5cbmV4cG9ydCBjbGFzcyBUZXh0IGV4dGVuZHMgUElYSS5UZXh0IHtcbiAgY29uc3RydWN0b3Ioc3RyOiBzdHJpbmcpIHtcbiAgICBzdXBlcihgTDogJHtzdHJ9YCk7XG4gICAgdGhpcy5hbmNob3Iuc2V0KDAuNSk7XG4gICAgdGhpcy54ID0gMjA7XG4gICAgdGhpcy55ID0gMTA7XG4gICAgdGhpcy5zdHlsZSA9IG5ldyBQSVhJLlRleHRTdHlsZSh7XG4gICAgICBmaWxsOiAweDAwMDAwMCxcbiAgICAgIGZvbnRTaXplOiAyMCxcbiAgICAgIGZvbnRGYW1pbHk6ICdBcmlhbCcsXG4gICAgICBmb250U3R5bGU6ICdib2xkJyxcbiAgICAgIHN0cm9rZTogMHhGRkZGRkYsXG4gICAgICBzdHJva2VUaGlja25lc3M6IDNcbiAgICB9KTsgXG4gIH1cbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=